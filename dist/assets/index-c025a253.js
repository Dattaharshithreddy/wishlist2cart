function jA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function yo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zE={exports:{}},hh={},$E={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wl=Symbol.for("react.element"),FA=Symbol.for("react.portal"),UA=Symbol.for("react.fragment"),BA=Symbol.for("react.strict_mode"),zA=Symbol.for("react.profiler"),$A=Symbol.for("react.provider"),WA=Symbol.for("react.context"),HA=Symbol.for("react.forward_ref"),qA=Symbol.for("react.suspense"),GA=Symbol.for("react.memo"),KA=Symbol.for("react.lazy"),Lv=Symbol.iterator;function QA(t){return t===null||typeof t!="object"?null:(t=Lv&&t[Lv]||t["@@iterator"],typeof t=="function"?t:null)}var WE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HE=Object.assign,qE={};function vo(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||WE}vo.prototype.isReactComponent={};vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GE(){}GE.prototype=vo.prototype;function wm(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||WE}var Em=wm.prototype=new GE;Em.constructor=wm;HE(Em,vo.prototype);Em.isPureReactComponent=!0;var jv=Array.isArray,KE=Object.prototype.hasOwnProperty,Tm={current:null},QE={key:!0,ref:!0,__self:!0,__source:!0};function YE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KE.call(e,r)&&!QE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wl,type:t,key:s,ref:o,props:i,_owner:Tm.current}}function YA(t,e){return{$$typeof:wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xm(t){return typeof t=="object"&&t!==null&&t.$$typeof===wl}function XA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fv=/\/+/g;function Cd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XA(""+t.key):e.toString(36)}function Du(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wl:case FA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Cd(o,0):r,jv(i)?(n="",t!=null&&(n=t.replace(Fv,"$&/")+"/"),Du(i,e,n,"",function(c){return c})):i!=null&&(xm(i)&&(i=YA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Cd(s,a);o+=Du(s,e,n,l,i)}else if(l=QA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Cd(s,a++),o+=Du(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],i=0;return Du(t,r,"","",function(s){return e.call(n,s,i++)}),r}function JA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},Ou={transition:null},ZA={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:Ou,ReactCurrentOwner:Tm};function XE(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!xm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=vo;oe.Fragment=UA;oe.Profiler=zA;oe.PureComponent=wm;oe.StrictMode=BA;oe.Suspense=qA;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZA;oe.act=XE;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)KE.call(e,l)&&!QE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:wl,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:WA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$A,_context:t},t.Consumer=t};oe.createElement=YE;oe.createFactory=function(t){var e=YE.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:HA,render:t}};oe.isValidElement=xm;oe.lazy=function(t){return{$$typeof:KA,_payload:{_status:-1,_result:t},_init:JA}};oe.memo=function(t,e){return{$$typeof:GA,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Ou.transition;Ou.transition={};try{t()}finally{Ou.transition=e}};oe.unstable_act=XE;oe.useCallback=function(t,e){return kt.current.useCallback(t,e)};oe.useContext=function(t){return kt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return kt.current.useEffect(t,e)};oe.useId=function(){return kt.current.useId()};oe.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return kt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};oe.useRef=function(t){return kt.current.useRef(t)};oe.useState=function(t){return kt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return kt.current.useTransition()};oe.version="18.3.1";$E.exports=oe;var P=$E.exports;const Ne=yo(P),JE=jA({__proto__:null,default:Ne},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR=P,tR=Symbol.for("react.element"),nR=Symbol.for("react.fragment"),rR=Object.prototype.hasOwnProperty,iR=eR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sR={key:!0,ref:!0,__self:!0,__source:!0};function ZE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rR.call(e,r)&&!sR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tR,type:t,key:s,ref:o,props:i,_owner:iR.current}}hh.Fragment=nR;hh.jsx=ZE;hh.jsxs=ZE;zE.exports=hh;var g=zE.exports,kf={},eT={exports:{}},Yt={},tT={exports:{}},nT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,q){var Y=B.length;B.push(q);e:for(;0<Y;){var K=Y-1>>>1,ie=B[K];if(0<i(ie,q))B[K]=q,B[Y]=ie,Y=K;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var q=B[0],Y=B.pop();if(Y!==q){B[0]=Y;e:for(var K=0,ie=B.length,ne=ie>>>1;K<ne;){var Tt=2*(K+1)-1,Jt=B[Tt],xt=Tt+1,Bt=B[xt];if(0>i(Jt,Y))xt<ie&&0>i(Bt,Jt)?(B[K]=Bt,B[xt]=Y,K=xt):(B[K]=Jt,B[Tt]=Y,K=Tt);else if(xt<ie&&0>i(Bt,Y))B[K]=Bt,B[xt]=Y,K=xt;else break e}}return q}function i(B,q){var Y=B.sortIndex-q.sortIndex;return Y!==0?Y:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,p=3,y=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=B)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function b(B){if(S=!1,_(B),!E)if(n(l)!==null)E=!0,se(O);else{var q=n(c);q!==null&&_e(b,q.startTime-B)}}function O(B,q){E=!1,S&&(S=!1,T(w),w=-1),y=!0;var Y=p;try{for(_(q),d=n(l);d!==null&&(!(d.expirationTime>q)||B&&!V());){var K=d.callback;if(typeof K=="function"){d.callback=null,p=d.priorityLevel;var ie=K(d.expirationTime<=q);q=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(l)&&r(l),_(q)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var Tt=n(c);Tt!==null&&_e(b,Tt.startTime-q),ne=!1}return ne}finally{d=null,p=Y,y=!1}}var L=!1,I=null,w=-1,A=5,R=-1;function V(){return!(t.unstable_now()-R<A)}function N(){if(I!==null){var B=t.unstable_now();R=B;var q=!0;try{q=I(!0,B)}finally{q?k():(L=!1,I=null)}}else L=!1}var k;if(typeof v=="function")k=function(){v(N)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,me=$.port2;$.port1.onmessage=N,k=function(){me.postMessage(null)}}else k=function(){C(N,0)};function se(B){I=B,L||(L=!0,k())}function _e(B,q){w=C(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,se(O))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var Y=p;p=q;try{return B()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=p;p=B;try{return q()}finally{p=Y}},t.unstable_scheduleCallback=function(B,q,Y){var K=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,B){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Y+ie,B={id:h++,callback:q,priorityLevel:B,startTime:Y,expirationTime:ie,sortIndex:-1},Y>K?(B.sortIndex=Y,e(c,B),n(l)===null&&B===n(c)&&(S?(T(w),w=-1):S=!0,_e(b,Y-K))):(B.sortIndex=ie,e(l,B),E||y||(E=!0,se(O))),B},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(B){var q=p;return function(){var Y=p;p=q;try{return B.apply(this,arguments)}finally{p=Y}}}})(nT);tT.exports=nT;var oR=tT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR=P,Kt=oR;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rT=new Set,Fa={};function ss(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(Fa[t]=e,t=0;t<e.length;t++)rT.add(e[t])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=Object.prototype.hasOwnProperty,lR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uv={},Bv={};function uR(t){return bf.call(Bv,t)?!0:bf.call(Uv,t)?!1:lR.test(t)?Bv[t]=!0:(Uv[t]=!0,!1)}function cR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hR(t,e,n,r){if(e===null||typeof e>"u"||cR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function Im(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sm,Im);lt[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sm,Im);lt[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sm,Im);lt[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cm(t,e,n,r){var i=lt.hasOwnProperty(e)?lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hR(e,n,i,r)&&(n=null),r||i===null?uR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mr=aR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),iT=Symbol.for("react.provider"),sT=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Vf=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),oT=Symbol.for("react.offscreen"),zv=Symbol.iterator;function qo(t){return t===null||typeof t!="object"?null:(t=zv&&t[zv]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Pd;function la(t){if(Pd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pd=e&&e[1]||""}return`
`+Pd+t}var Ad=!1;function Rd(t,e){if(!t||Ad)return"";Ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ad=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?la(t):""}function dR(t){switch(t.tag){case 5:return la(t.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return t=Rd(t.type,!1),t;case 11:return t=Rd(t.type.render,!1),t;case 1:return t=Rd(t.type,!0),t;default:return""}}function Of(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case Is:return"Portal";case Nf:return"Profiler";case Pm:return"StrictMode";case Vf:return"Suspense";case Df:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sT:return(t.displayName||"Context")+".Consumer";case iT:return(t._context.displayName||"Context")+".Provider";case Am:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rm:return e=t.displayName||null,e!==null?e:Of(t.type)||"Memo";case Rr:e=t._payload,t=t._init;try{return Of(t(e))}catch{}}return null}function fR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Of(e);case 8:return e===Pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pR(t){var e=aT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=pR(t))}function lT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mf(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $v(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uT(t,e){e=e.checked,e!=null&&Cm(t,"checked",e,!1)}function Lf(t,e){uT(t,e);var n=ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&jf(t,e.type,ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jf(t,e,n){(e!=="number"||sc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ua=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ri(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ff(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ua(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ri(n)}}function cT(t,e){var n=ri(e.value),r=ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var au,dT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ua(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mR=["Webkit","ms","Moz","O"];Object.keys(_a).forEach(function(t){mR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_a[e]=_a[t]})});function fT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_a.hasOwnProperty(t)&&_a[t]?(""+e).trim():e+"px"}function pT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gR=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(t,e){if(e){if(gR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function zf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function km(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,zs=null,$s=null;function Gv(t){if(t=xl(t)){if(typeof Wf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=gh(e),Wf(t.stateNode,t.type,e))}}function mT(t){zs?$s?$s.push(t):$s=[t]:zs=t}function gT(){if(zs){var t=zs,e=$s;if($s=zs=null,Gv(t),e)for(t=0;t<e.length;t++)Gv(e[t])}}function yT(t,e){return t(e)}function vT(){}var kd=!1;function _T(t,e,n){if(kd)return t(e,n);kd=!0;try{return yT(t,e,n)}finally{kd=!1,(zs!==null||$s!==null)&&(vT(),gT())}}function Ba(t,e){var n=t.stateNode;if(n===null)return null;var r=gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Hf=!1;if(or)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Hf=!1}function yR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var wa=!1,oc=null,ac=!1,qf=null,vR={onError:function(t){wa=!0,oc=t}};function _R(t,e,n,r,i,s,o,a,l){wa=!1,oc=null,yR.apply(vR,arguments)}function wR(t,e,n,r,i,s,o,a,l){if(_R.apply(this,arguments),wa){if(wa){var c=oc;wa=!1,oc=null}else throw Error(U(198));ac||(ac=!0,qf=c)}}function os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kv(t){if(os(t)!==t)throw Error(U(188))}function ER(t){var e=t.alternate;if(!e){if(e=os(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Kv(i),t;if(s===r)return Kv(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function ET(t){return t=ER(t),t!==null?TT(t):null}function TT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=TT(t);if(e!==null)return e;t=t.sibling}return null}var xT=Kt.unstable_scheduleCallback,Qv=Kt.unstable_cancelCallback,TR=Kt.unstable_shouldYield,xR=Kt.unstable_requestPaint,$e=Kt.unstable_now,SR=Kt.unstable_getCurrentPriorityLevel,bm=Kt.unstable_ImmediatePriority,ST=Kt.unstable_UserBlockingPriority,lc=Kt.unstable_NormalPriority,IR=Kt.unstable_LowPriority,IT=Kt.unstable_IdlePriority,dh=null,Vn=null;function CR(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(dh,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:RR,PR=Math.log,AR=Math.LN2;function RR(t){return t>>>=0,t===0?32:31-(PR(t)/AR|0)|0}var lu=64,uu=4194304;function ca(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ca(a):(s&=o,s!==0&&(r=ca(s)))}else o=n&~i,o!==0?r=ca(o):s!==0&&(r=ca(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sn(e),i=1<<n,r|=t[n],e&=~i;return r}function kR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=kR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Gf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function CT(){var t=lu;return lu<<=1,!(lu&4194240)&&(lu=64),t}function bd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function El(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function NR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function PT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AT,Vm,RT,kT,bT,Kf=!1,cu=[],Br=null,zr=null,$r=null,za=new Map,$a=new Map,Nr=[],VR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yv(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(e.pointerId)}}function Ko(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xl(e),e!==null&&Vm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function DR(t,e,n,r,i){switch(e){case"focusin":return Br=Ko(Br,t,e,n,r,i),!0;case"dragenter":return zr=Ko(zr,t,e,n,r,i),!0;case"mouseover":return $r=Ko($r,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return za.set(s,Ko(za.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$a.set(s,Ko($a.get(s)||null,t,e,n,r,i)),!0}return!1}function NT(t){var e=Oi(t.target);if(e!==null){var n=os(e);if(n!==null){if(e=n.tag,e===13){if(e=wT(n),e!==null){t.blockedOn=e,bT(t.priority,function(){RT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$f=r,n.target.dispatchEvent(r),$f=null}else return e=xl(n),e!==null&&Vm(e),t.blockedOn=n,!1;e.shift()}return!0}function Xv(t,e,n){Mu(t)&&n.delete(e)}function OR(){Kf=!1,Br!==null&&Mu(Br)&&(Br=null),zr!==null&&Mu(zr)&&(zr=null),$r!==null&&Mu($r)&&($r=null),za.forEach(Xv),$a.forEach(Xv)}function Qo(t,e){t.blockedOn===e&&(t.blockedOn=null,Kf||(Kf=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,OR)))}function Wa(t){function e(i){return Qo(i,t)}if(0<cu.length){Qo(cu[0],t);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Br!==null&&Qo(Br,t),zr!==null&&Qo(zr,t),$r!==null&&Qo($r,t),za.forEach(e),$a.forEach(e),n=0;n<Nr.length;n++)r=Nr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)NT(n),n.blockedOn===null&&Nr.shift()}var Ws=mr.ReactCurrentBatchConfig,cc=!0;function MR(t,e,n,r){var i=ye,s=Ws.transition;Ws.transition=null;try{ye=1,Dm(t,e,n,r)}finally{ye=i,Ws.transition=s}}function LR(t,e,n,r){var i=ye,s=Ws.transition;Ws.transition=null;try{ye=4,Dm(t,e,n,r)}finally{ye=i,Ws.transition=s}}function Dm(t,e,n,r){if(cc){var i=Qf(t,e,n,r);if(i===null)Bd(t,e,r,hc,n),Yv(t,r);else if(DR(i,t,e,n,r))r.stopPropagation();else if(Yv(t,r),e&4&&-1<VR.indexOf(t)){for(;i!==null;){var s=xl(i);if(s!==null&&AT(s),s=Qf(t,e,n,r),s===null&&Bd(t,e,r,hc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bd(t,e,r,null,n)}}var hc=null;function Qf(t,e,n,r){if(hc=null,t=km(r),t=Oi(t),t!==null)if(e=os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hc=t,null}function VT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SR()){case bm:return 1;case ST:return 4;case lc:case IR:return 16;case IT:return 536870912;default:return 16}default:return 16}}var Lr=null,Om=null,Lu=null;function DT(){if(Lu)return Lu;var t,e=Om,n=e.length,r,i="value"in Lr?Lr.value:Lr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Lu=i.slice(t,1<r?1-r:void 0)}function ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function Jv(){return!1}function Xt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hu:Jv,this.isPropagationStopped=Jv,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=Xt(_o),Tl=Le({},_o,{view:0,detail:0}),jR=Xt(Tl),Nd,Vd,Yo,fh=Le({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yo&&(Yo&&t.type==="mousemove"?(Nd=t.screenX-Yo.screenX,Vd=t.screenY-Yo.screenY):Vd=Nd=0,Yo=t),Nd)},movementY:function(t){return"movementY"in t?t.movementY:Vd}}),Zv=Xt(fh),FR=Le({},fh,{dataTransfer:0}),UR=Xt(FR),BR=Le({},Tl,{relatedTarget:0}),Dd=Xt(BR),zR=Le({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),$R=Xt(zR),WR=Le({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HR=Xt(WR),qR=Le({},_o,{data:0}),e0=Xt(qR),GR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QR[t])?!!e[t]:!1}function Lm(){return YR}var XR=Le({},Tl,{key:function(t){if(t.key){var e=GR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(t){return t.type==="keypress"?ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JR=Xt(XR),ZR=Le({},fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t0=Xt(ZR),ek=Le({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),tk=Xt(ek),nk=Le({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),rk=Xt(nk),ik=Le({},fh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sk=Xt(ik),ok=[9,13,27,32],jm=or&&"CompositionEvent"in window,Ea=null;or&&"documentMode"in document&&(Ea=document.documentMode);var ak=or&&"TextEvent"in window&&!Ea,OT=or&&(!jm||Ea&&8<Ea&&11>=Ea),n0=String.fromCharCode(32),r0=!1;function MT(t,e){switch(t){case"keyup":return ok.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function lk(t,e){switch(t){case"compositionend":return LT(e);case"keypress":return e.which!==32?null:(r0=!0,n0);case"textInput":return t=e.data,t===n0&&r0?null:t;default:return null}}function uk(t,e){if(Ps)return t==="compositionend"||!jm&&MT(t,e)?(t=DT(),Lu=Om=Lr=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OT&&e.locale!=="ko"?null:e.data;default:return null}}var ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ck[t.type]:e==="textarea"}function jT(t,e,n,r){mT(r),e=dc(e,"onChange"),0<e.length&&(n=new Mm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ta=null,Ha=null;function hk(t){QT(t,0)}function ph(t){var e=ks(t);if(lT(e))return t}function dk(t,e){if(t==="change")return e}var FT=!1;if(or){var Od;if(or){var Md="oninput"in document;if(!Md){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),Md=typeof s0.oninput=="function"}Od=Md}else Od=!1;FT=Od&&(!document.documentMode||9<document.documentMode)}function o0(){Ta&&(Ta.detachEvent("onpropertychange",UT),Ha=Ta=null)}function UT(t){if(t.propertyName==="value"&&ph(Ha)){var e=[];jT(e,Ha,t,km(t)),_T(hk,e)}}function fk(t,e,n){t==="focusin"?(o0(),Ta=e,Ha=n,Ta.attachEvent("onpropertychange",UT)):t==="focusout"&&o0()}function pk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ph(Ha)}function mk(t,e){if(t==="click")return ph(e)}function gk(t,e){if(t==="input"||t==="change")return ph(e)}function yk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:yk;function qa(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bf.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function a0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function l0(t,e){var n=a0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a0(n)}}function BT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zT(){for(var t=window,e=sc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sc(t.document)}return e}function Fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vk(t){var e=zT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BT(n.ownerDocument.documentElement,n)){if(r!==null&&Fm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=l0(n,s);var o=l0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _k=or&&"documentMode"in document&&11>=document.documentMode,As=null,Yf=null,xa=null,Xf=!1;function u0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xf||As==null||As!==sc(r)||(r=As,"selectionStart"in r&&Fm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xa&&qa(xa,r)||(xa=r,r=dc(Yf,"onSelect"),0<r.length&&(e=new Mm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=As)))}function du(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rs={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},Ld={},$T={};or&&($T=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function mh(t){if(Ld[t])return Ld[t];if(!Rs[t])return t;var e=Rs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $T)return Ld[t]=e[n];return t}var WT=mh("animationend"),HT=mh("animationiteration"),qT=mh("animationstart"),GT=mh("transitionend"),KT=new Map,c0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(t,e){KT.set(t,e),ss(e,[t])}for(var jd=0;jd<c0.length;jd++){var Fd=c0[jd],wk=Fd.toLowerCase(),Ek=Fd[0].toUpperCase()+Fd.slice(1);pi(wk,"on"+Ek)}pi(WT,"onAnimationEnd");pi(HT,"onAnimationIteration");pi(qT,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(GT,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function h0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wR(r,e,void 0,t),t.currentTarget=null}function QT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;h0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;h0(i,a,c),s=l}}}if(ac)throw t=qf,ac=!1,qf=null,t}function Ie(t,e){var n=e[np];n===void 0&&(n=e[np]=new Set);var r=t+"__bubble";n.has(r)||(YT(e,t,2,!1),n.add(r))}function Ud(t,e,n){var r=0;e&&(r|=4),YT(n,t,r,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Ga(t){if(!t[fu]){t[fu]=!0,rT.forEach(function(n){n!=="selectionchange"&&(Tk.has(n)||Ud(n,!1,t),Ud(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,Ud("selectionchange",!1,e))}}function YT(t,e,n,r){switch(VT(e)){case 1:var i=MR;break;case 4:i=LR;break;default:i=Dm}n=i.bind(null,e,n,t),i=void 0,!Hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Oi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}_T(function(){var c=s,h=km(n),d=[];e:{var p=KT.get(t);if(p!==void 0){var y=Mm,E=t;switch(t){case"keypress":if(ju(n)===0)break e;case"keydown":case"keyup":y=JR;break;case"focusin":E="focus",y=Dd;break;case"focusout":E="blur",y=Dd;break;case"beforeblur":case"afterblur":y=Dd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=UR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=tk;break;case WT:case HT:case qT:y=$R;break;case GT:y=rk;break;case"scroll":y=jR;break;case"wheel":y=sk;break;case"copy":case"cut":case"paste":y=HR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=t0}var S=(e&4)!==0,C=!S&&t==="scroll",T=S?p!==null?p+"Capture":null:p;S=[];for(var v=c,_;v!==null;){_=v;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,T!==null&&(b=Ba(v,T),b!=null&&S.push(Ka(v,b,_)))),C)break;v=v.return}0<S.length&&(p=new y(p,E,null,n,h),d.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==$f&&(E=n.relatedTarget||n.fromElement)&&(Oi(E)||E[ar]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=c,E=E?Oi(E):null,E!==null&&(C=os(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=c),y!==E)){if(S=Zv,b="onMouseLeave",T="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(S=t0,b="onPointerLeave",T="onPointerEnter",v="pointer"),C=y==null?p:ks(y),_=E==null?p:ks(E),p=new S(b,v+"leave",y,n,h),p.target=C,p.relatedTarget=_,b=null,Oi(h)===c&&(S=new S(T,v+"enter",E,n,h),S.target=_,S.relatedTarget=C,b=S),C=b,y&&E)t:{for(S=y,T=E,v=0,_=S;_;_=vs(_))v++;for(_=0,b=T;b;b=vs(b))_++;for(;0<v-_;)S=vs(S),v--;for(;0<_-v;)T=vs(T),_--;for(;v--;){if(S===T||T!==null&&S===T.alternate)break t;S=vs(S),T=vs(T)}S=null}else S=null;y!==null&&d0(d,p,y,S,!1),E!==null&&C!==null&&d0(d,C,E,S,!0)}}e:{if(p=c?ks(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var O=dk;else if(i0(p))if(FT)O=gk;else{O=pk;var L=fk}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=mk);if(O&&(O=O(t,c))){jT(d,O,n,h);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&jf(p,"number",p.value)}switch(L=c?ks(c):window,t){case"focusin":(i0(L)||L.contentEditable==="true")&&(As=L,Yf=c,xa=null);break;case"focusout":xa=Yf=As=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,u0(d,n,h);break;case"selectionchange":if(_k)break;case"keydown":case"keyup":u0(d,n,h)}var I;if(jm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ps?MT(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(OT&&n.locale!=="ko"&&(Ps||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ps&&(I=DT()):(Lr=h,Om="value"in Lr?Lr.value:Lr.textContent,Ps=!0)),L=dc(c,w),0<L.length&&(w=new e0(w,t,null,n,h),d.push({event:w,listeners:L}),I?w.data=I:(I=LT(n),I!==null&&(w.data=I)))),(I=ak?lk(t,n):uk(t,n))&&(c=dc(c,"onBeforeInput"),0<c.length&&(h=new e0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=I))}QT(d,e)})}function Ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ba(t,n),s!=null&&r.unshift(Ka(t,s,i)),s=Ba(t,e),s!=null&&r.push(Ka(t,s,i))),t=t.return}return r}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function d0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ba(n,s),l!=null&&o.unshift(Ka(n,l,a))):i||(l=Ba(n,s),l!=null&&o.push(Ka(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xk=/\r\n?/g,Sk=/\u0000|\uFFFD/g;function f0(t){return(typeof t=="string"?t:""+t).replace(xk,`
`).replace(Sk,"")}function pu(t,e,n){if(e=f0(e),f0(t)!==e&&n)throw Error(U(425))}function fc(){}var Jf=null,Zf=null;function ep(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tp=typeof setTimeout=="function"?setTimeout:void 0,Ik=typeof clearTimeout=="function"?clearTimeout:void 0,p0=typeof Promise=="function"?Promise:void 0,Ck=typeof queueMicrotask=="function"?queueMicrotask:typeof p0<"u"?function(t){return p0.resolve(null).then(t).catch(Pk)}:tp;function Pk(t){setTimeout(function(){throw t})}function zd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wa(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function m0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Nn="__reactFiber$"+wo,Qa="__reactProps$"+wo,ar="__reactContainer$"+wo,np="__reactEvents$"+wo,Ak="__reactListeners$"+wo,Rk="__reactHandles$"+wo;function Oi(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ar]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=m0(t);t!==null;){if(n=t[Nn])return n;t=m0(t)}return e}t=n,n=t.parentNode}return null}function xl(t){return t=t[Nn]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function gh(t){return t[Qa]||null}var rp=[],bs=-1;function mi(t){return{current:t}}function Pe(t){0>bs||(t.current=rp[bs],rp[bs]=null,bs--)}function Ee(t,e){bs++,rp[bs]=t.current,t.current=e}var ii={},wt=mi(ii),Mt=mi(!1),qi=ii;function Zs(t,e){var n=t.type.contextTypes;if(!n)return ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(t){return t=t.childContextTypes,t!=null}function pc(){Pe(Mt),Pe(wt)}function g0(t,e,n){if(wt.current!==ii)throw Error(U(168));Ee(wt,e),Ee(Mt,n)}function XT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,fR(t)||"Unknown",i));return Le({},n,r)}function mc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ii,qi=wt.current,Ee(wt,t),Ee(Mt,Mt.current),!0}function y0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=XT(t,e,qi),r.__reactInternalMemoizedMergedChildContext=t,Pe(Mt),Pe(wt),Ee(wt,t)):Pe(Mt),Ee(Mt,n)}var Kn=null,yh=!1,$d=!1;function JT(t){Kn===null?Kn=[t]:Kn.push(t)}function kk(t){yh=!0,JT(t)}function gi(){if(!$d&&Kn!==null){$d=!0;var t=0,e=ye;try{var n=Kn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kn=null,yh=!1}catch(i){throw Kn!==null&&(Kn=Kn.slice(t+1)),xT(bm,gi),i}finally{ye=e,$d=!1}}return null}var Ns=[],Vs=0,gc=null,yc=0,nn=[],rn=0,Gi=null,Yn=1,Xn="";function Ai(t,e){Ns[Vs++]=yc,Ns[Vs++]=gc,gc=t,yc=e}function ZT(t,e,n){nn[rn++]=Yn,nn[rn++]=Xn,nn[rn++]=Gi,Gi=t;var r=Yn;t=Xn;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yn=1<<32-Sn(e)+i|n<<i|r,Xn=s+t}else Yn=1<<s|n<<i|r,Xn=t}function Um(t){t.return!==null&&(Ai(t,1),ZT(t,1,0))}function Bm(t){for(;t===gc;)gc=Ns[--Vs],Ns[Vs]=null,yc=Ns[--Vs],Ns[Vs]=null;for(;t===Gi;)Gi=nn[--rn],nn[rn]=null,Xn=nn[--rn],nn[rn]=null,Yn=nn[--rn],nn[rn]=null}var Gt=null,qt=null,ke=!1,wn=null;function e1(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function v0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,qt=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gi!==null?{id:Yn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,qt=null,!0):!1;default:return!1}}function ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sp(t){if(ke){var e=qt;if(e){var n=e;if(!v0(t,e)){if(ip(t))throw Error(U(418));e=Wr(n.nextSibling);var r=Gt;e&&v0(t,e)?e1(r,n):(t.flags=t.flags&-4097|2,ke=!1,Gt=t)}}else{if(ip(t))throw Error(U(418));t.flags=t.flags&-4097|2,ke=!1,Gt=t}}}function _0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function mu(t){if(t!==Gt)return!1;if(!ke)return _0(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ep(t.type,t.memoizedProps)),e&&(e=qt)){if(ip(t))throw t1(),Error(U(418));for(;e;)e1(t,e),e=Wr(e.nextSibling)}if(_0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Gt?Wr(t.stateNode.nextSibling):null;return!0}function t1(){for(var t=qt;t;)t=Wr(t.nextSibling)}function eo(){qt=Gt=null,ke=!1}function zm(t){wn===null?wn=[t]:wn.push(t)}var bk=mr.ReactCurrentBatchConfig;function Xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w0(t){var e=t._init;return e(t._payload)}function n1(t){function e(T,v){if(t){var _=T.deletions;_===null?(T.deletions=[v],T.flags|=16):_.push(v)}}function n(T,v){if(!t)return null;for(;v!==null;)e(T,v),v=v.sibling;return null}function r(T,v){for(T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function i(T,v){return T=Kr(T,v),T.index=0,T.sibling=null,T}function s(T,v,_){return T.index=_,t?(_=T.alternate,_!==null?(_=_.index,_<v?(T.flags|=2,v):_):(T.flags|=2,v)):(T.flags|=1048576,v)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,v,_,b){return v===null||v.tag!==6?(v=Yd(_,T.mode,b),v.return=T,v):(v=i(v,_),v.return=T,v)}function l(T,v,_,b){var O=_.type;return O===Cs?h(T,v,_.props.children,b,_.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Rr&&w0(O)===v.type)?(b=i(v,_.props),b.ref=Xo(T,v,_),b.return=T,b):(b=Hu(_.type,_.key,_.props,null,T.mode,b),b.ref=Xo(T,v,_),b.return=T,b)}function c(T,v,_,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Xd(_,T.mode,b),v.return=T,v):(v=i(v,_.children||[]),v.return=T,v)}function h(T,v,_,b,O){return v===null||v.tag!==7?(v=$i(_,T.mode,b,O),v.return=T,v):(v=i(v,_),v.return=T,v)}function d(T,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yd(""+v,T.mode,_),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case su:return _=Hu(v.type,v.key,v.props,null,T.mode,_),_.ref=Xo(T,null,v),_.return=T,_;case Is:return v=Xd(v,T.mode,_),v.return=T,v;case Rr:var b=v._init;return d(T,b(v._payload),_)}if(ua(v)||qo(v))return v=$i(v,T.mode,_,null),v.return=T,v;gu(T,v)}return null}function p(T,v,_,b){var O=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:a(T,v,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case su:return _.key===O?l(T,v,_,b):null;case Is:return _.key===O?c(T,v,_,b):null;case Rr:return O=_._init,p(T,v,O(_._payload),b)}if(ua(_)||qo(_))return O!==null?null:h(T,v,_,b,null);gu(T,_)}return null}function y(T,v,_,b,O){if(typeof b=="string"&&b!==""||typeof b=="number")return T=T.get(_)||null,a(v,T,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case su:return T=T.get(b.key===null?_:b.key)||null,l(v,T,b,O);case Is:return T=T.get(b.key===null?_:b.key)||null,c(v,T,b,O);case Rr:var L=b._init;return y(T,v,_,L(b._payload),O)}if(ua(b)||qo(b))return T=T.get(_)||null,h(v,T,b,O,null);gu(v,b)}return null}function E(T,v,_,b){for(var O=null,L=null,I=v,w=v=0,A=null;I!==null&&w<_.length;w++){I.index>w?(A=I,I=null):A=I.sibling;var R=p(T,I,_[w],b);if(R===null){I===null&&(I=A);break}t&&I&&R.alternate===null&&e(T,I),v=s(R,v,w),L===null?O=R:L.sibling=R,L=R,I=A}if(w===_.length)return n(T,I),ke&&Ai(T,w),O;if(I===null){for(;w<_.length;w++)I=d(T,_[w],b),I!==null&&(v=s(I,v,w),L===null?O=I:L.sibling=I,L=I);return ke&&Ai(T,w),O}for(I=r(T,I);w<_.length;w++)A=y(I,T,w,_[w],b),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?w:A.key),v=s(A,v,w),L===null?O=A:L.sibling=A,L=A);return t&&I.forEach(function(V){return e(T,V)}),ke&&Ai(T,w),O}function S(T,v,_,b){var O=qo(_);if(typeof O!="function")throw Error(U(150));if(_=O.call(_),_==null)throw Error(U(151));for(var L=O=null,I=v,w=v=0,A=null,R=_.next();I!==null&&!R.done;w++,R=_.next()){I.index>w?(A=I,I=null):A=I.sibling;var V=p(T,I,R.value,b);if(V===null){I===null&&(I=A);break}t&&I&&V.alternate===null&&e(T,I),v=s(V,v,w),L===null?O=V:L.sibling=V,L=V,I=A}if(R.done)return n(T,I),ke&&Ai(T,w),O;if(I===null){for(;!R.done;w++,R=_.next())R=d(T,R.value,b),R!==null&&(v=s(R,v,w),L===null?O=R:L.sibling=R,L=R);return ke&&Ai(T,w),O}for(I=r(T,I);!R.done;w++,R=_.next())R=y(I,T,w,R.value,b),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?w:R.key),v=s(R,v,w),L===null?O=R:L.sibling=R,L=R);return t&&I.forEach(function(N){return e(T,N)}),ke&&Ai(T,w),O}function C(T,v,_,b){if(typeof _=="object"&&_!==null&&_.type===Cs&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case su:e:{for(var O=_.key,L=v;L!==null;){if(L.key===O){if(O=_.type,O===Cs){if(L.tag===7){n(T,L.sibling),v=i(L,_.props.children),v.return=T,T=v;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Rr&&w0(O)===L.type){n(T,L.sibling),v=i(L,_.props),v.ref=Xo(T,L,_),v.return=T,T=v;break e}n(T,L);break}else e(T,L);L=L.sibling}_.type===Cs?(v=$i(_.props.children,T.mode,b,_.key),v.return=T,T=v):(b=Hu(_.type,_.key,_.props,null,T.mode,b),b.ref=Xo(T,v,_),b.return=T,T=b)}return o(T);case Is:e:{for(L=_.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(T,v.sibling),v=i(v,_.children||[]),v.return=T,T=v;break e}else{n(T,v);break}else e(T,v);v=v.sibling}v=Xd(_,T.mode,b),v.return=T,T=v}return o(T);case Rr:return L=_._init,C(T,v,L(_._payload),b)}if(ua(_))return E(T,v,_,b);if(qo(_))return S(T,v,_,b);gu(T,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(T,v.sibling),v=i(v,_),v.return=T,T=v):(n(T,v),v=Yd(_,T.mode,b),v.return=T,T=v),o(T)):n(T,v)}return C}var to=n1(!0),r1=n1(!1),vc=mi(null),_c=null,Ds=null,$m=null;function Wm(){$m=Ds=_c=null}function Hm(t){var e=vc.current;Pe(vc),t._currentValue=e}function op(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hs(t,e){_c=t,$m=Ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if($m!==t)if(t={context:t,memoizedValue:e,next:null},Ds===null){if(_c===null)throw Error(U(308));Ds=t,_c.dependencies={lanes:0,firstContext:t}}else Ds=Ds.next=t;return e}var Mi=null;function qm(t){Mi===null?Mi=[t]:Mi.push(t)}function i1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qm(e)):(n.next=i.next,i.next=n),e.interleaved=n,lr(t,r)}function lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kr=!1;function Gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,lr(t,n)}return i=r.interleaved,i===null?(e.next=e,qm(r)):(e.next=i.next,i.next=e),r.interleaved=e,lr(t,n)}function Fu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}function E0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wc(t,e,n,r){var i=t.updateQueue;kr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,S=a;switch(p=e,y=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){d=E.call(y,d,p);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,p=typeof E=="function"?E.call(y,d,p):E,p==null)break e;d=Le({},d,p);break e;case 2:kr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,l=d):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qi|=o,t.lanes=o,t.memoizedState=d}}function T0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Sl={},Dn=mi(Sl),Ya=mi(Sl),Xa=mi(Sl);function Li(t){if(t===Sl)throw Error(U(174));return t}function Km(t,e){switch(Ee(Xa,e),Ee(Ya,t),Ee(Dn,Sl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uf(e,t)}Pe(Dn),Ee(Dn,e)}function no(){Pe(Dn),Pe(Ya),Pe(Xa)}function o1(t){Li(Xa.current);var e=Li(Dn.current),n=Uf(e,t.type);e!==n&&(Ee(Ya,t),Ee(Dn,n))}function Qm(t){Ya.current===t&&(Pe(Dn),Pe(Ya))}var be=mi(0);function Ec(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wd=[];function Ym(){for(var t=0;t<Wd.length;t++)Wd[t]._workInProgressVersionPrimary=null;Wd.length=0}var Uu=mr.ReactCurrentDispatcher,Hd=mr.ReactCurrentBatchConfig,Ki=0,Oe=null,Ke=null,et=null,Tc=!1,Sa=!1,Ja=0,Nk=0;function ft(){throw Error(U(321))}function Xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Jm(t,e,n,r,i,s){if(Ki=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uu.current=t===null||t.memoizedState===null?Mk:Lk,t=n(r,i),Sa){s=0;do{if(Sa=!1,Ja=0,25<=s)throw Error(U(301));s+=1,et=Ke=null,e.updateQueue=null,Uu.current=jk,t=n(r,i)}while(Sa)}if(Uu.current=xc,e=Ke!==null&&Ke.next!==null,Ki=0,et=Ke=Oe=null,Tc=!1,e)throw Error(U(300));return t}function Zm(){var t=Ja!==0;return Ja=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Oe.memoizedState=et=t:et=et.next=t,et}function fn(){if(Ke===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=et===null?Oe.memoizedState:et.next;if(e!==null)et=e,Ke=t;else{if(t===null)throw Error(U(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},et===null?Oe.memoizedState=et=t:et=et.next=t}return et}function Za(t,e){return typeof e=="function"?e(t):e}function qd(t){var e=fn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Ki&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Oe.lanes|=h,Qi|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Pn(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,Qi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gd(t){var e=fn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(Ot=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function a1(){}function l1(t,e){var n=Oe,r=fn(),i=e(),s=!Pn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ot=!0),r=r.queue,eg(h1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,el(9,c1.bind(null,n,r,i,e),void 0,null),nt===null)throw Error(U(349));Ki&30||u1(n,e,i)}return i}function u1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c1(t,e,n,r){e.value=n,e.getSnapshot=r,d1(e)&&f1(t)}function h1(t,e,n){return n(function(){d1(e)&&f1(t)})}function d1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function f1(t){var e=lr(t,1);e!==null&&In(e,t,1,-1)}function x0(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:t},e.queue=t,t=t.dispatch=Ok.bind(null,Oe,t),[e.memoizedState,t]}function el(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p1(){return fn().memoizedState}function Bu(t,e,n,r){var i=kn();Oe.flags|=t,i.memoizedState=el(1|e,n,void 0,r===void 0?null:r)}function vh(t,e,n,r){var i=fn();r=r===void 0?null:r;var s=void 0;if(Ke!==null){var o=Ke.memoizedState;if(s=o.destroy,r!==null&&Xm(r,o.deps)){i.memoizedState=el(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=el(1|e,n,s,r)}function S0(t,e){return Bu(8390656,8,t,e)}function eg(t,e){return vh(2048,8,t,e)}function m1(t,e){return vh(4,2,t,e)}function g1(t,e){return vh(4,4,t,e)}function y1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function v1(t,e,n){return n=n!=null?n.concat([t]):null,vh(4,4,y1.bind(null,e,t),n)}function tg(){}function _1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w1(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E1(t,e,n){return Ki&21?(Pn(n,e)||(n=CT(),Oe.lanes|=n,Qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=n)}function Vk(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Hd.transition;Hd.transition={};try{t(!1),e()}finally{ye=n,Hd.transition=r}}function T1(){return fn().memoizedState}function Dk(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},x1(t))S1(e,n);else if(n=i1(t,e,n,r),n!==null){var i=Rt();In(n,t,r,i),I1(n,e,r)}}function Ok(t,e,n){var r=Gr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(x1(t))S1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,o)){var l=e.interleaved;l===null?(i.next=i,qm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=i1(t,e,i,r),n!==null&&(i=Rt(),In(n,t,r,i),I1(n,e,r))}}function x1(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function S1(t,e){Sa=Tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}var xc={readContext:dn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},Mk={readContext:dn,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:S0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bu(4194308,4,y1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bu(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Dk.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:x0,useDebugValue:tg,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=x0(!1),e=t[0];return t=Vk.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=kn();if(ke){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),nt===null)throw Error(U(349));Ki&30||u1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,S0(h1.bind(null,r,s,t),[t]),r.flags|=2048,el(9,c1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kn(),e=nt.identifierPrefix;if(ke){var n=Xn,r=Yn;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ja++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Nk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Lk={readContext:dn,useCallback:_1,useContext:dn,useEffect:eg,useImperativeHandle:v1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:w1,useReducer:qd,useRef:p1,useState:function(){return qd(Za)},useDebugValue:tg,useDeferredValue:function(t){var e=fn();return E1(e,Ke.memoizedState,t)},useTransition:function(){var t=qd(Za)[0],e=fn().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:l1,useId:T1,unstable_isNewReconciler:!1},jk={readContext:dn,useCallback:_1,useContext:dn,useEffect:eg,useImperativeHandle:v1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:w1,useReducer:Gd,useRef:p1,useState:function(){return Gd(Za)},useDebugValue:tg,useDeferredValue:function(t){var e=fn();return Ke===null?e.memoizedState=t:E1(e,Ke.memoizedState,t)},useTransition:function(){var t=Gd(Za)[0],e=fn().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:l1,useId:T1,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ap(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _h={isMounted:function(t){return(t=t._reactInternals)?os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Gr(t),s=tr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Hr(t,s,i),e!==null&&(In(e,t,i,r),Fu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Gr(t),s=tr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Hr(t,s,i),e!==null&&(In(e,t,i,r),Fu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Gr(t),i=tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Hr(t,i,r),e!==null&&(In(e,t,r,n),Fu(e,t,r))}};function I0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!qa(n,r)||!qa(i,s):!0}function C1(t,e,n){var r=!1,i=ii,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=Lt(e)?qi:wt.current,r=e.contextTypes,s=(r=r!=null)?Zs(t,i):ii),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_h,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function C0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_h.enqueueReplaceState(e,e.state,null)}function lp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=Lt(e)?qi:wt.current,i.context=Zs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ap(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_h.enqueueReplaceState(i,i.state,null),wc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ro(t,e){try{var n="",r=e;do n+=dR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Kd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Fk=typeof WeakMap=="function"?WeakMap:Map;function P1(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ic||(Ic=!0,_p=r),up(t,e)},n}function A1(t,e,n){n=tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){up(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){up(t,e),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function P0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Fk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Zk.bind(null,t,e,n),e.then(t,t))}function A0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Hr(n,e,1))),n.lanes|=1),t)}var Uk=mr.ReactCurrentOwner,Ot=!1;function At(t,e,n,r){e.child=t===null?r1(e,null,n,r):to(e,t.child,n,r)}function k0(t,e,n,r,i){n=n.render;var s=e.ref;return Hs(e,i),r=Jm(t,e,n,r,s,i),n=Zm(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(ke&&n&&Um(e),e.flags|=1,At(t,e,r,i),e.child)}function b0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ug(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,R1(t,e,s,r,i)):(t=Hu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qa,n(o,r)&&t.ref===e.ref)return ur(t,e,i)}return e.flags|=1,t=Kr(s,r),t.ref=e.ref,t.return=e,e.child=t}function R1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(qa(s,r)&&t.ref===e.ref)if(Ot=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ot=!0);else return e.lanes=t.lanes,ur(t,e,i)}return cp(t,e,n,r,i)}function k1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Ms,$t),$t|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Ms,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ee(Ms,$t),$t|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ee(Ms,$t),$t|=r;return At(t,e,i,n),e.child}function b1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cp(t,e,n,r,i){var s=Lt(n)?qi:wt.current;return s=Zs(e,s),Hs(e,i),n=Jm(t,e,n,r,s,i),r=Zm(),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ur(t,e,i)):(ke&&r&&Um(e),e.flags|=1,At(t,e,n,i),e.child)}function N0(t,e,n,r,i){if(Lt(n)){var s=!0;mc(e)}else s=!1;if(Hs(e,i),e.stateNode===null)zu(t,e),C1(e,n,r),lp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=Lt(n)?qi:wt.current,c=Zs(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&C0(e,o,r,c),kr=!1;var p=e.memoizedState;o.state=p,wc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Mt.current||kr?(typeof h=="function"&&(ap(e,n,h,r),l=e.memoizedState),(a=kr||I0(e,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,s1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=dn(l):(l=Lt(n)?qi:wt.current,l=Zs(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&C0(e,o,r,l),kr=!1,p=e.memoizedState,o.state=p,wc(e,r,o,i);var E=e.memoizedState;a!==d||p!==E||Mt.current||kr?(typeof y=="function"&&(ap(e,n,y,r),E=e.memoizedState),(c=kr||I0(e,n,c,r,p,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return hp(t,e,n,r,s,i)}function hp(t,e,n,r,i,s){b1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&y0(e,n,!1),ur(t,e,s);r=e.stateNode,Uk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=to(e,t.child,null,s),e.child=to(e,null,a,s)):At(t,e,a,s),e.memoizedState=r.state,i&&y0(e,n,!0),e.child}function N1(t){var e=t.stateNode;e.pendingContext?g0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&g0(t,e.context,!1),Km(t,e.containerInfo)}function V0(t,e,n,r,i){return eo(),zm(i),e.flags|=256,At(t,e,n,r),e.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function fp(t){return{baseLanes:t,cachePool:null,transitions:null}}function V1(t,e,n){var r=e.pendingProps,i=be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(be,i&1),t===null)return sp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Th(o,r,0,null),t=$i(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fp(n),e.memoizedState=dp,t):ng(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Bk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Kr(a,s):(s=$i(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dp,r}return s=t.child,t=s.sibling,r=Kr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ng(t,e){return e=Th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&zm(r),to(e,t.child,null,n),t=ng(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Kd(Error(U(422))),yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Th({mode:"visible",children:r.children},i,0,null),s=$i(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&to(e,t.child,null,o),e.child.memoizedState=fp(o),e.memoizedState=dp,s);if(!(e.mode&1))return yu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Kd(s,r,void 0),yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ot||a){if(r=nt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,lr(t,i),In(r,t,i,-1))}return lg(),r=Kd(Error(U(421))),yu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qt=Wr(i.nextSibling),Gt=e,ke=!0,wn=null,t!==null&&(nn[rn++]=Yn,nn[rn++]=Xn,nn[rn++]=Gi,Yn=t.id,Xn=t.overflow,Gi=e),e=ng(e,r.children),e.flags|=4096,e)}function D0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),op(t.return,e,n)}function Qd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function D1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(At(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D0(t,n,e);else if(t.tag===19)D0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ec(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ec(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qd(e,!0,n,null,s);break;case"together":Qd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zk(t,e,n){switch(e.tag){case 3:N1(e),eo();break;case 5:o1(e);break;case 1:Lt(e.type)&&mc(e);break;case 4:Km(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(vc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?V1(t,e,n):(Ee(be,be.current&1),t=ur(t,e,n),t!==null?t.sibling:null);Ee(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return D1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,k1(t,e,n)}return ur(t,e,n)}var O1,pp,M1,L1;O1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pp=function(){};M1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Li(Dn.current);var s=null;switch(n){case"input":i=Mf(t,i),r=Mf(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=Ff(t,i),r=Ff(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fc)}Bf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};L1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jo(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $k(t,e,n){var r=e.pendingProps;switch(Bm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Lt(e.type)&&pc(),pt(e),null;case 3:return r=e.stateNode,no(),Pe(Mt),Pe(wt),Ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(Tp(wn),wn=null))),pp(t,e),pt(e),null;case 5:Qm(e);var i=Li(Xa.current);if(n=e.type,t!==null&&e.stateNode!=null)M1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return pt(e),null}if(t=Li(Dn.current),mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Nn]=e,r[Qa]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<ha.length;i++)Ie(ha[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":$v(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":Hv(r,s),Ie("invalid",r)}Bf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",""+a]):Fa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":ou(r),Wv(r,s,!0);break;case"textarea":ou(r),qv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[Qa]=r,O1(t,e,!1,!1),e.stateNode=t;e:{switch(o=zf(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<ha.length;i++)Ie(ha[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":$v(t,r),i=Mf(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":Hv(t,r),i=Ff(t,r),Ie("invalid",t);break;default:i=r}Bf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ua(t,l):typeof l=="number"&&Ua(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",t):l!=null&&Cm(t,s,l,o))}switch(n){case"input":ou(t),Wv(t,r,!1);break;case"textarea":ou(t),qv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ri(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)L1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Li(Xa.current),Li(Dn.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(s=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return pt(e),null;case 13:if(Pe(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&qt!==null&&e.mode&1&&!(e.flags&128))t1(),eo(),e.flags|=98560,s=!1;else if(s=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Nn]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),s=!1}else wn!==null&&(Tp(wn),wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Xe===0&&(Xe=3):lg())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return no(),pp(t,e),t===null&&Ga(e.stateNode.containerInfo),pt(e),null;case 10:return Hm(e.type._context),pt(e),null;case 17:return Lt(e.type)&&pc(),pt(e),null;case 19:if(Pe(be),s=e.memoizedState,s===null)return pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Jo(s,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ec(t),o!==null){for(e.flags|=128,Jo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&$e()>io&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ec(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return pt(e),null}else 2*$e()-s.renderingStartTime>io&&n!==1073741824&&(e.flags|=128,r=!0,Jo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$e(),e.sibling=null,n=be.current,Ee(be,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return ag(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$t&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function Wk(t,e){switch(Bm(e),e.tag){case 1:return Lt(e.type)&&pc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return no(),Pe(Mt),Pe(wt),Ym(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qm(e),null;case 13:if(Pe(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(be),null;case 4:return no(),null;case 10:return Hm(e.type._context),null;case 22:case 23:return ag(),null;case 24:return null;default:return null}}var vu=!1,vt=!1,Hk=typeof WeakSet=="function"?WeakSet:Set,H=null;function Os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function mp(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var O0=!1;function qk(t,e){if(Jf=cc,t=zT(),Fm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(l=o),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zf={focusedElem:t,selectionRange:n},cc=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,C=E.memoizedState,T=e.stateNode,v=T.getSnapshotBeforeUpdate(e.elementType===e.type?S:vn(e.type,S),C);T.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){Ue(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return E=O0,O0=!1,E}function Ia(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mp(e,n,s)}i=i.next}while(i!==r)}}function wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function j1(t){var e=t.alternate;e!==null&&(t.alternate=null,j1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Qa],delete e[np],delete e[Ak],delete e[Rk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F1(t){return t.tag===5||t.tag===3||t.tag===4}function M0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fc));else if(r!==4&&(t=t.child,t!==null))for(yp(t,e,n),t=t.sibling;t!==null;)yp(t,e,n),t=t.sibling}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}var it=null,_n=!1;function Sr(t,e,n){for(n=n.child;n!==null;)U1(t,e,n),n=n.sibling}function U1(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(dh,n)}catch{}switch(n.tag){case 5:vt||Os(n,e);case 6:var r=it,i=_n;it=null,Sr(t,e,n),it=r,_n=i,it!==null&&(_n?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(_n?(t=it,n=n.stateNode,t.nodeType===8?zd(t.parentNode,n):t.nodeType===1&&zd(t,n),Wa(t)):zd(it,n.stateNode));break;case 4:r=it,i=_n,it=n.stateNode.containerInfo,_n=!0,Sr(t,e,n),it=r,_n=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mp(n,e,o),i=i.next}while(i!==r)}Sr(t,e,n);break;case 1:if(!vt&&(Os(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}Sr(t,e,n);break;case 21:Sr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,Sr(t,e,n),vt=r):Sr(t,e,n);break;default:Sr(t,e,n)}}function L0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Hk),e.forEach(function(r){var i=tb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,_n=!1;break e;case 3:it=a.stateNode.containerInfo,_n=!0;break e;case 4:it=a.stateNode.containerInfo,_n=!0;break e}a=a.return}if(it===null)throw Error(U(160));U1(s,o,i),it=null,_n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ue(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B1(e,t),e=e.sibling}function B1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),Rn(t),r&4){try{Ia(3,t,t.return),wh(3,t)}catch(S){Ue(t,t.return,S)}try{Ia(5,t,t.return)}catch(S){Ue(t,t.return,S)}}break;case 1:gn(e,t),Rn(t),r&512&&n!==null&&Os(n,n.return);break;case 5:if(gn(e,t),Rn(t),r&512&&n!==null&&Os(n,n.return),t.flags&32){var i=t.stateNode;try{Ua(i,"")}catch(S){Ue(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&uT(i,s),zf(a,o);var c=zf(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?pT(i,d):h==="dangerouslySetInnerHTML"?dT(i,d):h==="children"?Ua(i,d):Cm(i,h,d,c)}switch(a){case"input":Lf(i,s);break;case"textarea":cT(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Bs(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?Bs(i,!!s.multiple,s.defaultValue,!0):Bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qa]=s}catch(S){Ue(t,t.return,S)}}break;case 6:if(gn(e,t),Rn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Ue(t,t.return,S)}}break;case 3:if(gn(e,t),Rn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wa(e.containerInfo)}catch(S){Ue(t,t.return,S)}break;case 4:gn(e,t),Rn(t);break;case 13:gn(e,t),Rn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sg=$e())),r&4&&L0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||h,gn(e,t),vt=c):gn(e,t),Rn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(d=H=h;H!==null;){switch(p=H,y=p.child,p.tag){case 0:case 11:case 14:case 15:Ia(4,p,p.return);break;case 1:Os(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){Ue(r,n,S)}}break;case 5:Os(p,p.return);break;case 22:if(p.memoizedState!==null){F0(d);continue}}y!==null?(y.return=p,H=y):F0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fT("display",o))}catch(S){Ue(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(S){Ue(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gn(e,t),Rn(t),r&4&&L0(t);break;case 21:break;default:gn(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F1(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ua(i,""),r.flags&=-33);var s=M0(t);vp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=M0(t);yp(t,a,o);break;default:throw Error(U(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gk(t,e,n){H=t,z1(t)}function z1(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vt;a=vu;var c=vt;if(vu=o,(vt=l)&&!c)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?U0(i):l!==null?(l.return=o,H=l):U0(i);for(;s!==null;)H=s,z1(s),s=s.sibling;H=i,vu=a,vt=c}j0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):j0(t)}}function j0(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&T0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}T0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Wa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}vt||e.flags&512&&gp(e)}catch(p){Ue(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function F0(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function U0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wh(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ue(e,i,l)}}var s=e.return;try{gp(e)}catch(l){Ue(e,s,l)}break;case 5:var o=e.return;try{gp(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var Kk=Math.ceil,Sc=mr.ReactCurrentDispatcher,rg=mr.ReactCurrentOwner,hn=mr.ReactCurrentBatchConfig,fe=0,nt=null,qe=null,at=0,$t=0,Ms=mi(0),Xe=0,tl=null,Qi=0,Eh=0,ig=0,Ca=null,Dt=null,sg=0,io=1/0,Gn=null,Ic=!1,_p=null,qr=null,_u=!1,jr=null,Cc=0,Pa=0,wp=null,$u=-1,Wu=0;function Rt(){return fe&6?$e():$u!==-1?$u:$u=$e()}function Gr(t){return t.mode&1?fe&2&&at!==0?at&-at:bk.transition!==null?(Wu===0&&(Wu=CT()),Wu):(t=ye,t!==0||(t=window.event,t=t===void 0?16:VT(t.type)),t):1}function In(t,e,n,r){if(50<Pa)throw Pa=0,wp=null,Error(U(185));El(t,n,r),(!(fe&2)||t!==nt)&&(t===nt&&(!(fe&2)&&(Eh|=n),Xe===4&&Vr(t,at)),jt(t,r),n===1&&fe===0&&!(e.mode&1)&&(io=$e()+500,yh&&gi()))}function jt(t,e){var n=t.callbackNode;bR(t,e);var r=uc(t,t===nt?at:0);if(r===0)n!==null&&Qv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Qv(n),e===1)t.tag===0?kk(B0.bind(null,t)):JT(B0.bind(null,t)),Ck(function(){!(fe&6)&&gi()}),n=null;else{switch(PT(r)){case 1:n=bm;break;case 4:n=ST;break;case 16:n=lc;break;case 536870912:n=IT;break;default:n=lc}n=Y1(n,$1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $1(t,e){if($u=-1,Wu=0,fe&6)throw Error(U(327));var n=t.callbackNode;if(qs()&&t.callbackNode!==n)return null;var r=uc(t,t===nt?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pc(t,r);else{e=r;var i=fe;fe|=2;var s=H1();(nt!==t||at!==e)&&(Gn=null,io=$e()+500,zi(t,e));do try{Xk();break}catch(a){W1(t,a)}while(1);Wm(),Sc.current=s,fe=i,qe!==null?e=0:(nt=null,at=0,e=Xe)}if(e!==0){if(e===2&&(i=Gf(t),i!==0&&(r=i,e=Ep(t,i))),e===1)throw n=tl,zi(t,0),Vr(t,r),jt(t,$e()),n;if(e===6)Vr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Qk(i)&&(e=Pc(t,r),e===2&&(s=Gf(t),s!==0&&(r=s,e=Ep(t,s))),e===1))throw n=tl,zi(t,0),Vr(t,r),jt(t,$e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Ri(t,Dt,Gn);break;case 3:if(Vr(t,r),(r&130023424)===r&&(e=sg+500-$e(),10<e)){if(uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tp(Ri.bind(null,t,Dt,Gn),e);break}Ri(t,Dt,Gn);break;case 4:if(Vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kk(r/1960))-r,10<r){t.timeoutHandle=tp(Ri.bind(null,t,Dt,Gn),r);break}Ri(t,Dt,Gn);break;case 5:Ri(t,Dt,Gn);break;default:throw Error(U(329))}}}return jt(t,$e()),t.callbackNode===n?$1.bind(null,t):null}function Ep(t,e){var n=Ca;return t.current.memoizedState.isDehydrated&&(zi(t,e).flags|=256),t=Pc(t,e),t!==2&&(e=Dt,Dt=n,e!==null&&Tp(e)),t}function Tp(t){Dt===null?Dt=t:Dt.push.apply(Dt,t)}function Qk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~ig,e&=~Eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),r=1<<n;t[n]=-1,e&=~r}}function B0(t){if(fe&6)throw Error(U(327));qs();var e=uc(t,0);if(!(e&1))return jt(t,$e()),null;var n=Pc(t,e);if(t.tag!==0&&n===2){var r=Gf(t);r!==0&&(e=r,n=Ep(t,r))}if(n===1)throw n=tl,zi(t,0),Vr(t,e),jt(t,$e()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ri(t,Dt,Gn),jt(t,$e()),null}function og(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(io=$e()+500,yh&&gi())}}function Yi(t){jr!==null&&jr.tag===0&&!(fe&6)&&qs();var e=fe;fe|=1;var n=hn.transition,r=ye;try{if(hn.transition=null,ye=1,t)return t()}finally{ye=r,hn.transition=n,fe=e,!(fe&6)&&gi()}}function ag(){$t=Ms.current,Pe(Ms)}function zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ik(n)),qe!==null)for(n=qe.return;n!==null;){var r=n;switch(Bm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pc();break;case 3:no(),Pe(Mt),Pe(wt),Ym();break;case 5:Qm(r);break;case 4:no();break;case 13:Pe(be);break;case 19:Pe(be);break;case 10:Hm(r.type._context);break;case 22:case 23:ag()}n=n.return}if(nt=t,qe=t=Kr(t.current,null),at=$t=e,Xe=0,tl=null,ig=Eh=Qi=0,Dt=Ca=null,Mi!==null){for(e=0;e<Mi.length;e++)if(n=Mi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Mi=null}return t}function W1(t,e){do{var n=qe;try{if(Wm(),Uu.current=xc,Tc){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tc=!1}if(Ki=0,et=Ke=Oe=null,Sa=!1,Ja=0,rg.current=null,n===null||n.return===null){Xe=1,tl=e,qe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=A0(o);if(y!==null){y.flags&=-257,R0(y,o,a,s,e),y.mode&1&&P0(s,c,e),e=y,l=c;var E=e.updateQueue;if(E===null){var S=new Set;S.add(l),e.updateQueue=S}else E.add(l);break e}else{if(!(e&1)){P0(s,c,e),lg();break e}l=Error(U(426))}}else if(ke&&a.mode&1){var C=A0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),R0(C,o,a,s,e),zm(ro(l,a));break e}}s=l=ro(l,a),Xe!==4&&(Xe=2),Ca===null?Ca=[s]:Ca.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=P1(s,l,e);E0(s,T);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qr===null||!qr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=A1(s,a,e);E0(s,b);break e}}s=s.return}while(s!==null)}G1(n)}catch(O){e=O,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(1)}function H1(){var t=Sc.current;return Sc.current=xc,t===null?xc:t}function lg(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),nt===null||!(Qi&268435455)&&!(Eh&268435455)||Vr(nt,at)}function Pc(t,e){var n=fe;fe|=2;var r=H1();(nt!==t||at!==e)&&(Gn=null,zi(t,e));do try{Yk();break}catch(i){W1(t,i)}while(1);if(Wm(),fe=n,Sc.current=r,qe!==null)throw Error(U(261));return nt=null,at=0,Xe}function Yk(){for(;qe!==null;)q1(qe)}function Xk(){for(;qe!==null&&!TR();)q1(qe)}function q1(t){var e=Q1(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?G1(t):qe=e,rg.current=null}function G1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Wk(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,qe=null;return}}else if(n=$k(n,e,$t),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Xe===0&&(Xe=5)}function Ri(t,e,n){var r=ye,i=hn.transition;try{hn.transition=null,ye=1,Jk(t,e,n,r)}finally{hn.transition=i,ye=r}return null}function Jk(t,e,n,r){do qs();while(jr!==null);if(fe&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(NR(t,s),t===nt&&(qe=nt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,Y1(lc,function(){return qs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hn.transition,hn.transition=null;var o=ye;ye=1;var a=fe;fe|=4,rg.current=null,qk(t,n),B1(n,t),vk(Zf),cc=!!Jf,Zf=Jf=null,t.current=n,Gk(n),xR(),fe=a,ye=o,hn.transition=s}else t.current=n;if(_u&&(_u=!1,jr=t,Cc=i),s=t.pendingLanes,s===0&&(qr=null),CR(n.stateNode),jt(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ic)throw Ic=!1,t=_p,_p=null,t;return Cc&1&&t.tag!==0&&qs(),s=t.pendingLanes,s&1?t===wp?Pa++:(Pa=0,wp=t):Pa=0,gi(),null}function qs(){if(jr!==null){var t=PT(Cc),e=hn.transition,n=ye;try{if(hn.transition=null,ye=16>t?16:t,jr===null)var r=!1;else{if(t=jr,jr=null,Cc=0,fe&6)throw Error(U(331));var i=fe;for(fe|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:Ia(8,h,s)}var d=h.child;if(d!==null)d.return=h,H=d;else for(;H!==null;){h=H;var p=h.sibling,y=h.return;if(j1(h),h===c){H=null;break}if(p!==null){p.return=y,H=p;break}H=y}}}var E=s.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ia(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,H=T;break e}H=s.return}}var v=t.current;for(H=v;H!==null;){o=H;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,H=_;else e:for(o=v;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wh(9,a)}}catch(O){Ue(a,a.return,O)}if(a===o){H=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,H=b;break e}H=a.return}}if(fe=i,gi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(dh,t)}catch{}r=!0}return r}finally{ye=n,hn.transition=e}}return!1}function z0(t,e,n){e=ro(n,e),e=P1(t,e,1),t=Hr(t,e,1),e=Rt(),t!==null&&(El(t,1,e),jt(t,e))}function Ue(t,e,n){if(t.tag===3)z0(t,t,n);else for(;e!==null;){if(e.tag===3){z0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){t=ro(n,t),t=A1(e,t,1),e=Hr(e,t,1),t=Rt(),e!==null&&(El(e,1,t),jt(e,t));break}}e=e.return}}function Zk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(at&n)===n&&(Xe===4||Xe===3&&(at&130023424)===at&&500>$e()-sg?zi(t,0):ig|=n),jt(t,e)}function K1(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=Rt();t=lr(t,e),t!==null&&(El(t,e,n),jt(t,n))}function eb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),K1(t,n)}function tb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),K1(t,n)}var Q1;Q1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ot=!1,zk(t,e,n);Ot=!!(t.flags&131072)}else Ot=!1,ke&&e.flags&1048576&&ZT(e,yc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zu(t,e),t=e.pendingProps;var i=Zs(e,wt.current);Hs(e,n),i=Jm(null,e,r,t,i,n);var s=Zm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(s=!0,mc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gm(e),i.updater=_h,e.stateNode=i,i._reactInternals=e,lp(e,r,t,n),e=hp(null,e,r,!0,s,n)):(e.tag=0,ke&&s&&Um(e),At(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rb(r),t=vn(r,t),i){case 0:e=cp(null,e,r,t,n);break e;case 1:e=N0(null,e,r,t,n);break e;case 11:e=k0(null,e,r,t,n);break e;case 14:e=b0(null,e,r,vn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),cp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),N0(t,e,r,i,n);case 3:e:{if(N1(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,s1(t,e),wc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ro(Error(U(423)),e),e=V0(t,e,r,n,i);break e}else if(r!==i){i=ro(Error(U(424)),e),e=V0(t,e,r,n,i);break e}else for(qt=Wr(e.stateNode.containerInfo.firstChild),Gt=e,ke=!0,wn=null,n=r1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===i){e=ur(t,e,n);break e}At(t,e,r,n)}e=e.child}return e;case 5:return o1(e),t===null&&sp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ep(r,i)?o=null:s!==null&&ep(r,s)&&(e.flags|=32),b1(t,e),At(t,e,o,n),e.child;case 6:return t===null&&sp(e),null;case 13:return V1(t,e,n);case 4:return Km(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=to(e,null,r,n):At(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),k0(t,e,r,i,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ee(vc,r._currentValue),r._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!Mt.current){e=ur(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=tr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),op(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),op(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}At(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hs(e,n),i=dn(i),r=r(i),e.flags|=1,At(t,e,r,n),e.child;case 14:return r=e.type,i=vn(r,e.pendingProps),i=vn(r.type,i),b0(t,e,r,i,n);case 15:return R1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),zu(t,e),e.tag=1,Lt(r)?(t=!0,mc(e)):t=!1,Hs(e,n),C1(e,r,i),lp(e,r,i,n),hp(null,e,r,!0,t,n);case 19:return D1(t,e,n);case 22:return k1(t,e,n)}throw Error(U(156,e.tag))};function Y1(t,e){return xT(t,e)}function nb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new nb(t,e,n,r)}function ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rb(t){if(typeof t=="function")return ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Am)return 11;if(t===Rm)return 14}return 2}function Kr(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ug(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cs:return $i(n.children,i,s,e);case Pm:o=8,i|=8;break;case Nf:return t=cn(12,n,e,i|2),t.elementType=Nf,t.lanes=s,t;case Vf:return t=cn(13,n,e,i),t.elementType=Vf,t.lanes=s,t;case Df:return t=cn(19,n,e,i),t.elementType=Df,t.lanes=s,t;case oT:return Th(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iT:o=10;break e;case sT:o=9;break e;case Am:o=11;break e;case Rm:o=14;break e;case Rr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $i(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Th(t,e,n,r){return t=cn(22,t,r,e),t.elementType=oT,t.lanes=n,t.stateNode={isHidden:!1},t}function Yd(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Xd(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ib(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bd(0),this.expirationTimes=bd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cg(t,e,n,r,i,s,o,a,l){return t=new ib(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(s),t}function sb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function X1(t){if(!t)return ii;t=t._reactInternals;e:{if(os(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Lt(n))return XT(t,n,e)}return e}function J1(t,e,n,r,i,s,o,a,l){return t=cg(n,r,!0,t,i,s,o,a,l),t.context=X1(null),n=t.current,r=Rt(),i=Gr(n),s=tr(r,i),s.callback=e??null,Hr(n,s,i),t.current.lanes=i,El(t,i,r),jt(t,r),t}function xh(t,e,n,r){var i=e.current,s=Rt(),o=Gr(i);return n=X1(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hr(i,e,o),t!==null&&(In(t,i,o,s),Fu(t,i,o)),o}function Ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hg(t,e){$0(t,e),(t=t.alternate)&&$0(t,e)}function ob(){return null}var Z1=typeof reportError=="function"?reportError:function(t){console.error(t)};function dg(t){this._internalRoot=t}Sh.prototype.render=dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));xh(t,e,null,null)};Sh.prototype.unmount=dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yi(function(){xh(null,t,null,null)}),e[ar]=null}};function Sh(t){this._internalRoot=t}Sh.prototype.unstable_scheduleHydration=function(t){if(t){var e=kT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nr.length&&e!==0&&e<Nr[n].priority;n++);Nr.splice(n,0,t),n===0&&NT(t)}};function fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W0(){}function ab(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ac(o);s.call(c)}}var o=J1(e,r,t,0,null,!1,!1,"",W0);return t._reactRootContainer=o,t[ar]=o.current,Ga(t.nodeType===8?t.parentNode:t),Yi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ac(l);a.call(c)}}var l=cg(t,0,!1,null,null,!1,!1,"",W0);return t._reactRootContainer=l,t[ar]=l.current,Ga(t.nodeType===8?t.parentNode:t),Yi(function(){xh(e,l,n,r)}),l}function Ch(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ac(o);a.call(l)}}xh(e,o,t,i)}else o=ab(n,e,t,i,r);return Ac(o)}AT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ca(e.pendingLanes);n!==0&&(Nm(e,n|1),jt(e,$e()),!(fe&6)&&(io=$e()+500,gi()))}break;case 13:Yi(function(){var r=lr(t,1);if(r!==null){var i=Rt();In(r,t,1,i)}}),hg(t,1)}};Vm=function(t){if(t.tag===13){var e=lr(t,134217728);if(e!==null){var n=Rt();In(e,t,134217728,n)}hg(t,134217728)}};RT=function(t){if(t.tag===13){var e=Gr(t),n=lr(t,e);if(n!==null){var r=Rt();In(n,t,e,r)}hg(t,e)}};kT=function(){return ye};bT=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Wf=function(t,e,n){switch(e){case"input":if(Lf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gh(r);if(!i)throw Error(U(90));lT(r),Lf(r,i)}}}break;case"textarea":cT(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};yT=og;vT=Yi;var lb={usingClientEntryPoint:!1,Events:[xl,ks,gh,mT,gT,og]},Zo={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ub={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ET(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||ob,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{dh=wu.inject(ub),Vn=wu}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lb;Yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(e))throw Error(U(200));return sb(t,e,null,n)};Yt.createRoot=function(t,e){if(!fg(t))throw Error(U(299));var n=!1,r="",i=Z1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cg(t,1,!1,null,null,n,!1,r,i),t[ar]=e.current,Ga(t.nodeType===8?t.parentNode:t),new dg(e)};Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=ET(e),t=t===null?null:t.stateNode,t};Yt.flushSync=function(t){return Yi(t)};Yt.hydrate=function(t,e,n){if(!Ih(e))throw Error(U(200));return Ch(null,t,e,!0,n)};Yt.hydrateRoot=function(t,e,n){if(!fg(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Z1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J1(e,null,t,1,n??null,i,!1,s,o),t[ar]=e.current,Ga(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sh(e)};Yt.render=function(t,e,n){if(!Ih(e))throw Error(U(200));return Ch(null,t,e,!1,n)};Yt.unmountComponentAtNode=function(t){if(!Ih(t))throw Error(U(40));return t._reactRootContainer?(Yi(function(){Ch(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1};Yt.unstable_batchedUpdates=og;Yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ih(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Ch(t,e,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function ex(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ex)}catch(t){console.error(t)}}ex(),eT.exports=Yt;var Ph=eT.exports;const cb=yo(Ph);var H0=Ph;kf.createRoot=H0.createRoot,kf.hydrateRoot=H0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const q0="popstate";function hb(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return xp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rc(i)}return fb(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function db(){return Math.random().toString(36).substr(2,8)}function G0(t,e){return{usr:t.state,key:t.key,idx:e}}function xp(t,e,n,r){return n===void 0&&(n=null),nl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Eo(e):e,{state:n,key:e&&e.key||r||db()})}function Rc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fb(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Fr.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(nl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Fr.Pop;let C=h(),T=C==null?null:C-c;c=C,l&&l({action:a,location:S.location,delta:T})}function p(C,T){a=Fr.Push;let v=xp(S.location,C,T);n&&n(v,C),c=h()+1;let _=G0(v,c),b=S.createHref(v);try{o.pushState(_,"",b)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(b)}s&&l&&l({action:a,location:S.location,delta:1})}function y(C,T){a=Fr.Replace;let v=xp(S.location,C,T);n&&n(v,C),c=h();let _=G0(v,c),b=S.createHref(v);o.replaceState(_,"",b),s&&l&&l({action:a,location:S.location,delta:0})}function E(C){let T=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof C=="string"?C:Rc(C);return v=v.replace(/ $/,"%20"),Me(T,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,T)}let S={get action(){return a},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(q0,d),l=C,()=>{i.removeEventListener(q0,d),l=null}},createHref(C){return e(i,C)},createURL:E,encodeLocation(C){let T=E(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:y,go(C){return o.go(C)}};return S}var K0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(K0||(K0={}));function pb(t,e,n){return n===void 0&&(n="/"),mb(t,e,n,!1)}function mb(t,e,n,r){let i=typeof e=="string"?Eo(e):e,s=so(i.pathname||"/",n);if(s==null)return null;let o=nx(t);gb(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Pb(s);a=Ib(o[l],c,r)}return a}function nx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Qr([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nx(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:xb(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of rx(s.path))i(s,o,l)}),e}function rx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=rx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function gb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Sb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yb=/^:[\w-]+$/,vb=3,_b=2,wb=1,Eb=10,Tb=-2,Q0=t=>t==="*";function xb(t,e){let n=t.split("/"),r=n.length;return n.some(Q0)&&(r+=Tb),e&&(r+=_b),n.filter(i=>!Q0(i)).reduce((i,s)=>i+(yb.test(s)?vb:s===""?wb:Eb),r)}function Sb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Ib(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=kc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=kc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Qr([s,d.pathname]),pathnameBase:bb(Qr([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Qr([s,d.pathnameBase]))}return o}function kc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Cb(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let S=a[d]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const E=a[d];return y&&!E?c[p]=void 0:c[p]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Cb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Pb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function so(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ab(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Eo(t):t;return{pathname:n?n.startsWith("/")?n:Rb(n,e):e,search:Nb(r),hash:Vb(i)}}function Rb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pg(t,e){let n=kb(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Eo(t):(i=nl({},t),Me(!i.pathname||!i.pathname.includes("?"),Jd("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),Jd("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),Jd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=Ab(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Qr=t=>t.join("/").replace(/\/\/+/g,"/"),bb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Vb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Db(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ix=["post","put","patch","delete"];new Set(ix);const Ob=["get",...ix];new Set(Ob);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}const Ah=P.createContext(null),sx=P.createContext(null),gr=P.createContext(null),Rh=P.createContext(null),yi=P.createContext({outlet:null,matches:[],isDataRoute:!1}),ox=P.createContext(null);function Mb(t,e){let{relative:n}=e===void 0?{}:e;To()||Me(!1);let{basename:r,navigator:i}=P.useContext(gr),{hash:s,pathname:o,search:a}=kh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function To(){return P.useContext(Rh)!=null}function vi(){return To()||Me(!1),P.useContext(Rh).location}function ax(t){P.useContext(gr).static||P.useLayoutEffect(t)}function xo(){let{isDataRoute:t}=P.useContext(yi);return t?Qb():Lb()}function Lb(){To()||Me(!1);let t=P.useContext(Ah),{basename:e,future:n,navigator:r}=P.useContext(gr),{matches:i}=P.useContext(yi),{pathname:s}=vi(),o=JSON.stringify(pg(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return ax(()=>{a.current=!0}),P.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=mg(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qr([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function kh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(gr),{matches:i}=P.useContext(yi),{pathname:s}=vi(),o=JSON.stringify(pg(i,r.v7_relativeSplatPath));return P.useMemo(()=>mg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function jb(t,e){return Fb(t,e)}function Fb(t,e,n,r){To()||Me(!1);let{navigator:i}=P.useContext(gr),{matches:s}=P.useContext(yi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=vi(),h;if(e){var d;let C=typeof e=="string"?Eo(e):e;l==="/"||(d=C.pathname)!=null&&d.startsWith(l)||Me(!1),h=C}else h=c;let p=h.pathname||"/",y=p;if(l!=="/"){let C=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=pb(t,{pathname:y}),S=Wb(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Qr([l,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:Qr([l,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&S?P.createElement(Rh.Provider,{value:{location:rl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Fr.Pop}},S):S}function Ub(){let t=Kb(),e=Db(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,s)}const Bb=P.createElement(Ub,null);class zb extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(yi.Provider,{value:this.props.routeContext},P.createElement(ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $b(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(Ah);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(yi.Provider,{value:e},r)}function Wb(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Me(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=n,E=d.route.loader&&p[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,p)=>{let y,E=!1,S=null,C=null;n&&(y=a&&d.route.id?a[d.route.id]:void 0,S=d.route.errorElement||Bb,l&&(c<0&&p===0?(Yb("route-fallback",!1),E=!0,C=null):c===p&&(E=!0,C=d.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,p+1)),v=()=>{let _;return y?_=S:E?_=C:d.route.Component?_=P.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=h,P.createElement($b,{match:d,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?P.createElement(zb,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):v()},null)}var lx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lx||{}),bc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bc||{});function Hb(t){let e=P.useContext(Ah);return e||Me(!1),e}function qb(t){let e=P.useContext(sx);return e||Me(!1),e}function Gb(t){let e=P.useContext(yi);return e||Me(!1),e}function ux(t){let e=Gb(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function Kb(){var t;let e=P.useContext(ox),n=qb(bc.UseRouteError),r=ux(bc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Qb(){let{router:t}=Hb(lx.UseNavigateStable),e=ux(bc.UseNavigateStable),n=P.useRef(!1);return ax(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rl({fromRouteId:e},s)))},[t,e])}const Y0={};function Yb(t,e,n){!e&&!Y0[t]&&(Y0[t]=!0)}function Xb(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Jb(t){let{to:e,replace:n,state:r,relative:i}=t;To()||Me(!1);let{future:s,static:o}=P.useContext(gr),{matches:a}=P.useContext(yi),{pathname:l}=vi(),c=xo(),h=mg(e,pg(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return P.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Pr(t){Me(!1)}function Zb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fr.Pop,navigator:s,static:o=!1,future:a}=t;To()&&Me(!1);let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:o,future:rl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Eo(r));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:E="default"}=r,S=P.useMemo(()=>{let C=so(h,l);return C==null?null:{location:{pathname:C,search:d,hash:p,state:y,key:E},navigationType:i}},[l,h,d,p,y,E,i]);return S==null?null:P.createElement(gr.Provider,{value:c},P.createElement(Rh.Provider,{children:n,value:S}))}function eN(t){let{children:e,location:n}=t;return jb(Sp(e),n)}new Promise(()=>{});function Sp(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,Sp(r.props.children,s));return}r.type!==Pr&&Me(!1),!r.props.index||!r.props.children||Me(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}function cx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nN(t,e){return t.button===0&&(!e||e==="_self")&&!tN(t)}const rN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],sN="6";try{window.__reactRouterVersion=sN}catch{}const oN=P.createContext({isTransitioning:!1}),aN="startTransition",X0=JE[aN];function lN(t){let{basename:e,children:n,future:r,window:i}=t,s=P.useRef();s.current==null&&(s.current=hb({window:i,v5Compat:!0}));let o=s.current,[a,l]=P.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=P.useCallback(d=>{c&&X0?X0(()=>l(d)):l(d)},[l,c]);return P.useLayoutEffect(()=>o.listen(h),[o,h]),P.useEffect(()=>Xb(r),[r]),P.createElement(Zb,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const uN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d}=e,p=cx(e,rN),{basename:y}=P.useContext(gr),E,S=!1;if(typeof c=="string"&&cN.test(c)&&(E=c,uN))try{let _=new URL(window.location.href),b=c.startsWith("//")?new URL(_.protocol+c):new URL(c),O=so(b.pathname,y);b.origin===_.origin&&O!=null?c=O+b.search+b.hash:S=!0}catch{}let C=Mb(c,{relative:i}),T=dN(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function v(_){r&&r(_),_.defaultPrevented||T(_)}return P.createElement("a",Nc({},p,{href:E||C,onClick:S||s?r:v,ref:n,target:l}))}),Ci=P.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:h}=e,d=cx(e,iN),p=kh(l,{relative:d.relative}),y=vi(),E=P.useContext(sx),{navigator:S,basename:C}=P.useContext(gr),T=E!=null&&fN(p)&&c===!0,v=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,_=y.pathname,b=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(_=_.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&C&&(b=so(b,C)||b);const O=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let L=_===v||!o&&_.startsWith(v)&&_.charAt(O)==="/",I=b!=null&&(b===v||!o&&b.startsWith(v)&&b.charAt(v.length)==="/"),w={isActive:L,isPending:I,isTransitioning:T},A=L?r:void 0,R;typeof s=="function"?R=s(w):R=[s,L?"active":null,I?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(w):a;return P.createElement(sn,Nc({},d,{"aria-current":A,className:R,ref:n,style:V,to:l,viewTransition:c}),typeof h=="function"?h(w):h)});var Ip;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ip||(Ip={}));var J0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J0||(J0={}));function hN(t){let e=P.useContext(Ah);return e||Me(!1),e}function dN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=xo(),c=vi(),h=kh(t,{relative:o});return P.useCallback(d=>{if(nN(d,n)){d.preventDefault();let p=r!==void 0?r:Rc(c)===Rc(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function fN(t,e){e===void 0&&(e={});let n=P.useContext(oN);n==null&&Me(!1);let{basename:r}=hN(Ip.useViewTransitionState),i=kh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=so(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=so(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kc(i.pathname,o)!=null||kc(i.pathname,s)!=null}const hx=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),bh=P.createContext({}),Nh=P.createContext(null),Vh=typeof document<"u",gg=Vh?P.useLayoutEffect:P.useEffect,dx=P.createContext({strict:!1}),yg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),pN="framerAppearId",fx="data-"+yg(pN);function mN(t,e,n,r){const{visualElement:i}=P.useContext(bh),s=P.useContext(dx),o=P.useContext(Nh),a=P.useContext(hx).reducedMotion,l=P.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;P.useInsertionEffect(()=>{c&&c.update(n,o)});const h=P.useRef(!!(n[fx]&&!window.HandoffComplete));return gg(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),P.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function Ls(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gN(t,e,n){return P.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ls(n)&&(n.current=r))},[e])}function il(t){return typeof t=="string"||Array.isArray(t)}function Dh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const vg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_g=["initial",...vg];function Oh(t){return Dh(t.animate)||_g.some(e=>il(t[e]))}function px(t){return!!(Oh(t)||t.variants)}function yN(t,e){if(Oh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||il(n)?n:void 0,animate:il(r)?r:void 0}}return t.inherit!==!1?e:{}}function vN(t){const{initial:e,animate:n}=yN(t,P.useContext(bh));return P.useMemo(()=>({initial:e,animate:n}),[Z0(e),Z0(n)])}function Z0(t){return Array.isArray(t)?t.join(" "):t}const e_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sl={};for(const t in e_)sl[t]={isEnabled:e=>e_[t].some(n=>!!e[n])};function _N(t){for(const e in t)sl[e]={...sl[e],...t[e]}}const wg=P.createContext({}),mx=P.createContext({}),wN=Symbol.for("motionComponentSymbol");function EN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&_N(t);function s(a,l){let c;const h={...P.useContext(hx),...a,layoutId:TN(a)},{isStatic:d}=h,p=vN(a),y=r(a,d);if(!d&&Vh){p.visualElement=mN(i,y,h,e);const E=P.useContext(mx),S=P.useContext(dx).strict;p.visualElement&&(c=p.visualElement.loadFeatures(h,S,t,E))}return P.createElement(bh.Provider,{value:p},c&&p.visualElement?P.createElement(c,{visualElement:p.visualElement,...h}):null,n(i,a,gN(y,p.visualElement,l),y,d,p.visualElement))}const o=P.forwardRef(s);return o[wN]=i,o}function TN({layoutId:t}){const e=P.useContext(wg).id;return e&&t!==void 0?e+"-"+t:t}function xN(t){function e(r,i={}){return EN(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const SN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eg(t){return typeof t!="string"||t.includes("-")?!1:!!(SN.indexOf(t)>-1||/[A-Z]/.test(t))}const Vc={};function IN(t){Object.assign(Vc,t)}const Il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],as=new Set(Il);function gx(t,{layout:e,layoutId:n}){return as.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vc[t]||t==="opacity")}const Ft=t=>!!(t&&t.getVelocity),CN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PN=Il.length;function AN(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<PN;o++){const a=Il[o];if(t[a]!==void 0){const l=CN[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const yx=t=>e=>typeof e=="string"&&e.startsWith(t),vx=yx("--"),Cp=yx("var(--"),RN=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,kN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,si=(t,e,n)=>Math.min(Math.max(n,t),e),ls={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Aa={...ls,transform:t=>si(0,1,t)},Eu={...ls,default:1},Ra=t=>Math.round(t*1e5)/1e5,Mh=/(-)?([\d]*\.?[\d])+/g,_x=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,bN=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Cl(t){return typeof t=="string"}const Pl=t=>({test:e=>Cl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ar=Pl("deg"),On=Pl("%"),X=Pl("px"),NN=Pl("vh"),VN=Pl("vw"),t_={...On,parse:t=>On.parse(t)/100,transform:t=>On.transform(t*100)},n_={...ls,transform:Math.round},wx={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,size:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:Eu,scaleX:Eu,scaleY:Eu,scaleZ:Eu,skew:Ar,skewX:Ar,skewY:Ar,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:Aa,originX:t_,originY:t_,originZ:X,zIndex:n_,fillOpacity:Aa,strokeOpacity:Aa,numOctaves:n_};function Tg(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,h=!0;for(const d in e){const p=e[d];if(vx(d)){s[d]=p;continue}const y=wx[d],E=kN(p,y);if(as.has(d)){if(l=!0,o[d]=E,!h)continue;p!==(y.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=E):i[d]=E}if(e.transform||(l||r?i.transform=AN(t.transform,n,h,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:y=0}=a;i.transformOrigin=`${d} ${p} ${y}`}}const xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ex(t,e,n){for(const r in e)!Ft(e[r])&&!gx(r,n)&&(t[r]=e[r])}function DN({transformTemplate:t},e,n){return P.useMemo(()=>{const r=xg();return Tg(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function ON(t,e,n){const r=t.style||{},i={};return Ex(i,r,t),Object.assign(i,DN(t,e,n)),t.transformValues?t.transformValues(i):i}function MN(t,e,n){const r={},i=ON(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const LN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LN.has(t)}let Tx=t=>!Dc(t);function jN(t){t&&(Tx=e=>e.startsWith("on")?!Dc(e):t(e))}try{jN(require("@emotion/is-prop-valid").default)}catch{}function FN(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Tx(i)||n===!0&&Dc(i)||!e&&!Dc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function r_(t,e,n){return typeof t=="string"?t:X.transform(e+n*t)}function UN(t,e,n){const r=r_(e,t.x,t.width),i=r_(n,t.y,t.height);return`${r} ${i}`}const BN={offset:"stroke-dashoffset",array:"stroke-dasharray"},zN={offset:"strokeDashoffset",array:"strokeDasharray"};function $N(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?BN:zN;t[s.offset]=X.transform(-r);const o=X.transform(e),a=X.transform(n);t[s.array]=`${o} ${a}`}function Sg(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,p){if(Tg(t,c,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:E,dimensions:S}=t;y.transform&&(S&&(E.transform=y.transform),delete y.transform),S&&(i!==void 0||s!==void 0||E.transform)&&(E.transformOrigin=UN(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&$N(y,o,a,l,!1)}const xx=()=>({...xg(),attrs:{}}),Ig=t=>typeof t=="string"&&t.toLowerCase()==="svg";function WN(t,e,n,r){const i=P.useMemo(()=>{const s=xx();return Sg(s,e,{enableHardwareAcceleration:!1},Ig(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Ex(s,t.style,t),i.style={...s,...i.style}}return i}function HN(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Eg(n)?WN:MN)(r,s,o,n),h={...FN(r,typeof n=="string",t),...l,ref:i},{children:d}=r,p=P.useMemo(()=>Ft(d)?d.get():d,[d]);return P.createElement(n,{...h,children:p})}}function Sx(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Ix=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cx(t,e,n,r){Sx(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Ix.has(i)?i:yg(i),e.attrs[i])}function Cg(t,e){const{style:n}=t,r={};for(const i in n)(Ft(n[i])||e.style&&Ft(e.style[i])||gx(i,t))&&(r[i]=n[i]);return r}function Px(t,e){const n=Cg(t,e);for(const r in t)if(Ft(t[r])||Ft(e[r])){const i=Il.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Pg(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Ax(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Oc=t=>Array.isArray(t),qN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),GN=t=>Oc(t)?t[t.length-1]||0:t;function qu(t){const e=Ft(t)?t.get():t;return qN(e)?e.toValue():e}function KN({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:QN(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Rx=t=>(e,n)=>{const r=P.useContext(bh),i=P.useContext(Nh),s=()=>KN(t,e,r,i);return n?s():Ax(s)};function QN(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=qu(s[p]);let{initial:o,animate:a}=t;const l=Oh(t),c=px(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!Dh(d)&&(Array.isArray(d)?d:[d]).forEach(y=>{const E=Pg(t,y);if(!E)return;const{transitionEnd:S,transition:C,...T}=E;for(const v in T){let _=T[v];if(Array.isArray(_)){const b=h?_.length-1:0;_=_[b]}_!==null&&(i[v]=_)}for(const v in S)i[v]=S[v]}),i}const Be=t=>t;class i_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function YN(t){let e=new i_,n=new i_,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&i,p=d?e:n;return c&&o.add(l),p.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Tu=["prepare","read","update","preRender","render","postRender"],XN=40;function JN(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Tu.reduce((d,p)=>(d[p]=YN(()=>n=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,XN),1),i.timestamp=d,i.isProcessing=!0,Tu.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Tu.reduce((d,p)=>{const y=s[p];return d[p]=(E,S=!1,C=!1)=>(n||l(),y.schedule(E,S,C)),d},{}),cancel:d=>Tu.forEach(p=>s[p].cancel(d)),state:i,steps:s}}const{schedule:Te,cancel:cr,state:gt,steps:Zd}=JN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Be,!0),ZN={useVisualState:Rx({scrapeMotionValuesFromProps:Px,createRenderState:xx,onMount:(t,e,{renderState:n,latestValues:r})=>{Te.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Te.render(()=>{Sg(n,r,{enableHardwareAcceleration:!1},Ig(e.tagName),t.transformTemplate),Cx(e,n)})}})},e2={useVisualState:Rx({scrapeMotionValuesFromProps:Cg,createRenderState:xg})};function t2(t,{forwardMotionProps:e=!1},n,r){return{...Eg(t)?ZN:e2,preloadedFeatures:n,useRender:HN(e),createVisualElement:r,Component:t}}function Jn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const kx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Lh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const n2=t=>e=>kx(e)&&t(e,Lh(e));function nr(t,e,n,r){return Jn(t,e,n2(n),r)}const r2=(t,e)=>n=>e(t(n)),Yr=(...t)=>t.reduce(r2);function bx(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const s_=bx("dragHorizontal"),o_=bx("dragVertical");function Nx(t){let e=!1;if(t==="y")e=o_();else if(t==="x")e=s_();else{const n=s_(),r=o_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Vx(){const t=Nx(!0);return t?(t(),!1):!0}class _i{constructor(e){this.isMounted=!1,this.node=e}update(){}}function a_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||Vx())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Te.update(()=>a[r](s,o))};return nr(t.current,n,i,{passive:!t.getProps()[r]})}class i2 extends _i{mount(){this.unmount=Yr(a_(this.node,!0),a_(this.node,!1))}unmount(){}}class s2 extends _i{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yr(Jn(this.node.current,"focus",()=>this.onFocus()),Jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Dx=(t,e)=>e?t===e?!0:Dx(t,e.parentElement):!1;function ef(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Lh(n))}class o2 extends _i{constructor(){super(...arguments),this.removeStartListeners=Be,this.removeEndListeners=Be,this.removeAccessibleListeners=Be,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=nr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps();Te.update(()=>{!d&&!Dx(this.node.current,a.target)?h&&h(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=nr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Yr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ef("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Te.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Jn(this.node.current,"keyup",o),ef("down",(a,l)=>{this.startPress(a,l)})},n=Jn(this.node.current,"keydown",e),r=()=>{this.isPressing&&ef("cancel",(s,o)=>this.cancelPress(s,o))},i=Jn(this.node.current,"blur",r);this.removeAccessibleListeners=Yr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Te.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Vx()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Te.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=nr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Jn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Yr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Pp=new WeakMap,tf=new WeakMap,a2=t=>{const e=Pp.get(t.target);e&&e(t)},l2=t=>{t.forEach(a2)};function u2({root:t,...e}){const n=t||document;tf.has(n)||tf.set(n,{});const r=tf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(l2,{root:t,...e})),r[i]}function c2(t,e,n){const r=u2(e);return Pp.set(t,n),r.observe(t),()=>{Pp.delete(t),r.unobserve(t)}}const h2={some:0,all:1};class d2 extends _i{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:h2[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(l)};return c2(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(f2(e,n))&&this.startObserver()}unmount(){}}function f2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const p2={inView:{Feature:d2},tap:{Feature:o2},focus:{Feature:s2},hover:{Feature:i2}};function Ox(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function m2(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function g2(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function jh(t,e,n){const r=t.getProps();return Pg(r,e,n!==void 0?n:r.custom,m2(t),g2(t))}let y2=Be,Ag=Be;const Xr=t=>t*1e3,rr=t=>t/1e3,v2={current:!1},Mx=t=>Array.isArray(t)&&typeof t[0]=="number";function Lx(t){return!!(!t||typeof t=="string"&&jx[t]||Mx(t)||Array.isArray(t)&&t.every(Lx))}const da=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,jx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:da([0,.65,.55,1]),circOut:da([.55,0,1,.45]),backIn:da([.31,.01,.66,-.59]),backOut:da([.33,1.53,.69,.99])};function Fx(t){if(t)return Mx(t)?da(t):Array.isArray(t)?t.map(Fx):jx[t]}function _2(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=Fx(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function w2(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Ux=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,E2=1e-7,T2=12;function x2(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Ux(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>E2&&++a<T2);return o}function Al(t,e,n,r){if(t===e&&n===r)return Be;const i=s=>x2(s,0,1,t,n);return s=>s===0||s===1?s:Ux(i(s),e,r)}const S2=Al(.42,0,1,1),I2=Al(0,0,.58,1),Bx=Al(.42,0,.58,1),C2=t=>Array.isArray(t)&&typeof t[0]!="number",zx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$x=t=>e=>1-t(1-e),Rg=t=>1-Math.sin(Math.acos(t)),Wx=$x(Rg),P2=zx(Rg),Hx=Al(.33,1.53,.69,.99),kg=$x(Hx),A2=zx(kg),R2=t=>(t*=2)<1?.5*kg(t):.5*(2-Math.pow(2,-10*(t-1))),k2={linear:Be,easeIn:S2,easeInOut:Bx,easeOut:I2,circIn:Rg,circInOut:P2,circOut:Wx,backIn:kg,backInOut:A2,backOut:Hx,anticipate:R2},l_=t=>{if(Array.isArray(t)){Ag(t.length===4);const[e,n,r,i]=t;return Al(e,n,r,i)}else if(typeof t=="string")return k2[t];return t},bg=(t,e)=>n=>!!(Cl(n)&&bN.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),qx=(t,e,n)=>r=>{if(!Cl(r))return r;const[i,s,o,a]=r.match(Mh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},b2=t=>si(0,255,t),nf={...ls,transform:t=>Math.round(b2(t))},ji={test:bg("rgb","red"),parse:qx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+nf.transform(t)+", "+nf.transform(e)+", "+nf.transform(n)+", "+Ra(Aa.transform(r))+")"};function N2(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ap={test:bg("#"),parse:N2,transform:ji.transform},js={test:bg("hsl","hue"),parse:qx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+On.transform(Ra(e))+", "+On.transform(Ra(n))+", "+Ra(Aa.transform(r))+")"},Ct={test:t=>ji.test(t)||Ap.test(t)||js.test(t),parse:t=>ji.test(t)?ji.parse(t):js.test(t)?js.parse(t):Ap.parse(t),transform:t=>Cl(t)?t:t.hasOwnProperty("red")?ji.transform(t):js.transform(t)},De=(t,e,n)=>-n*t+n*e+t;function rf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function V2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=rf(l,a,t+1/3),s=rf(l,a,t),o=rf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const sf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},D2=[Ap,ji,js],O2=t=>D2.find(e=>e.test(t));function u_(t){const e=O2(t);let n=e.parse(t);return e===js&&(n=V2(n)),n}const Gx=(t,e)=>{const n=u_(t),r=u_(e),i={...n};return s=>(i.red=sf(n.red,r.red,s),i.green=sf(n.green,r.green,s),i.blue=sf(n.blue,r.blue,s),i.alpha=De(n.alpha,r.alpha,s),ji.transform(i))};function M2(t){var e,n;return isNaN(t)&&Cl(t)&&(((e=t.match(Mh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_x))===null||n===void 0?void 0:n.length)||0)>0}const Kx={regex:RN,countKey:"Vars",token:"${v}",parse:Be},Qx={regex:_x,countKey:"Colors",token:"${c}",parse:Ct.parse},Yx={regex:Mh,countKey:"Numbers",token:"${n}",parse:ls.parse};function of(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Mc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&of(n,Kx),of(n,Qx),of(n,Yx),n}function Xx(t){return Mc(t).values}function Jx(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Mc(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(Kx.token,o[l]):l<r+n?a=a.replace(Qx.token,Ct.transform(o[l])):a=a.replace(Yx.token,Ra(o[l]));return a}}const L2=t=>typeof t=="number"?0:t;function j2(t){const e=Xx(t);return Jx(t)(e.map(L2))}const oi={test:M2,parse:Xx,createTransformer:Jx,getAnimatableNone:j2},Zx=(t,e)=>n=>`${n>0?e:t}`;function eS(t,e){return typeof t=="number"?n=>De(t,e,n):Ct.test(t)?Gx(t,e):t.startsWith("var(")?Zx(t,e):nS(t,e)}const tS=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>eS(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},F2=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=eS(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},nS=(t,e)=>{const n=oi.createTransformer(e),r=Mc(t),i=Mc(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Yr(tS(r.values,i.values),n):Zx(t,e)},ol=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},c_=(t,e)=>n=>De(t,e,n);function U2(t){return typeof t=="number"?c_:typeof t=="string"?Ct.test(t)?Gx:nS:Array.isArray(t)?tS:typeof t=="object"?F2:c_}function B2(t,e,n){const r=[],i=n||U2(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Be:e;a=Yr(l,a)}r.push(a)}return r}function rS(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Ag(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=B2(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=ol(t[h],t[h+1],c);return o[h](d)};return n?c=>l(si(t[0],t[s-1],c)):l}function z2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ol(0,e,r);t.push(De(n,1,i))}}function $2(t){const e=[0];return z2(e,t.length-1),e}function W2(t,e){return t.map(n=>n*e)}function H2(t,e){return t.map(()=>e||Bx).splice(0,t.length-1)}function Lc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=C2(r)?r.map(l_):l_(r),s={done:!1,value:e[0]},o=W2(n&&n.length===e.length?n:$2(e),t),a=rS(o,e,{ease:Array.isArray(i)?i:H2(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function iS(t,e){return e?t*(1e3/e):0}const q2=5;function sS(t,e,n){const r=Math.max(e-q2,0);return iS(n-t(r),e-r)}const af=.001,G2=.01,h_=10,K2=.05,Q2=1;function Y2({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;y2(t<=Xr(h_));let o=1-e;o=si(K2,Q2,o),t=si(G2,h_,rr(t)),o<1?(i=c=>{const h=c*o,d=h*t,p=h-n,y=Rp(c,o),E=Math.exp(-d);return af-p/y*E},s=c=>{const d=c*o*t,p=d*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-d),S=Rp(Math.pow(c,2),o);return(-i(c)+af>0?-1:1)*((p-y)*E)/S}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-af+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=J2(i,s,a);if(t=Xr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const X2=12;function J2(t,e,n){let r=n;for(let i=1;i<X2;i++)r=r-t(r)/e(r);return r}function Rp(t,e){return t*Math.sqrt(1-e*e)}const Z2=["duration","bounce"],eV=["stiffness","damping","mass"];function d_(t,e){return e.some(n=>t[n]!==void 0)}function tV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!d_(t,eV)&&d_(t,Z2)){const n=Y2(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function oS({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:p}=tV({...r,velocity:-rr(r.velocity||0)}),y=d||0,E=l/(2*Math.sqrt(a*c)),S=s-i,C=rr(Math.sqrt(a/c)),T=Math.abs(S)<5;n||(n=T?.01:2),e||(e=T?.005:.5);let v;if(E<1){const _=Rp(C,E);v=b=>{const O=Math.exp(-E*C*b);return s-O*((y+E*C*S)/_*Math.sin(_*b)+S*Math.cos(_*b))}}else if(E===1)v=_=>s-Math.exp(-C*_)*(S+(y+C*S)*_);else{const _=C*Math.sqrt(E*E-1);v=b=>{const O=Math.exp(-E*C*b),L=Math.min(_*b,300);return s-O*((y+E*C*S)*Math.sinh(L)+_*S*Math.cosh(L))/_}}return{calculatedDuration:p&&h||null,next:_=>{const b=v(_);if(p)o.done=_>=h;else{let O=y;_!==0&&(E<1?O=sS(v,_,b):O=0);const L=Math.abs(O)<=n,I=Math.abs(s-b)<=e;o.done=L&&I}return o.value=o.done?s:b,o}}}function f_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},y=w=>a!==void 0&&w<a||l!==void 0&&w>l,E=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let S=n*e;const C=d+S,T=o===void 0?C:o(C);T!==C&&(S=T-d);const v=w=>-S*Math.exp(-w/r),_=w=>T+v(w),b=w=>{const A=v(w),R=_(w);p.done=Math.abs(A)<=c,p.value=p.done?T:R};let O,L;const I=w=>{y(p.value)&&(O=w,L=oS({keyframes:[p.value,E(p.value)],velocity:sS(_,w,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return I(0),{calculatedDuration:null,next:w=>{let A=!1;return!L&&O===void 0&&(A=!0,b(w),I(w)),O!==void 0&&w>O?L.next(w-O):(!A&&b(w),p)}}}const nV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Te.update(e,!0),stop:()=>cr(e),now:()=>gt.isProcessing?gt.timestamp:performance.now()}},p_=2e4;function m_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<p_;)e+=n,r=t.next(e);return e>=p_?1/0:e}const rV={decay:f_,inertia:f_,tween:Lc,keyframes:Lc,spring:oS};function jc({autoplay:t=!0,delay:e=0,driver:n=nV,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:d,...p}){let y=1,E=!1,S,C;const T=()=>{C=new Promise(K=>{S=K})};T();let v;const _=rV[i]||Lc;let b;_!==Lc&&typeof r[0]!="number"&&(b=rS([0,100],r,{clamp:!1}),r=[0,100]);const O=_({...p,keyframes:r});let L;a==="mirror"&&(L=_({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let I="idle",w=null,A=null,R=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=m_(O));const{calculatedDuration:V}=O;let N=1/0,k=1/0;V!==null&&(N=V+o,k=N*(s+1)-o);let $=0;const me=K=>{if(A===null)return;y>0&&(A=Math.min(A,K)),y<0&&(A=Math.min(K-k/y,A)),w!==null?$=w:$=Math.round(K-A)*y;const ie=$-e*(y>=0?1:-1),ne=y>=0?ie<0:ie>k;$=Math.max(ie,0),I==="finished"&&w===null&&($=k);let Tt=$,Jt=O;if(s){const No=Math.min($,k)/N;let $n=Math.floor(No),Zt=No%1;!Zt&&No>=1&&(Zt=1),Zt===1&&$n--,$n=Math.min($n,s+1),!!($n%2)&&(a==="reverse"?(Zt=1-Zt,o&&(Zt-=o/N)):a==="mirror"&&(Jt=L)),Tt=si(0,1,Zt)*N}const xt=ne?{done:!1,value:r[0]}:Jt.next(Tt);b&&(xt.value=b(xt.value));let{done:Bt}=xt;!ne&&V!==null&&(Bt=y>=0?$>=k:$<=0);const nd=w===null&&(I==="finished"||I==="running"&&Bt);return d&&d(xt.value),nd&&B(),xt},se=()=>{v&&v.stop(),v=void 0},_e=()=>{I="idle",se(),S(),T(),A=R=null},B=()=>{I="finished",h&&h(),se(),S()},q=()=>{if(E)return;v||(v=n(me));const K=v.now();l&&l(),w!==null?A=K-w:(!A||I==="finished")&&(A=K),I==="finished"&&T(),R=A,w=null,I="running",v.start()};t&&q();const Y={then(K,ie){return C.then(K,ie)},get time(){return rr($)},set time(K){K=Xr(K),$=K,w!==null||!v||y===0?w=K:A=v.now()-K/y},get duration(){const K=O.calculatedDuration===null?m_(O):O.calculatedDuration;return rr(K)},get speed(){return y},set speed(K){K===y||!v||(y=K,Y.time=rr($))},get state(){return I},play:q,pause:()=>{I="paused",w=$},stop:()=>{E=!0,I!=="idle"&&(I="idle",c&&c(),_e())},cancel:()=>{R!==null&&me(R),_e()},complete:()=>{I="finished"},sample:K=>(A=0,me(K))};return Y}function iV(t){let e;return()=>(e===void 0&&(e=t()),e)}const sV=iV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),xu=10,aV=2e4,lV=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Lx(e.ease);function uV(t,e,{onUpdate:n,onComplete:r,...i}){if(!(sV()&&oV.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const h=()=>{l=new Promise(_=>{a=_})};h();let{keyframes:d,duration:p=300,ease:y,times:E}=i;if(lV(e,i)){const _=jc({...i,repeat:0,delay:0});let b={done:!1,value:d[0]};const O=[];let L=0;for(;!b.done&&L<aV;)b=_.sample(L),O.push(b.value),L+=xu;E=void 0,d=O,p=L-xu,y="linear"}const S=_2(t.owner.current,e,d,{...i,duration:p,ease:y,times:E}),C=()=>{c=!1,S.cancel()},T=()=>{c=!0,Te.update(C),a(),h()};return S.onfinish=()=>{c||(t.set(w2(d,i)),r&&r(),T())},{then(_,b){return l.then(_,b)},attachTimeline(_){return S.timeline=_,S.onfinish=null,Be},get time(){return rr(S.currentTime||0)},set time(_){S.currentTime=Xr(_)},get speed(){return S.playbackRate},set speed(_){S.playbackRate=_},get duration(){return rr(p)},play:()=>{o||(S.play(),cr(C))},pause:()=>S.pause(),stop:()=>{if(o=!0,S.playState==="idle")return;const{currentTime:_}=S;if(_){const b=jc({...i,autoplay:!1});t.setWithVelocity(b.sample(_-xu).value,b.sample(_).value,xu)}T()},complete:()=>{c||S.finish()},cancel:T}}function cV({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Be,pause:Be,stop:Be,then:s=>(s(),Promise.resolve()),cancel:Be,complete:Be});return e?jc({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const hV={type:"spring",stiffness:500,damping:25,restSpeed:10},dV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fV={type:"keyframes",duration:.8},pV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mV=(t,{keyframes:e})=>e.length>2?fV:as.has(t)?t.startsWith("scale")?dV(e[1]):hV:pV,kp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(oi.test(e)||e==="0")&&!e.startsWith("url(")),gV=new Set(["brightness","contrast","saturate","opacity"]);function yV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Mh)||[];if(!r)return t;const i=n.replace(r,"");let s=gV.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const vV=/([a-z-]*)\(.*?\)/g,bp={...oi,getAnimatableNone:t=>{const e=t.match(vV);return e?e.map(yV).join(" "):t}},_V={...wx,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:bp,WebkitFilter:bp},Ng=t=>_V[t];function aS(t,e){let n=Ng(t);return n!==bp&&(n=oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lS=t=>/^0[^.\s]+$/.test(t);function wV(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||lS(t)}function EV(t,e,n,r){const i=kp(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),wV(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];s[h]=aS(e,a)}return s}function TV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function Vg(t,e){return t[e]||t.default||t}const xV={skipAnimations:!1},Dg=(t,e,n,r={})=>i=>{const s=Vg(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Xr(o);const l=EV(e,t,n,s),c=l[0],h=l[l.length-1],d=kp(t,c),p=kp(t,h);let y={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:E=>{e.set(E),s.onUpdate&&s.onUpdate(E)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(TV(s)||(y={...y,...mV(t,y)}),y.duration&&(y.duration=Xr(y.duration)),y.repeatDelay&&(y.repeatDelay=Xr(y.repeatDelay)),!d||!p||v2.current||s.type===!1||xV.skipAnimations)return cV(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=uV(e,t,y);if(E)return E}return jc(y)};function Fc(t){return!!(Ft(t)&&t.add)}const uS=t=>/^\-?\d*\.?\d+$/.test(t);function Og(t,e){t.indexOf(e)===-1&&t.push(e)}function Mg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Lg{constructor(){this.subscriptions=[]}add(e){return Og(this.subscriptions,e),()=>Mg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const SV=t=>!isNaN(parseFloat(t));class IV{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=gt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Te.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Te.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=SV(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Lg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?iS(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oo(t,e){return new IV(t,e)}const cS=t=>e=>e.test(t),CV={test:t=>t==="auto",parse:t=>t},hS=[ls,X,On,Ar,VN,NN,CV],ea=t=>hS.find(cS(t)),PV=[...hS,Ct,oi],AV=t=>PV.find(cS(t));function RV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oo(n))}function kV(t,e){const n=jh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=GN(s[o]);RV(t,o,a)}}function bV(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),h!=null&&(typeof h=="string"&&(uS(h)||lS(h))?h=parseFloat(h):!AV(h)&&oi.test(c)&&(h=aS(l,c)),t.addValue(l,oo(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function NV(t,e){return e?(e[t]||e.default||e).from:void 0}function VV(t,e,n){const r={};for(const i in t){const s=NV(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function DV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OV(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function dS(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const p=t.getValue(d),y=a[d];if(!p||y===void 0||h&&DV(h,d))continue;const E={delay:n,elapsed:0,...Vg(s||{},d)};if(window.HandoffAppearAnimations){const T=t.getProps()[fx];if(T){const v=window.HandoffAppearAnimations(T,d,p,Te);v!==null&&(E.elapsed=v,E.isHandoff=!0)}}let S=!E.isHandoff&&!OV(p,y);if(E.type==="spring"&&(p.getVelocity()||E.velocity)&&(S=!1),p.animation&&(S=!1),S)continue;p.start(Dg(d,p,y,t.shouldReduceMotion&&as.has(d)?{type:!1}:E));const C=p.animation;Fc(l)&&(l.add(d),C.then(()=>l.remove(d))),c.push(C)}return o&&Promise.all(c).then(()=>{o&&kV(t,o)}),c}function Np(t,e,n={}){const r=jh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(dS(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=i;return MV(t,e,c+l,h,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function MV(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(LV).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Np(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function LV(t,e){return t.sortNodePosition(e)}function jV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Np(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Np(t,e,n);else{const i=typeof e=="function"?jh(t,e,n.custom):e;r=Promise.all(dS(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const FV=[...vg].reverse(),UV=vg.length;function BV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>jV(t,n,r)))}function zV(t){let e=BV(t);const n=WV();let r=!0;const i=(l,c)=>{const h=jh(t,c);if(h){const{transition:d,transitionEnd:p,...y}=h;l={...l,...y,...p}}return l};function s(l){e=l(t)}function o(l,c){const h=t.getProps(),d=t.getVariantContext(!0)||{},p=[],y=new Set;let E={},S=1/0;for(let T=0;T<UV;T++){const v=FV[T],_=n[v],b=h[v]!==void 0?h[v]:d[v],O=il(b),L=v===c?_.isActive:null;L===!1&&(S=T);let I=b===d[v]&&b!==h[v]&&O;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),_.protectedKeys={...E},!_.isActive&&L===null||!b&&!_.prevProp||Dh(b)||typeof b=="boolean")continue;let A=$V(_.prevProp,b)||v===c&&_.isActive&&!I&&O||T>S&&O,R=!1;const V=Array.isArray(b)?b:[b];let N=V.reduce(i,{});L===!1&&(N={});const{prevResolvedValues:k={}}=_,$={...k,...N},me=se=>{A=!0,y.has(se)&&(R=!0,y.delete(se)),_.needsAnimating[se]=!0};for(const se in $){const _e=N[se],B=k[se];if(E.hasOwnProperty(se))continue;let q=!1;Oc(_e)&&Oc(B)?q=!Ox(_e,B):q=_e!==B,q?_e!==void 0?me(se):y.add(se):_e!==void 0&&y.has(se)?me(se):_.protectedKeys[se]=!0}_.prevProp=b,_.prevResolvedValues=N,_.isActive&&(E={...E,...N}),r&&t.blockInitialAnimation&&(A=!1),A&&(!I||R)&&p.push(...V.map(se=>({animation:se,options:{type:v,...l}})))}if(y.size){const T={};y.forEach(v=>{const _=t.getBaseTarget(v);_!==void 0&&(T[v]=_)}),p.push({animation:T})}let C=!!p.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(p):Promise.resolve()}function a(l,c,h){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(y=>{var E;return(E=y.animationState)===null||E===void 0?void 0:E.setActive(l,c)}),n[l].isActive=c;const p=o(h,l);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function $V(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ox(e,t):!1}function Pi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WV(){return{animate:Pi(!0),whileInView:Pi(),whileHover:Pi(),whileTap:Pi(),whileDrag:Pi(),whileFocus:Pi(),exit:Pi()}}class HV extends _i{constructor(e){super(e),e.animationState||(e.animationState=zV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Dh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let qV=0;class GV extends _i{constructor(){super(...arguments),this.id=qV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KV={animation:{Feature:HV},exit:{Feature:GV}},g_=(t,e)=>Math.abs(t-e);function QV(t,e){const n=g_(t.x,e.x),r=g_(t.y,e.y);return Math.sqrt(n**2+r**2)}class fS{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=uf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=QV(d.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:E}=d,{timestamp:S}=gt;this.history.push({...E,timestamp:S});const{onStart:C,onMove:T}=this.handlers;p||(C&&C(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=lf(p,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:y,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=uf(d.type==="pointercancel"?this.lastMoveEventInfo:lf(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,C),E&&E(d,C)},!kx(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Lh(e),a=lf(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=gt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,uf(a,this.history)),this.removeListeners=Yr(nr(this.contextWindow,"pointermove",this.handlePointerMove),nr(this.contextWindow,"pointerup",this.handlePointerUp),nr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cr(this.updatePoint)}}function lf(t,e){return e?{point:e(t.point)}:t}function y_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function uf({point:t},e){return{point:t,delta:y_(t,pS(e)),offset:y_(t,YV(e)),velocity:XV(e,.1)}}function YV(t){return t[0]}function pS(t){return t[t.length-1]}function XV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=pS(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Xr(e)));)n--;if(!r)return{x:0,y:0};const s=rr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Qt(t){return t.max-t.min}function Vp(t,e=0,n=.01){return Math.abs(t-e)<=n}function v_(t,e,n,r=.5){t.origin=r,t.originPoint=De(e.min,e.max,t.origin),t.scale=Qt(n)/Qt(e),(Vp(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=De(n.min,n.max,t.origin)-t.originPoint,(Vp(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ka(t,e,n,r){v_(t.x,e.x,n.x,r?r.originX:void 0),v_(t.y,e.y,n.y,r?r.originY:void 0)}function __(t,e,n){t.min=n.min+e.min,t.max=t.min+Qt(e)}function JV(t,e,n){__(t.x,e.x,n.x),__(t.y,e.y,n.y)}function w_(t,e,n){t.min=e.min-n.min,t.max=t.min+Qt(e)}function ba(t,e,n){w_(t.x,e.x,n.x),w_(t.y,e.y,n.y)}function ZV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?De(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?De(n,t,r.max):Math.min(t,n)),t}function E_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eD(t,{top:e,left:n,bottom:r,right:i}){return{x:E_(t.x,n,i),y:E_(t.y,e,r)}}function T_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tD(t,e){return{x:T_(t.x,e.x),y:T_(t.y,e.y)}}function nD(t,e){let n=.5;const r=Qt(t),i=Qt(e);return i>r?n=ol(e.min,e.max-r,t.min):r>i&&(n=ol(t.min,t.max-i,e.min)),si(0,1,n)}function rD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Dp=.35;function iD(t=Dp){return t===!1?t=0:t===!0&&(t=Dp),{x:x_(t,"left","right"),y:x_(t,"top","bottom")}}function x_(t,e,n){return{min:S_(t,e),max:S_(t,n)}}function S_(t,e){return typeof t=="number"?t:t[e]||0}const I_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fs=()=>({x:I_(),y:I_()}),C_=()=>({min:0,max:0}),He=()=>({x:C_(),y:C_()});function tn(t){return[t("x"),t("y")]}function mS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function cf(t){return t===void 0||t===1}function Op({scale:t,scaleX:e,scaleY:n}){return!cf(t)||!cf(e)||!cf(n)}function ki(t){return Op(t)||gS(t)||t.z||t.rotate||t.rotateX||t.rotateY}function gS(t){return P_(t.x)||P_(t.y)}function P_(t){return t&&t!=="0%"}function Uc(t,e,n){const r=t-n,i=e*r;return n+i}function A_(t,e,n,r,i){return i!==void 0&&(t=Uc(t,i,r)),Uc(t,n,r)+e}function Mp(t,e=0,n=1,r,i){t.min=A_(t.min,e,n,r,i),t.max=A_(t.max,e,n,r,i)}function yS(t,{x:e,y:n}){Mp(t.x,e.translate,e.scale,e.originPoint),Mp(t.y,n.translate,n.scale,n.originPoint)}function aD(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Us(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yS(t,o)),r&&ki(s.latestValues)&&Us(t,s.latestValues))}e.x=R_(e.x),e.y=R_(e.y)}function R_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function br(t,e){t.min=t.min+e,t.max=t.max+e}function k_(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=De(t.min,t.max,s);Mp(t,e[n],e[r],o,e.scale)}const lD=["x","scaleX","originX"],uD=["y","scaleY","originY"];function Us(t,e){k_(t.x,e,lD),k_(t.y,e,uD)}function vS(t,e){return mS(oD(t.getBoundingClientRect(),e))}function cD(t,e,n){const r=vS(t,n),{scroll:i}=e;return i&&(br(r.x,i.offset.x),br(r.y,i.offset.y)),r}const _S=({current:t})=>t?t.ownerDocument.defaultView:null,hD=new WeakMap;class dD{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lh(h,"page").point)},s=(h,d)=>{const{drag:p,dragPropagation:y,onDragStart:E}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Nx(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(C=>{let T=this.getAxisMotionValue(C).get()||0;if(On.test(T)){const{projection:v}=this.visualElement;if(v&&v.layout){const _=v.layout.layoutBox[C];_&&(T=Qt(_)*(parseFloat(T)/100))}}this.originPoint[C]=T}),E&&Te.update(()=>E(h,d),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:E,onDrag:S}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:C}=d;if(y&&this.currentDirection===null){this.currentDirection=fD(C),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",d.point,C),this.updateAxis("y",d.point,C),this.visualElement.render(),S&&S(h,d)},a=(h,d)=>this.stop(h,d),l=()=>tn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fS(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:_S(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Te.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Su(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=ZV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ls(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=eD(i.layoutBox,n):this.constraints=!1,this.elastic=iD(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=rD(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ls(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=cD(r,i.root,this.visualElement.getTransformPagePoint());let o=tD(i.layout.layoutBox,s);if(n){const a=n(sD(o));this.hasMutatedConstraints=!!a,a&&(o=mS(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=tn(h=>{if(!Su(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Dg(e,r,0,n))}stopAnimation(){tn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tn(n=>{const{drag:r}=this.getProps();if(!Su(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-De(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ls(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};tn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=nD({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tn(o=>{if(!Su(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(De(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;hD.set(this.visualElement,this);const e=this.visualElement.current,n=nr(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ls(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Jn(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(tn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Dp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Su(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pD extends _i{constructor(e){super(e),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new dD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}}const b_=t=>(e,n)=>{t&&Te.update(()=>t(e,n))};class mD extends _i{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(e){this.session=new fS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_S(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:b_(e),onStart:b_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Te.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=nr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gD(){const t=P.useContext(Nh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=P.useId();return P.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ta={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(X.test(t))t=parseFloat(t);else return t;const n=N_(t,e.target.x),r=N_(t,e.target.y);return`${n}% ${r}%`}},yD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=oi.parse(t);if(i.length>5)return r;const s=oi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=De(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class vD extends Ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;IN(_D),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wS(t){const[e,n]=gD(),r=P.useContext(wg);return Ne.createElement(vD,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(mx),isPresent:e,safeToRemove:n})}const _D={borderRadius:{...ta,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ta,borderTopRightRadius:ta,borderBottomLeftRadius:ta,borderBottomRightRadius:ta,boxShadow:yD},ES=["TopLeft","TopRight","BottomLeft","BottomRight"],wD=ES.length,V_=t=>typeof t=="string"?parseFloat(t):t,D_=t=>typeof t=="number"||X.test(t);function ED(t,e,n,r,i,s){i?(t.opacity=De(0,n.opacity!==void 0?n.opacity:1,TD(r)),t.opacityExit=De(e.opacity!==void 0?e.opacity:1,0,xD(r))):s&&(t.opacity=De(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<wD;o++){const a=`border${ES[o]}Radius`;let l=O_(e,a),c=O_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||D_(l)===D_(c)?(t[a]=Math.max(De(V_(l),V_(c),r),0),(On.test(c)||On.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=De(e.rotate||0,n.rotate||0,r))}function O_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TD=TS(0,.5,Wx),xD=TS(.5,.95,Be);function TS(t,e,n){return r=>r<t?0:r>e?1:n(ol(t,e,r))}function M_(t,e){t.min=e.min,t.max=e.max}function en(t,e){M_(t.x,e.x),M_(t.y,e.y)}function L_(t,e,n,r,i){return t-=e,t=Uc(t,1/n,r),i!==void 0&&(t=Uc(t,1/i,r)),t}function SD(t,e=0,n=1,r=.5,i,s=t,o=t){if(On.test(e)&&(e=parseFloat(e),e=De(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=De(s.min,s.max,r);t===s&&(a-=e),t.min=L_(t.min,e,n,a,i),t.max=L_(t.max,e,n,a,i)}function j_(t,e,[n,r,i],s,o){SD(t,e[n],e[r],e[i],e.scale,s,o)}const ID=["x","scaleX","originX"],CD=["y","scaleY","originY"];function F_(t,e,n,r){j_(t.x,e,ID,n?n.x:void 0,r?r.x:void 0),j_(t.y,e,CD,n?n.y:void 0,r?r.y:void 0)}function U_(t){return t.translate===0&&t.scale===1}function xS(t){return U_(t.x)&&U_(t.y)}function PD(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function SS(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function B_(t){return Qt(t.x)/Qt(t.y)}class AD{constructor(){this.members=[]}add(e){Og(this.members,e),e.scheduleRender()}remove(e){if(Mg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z_(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const RD=(t,e)=>t.depth-e.depth;class kD{constructor(){this.children=[],this.isDirty=!1}add(e){Og(this.children,e),this.isDirty=!0}remove(e){Mg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RD),this.isDirty=!1,this.children.forEach(e)}}function bD(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(cr(r),t(s-e))};return Te.read(r,!0),()=>cr(r)}function ND(t){window.MotionDebug&&window.MotionDebug.record(t)}function VD(t){return t instanceof SVGElement&&t.tagName!=="svg"}function DD(t,e,n){const r=Ft(t)?t:oo(t);return r.start(Dg("",r,e,n)),r.animation}const $_=["","X","Y","Z"],OD={visibility:"hidden"},W_=1e3;let MD=0;const bi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function IS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=MD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bi.totalNodes=bi.resolvedTargetDeltas=bi.recalculatedProjection=0,this.nodes.forEach(FD),this.nodes.forEach(WD),this.nodes.forEach(HD),this.nodes.forEach(UD),ND(bi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new kD)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Lg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VD(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=bD(p,250),Gu.hasAnimatedSinceResize&&(Gu.hasAnimatedSinceResize=!1,this.nodes.forEach(q_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||YD,{onLayoutAnimationStart:C,onLayoutAnimationComplete:T}=h.getProps(),v=!this.targetLayout||!SS(this.targetLayout,E)||y,_=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const b={...Vg(S,"layout"),onPlay:C,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else p||q_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H_);return}this.isUpdating||this.nodes.forEach(zD),this.isUpdating=!1,this.nodes.forEach($D),this.nodes.forEach(LD),this.nodes.forEach(jD),this.clearAllSnapshots();const a=performance.now();gt.delta=si(0,1e3/60,a-gt.timestamp),gt.timestamp=a,gt.isProcessing=!0,Zd.update.process(gt),Zd.preRender.process(gt),Zd.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(BD),this.sharedNodes.forEach(GD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!xS(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||ki(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),XD(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(br(a.x,l.offset.x),br(a.y,l.offset.y)),a}removeElementScroll(o){const a=He();en(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){en(a,o);const{scroll:p}=this.root;p&&(br(a.x,-p.offset.x),br(a.y,-p.offset.y))}br(a.x,h.offset.x),br(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=He();en(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Us(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ki(h.latestValues)&&Us(l,h.latestValues)}return ki(this.latestValues)&&Us(l,this.latestValues),l}removeTransform(o){const a=He();en(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ki(c.latestValues))continue;Op(c.latestValues)&&c.updateSnapshot();const h=He(),d=c.measurePageBox();en(h,d),F_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ki(this.latestValues)&&F_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),ba(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),yS(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),ba(this.relativeTargetOrigin,this.target,y.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Op(this.parent.latestValues)||gS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;en(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;aD(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:E}=a;if(!E){this.projectionTransform&&(this.projectionDelta=Fs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Fs(),this.projectionDeltaWithTransform=Fs());const S=this.projectionTransform;ka(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=z_(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==p||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),bi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Fs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=He(),y=l?l.source:void 0,E=this.layout?this.layout.source:void 0,S=y!==E,C=this.getStack(),T=!C||C.members.length<=1,v=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(QD));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const O=b/1e3;G_(d.x,o.x,O),G_(d.y,o.y,O),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ba(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KD(this.relativeTarget,this.relativeTargetOrigin,p,O),_&&PD(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=He()),en(_,this.relativeTarget)),S&&(this.animationValues=h,ED(h,c,this.latestValues,O,v,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{Gu.hasAnimatedSinceResize=!0,this.currentAnimation=DD(0,W_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(W_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&CS(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||He();const d=Qt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=Qt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}en(a,l),Us(a,h),ka(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new AD),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<$_.length;h++){const d="rotate"+$_[h];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OD;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=qu(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=qu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ki(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=z_(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:y,y:E}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${E.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Vc){if(p[S]===void 0)continue;const{correct:C,applyTo:T}=Vc[S],v=c.transform==="none"?p[S]:C(p[S],d);if(T){const _=T.length;for(let b=0;b<_;b++)c[T[b]]=v}else c[S]=v}return this.options.layoutId&&(c.pointerEvents=d===this?qu(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(H_),this.root.sharedNodes.clear()}}}function LD(t){t.updateLayout()}function jD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?tn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],y=Qt(p);p.min=r[d].min,p.max=p.min+y}):CS(s,n.layoutBox,r)&&tn(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],y=Qt(r[d]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const a=Fs();ka(a,r,n.layoutBox);const l=Fs();o?ka(l,t.applyTransform(i,!0),n.measuredBox):ka(l,r,n.layoutBox);const c=!xS(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:y}=d;if(p&&y){const E=He();ba(E,n.layoutBox,p.layoutBox);const S=He();ba(S,r,y.layoutBox),SS(E,S)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=E,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function FD(t){bi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BD(t){t.clearSnapshot()}function H_(t){t.clearMeasurements()}function zD(t){t.isLayoutDirty=!1}function $D(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function q_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function WD(t){t.resolveTargetDelta()}function HD(t){t.calcProjection()}function qD(t){t.resetRotation()}function GD(t){t.removeLeadSnapshot()}function G_(t,e,n){t.translate=De(e.translate,0,n),t.scale=De(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function K_(t,e,n,r){t.min=De(e.min,n.min,r),t.max=De(e.max,n.max,r)}function KD(t,e,n,r){K_(t.x,e.x,n.x,r),K_(t.y,e.y,n.y,r)}function QD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const YD={duration:.45,ease:[.4,0,.1,1]},Q_=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Y_=Q_("applewebkit/")&&!Q_("chrome/")?Math.round:Be;function X_(t){t.min=Y_(t.min),t.max=Y_(t.max)}function XD(t){X_(t.x),X_(t.y)}function CS(t,e,n){return t==="position"||t==="preserve-aspect"&&!Vp(B_(e),B_(n),.2)}const JD=IS({attachResizeListener:(t,e)=>Jn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hf={current:void 0},PS=IS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hf.current){const t=new JD({});t.mount(window),t.setOptions({layoutScroll:!0}),hf.current=t}return hf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ZD={pan:{Feature:mD},drag:{Feature:pD,ProjectionNode:PS,MeasureLayout:wS}},eO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tO(t){const e=eO.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Lp(t,e,n=1){const[r,i]=tO(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return uS(o)?parseFloat(o):o}else return Cp(i)?Lp(i,e,n+1):i}function nO(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Cp(s))return;const o=Lp(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Cp(s))continue;const o=Lp(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const rO=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),AS=t=>rO.has(t),iO=t=>Object.keys(t).some(AS),J_=t=>t===ls||t===X,Z_=(t,e)=>parseFloat(t.split(", ")[e]),ew=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Z_(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Z_(s[1],t):0}},sO=new Set(["x","y","z"]),oO=Il.filter(t=>!sO.has(t));function aO(t){const e=[];return oO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ew(4,13),y:ew(5,14)};ao.translateX=ao.x;ao.translateY=ao.y;const lO=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=ao[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=ao[c](l,s)}),t},uO=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(AS);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],d=ea(h);const p=e[l];let y;if(Oc(p)){const E=p.length,S=p[0]===null?1:0;h=p[S],d=ea(h);for(let C=S;C<E&&p[C]!==null;C++)y?Ag(ea(p[C])===y):y=ea(p[C])}else y=ea(p);if(d!==y)if(J_(d)&&J_(y)){const E=c.get();typeof E=="string"&&c.set(parseFloat(E)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&y===X&&(e[l]=p.map(parseFloat))}else d!=null&&d.transform&&(y!=null&&y.transform)&&(h===0||p===0)?h===0?c.set(y.transform(h)):e[l]=d.transform(p):(o||(s=aO(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=lO(e,t,a);return s.length&&s.forEach(([h,d])=>{t.getValue(h).set(d)}),t.render(),Vh&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function cO(t,e,n,r){return iO(e)?uO(t,e,n,r):{target:e,transitionEnd:r}}const hO=(t,e,n,r)=>{const i=nO(t,e,r);return e=i.target,r=i.transitionEnd,cO(t,e,n,r)},jp={current:null},RS={current:!1};function dO(){if(RS.current=!0,!!Vh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jp.current=t.matches;t.addListener(e),e()}else jp.current=!1}function fO(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Ft(s))t.addValue(i,s),Fc(r)&&r.add(i);else if(Ft(o))t.addValue(i,oo(s,{owner:t})),Fc(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,oo(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const tw=new WeakMap,kS=Object.keys(sl),pO=kS.length,nw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],mO=_g.length;class gO{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Te.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Oh(n),this.isVariantNode=px(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const d in h){const p=h[d];a[d]!==void 0&&Ft(p)&&(p.set(a[d],!1),Fc(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,tw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),RS.current||dO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tw.delete(this.current),this.projection&&this.projection.unmount(),cr(this.notifyUpdate),cr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=as.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Te.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<pO;l++){const c=kS[l],{isEnabled:h,Feature:d,ProjectionNode:p,MeasureLayout:y}=sl[c];p&&(o=p),h(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:p,layoutRoot:y}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&Ls(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nw.length;r++){const i=nw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=fO(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<mO;r++){const i=_g[r],s=this.props[i];(il(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=oo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Pg(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ft(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Lg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class bS extends gO{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=VV(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){bV(this,r,o);const a=hO(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function yO(t){return window.getComputedStyle(t)}class vO extends bS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(as.has(n)){const r=Ng(n);return r&&r.default||0}else{const r=yO(e),i=(vx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vS(e,n)}build(e,n,r,i){Tg(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Cg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ft(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){Sx(e,n,r,i)}}class _O extends bS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(as.has(n)){const r=Ng(n);return r&&r.default||0}return n=Ix.has(n)?n:yg(n),e.getAttribute(n)}measureInstanceViewportBox(){return He()}scrapeMotionValuesFromProps(e,n){return Px(e,n)}build(e,n,r,i){Sg(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Cx(e,n,r,i)}mount(e){this.isSVGTag=Ig(e.tagName),super.mount(e)}}const wO=(t,e)=>Eg(t)?new _O(e,{enableHardwareAcceleration:!1}):new vO(e,{enableHardwareAcceleration:!0}),EO={layout:{ProjectionNode:PS,MeasureLayout:wS}},TO={...KV,...p2,...ZD,...EO},Qe=xN((t,e)=>t2(t,e,TO,wO));function NS(){const t=P.useRef(!1);return gg(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function xO(){const t=NS(),[e,n]=P.useState(0),r=P.useCallback(()=>{t.current&&n(e+1)},[e]);return[P.useCallback(()=>Te.postRender(r),[r]),e]}class SO extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function IO({children:t,isPresent:e}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),P.createElement(SO,{isPresent:e,childRef:r,sizeRef:i},P.cloneElement(t,{ref:r}))}const df=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Ax(CO),l=P.useId(),c=P.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?void 0:[n]);return P.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),P.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=P.createElement(IO,{isPresent:n},t)),P.createElement(Nh.Provider,{value:c},t)};function CO(){return new Map}function PO(t){return P.useEffect(()=>()=>t(),[])}const Ni=t=>t.key||"";function AO(t,e){t.forEach(n=>{const r=Ni(n);e.set(r,n)})}function RO(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const kO=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=P.useContext(wg).forceRender||xO()[0],l=NS(),c=RO(t);let h=c;const d=P.useRef(new Map).current,p=P.useRef(h),y=P.useRef(new Map).current,E=P.useRef(!0);if(gg(()=>{E.current=!1,AO(c,y),p.current=h}),PO(()=>{E.current=!0,y.clear(),d.clear()}),E.current)return P.createElement(P.Fragment,null,h.map(v=>P.createElement(df,{key:Ni(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},v)));h=[...h];const S=p.current.map(Ni),C=c.map(Ni),T=S.length;for(let v=0;v<T;v++){const _=S[v];C.indexOf(_)===-1&&!d.has(_)&&d.set(_,void 0)}return o==="wait"&&d.size&&(h=[]),d.forEach((v,_)=>{if(C.indexOf(_)!==-1)return;const b=y.get(_);if(!b)return;const O=S.indexOf(_);let L=v;if(!L){const I=()=>{d.delete(_);const w=Array.from(y.keys()).filter(A=>!C.includes(A));if(w.forEach(A=>y.delete(A)),p.current=c.filter(A=>{const R=Ni(A);return R===_||w.includes(R)}),!d.size){if(l.current===!1)return;a(),r&&r()}};L=P.createElement(df,{key:Ni(b),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},b),d.set(_,L)}h.splice(O,0,L)}),h=h.map(v=>{const _=v.key;return d.has(_)?v:P.createElement(df,{key:Ni(v),isPresent:!0,presenceAffectsLayout:s,mode:o},v)}),P.createElement(P.Fragment,null,d.size?h:h.map(v=>P.cloneElement(v)))};var VS={exports:{}},bO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NO=bO,VO=NO;function DS(){}function OS(){}OS.resetWarningCache=DS;var DO=function(){function t(r,i,s,o,a,l){if(l!==VO){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OS,resetWarningCache:DS};return n.PropTypes=n,n};VS.exports=DO();var OO=VS.exports;const Ae=yo(OO);function MO(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var MS=P,LO=MO(MS);function rw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var FO=!!(typeof window<"u"&&window.document&&window.document.createElement);function UO(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=t(o.map(function(h){return h.props})),c.canUseDOM?e(a):n&&(a=n(a))}var c=function(h){jO(d,h);function d(){return h.apply(this,arguments)||this}d.peek=function(){return a},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var E=a;return a=void 0,o=[],E};var p=d.prototype;return p.UNSAFE_componentWillMount=function(){o.push(this),l()},p.componentDidUpdate=function(){l()},p.componentWillUnmount=function(){var E=o.indexOf(this);o.splice(E,1),l()},p.render=function(){return LO.createElement(s,this.props)},d}(MS.PureComponent);return rw(c,"displayName","SideEffect("+r(s)+")"),rw(c,"canUseDOM",FO),c}}var BO=UO;const zO=yo(BO);var $O=typeof Element<"u",WO=typeof Map=="function",HO=typeof Set=="function",qO=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ku(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Ku(t[r],e[r]))return!1;return!0}var s;if(WO&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Ku(r.value[1],e.get(r.value[0])))return!1;return!0}if(HO&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(qO&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if($O&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Ku(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var GO=function(e,n){try{return Ku(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const KO=yo(GO);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var iw=Object.getOwnPropertySymbols,QO=Object.prototype.hasOwnProperty,YO=Object.prototype.propertyIsEnumerable;function XO(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function JO(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ZO=JO()?Object.assign:function(t,e){for(var n,r=XO(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)QO.call(n,o)&&(r[o]=n[o]);if(iw){i=iw(n);for(var a=0;a<i.length;a++)YO.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const eM=yo(ZO);var Wi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},re={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(re).map(function(t){return re[t]});var Re={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Bc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},al={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},tM=Object.keys(Bc).reduce(function(t,e){return t[Bc[e]]=e,t},{}),nM=[re.NOSCRIPT,re.SCRIPT,re.STYLE],En="data-react-helmet",rM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iM=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},sM=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oM=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},sw=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},aM=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Fp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},lM=function(e){var n=Gs(e,re.TITLE),r=Gs(e,al.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Gs(e,al.DEFAULT_TITLE);return n||i||void 0},uM=function(e){return Gs(e,al.ON_CHANGE_CLIENT_STATE)||function(){}},ff=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return Nt({},r,i)},{})},cM=function(e,n){return n.filter(function(r){return typeof r[re.BASE]<"u"}).map(function(r){return r[re.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(e.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},na=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&pM("Helmet: "+e+' should be of type "Array". Instead found type "'+rM(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(p){for(var y=void 0,E=Object.keys(p),S=0;S<E.length;S++){var C=E[S],T=C.toLowerCase();n.indexOf(T)!==-1&&!(y===Re.REL&&p[y].toLowerCase()==="canonical")&&!(T===Re.REL&&p[T].toLowerCase()==="stylesheet")&&(y=T),n.indexOf(C)!==-1&&(C===Re.INNER_HTML||C===Re.CSS_TEXT||C===Re.ITEM_PROP)&&(y=C)}if(!y||!p[y])return!1;var v=p[y].toLowerCase();return i[y]||(i[y]={}),a[y]||(a[y]={}),i[y][v]?!1:(a[y][v]=!0,!0)}).reverse().forEach(function(p){return s.push(p)});for(var l=Object.keys(a),c=0;c<l.length;c++){var h=l[c],d=eM({},i[h],a[h]);i[h]=d}return s},[]).reverse()},Gs=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},hM=function(e){return{baseTag:cM([Re.HREF,Re.TARGET],e),bodyAttributes:ff(Wi.BODY,e),defer:Gs(e,al.DEFER),encode:Gs(e,al.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ff(Wi.HTML,e),linkTags:na(re.LINK,[Re.REL,Re.HREF],e),metaTags:na(re.META,[Re.NAME,Re.CHARSET,Re.HTTPEQUIV,Re.PROPERTY,Re.ITEM_PROP],e),noscriptTags:na(re.NOSCRIPT,[Re.INNER_HTML],e),onChangeClientState:uM(e),scriptTags:na(re.SCRIPT,[Re.SRC,Re.INNER_HTML],e),styleTags:na(re.STYLE,[Re.CSS_TEXT],e),title:lM(e),titleAttributes:ff(Wi.TITLE,e)}},Up=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Up(e)},0)}}(),ow=function(e){return clearTimeout(e)},dM=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Up:global.requestAnimationFrame||Up,fM=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ow:global.cancelAnimationFrame||ow,pM=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},ra=null,mM=function(e){ra&&fM(ra),e.defer?ra=dM(function(){aw(e,function(){ra=null})}):(aw(e),ra=null)},aw=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.onChangeClientState,h=e.scriptTags,d=e.styleTags,p=e.title,y=e.titleAttributes;Bp(re.BODY,i),Bp(re.HTML,s),gM(p,y);var E={baseTag:_s(re.BASE,r),linkTags:_s(re.LINK,o),metaTags:_s(re.META,a),noscriptTags:_s(re.NOSCRIPT,l),scriptTags:_s(re.SCRIPT,h),styleTags:_s(re.STYLE,d)},S={},C={};Object.keys(E).forEach(function(T){var v=E[T],_=v.newTags,b=v.oldTags;_.length&&(S[T]=_),b.length&&(C[T]=E[T].oldTags)}),n&&n(),c(e,S,C)},LS=function(e){return Array.isArray(e)?e.join(""):e},gM=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=LS(e)),Bp(re.TITLE,n)},Bp=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(En),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],h=n[c]||"";r.getAttribute(c)!==h&&r.setAttribute(c,h),s.indexOf(c)===-1&&s.push(c);var d=o.indexOf(c);d!==-1&&o.splice(d,1)}for(var p=o.length-1;p>=0;p--)r.removeAttribute(o[p]);s.length===o.length?r.removeAttribute(En):r.getAttribute(En)!==a.join(",")&&r.setAttribute(En,a.join(","))}},_s=function(e,n){var r=document.head||document.querySelector(re.HEAD),i=r.querySelectorAll(e+"["+En+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(e);for(var h in l)if(l.hasOwnProperty(h))if(h===Re.INNER_HTML)c.innerHTML=l.innerHTML;else if(h===Re.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var d=typeof l[h]>"u"?"":l[h];c.setAttribute(h,d)}c.setAttribute(En,"true"),s.some(function(p,y){return a=y,c.isEqualNode(p)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},jS=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},yM=function(e,n,r,i){var s=jS(r),o=LS(n);return s?"<"+e+" "+En+'="true" '+s+">"+Fp(o,i)+"</"+e+">":"<"+e+" "+En+'="true">'+Fp(o,i)+"</"+e+">"},vM=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===Re.INNER_HTML||c===Re.CSS_TEXT)}).reduce(function(c,h){var d=typeof s[h]>"u"?h:h+'="'+Fp(s[h],r)+'"';return c?c+" "+d:d},""),a=s.innerHTML||s.cssText||"",l=nM.indexOf(e)===-1;return i+"<"+e+" "+En+'="true" '+o+(l?"/>":">"+a+"</"+e+">")},"")},FS=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Bc[i]||i]=e[i],r},n)},_M=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[tM[i]||i]=e[i],r},n)},wM=function(e,n,r){var i,s=(i={key:n},i[En]=!0,i),o=FS(r,s);return[Ne.createElement(re.TITLE,o,n)]},EM=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[En]=!0,s);return Object.keys(r).forEach(function(a){var l=Bc[a]||a;if(l===Re.INNER_HTML||l===Re.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),Ne.createElement(e,o)})},qn=function(e,n,r){switch(e){case re.TITLE:return{toComponent:function(){return wM(e,n.title,n.titleAttributes)},toString:function(){return yM(e,n.title,n.titleAttributes,r)}};case Wi.BODY:case Wi.HTML:return{toComponent:function(){return FS(n)},toString:function(){return jS(n)}};default:return{toComponent:function(){return EM(e,n)},toString:function(){return vM(e,n,r)}}}},US=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.scriptTags,h=e.styleTags,d=e.title,p=d===void 0?"":d,y=e.titleAttributes;return{base:qn(re.BASE,n,i),bodyAttributes:qn(Wi.BODY,r,i),htmlAttributes:qn(Wi.HTML,s,i),link:qn(re.LINK,o,i),meta:qn(re.META,a,i),noscript:qn(re.NOSCRIPT,l,i),script:qn(re.SCRIPT,c,i),style:qn(re.STYLE,h,i),title:qn(re.TITLE,{title:p,titleAttributes:y},i)}},TM=function(e){var n,r;return r=n=function(i){oM(s,i);function s(){return iM(this,s),aM(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!KO(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case re.SCRIPT:case re.NOSCRIPT:return{innerHTML:l};case re.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,h=a.arrayTypeChildren,d=a.newChildProps,p=a.nestedChildren;return Nt({},h,(l={},l[c.type]=[].concat(h[c.type]||[],[Nt({},d,this.mapNestedChildrenToProps(c,p))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,h=a.child,d=a.newProps,p=a.newChildProps,y=a.nestedChildren;switch(h.type){case re.TITLE:return Nt({},d,(l={},l[h.type]=y,l.titleAttributes=Nt({},p),l));case re.BODY:return Nt({},d,{bodyAttributes:Nt({},p)});case re.HTML:return Nt({},d,{htmlAttributes:Nt({},p)})}return Nt({},d,(c={},c[h.type]=Nt({},p),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=Nt({},l);return Object.keys(a).forEach(function(h){var d;c=Nt({},c,(d={},d[h]=a[h],d))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,h={};return Ne.Children.forEach(a,function(d){if(!(!d||!d.props)){var p=d.props,y=p.children,E=sw(p,["children"]),S=_M(E);switch(c.warnOnInvalidChildren(d,y),d.type){case re.LINK:case re.META:case re.NOSCRIPT:case re.SCRIPT:case re.STYLE:h=c.flattenArrayTypeChildren({child:d,arrayTypeChildren:h,newChildProps:S,nestedChildren:y});break;default:l=c.mapObjectTypeChildren({child:d,newProps:l,newChildProps:S,nestedChildren:y});break}}}),l=this.mapArrayTypeChildrenToProps(h,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=sw(a,["children"]),h=Nt({},c);return l&&(h=this.mapChildrenToProps(l,h)),Ne.createElement(e,h)},sM(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(Ne.Component),n.propTypes={base:Ae.object,bodyAttributes:Ae.object,children:Ae.oneOfType([Ae.arrayOf(Ae.node),Ae.node]),defaultTitle:Ae.string,defer:Ae.bool,encodeSpecialCharacters:Ae.bool,htmlAttributes:Ae.object,link:Ae.arrayOf(Ae.object),meta:Ae.arrayOf(Ae.object),noscript:Ae.arrayOf(Ae.object),onChangeClientState:Ae.func,script:Ae.arrayOf(Ae.object),style:Ae.arrayOf(Ae.object),title:Ae.string,titleAttributes:Ae.object,titleTemplate:Ae.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=US({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},xM=function(){return null},SM=zO(hM,mM,US)(xM),ai=TM(SM);ai.renderStatic=ai.rewind;function BS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zS(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BS(t))&&(r&&(r+=" "),r+=e);return r}function IM(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=$S(e))&&(r&&(r+=" "),r+=n);return r}function $S(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=$S(t[r]))&&(n&&(n+=" "),n+=e);return n}var jg="-";function CM(t){var e=AM(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(jg);return l[0]===""&&l.length!==1&&l.shift(),WS(l,e)||PM(a)}function o(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function WS(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?WS(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(jg);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var lw=/^\[(.+)\]$/;function PM(t){if(lw.test(t)){var e=lw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function AM(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=kM(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];zp(a,r,o,e)}),r}function zp(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:uw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(RM(i)){zp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];zp(l,uw(e,a),n,r)})})}function uw(t,e){var n=t;return e.split(jg).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function RM(t){return t.isThemeGetter}function kM(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):t}function bM(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var HS="!";function NM(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,h,d=0;d<o.length;d++){var p=o[d];if(l===0){if(p===r&&(n||o.slice(d,d+i)===e)){a.push(o.slice(c,d)),c=d+i;continue}if(p==="/"){h=d;continue}}p==="["?l++:p==="]"&&l--}var y=a.length===0?o:o.substring(c),E=y.startsWith(HS),S=E?y.substring(1):y,C=h&&h>c?h-c:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:S,maybePostfixModifierPosition:C}}}function VM(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function DM(t){return{cache:bM(t.cacheSize),splitModifiers:NM(t),...CM(t)}}var OM=/\s+/;function MM(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(OM).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,h=a.baseClassName,d=a.maybePostfixModifierPosition,p=r(d?h.substring(0,d):h),y=!!d;if(!p){if(!d)return{isTailwindClass:!1,originalClassName:o};if(p=r(h),!p)return{isTailwindClass:!1,originalClassName:o};y=!1}var E=VM(l).join(":"),S=c?E+HS:E;return{isTailwindClass:!0,modifierId:S,classGroupId:p,originalClassName:o,hasPostfixModifier:y}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,h=a+l;return s.has(h)?!1:(s.add(h),i(l,c).forEach(function(d){return s.add(a+d)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function LM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(c){var h=e[0],d=e.slice(1),p=d.reduce(function(y,E){return E(y)},h());return r=DM(p),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var h=i(c);if(h)return h;var d=MM(c,r);return s(c,d),d}return function(){return o(IM.apply(null,arguments))}}function Se(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var qS=/^\[(?:([a-z-]+):)?(.+)\]$/i,jM=/^\d+\/\d+$/,FM=new Set(["px","full","screen"]),UM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zM=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function yn(t){return Fi(t)||FM.has(t)||jM.test(t)||$p(t)}function $p(t){return us(t,"length",KM)}function $M(t){return us(t,"size",GS)}function WM(t){return us(t,"position",GS)}function HM(t){return us(t,"url",QM)}function Iu(t){return us(t,"number",Fi)}function Fi(t){return!Number.isNaN(Number(t))}function qM(t){return t.endsWith("%")&&Fi(t.slice(0,-1))}function ia(t){return cw(t)||us(t,"number",cw)}function ae(t){return qS.test(t)}function sa(){return!0}function Ir(t){return UM.test(t)}function GM(t){return us(t,"",YM)}function us(t,e,n){var r=qS.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function KM(t){return BM.test(t)}function GS(){return!1}function QM(t){return t.startsWith("url(")}function cw(t){return Number.isInteger(Number(t))}function YM(t){return zM.test(t)}function XM(){var t=Se("colors"),e=Se("spacing"),n=Se("blur"),r=Se("brightness"),i=Se("borderColor"),s=Se("borderRadius"),o=Se("borderSpacing"),a=Se("borderWidth"),l=Se("contrast"),c=Se("grayscale"),h=Se("hueRotate"),d=Se("invert"),p=Se("gap"),y=Se("gradientColorStops"),E=Se("gradientColorStopPositions"),S=Se("inset"),C=Se("margin"),T=Se("opacity"),v=Se("padding"),_=Se("saturate"),b=Se("scale"),O=Se("sepia"),L=Se("skew"),I=Se("space"),w=Se("translate"),A=function(){return["auto","contain","none"]},R=function(){return["auto","hidden","clip","visible","scroll"]},V=function(){return["auto",ae,e]},N=function(){return[ae,e]},k=function(){return["",yn]},$=function(){return["auto",Fi,ae]},me=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},se=function(){return["solid","dashed","dotted","double","none"]},_e=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},B=function(){return["start","end","center","between","around","evenly","stretch"]},q=function(){return["","0",ae]},Y=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},K=function(){return[Fi,Iu]},ie=function(){return[Fi,ae]};return{cacheSize:500,theme:{colors:[sa],spacing:[yn],blur:["none","",Ir,ae],brightness:K(),borderColor:[t],borderRadius:["none","","full",Ir,ae],borderSpacing:N(),borderWidth:k(),contrast:K(),grayscale:q(),hueRotate:ie(),invert:q(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[qM,$p],inset:V(),margin:V(),opacity:K(),padding:N(),saturate:K(),scale:K(),sepia:q(),skew:ie(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[Ir]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(me(),[ae])}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ia]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",ia]}],"grid-cols":[{"grid-cols":[sa]}],"col-start-end":[{col:["auto",{span:["full",ia]},ae]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[sa]}],"row-start-end":[{row:["auto",{span:[ia]},ae]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(B())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(B(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(B(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ae,e]}],"min-w":[{"min-w":["min","max","fit",ae,yn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ir]},Ir,ae]}],h:[{h:[ae,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ae,yn]}],"max-h":[{"max-h":[ae,e,"min","max","fit"]}],"font-size":[{text:["base",Ir,$p]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Iu]}],"font-family":[{font:[sa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",Fi,Iu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ae,yn]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(se(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",yn]}],"underline-offset":[{"underline-offset":["auto",ae,yn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(me(),[WM])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$M]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[].concat(se(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(se())}],"outline-offset":[{"outline-offset":[ae,yn]}],"outline-w":[{outline:[yn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[yn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ir,GM]}],"shadow-color":[{shadow:[sa]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":_e()}],"bg-blend":[{"bg-blend":_e()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ir,ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ia,ae]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[yn,Iu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var JM=LM(XM);function yr(...t){return JM(zS(t))}function hw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KS(...t){return e=>{let n=!1;const r=t.map(i=>{const s=hw(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():hw(t[i],null)}}}}function Xi(...t){return P.useCallback(KS(...t),t)}function zc(t){const e=eL(t),n=P.forwardRef((r,i)=>{const{children:s,...o}=r,a=P.Children.toArray(s),l=a.find(nL);if(l){const c=l.props.children,h=a.map(d=>d===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:d);return g.jsx(e,{...o,ref:i,children:P.isValidElement(c)?P.cloneElement(c,void 0,h):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var ZM=zc("Slot");function eL(t){const e=P.forwardRef((n,r)=>{const{children:i,...s}=n;if(P.isValidElement(i)){const o=iL(i),a=rL(s,i.props);return i.type!==P.Fragment&&(a.ref=r?KS(r,o):o),P.cloneElement(i,a)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tL=Symbol("radix.slottable");function nL(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tL}function rL(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function iL(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const dw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fw=zS,Fg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return fw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],d=s==null?void 0:s[c];if(h===null)return null;const p=dw(h)||dw(d);return i[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[d,p]=h;return p===void 0||(c[d]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:d,className:p,...y}=h;return Object.entries(y).every(E=>{let[S,C]=E;return Array.isArray(C)?C.includes({...s,...a}[S]):{...s,...a}[S]===C})?[...c,d,p]:c},[]);return fw(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},sL=Fg("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=Ne.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ZM:"button";return g.jsx(o,{className:yr(sL({variant:e,size:n,className:t})),ref:s,...i})});ue.displayName="Button";var oL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ve=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>P.createElement("svg",{ref:c,...oL,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${aL(t)}`,...l},[...e.map(([h,d])=>P.createElement(h,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},QS=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ug=ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),lL=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),uL=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),cL=ve("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),hL=ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),dL=ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fL=ve("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),YS=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),XS=ve("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),pL=ve("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),mL=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),gL=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),JS=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),yL=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),vL=ve("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),ZS=ve("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),_L=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),wL=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),EL=ve("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),lo=ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),TL=ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Bg=ve("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),eI=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),xL=ve("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),$c=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),tI=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),SL=ve("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),pf=({icon:t,title:e,description:n,delay:r})=>g.jsxs(Qe.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:r},className:"bg-white dark:bg-gray-800/50 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-violet-500",children:[g.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-br from-violet-500 to-blue-500 text-white mb-4",children:t}),g.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:e}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n})]}),mf=({quote:t,author:e,role:n,delay:r})=>g.jsxs(Qe.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:r},className:"bg-white dark:bg-gray-800/50 p-8 rounded-2xl shadow-lg text-center",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 italic mb-4",children:['"',t,'"']}),g.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:e}),g.jsx("p",{className:"text-sm text-violet-500 dark:text-violet-400",children:n})]}),IL=()=>g.jsxs(g.Fragment,{children:[g.jsxs(ai,{children:[g.jsx("title",{children:"Wishlist2Cart - Transform Your Desires Into Deliveries"}),g.jsx("meta",{name:"description",content:"Wishlist2Cart helps you consolidate your wishlists from various e-commerce sites and turn them into purchases. Your central hub for all your shopping desires."})]}),g.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"overflow-x-hidden",children:[g.jsxs("section",{className:"relative py-20 md:py-32 bg-grid-gray-200/[0.2] dark:bg-grid-gray-800/[0.2]",children:[g.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full bg-white dark:bg-gray-900 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] dark:bg-[radial-gradient(#374151_1px,transparent_1px)] [background-size:16px_16px]"}),g.jsxs("div",{className:"container mx-auto px-4 text-center",children:[g.jsx(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"text-4xl md:text-6xl font-extrabold tracking-tight mb-4 bg-clip-text text-transparent bg-gradient-to-br from-gray-900 to-gray-600 dark:from-white dark:to-gray-300",children:"Transform Your Desires"}),g.jsx(Qe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2,ease:"easeOut"},className:"text-4xl md:text-6xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-br from-violet-600 to-blue-500",children:"Into Deliveries"}),g.jsx(Qe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4,ease:"easeOut"},className:"max-w-2xl mx-auto text-lg md:text-xl text-gray-600 dark:text-gray-400 mb-10",children:"Consolidate wishlists from all your favorite stores. One place to track, manage, and purchase everything you love."}),g.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6,ease:"easeOut"},className:"flex justify-center gap-4",children:[g.jsx(ue,{size:"lg",asChild:!0,children:g.jsxs(sn,{to:"/add-wishlist",children:["Add Wishlist ",g.jsx(QS,{className:"ml-2 h-5 w-5"})]})}),g.jsx(ue,{size:"lg",variant:"outline",asChild:!0,children:g.jsxs(sn,{to:"/cart",children:["View Cart ",g.jsx(lo,{className:"ml-2 h-5 w-5"})]})})]})]})]}),g.jsx("section",{className:"py-20 md:py-28 bg-gray-50 dark:bg-gray-950",children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:"How It Works"}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Simple steps to shopping bliss."})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsx(pf,{icon:g.jsx(SL,{size:24}),title:"1. Add Wishlist URLs",description:"Simply paste the URL of any product from any online store. We'll fetch the details automatically.",delay:.1}),g.jsx(pf,{icon:g.jsx(lL,{size:24}),title:"2. Organize Everything",description:"Your items appear in one unified dashboard. Tag, categorize, and prioritize your desires with ease.",delay:.2}),g.jsx(pf,{icon:g.jsx(lo,{size:24}),title:"3. Move to Cart & Buy",description:"When you're ready, move items to your aggregated cart and we'll guide you to checkout on the original site.",delay:.3})]})]})}),g.jsx("section",{className:"py-20 md:py-28 bg-white dark:bg-gray-900",children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:"Loved by Shoppers Worldwide"}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Don't just take our word for it."})]}),g.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[g.jsx(mf,{quote:"Wishlist2Cart has revolutionized my online shopping. I can finally keep track of everything in one place. It's a game-changer!",author:"Sarah J.",role:" Avid Online Shopper",delay:.1}),g.jsx(mf,{quote:"As a bargain hunter, this tool is indispensable. The price comparison feature has saved me hundreds of dollars. Highly recommended.",author:"Mike R.",role:"Smart Spender",delay:.2}),g.jsx(mf,{quote:"I love the collaborative wishlist feature. My friends and I use it for gift ideas. It makes birthdays and holidays so much easier!",author:"Emily C.",role:"Social Butterfly",delay:.3})]})]})})]})]}),CL=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(p=64)),r.push(n[h],n[d],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new AL;const p=s<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),d!==64){const E=c<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RL=function(t){const e=nI(t);return rI.encodeByteArray(e,!0)},Wc=function(t){return RL(t).replace(/\./g,"")},iI=function(t){try{return rI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=()=>kL().__FIREBASE_DEFAULTS__,NL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iI(t[1]);return e&&JSON.parse(e)},Fh=()=>{try{return CL()||bL()||NL()||VL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sI=t=>{var e,n;return(n=(e=Fh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},DL=t=>{const e=sI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oI=()=>{var t;return(t=Fh())==null?void 0:t.config},aI=t=>{var e;return(e=Fh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[Wc(JSON.stringify(n)),Wc(JSON.stringify(o)),a].join(".")}const Na={};function LL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Na))Na[e]?t.emulator.push(e):t.prod.push(e);return t}function jL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pw=!1;function uI(t,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Na[t]===e||Na[t]||pw)return;Na[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=LL().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{pw=!0,o()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=jL(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),S=n("learnmore"),C=document.getElementById(S)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const _=p.element;a(_),h(C,S);const b=c();l(v,T),_.append(v,E,C,b),document.body.appendChild(_)}s?(E.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function UL(){var e;const t=(e=Fh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $L(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WL(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HL(){return!UL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qL(){try{return typeof indexedDB=="object"}catch{return!1}}function GL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="FirebaseError";class vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KL,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new vr(i,a,r)}}function QL(t,e){return t.replace(YL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YL=/\{\$([^}]+)}/g;function XL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ji(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mw(s)&&mw(o)){if(!Ji(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JL(t,e){const n=new ZL(t,e);return n.subscribe.bind(n)}class ZL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gf),i.error===void 0&&(i.error=gf),i.complete===void 0&&(i.complete=gf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t4=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r4(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function n4(t){return t===Vi?void 0:t}function r4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const s4={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},o4=le.INFO,a4={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},l4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=a4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zg{constructor(e){this.name=e,this._logLevel=o4,this._logHandler=l4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const u4=(t,e)=>e.some(n=>t instanceof n);let gw,yw;function c4(){return gw||(gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h4(){return yw||(yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cI=new WeakMap,Wp=new WeakMap,hI=new WeakMap,yf=new WeakMap,$g=new WeakMap;function d4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cI.set(n,t)}).catch(()=>{}),$g.set(e,t),e}function f4(t){if(Wp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wp.set(t,e)}let Hp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p4(t){Hp=t(Hp)}function m4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vf(this),e,...n);return hI.set(r,e.sort?e.sort():[e]),Jr(r)}:h4().includes(t)?function(...e){return t.apply(vf(this),e),Jr(cI.get(this))}:function(...e){return Jr(t.apply(vf(this),e))}}function g4(t){return typeof t=="function"?m4(t):(t instanceof IDBTransaction&&f4(t),u4(t,c4())?new Proxy(t,Hp):t)}function Jr(t){if(t instanceof IDBRequest)return d4(t);if(yf.has(t))return yf.get(t);const e=g4(t);return e!==t&&(yf.set(t,e),$g.set(e,t)),e}const vf=t=>$g.get(t);function y4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Jr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Jr(o.result),l.oldVersion,l.newVersion,Jr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const v4=["get","getKey","getAll","getAllKeys","count"],_4=["put","add","delete","clear"],_f=new Map;function vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_f.get(e))return _f.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return _f.set(e,s),s}p4(t=>({...t,get:(e,n,r)=>vw(e,n)||t.get(e,n,r),has:(e,n)=>!!vw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function E4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qp="@firebase/app",_w="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new zg("@firebase/app"),T4="@firebase/app-compat",x4="@firebase/analytics-compat",S4="@firebase/analytics",I4="@firebase/app-check-compat",C4="@firebase/app-check",P4="@firebase/auth",A4="@firebase/auth-compat",R4="@firebase/database",k4="@firebase/data-connect",b4="@firebase/database-compat",N4="@firebase/functions",V4="@firebase/functions-compat",D4="@firebase/installations",O4="@firebase/installations-compat",M4="@firebase/messaging",L4="@firebase/messaging-compat",j4="@firebase/performance",F4="@firebase/performance-compat",U4="@firebase/remote-config",B4="@firebase/remote-config-compat",z4="@firebase/storage",$4="@firebase/storage-compat",W4="@firebase/firestore",H4="@firebase/ai",q4="@firebase/firestore-compat",G4="firebase",K4="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="[DEFAULT]",Q4={[qp]:"fire-core",[T4]:"fire-core-compat",[S4]:"fire-analytics",[x4]:"fire-analytics-compat",[C4]:"fire-app-check",[I4]:"fire-app-check-compat",[P4]:"fire-auth",[A4]:"fire-auth-compat",[R4]:"fire-rtdb",[k4]:"fire-data-connect",[b4]:"fire-rtdb-compat",[N4]:"fire-fn",[V4]:"fire-fn-compat",[D4]:"fire-iid",[O4]:"fire-iid-compat",[M4]:"fire-fcm",[L4]:"fire-fcm-compat",[j4]:"fire-perf",[F4]:"fire-perf-compat",[U4]:"fire-rc",[B4]:"fire-rc-compat",[z4]:"fire-gcs",[$4]:"fire-gcs-compat",[W4]:"fire-fst",[q4]:"fire-fst-compat",[H4]:"fire-vertex","fire-js":"fire-js",[G4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,Y4=new Map,Kp=new Map;function ww(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(Kp.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,t);for(const n of Hc.values())ww(n,t);for(const n of Y4.values())ww(n,t);return!0}function Wg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new Rl("app","Firebase",X4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=K4;function dI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=oI()),!n)throw Zr.create("no-options");const s=Hc.get(i);if(s){if(Ji(n,s.options)&&Ji(r,s.config))return s;throw Zr.create("duplicate-app",{appName:i})}const o=new i4(i);for(const l of Kp.values())o.addComponent(l);const a=new J4(n,r,o);return Hc.set(i,a),a}function fI(t=Gp){const e=Hc.get(t);if(!e&&t===Gp&&oI())return dI();if(!e)throw Zr.create("no-app",{appName:t});return e}function ei(t,e,n){let r=Q4[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(o.join(" "));return}uo(new Zi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="firebase-heartbeat-database",ej=1,ll="firebase-heartbeat-store";let wf=null;function pI(){return wf||(wf=y4(Z4,ej,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ll)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zr.create("idb-open",{originalErrorMessage:t.message})})),wf}async function tj(t){try{const n=(await pI()).transaction(ll),r=await n.objectStore(ll).get(mI(t));return await n.done,r}catch(e){if(e instanceof vr)hr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(n.message)}}}async function Ew(t,e){try{const r=(await pI()).transaction(ll,"readwrite");await r.objectStore(ll).put(e,mI(t)),await r.done}catch(n){if(n instanceof vr)hr.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(r.message)}}}function mI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=1024,rj=30;class ij{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>rj){const o=aj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tw(),{heartbeatsToSend:r,unsentEntries:i}=sj(this._heartbeatsCache.heartbeats),s=Wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return hr.warn(n),""}}}function Tw(){return new Date().toISOString().substring(0,10)}function sj(t,e=nj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qL()?GL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xw(t){return Wc(JSON.stringify({version:2,heartbeats:t})).length}function aj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){uo(new Zi("platform-logger",e=>new w4(e),"PRIVATE")),uo(new Zi("heartbeat",e=>new ij(e),"PRIVATE")),ei(qp,_w,t),ei(qp,_w,"esm2020"),ei("fire-js","")}lj("");function gI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uj=gI,yI=new Rl("auth","Firebase",gI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new zg("@firebase/auth");function cj(t,...e){qc.logLevel<=le.WARN&&qc.warn(`Auth (${Io}): ${t}`,...e)}function Qu(t,...e){qc.logLevel<=le.ERROR&&qc.error(`Auth (${Io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw qg(t,...e)}function Cn(t,...e){return qg(t,...e)}function Hg(t,e,n){const r={...uj(),[e]:n};return new Rl("auth","Firebase",r).create(e,{appName:t.name})}function ir(t){return Hg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),Hg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yI.create(t,...e)}function J(t,e,...n){if(!t)throw qg(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qu(e),new Error(e)}function dr(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function vI(){return Sw()==="http:"||Sw()==="https:"}function Sw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vI()||zL()||"connection"in navigator)?navigator.onLine:!0}function fj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=FL()||$L()}get(){return dj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gj=new bl(3e4,6e4);function _r(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function wr(t,e,n,r,i={}){return wI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=kl({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return BL()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&So(t.emulatorConfig.host)&&(c.credentials="include"),_I.fetch()(await EI(t,t.config.apiHost,n,a),c)})}async function wI(t,e,n){t._canInitEmulator=!1;const r={...pj,...e};try{const i=new vj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Hg(t,h,c);pn(t,h)}}catch(i){if(i instanceof vr)throw i;pn(t,"network-request-failed",{message:String(i)})}}async function Nl(t,e,n,r,i={}){const s=await wr(t,e,n,r,i);return"mfaPendingCredential"in s&&pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function EI(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Gg(t.config,i):`${t.config.apiScheme}://${i}`;return mj.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function yj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),gj.get())})}}function Cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cn(t,e,r);return i.customData._tokenResponse=n,i}function Iw(t){return t!==void 0&&t.enterprise!==void 0}class _j{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wj(t,e){return wr(t,"GET","/v2/recaptchaConfig",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,e){return wr(t,"POST","/v1/accounts:delete",e)}async function Kc(t,e){return wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tj(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),i=Kg(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Va(Ef(i.auth_time)),issuedAtTime:Va(Ef(i.iat)),expirationTime:Va(Ef(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ef(t){return Number(t)*1e3}function Kg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const i=iI(n);return i?JSON.parse(i):(Qu("Failed to decode base64 JWT payload"),null)}catch(i){return Qu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Cw(t){const e=Kg(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vr&&xj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t){var d;const e=t.auth,n=await t.getIdToken(),r=await ul(t,Kc(e,{idToken:n}));J(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?TI(i.providerUserInfo):[],o=Cj(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qp(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Ij(t){const e=Ut(t);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e){const n=await wI(t,{},async()=>{const r=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await EI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&So(t.emulatorConfig.host)&&(l.credentials="include"),_I.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aj(t,e){return wr(t,"POST","/v2/accounts:revokeToken",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=Cw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Pj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ks;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ks,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Sj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ul(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tj(this,e)}reload(){return Ij(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wt(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await ul(this,Ej(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:y,providerData:E,stsTokenManager:S}=n;J(d&&S,e,"internal-error");const C=Ks.fromJSON(this.name,S);J(typeof d=="string",e,"internal-error"),Cr(r,e.name),Cr(i,e.name),J(typeof p=="boolean",e,"internal-error"),J(typeof y=="boolean",e,"internal-error"),Cr(s,e.name),Cr(o,e.name),Cr(a,e.name),Cr(l,e.name),Cr(c,e.name),Cr(h,e.name);const T=new Tn({uid:d,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:C,createdAt:c,lastLoginAt:h});return E&&Array.isArray(E)&&(T.providerData=E.map(v=>({...v}))),l&&(T._redirectEventId=l),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ks;i.updateFromServerResponse(n);const s=new Tn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];J(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?TI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ks;a.updateFromIdToken(r);const l=new Tn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;function er(t){dr(t instanceof Function,"Expected a class definition");let e=Pw.get(t);return e?(dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xI.type="NONE";const Aw=xI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t,e,n){return`firebase:${t}:${e}:${n}`}class Qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Yu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kc(this.auth,{idToken:e}).catch(()=>{});return n?Tn._fromGetAccountInfoResponse(this.auth,n,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qs(er(Aw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||er(Aw);const o=Yu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const p=await Kc(e,{idToken:h}).catch(()=>{});if(!p)break;d=await Tn._fromGetAccountInfoResponse(e,p,h)}else d=Tn._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Qs(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Qs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RI(e))return"Blackberry";if(kI(e))return"Webos";if(II(e))return"Safari";if((e.includes("chrome/")||CI(e))&&!e.includes("edge/"))return"Chrome";if(AI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SI(t=Et()){return/firefox\//i.test(t)}function II(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CI(t=Et()){return/crios\//i.test(t)}function PI(t=Et()){return/iemobile/i.test(t)}function AI(t=Et()){return/android/i.test(t)}function RI(t=Et()){return/blackberry/i.test(t)}function kI(t=Et()){return/webos/i.test(t)}function Qg(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Rj(t=Et()){var e;return Qg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function kj(){return WL()&&document.documentMode===10}function bI(t=Et()){return Qg(t)||AI(t)||kI(t)||RI(t)||/windows phone/i.test(t)||PI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e=[]){let n;switch(t){case"Browser":n=Rw(Et());break;case"Worker":n=`${Rw(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,e={}){return wr(t,"GET","/v2/passwordPolicy",_r(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=6;class Dj{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Vj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kw(this),this.idTokenSubscription=new kw(this),this.beforeStateQueue=new bj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Qs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kc(this,{idToken:e}),r=await Tn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Wt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wt(this.app))return Promise.reject(ir(this));const n=e?Ut(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wt(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wt(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nj(this),n=new Dj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Qs.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&cj(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function wi(t){return Ut(t)}class kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=JL(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mj(t){Uh=t}function VI(t){return Uh.loadJS(t)}function Lj(){return Uh.recaptchaEnterpriseScript}function jj(){return Uh.gapiScript}function Fj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Uj{constructor(){this.enterprise=new Bj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Bj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zj="recaptcha-enterprise",DI="NO_RECAPTCHA";class $j{constructor(e){this.type=zj,this.auth=wi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{wj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new _j(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Iw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(DI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uj().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Iw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Lj();l.length!==0&&(l+=a),VI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function oa(t,e,n,r=!1,i=!1){const s=new $j(t);let o;if(i)o=DI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Yp(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await oa(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await oa(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await oa(t,e,n);return r(t,a).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())==null?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await oa(t,e,n,!1,!0);return r(t,h)}return Promise.reject(l)})}else{const a=await oa(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e){const n=Wg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ji(s,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function Hj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qj(t,e,n){const r=wi(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=OI(e),{host:o,port:a}=Gj(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(Ji(c,r.config.emulator)&&Ji(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,So(o)?(lI(`${s}//${o}${l}`),uI("Auth",!0)):i||Kj()}function OI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gj(t){const e=OI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bw(o)}}}function bw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}async function Qj(t,e){return wr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e){return Nl(t,"POST","/v1/accounts:signInWithPassword",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e){return Nl(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))}async function Jj(t,e){return Nl(t,"POST","/v1/accounts:signInWithEmailLink",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Yg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,n,"signInWithPassword",Yj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Xj(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yp(e,r,"signUpPassword",Qj,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Jj(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t,e){return Nl(t,"POST","/v1/accounts:signInWithIdp",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj="http://localhost";class es extends Yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new es(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ys(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ys(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ys(e,n)}buildRequest(){const e={requestUri:Zj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tF(t){const e=fa(pa(t)).link,n=e?fa(pa(e)).deep_link_id:null,r=fa(pa(t)).deep_link_id;return(r?fa(pa(r)).link:null)||r||n||e||t}class Xg{constructor(e){const n=fa(pa(e)),r=n.apiKey??null,i=n.oobCode??null,s=eF(n.mode??null);J(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tF(e);try{return new Xg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return cl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Xg.parseLink(n);return J(r,"argument-error"),cl._fromEmailAndCode(e,r.code,r.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Jg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Vl{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qn.credential(n,r)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Vl{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Vl{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){return Nl(t,"POST","/v1/accounts:signUp",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Tn._fromIdTokenResponse(e,r,i),o=Nw(r);return new ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Nw(r);return new ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Nw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends vr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yc(e,n,r,i)}}function MI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(t,s,e,r):s})}async function rF(t,e,n=!1){const r=await ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e,n=!1){const{auth:r}=t;if(Wt(r.app))return Promise.reject(ir(r));const i="reauthenticate";try{const s=await ul(t,MI(r,i,e,t),n);J(s.idToken,r,"internal-error");const o=Kg(s.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(t,e,n=!1){if(Wt(t.app))return Promise.reject(ir(t));const r="signIn",i=await MI(t,r,e),s=await ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function sF(t,e){return LI(wi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(t){const e=wi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oF(t,e,n){if(Wt(t.app))return Promise.reject(ir(t));const r=wi(t),o=await Yp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nF,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jI(t),l}),a=await ts._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function aF(t,e,n){return Wt(t.app)?Promise.reject(ir(t)):sF(Ut(t),Co.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){return wr(t,"POST","/v1/accounts:createAuthUri",_r(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uF(t,e){const n=vI()?Gc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await lF(Ut(t),r);return i||[]}function cF(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function hF(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function dF(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}function fF(t){return Ut(t).signOut()}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=1e3,mF=10;class UI extends FI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);kj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,mF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UI.type="LOCAL";const gF=UI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI extends FI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BI.type="SESSION";const zI=BI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await yF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Zg("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function _F(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function wF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function TF(){return $I()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firebaseLocalStorageDb",xF=1,Jc="firebaseLocalStorage",HI="fbase_key";class Dl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(t,e){return t.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function SF(){const t=indexedDB.deleteDatabase(WI);return new Dl(t).toPromise()}function Xp(){const t=indexedDB.open(WI,xF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jc,{keyPath:HI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jc)?e(r):(r.close(),await SF(),e(await Xp()))})})}async function Vw(t,e,n){const r=zh(t,!0).put({[HI]:e,value:n});return new Dl(r).toPromise()}async function IF(t,e){const n=zh(t,!1).get(e),r=await new Dl(n).toPromise();return r===void 0?null:r.value}function Dw(t,e){const n=zh(t,!0).delete(e);return new Dl(n).toPromise()}const CF=800,PF=3;class qI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $I()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(TF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await wF(),!this.activeServiceWorker)return;this.sender=new vF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await Vw(e,Xc,"1"),await Dw(e,Xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=zh(i,!1).getAll();return new Dl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qI.type="LOCAL";const AF=qI;new bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){return e?er(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ys(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ys(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ys(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RF(t){return LI(t.auth,new ey(t),t.bypassAuthState)}function kF(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),iF(n,new ey(t),t.bypassAuthState)}async function bF(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),rF(n,new ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RF;case"linkViaPopup":case"linkViaRedirect":return bF;case"reauthViaPopup":case"reauthViaRedirect":return kF;default:pn(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new bl(2e3,1e4);async function VF(t,e,n){if(Wt(t.app))return Promise.reject(Cn(t,"operation-not-supported-in-this-environment"));const r=wi(t);hj(t,e,Jg);const i=GI(r,n);return new Ui(r,"signInViaPopup",e,i).executeNotNull()}class Ui extends KI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ui.currentPopupAction&&Ui.currentPopupAction.cancel(),Ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=Zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NF.get())};e()}}Ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="pendingRedirect",Xu=new Map;class OF extends KI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const r=await MF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MF(t,e){const n=FF(e),r=jF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function LF(t,e){Xu.set(t._key(),e)}function jF(t){return er(t._redirectPersistence)}function FF(t){return Yu(DF,t.config.apiKey,t.name)}async function UF(t,e,n=!1){if(Wt(t.app))return Promise.reject(ir(t));const r=wi(t),i=GI(r,e),o=await new OF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=10*60*1e3;class zF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$F(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QI(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BF&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ow(e))}saveEventToCache(e){this.cachedEventUids.add(Ow(e)),this.lastProcessedEventTime=Date.now()}}function Ow(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $F(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t,e={}){return wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qF=/^https?/;async function GF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WF(t);for(const n of e)try{if(KF(n))return}catch{}pn(t,"unauthorized-domain")}function KF(t){const e=Gc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qF.test(n))return!1;if(HF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new bl(3e4,6e4);function Mw(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YF(t){return new Promise((e,n)=>{var i,s,o;function r(){Mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mw(),n(Cn(t,"network-request-failed"))},timeout:QF.get()})}if((s=(i=Mn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Mn().gapi)!=null&&o.load)r();else{const a=Fj("iframefcb");return Mn()[a]=()=>{gapi.load?r():n(Cn(t,"network-request-failed"))},VI(`${jj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function XF(t){return Ju=Ju||YF(t),Ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new bl(5e3,15e3),ZF="__/auth/iframe",e3="emulator/auth/iframe",t3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r3(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gg(e,e3):`https://${t.config.authDomain}/${ZF}`,r={apiKey:e.apiKey,appName:t.name,v:Io},i=n3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${kl(r).slice(1)}`}async function i3(t){const e=await XF(t),n=Mn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:r3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cn(t,"network-request-failed"),a=Mn().setTimeout(()=>{s(o)},JF.get());function l(){Mn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o3=500,a3=600,l3="_blank",u3="http://localhost";class Lw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c3(t,e,n,r=o3,i=a3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...s3,width:r.toString(),height:i.toString(),top:s,left:o},c=Et().toLowerCase();n&&(a=CI(c)?l3:n),SI(c)&&(e=e||u3,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[y,E])=>`${p}${y}=${E},`,"");if(Rj(c)&&a!=="_self")return h3(e||"",a),new Lw(null);const d=window.open(e||"",a,h);J(d,t,"popup-blocked");try{d.focus()}catch{}return new Lw(d)}function h3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="__/auth/handler",f3="emulator/auth/handler",p3=encodeURIComponent("fac");async function jw(t,e,n,r,i,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Io,eventId:i};if(e instanceof Jg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",XL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(s||{}))o[h]=d}if(e instanceof Vl){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${p3}=${encodeURIComponent(l)}`:"";return`${m3(t)}?${kl(a).slice(1)}${c}`}function m3({config:t}){return t.emulator?Gg(t,f3):`https://${t.authDomain}/${d3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class g3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zI,this._completeRedirectFn=UF,this._overrideRedirectResult=LF}async _openPopup(e,n,r,i){var o;dr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await jw(e,n,r,Gc(),i);return c3(e,s,Zg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jw(e,n,r,Gc(),i);return _F(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(dr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i3(e),r=new zF(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tf,{type:Tf},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Tf];s!==void 0&&n(!!s),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bI()||II()||Qg()}}const y3=g3;var Fw="@firebase/auth",Uw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w3(t){uo(new Zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NI(t)},c=new Oj(r,i,s,l);return Hj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uo(new Zi("auth-internal",e=>{const n=wi(e.getProvider("auth").getImmediate());return(r=>new v3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(Fw,Uw,_3(t)),ei(Fw,Uw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=5*60,T3=aI("authIdTokenMaxAge")||E3;let Bw=null;const x3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T3)return;const i=n==null?void 0:n.token;Bw!==i&&(Bw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S3(t=fI()){const e=Wg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wj(t,{popupRedirectResolver:y3,persistence:[AF,gF,zI]}),r=aI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=x3(s.toString());hF(n,o,()=>o(n.currentUser)),cF(n,a=>o(a))}}const i=sI("auth");return i&&qj(n,`http://${i}`),n}function I3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Mj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",I3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w3("Browser");var C3="firebase",P3="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(C3,P3,"app");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ti,YI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function A(){}A.prototype=w.prototype,I.D=w.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(R,V,N){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return w.prototype[V].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,w,A){A||(A=0);var R=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)R[V]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(V=0;16>V;++V)R[V]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=I.g[0],A=I.g[1],V=I.g[2];var N=I.g[3],k=w+(N^A&(V^N))+R[0]+3614090360&4294967295;w=A+(k<<7&4294967295|k>>>25),k=N+(V^w&(A^V))+R[1]+3905402710&4294967295,N=w+(k<<12&4294967295|k>>>20),k=V+(A^N&(w^A))+R[2]+606105819&4294967295,V=N+(k<<17&4294967295|k>>>15),k=A+(w^V&(N^w))+R[3]+3250441966&4294967295,A=V+(k<<22&4294967295|k>>>10),k=w+(N^A&(V^N))+R[4]+4118548399&4294967295,w=A+(k<<7&4294967295|k>>>25),k=N+(V^w&(A^V))+R[5]+1200080426&4294967295,N=w+(k<<12&4294967295|k>>>20),k=V+(A^N&(w^A))+R[6]+2821735955&4294967295,V=N+(k<<17&4294967295|k>>>15),k=A+(w^V&(N^w))+R[7]+4249261313&4294967295,A=V+(k<<22&4294967295|k>>>10),k=w+(N^A&(V^N))+R[8]+1770035416&4294967295,w=A+(k<<7&4294967295|k>>>25),k=N+(V^w&(A^V))+R[9]+2336552879&4294967295,N=w+(k<<12&4294967295|k>>>20),k=V+(A^N&(w^A))+R[10]+4294925233&4294967295,V=N+(k<<17&4294967295|k>>>15),k=A+(w^V&(N^w))+R[11]+2304563134&4294967295,A=V+(k<<22&4294967295|k>>>10),k=w+(N^A&(V^N))+R[12]+1804603682&4294967295,w=A+(k<<7&4294967295|k>>>25),k=N+(V^w&(A^V))+R[13]+4254626195&4294967295,N=w+(k<<12&4294967295|k>>>20),k=V+(A^N&(w^A))+R[14]+2792965006&4294967295,V=N+(k<<17&4294967295|k>>>15),k=A+(w^V&(N^w))+R[15]+1236535329&4294967295,A=V+(k<<22&4294967295|k>>>10),k=w+(V^N&(A^V))+R[1]+4129170786&4294967295,w=A+(k<<5&4294967295|k>>>27),k=N+(A^V&(w^A))+R[6]+3225465664&4294967295,N=w+(k<<9&4294967295|k>>>23),k=V+(w^A&(N^w))+R[11]+643717713&4294967295,V=N+(k<<14&4294967295|k>>>18),k=A+(N^w&(V^N))+R[0]+3921069994&4294967295,A=V+(k<<20&4294967295|k>>>12),k=w+(V^N&(A^V))+R[5]+3593408605&4294967295,w=A+(k<<5&4294967295|k>>>27),k=N+(A^V&(w^A))+R[10]+38016083&4294967295,N=w+(k<<9&4294967295|k>>>23),k=V+(w^A&(N^w))+R[15]+3634488961&4294967295,V=N+(k<<14&4294967295|k>>>18),k=A+(N^w&(V^N))+R[4]+3889429448&4294967295,A=V+(k<<20&4294967295|k>>>12),k=w+(V^N&(A^V))+R[9]+568446438&4294967295,w=A+(k<<5&4294967295|k>>>27),k=N+(A^V&(w^A))+R[14]+3275163606&4294967295,N=w+(k<<9&4294967295|k>>>23),k=V+(w^A&(N^w))+R[3]+4107603335&4294967295,V=N+(k<<14&4294967295|k>>>18),k=A+(N^w&(V^N))+R[8]+1163531501&4294967295,A=V+(k<<20&4294967295|k>>>12),k=w+(V^N&(A^V))+R[13]+2850285829&4294967295,w=A+(k<<5&4294967295|k>>>27),k=N+(A^V&(w^A))+R[2]+4243563512&4294967295,N=w+(k<<9&4294967295|k>>>23),k=V+(w^A&(N^w))+R[7]+1735328473&4294967295,V=N+(k<<14&4294967295|k>>>18),k=A+(N^w&(V^N))+R[12]+2368359562&4294967295,A=V+(k<<20&4294967295|k>>>12),k=w+(A^V^N)+R[5]+4294588738&4294967295,w=A+(k<<4&4294967295|k>>>28),k=N+(w^A^V)+R[8]+2272392833&4294967295,N=w+(k<<11&4294967295|k>>>21),k=V+(N^w^A)+R[11]+1839030562&4294967295,V=N+(k<<16&4294967295|k>>>16),k=A+(V^N^w)+R[14]+4259657740&4294967295,A=V+(k<<23&4294967295|k>>>9),k=w+(A^V^N)+R[1]+2763975236&4294967295,w=A+(k<<4&4294967295|k>>>28),k=N+(w^A^V)+R[4]+1272893353&4294967295,N=w+(k<<11&4294967295|k>>>21),k=V+(N^w^A)+R[7]+4139469664&4294967295,V=N+(k<<16&4294967295|k>>>16),k=A+(V^N^w)+R[10]+3200236656&4294967295,A=V+(k<<23&4294967295|k>>>9),k=w+(A^V^N)+R[13]+681279174&4294967295,w=A+(k<<4&4294967295|k>>>28),k=N+(w^A^V)+R[0]+3936430074&4294967295,N=w+(k<<11&4294967295|k>>>21),k=V+(N^w^A)+R[3]+3572445317&4294967295,V=N+(k<<16&4294967295|k>>>16),k=A+(V^N^w)+R[6]+76029189&4294967295,A=V+(k<<23&4294967295|k>>>9),k=w+(A^V^N)+R[9]+3654602809&4294967295,w=A+(k<<4&4294967295|k>>>28),k=N+(w^A^V)+R[12]+3873151461&4294967295,N=w+(k<<11&4294967295|k>>>21),k=V+(N^w^A)+R[15]+530742520&4294967295,V=N+(k<<16&4294967295|k>>>16),k=A+(V^N^w)+R[2]+3299628645&4294967295,A=V+(k<<23&4294967295|k>>>9),k=w+(V^(A|~N))+R[0]+4096336452&4294967295,w=A+(k<<6&4294967295|k>>>26),k=N+(A^(w|~V))+R[7]+1126891415&4294967295,N=w+(k<<10&4294967295|k>>>22),k=V+(w^(N|~A))+R[14]+2878612391&4294967295,V=N+(k<<15&4294967295|k>>>17),k=A+(N^(V|~w))+R[5]+4237533241&4294967295,A=V+(k<<21&4294967295|k>>>11),k=w+(V^(A|~N))+R[12]+1700485571&4294967295,w=A+(k<<6&4294967295|k>>>26),k=N+(A^(w|~V))+R[3]+2399980690&4294967295,N=w+(k<<10&4294967295|k>>>22),k=V+(w^(N|~A))+R[10]+4293915773&4294967295,V=N+(k<<15&4294967295|k>>>17),k=A+(N^(V|~w))+R[1]+2240044497&4294967295,A=V+(k<<21&4294967295|k>>>11),k=w+(V^(A|~N))+R[8]+1873313359&4294967295,w=A+(k<<6&4294967295|k>>>26),k=N+(A^(w|~V))+R[15]+4264355552&4294967295,N=w+(k<<10&4294967295|k>>>22),k=V+(w^(N|~A))+R[6]+2734768916&4294967295,V=N+(k<<15&4294967295|k>>>17),k=A+(N^(V|~w))+R[13]+1309151649&4294967295,A=V+(k<<21&4294967295|k>>>11),k=w+(V^(A|~N))+R[4]+4149444226&4294967295,w=A+(k<<6&4294967295|k>>>26),k=N+(A^(w|~V))+R[11]+3174756917&4294967295,N=w+(k<<10&4294967295|k>>>22),k=V+(w^(N|~A))+R[2]+718787259&4294967295,V=N+(k<<15&4294967295|k>>>17),k=A+(N^(V|~w))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var A=w-this.blockSize,R=this.B,V=this.h,N=0;N<w;){if(V==0)for(;N<=A;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<w;)if(R[V++]=I.charCodeAt(N++),V==this.blockSize){i(this,R),V=0;break}}else for(;N<w;)if(R[V++]=I[N++],V==this.blockSize){i(this,R),V=0;break}}this.h=V,this.o+=w},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var A=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=A&255,A/=256;for(this.u(I),I=Array(16),w=A=0;4>w;++w)for(var R=0;32>R;R+=8)I[A++]=this.g[w]>>>R&255;return I};function s(I,w){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=w(I)}function o(I,w){this.h=w;for(var A=[],R=!0,V=I.length-1;0<=V;V--){var N=I[V]|0;R&&N==w||(A[V]=N,R=!1)}this.g=A}var a={};function l(I){return-128<=I&&128>I?s(I,function(w){return new o([w|0],0>w?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return C(c(-I));for(var w=[],A=1,R=0;I>=A;R++)w[R]=I/A|0,A*=4294967296;return new o(w,0)}function h(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return C(h(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(w,8)),R=d,V=0;V<I.length;V+=8){var N=Math.min(8,I.length-V),k=parseInt(I.substring(V,V+N),w);8>N?(N=c(Math.pow(w,N)),R=R.j(N).add(c(k))):(R=R.j(A),R=R.add(c(k)))}return R}var d=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-C(this).m();for(var I=0,w=1,A=0;A<this.g.length;A++){var R=this.i(A);I+=(0<=R?R:4294967296+R)*w,w*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(S(this))return"-"+C(this).toString(I);for(var w=c(Math.pow(I,6)),A=this,R="";;){var V=b(A,w).g;A=T(A,V.j(w));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=V,E(A))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function S(I){return I.h==-1}t.l=function(I){return I=T(this,I),S(I)?-1:E(I)?0:1};function C(I){for(var w=I.g.length,A=[],R=0;R<w;R++)A[R]=~I.g[R];return new o(A,~I.h).add(p)}t.abs=function(){return S(this)?C(this):this},t.add=function(I){for(var w=Math.max(this.g.length,I.g.length),A=[],R=0,V=0;V<=w;V++){var N=R+(this.i(V)&65535)+(I.i(V)&65535),k=(N>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);R=k>>>16,N&=65535,k&=65535,A[V]=k<<16|N}return new o(A,A[A.length-1]&-2147483648?-1:0)};function T(I,w){return I.add(C(w))}t.j=function(I){if(E(this)||E(I))return d;if(S(this))return S(I)?C(this).j(C(I)):C(C(this).j(I));if(S(I))return C(this.j(C(I)));if(0>this.l(y)&&0>I.l(y))return c(this.m()*I.m());for(var w=this.g.length+I.g.length,A=[],R=0;R<2*w;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var V=0;V<I.g.length;V++){var N=this.i(R)>>>16,k=this.i(R)&65535,$=I.i(V)>>>16,me=I.i(V)&65535;A[2*R+2*V]+=k*me,v(A,2*R+2*V),A[2*R+2*V+1]+=N*me,v(A,2*R+2*V+1),A[2*R+2*V+1]+=k*$,v(A,2*R+2*V+1),A[2*R+2*V+2]+=N*$,v(A,2*R+2*V+2)}for(R=0;R<w;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=w;R<2*w;R++)A[R]=0;return new o(A,0)};function v(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function _(I,w){this.g=I,this.h=w}function b(I,w){if(E(w))throw Error("division by zero");if(E(I))return new _(d,d);if(S(I))return w=b(C(I),w),new _(C(w.g),C(w.h));if(S(w))return w=b(I,C(w)),new _(C(w.g),w.h);if(30<I.g.length){if(S(I)||S(w))throw Error("slowDivide_ only works with positive integers.");for(var A=p,R=w;0>=R.l(I);)A=O(A),R=O(R);var V=L(A,1),N=L(R,1);for(R=L(R,2),A=L(A,2);!E(R);){var k=N.add(R);0>=k.l(I)&&(V=V.add(A),N=k),R=L(R,1),A=L(A,1)}return w=T(I,V.j(w)),new _(V,w)}for(V=d;0<=I.l(w);){for(A=Math.max(1,Math.floor(I.m()/w.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=c(A),k=N.j(w);S(k)||0<k.l(I);)A-=R,N=c(A),k=N.j(w);E(N)&&(N=p),V=V.add(N),I=T(I,k)}return new _(V,I)}t.A=function(I){return b(this,I).h},t.and=function(I){for(var w=Math.max(this.g.length,I.g.length),A=[],R=0;R<w;R++)A[R]=this.i(R)&I.i(R);return new o(A,this.h&I.h)},t.or=function(I){for(var w=Math.max(this.g.length,I.g.length),A=[],R=0;R<w;R++)A[R]=this.i(R)|I.i(R);return new o(A,this.h|I.h)},t.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),A=[],R=0;R<w;R++)A[R]=this.i(R)^I.i(R);return new o(A,this.h^I.h)};function O(I){for(var w=I.g.length+1,A=[],R=0;R<w;R++)A[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(A,I.h)}function L(I,w){var A=w>>5;w%=32;for(var R=I.g.length-A,V=[],N=0;N<R;N++)V[N]=0<w?I.i(N+A)>>>w|I.i(N+A+1)<<32-w:I.i(N+A);return new o(V,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ti=o}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XI,ma,JI,Zu,Jp,ZI,eC,tC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var D=u[x];if(!(D in m))break e;m=m[D]}u=u[u.length-1],x=m[u],f=f(x),f!=x&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,x=!1,D={next:function(){if(!x&&m<u.length){var M=m++;return{value:f(M,u[M]),done:!1}}return x=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,m){return u.call.apply(u.bind,arguments)}function d(u,f,m){if(!u)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,x),u.apply(f,D)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function y(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function E(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(x,D,M){for(var z=Array(arguments.length-2),we=2;we<arguments.length;we++)z[we-2]=arguments[we];return f.prototype[D].apply(x,z)}}function S(u){const f=u.length;if(0<f){const m=Array(f);for(let x=0;x<f;x++)m[x]=u[x];return m}return[]}function C(u,f){for(let m=1;m<arguments.length;m++){const x=arguments[m];if(l(x)){const D=u.length||0,M=x.length||0;u.length=D+M;for(let z=0;z<M;z++)u[D+z]=x[z]}else u.push(x)}}class T{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function L(u,f,m){for(const x in u)f.call(m,u[x],x,u)}function I(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function w(u){const f={};for(const m in u)f[m]=u[m];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,f){let m,x;for(let D=1;D<arguments.length;D++){x=arguments[D];for(m in x)u[m]=x[m];for(let M=0;M<A.length;M++)m=A[M],Object.prototype.hasOwnProperty.call(x,m)&&(u[m]=x[m])}}function V(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function k(){var u=q;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class ${constructor(){this.h=this.g=null}add(f,m){const x=me.get();x.set(f,m),this.h?this.h.next=x:this.g=x,this.h=x}}var me=new T(()=>new se,u=>u.reset());class se{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,B=!1,q=new $,Y=()=>{const u=a.Promise.resolve(void 0);_e=()=>{u.then(K)}};var K=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(m){N(m)}var f=me;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}B=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function Jt(u,f){if(ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(O){e:{try{b(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Jt.aa.h.call(this)}}E(Jt,ne);var xt={2:"touch",3:"pen",4:"mouse"};Jt.prototype.h=function(){Jt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),nd=0;function No(u,f,m,x,D){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!x,this.ha=D,this.key=++nd,this.da=this.fa=!1}function $n(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zt(u){this.src=u,this.g={},this.h=0}Zt.prototype.add=function(u,f,m,x,D){var M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);var z=rd(u,f,x,D);return-1<z?(f=u[z],m||(f.fa=!1)):(f=new No(f,this.src,M,!!x,D),f.fa=m,u.push(f)),f};function Bl(u,f){var m=f.type;if(m in u.g){var x=u.g[m],D=Array.prototype.indexOf.call(x,f,void 0),M;(M=0<=D)&&Array.prototype.splice.call(x,D,1),M&&($n(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function rd(u,f,m,x){for(var D=0;D<u.length;++D){var M=u[D];if(!M.da&&M.listener==f&&M.capture==!!m&&M.ha==x)return D}return-1}var id="closure_lm_"+(1e6*Math.random()|0),sd={};function Ly(u,f,m,x,D){if(x&&x.once)return Fy(u,f,m,x,D);if(Array.isArray(f)){for(var M=0;M<f.length;M++)Ly(u,f[M],m,x,D);return null}return m=ud(m),u&&u[Bt]?u.K(f,m,c(x)?!!x.capture:!!x,D):jy(u,f,m,!1,x,D)}function jy(u,f,m,x,D,M){if(!f)throw Error("Invalid event type");var z=c(D)?!!D.capture:!!D,we=ad(u);if(we||(u[id]=we=new Zt(u)),m=we.add(f,m,x,z,M),m.proxy)return m;if(x=cA(),m.proxy=x,x.src=u,x.listener=m,u.addEventListener)Tt||(D=z),D===void 0&&(D=!1),u.addEventListener(f.toString(),x,D);else if(u.attachEvent)u.attachEvent(By(f.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function cA(){function u(m){return f.call(u.src,u.listener,m)}const f=hA;return u}function Fy(u,f,m,x,D){if(Array.isArray(f)){for(var M=0;M<f.length;M++)Fy(u,f[M],m,x,D);return null}return m=ud(m),u&&u[Bt]?u.L(f,m,c(x)?!!x.capture:!!x,D):jy(u,f,m,!0,x,D)}function Uy(u,f,m,x,D){if(Array.isArray(f))for(var M=0;M<f.length;M++)Uy(u,f[M],m,x,D);else x=c(x)?!!x.capture:!!x,m=ud(m),u&&u[Bt]?(u=u.i,f=String(f).toString(),f in u.g&&(M=u.g[f],m=rd(M,m,x,D),-1<m&&($n(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete u.g[f],u.h--)))):u&&(u=ad(u))&&(f=u.g[f.toString()],u=-1,f&&(u=rd(f,m,x,D)),(m=-1<u?f[u]:null)&&od(m))}function od(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[Bt])Bl(f.i,u);else{var m=u.type,x=u.proxy;f.removeEventListener?f.removeEventListener(m,x,u.capture):f.detachEvent?f.detachEvent(By(m),x):f.addListener&&f.removeListener&&f.removeListener(x),(m=ad(f))?(Bl(m,u),m.h==0&&(m.src=null,f[id]=null)):$n(u)}}}function By(u){return u in sd?sd[u]:sd[u]="on"+u}function hA(u,f){if(u.da)u=!0;else{f=new Jt(f,this);var m=u.listener,x=u.ha||u.src;u.fa&&od(u),u=m.call(x,f)}return u}function ad(u){return u=u[id],u instanceof Zt?u:null}var ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function ud(u){return typeof u=="function"?u:(u[ld]||(u[ld]=function(f){return u.handleEvent(f)}),u[ld])}function ct(){ie.call(this),this.i=new Zt(this),this.M=this,this.F=null}E(ct,ie),ct.prototype[Bt]=!0,ct.prototype.removeEventListener=function(u,f,m,x){Uy(this,u,f,m,x)};function St(u,f){var m,x=u.F;if(x)for(m=[];x;x=x.F)m.push(x);if(u=u.M,x=f.type||f,typeof f=="string")f=new ne(f,u);else if(f instanceof ne)f.target=f.target||u;else{var D=f;f=new ne(x,u),R(f,D)}if(D=!0,m)for(var M=m.length-1;0<=M;M--){var z=f.g=m[M];D=zl(z,x,!0,f)&&D}if(z=f.g=u,D=zl(z,x,!0,f)&&D,D=zl(z,x,!1,f)&&D,m)for(M=0;M<m.length;M++)z=f.g=m[M],D=zl(z,x,!1,f)&&D}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],x=0;x<m.length;x++)$n(m[x]);delete u.g[f],u.h--}}this.F=null},ct.prototype.K=function(u,f,m,x){return this.i.add(String(u),f,!1,m,x)},ct.prototype.L=function(u,f,m,x){return this.i.add(String(u),f,!0,m,x)};function zl(u,f,m,x){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var D=!0,M=0;M<f.length;++M){var z=f[M];if(z&&!z.da&&z.capture==m){var we=z.listener,rt=z.ha||z.src;z.fa&&Bl(u.i,z),D=we.call(rt,x)!==!1&&D}}return D&&!x.defaultPrevented}function zy(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function $y(u){u.g=zy(()=>{u.g=null,u.i&&(u.i=!1,$y(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class dA extends ie{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:$y(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vo(u){ie.call(this),this.h=u,this.g={}}E(Vo,ie);var Wy=[];function Hy(u){L(u.g,function(f,m){this.g.hasOwnProperty(m)&&od(f)},u),u.g={}}Vo.prototype.N=function(){Vo.aa.N.call(this),Hy(this)},Vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cd=a.JSON.stringify,fA=a.JSON.parse,pA=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function hd(){}hd.prototype.h=null;function qy(u){return u.h||(u.h=u.i())}function Gy(){}var Do={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dd(){ne.call(this,"d")}E(dd,ne);function fd(){ne.call(this,"c")}E(fd,ne);var Ti={},Ky=null;function $l(){return Ky=Ky||new ct}Ti.La="serverreachability";function Qy(u){ne.call(this,Ti.La,u)}E(Qy,ne);function Oo(u){const f=$l();St(f,new Qy(f))}Ti.STAT_EVENT="statevent";function Yy(u,f){ne.call(this,Ti.STAT_EVENT,u),this.stat=f}E(Yy,ne);function It(u){const f=$l();St(f,new Yy(f,u))}Ti.Ma="timingevent";function Xy(u,f){ne.call(this,Ti.Ma,u),this.size=f}E(Xy,ne);function Mo(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function mA(u,f,m,x,D,M){u.info(function(){if(u.g)if(M)for(var z="",we=M.split("&"),rt=0;rt<we.length;rt++){var pe=we[rt].split("=");if(1<pe.length){var ht=pe[0];pe=pe[1];var dt=ht.split("_");z=2<=dt.length&&dt[1]=="type"?z+(ht+"="+pe+"&"):z+(ht+"=redacted&")}}else z=null;else z=M;return"XMLHTTP REQ ("+x+") [attempt "+D+"]: "+f+`
`+m+`
`+z})}function gA(u,f,m,x,D,M,z){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+D+"]: "+f+`
`+m+`
`+M+" "+z})}function ps(u,f,m,x){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+vA(u,m)+(x?" "+x:"")})}function yA(u,f){u.info(function(){return"TIMEOUT: "+f})}Lo.prototype.info=function(){};function vA(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var x=m[u];if(!(2>x.length)){var D=x[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var z=1;z<D.length;z++)D[z]=""}}}}return cd(m)}catch{return f}}var Wl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pd;function Hl(){}E(Hl,hd),Hl.prototype.g=function(){return new XMLHttpRequest},Hl.prototype.i=function(){return{}},pd=new Hl;function Er(u,f,m,x){this.j=u,this.i=f,this.l=m,this.R=x||1,this.U=new Vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zy}function Zy(){this.i=null,this.g="",this.h=!1}var ev={},md={};function gd(u,f,m){u.L=1,u.v=Ql(Wn(f)),u.m=m,u.P=!0,tv(u,null)}function tv(u,f){u.F=Date.now(),ql(u),u.A=Wn(u.v);var m=u.A,x=u.R;Array.isArray(x)||(x=[String(x)]),mv(m.i,"t",x),u.C=0,m=u.j.J,u.h=new Zy,u.g=Vv(u.j,m?f:null,!u.m),0<u.O&&(u.M=new dA(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,x=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(Wy[0]=D.toString()),D=Wy);for(var M=0;M<D.length;M++){var z=Ly(m,D[M],x||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Oo(),mA(u.i,u.u,u.A,u.l,u.R,u.m)}Er.prototype.ca=function(u){u=u.target;const f=this.M;f&&Hn(u)==3?f.j():this.Y(u)},Er.prototype.Y=function(u){try{if(u==this.g)e:{const dt=Hn(this.g);var f=this.g.Ba();const ys=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Tv(this.g)))){this.J||dt!=4||f==7||(f==8||0>=ys?Oo(3):Oo(2)),yd(this);var m=this.g.Z();this.X=m;t:if(nv(this)){var x=Tv(this.g);u="";var D=x.length,M=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),jo(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<D;f++)this.h.h=!0,u+=this.h.i.decode(x[f],{stream:!(M&&f==D-1)});x.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,gA(this.i,this.u,this.A,this.l,this.R,dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var we,rt=this.g;if((we=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(we)){var pe=we;break t}}pe=null}if(m=pe)ps(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vd(this,m);else{this.o=!1,this.s=3,It(12),xi(this),jo(this);break e}}if(this.P){m=!0;let mn;for(;!this.J&&this.C<z.length;)if(mn=_A(this,z),mn==md){dt==4&&(this.s=4,It(14),m=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==ev){this.s=4,It(15),ps(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else ps(this.i,this.l,mn,null),vd(this,mn);if(nv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||z.length!=0||this.h.h||(this.s=1,It(16),m=!1),this.o=this.o&&m,!m)ps(this.i,this.l,z,"[Invalid Chunked Response]"),xi(this),jo(this);else if(0<z.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Sd(ht),ht.M=!0,It(11))}}else ps(this.i,this.l,z,null),vd(this,z);dt==4&&xi(this),this.o&&!this.J&&(dt==4?Rv(this.j,this):(this.o=!1,ql(this)))}else MA(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),xi(this),jo(this)}}}catch{}finally{}};function nv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function _A(u,f){var m=u.C,x=f.indexOf(`
`,m);return x==-1?md:(m=Number(f.substring(m,x)),isNaN(m)?ev:(x+=1,x+m>f.length?md:(f=f.slice(x,x+m),u.C=x+m,f)))}Er.prototype.cancel=function(){this.J=!0,xi(this)};function ql(u){u.S=Date.now()+u.I,rv(u,u.I)}function rv(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mo(p(u.ba,u),f)}function yd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Er.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(yA(this.i,this.A),this.L!=2&&(Oo(),It(17)),xi(this),this.s=2,jo(this)):rv(this,this.S-u)};function jo(u){u.j.G==0||u.J||Rv(u.j,u)}function xi(u){yd(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,Hy(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function vd(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||_d(m.h,u))){if(!u.K&&_d(m.h,u)&&m.G==3){try{var x=m.Da.g.parse(f)}catch{x=null}if(Array.isArray(x)&&x.length==3){var D=x;if(D[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)tu(m),Zl(m);else break e;xd(m),It(18)}}else m.za=D[1],0<m.za-m.T&&37500>D[2]&&m.F&&m.v==0&&!m.C&&(m.C=Mo(p(m.Za,m),6e3));if(1>=ov(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ii(m,11)}else if((u.K||m.g==u)&&tu(m),!v(f))for(D=m.Da.g.parse(f),f=0;f<D.length;f++){let pe=D[f];if(m.T=pe[0],pe=pe[1],m.G==2)if(pe[0]=="c"){m.K=pe[1],m.ia=pe[2];const ht=pe[3];ht!=null&&(m.la=ht,m.j.info("VER="+m.la));const dt=pe[4];dt!=null&&(m.Aa=dt,m.j.info("SVER="+m.Aa));const ys=pe[5];ys!=null&&typeof ys=="number"&&0<ys&&(x=1.5*ys,m.L=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const mn=u.g;if(mn){const ru=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var M=x.h;M.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(wd(M,M.h),M.h=null))}if(x.D){const Id=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Id&&(x.ya=Id,xe(x.I,x.D,Id))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),x=m;var z=u;if(x.qa=Nv(x,x.J?x.ia:null,x.W),z.K){av(x.h,z);var we=z,rt=x.L;rt&&(we.I=rt),we.B&&(yd(we),ql(we)),x.g=z}else Pv(x);0<m.i.length&&eu(m)}else pe[0]!="stop"&&pe[0]!="close"||Ii(m,7);else m.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Ii(m,7):Td(m):pe[0]!="noop"&&m.l&&m.l.ta(pe),m.v=0)}}Oo(4)}catch{}}var wA=class{constructor(u,f){this.g=u,this.map=f}};function iv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ov(u){return u.h?1:u.g?u.g.size:0}function _d(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function wd(u,f){u.g?u.g.add(f):u.h=f}function av(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}iv.prototype.cancel=function(){if(this.i=lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return S(u.i)}function EA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,x=0;x<m;x++)f.push(u[x]);return f}f=[],m=0;for(x in u)f[m++]=u[x];return f}function TA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const x in u)f[m++]=x;return f}}}function uv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=TA(u),x=EA(u),D=x.length,M=0;M<D;M++)f.call(void 0,x[M],m&&m[M],u)}var cv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xA(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var x=u[m].indexOf("="),D=null;if(0<=x){var M=u[m].substring(0,x);D=u[m].substring(x+1)}else M=u[m];f(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Si(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Si){this.h=u.h,Gl(this,u.j),this.o=u.o,this.g=u.g,Kl(this,u.s),this.l=u.l;var f=u.i,m=new Bo;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),hv(this,m),this.m=u.m}else u&&(f=String(u).match(cv))?(this.h=!1,Gl(this,f[1]||"",!0),this.o=Fo(f[2]||""),this.g=Fo(f[3]||"",!0),Kl(this,f[4]),this.l=Fo(f[5]||"",!0),hv(this,f[6]||"",!0),this.m=Fo(f[7]||"")):(this.h=!1,this.i=new Bo(null,this.h))}Si.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Uo(f,dv,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Uo(f,dv,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Uo(m,m.charAt(0)=="/"?CA:IA,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Uo(m,AA)),u.join("")};function Wn(u){return new Si(u)}function Gl(u,f,m){u.j=m?Fo(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Kl(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function hv(u,f,m){f instanceof Bo?(u.i=f,RA(u.i,u.h)):(m||(f=Uo(f,PA)),u.i=new Bo(f,u.h))}function xe(u,f,m){u.i.set(f,m)}function Ql(u){return xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Fo(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Uo(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,SA),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function SA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var dv=/[#\/\?@]/g,IA=/[#\?:]/g,CA=/[#\?]/g,PA=/[#\?@]/g,AA=/#/g;function Bo(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Tr(u){u.g||(u.g=new Map,u.h=0,u.i&&xA(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Bo.prototype,t.add=function(u,f){Tr(this),this.i=null,u=ms(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function fv(u,f){Tr(u),f=ms(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function pv(u,f){return Tr(u),f=ms(u,f),u.g.has(f)}t.forEach=function(u,f){Tr(this),this.g.forEach(function(m,x){m.forEach(function(D){u.call(f,D,x,this)},this)},this)},t.na=function(){Tr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let x=0;x<f.length;x++){const D=u[x];for(let M=0;M<D.length;M++)m.push(f[x])}return m},t.V=function(u){Tr(this);let f=[];if(typeof u=="string")pv(this,u)&&(f=f.concat(this.g.get(ms(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return Tr(this),this.i=null,u=ms(this,u),pv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function mv(u,f,m){fv(u,f),0<m.length&&(u.i=null,u.g.set(ms(u,f),S(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var x=f[m];const M=encodeURIComponent(String(x)),z=this.V(x);for(x=0;x<z.length;x++){var D=M;z[x]!==""&&(D+="="+encodeURIComponent(String(z[x]))),u.push(D)}}return this.i=u.join("&")};function ms(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function RA(u,f){f&&!u.j&&(Tr(u),u.i=null,u.g.forEach(function(m,x){var D=x.toLowerCase();x!=D&&(fv(this,x),mv(this,D,m))},u)),u.j=f}function kA(u,f){const m=new Lo;if(a.Image){const x=new Image;x.onload=y(xr,m,"TestLoadImage: loaded",!0,f,x),x.onerror=y(xr,m,"TestLoadImage: error",!1,f,x),x.onabort=y(xr,m,"TestLoadImage: abort",!1,f,x),x.ontimeout=y(xr,m,"TestLoadImage: timeout",!1,f,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else f(!1)}function bA(u,f){const m=new Lo,x=new AbortController,D=setTimeout(()=>{x.abort(),xr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:x.signal}).then(M=>{clearTimeout(D),M.ok?xr(m,"TestPingServer: ok",!0,f):xr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),xr(m,"TestPingServer: error",!1,f)})}function xr(u,f,m,x,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),x(m)}catch{}}function NA(){this.g=new pA}function VA(u,f,m){const x=m||"";try{uv(u,function(D,M){let z=D;c(D)&&(z=cd(D)),f.push(x+M+"="+encodeURIComponent(z))})}catch(D){throw f.push(x+"type="+encodeURIComponent("_badmap")),D}}function Yl(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Yl,hd),Yl.prototype.g=function(){return new Xl(this.l,this.j)},Yl.prototype.i=function(u){return function(){return u}}({});function Xl(u,f){ct.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Xl,ct),t=Xl.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,$o(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?zo(this):$o(this),this.readyState==3&&gv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,zo(this))},t.Qa=function(u){this.g&&(this.response=u,zo(this))},t.ga=function(){this.g&&zo(this)};function zo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$o(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function $o(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yv(u){let f="";return L(u,function(m,x){f+=x,f+=":",f+=m,f+=`\r
`}),f}function Ed(u,f,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=yv(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):xe(u,f,m))}function Fe(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Fe,ct);var DA=/^https?$/i,OA=["POST","PUT"];t=Fe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pd.g(),this.v=this.o?qy(this.o):qy(pd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(M){vv(this,M);return}if(u=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var D in x)m.set(D,x[D]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const M of x.keys())m.set(M,x.get(M));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),D=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OA,f,void 0))||x||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,z]of m)this.g.setRequestHeader(M,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ev(this),this.u=!0,this.g.send(u),this.u=!1}catch(M){vv(this,M)}};function vv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,_v(u),Jl(u)}function _v(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),Jl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jl(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wv(this):this.bb())},t.bb=function(){wv(this)};function wv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Hn(u)!=4||u.Z()!=2)){if(u.u&&Hn(u)==4)zy(u.Ea,0,u);else if(St(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var x;if(x=z===0){var D=String(u.D).match(cv)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),x=!DA.test(D?D.toLowerCase():"")}m=x}if(m)St(u,"complete"),St(u,"success");else{u.m=6;try{var M=2<Hn(u)?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.Z()+"]",_v(u)}}finally{Jl(u)}}}}function Jl(u,f){if(u.g){Ev(u);const m=u.g,x=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||St(u,"ready");try{m.onreadystatechange=x}catch{}}}function Ev(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),fA(f)}};function Tv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function MA(u){const f={};u=(u.g&&2<=Hn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(v(u[x]))continue;var m=V(u[x]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=f[D]||[];f[D]=M,M.push(m)}I(f,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wo(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function xv(u){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wo("baseRetryDelayMs",5e3,u),this.cb=Wo("retryDelaySeedMs",1e4,u),this.Wa=Wo("forwardChannelMaxRetries",2,u),this.wa=Wo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new iv(u&&u.concurrentRequestLimit),this.Da=new NA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xv.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,x){It(0),this.W=u,this.H=f||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.I=Nv(this,null,this.W),eu(this)};function Td(u){if(Sv(u),u.G==3){var f=u.U++,m=Wn(u.I);if(xe(m,"SID",u.K),xe(m,"RID",f),xe(m,"TYPE","terminate"),Ho(u,m),f=new Er(u,u.j,f),f.L=2,f.v=Ql(Wn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Vv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ql(f)}bv(u)}function Zl(u){u.g&&(Sd(u),u.g.cancel(),u.g=null)}function Sv(u){Zl(u),u.u&&(a.clearTimeout(u.u),u.u=null),tu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function eu(u){if(!sv(u.h)&&!u.s){u.s=!0;var f=u.Ga;_e||Y(),B||(_e(),B=!0),q.add(f,u),u.B=0}}function LA(u,f){return ov(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mo(p(u.Ga,u,f),kv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const D=new Er(this,this.j,u);let M=this.o;if(this.S&&(M?(M=w(M),R(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(f+=x,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Cv(this,D,f),m=Wn(this.I),xe(m,"RID",u),xe(m,"CVER",22),this.D&&xe(m,"X-HTTP-Session-Id",this.D),Ho(this,m),M&&(this.O?f="headers="+encodeURIComponent(String(yv(M)))+"&"+f:this.m&&Ed(m,this.m,M)),wd(this.h,D),this.Ua&&xe(m,"TYPE","init"),this.P?(xe(m,"$req",f),xe(m,"SID","null"),D.T=!0,gd(D,m,null)):gd(D,m,f),this.G=2}}else this.G==3&&(u?Iv(this,u):this.i.length==0||sv(this.h)||Iv(this))};function Iv(u,f){var m;f?m=f.l:m=u.U++;const x=Wn(u.I);xe(x,"SID",u.K),xe(x,"RID",m),xe(x,"AID",u.T),Ho(u,x),u.m&&u.o&&Ed(x,u.m,u.o),m=new Er(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Cv(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wd(u.h,m),gd(m,x,f)}function Ho(u,f){u.H&&L(u.H,function(m,x){xe(f,x,m)}),u.l&&uv({},function(m,x){xe(f,x,m)})}function Cv(u,f,m){m=Math.min(u.i.length,m);var x=u.l?p(u.l.Na,u.l,u):null;e:{var D=u.i;let M=-1;for(;;){const z=["count="+m];M==-1?0<m?(M=D[0].g,z.push("ofs="+M)):M=0:z.push("ofs="+M);let we=!0;for(let rt=0;rt<m;rt++){let pe=D[rt].g;const ht=D[rt].map;if(pe-=M,0>pe)M=Math.max(0,D[rt].g-100),we=!1;else try{VA(ht,z,"req"+pe+"_")}catch{x&&x(ht)}}if(we){x=z.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,x}function Pv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;_e||Y(),B||(_e(),B=!0),q.add(f,u),u.v=0}}function xd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mo(p(u.Fa,u),kv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Av(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Zl(this),Av(this))};function Sd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Av(u){u.g=new Er(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Wn(u.qa);xe(f,"RID","rpc"),xe(f,"SID",u.K),xe(f,"AID",u.T),xe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&xe(f,"TO",u.ja),xe(f,"TYPE","xmlhttp"),Ho(u,f),u.m&&u.o&&Ed(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Ql(Wn(f)),m.m=null,m.P=!0,tv(m,u)}t.Za=function(){this.C!=null&&(this.C=null,Zl(this),xd(this),It(19))};function tu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Rv(u,f){var m=null;if(u.g==f){tu(u),Sd(u),u.g=null;var x=2}else if(_d(u.h,f))m=f.D,av(u.h,f),x=1;else return;if(u.G!=0){if(f.o)if(x==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var D=u.B;x=$l(),St(x,new Xy(x,m)),eu(u)}else Pv(u);else if(D=f.s,D==3||D==0&&0<f.X||!(x==1&&LA(u,f)||x==2&&xd(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),D){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function kv(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Ii(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),x=u.Xa;const D=!x;x=new Si(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gl(x,"https"),Ql(x),D?kA(x.toString(),m):bA(x.toString(),m)}else It(2);u.G=0,u.l&&u.l.sa(f),bv(u),Sv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function bv(u){if(u.G=0,u.ka=[],u.l){const f=lv(u.h);(f.length!=0||u.i.length!=0)&&(C(u.ka,f),C(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function Nv(u,f,m){var x=m instanceof Si?Wn(m):new Si(m);if(x.g!="")f&&(x.g=f+"."+x.g),Kl(x,x.s);else{var D=a.location;x=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;var M=new Si(null);x&&Gl(M,x),f&&(M.g=f),D&&Kl(M,D),m&&(M.l=m),x=M}return m=u.D,f=u.ya,m&&f&&xe(x,m,f),xe(x,"VER",u.la),Ho(u,x),x}function Vv(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Fe(new Yl({eb:m})):new Fe(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dv(){}t=Dv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nu(){}nu.prototype.g=function(u,f){return new zt(u,f)};function zt(u,f){ct.call(this),this.g=new xv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!v(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new gs(this)}E(zt,ct),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Td(this.g)},zt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=cd(u),u=m);f.i.push(new wA(f.Ya++,u)),f.G==3&&eu(f)},zt.prototype.N=function(){this.g.l=null,delete this.j,Td(this.g),delete this.g,zt.aa.N.call(this)};function Ov(u){dd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}E(Ov,dd);function Mv(){fd.call(this),this.status=1}E(Mv,fd);function gs(u){this.g=u}E(gs,Dv),gs.prototype.ua=function(){St(this.g,"a")},gs.prototype.ta=function(u){St(this.g,new Ov(u))},gs.prototype.sa=function(u){St(this.g,new Mv)},gs.prototype.ra=function(){St(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,tC=function(){return new nu},eC=function(){return $l()},ZI=Ti,Jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wl.NO_ERROR=0,Wl.TIMEOUT=8,Wl.HTTP_ERROR=6,Zu=Wl,Jy.COMPLETE="complete",JI=Jy,Gy.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ma=Gy,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,XI=Fe}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const $w="@firebase/firestore",Ww="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new zg("@firebase/firestore");function ws(){return ns.logLevel}function W(t,...e){if(ns.logLevel<=le.DEBUG){const n=e.map(ty);ns.debug(`Firestore (${Po}): ${t}`,...n)}}function fr(t,...e){if(ns.logLevel<=le.ERROR){const n=e.map(ty);ns.error(`Firestore (${Po}): ${t}`,...n)}}function co(t,...e){if(ns.logLevel<=le.WARN){const n=e.map(ty);ns.warn(`Firestore (${Po}): ${t}`,...n)}}function ty(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nC(t,r,n)}function nC(t,e,n){let r=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fr(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||nC(e,i,r)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class R3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class k3{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ni,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ni)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new rC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new yt(e)}}class b3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new b3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=D3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Zp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return xf(i)===xf(s)?ce(i,s):xf(i)?1:-1}return ce(t.length,e.length)}const O3=55296,M3=57343;function xf(t){const e=t.charCodeAt(0);return e>=O3&&e<=M3}function ho(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="__name__";class bn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=bn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ce(e.length,n.length)}static compareSegments(e,n){const r=bn.isNumericId(e),i=bn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?bn.extractNumericId(e).compare(bn.extractNumericId(n)):Zp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}}class Ve extends bn{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const L3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends bn{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return L3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qw}static keyField(){return new ot([qw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ve.fromString(e))}static fromName(e){return new Q(Ve.fromString(e).popFirst(5))}static empty(){return new Q(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e,n){if(!n)throw new G(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F3(t,e,n,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gw(t){if(!Q.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ry(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function hl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ry(t);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ol(t,e){if(!iC(t))throw new G(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new G(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=-62135596800,Qw=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Qw);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kw)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qw}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ol(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:Ge("string",Ce._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Ce(0,0))}static max(){return new ee(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=-1;function U3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new li(i,Q.empty(),e)}function B3(t){return new li(t.readTime,t.key,dl)}class li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new li(ee.min(),Q.empty(),dl)}static max(){return new li(ee.max(),Q.empty(),dl)}}function z3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==$3)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function H3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-1;function Wh(t){return t==null}function Zc(t){return t===0&&1/t==-1/0}function q3(t){return typeof t=="number"&&Number.isInteger(t)&&!Zc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="";function G3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yw(e)),e=K3(t.get(n),e);return Yw(e)}function K3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case sC:n+="";break;default:n+=s}}return n}function Yw(t){return t+sC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Au(this.root,e,this.comparator,!1)}getReverseIterator(){return new Au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Au(this.root,e,this.comparator,!0)}}class Au{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??st.RED,this.left=i??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new st(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return st.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jw(this.data.getIterator())}getIteratorFrom(e){return new Jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class Jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Je(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aC("Invalid base64 string: "+s):s}}(e);return new ut(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const Q3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=Q3.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ci(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="server_timestamp",uC="__type__",cC="__previous_value__",hC="__local_write_time__";function sy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uC])==null?void 0:r.stringValue)===lC}function Hh(t){const e=t.mapValue.fields[cC];return sy(e)?Hh(e):e}function fl(t){const e=ui(t.mapValue.fields[hC].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r,i,s,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const eh="(default)";class pl{constructor(e,n){this.projectId=e,this.database=n||eh}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__type__",fC="__max__",Ru={mapValue:{fields:{__type__:{stringValue:fC}}}},pC="__vector__",th="value";function hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sy(t)?4:J3(t)?9007199254740991:X3(t)?10:11:Z(28295,{value:t})}function Bn(t,e){if(t===e)return!0;const n=hi(t);if(n!==hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ui(i.timestampValue),a=ui(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ci(i.bytesValue).isEqual(ci(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ze(i.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ze(i.integerValue)===ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ze(i.doubleValue),a=ze(s.doubleValue);return o===a?Zc(o)===Zc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Xw(o)!==Xw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Bn(o[l],a[l])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function ml(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=hi(t),r=hi(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ze(s.integerValue||s.doubleValue),l=ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Zw(t.timestampValue,e.timestampValue);case 4:return Zw(fl(t),fl(e));case 5:return Zp(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ci(s),l=ci(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ce(a[c],l[c]);if(h!==0)return h}return ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ce(ze(s.latitude),ze(o.latitude));return a!==0?a:ce(ze(s.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,y,E,S;const a=s.fields||{},l=o.fields||{},c=(p=a[th])==null?void 0:p.arrayValue,h=(y=l[th])==null?void 0:y.arrayValue,d=ce(((E=c==null?void 0:c.values)==null?void 0:E.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return d!==0?d:eE(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ru.mapValue&&o===Ru.mapValue)return 0;if(s===Ru.mapValue)return 1;if(o===Ru.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=Zp(l[d],h[d]);if(p!==0)return p;const y=fo(a[l[d]],c[h[d]]);if(y!==0)return y}return ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function Zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=ui(t),r=ui(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function eE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=fo(n[i],r[i]);if(s)return s}return ce(n.length,r.length)}function po(t){return em(t)}function em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ci(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=em(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${em(n.fields[o])}`;return i+"}"}(t.mapValue):Z(61005,{value:t})}function ec(t){switch(hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(t);return e?16+ec(e):16;case 5:return 2*t.stringValue.length;case 6:return ci(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ec(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return cs(r.fields,(s,o)=>{i+=s.length+ec(o)}),i}(t.mapValue);default:throw Z(13486,{value:t})}}function tm(t){return!!t&&"integerValue"in t}function oy(t){return!!t&&"arrayValue"in t}function tE(t){return!!t&&"nullValue"in t}function nE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tc(t){return!!t&&"mapValue"in t}function X3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dC])==null?void 0:r.stringValue)===pC}function Da(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Da(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(t.arrayValue.values[n]);return e}return{...t}}function J3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Da(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];tc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new on(Da(this.value))}}function mC(t){const e=[];return cs(t.fields,(n,r)=>{const i=new ot([n]);if(tc(r)){const s=mC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,ee.min(),ee.min(),ee.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new _t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new _t(e,2,n,ee.min(),ee.min(),on.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,ee.min(),ee.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.position=e,this.inclusive=n}}function rE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Z3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{}class Ye extends gC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new t5(e,n,r):n==="array-contains"?new i5(e,r):n==="in"?new s5(e,r):n==="not-in"?new o5(e,r):n==="array-contains-any"?new a5(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new n5(e,r):new r5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&hi(this.value)===hi(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends gC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zn(e,n)}matches(e){return yC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yC(t){return t.op==="and"}function vC(t){return e5(t)&&yC(t)}function e5(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function nm(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+po(t.value);if(vC(t))return t.filters.map(e=>nm(e)).join(",");{const e=t.filters.map(n=>nm(n)).join(",");return`${t.op}(${e})`}}function _C(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)}(t,e):t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&_C(o,i.filters[a]),!0):!1}(t,e):void Z(19439)}function wC(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(t):t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(wC).join(" ,")+"}"}(t):"Filter"}class t5 extends Ye{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class n5 extends Ye{constructor(e,n){super(e,"in",n),this.keys=EC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r5 extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=EC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class i5 extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return oy(n)&&ml(n.arrayValue,this.value)}}class s5 extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ml(this.value.arrayValue,n)}}class o5 extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ml(this.value.arrayValue,n)}}class a5 extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!oy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function sE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new l5(t,e,n,r,i,s,o)}function ay(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),e.Te=n}return e.Te}function ly(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_C(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}function rm(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u5(t,e,n,r,i,s,o,a){return new qh(t,e,n,r,i,s,o,a)}function uy(t){return new qh(t)}function oE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c5(t){return t.collectionGroup!==null}function Oa(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new rh(s,r))}),n.has(ot.keyField().canonicalString())||e.Ie.push(new rh(ot.keyField(),r))}return e.Ie}function Ln(t){const e=te(t);return e.Ee||(e.Ee=h5(e,Oa(t))),e.Ee}function h5(t,e){if(t.limitType==="F")return sE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rh(i.field,s)});const n=t.endAt?new nh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nh(t.startAt.position,t.startAt.inclusive):null;return sE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function im(t,e,n){return new qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return ly(Ln(t),Ln(e))&&t.limitType===e.limitType}function TC(t){return`${ay(Ln(t))}|lt:${t.limitType}`}function Es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wC(i)).join(", ")}]`),Wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>po(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>po(i)).join(",")),`Target(${r})`}(Ln(t))}; limitType=${t.limitType})`}function Kh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Oa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=rE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Oa(r),i)||r.endAt&&!function(o,a,l){const c=rE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Oa(r),i))}(t,e)}function d5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xC(t){return(e,n)=>{let r=!1;for(const i of Oa(t)){const s=f5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function f5(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?fo(l,c):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return oC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=new je(Q.comparator);function pr(){return p5}const SC=new je(Q.comparator);function ga(...t){let e=SC;for(const n of t)e=e.insert(n.key,n);return e}function IC(t){let e=SC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bi(){return Ma()}function CC(){return Ma()}function Ma(){return new hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const m5=new je(Q.comparator),g5=new Je(Q.comparator);function he(...t){let e=g5;for(const n of t)e=e.add(n);return e}const y5=new Je(ce);function v5(){return y5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function PC(t){return{integerValue:""+t}}function _5(t,e){return q3(e)?PC(e):cy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function w5(t,e,n){return t instanceof ih?function(i,s){const o={fields:{[uC]:{stringValue:lC},[hC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sy(s)&&(s=Hh(s)),s&&(o.fields[cC]=s),{mapValue:o}}(n,e):t instanceof gl?RC(t,e):t instanceof yl?kC(t,e):function(i,s){const o=AC(i,s),a=aE(o)+aE(i.Ae);return tm(o)&&tm(i.Ae)?PC(a):cy(i.serializer,a)}(t,e)}function E5(t,e,n){return t instanceof gl?RC(t,e):t instanceof yl?kC(t,e):n}function AC(t,e){return t instanceof sh?function(r){return tm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ih extends Qh{}class gl extends Qh{constructor(e){super(),this.elements=e}}function RC(t,e){const n=bC(e);for(const r of t.elements)n.some(i=>Bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class yl extends Qh{constructor(e){super(),this.elements=e}}function kC(t,e){let n=bC(e);for(const r of t.elements)n=n.filter(i=>!Bn(i,r));return{arrayValue:{values:n}}}class sh extends Qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aE(t){return ze(t.integerValue||t.doubleValue)}function bC(t){return oy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function T5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gl&&i instanceof gl||r instanceof yl&&i instanceof yl?ho(r.elements,i.elements,Bn):r instanceof sh&&i instanceof sh?Bn(r.Ae,i.Ae):r instanceof ih&&i instanceof ih}(t.transform,e.transform)}class x5{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yh{}function NC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DC(t.key,sr.none()):new Ml(t.key,t.data,sr.none());{const n=t.data,r=on.empty();let i=new Je(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ds(t.key,r,new xn(i.toArray()),sr.none())}}function S5(t,e,n){t instanceof Ml?function(i,s,o){const a=i.value.clone(),l=uE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(i,s,o){if(!nc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(VC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function La(t,e,n,r){return t instanceof Ml?function(s,o,a,l){if(!nc(s.precondition,o))return a;const c=s.value.clone(),h=cE(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(s,o,a,l){if(!nc(s.precondition,o))return a;const c=cE(s.fieldTransforms,l,o),h=o.data;return h.setAll(VC(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return nc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function I5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=AC(r.transform,i||null);s!=null&&(n===null&&(n=on.empty()),n.set(r.field,s))}return n||null}function lE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ho(r,i,(s,o)=>T5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ml extends Yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends Yh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uE(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,E5(o,a,n[i]))}return r}function cE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,w5(s,o,e))}return r}class DC extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C5 extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&S5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=La(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=La(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=NC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,r)=>lE(n,r))&&ho(this.baseMutations,e.baseMutations,(n,r)=>lE(n,r))}}class hy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return m5}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new hy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,de;function k5(t){switch(t){case F.OK:return Z(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function OC(t){if(t===void 0)return fr("GRPC error has no .code"),F.UNKNOWN;switch(t){case We.OK:return F.OK;case We.CANCELLED:return F.CANCELLED;case We.UNKNOWN:return F.UNKNOWN;case We.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case We.INTERNAL:return F.INTERNAL;case We.UNAVAILABLE:return F.UNAVAILABLE;case We.UNAUTHENTICATED:return F.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case We.NOT_FOUND:return F.NOT_FOUND;case We.ALREADY_EXISTS:return F.ALREADY_EXISTS;case We.PERMISSION_DENIED:return F.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case We.ABORTED:return F.ABORTED;case We.OUT_OF_RANGE:return F.OUT_OF_RANGE;case We.UNIMPLEMENTED:return F.UNIMPLEMENTED;case We.DATA_LOSS:return F.DATA_LOSS;default:return Z(39323,{code:t})}}(de=We||(We={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=new ti([4294967295,4294967295],0);function hE(t){const e=b5().encode(t),n=new YI;return n.update(e),new Uint8Array(n.digest())}function dE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ti([n,r],0),new ti([i,s],0)]}class dy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ya(`Invalid padding: ${n}`);if(r<0)throw new ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ya(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ti.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ti.fromNumber(r)));return i.compare(N5)===1&&(i=new ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hE(e),[r,i]=dE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=hE(e),[r,i]=dE(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xh(ee.min(),i,new je(ce),pr(),he())}}class Ll{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ll(r,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class MC{constructor(e,n){this.targetId=e,this.Ce=n}}class LC{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fE{constructor(){this.ve=0,this.Fe=pE(),this.Me=ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),n=he(),r=he();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:s})}}),new Ll(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=pE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V5{constructor(e){this.Ge=e,this.ze=new Map,this.je=pr(),this.Je=ku(),this.He=ku(),this.Ye=new je(ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(rm(s))if(r===0){const o=new Q(s.path);this.et(n,o,_t.newNoDocument(o,ee.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ci(r).toUint8Array()}catch(l){if(l instanceof aC)return co("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dy(o,i,s)}catch(l){return co(l instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&rm(a.target)){const l=new Q(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,_t.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=he();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Xh(e,n,this.Ye,this.je,r);return this.je=pr(),this.Je=ku(),this.He=ku(),this.Ye=new je(ce),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Je(ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Je(ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ku(){return new je(Q.comparator)}function pE(){return new je(Q.comparator)}const D5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),O5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),M5=(()=>({and:"AND",or:"OR"}))();class L5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(t,e){return t.useProto3Json||Wh(e)?e:{value:e}}function oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function j5(t,e){return oh(t,e.toTimestamp())}function jn(t){return ge(!!t,49232),ee.fromTimestamp(function(n){const r=ui(n);return new Ce(r.seconds,r.nanos)}(t))}function fy(t,e){return om(t,e).canonicalString()}function om(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FC(t){const e=Ve.fromString(t);return ge(WC(e),10190,{key:e.toString()}),e}function am(t,e){return fy(t.databaseId,e.path)}function Sf(t,e){const n=FC(e);if(n.get(1)!==t.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(BC(n))}function UC(t,e){return fy(t.databaseId,e)}function F5(t){const e=FC(t);return e.length===4?Ve.emptyPath():BC(e)}function lm(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BC(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mE(t,e,n){return{name:am(t,e),fields:n.value.mapValue.fields}}function U5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ge(h===void 0||typeof h=="string",58123),ut.fromBase64String(h||"")):(ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?F.UNKNOWN:OC(c.code);return new G(h,c.message||"")}(o);n=new LC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sf(t,r.document.name),s=jn(r.document.updateTime),o=r.document.createTime?jn(r.document.createTime):ee.min(),a=new on({mapValue:{fields:r.document.fields}}),l=_t.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new rc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sf(t,r.document),s=r.readTime?jn(r.readTime):ee.min(),o=_t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new rc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sf(t,r.document),s=r.removedTargetIds||[];n=new rc([],s,i,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new R5(i,s),a=r.targetId;n=new MC(a,o)}}return n}function B5(t,e){let n;if(e instanceof Ml)n={update:mE(t,e.key,e.value)};else if(e instanceof DC)n={delete:am(t,e.key)};else if(e instanceof ds)n={update:mE(t,e.key,e.data),updateMask:Y5(e.fieldMask)};else{if(!(e instanceof C5))return Z(16599,{Vt:e.type});n={verify:am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ih)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:j5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z(27497)}(t,e.precondition)),n}function z5(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?jn(i.updateTime):jn(s);return o.isEqual(ee.min())&&(o=jn(s)),new x5(o,i.transformResults||[])}(n,e))):[]}function $5(t,e){return{documents:[UC(t,e.path)]}}function W5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UC(t,i);const s=function(c){if(c.length!==0)return $C(zn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Ts(p.field),direction:G5(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function H5(t){let e=F5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const p=zC(d);return p instanceof zn&&vC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(E){return new rh(xs(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,Wh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,y=d.values||[];return new nh(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,y=d.values||[];return new nh(y,p)}(n.endAt)),u5(e,i,o,s,a,"F",l,c)}function q5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xs(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xs(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xs(n.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xs(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>zC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function G5(t){return D5[t]}function K5(t){return O5[t]}function Q5(t){return M5[t]}function Ts(t){return{fieldPath:t.canonicalString()}}function xs(t){return ot.fromServerFormat(t.fieldPath)}function $C(t){return t instanceof Ye?function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:Ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(n.field),op:K5(n.op),value:n.value}}}(t):t instanceof zn?function(n){const r=n.getFilters().map(i=>$C(i));return r.length===1?r[0]:{compositeFilter:{op:Q5(n.op),filters:r}}}(t):Z(54877,{filter:t})}function Y5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.yt=e}}function J5(t){const e=H5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.Cn=new e6}addToCollectionParentIndex(e,n){return this.Cn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(li.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(li.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class e6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HC=41943040;class Vt{static withCacheSize(e){return new Vt(e,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt.DEFAULT_COLLECTION_PERCENTILE=10,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vt.DEFAULT=new Vt(HC,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vt.DISABLED=new Vt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",t6=1048576;function vE([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class n6{constructor(e){this.Ir=e,this.buffer=new Je(vE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(yE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?W(yE,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)})}}class i6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve($h.ce);const r=new n6(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(gE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),ws()<=le.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function s6(t,e){return new i6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.changes=new hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&La(r.mutation,i,xn.empty(),Ce.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){const i=Bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ga();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pr();const o=Ma(),a=function(){return Ma()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ds)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),La(h.mutation,c,h.mutation.getFieldMask(),Ce.now())):o.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new a6(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ma();let i=new je((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||xn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=CC();h.forEach(p=>{if(!s.has(p)){const y=NC(n.get(p),r.get(p));y!==null&&d.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Bi());let a=dl,l=s;return o.next(c=>j.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,he())).next(h=>({batchId:a,changes:IC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ga();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(d,p){return new qh(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,_t.newInvalidDocument(h)))});let a=ga();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&La(h.mutation,c,xn.empty(),Ce.now()),Kh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:J5(i.bundledQuery),readTime:jn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.overlays=new je(Q.comparator),this.qr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bi();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Bi(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Bi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Bi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return j.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new A5(n,r));let s=this.qr.get(n);s===void 0&&(s=he(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.Qr=new Je(Ze.$r),this.Ur=new Je(Ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ze(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new Ve([])),r=new Ze(n,e),i=new Ze(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new Ve([])),r=new Ze(n,e),i=new Ze(n,e+1);let s=he();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ze(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||ce(e.Yr,n.Yr)}static Kr(e,n){return ce(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Je(Ze.$r)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new P5(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?iy:this.tr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(ce);return n.forEach(i=>{const s=new Ze(i,0),o=new Ze(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new Ze(new Q(s),0);let a=new Je(ce);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),j.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,i=>{const s=new Ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ze(n,0),i=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.ri=e,this.docs=function(){return new je(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=pr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pr();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||z3(B3(h),r)<=0||(i.has(h.key)||Kh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z(9500)}ii(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new p6(this)}getSize(e){return j.resolve(this.size)}}class p6 extends o6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.persistence=e,this.si=new hs(n=>ay(n),ly),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new py,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Pr(n),j.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.ui={},this.overlays={},this.ci=new $h(0),this.li=!1,this.li=!0,this.hi=new h6,this.referenceDelegate=e(this),this.Pi=new m6(this),this.indexManager=new Z5,this.remoteDocumentCache=function(i){return new f6(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new X5(n),this.Ii=new u6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new d6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new g6(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return j.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class g6 extends W3{constructor(e){super(),this.currentSequenceNumber=e}}class my{constructor(e){this.persistence=e,this.Ri=new py,this.Vi=null}static mi(e){return new my(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,r=>{const i=Q.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ah{constructor(e,n){this.persistence=e,this.pi=new hs(r=>G3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=s6(this,n)}static mi(e,n){return new ah(e,n)}Ei(){}di(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return j.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ee.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),j.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ec(e.data.value)),n}br(e,n,r){return j.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=he(),i=he();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return HL()?8:H3(Et())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new y6;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ws()<=le.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(ws()<=le.DEBUG&&W("QueryEngine","Query:",Es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ws()<=le.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):j.resolve())}ys(e,n){if(oE(n))return j.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=im(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,im(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return oE(n)||i.isEqual(ee.min())?j.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?j.resolve(null):(ws()<=le.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Es(n)),this.vs(e,o,n,U3(i,dl)).next(a=>a))})}Ds(e,n){let r=new Je(xC(e));return n.forEach((i,s)=>{Kh(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ws()<=le.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Es(n)),this.ps.getDocumentsMatchingQuery(e,n,li.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LocalStore",_6=3e8;class w6{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new je(ce),this.xs=new hs(s=>ay(s),ly),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function E6(t,e,n,r){return new w6(t,e,n,r)}async function GC(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function T6(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,p=d.keys();let y=j.resolve();return p.forEach(E=>{y=y.next(()=>h.getEntry(l,E)).next(S=>{const C=c.docVersions.get(E);ge(C!==null,48541),S.version.compareTo(C)<0&&(d.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),h.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KC(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function x6(t,e){const n=te(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(ut.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(d,y),function(S,C,T){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=_6?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,y,h)&&a.push(n.Pi.updateTargetData(s,y))});let l=pr(),c=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(S6(s,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(ee.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function S6(t,e,n){let r=he(),i=he();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W(yy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function I6(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=iy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function C6(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Ur(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function um(t,e,n){const r=te(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ro(o))throw o;W(yy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function _E(t,e,n){const r=te(t);let i=ee.min(),s=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=te(l),p=d.xs.get(h);return p!==void 0?j.resolve(d.Ms.get(p)):d.Pi.getTargetData(c,h)}(r,o,Ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:he())).next(a=>(P6(r,d5(e),a),{documents:a,Qs:s})))}function P6(t,e,n){let r=t.Os.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class wE{constructor(){this.activeTargetIds=v5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A6{constructor(){this.Mo=new wE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(EE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu=null;function cm(){return bu===null?bu=function(){return 268435456+Math.round(2147483648*Math.random())}():bu++,"0x"+bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="RestConnection",k6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=cm(),a=this.zo(e,n.toUriEncodedString());W(If,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),h=So(c);return this.Jo(e,a,l,r,h).then(d=>(W(If,`Received RPC '${e}' ${o}: `,d),d),d=>{throw co(If,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=k6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection";class V6 extends b6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=cm();return new Promise((a,l)=>{const c=new XI;c.setWithCredentials(!0),c.listenOnce(JI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zu.NO_ERROR:const d=c.getResponseJson();W(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Zu.TIMEOUT:W(mt,`RPC '${e}' ${o} timed out`),l(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const p=c.getStatus();if(W(mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y==null?void 0:y.error;if(E&&E.status&&E.message){const S=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(E.status);l(new G(S,E.message))}else l(new G(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new G(F.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{W(mt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);W(mt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=cm(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tC(),a=eC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");W(mt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);this.I_(d);let p=!1,y=!1;const E=new N6({Yo:C=>{y?W(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(W(mt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),W(mt,`RPC '${e}' stream ${i} sending:`,C),d.send(C))},Zo:()=>d.close()}),S=(C,T,v)=>{C.listen(T,_=>{try{v(_)}catch(b){setTimeout(()=>{throw b},0)}})};return S(d,ma.EventType.OPEN,()=>{y||(W(mt,`RPC '${e}' stream ${i} transport opened.`),E.o_())}),S(d,ma.EventType.CLOSE,()=>{y||(y=!0,W(mt,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(d))}),S(d,ma.EventType.ERROR,C=>{y||(y=!0,co(mt,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),E.a_(new G(F.UNAVAILABLE,"The operation could not be completed")))}),S(d,ma.EventType.MESSAGE,C=>{var T;if(!y){const v=C.data[0];ge(!!v,16349);const _=v,b=(_==null?void 0:_.error)||((T=_[0])==null?void 0:T.error);if(b){W(mt,`RPC '${e}' stream ${i} received error:`,b);const O=b.status;let L=function(A){const R=We[A];if(R!==void 0)return OC(R)}(O),I=b.message;L===void 0&&(L=F.INTERNAL,I="Unknown error status: "+O+" with message "+b.message),y=!0,E.a_(new G(L,I)),d.close()}else W(mt,`RPC '${e}' stream ${i} received:`,v),E.u_(v)}}),S(a,ZI.STAT_EVENT,C=>{C.stat===Jp.PROXY?W(mt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Jp.NOPROXY&&W(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){return new L5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="PersistentStream";class YC{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(xE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D6 extends YC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=U5(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?jn(o.readTime):ee.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=lm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=rm(l)?{documents:$5(s,l)}:{query:W5(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=jC(s,o.resumeToken);const c=sm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=oh(s,o.snapshotVersion.toTimestamp());const c=sm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=q5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.q_(n)}}class O6 extends YC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=z5(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>B5(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{}class L6 extends M6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,om(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,om(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class j6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="RemoteStore";class F6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{fs(this)&&(W(rs,"Restarting streams for network reachability change."),await async function(l){const c=te(l);c.Ea.add(4),await jl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Zh(c)}(this))})}),this.Ra=new j6(r,i)}}async function Zh(t){if(fs(t))for(const e of t.da)await e(!0)}async function jl(t){for(const e of t.da)await e(!1)}function XC(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ey(n)?wy(n):ko(n).O_()&&_y(n,e))}function vy(t,e){const n=te(t),r=ko(n);n.Ia.delete(e),r.O_()&&JC(n,e),n.Ia.size===0&&(r.O_()?r.L_():fs(n)&&n.Ra.set("Unknown"))}function _y(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(t).Y_(e)}function JC(t,e){t.Va.Ue(e),ko(t).Z_(e)}function wy(t){t.Va=new V5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ko(t).start(),t.Ra.ua()}function Ey(t){return fs(t)&&!ko(t).x_()&&t.Ia.size>0}function fs(t){return te(t).Ea.size===0}function ZC(t){t.Va=void 0}async function U6(t){t.Ra.set("Online")}async function B6(t){t.Ia.forEach((e,n)=>{_y(t,e)})}async function z6(t,e){ZC(t),Ey(t)?(t.Ra.ha(e),wy(t)):t.Ra.set("Unknown")}async function $6(t,e,n){if(t.Ra.set("Online"),e instanceof LC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){W(rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(t,r)}else if(e instanceof rc?t.Va.Ze(e):e instanceof MC?t.Va.st(e):t.Va.tt(e),!n.isEqual(ee.min()))try{const r=await KC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),JC(s,l);const d=new Ur(h.target,l,c,h.sequenceNumber);_y(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W(rs,"Failed to raise snapshot:",r),await lh(t,r)}}async function lh(t,e,n){if(!Ro(e))throw e;t.Ea.add(1),await jl(t),t.Ra.set("Offline"),n||(n=()=>KC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(rs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zh(t)})}function eP(t,e){return e().catch(n=>lh(t,n,e))}async function ed(t){const e=te(t),n=di(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iy;for(;W6(e);)try{const i=await I6(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,H6(e,i)}catch(i){await lh(e,i)}tP(e)&&nP(e)}function W6(t){return fs(t)&&t.Ta.length<10}function H6(t,e){t.Ta.push(e);const n=di(t);n.O_()&&n.X_&&n.ea(e.mutations)}function tP(t){return fs(t)&&!di(t).x_()&&t.Ta.length>0}function nP(t){di(t).start()}async function q6(t){di(t).ra()}async function G6(t){const e=di(t);for(const n of t.Ta)e.ea(n.mutations)}async function K6(t,e,n){const r=t.Ta.shift(),i=hy.from(r,e,n);await eP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ed(t)}async function Q6(t,e){e&&di(t).X_&&await async function(r,i){if(function(o){return k5(o)&&o!==F.ABORTED}(i.code)){const s=r.Ta.shift();di(r).B_(),await eP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ed(r)}}(t,e),tP(t)&&nP(t)}async function SE(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),W(rs,"RemoteStore received new credentials");const r=fs(n);n.Ea.add(3),await jl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zh(n)}async function Y6(t,e){const n=te(t);e?(n.Ea.delete(2),await Zh(n)):e||(n.Ea.add(2),await jl(n),n.Ra.set("Unknown"))}function ko(t){return t.ma||(t.ma=function(n,r,i){const s=te(n);return s.sa(),new D6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:U6.bind(null,t),t_:B6.bind(null,t),r_:z6.bind(null,t),H_:$6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ey(t)?wy(t):t.Ra.set("Unknown")):(await t.ma.stop(),ZC(t))})),t.ma}function di(t){return t.fa||(t.fa=function(n,r,i){const s=te(n);return s.sa(),new O6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:q6.bind(null,t),r_:Q6.bind(null,t),ta:G6.bind(null,t),na:K6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ed(t)):(await t.fa.stop(),t.Ta.length>0&&(W(rs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ty(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(t,e){if(fr("AsyncQueue",`${e}: ${t}`),Ro(t))return new G(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{static emptySet(e){return new Xs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=ga(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.ga=new je(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class go{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new go(e,n,Xs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class J6{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=te(n),s=i.queries;i.queries=CE(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new G(F.ABORTED,"Firestore shutting down"))}}function CE(){return new hs(t=>TC(t),Gh)}async function Z6(t,e){const n=te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new X6,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=xy(o,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Sy(n)}async function eU(t,e){const n=te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tU(t,e){const n=te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Sy(n)}function nU(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Sy(t){t.Ca.forEach(e=>{e.next()})}var hm,PE;(PE=hm||(hm={})).Ma="default",PE.Cache="cache";class rU{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.key=e}}class iP{constructor(e){this.key=e}}class iU{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=he(),this.mutatedKeys=he(),this.eu=xC(e),this.tu=new Xs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new IE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),y=Kh(this.query,d)?d:null,E=!!p&&this.mutatedKeys.has(p.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;p&&y?p.data.isEqual(y.data)?E!==S&&(r.track({type:3,doc:y}),C=!0):this.su(p,y)||(r.track({type:2,doc:y}),C=!0,(l&&this.eu(y,l)>0||c&&this.eu(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),C=!0):p&&!y&&(r.track({type:1,doc:p}),C=!0,(l||c)&&(a=!0)),C&&(y?(o=o.add(y),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(y,E){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:C})}};return S(y)-S(E)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new go(this.query,e.tu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=he(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new iP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new rP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=he();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iy="SyncEngine";class sU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oU{constructor(e){this.key=e,this.hu=!1}}class aU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hs(a=>TC(a),Gh),this.Iu=new Map,this.Eu=new Set,this.du=new je(Q.comparator),this.Au=new Map,this.Ru=new py,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lU(t,e,n=!0){const r=cP(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await sP(r,e,n,!0),i}async function uU(t,e){const n=cP(t);await sP(n,e,!0,!1)}async function sP(t,e,n,r){const i=await C6(t.localStore,Ln(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await cU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&XC(t.remoteStore,i),a}async function cU(t,e,n,r,i){t.pu=(d,p,y)=>async function(S,C,T,v){let _=C.view.ru(T);_.Cs&&(_=await _E(S.localStore,C.query,!1).then(({documents:I})=>C.view.ru(I,_)));const b=v&&v.targetChanges.get(C.targetId),O=v&&v.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(_,S.isPrimaryClient,b,O);return RE(S,C.targetId,L.au),L.snapshot}(t,d,p,y);const s=await _E(t.localStore,e,!0),o=new iU(e,s.Qs),a=o.ru(s.documents),l=Ll.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);RE(t,n,c.au);const h=new sU(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function hU(t,e,n){const r=te(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Gh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await um(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&vy(r.remoteStore,i.targetId),dm(r,i.targetId)}).catch(Ao)):(dm(r,i.targetId),await um(r.localStore,i.targetId,!0))}async function dU(t,e){const n=te(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vy(n.remoteStore,r.targetId))}async function fU(t,e,n){const r=wU(t);try{const i=await function(o,a){const l=te(o),c=Ce.now(),h=a.reduce((y,E)=>y.add(E.key),he());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=pr(),S=he();return l.Ns.getEntries(y,h).next(C=>{E=C,E.forEach((T,v)=>{v.isValidDocument()||(S=S.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,E)).next(C=>{d=C;const T=[];for(const v of a){const _=I5(v,d.get(v.key).overlayedDocument);_!=null&&T.push(new ds(v.key,_,mC(_.value.mapValue),sr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,T,a)}).next(C=>{p=C;const T=C.applyToLocalDocumentSet(d,S);return l.documentOverlayCache.saveOverlays(y,C.batchId,T)})}).then(()=>({batchId:p.batchId,changes:IC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new je(ce)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Fl(r,i.changes),await ed(r.remoteStore)}catch(i){const s=xy(i,"Failed to persist write");n.reject(s)}}async function oP(t,e){const n=te(t);try{const r=await x6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ge(o.hu,14607):i.removedDocuments.size>0&&(ge(o.hu,42227),o.hu=!1))}),await Fl(n,r,e)}catch(r){await Ao(r)}}function AE(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const p of d.Sa)p.va(a)&&(c=!0)}),c&&Sy(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pU(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new je(Q.comparator);o=o.insert(s,_t.newNoDocument(s,ee.min()));const a=he().add(s),l=new Xh(ee.min(),new Map,new je(ce),o,a);await oP(r,l),r.du=r.du.remove(s),r.Au.delete(e),Cy(r)}else await um(r.localStore,e,!1).then(()=>dm(r,e,n)).catch(Ao)}async function mU(t,e){const n=te(t),r=e.batch.batchId;try{const i=await T6(n.localStore,e);lP(n,r,null),aP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fl(n,i)}catch(i){await Ao(i)}}async function gU(t,e,n){const r=te(t);try{const i=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ge(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);lP(r,e,n),aP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fl(r,i)}catch(i){await Ao(i)}}function aP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function lP(t,e,n){const r=te(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function dm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||uP(t,r)})}function uP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(vy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cy(t))}function RE(t,e,n){for(const r of n)r instanceof rP?(t.Ru.addReference(r.key,e),yU(t,r)):r instanceof iP?(W(Iy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||uP(t,r.key)):Z(19791,{wu:r})}function yU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(Iy,"New document in limbo: "+n),t.Eu.add(r),Cy(t))}function Cy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new oU(n)),t.du=t.du.insert(n,r),XC(t.remoteStore,new Ur(Ln(uy(n.path)),r,"TargetPurposeLimboResolution",$h.ce))}}async function Fl(t,e,n){const r=te(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=gy.As(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const h=te(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(c,p=>j.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(d,p.targetId,y)).next(()=>j.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(d,p.targetId,y)))))}catch(d){if(!Ro(d))throw d;W(yy,"Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const y=h.Ms.get(p),E=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(p,S)}}}(r.localStore,s))}async function vU(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){W(Iy,"User change. New user:",e.toKey());const r=await GC(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new G(F.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fl(n,r.Ls)}}function _U(t,e){const n=te(t),r=n.Au.get(e);if(r&&r.hu)return he().add(r.key);{let i=he();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function cP(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_U.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pU.bind(null,e),e.Pu.H_=tU.bind(null,e.eventManager),e.Pu.yu=nU.bind(null,e.eventManager),e}function wU(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gU.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return E6(this.persistence,new v6,e.initialUser,this.serializer)}Cu(e){return new qC(my.mi,this.serializer)}Du(e){return new A6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class EU extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ge(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new r6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vt.withCacheSize(this.cacheSizeBytes):Vt.DEFAULT;return new qC(r=>ah.mi(r,n),this.serializer)}}class fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vU.bind(null,this.syncEngine),await Y6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new J6}()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),r=function(s){return new V6(s)}(e.databaseInfo);return function(s,o,a,l){return new L6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new F6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>AE(this.syncEngine,n,0),function(){return TE.v()?new TE:new R6}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new aU(i,s,o,a,l,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=te(i);W(rs,"RemoteStore shutting down."),s.Ea.add(5),await jl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="FirestoreClient";class xU{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yt.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W(fi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(fi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pf(t,e){t.asyncQueue.verifyOperationInProgress(),W(fi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SU(t);W(fi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SE(e.remoteStore,i)),t._onlineComponents=e}async function SU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(fi,"Using user provided OfflineComponentProvider");try{await Pf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Pf(t,new uh)}}else W(fi,"Using default OfflineComponentProvider"),await Pf(t,new EU(void 0));return t._offlineComponents}async function hP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(fi,"Using user provided OnlineComponentProvider"),await kE(t,t._uninitializedComponentsProvider._online)):(W(fi,"Using default OnlineComponentProvider"),await kE(t,new fm))),t._onlineComponents}function IU(t){return hP(t).then(e=>e.syncEngine)}async function CU(t){const e=await hP(t),n=e.eventManager;return n.onListen=lU.bind(null,e.syncEngine),n.onUnlisten=hU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dU.bind(null,e.syncEngine),n}function PU(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new TU({next:p=>{h.Nu(),o.enqueueAndForget(()=>eU(s,d));const y=p.docs.has(a);!y&&p.fromCache?c.reject(new G(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?c.reject(new G(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new rU(uy(a.path),h,{includeMetadataChanges:!0,qa:!0});return Z6(s,d)}(await CU(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="firestore.googleapis.com",NE=!0;class VE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fP,this.ssl=NE}else this.host=e.host,this.ssl=e.ssl??NE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t6)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Py{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A3;switch(r.type){case"firstParty":return new N3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bE.get(n);r&&(W("ComponentProvider","Removing Datastore"),bE.delete(n),r.terminate())}(this),Promise.resolve()}}function AU(t,e,n,r={}){var c;t=hl(t,Py);const i=So(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(lI(`https://${a}`),uI("Firestore",!0)),s.host!==fP&&s.host!==a&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Ji(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=yt.MOCK_USER;else{h=ML(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new yt(p)}t._authCredentials=new R3(new rC(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ay(this.firestore,e,this._query)}}class tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ol(n,tt._jsonSchema))return new tt(e,r||null,new Q(Ve.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:Ge("string",tt._jsonSchemaVersion),referencePath:Ge("string")};class vl extends Ay{constructor(e,n,r){super(e,n,uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new Q(e))}withConverter(e){return new vl(this.firestore,e,this._path)}}function pm(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=ny.newId()),j3("doc","path",e),t instanceof Py){const r=Ve.fromString(e,...n);return Gw(r),new tt(t,null,new Q(r))}{if(!(t instanceof tt||t instanceof vl))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Gw(r),new tt(t.firestore,t instanceof vl?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="AsyncQueue";class OE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QC(this,"async_queue_retry"),this._c=()=>{const r=Cf();r&&W(DE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ni;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;W(DE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",ME(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ty.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Z(47125,{Pc:ME(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ME(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ry extends Py{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new OE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OE(e),this._firestoreClient=void 0,await e}}}function RU(t,e){const n=typeof t=="object"?t:fI(),r=typeof t=="string"?t:e||eh,i=Wg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DL("firestore");s&&AU(i,...s)}return i}function pP(t){if(t._terminated)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kU(t),t._firestoreClient}function kU(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,c,h){return new Y3(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this._byteString=e}static fromBase64String(e){try{return new an(ut.fromBase64String(e))}catch(n){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new an(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:an._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ol(e,an._jsonSchema))return an.fromBase64String(e.bytes)}}an._jsonSchemaVersion="firestore/bytes/1.0",an._jsonSchema={type:Ge("string",an._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fn._jsonSchemaVersion}}static fromJSON(e){if(Ol(e,Fn._jsonSchema))return new Fn(e.latitude,e.longitude)}}Fn._jsonSchemaVersion="firestore/geoPoint/1.0",Fn._jsonSchema={type:Ge("string",Fn._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ol(e,Un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Un(e.vectorValues);throw new G(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Un._jsonSchemaVersion="firestore/vectorValue/1.0",Un._jsonSchema={type:Ge("string",Un._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=/^__.*__$/;class NU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ml(e,this.data,n,this.fieldTransforms)}}function gP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:t})}}class by{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new by({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gP(this.Ac)&&bU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jh(e)}Cc(e,n,r,i=!1){return new by({Ac:e,methodName:n,Dc:r,path:ot.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DU(t){const e=t._freezeSettings(),n=Jh(t._databaseId);return new VU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OU(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);wP("Data must be an object, but it was:",o,r);const a=vP(r,o);let l,c;if(s.merge)l=new xn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const p=MU(e,d,n);if(!o.contains(p))throw new G(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);jU(h,p)||h.push(p)}l=new xn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new NU(new on(a),l,c)}function yP(t,e){if(_P(t=Ut(t)))return wP("Unsupported field value:",e,t),vP(t,e);if(t instanceof mP)return function(r,i){if(!gP(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=yP(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ce.fromDate(r);return{timestampValue:oh(i.serializer,s)}}if(r instanceof Ce){const s=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(i.serializer,s)}}if(r instanceof Fn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof an)return{bytesValue:jC(i.serializer,r._byteString)};if(r instanceof tt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Un)return function(o,a){return{mapValue:{fields:{[dC]:{stringValue:pC},[th]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return cy(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${ry(r)}`)}(t,e)}function vP(t,e){const n={};return oC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(r,i)=>{const s=yP(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _P(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Fn||t instanceof an||t instanceof tt||t instanceof mP||t instanceof Un)}function wP(t,e,n){if(!_P(n)||!iC(n)){const r=ry(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function MU(t,e,n){if((e=Ut(e))instanceof ky)return e._internalPath;if(typeof e=="string")return EP(t,e);throw ch("Field path arguments must be of type string or ",t,!1,void 0,n)}const LU=new RegExp("[~\\*/\\[\\]]");function EP(t,e,n){if(e.search(LU)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ky(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ch(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new G(F.INVALID_ARGUMENT,a+t+l)}function jU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FU extends TP{data(){return super.data()}}function xP(t,e){return typeof e=="string"?EP(t,e):e instanceof ky?e._internalPath:e._delegate._internalPath}class UU{convertValue(e,n="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[th].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>ze(o.doubleValue));return new Un(n)}convertGeoPoint(e){return new Fn(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const n=ui(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);ge(WC(r),9688,{name:e});const i=new pl(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hi extends TP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hi._jsonSchema={type:Ge("string",Hi._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class ic extends Hi{data(e={}){return super.data(e)}}class ja{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new va(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ic(this._firestore,this._userDataWriter,r.key,r,new va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new va(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new va(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:zU(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ny.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){t=hl(t,tt);const e=hl(t.firestore,Ry);return PU(pP(e),t._key).then(n=>HU(e,t,n))}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Ge("string",ja._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class $U extends UU{constructor(e){super(),this.firestore=e}convertBytes(e){return new an(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}function IP(t,e,n){t=hl(t,tt);const r=hl(t.firestore,Ry),i=BU(t.converter,e,n);return WU(r,[OU(DU(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sr.none())])}function WU(t,e){return function(r,i){const s=new ni;return r.asyncQueue.enqueueAndForget(async()=>fU(await IU(r),i,s)),s.promise}(pP(t),e)}function HU(t,e,n){const r=n.docs.get(e._key),i=new $U(t);return new Hi(t,i,e._key,r,new va(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Po=i})(Io),uo(new Zi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ry(new k3(r.getProvider("auth-internal")),new V3(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ei($w,Ww,e),ei($w,Ww,"esm2020")})();const qU={apiKey:"AIzaSyBkgWtfIDmBbwE-VWIlC5Xt1O1JnVx54ZM",authDomain:"c",projectId:"wishlist2cart-496ba",storageBucket:"wishlist2cart-496ba.appspot.com",messagingSenderId:"358783152240",appId:"1:358783152240:web:974a64ba7bf4eeee1444b5",measurementId:"G-8EQZWH68H3"},CP=dI(qU),Ss=S3(CP),GU=new Qn,mm=RU(CP),KU=1;let Af=0;function QU(){return Af=(Af+1)%Number.MAX_VALUE,Af.toString()}const Pt={state:{toasts:[]},listeners:[],getState:()=>Pt.state,setState:t=>{typeof t=="function"?Pt.state=t(Pt.state):Pt.state={...Pt.state,...t},Pt.listeners.forEach(e=>e(Pt.state))},subscribe:t=>(Pt.listeners.push(t),()=>{Pt.listeners=Pt.listeners.filter(e=>e!==t)})},Di=({...t})=>{const e=QU(),n=i=>Pt.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>Pt.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return Pt.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,KU)})),{id:e,dismiss:r,update:n}};function Ei(){const[t,e]=P.useState(Pt.getState());return P.useEffect(()=>Pt.subscribe(r=>{e(r)}),[]),P.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:Di,toasts:t.toasts}}const ln=P.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:yr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder:text-gray-500 dark:focus-visible:ring-violet-500",t),ref:r,...n}));ln.displayName="Input";var YU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],An=YU.reduce((t,e)=>{const n=zc(`Primitive.${e}`),r=P.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function PP(t,e){t&&Ph.flushSync(()=>t.dispatchEvent(e))}var XU="Label",AP=P.forwardRef((t,e)=>g.jsx(An.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));AP.displayName=XU;var RP=AP;const JU=Fg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70","dark:text-gray-300"),un=P.forwardRef(({className:t,...e},n)=>g.jsx(RP,{ref:n,className:yr(JU(),t),...e}));un.displayName=RP.displayName;const kP=P.createContext(),ZU=({children:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(!0),s=async c=>{const h=pm(mm,"users",c),d=await SP(h);if(d.exists()){const p=d.data();n(p),localStorage.setItem("wishlist2cart_user",JSON.stringify(p))}},o=async(c,h,d)=>{const p=c.trim().toLowerCase();if((await uF(Ss,p)).length>0)throw new Error("Email already in use");const S=(await oF(Ss,p,h)).user,C={uid:S.uid,name:d,email:S.email,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(S.email)}`};await IP(pm(mm,"users",S.uid),C)},a=async(c,h)=>{const d=await aF(Ss,c.trim(),h);await s(d.user.uid)},l=async()=>{await fF(Ss),n(null),localStorage.removeItem("wishlist2cart_user")};return P.useEffect(()=>{const c=dF(Ss,async h=>{h?await s(h.uid):(n(null),localStorage.removeItem("wishlist2cart_user")),i(!1)});return()=>c()},[]),g.jsx(kP.Provider,{value:{user:e,loading:r,loginWithEmail:a,register:o,logout:l},children:r?g.jsx("div",{className:"min-h-screen flex justify-center items-center",children:g.jsx("div",{className:"h-12 w-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})}):t})},bo=()=>P.useContext(kP),e9=()=>{const[t,e]=P.useState(!0),[n,r]=P.useState(!1),[i,s]=P.useState(""),[o,a]=P.useState(""),[l,c]=P.useState(""),[h,d]=P.useState(!1),{loginWithEmail:p,register:y}=bo(),E=xo(),S=async T=>{T.preventDefault(),d(!0);try{t?(await p(i.trim(),o),Di({title:"Login successful!"}),E("/dashboard")):(await y(i.trim(),o,l),Di({title:"Account created!",description:"Now log in using your credentials."}),e(!0),s(""),a(""),c(""))}catch(v){Di({title:"Auth Error",description:v.message,variant:"destructive"})}finally{d(!1)}},C=async()=>{d(!0);try{const v=(await VF(Ss,GU)).user,_=pm(mm,"users",v.uid),b=await SP(_),O={uid:v.uid,name:v.displayName||"Google User",email:v.email,avatar:v.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(v.email)}`};b.exists()||await IP(_,O),localStorage.setItem("wishlist2cart_user",JSON.stringify(O)),Di({title:"Google Sign-In Success",description:`Welcome ${O.name}`}),E("/dashboard")}catch(T){T.code==="auth/popup-closed-by-user"?Di({title:"Popup Closed",description:"You closed the sign-in popup.",variant:"destructive"}):Di({title:"Google Sign-In Failed",description:T.message,variant:"destructive"})}finally{d(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md space-y-4 bg-white dark:bg-gray-950 rounded-xl shadow-md p-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-center",children:t?"Login":"Register"}),g.jsxs("form",{onSubmit:S,className:"space-y-4",children:[!t&&g.jsxs("div",{className:"relative",children:[g.jsx(un,{htmlFor:"name",children:"Name"}),g.jsx(ln,{id:"name",value:l,onChange:T=>c(T.target.value),required:!0}),g.jsx($c,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"})]}),g.jsxs("div",{className:"relative",children:[g.jsx(un,{htmlFor:"email",children:"Email"}),g.jsx(ln,{id:"email",type:"email",required:!0,value:i,onChange:T=>s(T.target.value)}),g.jsx(JS,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"})]}),g.jsxs("div",{className:"relative",children:[g.jsx(un,{htmlFor:"password",children:"Password"}),g.jsx(ln,{id:"password",type:n?"text":"password",required:!0,value:o,onChange:T=>a(T.target.value)}),g.jsx(mL,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"}),g.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-9 w-5 h-5 text-gray-400",children:n?g.jsx(hL,{}):g.jsx(dL,{})})]}),g.jsx(ue,{type:"submit",className:"w-full",disabled:h,children:h?"Please wait...":t?"Login":"Create Account"})]}),g.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:"OR"}),g.jsx(ue,{variant:"outline",className:"w-full",onClick:C,disabled:h,children:h?"Signing in...":"Continue with Google"}),g.jsxs("p",{className:"text-center text-sm mt-4",children:[t?"Don't have an account?":"Already have one?"," ",g.jsx("button",{className:"text-violet-600 font-semibold underline ml-1",onClick:()=>e(T=>!T),children:t?"Sign up":"Log in"})]})]})})},bP=P.createContext(),Ny=()=>{const t=P.useContext(bP);if(!t)throw new Error("useWishlist must be used within a WishlistProvider");return t},t9=({children:t})=>{const{user:e}=bo(),[n,r]=P.useState([]);P.useEffect(()=>{if(e){const l=localStorage.getItem(`wishlist_${e.id}`);if(l)r(JSON.parse(l));else{const c=[{id:"1",title:"iPhone 15 Pro Max",price:1199,originalPrice:1299,image:"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400",platform:"Amazon",url:"https://amazon.com/iphone-15-pro-max",tags:["electronics","phone"],addedAt:new Date().toISOString(),inCart:!1},{id:"2",title:'MacBook Pro 16"',price:2399,originalPrice:2499,image:"https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=400",platform:"Apple",url:"https://apple.com/macbook-pro",tags:["electronics","laptop"],addedAt:new Date().toISOString(),inCart:!1},{id:"3",title:"Nike Air Jordan 1",price:170,originalPrice:200,image:"https://images.unsplash.com/photo-1556906781-9a412961c28c?w=400",platform:"Nike",url:"https://nike.com/air-jordan-1",tags:["shoes","fashion"],addedAt:new Date().toISOString(),inCart:!0}];r(c),localStorage.setItem(`wishlist_${e.id}`,JSON.stringify(c))}}},[e]);const a={wishlistItems:n,addToWishlist:l=>{const c={...l,id:Date.now().toString(),addedAt:new Date().toISOString(),inCart:!1},h=[...n,c];r(h),e&&localStorage.setItem(`wishlist_${e.id}`,JSON.stringify(h))},removeFromWishlist:l=>{const c=n.filter(h=>h.id!==l);r(c),e&&localStorage.setItem(`wishlist_${e.id}`,JSON.stringify(c))},toggleCartStatus:l=>{const c=n.map(h=>h.id===l?{...h,inCart:!h.inCart}:h);r(c),e&&localStorage.setItem(`wishlist_${e.id}`,JSON.stringify(c))}};return g.jsx(bP.Provider,{value:a,children:t})},LE={Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",Flipkart:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_logo_vector.svg",Myntra:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",Default:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Shopping_Cart_Icon.svg/1024px-Shopping_Cart_Icon.svg.png"},n9=()=>{const{wishlistItems:t,toggleCartStatus:e,removeFromWishlist:n}=Ny(),{toast:r}=Ei(),i=xo(),s=a=>{const l=t.find(c=>c.id===a);e(a),r({title:"Item status updated!",description:`${l.title} has been ${l.inCart?"returned to wishlist":"moved to cart"}.`})},o=a=>{n(a),r({title:"Item Removed",description:"The item has been successfully removed from your wishlist.",variant:"destructive"})};return g.jsxs(g.Fragment,{children:[g.jsxs(ai,{children:[g.jsx("title",{children:"Dashboard - Wishlist2Cart"}),g.jsx("meta",{name:"description",content:"Manage your wishlists, synced sites, and cart all in one place."})]}),g.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:g.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[g.jsx("aside",{className:"w-full md:w-64 lg:w-72 flex-shrink-0",children:g.jsxs("div",{className:"sticky top-24 bg-white dark:bg-gray-950/30 p-6 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[g.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Menu"}),g.jsxs("nav",{className:"space-y-2",children:[g.jsxs(ue,{variant:"ghost",className:"w-full justify-start text-violet-600 dark:text-violet-400 bg-violet-100 dark:bg-violet-900/30",children:[g.jsx(YS,{className:"mr-3 h-5 w-5"})," My Wishlist"]}),g.jsxs(ue,{variant:"ghost",className:"w-full justify-start",onClick:()=>i("/synced-sites"),children:[g.jsx(TL,{className:"mr-3 h-5 w-5"})," Synced Sites"]}),g.jsxs(ue,{variant:"ghost",className:"w-full justify-start",onClick:()=>i("/cart"),children:[g.jsx(lo,{className:"mr-3 h-5 w-5"})," My Cart"]}),g.jsxs(ue,{variant:"ghost",className:"w-full justify-start",onClick:()=>i("/settings"),children:[g.jsx(wL,{className:"mr-3 h-5 w-5"})," Settings"]})]})]})}),g.jsxs("main",{className:"flex-1",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold",children:"My Wishlist"}),g.jsx(ue,{asChild:!0,children:g.jsxs(sn,{to:"/add-wishlist",children:[g.jsx(ZS,{className:"mr-2 h-5 w-5"})," Add New Item"]})})]}),g.jsx("div",{className:"space-y-4",children:t.length>0?t.map((a,l)=>g.jsxs(Qe.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:l*.05},className:`p-4 rounded-2xl transition-all duration-300 flex flex-col sm:flex-row items-start sm:items-center gap-4 ${a.inCart?"bg-green-100/50 dark:bg-green-900/20":"bg-white dark:bg-gray-800/50"} shadow-md border border-gray-200 dark:border-gray-800`,children:[g.jsx("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0 flex items-center justify-center p-2",children:g.jsx("img",{src:a.image||LE[a.store]||LE.Default,alt:a.title,className:"max-h-full max-w-full object-contain"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"font-semibold text-lg",children:a.title}),g.jsxs("p",{className:"text-violet-500 dark:text-violet-400 font-bold text-xl",children:["$",a.price.toFixed(2)]}),g.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.tags.map(c=>g.jsxs("span",{className:"text-xs bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-full flex items-center",children:[g.jsx(Bg,{className:"mr-1 h-3 w-3"})," ",c]},c))})]}),g.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 self-end sm:self-center",children:[g.jsx(ue,{size:"sm",onClick:()=>s(a.id),variant:a.inCart?"outline":"default",children:a.inCart?"In Cart":"Move to Cart"}),g.jsx(ue,{size:"sm",variant:"ghost",className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30",onClick:()=>o(a.id),children:g.jsx(eI,{className:"h-4 w-4"})})]})]},a.id)):g.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800/50 rounded-2xl",children:[g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Your wishlist is empty."}),g.jsx(ue,{asChild:!0,className:"mt-4",children:g.jsx(sn,{to:"/add-wishlist",children:"Add your first item!"})})]})}),g.jsxs("div",{className:"mt-12",children:[g.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Smart Suggestions"}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-4 rounded-2xl shadow-md border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold",children:"Alternative for Sony Headphones"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bose QuietComfort Ultra - $429.00"}),g.jsx(ue,{size:"sm",className:"mt-2",onClick:()=>r({title:"Feature Not Implemented"}),children:"View Deal"})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-4 rounded-2xl shadow-md border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold",children:"Price Drop Alert!"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Apple Watch Series 9 is now $399.00"}),g.jsxs(ue,{size:"sm",className:"mt-2",onClick:()=>r({title:"Feature Not Implemented"}),children:[g.jsx(Ug,{className:"mr-2 h-4 w-4"})," Notify Me"]})]})]})]})]})]})]})})]})},r9=()=>{const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,s]=P.useState(!1),[o,a]=P.useState(null),{toast:l}=Ei(),c=xo(),{addToWishlist:h}=Ny(),d=y=>{if(y.preventDefault(),!t){l({title:"URL Required",description:"Please paste a product URL to fetch details.",variant:"destructive"});return}s(!0),a(null),setTimeout(()=>{const E={title:"Fjallraven - Foldsack No. 1 Backpack, Fits 15 Laptops",price:109.95,image:"https://fakestoreapi.com/img/81fPKd-2AYL._AC_SL1500_.jpg",platform:"Amazon",tags:["fashion","backpack"]};a(E),r(E.tags.join(", ")),s(!1),l({title:"Success!",description:"Product details fetched successfully."})},1500)},p=()=>{if(!o)return;const y={...o,tags:n.split(",").map(E=>E.trim()).filter(E=>E)};h(y),l({title:"Item Added!",description:`${o.title} has been added to your wishlist.`}),setTimeout(()=>c("/dashboard"),1e3)};return g.jsxs(g.Fragment,{children:[g.jsxs(ai,{children:[g.jsx("title",{children:"Add to Wishlist - Wishlist2Cart"}),g.jsx("meta",{name:"description",content:"Add new items to your wishlist by pasting a URL from any e-commerce platform."})]}),g.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto max-w-3xl px-4 py-12",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Add a New Wish"}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Paste a product link to get started."})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-950/30 p-8 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-800",children:[g.jsxs("form",{onSubmit:d,className:"space-y-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx(un,{htmlFor:"url",className:"text-lg font-medium",children:"Product URL"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Paste a link from Amazon, Flipkart, Myntra, etc."}),g.jsx(XS,{className:"absolute left-3 top-[58px] h-5 w-5 text-gray-400"}),g.jsx(ln,{id:"url",type:"url",placeholder:"https://www.example-store.com/product/...",value:t,onChange:y=>e(y.target.value),required:!0,className:"pl-10 h-12 text-base"})]}),g.jsx(ue,{type:"submit",size:"lg",className:"w-full",disabled:i,children:i?"Fetching...":"Fetch Product Details"})]}),o&&g.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:[g.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Product Preview"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[g.jsx("img",{src:o.image,alt:o.title,className:"w-full md:w-32 h-32 object-contain rounded-lg bg-white"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"font-bold text-lg",children:o.title}),g.jsxs("p",{className:"text-2xl font-bold text-violet-500 dark:text-violet-400",children:["$",o.price.toFixed(2)]}),g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["From: ",o.platform]})]})]}),g.jsxs("div",{className:"mt-6 space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(un,{htmlFor:"tags",children:"Tags (comma-separated)"}),g.jsx(Bg,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"}),g.jsx(ln,{id:"tags",type:"text",placeholder:"e.g., electronics, gift, birthday",value:n,onChange:y=>r(y.target.value),className:"pl-10"})]}),g.jsxs("div",{className:"relative",children:[g.jsx(un,{htmlFor:"reminder",children:"Set Reminder"}),g.jsx(Ug,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"}),g.jsx(ln,{id:"reminder",type:"date",className:"pl-10"})]})]}),g.jsxs(ue,{size:"lg",className:"w-full mt-6",onClick:p,children:[g.jsx(_L,{className:"mr-2 h-5 w-5"})," Add to My Wishlist"]})]})]})]})]})},NP=P.createContext(),i9=()=>{const t=P.useContext(NP);if(!t)throw new Error("useCart must be used within a CartProvider");return t},s9=({children:t})=>{bo();const{wishlistItems:e}=Ny(),[n,r]=P.useState([]);P.useEffect(()=>{const c=e.filter(h=>h.inCart);r(c)},[e]);const i=()=>n.reduce((c,h)=>c+h.price,0),s=()=>n.reduce((c,h)=>c+(h.originalPrice||h.price),0),l={cartItems:n,getTotalValue:i,getOriginalTotalValue:s,getTotalSavings:()=>s()-i(),getItemsByPlatform:()=>{const c={};return n.forEach(h=>{c[h.platform]||(c[h.platform]=[]),c[h.platform].push(h)}),c}};return g.jsx(NP.Provider,{value:l,children:t})},jE={Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",Flipkart:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_logo_vector.svg",Myntra:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",Default:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Shopping_Cart_Icon.svg/1024px-Shopping_Cart_Icon.svg.png"},o9=()=>{const{toast:t}=Ei(),{cartItems:e,getTotalValue:n}=i9(),r=s=>{t({title:`Redirecting to ${s}`,description:"This would take you to the checkout page on the original website."})},i=()=>{t({title:"Let's get you paid up!",description:"Please provide your Stripe keys to continue."})};return g.jsxs(g.Fragment,{children:[g.jsxs(ai,{children:[g.jsx("title",{children:"My Cart - Wishlist2Cart"}),g.jsx("meta",{name:"description",content:"View your aggregated cart from multiple platforms and get ready to checkout."})]}),g.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"My Aggregated Cart"}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"All your items, ready for checkout."})]}),g.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[g.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.length>0?e.map((s,o)=>g.jsxs(Qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:o*.1},className:"p-4 rounded-2xl bg-white dark:bg-gray-800/50 shadow-md border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[g.jsx("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0 flex items-center justify-center p-2",children:g.jsx("img",{src:s.image||jE[s.platform]||jE.Default,alt:s.title,className:"max-h-full max-w-full object-contain"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"font-semibold",children:s.title}),g.jsxs("p",{className:"text-violet-500 dark:text-violet-400 font-bold text-lg",children:["$",s.price.toFixed(2)]})]}),g.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(s.platform),children:["Checkout on ",s.platform," ",g.jsx(cL,{className:"ml-2 h-4 w-4"})]})]},s.id)):g.jsx("div",{className:"text-center py-16 bg-white dark:bg-gray-800/50 rounded-2xl",children:g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Your cart is empty."})})}),g.jsx("div",{className:"lg:col-span-1",children:g.jsxs("div",{className:"sticky top-24 bg-white dark:bg-gray-950/30 p-6 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[g.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Cart Summary"}),g.jsxs("div",{className:"space-y-2 text-lg",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Subtotal"}),g.jsxs("span",{children:["$",n().toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between text-gray-500 dark:text-gray-400",children:[g.jsx("span",{children:"Shipping"}),g.jsx("span",{children:"Calculated at checkout"})]}),g.jsxs("div",{className:"flex justify-between font-bold text-xl pt-2 border-t border-gray-200 dark:border-gray-700",children:[g.jsx("span",{children:"Total"}),g.jsxs("span",{children:["$",n().toFixed(2)]})]})]}),g.jsxs(ue,{size:"lg",className:"w-full mt-6",onClick:i,disabled:e.length===0,children:["Proceed to Payment ",g.jsx(QS,{className:"ml-2 h-5 w-5"})]}),g.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[g.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Price Insights"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-100/50 dark:bg-green-900/20 rounded-lg",children:[g.jsx(vL,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:"Potential Savings!"}),g.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"We found one of your items for a lower price elsewhere."}),g.jsx(ue,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>t({title:"Feature Not Implemented"}),children:"View Offer"})]})]}),g.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-100/50 dark:bg-blue-900/20 rounded-lg",children:[g.jsx(Bg,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:"Coupon Available"}),g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Use code ",g.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"SAVE10"})," on Flipkart for 10% off."]}),g.jsx(ue,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>t({title:"Feature Not Implemented"}),children:"Apply Coupon"})]})]})]})]})]})})]})]})]})},a9=()=>{const{user:t}=bo(),{toast:e}=Ei(),n=r=>{r.preventDefault(),e({title:"Settings Saved!",description:"Your changes have been saved successfully."})};return g.jsxs(g.Fragment,{children:[g.jsxs(ai,{children:[g.jsx("title",{children:"Settings - Wishlist2Cart"}),g.jsx("meta",{name:"description",content:"Manage your account settings, notifications, and payment methods."})]}),g.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto max-w-4xl px-4 py-12",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Settings"}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Manage your account and preferences."})]}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-950/30 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[g.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[g.jsx($c,{className:"mr-3 h-6 w-6 text-violet-500"})," Profile"]}),g.jsxs("form",{onSubmit:n,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx(un,{htmlFor:"name",children:"Full Name"}),g.jsx(ln,{id:"name",type:"text",defaultValue:t==null?void 0:t.name,className:"pl-10"}),g.jsx($c,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"})]}),g.jsxs("div",{className:"relative",children:[g.jsx(un,{htmlFor:"email",children:"Email Address"}),g.jsx(ln,{id:"email",type:"email",defaultValue:t==null?void 0:t.email,className:"pl-10"}),g.jsx(JS,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"})]})]}),g.jsx("div",{className:"flex justify-end",children:g.jsx(ue,{type:"submit",children:"Save Changes"})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-950/30 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[g.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[g.jsx(Ug,{className:"mr-3 h-6 w-6 text-violet-500"})," Notifications"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(un,{htmlFor:"price-drop",children:"Price Drop Alerts"}),g.jsx(ln,{type:"checkbox",id:"price-drop",className:"h-5 w-5",defaultChecked:!0})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(un,{htmlFor:"recommendations",children:"Personalized Recommendations"}),g.jsx(ln,{type:"checkbox",id:"recommendations",className:"h-5 w-5",defaultChecked:!0})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(un,{htmlFor:"newsletter",children:"Weekly Newsletter"}),g.jsx(ln,{type:"checkbox",id:"newsletter",className:"h-5 w-5"})]}),g.jsx("div",{className:"flex justify-end mt-4",children:g.jsx(ue,{onClick:()=>e({title:"Notifications settings saved!"}),children:"Save Notifications"})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-950/30 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[g.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[g.jsx(uL,{className:"mr-3 h-6 w-6 text-violet-500"})," Payment Methods"]}),g.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No payment methods saved."}),g.jsx(ue,{variant:"outline",onClick:()=>e({title:"Feature Not Implemented"}),children:"Add Payment Method"})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-950/30 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[g.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[g.jsx(EL,{className:"mr-3 h-6 w-6 text-violet-500"})," Security"]}),g.jsx(ue,{variant:"outline",onClick:()=>e({title:"Feature Not Implemented"}),children:"Change Password"})]})]})]})]})},l9=[{id:1,name:"Amazon",logo:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",items:12},{id:2,name:"Flipkart",logo:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_logo_vector.svg",items:5},{id:3,name:"Myntra",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",items:8}],u9=()=>{const{toast:t}=Ei(),e=n=>{t({title:`${n} Unlinked`,description:`You have successfully unlinked your ${n} account.`,variant:"destructive"})};return g.jsxs(g.Fragment,{children:[g.jsxs(ai,{children:[g.jsx("title",{children:"Synced Sites - Wishlist2Cart"}),g.jsx("meta",{name:"description",content:"Manage your synced e-commerce accounts to automatically import wishlists."})]}),g.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto max-w-4xl px-4 py-12",children:[g.jsxs("div",{className:"flex justify-between items-center mb-10",children:[g.jsxs("div",{className:"text-center md:text-left",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Synced Sites"}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Manage your connected store accounts."})]}),g.jsxs(ue,{onClick:()=>t({title:"Feature Not Implemented"}),children:[g.jsx(ZS,{className:"mr-2 h-5 w-5"})," Sync New Site"]})]}),g.jsx("div",{className:"space-y-4",children:l9.map((n,r)=>g.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.1},className:"p-4 rounded-2xl bg-white dark:bg-gray-800/50 shadow-md border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[g.jsx("div",{className:"w-16 h-16 bg-white rounded-lg flex-shrink-0 flex items-center justify-center p-2",children:g.jsx("img",{src:n.logo,alt:`${n.name} logo`,className:"max-h-full max-w-full object-contain"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"font-semibold text-lg",children:n.name}),g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.items," items in wishlist"]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>t({title:"Feature Not Implemented"}),children:[g.jsx(XS,{className:"mr-2 h-4 w-4"})," Resync"]}),g.jsxs(ue,{variant:"ghost",size:"sm",className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30",onClick:()=>e(n.name),children:[g.jsx(eI,{className:"mr-2 h-4 w-4"})," Unlink"]})]})]},n.id))})]})]})},c9=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState(!1),{user:i,logout:s}=bo(),o=xo(),{toast:a}=Ei();P.useEffect(()=>{const d=()=>{e(window.scrollY>10)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const l=()=>{s(),a({title:"Logged Out",description:"You have been successfully logged out."}),o("/")},c="text-sm font-medium transition-colors hover:text-violet-500",h="text-violet-600 dark:text-violet-400";return g.jsxs(Qe.header,{className:`sticky top-0 z-50 w-full transition-all duration-300 ${t?"bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg shadow-md":"bg-transparent"}`,children:[g.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex h-16 items-center justify-between",children:[g.jsxs(sn,{to:"/",className:"flex items-center gap-2",children:[g.jsx(Qe.div,{whileHover:{rotate:15},className:"w-8 h-8 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:g.jsx(lo,{className:"w-5 h-5 text-white"})}),g.jsx("span",{className:"text-xl font-bold tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-violet-600 to-blue-600 dark:from-violet-400 dark:to-blue-400",children:"Wishlist2Cart"})]}),i&&g.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[g.jsx(Ci,{to:"/dashboard",className:({isActive:d})=>`${c} ${d?h:""}`,children:"Dashboard"}),g.jsx(Ci,{to:"/add-wishlist",className:({isActive:d})=>`${c} ${d?h:""}`,children:"Add Wishlist"}),g.jsx(Ci,{to:"/cart",className:({isActive:d})=>`${c} ${d?h:""}`,children:"My Cart"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"hidden md:flex items-center gap-2",children:i?g.jsxs(g.Fragment,{children:[g.jsx(ue,{variant:"ghost",size:"icon",asChild:!0,children:g.jsx(sn,{to:"/dashboard",children:g.jsx(YS,{className:"h-5 w-5"})})}),g.jsx(ue,{variant:"ghost",size:"icon",asChild:!0,children:g.jsx(sn,{to:"/cart",children:g.jsx(lo,{className:"h-5 w-5"})})}),g.jsx(ue,{variant:"ghost",size:"icon",asChild:!0,children:g.jsx(sn,{to:"/settings",children:g.jsx($c,{className:"h-5 w-5"})})}),g.jsx(ue,{variant:"ghost",size:"icon",onClick:l,children:g.jsx(gL,{className:"h-5 w-5"})})]}):g.jsx(ue,{asChild:!0,children:g.jsx(sn,{to:"/login",children:"Login"})})}),g.jsx(ue,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>r(!n),children:n?g.jsx(tI,{className:"h-6 w-6"}):g.jsx(yL,{className:"h-6 w-6"})})]})]})}),n&&g.jsx(Qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"md:hidden bg-white dark:bg-gray-900 pb-4",children:g.jsx("nav",{className:"flex flex-col items-center gap-4 pt-4",children:i?g.jsxs(g.Fragment,{children:[g.jsx(Ci,{to:"/dashboard",className:({isActive:d})=>`${c} ${d?h:""}`,onClick:()=>r(!1),children:"Dashboard"}),g.jsx(Ci,{to:"/add-wishlist",className:({isActive:d})=>`${c} ${d?h:""}`,onClick:()=>r(!1),children:"Add Wishlist"}),g.jsx(Ci,{to:"/cart",className:({isActive:d})=>`${c} ${d?h:""}`,onClick:()=>r(!1),children:"My Cart"}),g.jsx(Ci,{to:"/settings",className:({isActive:d})=>`${c} ${d?h:""}`,onClick:()=>r(!1),children:"Settings"}),g.jsx(ue,{variant:"ghost",onClick:()=>{l(),r(!1)},children:"Logout"})]}):g.jsx(ue,{asChild:!0,onClick:()=>r(!1),children:g.jsx(sn,{to:"/login",children:"Login"})})})})]})},h9=()=>{const{toast:t}=Ei(),e=()=>{t({title:"Feature Not Implemented",description:"🚧 This feature isn't implemented yet—but don't worry! You can request it in your next prompt! 🚀"})};return g.jsx("footer",{className:"bg-gray-100 dark:bg-gray-950 border-t border-gray-200 dark:border-gray-800",children:g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[g.jsxs("div",{className:"flex flex-col items-start",children:[g.jsxs(sn,{to:"/",className:"flex items-center gap-2 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:g.jsx(lo,{className:"w-5 h-5 text-white"})}),g.jsx("span",{className:"text-xl font-bold tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-violet-600 to-blue-600 dark:from-violet-400 dark:to-blue-400",children:"Wishlist2Cart"})]}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Transform Your Desires Into Deliveries."})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Company"}),g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"About"})}),g.jsx("li",{children:g.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"Contact"})}),g.jsx("li",{children:g.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"Careers"})})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Legal"}),g.jsxs("ul",{className:"space-y-2",children:[g.jsx("li",{children:g.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"Privacy Policy"})}),g.jsx("li",{children:g.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"Terms of Service"})})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Follow Us"}),g.jsxs("div",{className:"flex space-x-4",children:[g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:g.jsx(xL,{size:20})}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:g.jsx(fL,{size:20})}),g.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:g.jsx(pL,{size:20})})]})]})]}),g.jsx("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-800 pt-8 text-center",children:g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," Wishlist2Cart. All rights reserved."]})})]})})},d9=({children:t})=>{const e=vi(),r=!["/login"].includes(e.pathname);return g.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 font-sans flex flex-col",children:[r&&g.jsx(c9,{}),g.jsx("main",{className:"flex-grow",children:t}),r&&g.jsx(h9,{})]})},aa=({children:t})=>{const{user:e,loading:n}=bo();return n?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-600"})}):e?t:g.jsx(Jb,{to:"/login",replace:!0})};function f9(){const t=vi();return g.jsx(d9,{children:g.jsx(kO,{mode:"wait",children:g.jsxs(eN,{location:t,children:[g.jsx(Pr,{path:"/",element:g.jsx(IL,{})}),g.jsx(Pr,{path:"/login",element:g.jsx(e9,{})}),g.jsx(Pr,{path:"/dashboard",element:g.jsx(aa,{children:g.jsx(n9,{})})}),g.jsx(Pr,{path:"/add-wishlist",element:g.jsx(aa,{children:g.jsx(r9,{})})}),g.jsx(Pr,{path:"/cart",element:g.jsx(aa,{children:g.jsx(o9,{})})}),g.jsx(Pr,{path:"/settings",element:g.jsx(aa,{children:g.jsx(a9,{})})}),g.jsx(Pr,{path:"/synced-sites",element:g.jsx(aa,{children:g.jsx(u9,{})})})]},t.pathname)})})}function Ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function VP(t,e=[]){let n=[];function r(s,o){const a=P.createContext(o),l=n.length;n=[...n,o];const c=d=>{var T;const{scope:p,children:y,...E}=d,S=((T=p==null?void 0:p[t])==null?void 0:T[l])||a,C=P.useMemo(()=>E,Object.values(E));return g.jsx(S.Provider,{value:C,children:y})};c.displayName=s+"Provider";function h(d,p){var S;const y=((S=p==null?void 0:p[t])==null?void 0:S[l])||a,E=P.useContext(y);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,p9(i,...e)]}function p9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function m9(t){const e=t+"CollectionProvider",[n,r]=VP(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:C,children:T}=S,v=Ne.useRef(null),_=Ne.useRef(new Map).current;return g.jsx(i,{scope:C,itemMap:_,collectionRef:v,children:T})};o.displayName=e;const a=t+"CollectionSlot",l=zc(a),c=Ne.forwardRef((S,C)=>{const{scope:T,children:v}=S,_=s(a,T),b=Xi(C,_.collectionRef);return g.jsx(l,{ref:b,children:v})});c.displayName=a;const h=t+"CollectionItemSlot",d="data-radix-collection-item",p=zc(h),y=Ne.forwardRef((S,C)=>{const{scope:T,children:v,..._}=S,b=Ne.useRef(null),O=Xi(C,b),L=s(h,T);return Ne.useEffect(()=>(L.itemMap.set(b,{ref:b,..._}),()=>void L.itemMap.delete(b))),g.jsx(p,{[d]:"",ref:O,children:v})});y.displayName=h;function E(S){const C=s(t+"CollectionConsumer",S);return Ne.useCallback(()=>{const v=C.collectionRef.current;if(!v)return[];const _=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(C.itemMap.values()).sort((L,I)=>_.indexOf(L.ref.current)-_.indexOf(I.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:c,ItemSlot:y},E,r]}function is(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function g9(t,e=globalThis==null?void 0:globalThis.document){const n=is(t);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var y9="DismissableLayer",gm="dismissableLayer.update",v9="dismissableLayer.pointerDownOutside",_9="dismissableLayer.focusOutside",FE,DP=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),OP=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=P.useContext(DP),[h,d]=P.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=P.useState({}),E=Xi(e,I=>d(I)),S=Array.from(c.layers),[C]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),T=S.indexOf(C),v=h?S.indexOf(h):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=v>=T,O=E9(I=>{const w=I.target,A=[...c.branches].some(R=>R.contains(w));!b||A||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),L=T9(I=>{const w=I.target;[...c.branches].some(R=>R.contains(w))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return g9(I=>{v===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),P.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(FE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),UE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=FE)}},[h,p,n,c]),P.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),UE())},[h,c]),P.useEffect(()=>{const I=()=>y({});return document.addEventListener(gm,I),()=>document.removeEventListener(gm,I)},[]),g.jsx(An.div,{...l,ref:E,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:Ht(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Ht(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ht(t.onPointerDownCapture,O.onPointerDownCapture)})});OP.displayName=y9;var w9="DismissableLayerBranch",MP=P.forwardRef((t,e)=>{const n=P.useContext(DP),r=P.useRef(null),i=Xi(e,r);return P.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(An.div,{...t,ref:i})});MP.displayName=w9;function E9(t,e=globalThis==null?void 0:globalThis.document){const n=is(t),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){LP(v9,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function T9(t,e=globalThis==null?void 0:globalThis.document){const n=is(t),r=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!r.current&&LP(_9,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UE(){const t=new CustomEvent(gm);document.dispatchEvent(t)}function LP(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?PP(i,s):i.dispatchEvent(s)}var x9=OP,S9=MP,_l=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},I9="Portal",jP=P.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=P.useState(!1);_l(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?cb.createPortal(g.jsx(An.div,{...r,ref:e}),o):null});jP.displayName=I9;function C9(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var FP=t=>{const{present:e,children:n}=t,r=P9(e),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),s=Xi(r.ref,A9(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:s}):null};FP.displayName="Presence";function P9(t){const[e,n]=P.useState(),r=P.useRef(null),i=P.useRef(t),s=P.useRef("none"),o=t?"mounted":"unmounted",[a,l]=C9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const c=Nu(r.current);s.current=a==="mounted"?c:"none"},[a]),_l(()=>{const c=r.current,h=i.current;if(h!==t){const p=s.current,y=Nu(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),_l(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,d=y=>{const S=Nu(r.current).includes(y.animationName);if(y.target===e&&S&&(l("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},p=y=>{y.target===e&&(s.current=Nu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Nu(t){return(t==null?void 0:t.animationName)||"none"}function A9(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var R9=JE[" useInsertionEffect ".trim().toString()]||_l;function k9({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=b9({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const h=P.useRef(t!==void 0);P.useEffect(()=>{const d=h.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=P.useCallback(h=>{var d;if(a){const p=N9(h)?h(t):h;p!==t&&((d=o.current)==null||d.call(o,p))}else s(h)},[a,t,s,o]);return[l,c]}function b9({defaultProp:t,onChange:e}){const[n,r]=P.useState(t),i=P.useRef(n),s=P.useRef(e);return R9(()=>{s.current=e},[e]),P.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function N9(t){return typeof t=="function"}var V9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),D9="VisuallyHidden",Vy=P.forwardRef((t,e)=>g.jsx(An.span,{...t,ref:e,style:{...V9,...t.style}}));Vy.displayName=D9;var Dy="ToastProvider",[Oy,O9,M9]=m9("Toast"),[UP,oB]=VP("Toast",[M9]),[L9,td]=UP(Dy),BP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=P.useState(null),[c,h]=P.useState(0),d=P.useRef(!1),p=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dy}\`. Expected non-empty \`string\`.`),g.jsx(Oy.Provider,{scope:e,children:g.jsx(L9,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:P.useCallback(()=>h(y=>y+1),[]),onToastRemove:P.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:p,children:o})})};BP.displayName=Dy;var zP="ToastViewport",j9=["F8"],ym="toast.viewportPause",vm="toast.viewportResume",$P=P.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=j9,label:i="Notifications ({hotkey})",...s}=t,o=td(zP,n),a=O9(n),l=P.useRef(null),c=P.useRef(null),h=P.useRef(null),d=P.useRef(null),p=Xi(e,d,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;P.useEffect(()=>{const C=T=>{var _;r.length!==0&&r.every(b=>T[b]||T.code===b)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),P.useEffect(()=>{const C=l.current,T=d.current;if(E&&C&&T){const v=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(ym);T.dispatchEvent(L),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(vm);T.dispatchEvent(L),o.isClosePausedRef.current=!1}},b=L=>{!C.contains(L.relatedTarget)&&_()},O=()=>{C.contains(document.activeElement)||_()};return C.addEventListener("focusin",v),C.addEventListener("focusout",b),C.addEventListener("pointermove",v),C.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",_),()=>{C.removeEventListener("focusin",v),C.removeEventListener("focusout",b),C.removeEventListener("pointermove",v),C.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",_)}}},[E,o.isClosePausedRef]);const S=P.useCallback(({tabbingDirection:C})=>{const v=a().map(_=>{const b=_.ref.current,O=[b,...X9(b)];return C==="forwards"?O:O.reverse()});return(C==="forwards"?v.reverse():v).flat()},[a]);return P.useEffect(()=>{const C=d.current;if(C){const T=v=>{var O,L,I;const _=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!_){const w=document.activeElement,A=v.shiftKey;if(v.target===C&&A){(O=c.current)==null||O.focus();return}const N=S({tabbingDirection:A?"backwards":"forwards"}),k=N.findIndex($=>$===w);Rf(N.slice(k+1))?v.preventDefault():A?(L=c.current)==null||L.focus():(I=h.current)==null||I.focus()}};return C.addEventListener("keydown",T),()=>C.removeEventListener("keydown",T)}},[a,S]),g.jsxs(S9,{ref:l,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&g.jsx(_m,{ref:c,onFocusFromOutsideViewport:()=>{const C=S({tabbingDirection:"forwards"});Rf(C)}}),g.jsx(Oy.Slot,{scope:n,children:g.jsx(An.ol,{tabIndex:-1,...s,ref:p})}),E&&g.jsx(_m,{ref:h,onFocusFromOutsideViewport:()=>{const C=S({tabbingDirection:"backwards"});Rf(C)}})]})});$P.displayName=zP;var WP="ToastFocusProxy",_m=P.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=td(WP,n);return g.jsx(Vy,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});_m.displayName=WP;var Ul="Toast",F9="toast.swipeStart",U9="toast.swipeMove",B9="toast.swipeCancel",z9="toast.swipeEnd",HP=P.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=k9({prop:r,defaultProp:i??!0,onChange:s,caller:Ul});return g.jsx(FP,{present:n||a,children:g.jsx(H9,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:is(t.onPause),onResume:is(t.onResume),onSwipeStart:Ht(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ht(t.onSwipeMove,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ht(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ht(t.onSwipeEnd,c=>{const{x:h,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});HP.displayName=Ul;var[$9,W9]=UP(Ul,{onClose(){}}),H9=P.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:p,onSwipeEnd:y,...E}=t,S=td(Ul,n),[C,T]=P.useState(null),v=Xi(e,$=>T($)),_=P.useRef(null),b=P.useRef(null),O=i||S.duration,L=P.useRef(0),I=P.useRef(O),w=P.useRef(0),{onToastAdd:A,onToastRemove:R}=S,V=is(()=>{var me;(C==null?void 0:C.contains(document.activeElement))&&((me=S.viewport)==null||me.focus()),o()}),N=P.useCallback($=>{!$||$===1/0||(window.clearTimeout(w.current),L.current=new Date().getTime(),w.current=window.setTimeout(V,$))},[V]);P.useEffect(()=>{const $=S.viewport;if($){const me=()=>{N(I.current),c==null||c()},se=()=>{const _e=new Date().getTime()-L.current;I.current=I.current-_e,window.clearTimeout(w.current),l==null||l()};return $.addEventListener(ym,se),$.addEventListener(vm,me),()=>{$.removeEventListener(ym,se),$.removeEventListener(vm,me)}}},[S.viewport,O,l,c,N]),P.useEffect(()=>{s&&!S.isClosePausedRef.current&&N(O)},[s,O,S.isClosePausedRef,N]),P.useEffect(()=>(A(),()=>R()),[A,R]);const k=P.useMemo(()=>C?JP(C):null,[C]);return S.viewport?g.jsxs(g.Fragment,{children:[k&&g.jsx(q9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),g.jsx($9,{scope:n,onClose:V,children:Ph.createPortal(g.jsx(Oy.ItemSlot,{scope:n,children:g.jsx(x9,{asChild:!0,onEscapeKeyDown:Ht(a,()=>{S.isFocusedToastEscapeKeyDownRef.current||V(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(An.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":S.swipeDirection,...E,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ht(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Ht(t.onPointerDown,$=>{$.button===0&&(_.current={x:$.clientX,y:$.clientY})}),onPointerMove:Ht(t.onPointerMove,$=>{if(!_.current)return;const me=$.clientX-_.current.x,se=$.clientY-_.current.y,_e=!!b.current,B=["left","right"].includes(S.swipeDirection),q=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,Y=B?q(0,me):0,K=B?0:q(0,se),ie=$.pointerType==="touch"?10:2,ne={x:Y,y:K},Tt={originalEvent:$,delta:ne};_e?(b.current=ne,Vu(U9,d,Tt,{discrete:!1})):BE(ne,S.swipeDirection,ie)?(b.current=ne,Vu(F9,h,Tt,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(me)>ie||Math.abs(se)>ie)&&(_.current=null)}),onPointerUp:Ht(t.onPointerUp,$=>{const me=b.current,se=$.target;if(se.hasPointerCapture($.pointerId)&&se.releasePointerCapture($.pointerId),b.current=null,_.current=null,me){const _e=$.currentTarget,B={originalEvent:$,delta:me};BE(me,S.swipeDirection,S.swipeThreshold)?Vu(z9,y,B,{discrete:!0}):Vu(B9,p,B,{discrete:!0}),_e.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),q9=t=>{const{__scopeToast:e,children:n,...r}=t,i=td(Ul,e),[s,o]=P.useState(!1),[a,l]=P.useState(!1);return Q9(()=>o(!0)),P.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:g.jsx(jP,{asChild:!0,children:g.jsx(Vy,{...r,children:s&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},G9="ToastTitle",qP=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(An.div,{...r,ref:e})});qP.displayName=G9;var K9="ToastDescription",GP=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(An.div,{...r,ref:e})});GP.displayName=K9;var KP="ToastAction",QP=P.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(XP,{altText:n,asChild:!0,children:g.jsx(My,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${KP}\`. Expected non-empty \`string\`.`),null)});QP.displayName=KP;var YP="ToastClose",My=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=W9(YP,n);return g.jsx(XP,{asChild:!0,children:g.jsx(An.button,{type:"button",...r,ref:e,onClick:Ht(t.onClick,i.onClose)})})});My.displayName=YP;var XP=P.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return g.jsx(An.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function JP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Y9(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...JP(r))}}),e}function Vu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?PP(i,s):i.dispatchEvent(s)}var BE=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Q9(t=()=>{}){const e=is(t);_l(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Y9(t){return t.nodeType===t.ELEMENT_NODE}function X9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var J9=BP,ZP=$P,eA=HP,tA=qP,nA=GP,rA=QP,iA=My;const Z9=J9,sA=Ne.forwardRef(({className:t,...e},n)=>g.jsx(ZP,{ref:n,className:yr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));sA.displayName=ZP.displayName;const eB=Fg("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),oA=Ne.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(eA,{ref:r,className:yr(eB({variant:e}),t),...n}));oA.displayName=eA.displayName;const tB=Ne.forwardRef(({className:t,...e},n)=>g.jsx(rA,{ref:n,className:yr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));tB.displayName=rA.displayName;const aA=Ne.forwardRef(({className:t,...e},n)=>g.jsx(iA,{ref:n,className:yr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(tI,{className:"h-4 w-4"})}));aA.displayName=iA.displayName;const lA=Ne.forwardRef(({className:t,...e},n)=>g.jsx(tA,{ref:n,className:yr("text-sm font-semibold",t),...e}));lA.displayName=tA.displayName;const uA=Ne.forwardRef(({className:t,...e},n)=>g.jsx(nA,{ref:n,className:yr("text-sm opacity-90",t),...e}));uA.displayName=nA.displayName;function nB(){const{toasts:t}=Ei();return g.jsxs(Z9,{children:[t.map(({id:e,title:n,description:r,action:i,...s})=>g.jsxs(oA,{...s,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(lA,{children:n}),r&&g.jsx(uA,{children:r})]}),i,g.jsx(aA,{})]},e)),g.jsx(sA,{})]})}kf.createRoot(document.getElementById("root")).render(g.jsx(Ne.StrictMode,{children:g.jsx(lN,{children:g.jsx(ZU,{children:g.jsx(t9,{children:g.jsxs(s9,{children:[g.jsx(f9,{}),g.jsx(nB,{})]})})})})}));
