function f6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f1={exports:{}},yp={},h1={exports:{}},an={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function h6(){if(a_)return an;a_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function m(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function T(W,V,X){this.props=W,this.context=V,this.refs=S,this.updater=X||g}T.prototype.isReactComponent={},T.prototype.setState=function(W,V){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,V,"setState")},T.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function E(){}E.prototype=T.prototype;function C(W,V,X){this.props=W,this.context=V,this.refs=S,this.updater=X||g}var I=C.prototype=new E;I.constructor=C,b(I,T.prototype),I.isPureReactComponent=!0;var j=Array.isArray,K=Object.prototype.hasOwnProperty,ae={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function L(W,V,X){var le,de={},oe=null,he=null;if(V!=null)for(le in V.ref!==void 0&&(he=V.ref),V.key!==void 0&&(oe=""+V.key),V)K.call(V,le)&&!F.hasOwnProperty(le)&&(de[le]=V[le]);var ie=arguments.length-2;if(ie===1)de.children=X;else if(1<ie){for(var ge=Array(ie),Re=0;Re<ie;Re++)ge[Re]=arguments[Re+2];de.children=ge}if(W&&W.defaultProps)for(le in ie=W.defaultProps,ie)de[le]===void 0&&(de[le]=ie[le]);return{$$typeof:t,type:W,key:oe,ref:he,props:de,_owner:ae.current}}function B(W,V){return{$$typeof:t,type:W.type,key:V,ref:W.ref,props:W.props,_owner:W._owner}}function $(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function k(W){var V={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(X){return V[X]})}var D=/\/+/g;function q(W,V){return typeof W=="object"&&W!==null&&W.key!=null?k(""+W.key):V.toString(36)}function se(W,V,X,le,de){var oe=typeof W;(oe==="undefined"||oe==="boolean")&&(W=null);var he=!1;if(W===null)he=!0;else switch(oe){case"string":case"number":he=!0;break;case"object":switch(W.$$typeof){case t:case e:he=!0}}if(he)return he=W,de=de(he),W=le===""?"."+q(he,0):le,j(de)?(X="",W!=null&&(X=W.replace(D,"$&/")+"/"),se(de,V,X,"",function(Re){return Re})):de!=null&&($(de)&&(de=B(de,X+(!de.key||he&&he.key===de.key?"":(""+de.key).replace(D,"$&/")+"/")+W)),V.push(de)),1;if(he=0,le=le===""?".":le+":",j(W))for(var ie=0;ie<W.length;ie++){oe=W[ie];var ge=le+q(oe,ie);he+=se(oe,V,X,ge,de)}else if(ge=m(W),typeof ge=="function")for(W=ge.call(W),ie=0;!(oe=W.next()).done;)oe=oe.value,ge=le+q(oe,ie++),he+=se(oe,V,X,ge,de);else if(oe==="object")throw V=String(W),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return he}function we(W,V,X){if(W==null)return W;var le=[],de=0;return se(W,le,"","",function(oe){return V.call(X,oe,de++)}),le}function fe(W){if(W._status===-1){var V=W._result;V=V(),V.then(function(X){(W._status===0||W._status===-1)&&(W._status=1,W._result=X)},function(X){(W._status===0||W._status===-1)&&(W._status=2,W._result=X)}),W._status===-1&&(W._status=0,W._result=V)}if(W._status===1)return W._result.default;throw W._result}var ve={current:null},ce={transition:null},ne={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ce,ReactCurrentOwner:ae};function Y(){throw Error("act(...) is not supported in production builds of React.")}return an.Children={map:we,forEach:function(W,V,X){we(W,function(){V.apply(this,arguments)},X)},count:function(W){var V=0;return we(W,function(){V++}),V},toArray:function(W){return we(W,function(V){return V})||[]},only:function(W){if(!$(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},an.Component=T,an.Fragment=n,an.Profiler=i,an.PureComponent=C,an.StrictMode=r,an.Suspense=c,an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,an.act=Y,an.cloneElement=function(W,V,X){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var le=b({},W.props),de=W.key,oe=W.ref,he=W._owner;if(V!=null){if(V.ref!==void 0&&(oe=V.ref,he=ae.current),V.key!==void 0&&(de=""+V.key),W.type&&W.type.defaultProps)var ie=W.type.defaultProps;for(ge in V)K.call(V,ge)&&!F.hasOwnProperty(ge)&&(le[ge]=V[ge]===void 0&&ie!==void 0?ie[ge]:V[ge])}var ge=arguments.length-2;if(ge===1)le.children=X;else if(1<ge){ie=Array(ge);for(var Re=0;Re<ge;Re++)ie[Re]=arguments[Re+2];le.children=ie}return{$$typeof:t,type:W.type,key:de,ref:oe,props:le,_owner:he}},an.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},an.createElement=L,an.createFactory=function(W){var V=L.bind(null,W);return V.type=W,V},an.createRef=function(){return{current:null}},an.forwardRef=function(W){return{$$typeof:a,render:W}},an.isValidElement=$,an.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:fe}},an.memo=function(W,V){return{$$typeof:d,type:W,compare:V===void 0?null:V}},an.startTransition=function(W){var V=ce.transition;ce.transition={};try{W()}finally{ce.transition=V}},an.unstable_act=Y,an.useCallback=function(W,V){return ve.current.useCallback(W,V)},an.useContext=function(W){return ve.current.useContext(W)},an.useDebugValue=function(){},an.useDeferredValue=function(W){return ve.current.useDeferredValue(W)},an.useEffect=function(W,V){return ve.current.useEffect(W,V)},an.useId=function(){return ve.current.useId()},an.useImperativeHandle=function(W,V,X){return ve.current.useImperativeHandle(W,V,X)},an.useInsertionEffect=function(W,V){return ve.current.useInsertionEffect(W,V)},an.useLayoutEffect=function(W,V){return ve.current.useLayoutEffect(W,V)},an.useMemo=function(W,V){return ve.current.useMemo(W,V)},an.useReducer=function(W,V,X){return ve.current.useReducer(W,V,X)},an.useRef=function(W){return ve.current.useRef(W)},an.useState=function(W){return ve.current.useState(W)},an.useSyncExternalStore=function(W,V,X){return ve.current.useSyncExternalStore(W,V,X)},an.useTransition=function(){return ve.current.useTransition()},an.version="18.3.1",an}var l_;function xy(){return l_||(l_=1,h1.exports=h6()),h1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function p6(){if(c_)return yp;c_=1;var t=xy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,d){var f,h={},m=null,g=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(h[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:a,key:m,ref:g,props:h,_owner:i.current}}return yp.Fragment=n,yp.jsx=o,yp.jsxs=o,yp}var u_;function m6(){return u_||(u_=1,f1.exports=p6()),f1.exports}var v=m6(),z=xy();const rt=xf(z),iC=f6({__proto__:null,default:rt},[z]);var jg={},p1={exports:{}},eo={},m1={exports:{}},g1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function g6(){return d_||(d_=1,function(t){function e(ce,ne){var Y=ce.length;ce.push(ne);e:for(;0<Y;){var W=Y-1>>>1,V=ce[W];if(0<i(V,ne))ce[W]=ne,ce[Y]=V,Y=W;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var ne=ce[0],Y=ce.pop();if(Y!==ne){ce[0]=Y;e:for(var W=0,V=ce.length,X=V>>>1;W<X;){var le=2*(W+1)-1,de=ce[le],oe=le+1,he=ce[oe];if(0>i(de,Y))oe<V&&0>i(he,de)?(ce[W]=he,ce[oe]=Y,W=oe):(ce[W]=de,ce[le]=Y,W=le);else if(oe<V&&0>i(he,Y))ce[W]=he,ce[oe]=Y,W=oe;else break e}}return ne}function i(ce,ne){var Y=ce.sortIndex-ne.sortIndex;return Y!==0?Y:ce.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,h=null,m=3,g=!1,b=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ce){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=ce)r(d),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=n(d)}}function j(ce){if(S=!1,I(ce),!b)if(n(c)!==null)b=!0,fe(K);else{var ne=n(d);ne!==null&&ve(j,ne.startTime-ce)}}function K(ce,ne){b=!1,S&&(S=!1,E(L),L=-1),g=!0;var Y=m;try{for(I(ne),h=n(c);h!==null&&(!(h.expirationTime>ne)||ce&&!k());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var V=W(h.expirationTime<=ne);ne=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&r(c),I(ne)}else r(c);h=n(c)}if(h!==null)var X=!0;else{var le=n(d);le!==null&&ve(j,le.startTime-ne),X=!1}return X}finally{h=null,m=Y,g=!1}}var ae=!1,F=null,L=-1,B=5,$=-1;function k(){return!(t.unstable_now()-$<B)}function D(){if(F!==null){var ce=t.unstable_now();$=ce;var ne=!0;try{ne=F(!0,ce)}finally{ne?q():(ae=!1,F=null)}}else ae=!1}var q;if(typeof C=="function")q=function(){C(D)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,we=se.port2;se.port1.onmessage=D,q=function(){we.postMessage(null)}}else q=function(){T(D,0)};function fe(ce){F=ce,ae||(ae=!0,q())}function ve(ce,ne){L=T(function(){ce(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,fe(K))},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ce){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var Y=m;m=ne;try{return ce()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ce,ne){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Y=m;m=ce;try{return ne()}finally{m=Y}},t.unstable_scheduleCallback=function(ce,ne,Y){var W=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?W+Y:W):Y=W,ce){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Y+V,ce={id:f++,callback:ne,priorityLevel:ce,startTime:Y,expirationTime:V,sortIndex:-1},Y>W?(ce.sortIndex=Y,e(d,ce),n(c)===null&&ce===n(d)&&(S?(E(L),L=-1):S=!0,ve(j,Y-W))):(ce.sortIndex=V,e(c,ce),b||g||(b=!0,fe(K))),ce},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(ce){var ne=m;return function(){var Y=m;m=ne;try{return ce.apply(this,arguments)}finally{m=Y}}}}(g1)),g1}var f_;function y6(){return f_||(f_=1,m1.exports=g6()),m1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function v6(){if(h_)return eo;h_=1;var t=xy(),e=y6();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(l){return c.call(h,l)?!0:c.call(f,l)?!1:d.test(l)?h[l]=!0:(f[l]=!0,!1)}function g(l,u,p,x){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,u,p,x){if(u===null||typeof u>"u"||g(l,u,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(l,u,p,x,P,O,J){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=x,this.attributeNamespace=P,this.mustUseProperty=p,this.propertyName=l,this.type=u,this.sanitizeURL=O,this.removeEmptyString=J}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){T[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];T[u]=new S(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){T[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){T[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){T[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){T[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){T[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){T[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){T[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(E,C);T[u]=new S(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(E,C);T[u]=new S(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(E,C);T[u]=new S(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){T[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){T[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function I(l,u,p,x){var P=T.hasOwnProperty(u)?T[u]:null;(P!==null?P.type!==0:x||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,p,P,x)&&(p=null),x||P===null?m(u)&&(p===null?l.removeAttribute(u):l.setAttribute(u,""+p)):P.mustUseProperty?l[P.propertyName]=p===null?P.type===3?!1:"":p:(u=P.attributeName,x=P.attributeNamespace,p===null?l.removeAttribute(u):(P=P.type,p=P===3||P===4&&p===!0?"":""+p,x?l.setAttributeNS(x,u,p):l.setAttribute(u,p))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),ae=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),k=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),ce=Symbol.iterator;function ne(l){return l===null||typeof l!="object"?null:(l=ce&&l[ce]||l["@@iterator"],typeof l=="function"?l:null)}var Y=Object.assign,W;function V(l){if(W===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+l}var X=!1;function le(l,u){if(!l||X)return"";X=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Me){var x=Me}Reflect.construct(l,[],u)}else{try{u.call()}catch(Me){x=Me}l.call(u.prototype)}else{try{throw Error()}catch(Me){x=Me}l()}}catch(Me){if(Me&&x&&typeof Me.stack=="string"){for(var P=Me.stack.split(`
`),O=x.stack.split(`
`),J=P.length-1,ye=O.length-1;1<=J&&0<=ye&&P[J]!==O[ye];)ye--;for(;1<=J&&0<=ye;J--,ye--)if(P[J]!==O[ye]){if(J!==1||ye!==1)do if(J--,ye--,0>ye||P[J]!==O[ye]){var _e=`
`+P[J].replace(" at new "," at ");return l.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",l.displayName)),_e}while(1<=J&&0<=ye);break}}}finally{X=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?V(l):""}function de(l){switch(l.tag){case 5:return V(l.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return l=le(l.type,!1),l;case 11:return l=le(l.type.render,!1),l;case 1:return l=le(l.type,!0),l;default:return""}}function oe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case F:return"Fragment";case ae:return"Portal";case B:return"Profiler";case L:return"StrictMode";case q:return"Suspense";case se:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case k:return(l.displayName||"Context")+".Consumer";case $:return(l._context.displayName||"Context")+".Provider";case D:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case we:return u=l.displayName||null,u!==null?u:oe(l.type)||"Memo";case fe:u=l._payload,l=l._init;try{return oe(l(u))}catch{}}return null}function he(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(u);case 8:return u===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ie(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ge(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Re(l){var u=ge(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),x=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var P=p.get,O=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return P.call(this)},set:function(J){x=""+J,O.call(this,J)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(J){x=""+J},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function De(l){l._valueTracker||(l._valueTracker=Re(l))}function $e(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),x="";return l&&(x=ge(l)?l.checked?"true":"false":l.value),l=x,l!==p?(u.setValue(l),!0):!1}function Ye(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function tt(l,u){var p=u.checked;return Y({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function Oe(l,u){var p=u.defaultValue==null?"":u.defaultValue,x=u.checked!=null?u.checked:u.defaultChecked;p=ie(u.value!=null?u.value:p),l._wrapperState={initialChecked:x,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function me(l,u){u=u.checked,u!=null&&I(l,"checked",u,!1)}function _t(l,u){me(l,u);var p=ie(u.value),x=u.type;if(p!=null)x==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(x==="submit"||x==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Ke(l,u.type,p):u.hasOwnProperty("defaultValue")&&Ke(l,u.type,ie(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function ft(l,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var x=u.type;if(!(x!=="submit"&&x!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,p||u===l.value||(l.value=u),l.defaultValue=u}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function Ke(l,u,p){(u!=="number"||Ye(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var et=Array.isArray;function st(l,u,p,x){if(l=l.options,u){u={};for(var P=0;P<p.length;P++)u["$"+p[P]]=!0;for(p=0;p<l.length;p++)P=u.hasOwnProperty("$"+l[p].value),l[p].selected!==P&&(l[p].selected=P),P&&x&&(l[p].defaultSelected=!0)}else{for(p=""+ie(p),u=null,P=0;P<l.length;P++){if(l[P].value===p){l[P].selected=!0,x&&(l[P].defaultSelected=!0);return}u!==null||l[P].disabled||(u=l[P])}u!==null&&(u.selected=!0)}}function at(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function vt(l,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(et(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}l._wrapperState={initialValue:ie(p)}}function It(l,u){var p=ie(u.value),x=ie(u.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),u.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),x!=null&&(l.defaultValue=""+x)}function Ot(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function St(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?St(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var tn,Ct=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,x,P){MSApp.execUnsafeLocalFunction(function(){return l(u,p,x,P)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(tn=tn||document.createElement("div"),tn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=tn.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Mt(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tr=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(l){tr.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),ot[u]=ot[l]})});function nn(l,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||ot.hasOwnProperty(l)&&ot[l]?(""+u).trim():u+"px"}function Pi(l,u){l=l.style;for(var p in u)if(u.hasOwnProperty(p)){var x=p.indexOf("--")===0,P=nn(p,u[p],x);p==="float"&&(p="cssFloat"),x?l.setProperty(p,P):l[p]=P}}var xn=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(l,u){if(u){if(xn[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Wi(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=null;function Os(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Vn=null,fr=null,Yr=null;function Bn(l){if(l=du(l)){if(typeof Vn!="function")throw Error(n(280));var u=l.stateNode;u&&(u=Ed(u),Vn(l.stateNode,l.type,u))}}function Nt(l){fr?Yr?Yr.push(l):Yr=[l]:fr=l}function cn(){if(fr){var l=fr,u=Yr;if(Yr=fr=null,Bn(l),u)for(l=0;l<u.length;l++)Bn(u[l])}}function ms(l,u){return l(u)}function br(){}var Xr=!1;function $i(l,u,p){if(Xr)return l(u,p);Xr=!0;try{return ms(l,u,p)}finally{Xr=!1,(fr!==null||Yr!==null)&&(br(),cn())}}function pt(l,u){var p=l.stateNode;if(p===null)return null;var x=Ed(p);if(x===null)return null;p=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var hi=!1;if(a)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){hi=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{hi=!1}function Ir(l,u,p,x,P,O,J,ye,_e){var Me=Array.prototype.slice.call(arguments,3);try{u.apply(p,Me)}catch(Ze){this.onError(Ze)}}var Gn=!1,Kn=null,ir=!1,Vo=null,fo={onError:function(l){Gn=!0,Kn=l}};function pi(l,u,p,x,P,O,J,ye,_e){Gn=!1,Kn=null,Ir.apply(fo,arguments)}function Hi(l,u,p,x,P,O,J,ye,_e){if(pi.apply(this,arguments),Gn){if(Gn){var Me=Kn;Gn=!1,Kn=null}else throw Error(n(198));ir||(ir=!0,Vo=Me)}}function _r(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function mi(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function hr(l){if(_r(l)!==l)throw Error(n(188))}function gs(l){var u=l.alternate;if(!u){if(u=_r(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,x=u;;){var P=p.return;if(P===null)break;var O=P.alternate;if(O===null){if(x=P.return,x!==null){p=x;continue}break}if(P.child===O.child){for(O=P.child;O;){if(O===p)return hr(P),l;if(O===x)return hr(P),u;O=O.sibling}throw Error(n(188))}if(p.return!==x.return)p=P,x=O;else{for(var J=!1,ye=P.child;ye;){if(ye===p){J=!0,p=P,x=O;break}if(ye===x){J=!0,x=P,p=O;break}ye=ye.sibling}if(!J){for(ye=O.child;ye;){if(ye===p){J=!0,p=O,x=P;break}if(ye===x){J=!0,x=O,p=P;break}ye=ye.sibling}if(!J)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function ho(l){return l=gs(l),l!==null?po(l):null}function po(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=po(l);if(u!==null)return u;l=l.sibling}return null}var mo=e.unstable_scheduleCallback,Bo=e.unstable_cancelCallback,ma=e.unstable_shouldYield,Wc=e.unstable_requestPaint,Dn=e.unstable_now,$c=e.unstable_getCurrentPriorityLevel,Ms=e.unstable_ImmediatePriority,go=e.unstable_UserBlockingPriority,Gi=e.unstable_NormalPriority,ga=e.unstable_LowPriority,Hc=e.unstable_IdlePriority,Uo=null,ki=null;function ya(l){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(Uo,l,void 0,(l.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:$l,Yn=Math.log,Wl=Math.LN2;function $l(l){return l>>>=0,l===0?32:31-(Yn(l)/Wl|0)|0}var va=64,zo=4194304;function qo(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ri(l,u){var p=l.pendingLanes;if(p===0)return 0;var x=0,P=l.suspendedLanes,O=l.pingedLanes,J=p&268435455;if(J!==0){var ye=J&~P;ye!==0?x=qo(ye):(O&=J,O!==0&&(x=qo(O)))}else J=p&~P,J!==0?x=qo(J):O!==0&&(x=qo(O));if(x===0)return 0;if(u!==0&&u!==x&&(u&P)===0&&(P=x&-x,O=u&-u,P>=O||P===16&&(O&4194240)!==0))return u;if((x&4)!==0&&(x|=p&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=x;0<u;)p=31-ni(u),P=1<<p,x|=l[p],u&=~P;return x}function il(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(l,u){for(var p=l.suspendedLanes,x=l.pingedLanes,P=l.expirationTimes,O=l.pendingLanes;0<O;){var J=31-ni(O),ye=1<<J,_e=P[J];_e===-1?((ye&p)===0||(ye&x)!==0)&&(P[J]=il(ye,u)):_e<=u&&(l.expiredLanes|=ye),O&=~ye}}function ii(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Wo(){var l=va;return va<<=1,(va&4194240)===0&&(va=64),l}function $o(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function yo(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-ni(u),l[u]=p}function kn(l,u){var p=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<p;){var P=31-ni(p),O=1<<P;u[P]=0,x[P]=-1,l[P]=-1,p&=~O}}function vo(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var x=31-ni(p),P=1<<x;P&u|l[x]&u&&(l[x]|=u),p&=~P}}var rn=0;function Fs(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Gc,sl,Kc,Vs,wa,Ho=!1,ys=[],gn=null,vs=null,Ki=null,Rt=new Map,Yi=new Map,Bs=[],Us="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hl(l,u){switch(l){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Rt.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(u.pointerId)}}function si(l,u,p,x,P,O){return l===null||l.nativeEvent!==O?(l={blockedOn:u,domEventName:p,eventSystemFlags:x,nativeEvent:O,targetContainers:[P]},u!==null&&(u=du(u),u!==null&&sl(u)),l):(l.eventSystemFlags|=x,u=l.targetContainers,P!==null&&u.indexOf(P)===-1&&u.push(P),l)}function ol(l,u,p,x,P){switch(u){case"focusin":return gn=si(gn,l,u,p,x,P),!0;case"dragenter":return vs=si(vs,l,u,p,x,P),!0;case"mouseover":return Ki=si(Ki,l,u,p,x,P),!0;case"pointerover":var O=P.pointerId;return Rt.set(O,si(Rt.get(O)||null,l,u,p,x,P)),!0;case"gotpointercapture":return O=P.pointerId,Yi.set(O,si(Yi.get(O)||null,l,u,p,x,P)),!0}return!1}function al(l){var u=gl(l.target);if(u!==null){var p=_r(u);if(p!==null){if(u=p.tag,u===13){if(u=mi(p),u!==null){l.blockedOn=u,wa(l.priority,function(){Kc(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function wo(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=ba(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var x=new p.constructor(p.type,p);sn=x,p.target.dispatchEvent(x),sn=null}else return u=du(p),u!==null&&sl(u),l.blockedOn=p,!1;u.shift()}return!0}function xa(l,u,p){wo(l)&&p.delete(u)}function Yc(){Ho=!1,gn!==null&&wo(gn)&&(gn=null),vs!==null&&wo(vs)&&(vs=null),Ki!==null&&wo(Ki)&&(Ki=null),Rt.forEach(xa),Yi.forEach(xa)}function Ni(l,u){l.blockedOn===u&&(l.blockedOn=null,Ho||(Ho=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yc)))}function oi(l){function u(P){return Ni(P,l)}if(0<ys.length){Ni(ys[0],l);for(var p=1;p<ys.length;p++){var x=ys[p];x.blockedOn===l&&(x.blockedOn=null)}}for(gn!==null&&Ni(gn,l),vs!==null&&Ni(vs,l),Ki!==null&&Ni(Ki,l),Rt.forEach(u),Yi.forEach(u),p=0;p<Bs.length;p++)x=Bs[p],x.blockedOn===l&&(x.blockedOn=null);for(;0<Bs.length&&(p=Bs[0],p.blockedOn===null);)al(p),p.blockedOn===null&&Bs.shift()}var gi=j.ReactCurrentBatchConfig,Go=!0;function Tn(l,u,p,x){var P=rn,O=gi.transition;gi.transition=null;try{rn=1,Ko(l,u,p,x)}finally{rn=P,gi.transition=O}}function Gl(l,u,p,x){var P=rn,O=gi.transition;gi.transition=null;try{rn=4,Ko(l,u,p,x)}finally{rn=P,gi.transition=O}}function Ko(l,u,p,x){if(Go){var P=ba(l,u,p,x);if(P===null)_d(l,u,x,Yo,p),Hl(l,x);else if(ol(P,l,u,p,x))x.stopPropagation();else if(Hl(l,x),u&4&&-1<Us.indexOf(l)){for(;P!==null;){var O=du(P);if(O!==null&&Gc(O),O=ba(l,u,p,x),O===null&&_d(l,u,x,Yo,p),O===P)break;P=O}P!==null&&x.stopPropagation()}else _d(l,u,x,null,p)}}var Yo=null;function ba(l,u,p,x){if(Yo=null,l=Os(x),l=gl(l),l!==null)if(u=_r(l),u===null)l=null;else if(p=u.tag,p===13){if(l=mi(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Yo=l,null}function ll(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($c()){case Ms:return 1;case go:return 4;case Gi:case ga:return 16;case Hc:return 536870912;default:return 16}default:return 16}}var yi=null,Ii=null,mr=null;function Kl(){if(mr)return mr;var l,u=Ii,p=u.length,x,P="value"in yi?yi.value:yi.textContent,O=P.length;for(l=0;l<p&&u[l]===P[l];l++);var J=p-l;for(x=1;x<=J&&u[p-x]===P[O-x];x++);return mr=P.slice(l,1<x?1-x:void 0)}function ws(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Rr(){return!0}function _a(){return!1}function sr(l){function u(p,x,P,O,J){this._reactName=p,this._targetInst=P,this.type=x,this.nativeEvent=O,this.target=J,this.currentTarget=null;for(var ye in l)l.hasOwnProperty(ye)&&(p=l[ye],this[ye]=p?p(O):O[ye]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Rr:_a,this.isPropagationStopped=_a,this}return Y(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),u}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=sr(xs),zs=Y({},xs,{view:0,detail:0}),Yl=sr(zs),Xo,qs,bs,bo=Y({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lt,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==bs&&(bs&&l.type==="mousemove"?(Xo=l.screenX-bs.screenX,qs=l.screenY-bs.screenY):qs=Xo=0,bs=l),Xo)},movementY:function(l){return"movementY"in l?l.movementY:qs}}),Qo=sr(bo),cl=Y({},bo,{dataTransfer:0}),Xc=sr(cl),_o=Y({},zs,{relatedTarget:0}),Ws=sr(_o),ul=Y({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=sr(ul),dl=Y({},xs,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),A=sr(dl),G=Y({},xs,{data:0}),pe=sr(G),xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Be={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xe(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Be[l])?!!u[l]:!1}function lt(){return Xe}var w=Y({},zs,{key:function(l){if(l.key){var u=xe[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=ws(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Pe[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lt,charCode:function(l){return l.type==="keypress"?ws(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ws(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),R=sr(w),U=Y({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),te=sr(U),Ae=Y({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lt}),Le=sr(Ae),Qe=Y({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$t=sr(Qe),on=Y({},bo,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Ht=sr(on),En=[9,13,27,32],Nn=a&&"CompositionEvent"in window,Ri=null;a&&"documentMode"in document&&(Ri=document.documentMode);var ai=a&&"TextEvent"in window&&!Ri,So=a&&(!Nn||Ri&&8<Ri&&11>=Ri),To=" ",Qc=!1;function Jc(l,u){switch(l){case"keyup":return En.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var gr=!1;function Zc(l,u){switch(l){case"compositionend":return Xl(u);case"keypress":return u.which!==32?null:(Qc=!0,To);case"textInput":return l=u.data,l===To&&Qc?null:l;default:return null}}function eu(l,u){if(gr)return l==="compositionend"||!Nn&&Jc(l,u)?(l=Kl(),mr=Ii=yi=null,gr=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return So&&u.locale!=="ko"?null:u.data;default:return null}}var tu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!tu[l.type]:u==="textarea"}function Li(l,u,p,x){Nt(x),u=jf(u,"onChange"),0<u.length&&(p=new xo("onChange","change",null,p,x),l.push({event:p,listeners:u}))}var Ql=null,Sa=null;function If(l){xd(l,0)}function ji(l){var u=oc(l);if($e(u))return l}function ru(l,u){if(l==="change")return u}var gd=!1;if(a){var iu;if(a){var Jo="oninput"in document;if(!Jo){var fl=document.createElement("div");fl.setAttribute("oninput","return;"),Jo=typeof fl.oninput=="function"}iu=Jo}else iu=!1;gd=iu&&(!document.documentMode||9<document.documentMode)}function Di(){Ql&&(Ql.detachEvent("onpropertychange",wi),Sa=Ql=null)}function wi(l){if(l.propertyName==="value"&&ji(Sa)){var u=[];Li(u,Sa,l,Os(l)),$i(If,u)}}function hl(l,u,p){l==="focusin"?(Di(),Ql=u,Sa=p,Ql.attachEvent("onpropertychange",wi)):l==="focusout"&&Di()}function Ta(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ji(Sa)}function Ea(l,u){if(l==="click")return ji(u)}function su(l,u){if(l==="input"||l==="change")return ji(u)}function Aa(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var bn=typeof Object.is=="function"?Object.is:Aa;function Ca(l,u){if(bn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),x=Object.keys(u);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var P=p[x];if(!c.call(u,P)||!bn(l[P],u[P]))return!1}return!0}function xi(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function _s(l,u){var p=xi(l);l=0;for(var x;p;){if(p.nodeType===3){if(x=l+p.textContent.length,l<=u&&x>=u)return{node:p,offset:u-l};l=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=xi(p)}}function Jl(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Jl(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function yd(){for(var l=window,u=Ye();u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Ye(l.document)}return u}function Zl(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function ec(l){var u=yd(),p=l.focusedElem,x=l.selectionRange;if(u!==p&&p&&p.ownerDocument&&Jl(p.ownerDocument.documentElement,p)){if(x!==null&&Zl(p)){if(u=x.start,l=x.end,l===void 0&&(l=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(l,p.value.length);else if(l=(u=p.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var P=p.textContent.length,O=Math.min(x.start,P);x=x.end===void 0?O:Math.min(x.end,P),!l.extend&&O>x&&(P=x,x=O,O=P),P=_s(p,O);var J=_s(p,x);P&&J&&(l.rangeCount!==1||l.anchorNode!==P.node||l.anchorOffset!==P.offset||l.focusNode!==J.node||l.focusOffset!==J.offset)&&(u=u.createRange(),u.setStart(P.node,P.offset),l.removeAllRanges(),O>x?(l.addRange(u),l.extend(J.node,J.offset)):(u.setEnd(J.node,J.offset),l.addRange(u)))}}for(u=[],l=p;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)l=u[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var tc=a&&"documentMode"in document&&11>=document.documentMode,Ss=null,Pa=null,Zo=null,ka=!1;function Na(l,u,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ka||Ss==null||Ss!==Ye(x)||(x=Ss,"selectionStart"in x&&Zl(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Zo&&Ca(Zo,x)||(Zo=x,x=jf(Pa,"onSelect"),0<x.length&&(u=new xo("onSelect","select",null,u,p),l.push({event:u,listeners:x}),u.target=Ss)))}function pl(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var li={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionend:pl("Transition","TransitionEnd")},Xi={},Un={};a&&(Un=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function In(l){if(Xi[l])return Xi[l];if(!li[l])return l;var u=li[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in Un)return Xi[l]=u[p];return l}var yr=In("animationend"),Lr=In("animationiteration"),ea=In("animationstart"),ou=In("transitionend"),nc=new Map,vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(l,u){nc.set(l,u),s(u,[l])}for(var au=0;au<vd.length;au++){var Oi=vd[au],$s=Oi.toLowerCase(),Rf=Oi[0].toUpperCase()+Oi.slice(1);ta($s,"on"+Rf)}ta(yr,"onAnimationEnd"),ta(Lr,"onAnimationIteration"),ta(ea,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(ou,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function wd(l,u,p){var x=l.type||"unknown-event";l.currentTarget=p,Hi(x,u,void 0,l),l.currentTarget=null}function xd(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var x=l[p],P=x.event;x=x.listeners;e:{var O=void 0;if(u)for(var J=x.length-1;0<=J;J--){var ye=x[J],_e=ye.instance,Me=ye.currentTarget;if(ye=ye.listener,_e!==O&&P.isPropagationStopped())break e;wd(P,ye,Me),O=_e}else for(J=0;J<x.length;J++){if(ye=x[J],_e=ye.instance,Me=ye.currentTarget,ye=ye.listener,_e!==O&&P.isPropagationStopped())break e;wd(P,ye,Me),O=_e}}}if(ir)throw l=Vo,ir=!1,Vo=null,l}function zn(l,u){var p=u[Ji];p===void 0&&(p=u[Ji]=new Set);var x=l+"__bubble";p.has(x)||(bd(u,l,2,!1),p.add(x))}function Lf(l,u,p){var x=0;u&&(x|=4),bd(p,l,x,u)}var lu="_reactListening"+Math.random().toString(36).slice(2);function rc(l){if(!l[lu]){l[lu]=!0,r.forEach(function(p){p!=="selectionchange"&&(eg.has(p)||Lf(p,!1,l),Lf(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[lu]||(u[lu]=!0,Lf("selectionchange",!1,u))}}function bd(l,u,p,x){switch(ll(u)){case 1:var P=Tn;break;case 4:P=Gl;break;default:P=Ko}p=P.bind(null,u,p,l),P=void 0,!hi||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(P=!0),x?P!==void 0?l.addEventListener(u,p,{capture:!0,passive:P}):l.addEventListener(u,p,!0):P!==void 0?l.addEventListener(u,p,{passive:P}):l.addEventListener(u,p,!1)}function _d(l,u,p,x,P){var O=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var J=x.tag;if(J===3||J===4){var ye=x.stateNode.containerInfo;if(ye===P||ye.nodeType===8&&ye.parentNode===P)break;if(J===4)for(J=x.return;J!==null;){var _e=J.tag;if((_e===3||_e===4)&&(_e=J.stateNode.containerInfo,_e===P||_e.nodeType===8&&_e.parentNode===P))return;J=J.return}for(;ye!==null;){if(J=gl(ye),J===null)return;if(_e=J.tag,_e===5||_e===6){x=O=J;continue e}ye=ye.parentNode}}x=x.return}$i(function(){var Me=O,Ze=Os(p),nt=[];e:{var Je=nc.get(l);if(Je!==void 0){var mt=xo,wt=l;switch(l){case"keypress":if(ws(p)===0)break e;case"keydown":case"keyup":mt=R;break;case"focusin":wt="focus",mt=Ws;break;case"focusout":wt="blur",mt=Ws;break;case"beforeblur":case"afterblur":mt=Ws;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Le;break;case yr:case Lr:case ea:mt=vi;break;case ou:mt=$t;break;case"scroll":mt=Yl;break;case"wheel":mt=Ht;break;case"copy":case"cut":case"paste":mt=A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=te}var bt=(u&4)!==0,zr=!bt&&l==="scroll",Ie=bt?Je!==null?Je+"Capture":null:Je;bt=[];for(var Ee=Me,je;Ee!==null;){je=Ee;var it=je.stateNode;if(je.tag===5&&it!==null&&(je=it,Ie!==null&&(it=pt(Ee,Ie),it!=null&&bt.push(Sd(Ee,it,je)))),zr)break;Ee=Ee.return}0<bt.length&&(Je=new mt(Je,wt,null,p,Ze),nt.push({event:Je,listeners:bt}))}}if((u&7)===0){e:{if(Je=l==="mouseover"||l==="pointerover",mt=l==="mouseout"||l==="pointerout",Je&&p!==sn&&(wt=p.relatedTarget||p.fromElement)&&(gl(wt)||wt[bi]))break e;if((mt||Je)&&(Je=Ze.window===Ze?Ze:(Je=Ze.ownerDocument)?Je.defaultView||Je.parentWindow:window,mt?(wt=p.relatedTarget||p.toElement,mt=Me,wt=wt?gl(wt):null,wt!==null&&(zr=_r(wt),wt!==zr||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(mt=null,wt=Me),mt!==wt)){if(bt=Qo,it="onMouseLeave",Ie="onMouseEnter",Ee="mouse",(l==="pointerout"||l==="pointerover")&&(bt=te,it="onPointerLeave",Ie="onPointerEnter",Ee="pointer"),zr=mt==null?Je:oc(mt),je=wt==null?Je:oc(wt),Je=new bt(it,Ee+"leave",mt,p,Ze),Je.target=zr,Je.relatedTarget=je,it=null,gl(Ze)===Me&&(bt=new bt(Ie,Ee+"enter",wt,p,Ze),bt.target=je,bt.relatedTarget=zr,it=bt),zr=it,mt&&wt)t:{for(bt=mt,Ie=wt,Ee=0,je=bt;je;je=ic(je))Ee++;for(je=0,it=Ie;it;it=ic(it))je++;for(;0<Ee-je;)bt=ic(bt),Ee--;for(;0<je-Ee;)Ie=ic(Ie),je--;for(;Ee--;){if(bt===Ie||Ie!==null&&bt===Ie.alternate)break t;bt=ic(bt),Ie=ic(Ie)}bt=null}else bt=null;mt!==null&&tg(nt,Je,mt,bt,!1),wt!==null&&zr!==null&&tg(nt,zr,wt,bt,!0)}}e:{if(Je=Me?oc(Me):window,mt=Je.nodeName&&Je.nodeName.toLowerCase(),mt==="select"||mt==="input"&&Je.type==="file")var Tt=ru;else if(nu(Je))if(gd)Tt=su;else{Tt=Ta;var Lt=hl}else(mt=Je.nodeName)&&mt.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Tt=Ea);if(Tt&&(Tt=Tt(l,Me))){Li(nt,Tt,p,Ze);break e}Lt&&Lt(l,Je,Me),l==="focusout"&&(Lt=Je._wrapperState)&&Lt.controlled&&Je.type==="number"&&Ke(Je,"number",Je.value)}switch(Lt=Me?oc(Me):window,l){case"focusin":(nu(Lt)||Lt.contentEditable==="true")&&(Ss=Lt,Pa=Me,Zo=null);break;case"focusout":Zo=Pa=Ss=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,Na(nt,p,Ze);break;case"selectionchange":if(tc)break;case"keydown":case"keyup":Na(nt,p,Ze)}var jt;if(Nn)e:{switch(l){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else gr?Jc(l,p)&&(Wt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Wt="onCompositionStart");Wt&&(So&&p.locale!=="ko"&&(gr||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&gr&&(jt=Kl()):(yi=Ze,Ii="value"in yi?yi.value:yi.textContent,gr=!0)),Lt=jf(Me,Wt),0<Lt.length&&(Wt=new pe(Wt,l,null,p,Ze),nt.push({event:Wt,listeners:Lt}),jt?Wt.data=jt:(jt=Xl(p),jt!==null&&(Wt.data=jt)))),(jt=ai?Zc(l,p):eu(l,p))&&(Me=jf(Me,"onBeforeInput"),0<Me.length&&(Ze=new pe("onBeforeInput","beforeinput",null,p,Ze),nt.push({event:Ze,listeners:Me}),Ze.data=jt))}xd(nt,u)})}function Sd(l,u,p){return{instance:l,listener:u,currentTarget:p}}function jf(l,u){for(var p=u+"Capture",x=[];l!==null;){var P=l,O=P.stateNode;P.tag===5&&O!==null&&(P=O,O=pt(l,p),O!=null&&x.unshift(Sd(l,O,P)),O=pt(l,u),O!=null&&x.push(Sd(l,O,P))),l=l.return}return x}function ic(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function tg(l,u,p,x,P){for(var O=u._reactName,J=[];p!==null&&p!==x;){var ye=p,_e=ye.alternate,Me=ye.stateNode;if(_e!==null&&_e===x)break;ye.tag===5&&Me!==null&&(ye=Me,P?(_e=pt(p,O),_e!=null&&J.unshift(Sd(p,_e,ye))):P||(_e=pt(p,O),_e!=null&&J.push(Sd(p,_e,ye)))),p=p.return}J.length!==0&&l.push({event:u,listeners:J})}var Av=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function ng(l){return(typeof l=="string"?l:""+l).replace(Av,`
`).replace(Cv,"")}function Df(l,u,p){if(u=ng(u),ng(l)!==u&&p)throw Error(n(425))}function cu(){}var Td=null,sc=null;function ep(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var tp=typeof setTimeout=="function"?setTimeout:void 0,rg=typeof clearTimeout=="function"?clearTimeout:void 0,ig=typeof Promise=="function"?Promise:void 0,Pv=typeof queueMicrotask=="function"?queueMicrotask:typeof ig<"u"?function(l){return ig.resolve(null).then(l).catch(kv)}:tp;function kv(l){setTimeout(function(){throw l})}function np(l,u){var p=u,x=0;do{var P=p.nextSibling;if(l.removeChild(p),P&&P.nodeType===8)if(p=P.data,p==="/$"){if(x===0){l.removeChild(P),oi(u);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=P}while(p);oi(u)}function Mi(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function Hs(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),na="__reactFiber$"+Qi,uu="__reactProps$"+Qi,bi="__reactContainer$"+Qi,Ji="__reactEvents$"+Qi,Nv="__reactListeners$"+Qi,Iv="__reactHandles$"+Qi;function gl(l){var u=l[na];if(u)return u;for(var p=l.parentNode;p;){if(u=p[bi]||p[na]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=Hs(l);l!==null;){if(p=l[na])return p;l=Hs(l)}return u}l=p,p=l.parentNode}return null}function du(l){return l=l[na]||l[bi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function oc(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function Ed(l){return l[uu]||null}var rp=[],Ia=-1;function Eo(l){return{current:l}}function Rn(l){0>Ia||(l.current=rp[Ia],rp[Ia]=null,Ia--)}function On(l,u){Ia++,rp[Ia]=l.current,l.current=u}var yl={},ci=Eo(yl),Zi=Eo(!1),ac=yl;function fu(l,u){var p=l.type.contextTypes;if(!p)return yl;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===u)return x.__reactInternalMemoizedMaskedChildContext;var P={},O;for(O in p)P[O]=u[O];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=P),P}function es(l){return l=l.childContextTypes,l!=null}function Of(){Rn(Zi),Rn(ci)}function sg(l,u,p){if(ci.current!==yl)throw Error(n(168));On(ci,u),On(Zi,p)}function ip(l,u,p){var x=l.stateNode;if(u=u.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var P in x)if(!(P in u))throw Error(n(108,he(l)||"Unknown",P));return Y({},p,x)}function lc(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||yl,ac=ci.current,On(ci,l),On(Zi,Zi.current),!0}function og(l,u,p){var x=l.stateNode;if(!x)throw Error(n(169));p?(l=ip(l,u,ac),x.__reactInternalMemoizedMergedChildContext=l,Rn(Zi),Rn(ci),On(ci,l)):Rn(Zi),On(Zi,p)}var Ra=null,Ad=!1,y=!1;function _(l){Ra===null?Ra=[l]:Ra.push(l)}function N(l){Ad=!0,_(l)}function M(){if(!y&&Ra!==null){y=!0;var l=0,u=rn;try{var p=Ra;for(rn=1;l<p.length;l++){var x=p[l];do x=x(!0);while(x!==null)}Ra=null,Ad=!1}catch(P){throw Ra!==null&&(Ra=Ra.slice(l+1)),mo(Ms,M),P}finally{rn=u,y=!1}}return null}var H=[],Q=0,Z=null,ee=0,re=[],ue=0,be=null,ke=1,Ne="";function Ce(l,u){H[Q++]=ee,H[Q++]=Z,Z=l,ee=u}function He(l,u,p){re[ue++]=ke,re[ue++]=Ne,re[ue++]=be,be=l;var x=ke;l=Ne;var P=32-ni(x)-1;x&=~(1<<P),p+=1;var O=32-ni(u)+P;if(30<O){var J=P-P%5;O=(x&(1<<J)-1).toString(32),x>>=J,P-=J,ke=1<<32-ni(u)+P|p<<P|x,Ne=O+l}else ke=1<<O|p<<P|x,Ne=l}function Fe(l){l.return!==null&&(Ce(l,1),He(l,1,0))}function Se(l){for(;l===Z;)Z=H[--Q],H[Q]=null,ee=H[--Q],H[Q]=null;for(;l===be;)be=re[--ue],re[ue]=null,Ne=re[--ue],re[ue]=null,ke=re[--ue],re[ue]=null}var Te=null,ze=null,Ue=!1,qe=null;function ht(l,u){var p=la(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,u=l.deletions,u===null?(l.deletions=[p],l.flags|=16):u.push(p)}function ct(l,u){switch(l.tag){case 5:var p=l.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Te=l,ze=Mi(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Te=l,ze=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=be!==null?{id:ke,overflow:Ne}:null,l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=la(18,null,null,0),p.stateNode=u,p.return=l,l.child=p,Te=l,ze=null,!0):!1;default:return!1}}function Pt(l){return(l.mode&1)!==0&&(l.flags&128)===0}function ut(l){if(Ue){var u=ze;if(u){var p=u;if(!ct(l,u)){if(Pt(l))throw Error(n(418));u=Mi(p.nextSibling);var x=Te;u&&ct(l,u)?ht(x,p):(l.flags=l.flags&-4097|2,Ue=!1,Te=l)}}else{if(Pt(l))throw Error(n(418));l.flags=l.flags&-4097|2,Ue=!1,Te=l}}}function yn(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Te=l}function vn(l){if(l!==Te)return!1;if(!Ue)return yn(l),Ue=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!ep(l.type,l.memoizedProps)),u&&(u=ze)){if(Pt(l))throw un(),Error(n(418));for(;u;)ht(l,u),u=Mi(u.nextSibling)}if(yn(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(u===0){ze=Mi(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}l=l.nextSibling}ze=null}}else ze=Te?Mi(l.stateNode.nextSibling):null;return!0}function un(){for(var l=ze;l;)l=Mi(l.nextSibling)}function Qt(){ze=Te=null,Ue=!1}function Ln(l){qe===null?qe=[l]:qe.push(l)}var Mn=j.ReactCurrentBatchConfig;function zt(l,u,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var x=p.stateNode}if(!x)throw Error(n(147,l));var P=x,O=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===O?u.ref:(u=function(J){var ye=P.refs;J===null?delete ye[O]:ye[O]=J},u._stringRef=O,u)}if(typeof l!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,l))}return l}function or(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Fi(l){var u=l._init;return u(l._payload)}function Sr(l){function u(Ie,Ee){if(l){var je=Ie.deletions;je===null?(Ie.deletions=[Ee],Ie.flags|=16):je.push(Ee)}}function p(Ie,Ee){if(!l)return null;for(;Ee!==null;)u(Ie,Ee),Ee=Ee.sibling;return null}function x(Ie,Ee){for(Ie=new Map;Ee!==null;)Ee.key!==null?Ie.set(Ee.key,Ee):Ie.set(Ee.index,Ee),Ee=Ee.sibling;return Ie}function P(Ie,Ee){return Ie=Tu(Ie,Ee),Ie.index=0,Ie.sibling=null,Ie}function O(Ie,Ee,je){return Ie.index=je,l?(je=Ie.alternate,je!==null?(je=je.index,je<Ee?(Ie.flags|=2,Ee):je):(Ie.flags|=2,Ee)):(Ie.flags|=1048576,Ee)}function J(Ie){return l&&Ie.alternate===null&&(Ie.flags|=2),Ie}function ye(Ie,Ee,je,it){return Ee===null||Ee.tag!==6?(Ee=o1(je,Ie.mode,it),Ee.return=Ie,Ee):(Ee=P(Ee,je),Ee.return=Ie,Ee)}function _e(Ie,Ee,je,it){var Tt=je.type;return Tt===F?Ze(Ie,Ee,je.props.children,it,je.key):Ee!==null&&(Ee.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===fe&&Fi(Tt)===Ee.type)?(it=P(Ee,je.props),it.ref=zt(Ie,Ee,je),it.return=Ie,it):(it=Ag(je.type,je.key,je.props,null,Ie.mode,it),it.ref=zt(Ie,Ee,je),it.return=Ie,it)}function Me(Ie,Ee,je,it){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==je.containerInfo||Ee.stateNode.implementation!==je.implementation?(Ee=a1(je,Ie.mode,it),Ee.return=Ie,Ee):(Ee=P(Ee,je.children||[]),Ee.return=Ie,Ee)}function Ze(Ie,Ee,je,it,Tt){return Ee===null||Ee.tag!==7?(Ee=jd(je,Ie.mode,it,Tt),Ee.return=Ie,Ee):(Ee=P(Ee,je),Ee.return=Ie,Ee)}function nt(Ie,Ee,je){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=o1(""+Ee,Ie.mode,je),Ee.return=Ie,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case K:return je=Ag(Ee.type,Ee.key,Ee.props,null,Ie.mode,je),je.ref=zt(Ie,null,Ee),je.return=Ie,je;case ae:return Ee=a1(Ee,Ie.mode,je),Ee.return=Ie,Ee;case fe:var it=Ee._init;return nt(Ie,it(Ee._payload),je)}if(et(Ee)||ne(Ee))return Ee=jd(Ee,Ie.mode,je,null),Ee.return=Ie,Ee;or(Ie,Ee)}return null}function Je(Ie,Ee,je,it){var Tt=Ee!==null?Ee.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return Tt!==null?null:ye(Ie,Ee,""+je,it);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case K:return je.key===Tt?_e(Ie,Ee,je,it):null;case ae:return je.key===Tt?Me(Ie,Ee,je,it):null;case fe:return Tt=je._init,Je(Ie,Ee,Tt(je._payload),it)}if(et(je)||ne(je))return Tt!==null?null:Ze(Ie,Ee,je,it,null);or(Ie,je)}return null}function mt(Ie,Ee,je,it,Tt){if(typeof it=="string"&&it!==""||typeof it=="number")return Ie=Ie.get(je)||null,ye(Ee,Ie,""+it,Tt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case K:return Ie=Ie.get(it.key===null?je:it.key)||null,_e(Ee,Ie,it,Tt);case ae:return Ie=Ie.get(it.key===null?je:it.key)||null,Me(Ee,Ie,it,Tt);case fe:var Lt=it._init;return mt(Ie,Ee,je,Lt(it._payload),Tt)}if(et(it)||ne(it))return Ie=Ie.get(je)||null,Ze(Ee,Ie,it,Tt,null);or(Ee,it)}return null}function wt(Ie,Ee,je,it){for(var Tt=null,Lt=null,jt=Ee,Wt=Ee=0,Ei=null;jt!==null&&Wt<je.length;Wt++){jt.index>Wt?(Ei=jt,jt=null):Ei=jt.sibling;var Pn=Je(Ie,jt,je[Wt],it);if(Pn===null){jt===null&&(jt=Ei);break}l&&jt&&Pn.alternate===null&&u(Ie,jt),Ee=O(Pn,Ee,Wt),Lt===null?Tt=Pn:Lt.sibling=Pn,Lt=Pn,jt=Ei}if(Wt===je.length)return p(Ie,jt),Ue&&Ce(Ie,Wt),Tt;if(jt===null){for(;Wt<je.length;Wt++)jt=nt(Ie,je[Wt],it),jt!==null&&(Ee=O(jt,Ee,Wt),Lt===null?Tt=jt:Lt.sibling=jt,Lt=jt);return Ue&&Ce(Ie,Wt),Tt}for(jt=x(Ie,jt);Wt<je.length;Wt++)Ei=mt(jt,Ie,Wt,je[Wt],it),Ei!==null&&(l&&Ei.alternate!==null&&jt.delete(Ei.key===null?Wt:Ei.key),Ee=O(Ei,Ee,Wt),Lt===null?Tt=Ei:Lt.sibling=Ei,Lt=Ei);return l&&jt.forEach(function(Eu){return u(Ie,Eu)}),Ue&&Ce(Ie,Wt),Tt}function bt(Ie,Ee,je,it){var Tt=ne(je);if(typeof Tt!="function")throw Error(n(150));if(je=Tt.call(je),je==null)throw Error(n(151));for(var Lt=Tt=null,jt=Ee,Wt=Ee=0,Ei=null,Pn=je.next();jt!==null&&!Pn.done;Wt++,Pn=je.next()){jt.index>Wt?(Ei=jt,jt=null):Ei=jt.sibling;var Eu=Je(Ie,jt,Pn.value,it);if(Eu===null){jt===null&&(jt=Ei);break}l&&jt&&Eu.alternate===null&&u(Ie,jt),Ee=O(Eu,Ee,Wt),Lt===null?Tt=Eu:Lt.sibling=Eu,Lt=Eu,jt=Ei}if(Pn.done)return p(Ie,jt),Ue&&Ce(Ie,Wt),Tt;if(jt===null){for(;!Pn.done;Wt++,Pn=je.next())Pn=nt(Ie,Pn.value,it),Pn!==null&&(Ee=O(Pn,Ee,Wt),Lt===null?Tt=Pn:Lt.sibling=Pn,Lt=Pn);return Ue&&Ce(Ie,Wt),Tt}for(jt=x(Ie,jt);!Pn.done;Wt++,Pn=je.next())Pn=mt(jt,Ie,Wt,Pn.value,it),Pn!==null&&(l&&Pn.alternate!==null&&jt.delete(Pn.key===null?Wt:Pn.key),Ee=O(Pn,Ee,Wt),Lt===null?Tt=Pn:Lt.sibling=Pn,Lt=Pn);return l&&jt.forEach(function(d6){return u(Ie,d6)}),Ue&&Ce(Ie,Wt),Tt}function zr(Ie,Ee,je,it){if(typeof je=="object"&&je!==null&&je.type===F&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case K:e:{for(var Tt=je.key,Lt=Ee;Lt!==null;){if(Lt.key===Tt){if(Tt=je.type,Tt===F){if(Lt.tag===7){p(Ie,Lt.sibling),Ee=P(Lt,je.props.children),Ee.return=Ie,Ie=Ee;break e}}else if(Lt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===fe&&Fi(Tt)===Lt.type){p(Ie,Lt.sibling),Ee=P(Lt,je.props),Ee.ref=zt(Ie,Lt,je),Ee.return=Ie,Ie=Ee;break e}p(Ie,Lt);break}else u(Ie,Lt);Lt=Lt.sibling}je.type===F?(Ee=jd(je.props.children,Ie.mode,it,je.key),Ee.return=Ie,Ie=Ee):(it=Ag(je.type,je.key,je.props,null,Ie.mode,it),it.ref=zt(Ie,Ee,je),it.return=Ie,Ie=it)}return J(Ie);case ae:e:{for(Lt=je.key;Ee!==null;){if(Ee.key===Lt)if(Ee.tag===4&&Ee.stateNode.containerInfo===je.containerInfo&&Ee.stateNode.implementation===je.implementation){p(Ie,Ee.sibling),Ee=P(Ee,je.children||[]),Ee.return=Ie,Ie=Ee;break e}else{p(Ie,Ee);break}else u(Ie,Ee);Ee=Ee.sibling}Ee=a1(je,Ie.mode,it),Ee.return=Ie,Ie=Ee}return J(Ie);case fe:return Lt=je._init,zr(Ie,Ee,Lt(je._payload),it)}if(et(je))return wt(Ie,Ee,je,it);if(ne(je))return bt(Ie,Ee,je,it);or(Ie,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,Ee!==null&&Ee.tag===6?(p(Ie,Ee.sibling),Ee=P(Ee,je),Ee.return=Ie,Ie=Ee):(p(Ie,Ee),Ee=o1(je,Ie.mode,it),Ee.return=Ie,Ie=Ee),J(Ie)):p(Ie,Ee)}return zr}var Vr=Sr(!0),An=Sr(!1),_i=Eo(null),Si=null,ar=null,Br=null;function ui(){Br=ar=Si=null}function ts(l){var u=_i.current;Rn(_i),l._currentValue=u}function Gs(l,u,p){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===p)break;l=l.return}}function lr(l,u){Si=l,Br=ar=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Qs=!0),l.firstContext=null)}function jr(l){var u=l._currentValue;if(Br!==l)if(l={context:l,memoizedValue:u,next:null},ar===null){if(Si===null)throw Error(n(308));ar=l,Si.dependencies={lanes:0,firstContext:l}}else ar=ar.next=l;return u}var Ts=null;function vl(l){Ts===null?Ts=[l]:Ts.push(l)}function La(l,u,p,x){var P=u.interleaved;return P===null?(p.next=p,vl(u)):(p.next=P.next,P.next=p),u.interleaved=p,Cn(l,x)}function Cn(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,p=l.alternate,p!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var ra=!1;function Mf(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sp(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ks(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Ys(l,u,p){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(_n&2)!==0){var P=x.pending;return P===null?u.next=u:(u.next=P.next,P.next=u),x.pending=u,Cn(l,p)}return P=x.interleaved,P===null?(u.next=u,vl(x)):(u.next=P.next,P.next=u),x.interleaved=u,Cn(l,p)}function cc(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,vo(l,p)}}function Xs(l,u){var p=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var P=null,O=null;if(p=p.firstBaseUpdate,p!==null){do{var J={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};O===null?P=O=J:O=O.next=J,p=p.next}while(p!==null);O===null?P=O=u:O=O.next=u}else P=O=u;p={baseState:x.baseState,firstBaseUpdate:P,lastBaseUpdate:O,shared:x.shared,effects:x.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function ja(l,u,p,x){var P=l.updateQueue;ra=!1;var O=P.firstBaseUpdate,J=P.lastBaseUpdate,ye=P.shared.pending;if(ye!==null){P.shared.pending=null;var _e=ye,Me=_e.next;_e.next=null,J===null?O=Me:J.next=Me,J=_e;var Ze=l.alternate;Ze!==null&&(Ze=Ze.updateQueue,ye=Ze.lastBaseUpdate,ye!==J&&(ye===null?Ze.firstBaseUpdate=Me:ye.next=Me,Ze.lastBaseUpdate=_e))}if(O!==null){var nt=P.baseState;J=0,Ze=Me=_e=null,ye=O;do{var Je=ye.lane,mt=ye.eventTime;if((x&Je)===Je){Ze!==null&&(Ze=Ze.next={eventTime:mt,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var wt=l,bt=ye;switch(Je=u,mt=p,bt.tag){case 1:if(wt=bt.payload,typeof wt=="function"){nt=wt.call(mt,nt,Je);break e}nt=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=bt.payload,Je=typeof wt=="function"?wt.call(mt,nt,Je):wt,Je==null)break e;nt=Y({},nt,Je);break e;case 2:ra=!0}}ye.callback!==null&&ye.lane!==0&&(l.flags|=64,Je=P.effects,Je===null?P.effects=[ye]:Je.push(ye))}else mt={eventTime:mt,lane:Je,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Ze===null?(Me=Ze=mt,_e=nt):Ze=Ze.next=mt,J|=Je;if(ye=ye.next,ye===null){if(ye=P.shared.pending,ye===null)break;Je=ye,ye=Je.next,Je.next=null,P.lastBaseUpdate=Je,P.shared.pending=null}}while(!0);if(Ze===null&&(_e=nt),P.baseState=_e,P.firstBaseUpdate=Me,P.lastBaseUpdate=Ze,u=P.shared.interleaved,u!==null){P=u;do J|=P.lane,P=P.next;while(P!==u)}else O===null&&(P.shared.lanes=0);Nd|=J,l.lanes=J,l.memoizedState=nt}}function uc(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var x=l[u],P=x.callback;if(P!==null){if(x.callback=null,x=p,typeof P!="function")throw Error(n(191,P));P.call(x)}}}var hu={},Es=Eo(hu),pu=Eo(hu),wl=Eo(hu);function Da(l){if(l===hu)throw Error(n(174));return l}function mu(l,u){switch(On(wl,u),On(pu,l),On(Es,hu),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:kt(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=kt(u,l)}Rn(Es),On(Es,u)}function ia(){Rn(Es),Rn(pu),Rn(wl)}function ag(l){Da(wl.current);var u=Da(Es.current),p=kt(u,l.type);u!==p&&(On(pu,l),On(Es,p))}function op(l){pu.current===l&&(Rn(Es),Rn(pu))}var Xn=Eo(0);function Ao(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var ap=[];function lp(){for(var l=0;l<ap.length;l++)ap[l]._workInProgressVersionPrimary=null;ap.length=0}var Ff=j.ReactCurrentDispatcher,Vf=j.ReactCurrentBatchConfig,sa=0,nr=null,Dr=null,Tr=null,gu=!1,Oa=!1,yu=0,Rv=0;function Ur(){throw Error(n(321))}function Bf(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!bn(l[p],u[p]))return!1;return!0}function Cd(l,u,p,x,P,O){if(sa=O,nr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ff.current=l===null||l.memoizedState===null?MR:FR,l=p(x,P),Oa){O=0;do{if(Oa=!1,yu=0,25<=O)throw Error(n(301));O+=1,Tr=Dr=null,u.updateQueue=null,Ff.current=VR,l=p(x,P)}while(Oa)}if(Ff.current=fg,u=Dr!==null&&Dr.next!==null,sa=0,Tr=Dr=nr=null,gu=!1,u)throw Error(n(300));return l}function oa(){var l=yu!==0;return yu=0,l}function Co(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?nr.memoizedState=Tr=l:Tr=Tr.next=l,Tr}function As(){if(Dr===null){var l=nr.alternate;l=l!==null?l.memoizedState:null}else l=Dr.next;var u=Tr===null?nr.memoizedState:Tr.next;if(u!==null)Tr=u,Dr=l;else{if(l===null)throw Error(n(310));Dr=l,l={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Tr===null?nr.memoizedState=Tr=l:Tr=Tr.next=l}return Tr}function Pd(l,u){return typeof u=="function"?u(l):u}function Uf(l){var u=As(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var x=Dr,P=x.baseQueue,O=p.pending;if(O!==null){if(P!==null){var J=P.next;P.next=O.next,O.next=J}x.baseQueue=P=O,p.pending=null}if(P!==null){O=P.next,x=x.baseState;var ye=J=null,_e=null,Me=O;do{var Ze=Me.lane;if((sa&Ze)===Ze)_e!==null&&(_e=_e.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),x=Me.hasEagerState?Me.eagerState:l(x,Me.action);else{var nt={lane:Ze,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};_e===null?(ye=_e=nt,J=x):_e=_e.next=nt,nr.lanes|=Ze,Nd|=Ze}Me=Me.next}while(Me!==null&&Me!==O);_e===null?J=x:_e.next=ye,bn(x,u.memoizedState)||(Qs=!0),u.memoizedState=x,u.baseState=J,u.baseQueue=_e,p.lastRenderedState=x}if(l=p.interleaved,l!==null){P=l;do O=P.lane,nr.lanes|=O,Nd|=O,P=P.next;while(P!==l)}else P===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function xl(l){var u=As(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var x=p.dispatch,P=p.pending,O=u.memoizedState;if(P!==null){p.pending=null;var J=P=P.next;do O=l(O,J.action),J=J.next;while(J!==P);bn(O,u.memoizedState)||(Qs=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),p.lastRenderedState=O}return[O,x]}function lg(){}function cp(l,u){var p=nr,x=As(),P=u(),O=!bn(x.memoizedState,P);if(O&&(x.memoizedState=P,Qs=!0),x=x.queue,Wf(ug.bind(null,p,x,l),[l]),x.getSnapshot!==u||O||Tr!==null&&Tr.memoizedState.tag&1){if(p.flags|=2048,Cs(9,up.bind(null,p,x,P,u),void 0,null),Ti===null)throw Error(n(349));(sa&30)!==0||cg(p,u,P)}return P}function cg(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=nr.updateQueue,u===null?(u={lastEffect:null,stores:null},nr.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function up(l,u,p,x){u.value=p,u.getSnapshot=x,vu(u)&&zf(l)}function ug(l,u,p){return p(function(){vu(u)&&zf(l)})}function vu(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!bn(l,p)}catch{return!0}}function zf(l){var u=Cn(l,1);u!==null&&Ua(u,l,1,-1)}function kd(l){var u=Co();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:l},u.queue=l,l=l.dispatch=OR.bind(null,nr,l),[u.memoizedState,l]}function Cs(l,u,p,x){return l={tag:l,create:u,destroy:p,deps:x,next:null},u=nr.updateQueue,u===null?(u={lastEffect:null,stores:null},nr.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect,p===null?u.lastEffect=l.next=l:(x=p.next,p.next=l,l.next=x,u.lastEffect=l)),l}function Ma(){return As().memoizedState}function Po(l,u,p,x){var P=Co();nr.flags|=l,P.memoizedState=Cs(1|u,p,void 0,x===void 0?null:x)}function dc(l,u,p,x){var P=As();x=x===void 0?null:x;var O=void 0;if(Dr!==null){var J=Dr.memoizedState;if(O=J.destroy,x!==null&&Bf(x,J.deps)){P.memoizedState=Cs(u,p,O,x);return}}nr.flags|=l,P.memoizedState=Cs(1|u,p,O,x)}function qf(l,u){return Po(8390656,8,l,u)}function Wf(l,u){return dc(2048,8,l,u)}function dg(l,u){return dc(4,2,l,u)}function $f(l,u){return dc(4,4,l,u)}function Hf(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function s5(l,u,p){return p=p!=null?p.concat([l]):null,dc(4,4,Hf.bind(null,u,l),p)}function Lv(){}function o5(l,u){var p=As();u=u===void 0?null:u;var x=p.memoizedState;return x!==null&&u!==null&&Bf(u,x[1])?x[0]:(p.memoizedState=[l,u],l)}function a5(l,u){var p=As();u=u===void 0?null:u;var x=p.memoizedState;return x!==null&&u!==null&&Bf(u,x[1])?x[0]:(l=l(),p.memoizedState=[l,u],l)}function l5(l,u,p){return(sa&21)===0?(l.baseState&&(l.baseState=!1,Qs=!0),l.memoizedState=p):(bn(p,u)||(p=Wo(),nr.lanes|=p,Nd|=p,l.baseState=!0),u)}function jR(l,u){var p=rn;rn=p!==0&&4>p?p:4,l(!0);var x=Vf.transition;Vf.transition={};try{l(!1),u()}finally{rn=p,Vf.transition=x}}function c5(){return As().memoizedState}function DR(l,u,p){var x=_u(l);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},u5(l))d5(u,p);else if(p=La(l,u,p,x),p!==null){var P=ks();Ua(p,l,x,P),f5(p,u,x)}}function OR(l,u,p){var x=_u(l),P={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(u5(l))d5(u,P);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var J=u.lastRenderedState,ye=O(J,p);if(P.hasEagerState=!0,P.eagerState=ye,bn(ye,J)){var _e=u.interleaved;_e===null?(P.next=P,vl(u)):(P.next=_e.next,_e.next=P),u.interleaved=P;return}}catch{}finally{}p=La(l,u,P,x),p!==null&&(P=ks(),Ua(p,l,x,P),f5(p,u,x))}}function u5(l){var u=l.alternate;return l===nr||u!==null&&u===nr}function d5(l,u){Oa=gu=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function f5(l,u,p){if((p&4194240)!==0){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,vo(l,p)}}var fg={readContext:jr,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},MR={readContext:jr,useCallback:function(l,u){return Co().memoizedState=[l,u===void 0?null:u],l},useContext:jr,useEffect:qf,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,Po(4194308,4,Hf.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Po(4194308,4,l,u)},useInsertionEffect:function(l,u){return Po(4,2,l,u)},useMemo:function(l,u){var p=Co();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var x=Co();return u=p!==void 0?p(u):u,x.memoizedState=x.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},x.queue=l,l=l.dispatch=DR.bind(null,nr,l),[x.memoizedState,l]},useRef:function(l){var u=Co();return l={current:l},u.memoizedState=l},useState:kd,useDebugValue:Lv,useDeferredValue:function(l){return Co().memoizedState=l},useTransition:function(){var l=kd(!1),u=l[0];return l=jR.bind(null,l[1]),Co().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var x=nr,P=Co();if(Ue){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),Ti===null)throw Error(n(349));(sa&30)!==0||cg(x,u,p)}P.memoizedState=p;var O={value:p,getSnapshot:u};return P.queue=O,qf(ug.bind(null,x,O,l),[l]),x.flags|=2048,Cs(9,up.bind(null,x,O,p,u),void 0,null),p},useId:function(){var l=Co(),u=Ti.identifierPrefix;if(Ue){var p=Ne,x=ke;p=(x&~(1<<32-ni(x)-1)).toString(32)+p,u=":"+u+"R"+p,p=yu++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=Rv++,u=":"+u+"r"+p.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},FR={readContext:jr,useCallback:o5,useContext:jr,useEffect:Wf,useImperativeHandle:s5,useInsertionEffect:dg,useLayoutEffect:$f,useMemo:a5,useReducer:Uf,useRef:Ma,useState:function(){return Uf(Pd)},useDebugValue:Lv,useDeferredValue:function(l){var u=As();return l5(u,Dr.memoizedState,l)},useTransition:function(){var l=Uf(Pd)[0],u=As().memoizedState;return[l,u]},useMutableSource:lg,useSyncExternalStore:cp,useId:c5,unstable_isNewReconciler:!1},VR={readContext:jr,useCallback:o5,useContext:jr,useEffect:Wf,useImperativeHandle:s5,useInsertionEffect:dg,useLayoutEffect:$f,useMemo:a5,useReducer:xl,useRef:Ma,useState:function(){return xl(Pd)},useDebugValue:Lv,useDeferredValue:function(l){var u=As();return Dr===null?u.memoizedState=l:l5(u,Dr.memoizedState,l)},useTransition:function(){var l=xl(Pd)[0],u=As().memoizedState;return[l,u]},useMutableSource:lg,useSyncExternalStore:cp,useId:c5,unstable_isNewReconciler:!1};function Fa(l,u){if(l&&l.defaultProps){u=Y({},u),l=l.defaultProps;for(var p in l)u[p]===void 0&&(u[p]=l[p]);return u}return u}function jv(l,u,p,x){u=l.memoizedState,p=p(x,u),p=p==null?u:Y({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var hg={isMounted:function(l){return(l=l._reactInternals)?_r(l)===l:!1},enqueueSetState:function(l,u,p){l=l._reactInternals;var x=ks(),P=_u(l),O=Ks(x,P);O.payload=u,p!=null&&(O.callback=p),u=Ys(l,O,P),u!==null&&(Ua(u,l,P,x),cc(u,l,P))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var x=ks(),P=_u(l),O=Ks(x,P);O.tag=1,O.payload=u,p!=null&&(O.callback=p),u=Ys(l,O,P),u!==null&&(Ua(u,l,P,x),cc(u,l,P))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=ks(),x=_u(l),P=Ks(p,x);P.tag=2,u!=null&&(P.callback=u),u=Ys(l,P,x),u!==null&&(Ua(u,l,x,p),cc(u,l,x))}};function h5(l,u,p,x,P,O,J){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,O,J):u.prototype&&u.prototype.isPureReactComponent?!Ca(p,x)||!Ca(P,O):!0}function p5(l,u,p){var x=!1,P=yl,O=u.contextType;return typeof O=="object"&&O!==null?O=jr(O):(P=es(u)?ac:ci.current,x=u.contextTypes,O=(x=x!=null)?fu(l,P):yl),u=new u(p,O),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=hg,l.stateNode=u,u._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=P,l.__reactInternalMemoizedMaskedChildContext=O),u}function m5(l,u,p,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,x),u.state!==l&&hg.enqueueReplaceState(u,u.state,null)}function Dv(l,u,p,x){var P=l.stateNode;P.props=p,P.state=l.memoizedState,P.refs={},Mf(l);var O=u.contextType;typeof O=="object"&&O!==null?P.context=jr(O):(O=es(u)?ac:ci.current,P.context=fu(l,O)),P.state=l.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(jv(l,u,O,p),P.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(u=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),u!==P.state&&hg.enqueueReplaceState(P,P.state,null),ja(l,p,P,x),P.state=l.memoizedState),typeof P.componentDidMount=="function"&&(l.flags|=4194308)}function Gf(l,u){try{var p="",x=u;do p+=de(x),x=x.return;while(x);var P=p}catch(O){P=`
Error generating stack: `+O.message+`
`+O.stack}return{value:l,source:u,stack:P,digest:null}}function Ov(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function Mv(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var BR=typeof WeakMap=="function"?WeakMap:Map;function g5(l,u,p){p=Ks(-1,p),p.tag=3,p.payload={element:null};var x=u.value;return p.callback=function(){xg||(xg=!0,Jv=x),Mv(l,u)},p}function y5(l,u,p){p=Ks(-1,p),p.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var P=u.value;p.payload=function(){return x(P)},p.callback=function(){Mv(l,u)}}var O=l.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(p.callback=function(){Mv(l,u),typeof x!="function"&&(xu===null?xu=new Set([this]):xu.add(this));var J=u.stack;this.componentDidCatch(u.value,{componentStack:J!==null?J:""})}),p}function v5(l,u,p){var x=l.pingCache;if(x===null){x=l.pingCache=new BR;var P=new Set;x.set(u,P)}else P=x.get(u),P===void 0&&(P=new Set,x.set(u,P));P.has(p)||(P.add(p),l=e6.bind(null,l,u,p),u.then(l,l))}function w5(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function x5(l,u,p,x,P){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Ks(-1,1),u.tag=2,Ys(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=P,l)}var UR=j.ReactCurrentOwner,Qs=!1;function Ps(l,u,p,x){u.child=l===null?An(u,null,p,x):Vr(u,l.child,p,x)}function b5(l,u,p,x,P){p=p.render;var O=u.ref;return lr(u,P),x=Cd(l,u,p,x,O,P),p=oa(),l!==null&&!Qs?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~P,fc(l,u,P)):(Ue&&p&&Fe(u),u.flags|=1,Ps(l,u,x,P),u.child)}function _5(l,u,p,x,P){if(l===null){var O=p.type;return typeof O=="function"&&!s1(O)&&O.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=O,S5(l,u,O,x,P)):(l=Ag(p.type,null,x,u,u.mode,P),l.ref=u.ref,l.return=u,u.child=l)}if(O=l.child,(l.lanes&P)===0){var J=O.memoizedProps;if(p=p.compare,p=p!==null?p:Ca,p(J,x)&&l.ref===u.ref)return fc(l,u,P)}return u.flags|=1,l=Tu(O,x),l.ref=u.ref,l.return=u,u.child=l}function S5(l,u,p,x,P){if(l!==null){var O=l.memoizedProps;if(Ca(O,x)&&l.ref===u.ref)if(Qs=!1,u.pendingProps=x=O,(l.lanes&P)!==0)(l.flags&131072)!==0&&(Qs=!0);else return u.lanes=l.lanes,fc(l,u,P)}return Fv(l,u,p,x,P)}function T5(l,u,p){var x=u.pendingProps,P=x.children,O=l!==null?l.memoizedState:null;if(x.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},On(Yf,ko),ko|=p;else{if((p&1073741824)===0)return l=O!==null?O.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,On(Yf,ko),ko|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=O!==null?O.baseLanes:p,On(Yf,ko),ko|=x}else O!==null?(x=O.baseLanes|p,u.memoizedState=null):x=p,On(Yf,ko),ko|=x;return Ps(l,u,P,p),u.child}function E5(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Fv(l,u,p,x,P){var O=es(p)?ac:ci.current;return O=fu(u,O),lr(u,P),p=Cd(l,u,p,x,O,P),x=oa(),l!==null&&!Qs?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~P,fc(l,u,P)):(Ue&&x&&Fe(u),u.flags|=1,Ps(l,u,p,P),u.child)}function A5(l,u,p,x,P){if(es(p)){var O=!0;lc(u)}else O=!1;if(lr(u,P),u.stateNode===null)mg(l,u),p5(u,p,x),Dv(u,p,x,P),x=!0;else if(l===null){var J=u.stateNode,ye=u.memoizedProps;J.props=ye;var _e=J.context,Me=p.contextType;typeof Me=="object"&&Me!==null?Me=jr(Me):(Me=es(p)?ac:ci.current,Me=fu(u,Me));var Ze=p.getDerivedStateFromProps,nt=typeof Ze=="function"||typeof J.getSnapshotBeforeUpdate=="function";nt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ye!==x||_e!==Me)&&m5(u,J,x,Me),ra=!1;var Je=u.memoizedState;J.state=Je,ja(u,x,J,P),_e=u.memoizedState,ye!==x||Je!==_e||Zi.current||ra?(typeof Ze=="function"&&(jv(u,p,Ze,x),_e=u.memoizedState),(ye=ra||h5(u,p,ye,x,Je,_e,Me))?(nt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(u.flags|=4194308)):(typeof J.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=_e),J.props=x,J.state=_e,J.context=Me,x=ye):(typeof J.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{J=u.stateNode,sp(l,u),ye=u.memoizedProps,Me=u.type===u.elementType?ye:Fa(u.type,ye),J.props=Me,nt=u.pendingProps,Je=J.context,_e=p.contextType,typeof _e=="object"&&_e!==null?_e=jr(_e):(_e=es(p)?ac:ci.current,_e=fu(u,_e));var mt=p.getDerivedStateFromProps;(Ze=typeof mt=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ye!==nt||Je!==_e)&&m5(u,J,x,_e),ra=!1,Je=u.memoizedState,J.state=Je,ja(u,x,J,P);var wt=u.memoizedState;ye!==nt||Je!==wt||Zi.current||ra?(typeof mt=="function"&&(jv(u,p,mt,x),wt=u.memoizedState),(Me=ra||h5(u,p,Me,x,Je,wt,_e)||!1)?(Ze||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(x,wt,_e),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(x,wt,_e)),typeof J.componentDidUpdate=="function"&&(u.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof J.componentDidUpdate!="function"||ye===l.memoizedProps&&Je===l.memoizedState||(u.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ye===l.memoizedProps&&Je===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=wt),J.props=x,J.state=wt,J.context=_e,x=Me):(typeof J.componentDidUpdate!="function"||ye===l.memoizedProps&&Je===l.memoizedState||(u.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ye===l.memoizedProps&&Je===l.memoizedState||(u.flags|=1024),x=!1)}return Vv(l,u,p,x,O,P)}function Vv(l,u,p,x,P,O){E5(l,u);var J=(u.flags&128)!==0;if(!x&&!J)return P&&og(u,p,!1),fc(l,u,O);x=u.stateNode,UR.current=u;var ye=J&&typeof p.getDerivedStateFromError!="function"?null:x.render();return u.flags|=1,l!==null&&J?(u.child=Vr(u,l.child,null,O),u.child=Vr(u,null,ye,O)):Ps(l,u,ye,O),u.memoizedState=x.state,P&&og(u,p,!0),u.child}function C5(l){var u=l.stateNode;u.pendingContext?sg(l,u.pendingContext,u.pendingContext!==u.context):u.context&&sg(l,u.context,!1),mu(l,u.containerInfo)}function P5(l,u,p,x,P){return Qt(),Ln(P),u.flags|=256,Ps(l,u,p,x),u.child}var Bv={dehydrated:null,treeContext:null,retryLane:0};function Uv(l){return{baseLanes:l,cachePool:null,transitions:null}}function k5(l,u,p){var x=u.pendingProps,P=Xn.current,O=!1,J=(u.flags&128)!==0,ye;if((ye=J)||(ye=l!==null&&l.memoizedState===null?!1:(P&2)!==0),ye?(O=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(P|=1),On(Xn,P&1),l===null)return ut(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(J=x.children,l=x.fallback,O?(x=u.mode,O=u.child,J={mode:"hidden",children:J},(x&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=J):O=Cg(J,x,0,null),l=jd(l,x,p,null),O.return=u,l.return=u,O.sibling=l,u.child=O,u.child.memoizedState=Uv(p),u.memoizedState=Bv,l):zv(u,J));if(P=l.memoizedState,P!==null&&(ye=P.dehydrated,ye!==null))return zR(l,u,J,x,ye,P,p);if(O){O=x.fallback,J=u.mode,P=l.child,ye=P.sibling;var _e={mode:"hidden",children:x.children};return(J&1)===0&&u.child!==P?(x=u.child,x.childLanes=0,x.pendingProps=_e,u.deletions=null):(x=Tu(P,_e),x.subtreeFlags=P.subtreeFlags&14680064),ye!==null?O=Tu(ye,O):(O=jd(O,J,p,null),O.flags|=2),O.return=u,x.return=u,x.sibling=O,u.child=x,x=O,O=u.child,J=l.child.memoizedState,J=J===null?Uv(p):{baseLanes:J.baseLanes|p,cachePool:null,transitions:J.transitions},O.memoizedState=J,O.childLanes=l.childLanes&~p,u.memoizedState=Bv,x}return O=l.child,l=O.sibling,x=Tu(O,{mode:"visible",children:x.children}),(u.mode&1)===0&&(x.lanes=p),x.return=u,x.sibling=null,l!==null&&(p=u.deletions,p===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=x,u.memoizedState=null,x}function zv(l,u){return u=Cg({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function pg(l,u,p,x){return x!==null&&Ln(x),Vr(u,l.child,null,p),l=zv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function zR(l,u,p,x,P,O,J){if(p)return u.flags&256?(u.flags&=-257,x=Ov(Error(n(422))),pg(l,u,J,x)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(O=x.fallback,P=u.mode,x=Cg({mode:"visible",children:x.children},P,0,null),O=jd(O,P,J,null),O.flags|=2,x.return=u,O.return=u,x.sibling=O,u.child=x,(u.mode&1)!==0&&Vr(u,l.child,null,J),u.child.memoizedState=Uv(J),u.memoizedState=Bv,O);if((u.mode&1)===0)return pg(l,u,J,null);if(P.data==="$!"){if(x=P.nextSibling&&P.nextSibling.dataset,x)var ye=x.dgst;return x=ye,O=Error(n(419)),x=Ov(O,x,void 0),pg(l,u,J,x)}if(ye=(J&l.childLanes)!==0,Qs||ye){if(x=Ti,x!==null){switch(J&-J){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(x.suspendedLanes|J))!==0?0:P,P!==0&&P!==O.retryLane&&(O.retryLane=P,Cn(l,P),Ua(x,l,P,-1))}return i1(),x=Ov(Error(n(421))),pg(l,u,J,x)}return P.data==="$?"?(u.flags|=128,u.child=l.child,u=t6.bind(null,l),P._reactRetry=u,null):(l=O.treeContext,ze=Mi(P.nextSibling),Te=u,Ue=!0,qe=null,l!==null&&(re[ue++]=ke,re[ue++]=Ne,re[ue++]=be,ke=l.id,Ne=l.overflow,be=u),u=zv(u,x.children),u.flags|=4096,u)}function N5(l,u,p){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),Gs(l.return,u,p)}function qv(l,u,p,x,P){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:P}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=x,O.tail=p,O.tailMode=P)}function I5(l,u,p){var x=u.pendingProps,P=x.revealOrder,O=x.tail;if(Ps(l,u,x.children,p),x=Xn.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&N5(l,p,u);else if(l.tag===19)N5(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(On(Xn,x),(u.mode&1)===0)u.memoizedState=null;else switch(P){case"forwards":for(p=u.child,P=null;p!==null;)l=p.alternate,l!==null&&Ao(l)===null&&(P=p),p=p.sibling;p=P,p===null?(P=u.child,u.child=null):(P=p.sibling,p.sibling=null),qv(u,!1,P,p,O);break;case"backwards":for(p=null,P=u.child,u.child=null;P!==null;){if(l=P.alternate,l!==null&&Ao(l)===null){u.child=P;break}l=P.sibling,P.sibling=p,p=P,P=l}qv(u,!0,p,null,O);break;case"together":qv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function mg(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function fc(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),Nd|=u.lanes,(p&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=Tu(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=Tu(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function qR(l,u,p){switch(u.tag){case 3:C5(u),Qt();break;case 5:ag(u);break;case 1:es(u.type)&&lc(u);break;case 4:mu(u,u.stateNode.containerInfo);break;case 10:var x=u.type._context,P=u.memoizedProps.value;On(_i,x._currentValue),x._currentValue=P;break;case 13:if(x=u.memoizedState,x!==null)return x.dehydrated!==null?(On(Xn,Xn.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?k5(l,u,p):(On(Xn,Xn.current&1),l=fc(l,u,p),l!==null?l.sibling:null);On(Xn,Xn.current&1);break;case 19:if(x=(p&u.childLanes)!==0,(l.flags&128)!==0){if(x)return I5(l,u,p);u.flags|=128}if(P=u.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),On(Xn,Xn.current),x)break;return null;case 22:case 23:return u.lanes=0,T5(l,u,p)}return fc(l,u,p)}var R5,Wv,L5,j5;R5=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Wv=function(){},L5=function(l,u,p,x){var P=l.memoizedProps;if(P!==x){l=u.stateNode,Da(Es.current);var O=null;switch(p){case"input":P=tt(l,P),x=tt(l,x),O=[];break;case"select":P=Y({},P,{value:void 0}),x=Y({},x,{value:void 0}),O=[];break;case"textarea":P=at(l,P),x=at(l,x),O=[];break;default:typeof P.onClick!="function"&&typeof x.onClick=="function"&&(l.onclick=cu)}jn(p,x);var J;p=null;for(Me in P)if(!x.hasOwnProperty(Me)&&P.hasOwnProperty(Me)&&P[Me]!=null)if(Me==="style"){var ye=P[Me];for(J in ye)ye.hasOwnProperty(J)&&(p||(p={}),p[J]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(i.hasOwnProperty(Me)?O||(O=[]):(O=O||[]).push(Me,null));for(Me in x){var _e=x[Me];if(ye=P?.[Me],x.hasOwnProperty(Me)&&_e!==ye&&(_e!=null||ye!=null))if(Me==="style")if(ye){for(J in ye)!ye.hasOwnProperty(J)||_e&&_e.hasOwnProperty(J)||(p||(p={}),p[J]="");for(J in _e)_e.hasOwnProperty(J)&&ye[J]!==_e[J]&&(p||(p={}),p[J]=_e[J])}else p||(O||(O=[]),O.push(Me,p)),p=_e;else Me==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,ye=ye?ye.__html:void 0,_e!=null&&ye!==_e&&(O=O||[]).push(Me,_e)):Me==="children"?typeof _e!="string"&&typeof _e!="number"||(O=O||[]).push(Me,""+_e):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(i.hasOwnProperty(Me)?(_e!=null&&Me==="onScroll"&&zn("scroll",l),O||ye===_e||(O=[])):(O=O||[]).push(Me,_e))}p&&(O=O||[]).push("style",p);var Me=O;(u.updateQueue=Me)&&(u.flags|=4)}},j5=function(l,u,p,x){p!==x&&(u.flags|=4)};function dp(l,u){if(!Ue)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function ns(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,x=0;if(u)for(var P=l.child;P!==null;)p|=P.lanes|P.childLanes,x|=P.subtreeFlags&14680064,x|=P.flags&14680064,P.return=l,P=P.sibling;else for(P=l.child;P!==null;)p|=P.lanes|P.childLanes,x|=P.subtreeFlags,x|=P.flags,P.return=l,P=P.sibling;return l.subtreeFlags|=x,l.childLanes=p,u}function WR(l,u,p){var x=u.pendingProps;switch(Se(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ns(u),null;case 1:return es(u.type)&&Of(),ns(u),null;case 3:return x=u.stateNode,ia(),Rn(Zi),Rn(ci),lp(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(vn(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,qe!==null&&(t1(qe),qe=null))),Wv(l,u),ns(u),null;case 5:op(u);var P=Da(wl.current);if(p=u.type,l!==null&&u.stateNode!=null)L5(l,u,p,x,P),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!x){if(u.stateNode===null)throw Error(n(166));return ns(u),null}if(l=Da(Es.current),vn(u)){x=u.stateNode,p=u.type;var O=u.memoizedProps;switch(x[na]=u,x[uu]=O,l=(u.mode&1)!==0,p){case"dialog":zn("cancel",x),zn("close",x);break;case"iframe":case"object":case"embed":zn("load",x);break;case"video":case"audio":for(P=0;P<ml.length;P++)zn(ml[P],x);break;case"source":zn("error",x);break;case"img":case"image":case"link":zn("error",x),zn("load",x);break;case"details":zn("toggle",x);break;case"input":Oe(x,O),zn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!O.multiple},zn("invalid",x);break;case"textarea":vt(x,O),zn("invalid",x)}jn(p,O),P=null;for(var J in O)if(O.hasOwnProperty(J)){var ye=O[J];J==="children"?typeof ye=="string"?x.textContent!==ye&&(O.suppressHydrationWarning!==!0&&Df(x.textContent,ye,l),P=["children",ye]):typeof ye=="number"&&x.textContent!==""+ye&&(O.suppressHydrationWarning!==!0&&Df(x.textContent,ye,l),P=["children",""+ye]):i.hasOwnProperty(J)&&ye!=null&&J==="onScroll"&&zn("scroll",x)}switch(p){case"input":De(x),ft(x,O,!0);break;case"textarea":De(x),Ot(x);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(x.onclick=cu)}x=P,u.updateQueue=x,x!==null&&(u.flags|=4)}else{J=P.nodeType===9?P:P.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=St(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=J.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof x.is=="string"?l=J.createElement(p,{is:x.is}):(l=J.createElement(p),p==="select"&&(J=l,x.multiple?J.multiple=!0:x.size&&(J.size=x.size))):l=J.createElementNS(l,p),l[na]=u,l[uu]=x,R5(l,u,!1,!1),u.stateNode=l;e:{switch(J=Wi(p,x),p){case"dialog":zn("cancel",l),zn("close",l),P=x;break;case"iframe":case"object":case"embed":zn("load",l),P=x;break;case"video":case"audio":for(P=0;P<ml.length;P++)zn(ml[P],l);P=x;break;case"source":zn("error",l),P=x;break;case"img":case"image":case"link":zn("error",l),zn("load",l),P=x;break;case"details":zn("toggle",l),P=x;break;case"input":Oe(l,x),P=tt(l,x),zn("invalid",l);break;case"option":P=x;break;case"select":l._wrapperState={wasMultiple:!!x.multiple},P=Y({},x,{value:void 0}),zn("invalid",l);break;case"textarea":vt(l,x),P=at(l,x),zn("invalid",l);break;default:P=x}jn(p,P),ye=P;for(O in ye)if(ye.hasOwnProperty(O)){var _e=ye[O];O==="style"?Pi(l,_e):O==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&Ct(l,_e)):O==="children"?typeof _e=="string"?(p!=="textarea"||_e!=="")&&Mt(l,_e):typeof _e=="number"&&Mt(l,""+_e):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?_e!=null&&O==="onScroll"&&zn("scroll",l):_e!=null&&I(l,O,_e,J))}switch(p){case"input":De(l),ft(l,x,!1);break;case"textarea":De(l),Ot(l);break;case"option":x.value!=null&&l.setAttribute("value",""+ie(x.value));break;case"select":l.multiple=!!x.multiple,O=x.value,O!=null?st(l,!!x.multiple,O,!1):x.defaultValue!=null&&st(l,!!x.multiple,x.defaultValue,!0);break;default:typeof P.onClick=="function"&&(l.onclick=cu)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ns(u),null;case 6:if(l&&u.stateNode!=null)j5(l,u,l.memoizedProps,x);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(p=Da(wl.current),Da(Es.current),vn(u)){if(x=u.stateNode,p=u.memoizedProps,x[na]=u,(O=x.nodeValue!==p)&&(l=Te,l!==null))switch(l.tag){case 3:Df(x.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Df(x.nodeValue,p,(l.mode&1)!==0)}O&&(u.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[na]=u,u.stateNode=x}return ns(u),null;case 13:if(Rn(Xn),x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ue&&ze!==null&&(u.mode&1)!==0&&(u.flags&128)===0)un(),Qt(),u.flags|=98560,O=!1;else if(O=vn(u),x!==null&&x.dehydrated!==null){if(l===null){if(!O)throw Error(n(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[na]=u}else Qt(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ns(u),O=!1}else qe!==null&&(t1(qe),qe=null),O=!0;if(!O)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(x=x!==null,x!==(l!==null&&l.memoizedState!==null)&&x&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Xn.current&1)!==0?di===0&&(di=3):i1())),u.updateQueue!==null&&(u.flags|=4),ns(u),null);case 4:return ia(),Wv(l,u),l===null&&rc(u.stateNode.containerInfo),ns(u),null;case 10:return ts(u.type._context),ns(u),null;case 17:return es(u.type)&&Of(),ns(u),null;case 19:if(Rn(Xn),O=u.memoizedState,O===null)return ns(u),null;if(x=(u.flags&128)!==0,J=O.rendering,J===null)if(x)dp(O,!1);else{if(di!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(J=Ao(l),J!==null){for(u.flags|=128,dp(O,!1),x=J.updateQueue,x!==null&&(u.updateQueue=x,u.flags|=4),u.subtreeFlags=0,x=p,p=u.child;p!==null;)O=p,l=x,O.flags&=14680066,J=O.alternate,J===null?(O.childLanes=0,O.lanes=l,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=J.childLanes,O.lanes=J.lanes,O.child=J.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=J.memoizedProps,O.memoizedState=J.memoizedState,O.updateQueue=J.updateQueue,O.type=J.type,l=J.dependencies,O.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return On(Xn,Xn.current&1|2),u.child}l=l.sibling}O.tail!==null&&Dn()>Xf&&(u.flags|=128,x=!0,dp(O,!1),u.lanes=4194304)}else{if(!x)if(l=Ao(J),l!==null){if(u.flags|=128,x=!0,p=l.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),dp(O,!0),O.tail===null&&O.tailMode==="hidden"&&!J.alternate&&!Ue)return ns(u),null}else 2*Dn()-O.renderingStartTime>Xf&&p!==1073741824&&(u.flags|=128,x=!0,dp(O,!1),u.lanes=4194304);O.isBackwards?(J.sibling=u.child,u.child=J):(p=O.last,p!==null?p.sibling=J:u.child=J,O.last=J)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=Dn(),u.sibling=null,p=Xn.current,On(Xn,x?p&1|2:p&1),u):(ns(u),null);case 22:case 23:return r1(),x=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(u.flags|=8192),x&&(u.mode&1)!==0?(ko&1073741824)!==0&&(ns(u),u.subtreeFlags&6&&(u.flags|=8192)):ns(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function $R(l,u){switch(Se(u),u.tag){case 1:return es(u.type)&&Of(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ia(),Rn(Zi),Rn(ci),lp(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return op(u),null;case 13:if(Rn(Xn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Qt()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Rn(Xn),null;case 4:return ia(),null;case 10:return ts(u.type._context),null;case 22:case 23:return r1(),null;case 24:return null;default:return null}}var gg=!1,rs=!1,HR=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Kf(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){Or(l,u,x)}else p.current=null}function $v(l,u,p){try{p()}catch(x){Or(l,u,x)}}var D5=!1;function GR(l,u){if(Td=Go,l=yd(),Zl(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var P=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{p.nodeType,O.nodeType}catch{p=null;break e}var J=0,ye=-1,_e=-1,Me=0,Ze=0,nt=l,Je=null;t:for(;;){for(var mt;nt!==p||P!==0&&nt.nodeType!==3||(ye=J+P),nt!==O||x!==0&&nt.nodeType!==3||(_e=J+x),nt.nodeType===3&&(J+=nt.nodeValue.length),(mt=nt.firstChild)!==null;)Je=nt,nt=mt;for(;;){if(nt===l)break t;if(Je===p&&++Me===P&&(ye=J),Je===O&&++Ze===x&&(_e=J),(mt=nt.nextSibling)!==null)break;nt=Je,Je=nt.parentNode}nt=mt}p=ye===-1||_e===-1?null:{start:ye,end:_e}}else p=null}p=p||{start:0,end:0}}else p=null;for(sc={focusedElem:l,selectionRange:p},Go=!1,yt=u;yt!==null;)if(u=yt,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,yt=l;else for(;yt!==null;){u=yt;try{var wt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var bt=wt.memoizedProps,zr=wt.memoizedState,Ie=u.stateNode,Ee=Ie.getSnapshotBeforeUpdate(u.elementType===u.type?bt:Fa(u.type,bt),zr);Ie.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:var je=u.stateNode.containerInfo;je.nodeType===1?je.textContent="":je.nodeType===9&&je.documentElement&&je.removeChild(je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(it){Or(u,u.return,it)}if(l=u.sibling,l!==null){l.return=u.return,yt=l;break}yt=u.return}return wt=D5,D5=!1,wt}function fp(l,u,p){var x=u.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var P=x=x.next;do{if((P.tag&l)===l){var O=P.destroy;P.destroy=void 0,O!==void 0&&$v(u,p,O)}P=P.next}while(P!==x)}}function yg(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&l)===l){var x=p.create;p.destroy=x()}p=p.next}while(p!==u)}}function Hv(l){var u=l.ref;if(u!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof u=="function"?u(l):u.current=l}}function O5(l){var u=l.alternate;u!==null&&(l.alternate=null,O5(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[na],delete u[uu],delete u[Ji],delete u[Nv],delete u[Iv])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function M5(l){return l.tag===5||l.tag===3||l.tag===4}function F5(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||M5(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Gv(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(l,u):p.insertBefore(l,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(l,p)):(u=p,u.appendChild(l)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=cu));else if(x!==4&&(l=l.child,l!==null))for(Gv(l,u,p),l=l.sibling;l!==null;)Gv(l,u,p),l=l.sibling}function Kv(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(x!==4&&(l=l.child,l!==null))for(Kv(l,u,p),l=l.sibling;l!==null;)Kv(l,u,p),l=l.sibling}var Vi=null,Va=!1;function wu(l,u,p){for(p=p.child;p!==null;)V5(l,u,p),p=p.sibling}function V5(l,u,p){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(Uo,p)}catch{}switch(p.tag){case 5:rs||Kf(p,u);case 6:var x=Vi,P=Va;Vi=null,wu(l,u,p),Vi=x,Va=P,Vi!==null&&(Va?(l=Vi,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):Vi.removeChild(p.stateNode));break;case 18:Vi!==null&&(Va?(l=Vi,p=p.stateNode,l.nodeType===8?np(l.parentNode,p):l.nodeType===1&&np(l,p),oi(l)):np(Vi,p.stateNode));break;case 4:x=Vi,P=Va,Vi=p.stateNode.containerInfo,Va=!0,wu(l,u,p),Vi=x,Va=P;break;case 0:case 11:case 14:case 15:if(!rs&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){P=x=x.next;do{var O=P,J=O.destroy;O=O.tag,J!==void 0&&((O&2)!==0||(O&4)!==0)&&$v(p,u,J),P=P.next}while(P!==x)}wu(l,u,p);break;case 1:if(!rs&&(Kf(p,u),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(ye){Or(p,u,ye)}wu(l,u,p);break;case 21:wu(l,u,p);break;case 22:p.mode&1?(rs=(x=rs)||p.memoizedState!==null,wu(l,u,p),rs=x):wu(l,u,p);break;default:wu(l,u,p)}}function B5(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new HR),u.forEach(function(x){var P=n6.bind(null,l,x);p.has(x)||(p.add(x),x.then(P,P))})}}function Ba(l,u){var p=u.deletions;if(p!==null)for(var x=0;x<p.length;x++){var P=p[x];try{var O=l,J=u,ye=J;e:for(;ye!==null;){switch(ye.tag){case 5:Vi=ye.stateNode,Va=!1;break e;case 3:Vi=ye.stateNode.containerInfo,Va=!0;break e;case 4:Vi=ye.stateNode.containerInfo,Va=!0;break e}ye=ye.return}if(Vi===null)throw Error(n(160));V5(O,J,P),Vi=null,Va=!1;var _e=P.alternate;_e!==null&&(_e.return=null),P.return=null}catch(Me){Or(P,u,Me)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)U5(u,l),u=u.sibling}function U5(l,u){var p=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Ba(u,l),bl(l),x&4){try{fp(3,l,l.return),yg(3,l)}catch(bt){Or(l,l.return,bt)}try{fp(5,l,l.return)}catch(bt){Or(l,l.return,bt)}}break;case 1:Ba(u,l),bl(l),x&512&&p!==null&&Kf(p,p.return);break;case 5:if(Ba(u,l),bl(l),x&512&&p!==null&&Kf(p,p.return),l.flags&32){var P=l.stateNode;try{Mt(P,"")}catch(bt){Or(l,l.return,bt)}}if(x&4&&(P=l.stateNode,P!=null)){var O=l.memoizedProps,J=p!==null?p.memoizedProps:O,ye=l.type,_e=l.updateQueue;if(l.updateQueue=null,_e!==null)try{ye==="input"&&O.type==="radio"&&O.name!=null&&me(P,O),Wi(ye,J);var Me=Wi(ye,O);for(J=0;J<_e.length;J+=2){var Ze=_e[J],nt=_e[J+1];Ze==="style"?Pi(P,nt):Ze==="dangerouslySetInnerHTML"?Ct(P,nt):Ze==="children"?Mt(P,nt):I(P,Ze,nt,Me)}switch(ye){case"input":_t(P,O);break;case"textarea":It(P,O);break;case"select":var Je=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!O.multiple;var mt=O.value;mt!=null?st(P,!!O.multiple,mt,!1):Je!==!!O.multiple&&(O.defaultValue!=null?st(P,!!O.multiple,O.defaultValue,!0):st(P,!!O.multiple,O.multiple?[]:"",!1))}P[uu]=O}catch(bt){Or(l,l.return,bt)}}break;case 6:if(Ba(u,l),bl(l),x&4){if(l.stateNode===null)throw Error(n(162));P=l.stateNode,O=l.memoizedProps;try{P.nodeValue=O}catch(bt){Or(l,l.return,bt)}}break;case 3:if(Ba(u,l),bl(l),x&4&&p!==null&&p.memoizedState.isDehydrated)try{oi(u.containerInfo)}catch(bt){Or(l,l.return,bt)}break;case 4:Ba(u,l),bl(l);break;case 13:Ba(u,l),bl(l),P=l.child,P.flags&8192&&(O=P.memoizedState!==null,P.stateNode.isHidden=O,!O||P.alternate!==null&&P.alternate.memoizedState!==null||(Qv=Dn())),x&4&&B5(l);break;case 22:if(Ze=p!==null&&p.memoizedState!==null,l.mode&1?(rs=(Me=rs)||Ze,Ba(u,l),rs=Me):Ba(u,l),bl(l),x&8192){if(Me=l.memoizedState!==null,(l.stateNode.isHidden=Me)&&!Ze&&(l.mode&1)!==0)for(yt=l,Ze=l.child;Ze!==null;){for(nt=yt=Ze;yt!==null;){switch(Je=yt,mt=Je.child,Je.tag){case 0:case 11:case 14:case 15:fp(4,Je,Je.return);break;case 1:Kf(Je,Je.return);var wt=Je.stateNode;if(typeof wt.componentWillUnmount=="function"){x=Je,p=Je.return;try{u=x,wt.props=u.memoizedProps,wt.state=u.memoizedState,wt.componentWillUnmount()}catch(bt){Or(x,p,bt)}}break;case 5:Kf(Je,Je.return);break;case 22:if(Je.memoizedState!==null){W5(nt);continue}}mt!==null?(mt.return=Je,yt=mt):W5(nt)}Ze=Ze.sibling}e:for(Ze=null,nt=l;;){if(nt.tag===5){if(Ze===null){Ze=nt;try{P=nt.stateNode,Me?(O=P.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(ye=nt.stateNode,_e=nt.memoizedProps.style,J=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,ye.style.display=nn("display",J))}catch(bt){Or(l,l.return,bt)}}}else if(nt.tag===6){if(Ze===null)try{nt.stateNode.nodeValue=Me?"":nt.memoizedProps}catch(bt){Or(l,l.return,bt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===l)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===l)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===l)break e;Ze===nt&&(Ze=null),nt=nt.return}Ze===nt&&(Ze=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:Ba(u,l),bl(l),x&4&&B5(l);break;case 21:break;default:Ba(u,l),bl(l)}}function bl(l){var u=l.flags;if(u&2){try{e:{for(var p=l.return;p!==null;){if(M5(p)){var x=p;break e}p=p.return}throw Error(n(160))}switch(x.tag){case 5:var P=x.stateNode;x.flags&32&&(Mt(P,""),x.flags&=-33);var O=F5(l);Kv(l,O,P);break;case 3:case 4:var J=x.stateNode.containerInfo,ye=F5(l);Gv(l,ye,J);break;default:throw Error(n(161))}}catch(_e){Or(l,l.return,_e)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function KR(l,u,p){yt=l,z5(l)}function z5(l,u,p){for(var x=(l.mode&1)!==0;yt!==null;){var P=yt,O=P.child;if(P.tag===22&&x){var J=P.memoizedState!==null||gg;if(!J){var ye=P.alternate,_e=ye!==null&&ye.memoizedState!==null||rs;ye=gg;var Me=rs;if(gg=J,(rs=_e)&&!Me)for(yt=P;yt!==null;)J=yt,_e=J.child,J.tag===22&&J.memoizedState!==null?$5(P):_e!==null?(_e.return=J,yt=_e):$5(P);for(;O!==null;)yt=O,z5(O),O=O.sibling;yt=P,gg=ye,rs=Me}q5(l)}else(P.subtreeFlags&8772)!==0&&O!==null?(O.return=P,yt=O):q5(l)}}function q5(l){for(;yt!==null;){var u=yt;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:rs||yg(5,u);break;case 1:var x=u.stateNode;if(u.flags&4&&!rs)if(p===null)x.componentDidMount();else{var P=u.elementType===u.type?p.memoizedProps:Fa(u.type,p.memoizedProps);x.componentDidUpdate(P,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var O=u.updateQueue;O!==null&&uc(u,O,x);break;case 3:var J=u.updateQueue;if(J!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}uc(u,J,p)}break;case 5:var ye=u.stateNode;if(p===null&&u.flags&4){p=ye;var _e=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&p.focus();break;case"img":_e.src&&(p.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Me=u.alternate;if(Me!==null){var Ze=Me.memoizedState;if(Ze!==null){var nt=Ze.dehydrated;nt!==null&&oi(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rs||u.flags&512&&Hv(u)}catch(Je){Or(u,u.return,Je)}}if(u===l){yt=null;break}if(p=u.sibling,p!==null){p.return=u.return,yt=p;break}yt=u.return}}function W5(l){for(;yt!==null;){var u=yt;if(u===l){yt=null;break}var p=u.sibling;if(p!==null){p.return=u.return,yt=p;break}yt=u.return}}function $5(l){for(;yt!==null;){var u=yt;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{yg(4,u)}catch(_e){Or(u,p,_e)}break;case 1:var x=u.stateNode;if(typeof x.componentDidMount=="function"){var P=u.return;try{x.componentDidMount()}catch(_e){Or(u,P,_e)}}var O=u.return;try{Hv(u)}catch(_e){Or(u,O,_e)}break;case 5:var J=u.return;try{Hv(u)}catch(_e){Or(u,J,_e)}}}catch(_e){Or(u,u.return,_e)}if(u===l){yt=null;break}var ye=u.sibling;if(ye!==null){ye.return=u.return,yt=ye;break}yt=u.return}}var YR=Math.ceil,vg=j.ReactCurrentDispatcher,Yv=j.ReactCurrentOwner,aa=j.ReactCurrentBatchConfig,_n=0,Ti=null,Qr=null,Bi=0,ko=0,Yf=Eo(0),di=0,hp=null,Nd=0,wg=0,Xv=0,pp=null,Js=null,Qv=0,Xf=1/0,hc=null,xg=!1,Jv=null,xu=null,bg=!1,bu=null,_g=0,mp=0,Zv=null,Sg=-1,Tg=0;function ks(){return(_n&6)!==0?Dn():Sg!==-1?Sg:Sg=Dn()}function _u(l){return(l.mode&1)===0?1:(_n&2)!==0&&Bi!==0?Bi&-Bi:Mn.transition!==null?(Tg===0&&(Tg=Wo()),Tg):(l=rn,l!==0||(l=window.event,l=l===void 0?16:ll(l.type)),l)}function Ua(l,u,p,x){if(50<mp)throw mp=0,Zv=null,Error(n(185));yo(l,p,x),((_n&2)===0||l!==Ti)&&(l===Ti&&((_n&2)===0&&(wg|=p),di===4&&Su(l,Bi)),Zs(l,x),p===1&&_n===0&&(u.mode&1)===0&&(Xf=Dn()+500,Ad&&M()))}function Zs(l,u){var p=l.callbackNode;pr(l,u);var x=ri(l,l===Ti?Bi:0);if(x===0)p!==null&&Bo(p),l.callbackNode=null,l.callbackPriority=0;else if(u=x&-x,l.callbackPriority!==u){if(p!=null&&Bo(p),u===1)l.tag===0?N(G5.bind(null,l)):_(G5.bind(null,l)),Pv(function(){(_n&6)===0&&M()}),p=null;else{switch(Fs(x)){case 1:p=Ms;break;case 4:p=go;break;case 16:p=Gi;break;case 536870912:p=Hc;break;default:p=Gi}p=t_(p,H5.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function H5(l,u){if(Sg=-1,Tg=0,(_n&6)!==0)throw Error(n(327));var p=l.callbackNode;if(Qf()&&l.callbackNode!==p)return null;var x=ri(l,l===Ti?Bi:0);if(x===0)return null;if((x&30)!==0||(x&l.expiredLanes)!==0||u)u=Eg(l,x);else{u=x;var P=_n;_n|=2;var O=Y5();(Ti!==l||Bi!==u)&&(hc=null,Xf=Dn()+500,Rd(l,u));do try{JR();break}catch(ye){K5(l,ye)}while(!0);ui(),vg.current=O,_n=P,Qr!==null?u=0:(Ti=null,Bi=0,u=di)}if(u!==0){if(u===2&&(P=ii(l),P!==0&&(x=P,u=e1(l,P))),u===1)throw p=hp,Rd(l,0),Su(l,x),Zs(l,Dn()),p;if(u===6)Su(l,x);else{if(P=l.current.alternate,(x&30)===0&&!XR(P)&&(u=Eg(l,x),u===2&&(O=ii(l),O!==0&&(x=O,u=e1(l,O))),u===1))throw p=hp,Rd(l,0),Su(l,x),Zs(l,Dn()),p;switch(l.finishedWork=P,l.finishedLanes=x,u){case 0:case 1:throw Error(n(345));case 2:Ld(l,Js,hc);break;case 3:if(Su(l,x),(x&130023424)===x&&(u=Qv+500-Dn(),10<u)){if(ri(l,0)!==0)break;if(P=l.suspendedLanes,(P&x)!==x){ks(),l.pingedLanes|=l.suspendedLanes&P;break}l.timeoutHandle=tp(Ld.bind(null,l,Js,hc),u);break}Ld(l,Js,hc);break;case 4:if(Su(l,x),(x&4194240)===x)break;for(u=l.eventTimes,P=-1;0<x;){var J=31-ni(x);O=1<<J,J=u[J],J>P&&(P=J),x&=~O}if(x=P,x=Dn()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*YR(x/1960))-x,10<x){l.timeoutHandle=tp(Ld.bind(null,l,Js,hc),x);break}Ld(l,Js,hc);break;case 5:Ld(l,Js,hc);break;default:throw Error(n(329))}}}return Zs(l,Dn()),l.callbackNode===p?H5.bind(null,l):null}function e1(l,u){var p=pp;return l.current.memoizedState.isDehydrated&&(Rd(l,u).flags|=256),l=Eg(l,u),l!==2&&(u=Js,Js=p,u!==null&&t1(u)),l}function t1(l){Js===null?Js=l:Js.push.apply(Js,l)}function XR(l){for(var u=l;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var P=p[x],O=P.getSnapshot;P=P.value;try{if(!bn(O(),P))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Su(l,u){for(u&=~Xv,u&=~wg,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-ni(u),x=1<<p;l[p]=-1,u&=~x}}function G5(l){if((_n&6)!==0)throw Error(n(327));Qf();var u=ri(l,0);if((u&1)===0)return Zs(l,Dn()),null;var p=Eg(l,u);if(l.tag!==0&&p===2){var x=ii(l);x!==0&&(u=x,p=e1(l,x))}if(p===1)throw p=hp,Rd(l,0),Su(l,u),Zs(l,Dn()),p;if(p===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Ld(l,Js,hc),Zs(l,Dn()),null}function n1(l,u){var p=_n;_n|=1;try{return l(u)}finally{_n=p,_n===0&&(Xf=Dn()+500,Ad&&M())}}function Id(l){bu!==null&&bu.tag===0&&(_n&6)===0&&Qf();var u=_n;_n|=1;var p=aa.transition,x=rn;try{if(aa.transition=null,rn=1,l)return l()}finally{rn=x,aa.transition=p,_n=u,(_n&6)===0&&M()}}function r1(){ko=Yf.current,Rn(Yf)}function Rd(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,rg(p)),Qr!==null)for(p=Qr.return;p!==null;){var x=p;switch(Se(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Of();break;case 3:ia(),Rn(Zi),Rn(ci),lp();break;case 5:op(x);break;case 4:ia();break;case 13:Rn(Xn);break;case 19:Rn(Xn);break;case 10:ts(x.type._context);break;case 22:case 23:r1()}p=p.return}if(Ti=l,Qr=l=Tu(l.current,null),Bi=ko=u,di=0,hp=null,Xv=wg=Nd=0,Js=pp=null,Ts!==null){for(u=0;u<Ts.length;u++)if(p=Ts[u],x=p.interleaved,x!==null){p.interleaved=null;var P=x.next,O=p.pending;if(O!==null){var J=O.next;O.next=P,x.next=J}p.pending=x}Ts=null}return l}function K5(l,u){do{var p=Qr;try{if(ui(),Ff.current=fg,gu){for(var x=nr.memoizedState;x!==null;){var P=x.queue;P!==null&&(P.pending=null),x=x.next}gu=!1}if(sa=0,Tr=Dr=nr=null,Oa=!1,yu=0,Yv.current=null,p===null||p.return===null){di=1,hp=u,Qr=null;break}e:{var O=l,J=p.return,ye=p,_e=u;if(u=Bi,ye.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Me=_e,Ze=ye,nt=Ze.tag;if((Ze.mode&1)===0&&(nt===0||nt===11||nt===15)){var Je=Ze.alternate;Je?(Ze.updateQueue=Je.updateQueue,Ze.memoizedState=Je.memoizedState,Ze.lanes=Je.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var mt=w5(J);if(mt!==null){mt.flags&=-257,x5(mt,J,ye,O,u),mt.mode&1&&v5(O,Me,u),u=mt,_e=Me;var wt=u.updateQueue;if(wt===null){var bt=new Set;bt.add(_e),u.updateQueue=bt}else wt.add(_e);break e}else{if((u&1)===0){v5(O,Me,u),i1();break e}_e=Error(n(426))}}else if(Ue&&ye.mode&1){var zr=w5(J);if(zr!==null){(zr.flags&65536)===0&&(zr.flags|=256),x5(zr,J,ye,O,u),Ln(Gf(_e,ye));break e}}O=_e=Gf(_e,ye),di!==4&&(di=2),pp===null?pp=[O]:pp.push(O),O=J;do{switch(O.tag){case 3:O.flags|=65536,u&=-u,O.lanes|=u;var Ie=g5(O,_e,u);Xs(O,Ie);break e;case 1:ye=_e;var Ee=O.type,je=O.stateNode;if((O.flags&128)===0&&(typeof Ee.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(xu===null||!xu.has(je)))){O.flags|=65536,u&=-u,O.lanes|=u;var it=y5(O,ye,u);Xs(O,it);break e}}O=O.return}while(O!==null)}Q5(p)}catch(Tt){u=Tt,Qr===p&&p!==null&&(Qr=p=p.return);continue}break}while(!0)}function Y5(){var l=vg.current;return vg.current=fg,l===null?fg:l}function i1(){(di===0||di===3||di===2)&&(di=4),Ti===null||(Nd&268435455)===0&&(wg&268435455)===0||Su(Ti,Bi)}function Eg(l,u){var p=_n;_n|=2;var x=Y5();(Ti!==l||Bi!==u)&&(hc=null,Rd(l,u));do try{QR();break}catch(P){K5(l,P)}while(!0);if(ui(),_n=p,vg.current=x,Qr!==null)throw Error(n(261));return Ti=null,Bi=0,di}function QR(){for(;Qr!==null;)X5(Qr)}function JR(){for(;Qr!==null&&!ma();)X5(Qr)}function X5(l){var u=e_(l.alternate,l,ko);l.memoizedProps=l.pendingProps,u===null?Q5(l):Qr=u,Yv.current=null}function Q5(l){var u=l;do{var p=u.alternate;if(l=u.return,(u.flags&32768)===0){if(p=WR(p,u,ko),p!==null){Qr=p;return}}else{if(p=$R(p,u),p!==null){p.flags&=32767,Qr=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{di=6,Qr=null;return}}if(u=u.sibling,u!==null){Qr=u;return}Qr=u=l}while(u!==null);di===0&&(di=5)}function Ld(l,u,p){var x=rn,P=aa.transition;try{aa.transition=null,rn=1,ZR(l,u,p,x)}finally{aa.transition=P,rn=x}return null}function ZR(l,u,p,x){do Qf();while(bu!==null);if((_n&6)!==0)throw Error(n(327));p=l.finishedWork;var P=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var O=p.lanes|p.childLanes;if(kn(l,O),l===Ti&&(Qr=Ti=null,Bi=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||bg||(bg=!0,t_(Gi,function(){return Qf(),null})),O=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||O){O=aa.transition,aa.transition=null;var J=rn;rn=1;var ye=_n;_n|=4,Yv.current=null,GR(l,p),U5(p,l),ec(sc),Go=!!Td,sc=Td=null,l.current=p,KR(p),Wc(),_n=ye,rn=J,aa.transition=O}else l.current=p;if(bg&&(bg=!1,bu=l,_g=P),O=l.pendingLanes,O===0&&(xu=null),ya(p.stateNode),Zs(l,Dn()),u!==null)for(x=l.onRecoverableError,p=0;p<u.length;p++)P=u[p],x(P.value,{componentStack:P.stack,digest:P.digest});if(xg)throw xg=!1,l=Jv,Jv=null,l;return(_g&1)!==0&&l.tag!==0&&Qf(),O=l.pendingLanes,(O&1)!==0?l===Zv?mp++:(mp=0,Zv=l):mp=0,M(),null}function Qf(){if(bu!==null){var l=Fs(_g),u=aa.transition,p=rn;try{if(aa.transition=null,rn=16>l?16:l,bu===null)var x=!1;else{if(l=bu,bu=null,_g=0,(_n&6)!==0)throw Error(n(331));var P=_n;for(_n|=4,yt=l.current;yt!==null;){var O=yt,J=O.child;if((yt.flags&16)!==0){var ye=O.deletions;if(ye!==null){for(var _e=0;_e<ye.length;_e++){var Me=ye[_e];for(yt=Me;yt!==null;){var Ze=yt;switch(Ze.tag){case 0:case 11:case 15:fp(8,Ze,O)}var nt=Ze.child;if(nt!==null)nt.return=Ze,yt=nt;else for(;yt!==null;){Ze=yt;var Je=Ze.sibling,mt=Ze.return;if(O5(Ze),Ze===Me){yt=null;break}if(Je!==null){Je.return=mt,yt=Je;break}yt=mt}}}var wt=O.alternate;if(wt!==null){var bt=wt.child;if(bt!==null){wt.child=null;do{var zr=bt.sibling;bt.sibling=null,bt=zr}while(bt!==null)}}yt=O}}if((O.subtreeFlags&2064)!==0&&J!==null)J.return=O,yt=J;else e:for(;yt!==null;){if(O=yt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:fp(9,O,O.return)}var Ie=O.sibling;if(Ie!==null){Ie.return=O.return,yt=Ie;break e}yt=O.return}}var Ee=l.current;for(yt=Ee;yt!==null;){J=yt;var je=J.child;if((J.subtreeFlags&2064)!==0&&je!==null)je.return=J,yt=je;else e:for(J=Ee;yt!==null;){if(ye=yt,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:yg(9,ye)}}catch(Tt){Or(ye,ye.return,Tt)}if(ye===J){yt=null;break e}var it=ye.sibling;if(it!==null){it.return=ye.return,yt=it;break e}yt=ye.return}}if(_n=P,M(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(Uo,l)}catch{}x=!0}return x}finally{rn=p,aa.transition=u}}return!1}function J5(l,u,p){u=Gf(p,u),u=g5(l,u,1),l=Ys(l,u,1),u=ks(),l!==null&&(yo(l,1,u),Zs(l,u))}function Or(l,u,p){if(l.tag===3)J5(l,l,p);else for(;u!==null;){if(u.tag===3){J5(u,l,p);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(xu===null||!xu.has(x))){l=Gf(p,l),l=y5(u,l,1),u=Ys(u,l,1),l=ks(),u!==null&&(yo(u,1,l),Zs(u,l));break}}u=u.return}}function e6(l,u,p){var x=l.pingCache;x!==null&&x.delete(u),u=ks(),l.pingedLanes|=l.suspendedLanes&p,Ti===l&&(Bi&p)===p&&(di===4||di===3&&(Bi&130023424)===Bi&&500>Dn()-Qv?Rd(l,0):Xv|=p),Zs(l,u)}function Z5(l,u){u===0&&((l.mode&1)===0?u=1:(u=zo,zo<<=1,(zo&130023424)===0&&(zo=4194304)));var p=ks();l=Cn(l,u),l!==null&&(yo(l,u,p),Zs(l,p))}function t6(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),Z5(l,p)}function n6(l,u){var p=0;switch(l.tag){case 13:var x=l.stateNode,P=l.memoizedState;P!==null&&(p=P.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(u),Z5(l,p)}var e_;e_=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||Zi.current)Qs=!0;else{if((l.lanes&p)===0&&(u.flags&128)===0)return Qs=!1,qR(l,u,p);Qs=(l.flags&131072)!==0}else Qs=!1,Ue&&(u.flags&1048576)!==0&&He(u,ee,u.index);switch(u.lanes=0,u.tag){case 2:var x=u.type;mg(l,u),l=u.pendingProps;var P=fu(u,ci.current);lr(u,p),P=Cd(null,u,x,l,P,p);var O=oa();return u.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,es(x)?(O=!0,lc(u)):O=!1,u.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Mf(u),P.updater=hg,u.stateNode=P,P._reactInternals=u,Dv(u,x,l,p),u=Vv(null,u,x,!0,O,p)):(u.tag=0,Ue&&O&&Fe(u),Ps(null,u,P,p),u=u.child),u;case 16:x=u.elementType;e:{switch(mg(l,u),l=u.pendingProps,P=x._init,x=P(x._payload),u.type=x,P=u.tag=i6(x),l=Fa(x,l),P){case 0:u=Fv(null,u,x,l,p);break e;case 1:u=A5(null,u,x,l,p);break e;case 11:u=b5(null,u,x,l,p);break e;case 14:u=_5(null,u,x,Fa(x.type,l),p);break e}throw Error(n(306,x,""))}return u;case 0:return x=u.type,P=u.pendingProps,P=u.elementType===x?P:Fa(x,P),Fv(l,u,x,P,p);case 1:return x=u.type,P=u.pendingProps,P=u.elementType===x?P:Fa(x,P),A5(l,u,x,P,p);case 3:e:{if(C5(u),l===null)throw Error(n(387));x=u.pendingProps,O=u.memoizedState,P=O.element,sp(l,u),ja(u,x,null,p);var J=u.memoizedState;if(x=J.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){P=Gf(Error(n(423)),u),u=P5(l,u,x,p,P);break e}else if(x!==P){P=Gf(Error(n(424)),u),u=P5(l,u,x,p,P);break e}else for(ze=Mi(u.stateNode.containerInfo.firstChild),Te=u,Ue=!0,qe=null,p=An(u,null,x,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Qt(),x===P){u=fc(l,u,p);break e}Ps(l,u,x,p)}u=u.child}return u;case 5:return ag(u),l===null&&ut(u),x=u.type,P=u.pendingProps,O=l!==null?l.memoizedProps:null,J=P.children,ep(x,P)?J=null:O!==null&&ep(x,O)&&(u.flags|=32),E5(l,u),Ps(l,u,J,p),u.child;case 6:return l===null&&ut(u),null;case 13:return k5(l,u,p);case 4:return mu(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=Vr(u,null,x,p):Ps(l,u,x,p),u.child;case 11:return x=u.type,P=u.pendingProps,P=u.elementType===x?P:Fa(x,P),b5(l,u,x,P,p);case 7:return Ps(l,u,u.pendingProps,p),u.child;case 8:return Ps(l,u,u.pendingProps.children,p),u.child;case 12:return Ps(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(x=u.type._context,P=u.pendingProps,O=u.memoizedProps,J=P.value,On(_i,x._currentValue),x._currentValue=J,O!==null)if(bn(O.value,J)){if(O.children===P.children&&!Zi.current){u=fc(l,u,p);break e}}else for(O=u.child,O!==null&&(O.return=u);O!==null;){var ye=O.dependencies;if(ye!==null){J=O.child;for(var _e=ye.firstContext;_e!==null;){if(_e.context===x){if(O.tag===1){_e=Ks(-1,p&-p),_e.tag=2;var Me=O.updateQueue;if(Me!==null){Me=Me.shared;var Ze=Me.pending;Ze===null?_e.next=_e:(_e.next=Ze.next,Ze.next=_e),Me.pending=_e}}O.lanes|=p,_e=O.alternate,_e!==null&&(_e.lanes|=p),Gs(O.return,p,u),ye.lanes|=p;break}_e=_e.next}}else if(O.tag===10)J=O.type===u.type?null:O.child;else if(O.tag===18){if(J=O.return,J===null)throw Error(n(341));J.lanes|=p,ye=J.alternate,ye!==null&&(ye.lanes|=p),Gs(J,p,u),J=O.sibling}else J=O.child;if(J!==null)J.return=O;else for(J=O;J!==null;){if(J===u){J=null;break}if(O=J.sibling,O!==null){O.return=J.return,J=O;break}J=J.return}O=J}Ps(l,u,P.children,p),u=u.child}return u;case 9:return P=u.type,x=u.pendingProps.children,lr(u,p),P=jr(P),x=x(P),u.flags|=1,Ps(l,u,x,p),u.child;case 14:return x=u.type,P=Fa(x,u.pendingProps),P=Fa(x.type,P),_5(l,u,x,P,p);case 15:return S5(l,u,u.type,u.pendingProps,p);case 17:return x=u.type,P=u.pendingProps,P=u.elementType===x?P:Fa(x,P),mg(l,u),u.tag=1,es(x)?(l=!0,lc(u)):l=!1,lr(u,p),p5(u,x,P),Dv(u,x,P,p),Vv(null,u,x,!0,l,p);case 19:return I5(l,u,p);case 22:return T5(l,u,p)}throw Error(n(156,u.tag))};function t_(l,u){return mo(l,u)}function r6(l,u,p,x){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(l,u,p,x){return new r6(l,u,p,x)}function s1(l){return l=l.prototype,!(!l||!l.isReactComponent)}function i6(l){if(typeof l=="function")return s1(l)?1:0;if(l!=null){if(l=l.$$typeof,l===D)return 11;if(l===we)return 14}return 2}function Tu(l,u){var p=l.alternate;return p===null?(p=la(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function Ag(l,u,p,x,P,O){var J=2;if(x=l,typeof l=="function")s1(l)&&(J=1);else if(typeof l=="string")J=5;else e:switch(l){case F:return jd(p.children,P,O,u);case L:J=8,P|=8;break;case B:return l=la(12,p,u,P|2),l.elementType=B,l.lanes=O,l;case q:return l=la(13,p,u,P),l.elementType=q,l.lanes=O,l;case se:return l=la(19,p,u,P),l.elementType=se,l.lanes=O,l;case ve:return Cg(p,P,O,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case $:J=10;break e;case k:J=9;break e;case D:J=11;break e;case we:J=14;break e;case fe:J=16,x=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=la(J,p,u,P),u.elementType=l,u.type=x,u.lanes=O,u}function jd(l,u,p,x){return l=la(7,l,x,u),l.lanes=p,l}function Cg(l,u,p,x){return l=la(22,l,x,u),l.elementType=ve,l.lanes=p,l.stateNode={isHidden:!1},l}function o1(l,u,p){return l=la(6,l,null,u),l.lanes=p,l}function a1(l,u,p){return u=la(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function s6(l,u,p,x,P){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=x,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function l1(l,u,p,x,P,O,J,ye,_e){return l=new s6(l,u,p,ye,_e),u===1?(u=1,O===!0&&(u|=8)):u=0,O=la(3,null,null,u),l.current=O,O.stateNode=l,O.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mf(O),l}function o6(l,u,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:x==null?null:""+x,children:l,containerInfo:u,implementation:p}}function n_(l){if(!l)return yl;l=l._reactInternals;e:{if(_r(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(es(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var p=l.type;if(es(p))return ip(l,p,u)}return u}function r_(l,u,p,x,P,O,J,ye,_e){return l=l1(p,x,!0,l,P,O,J,ye,_e),l.context=n_(null),p=l.current,x=ks(),P=_u(p),O=Ks(x,P),O.callback=u??null,Ys(p,O,P),l.current.lanes=P,yo(l,P,x),Zs(l,x),l}function Pg(l,u,p,x){var P=u.current,O=ks(),J=_u(P);return p=n_(p),u.context===null?u.context=p:u.pendingContext=p,u=Ks(O,J),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=Ys(P,u,J),l!==null&&(Ua(l,P,J,O),cc(l,P,J)),J}function kg(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function i_(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function c1(l,u){i_(l,u),(l=l.alternate)&&i_(l,u)}function a6(){return null}var s_=typeof reportError=="function"?reportError:function(l){console.error(l)};function u1(l){this._internalRoot=l}Ng.prototype.render=u1.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));Pg(l,u,null,null)},Ng.prototype.unmount=u1.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Id(function(){Pg(null,l,null,null)}),u[bi]=null}};function Ng(l){this._internalRoot=l}Ng.prototype.unstable_scheduleHydration=function(l){if(l){var u=Vs();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Bs.length&&u!==0&&u<Bs[p].priority;p++);Bs.splice(p,0,l),p===0&&al(l)}};function d1(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Ig(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function o_(){}function l6(l,u,p,x,P){if(P){if(typeof x=="function"){var O=x;x=function(){var Me=kg(J);O.call(Me)}}var J=r_(u,x,l,0,null,!1,!1,"",o_);return l._reactRootContainer=J,l[bi]=J.current,rc(l.nodeType===8?l.parentNode:l),Id(),J}for(;P=l.lastChild;)l.removeChild(P);if(typeof x=="function"){var ye=x;x=function(){var Me=kg(_e);ye.call(Me)}}var _e=l1(l,0,!1,null,null,!1,!1,"",o_);return l._reactRootContainer=_e,l[bi]=_e.current,rc(l.nodeType===8?l.parentNode:l),Id(function(){Pg(u,_e,p,x)}),_e}function Rg(l,u,p,x,P){var O=p._reactRootContainer;if(O){var J=O;if(typeof P=="function"){var ye=P;P=function(){var _e=kg(J);ye.call(_e)}}Pg(u,J,l,P)}else J=l6(p,u,l,P,x);return kg(J)}Gc=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=qo(u.pendingLanes);p!==0&&(vo(u,p|1),Zs(u,Dn()),(_n&6)===0&&(Xf=Dn()+500,M()))}break;case 13:Id(function(){var x=Cn(l,1);if(x!==null){var P=ks();Ua(x,l,1,P)}}),c1(l,1)}},sl=function(l){if(l.tag===13){var u=Cn(l,134217728);if(u!==null){var p=ks();Ua(u,l,134217728,p)}c1(l,134217728)}},Kc=function(l){if(l.tag===13){var u=_u(l),p=Cn(l,u);if(p!==null){var x=ks();Ua(p,l,u,x)}c1(l,u)}},Vs=function(){return rn},wa=function(l,u){var p=rn;try{return rn=l,u()}finally{rn=p}},Vn=function(l,u,p){switch(u){case"input":if(_t(l,p),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var x=p[u];if(x!==l&&x.form===l.form){var P=Ed(x);if(!P)throw Error(n(90));$e(x),_t(x,P)}}}break;case"textarea":It(l,p);break;case"select":u=p.value,u!=null&&st(l,!!p.multiple,u,!1)}},ms=n1,br=Id;var c6={usingClientEntryPoint:!1,Events:[du,oc,Ed,Nt,cn,n1]},gp={findFiberByHostInstance:gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u6={bundleType:gp.bundleType,version:gp.version,rendererPackageName:gp.rendererPackageName,rendererConfig:gp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ho(l),l===null?null:l.stateNode},findFiberByHostInstance:gp.findFiberByHostInstance||a6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lg.isDisabled&&Lg.supportsFiber)try{Uo=Lg.inject(u6),ki=Lg}catch{}}return eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c6,eo.createPortal=function(l,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d1(u))throw Error(n(200));return o6(l,u,null,p)},eo.createRoot=function(l,u){if(!d1(l))throw Error(n(299));var p=!1,x="",P=s_;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(P=u.onRecoverableError)),u=l1(l,1,!1,null,null,p,!1,x,P),l[bi]=u.current,rc(l.nodeType===8?l.parentNode:l),new u1(u)},eo.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=ho(u),l=l===null?null:l.stateNode,l},eo.flushSync=function(l){return Id(l)},eo.hydrate=function(l,u,p){if(!Ig(u))throw Error(n(200));return Rg(null,l,u,!0,p)},eo.hydrateRoot=function(l,u,p){if(!d1(l))throw Error(n(405));var x=p!=null&&p.hydratedSources||null,P=!1,O="",J=s_;if(p!=null&&(p.unstable_strictMode===!0&&(P=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onRecoverableError!==void 0&&(J=p.onRecoverableError)),u=r_(u,null,l,1,p??null,P,!1,O,J),l[bi]=u.current,rc(l),x)for(l=0;l<x.length;l++)p=x[l],P=p._getVersion,P=P(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,P]:u.mutableSourceEagerHydrationData.push(p,P);return new Ng(u)},eo.render=function(l,u,p){if(!Ig(u))throw Error(n(200));return Rg(null,l,u,!1,p)},eo.unmountComponentAtNode=function(l){if(!Ig(l))throw Error(n(40));return l._reactRootContainer?(Id(function(){Rg(null,null,l,!1,function(){l._reactRootContainer=null,l[bi]=null})}),!0):!1},eo.unstable_batchedUpdates=n1,eo.unstable_renderSubtreeIntoContainer=function(l,u,p,x){if(!Ig(p))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Rg(l,u,p,!1,x)},eo.version="18.3.1-next-f1338f8080-20240426",eo}var p_;function sC(){if(p_)return p1.exports;p_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p1.exports=v6(),p1.exports}var m_;function w6(){if(m_)return jg;m_=1;var t=sC();return jg.createRoot=t.createRoot,jg.hydrateRoot=t.hydrateRoot,jg}var x6=w6();const b6=xf(x6);var dx=sC();const _6=xf(dx);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rm.apply(this,arguments)}var Bu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bu||(Bu={}));const g_="popstate";function S6(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return R2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:A0(i)}return E6(e,n,null,t)}function Cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T6(){return Math.random().toString(36).substr(2,8)}function y_(t,e){return{usr:t.state,key:t.key,idx:e}}function R2(t,e,n,r){return n===void 0&&(n=null),rm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uh(e):e,{state:n,key:e&&e.key||r||T6()})}function A0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function E6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Bu.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(rm({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=Bu.Pop;let T=f(),E=T==null?null:T-d;d=T,c&&c({action:a,location:S.location,delta:E})}function m(T,E){a=Bu.Push;let C=R2(S.location,T,E);d=f()+1;let I=y_(C,d),j=S.createHref(C);try{o.pushState(I,"",j)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(j)}s&&c&&c({action:a,location:S.location,delta:1})}function g(T,E){a=Bu.Replace;let C=R2(S.location,T,E);d=f();let I=y_(C,d),j=S.createHref(C);o.replaceState(I,"",j),s&&c&&c({action:a,location:S.location,delta:0})}function b(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof T=="string"?T:A0(T);return C=C.replace(/ $/,"%20"),Cr(E,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,E)}let S={get action(){return a},get location(){return t(i,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(g_,h),c=T,()=>{i.removeEventListener(g_,h),c=null}},createHref(T){return e(i,T)},createURL:b,encodeLocation(T){let E=b(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:g,go(T){return o.go(T)}};return S}var v_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(v_||(v_={}));function A6(t,e,n){return n===void 0&&(n="/"),C6(t,e,n)}function C6(t,e,n,r){let i=typeof e=="string"?Uh(e):e,s=Ih(i.pathname||"/",n);if(s==null)return null;let o=aC(t);P6(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=V6(s);a=M6(o[c],d)}return a}function aC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Cr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=$u([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Cr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),aC(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:D6(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of lC(s.path))i(s,o,c)}),e}function lC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lC(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function P6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const k6=/^:[\w-]+$/,N6=3,I6=2,R6=1,L6=10,j6=-2,w_=t=>t==="*";function D6(t,e){let n=t.split("/"),r=n.length;return n.some(w_)&&(r+=j6),e&&(r+=I6),n.filter(i=>!w_(i)).reduce((i,s)=>i+(k6.test(s)?N6:s===""?R6:L6),r)}function O6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function M6(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=L2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:$u([s,h.pathname]),pathnameBase:q6($u([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=$u([s,h.pathnameBase]))}return o}function L2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=F6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,f,h)=>{let{paramName:m,isOptional:g}=f;if(m==="*"){let S=a[h]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const b=a[h];return g&&!b?d[m]=void 0:d[m]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function F6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),oC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function V6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ih(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function B6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Uh(t):t;return{pathname:n?n.startsWith("/")?n:U6(n,e):e,search:W6(r),hash:$6(i)}}function U6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function y1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fx(t,e){let n=z6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Uh(t):(i=rm({},t),Cr(!i.pathname||!i.pathname.includes("?"),y1("?","pathname","search",i)),Cr(!i.pathname||!i.pathname.includes("#"),y1("#","pathname","hash",i)),Cr(!i.search||!i.search.includes("#"),y1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let c=B6(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const $u=t=>t.join("/").replace(/\/\/+/g,"/"),q6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function H6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cC=["post","put","patch","delete"];new Set(cC);const G6=["get",...cC];new Set(G6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}const by=z.createContext(null),uC=z.createContext(null),Vc=z.createContext(null),_y=z.createContext(null),Vl=z.createContext({outlet:null,matches:[],isDataRoute:!1}),dC=z.createContext(null);function K6(t,e){let{relative:n}=e===void 0?{}:e;zh()||Cr(!1);let{basename:r,navigator:i}=z.useContext(Vc),{hash:s,pathname:o,search:a}=Sy(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:$u([r,o])),i.createHref({pathname:c,search:a,hash:s})}function zh(){return z.useContext(_y)!=null}function Bl(){return zh()||Cr(!1),z.useContext(_y).location}function fC(t){z.useContext(Vc).static||z.useLayoutEffect(t)}function Za(){let{isDataRoute:t}=z.useContext(Vl);return t?cL():Y6()}function Y6(){zh()||Cr(!1);let t=z.useContext(by),{basename:e,future:n,navigator:r}=z.useContext(Vc),{matches:i}=z.useContext(Vl),{pathname:s}=Bl(),o=JSON.stringify(fx(i,n.v7_relativeSplatPath)),a=z.useRef(!1);return fC(()=>{a.current=!0}),z.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let h=hx(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:$u([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}const X6=z.createContext(null);function Q6(t){let e=z.useContext(Vl).outlet;return e&&z.createElement(X6.Provider,{value:t},e)}function hC(){let{matches:t}=z.useContext(Vl),e=t[t.length-1];return e?e.params:{}}function Sy(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(Vc),{matches:i}=z.useContext(Vl),{pathname:s}=Bl(),o=JSON.stringify(fx(i,r.v7_relativeSplatPath));return z.useMemo(()=>hx(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function J6(t,e){return Z6(t,e)}function Z6(t,e,n,r){zh()||Cr(!1);let{navigator:i}=z.useContext(Vc),{matches:s}=z.useContext(Vl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Bl(),f;if(e){var h;let T=typeof e=="string"?Uh(e):e;c==="/"||(h=T.pathname)!=null&&h.startsWith(c)||Cr(!1),f=T}else f=d;let m=f.pathname||"/",g=m;if(c!=="/"){let T=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let b=A6(t,{pathname:g}),S=iL(b&&b.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:$u([c,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:$u([c,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&S?z.createElement(_y.Provider,{value:{location:im({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Bu.Pop}},S):S}function eL(){let t=lL(),e=H6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,null)}const tL=z.createElement(eL,null);class nL extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(Vl.Provider,{value:this.props.routeContext},z.createElement(dC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rL(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(by);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Vl.Provider,{value:e},r)}function iL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);f>=0||Cr(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:g}=n,b=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let g,b=!1,S=null,T=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||tL,c&&(d<0&&m===0?(uL("route-fallback"),b=!0,T=null):d===m&&(b=!0,T=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),C=()=>{let I;return g?I=S:b?I=T:h.route.Component?I=z.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=f,z.createElement(rL,{match:h,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?z.createElement(nL,{location:n.location,revalidation:n.revalidation,component:S,error:g,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}var pC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pC||{}),mC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mC||{});function sL(t){let e=z.useContext(by);return e||Cr(!1),e}function oL(t){let e=z.useContext(uC);return e||Cr(!1),e}function aL(t){let e=z.useContext(Vl);return e||Cr(!1),e}function gC(t){let e=aL(),n=e.matches[e.matches.length-1];return n.route.id||Cr(!1),n.route.id}function lL(){var t;let e=z.useContext(dC),n=oL(),r=gC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cL(){let{router:t}=sL(pC.UseNavigateStable),e=gC(mC.UseNavigateStable),n=z.useRef(!1);return fC(()=>{n.current=!0}),z.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,im({fromRouteId:e},s)))},[t,e])}const x_={};function uL(t,e,n){x_[t]||(x_[t]=!0)}function dL(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function yC(t){let{to:e,replace:n,state:r,relative:i}=t;zh()||Cr(!1);let{future:s,static:o}=z.useContext(Vc),{matches:a}=z.useContext(Vl),{pathname:c}=Bl(),d=Za(),f=hx(e,fx(a,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(f);return z.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:i}),[d,h,i,n,r]),null}function vC(t){return Q6(t.context)}function $n(t){Cr(!1)}function fL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bu.Pop,navigator:s,static:o=!1,future:a}=t;zh()&&Cr(!1);let c=e.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:s,static:o,future:im({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=Uh(r));let{pathname:f="/",search:h="",hash:m="",state:g=null,key:b="default"}=r,S=z.useMemo(()=>{let T=Ih(f,c);return T==null?null:{location:{pathname:T,search:h,hash:m,state:g,key:b},navigationType:i}},[c,f,h,m,g,b,i]);return S==null?null:z.createElement(Vc.Provider,{value:d},z.createElement(_y.Provider,{children:n,value:S}))}function hL(t){let{children:e,location:n}=t;return J6(j2(e),n)}new Promise(()=>{});function j2(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let s=[...e,i];if(r.type===z.Fragment){n.push.apply(n,j2(r.props.children,s));return}r.type!==$n&&Cr(!1),!r.props.index||!r.props.children||Cr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=j2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function wC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mL(t,e){return t.button===0&&(!e||e==="_self")&&!pL(t)}const gL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yL=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],vL="6";try{window.__reactRouterVersion=vL}catch{}const wL=z.createContext({isTransitioning:!1}),xL="startTransition",b_=iC[xL];function bL(t){let{basename:e,children:n,future:r,window:i}=t,s=z.useRef();s.current==null&&(s.current=S6({window:i,v5Compat:!0}));let o=s.current,[a,c]=z.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=z.useCallback(h=>{d&&b_?b_(()=>c(h)):c(h)},[c,d]);return z.useLayoutEffect(()=>o.listen(f),[o,f]),z.useEffect(()=>dL(r),[r]),z.createElement(fL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const _L=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Er=z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:d,preventScrollReset:f,viewTransition:h}=e,m=wC(e,gL),{basename:g}=z.useContext(Vc),b,S=!1;if(typeof d=="string"&&SL.test(d)&&(b=d,_L))try{let I=new URL(window.location.href),j=d.startsWith("//")?new URL(I.protocol+d):new URL(d),K=Ih(j.pathname,g);j.origin===I.origin&&K!=null?d=K+j.search+j.hash:S=!0}catch{}let T=K6(d,{relative:i}),E=AL(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:h});function C(I){r&&r(I),I.defaultPrevented||E(I)}return z.createElement("a",C0({},m,{href:b||T,onClick:S||s?r:C,ref:n,target:c}))}),TL=z.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:c,viewTransition:d,children:f}=e,h=wC(e,yL),m=Sy(c,{relative:h.relative}),g=Bl(),b=z.useContext(uC),{navigator:S,basename:T}=z.useContext(Vc),E=b!=null&&CL(m)&&d===!0,C=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,I=g.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(I=I.toLowerCase(),j=j?j.toLowerCase():null,C=C.toLowerCase()),j&&T&&(j=Ih(j,T)||j);const K=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let ae=I===C||!o&&I.startsWith(C)&&I.charAt(K)==="/",F=j!=null&&(j===C||!o&&j.startsWith(C)&&j.charAt(C.length)==="/"),L={isActive:ae,isPending:F,isTransitioning:E},B=ae?r:void 0,$;typeof s=="function"?$=s(L):$=[s,ae?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(L):a;return z.createElement(Er,C0({},h,{"aria-current":B,className:$,ref:n,style:k,to:c,viewTransition:d}),typeof f=="function"?f(L):f)});var D2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(D2||(D2={}));var __;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(__||(__={}));function EL(t){let e=z.useContext(by);return e||Cr(!1),e}function AL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=Za(),d=Bl(),f=Sy(t,{relative:o});return z.useCallback(h=>{if(mL(h,n)){h.preventDefault();let m=r!==void 0?r:A0(d)===A0(f);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[d,c,f,r,i,n,t,s,o,a])}function CL(t,e){e===void 0&&(e={});let n=z.useContext(wL);n==null&&Cr(!1);let{basename:r}=EL(D2.useViewTransitionState),i=Sy(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ih(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ih(n.nextLocation.pathname,r)||n.nextLocation.pathname;return L2(i.pathname,o)!=null||L2(i.pathname,s)!=null}const xC=z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ty=z.createContext({}),Ey=z.createContext(null),Ay=typeof document<"u",px=Ay?z.useLayoutEffect:z.useEffect,bC=z.createContext({strict:!1}),mx=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),PL="framerAppearId",_C="data-"+mx(PL);function kL(t,e,n,r){const{visualElement:i}=z.useContext(Ty),s=z.useContext(bC),o=z.useContext(Ey),a=z.useContext(xC).reducedMotion,c=z.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const d=c.current;z.useInsertionEffect(()=>{d&&d.update(n,o)});const f=z.useRef(!!(n[_C]&&!window.HandoffComplete));return px(()=>{d&&(d.render(),f.current&&d.animationState&&d.animationState.animateChanges())}),z.useEffect(()=>{d&&(d.updateFeatures(),!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),d}function fh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function NL(t,e,n){return z.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fh(n)&&(n.current=r))},[e])}function sm(t){return typeof t=="string"||Array.isArray(t)}function Cy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yx=["initial",...gx];function Py(t){return Cy(t.animate)||yx.some(e=>sm(t[e]))}function SC(t){return!!(Py(t)||t.variants)}function IL(t,e){if(Py(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sm(n)?n:void 0,animate:sm(r)?r:void 0}}return t.inherit!==!1?e:{}}function RL(t){const{initial:e,animate:n}=IL(t,z.useContext(Ty));return z.useMemo(()=>({initial:e,animate:n}),[S_(e),S_(n)])}function S_(t){return Array.isArray(t)?t.join(" "):t}const T_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},om={};for(const t in T_)om[t]={isEnabled:e=>T_[t].some(n=>!!e[n])};function LL(t){for(const e in t)om[e]={...om[e],...t[e]}}const vx=z.createContext({}),TC=z.createContext({}),jL=Symbol.for("motionComponentSymbol");function DL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&LL(t);function s(a,c){let d;const f={...z.useContext(xC),...a,layoutId:OL(a)},{isStatic:h}=f,m=RL(a),g=r(a,h);if(!h&&Ay){m.visualElement=kL(i,g,f,e);const b=z.useContext(TC),S=z.useContext(bC).strict;m.visualElement&&(d=m.visualElement.loadFeatures(f,S,t,b))}return z.createElement(Ty.Provider,{value:m},d&&m.visualElement?z.createElement(d,{visualElement:m.visualElement,...f}):null,n(i,a,NL(g,m.visualElement,c),g,h,m.visualElement))}const o=z.forwardRef(s);return o[jL]=i,o}function OL({layoutId:t}){const e=z.useContext(vx).id;return e&&t!==void 0?e+"-"+t:t}function ML(t){function e(r,i={}){return DL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const FL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wx(t){return typeof t!="string"||t.includes("-")?!1:!!(FL.indexOf(t)>-1||/[A-Z]/.test(t))}const P0={};function VL(t){Object.assign(P0,t)}const Cm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bf=new Set(Cm);function EC(t,{layout:e,layoutId:n}){return bf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!P0[t]||t==="opacity")}const lo=t=>!!(t&&t.getVelocity),BL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UL=Cm.length;function zL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<UL;o++){const a=Cm[o];if(t[a]!==void 0){const c=BL[a]||a;s+=`${c}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const AC=t=>e=>typeof e=="string"&&e.startsWith(t),CC=AC("--"),O2=AC("var(--"),qL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,WL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qu=(t,e,n)=>Math.min(Math.max(n,t),e),_f={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qp={..._f,transform:t=>Qu(0,1,t)},Dg={..._f,default:1},Wp=t=>Math.round(t*1e5)/1e5,ky=/(-)?([\d]*\.?[\d])+/g,PC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,$L=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Pm(t){return typeof t=="string"}const km=t=>({test:e=>Pm(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Lu=km("deg"),kl=km("%"),Ft=km("px"),HL=km("vh"),GL=km("vw"),E_={...kl,parse:t=>kl.parse(t)/100,transform:t=>kl.transform(t*100)},A_={..._f,transform:Math.round},kC={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,size:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,rotate:Lu,rotateX:Lu,rotateY:Lu,rotateZ:Lu,scale:Dg,scaleX:Dg,scaleY:Dg,scaleZ:Dg,skew:Lu,skewX:Lu,skewY:Lu,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:qp,originX:E_,originY:E_,originZ:Ft,zIndex:A_,fillOpacity:qp,strokeOpacity:qp,numOctaves:A_};function xx(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let c=!1,d=!1,f=!0;for(const h in e){const m=e[h];if(CC(h)){s[h]=m;continue}const g=kC[h],b=WL(m,g);if(bf.has(h)){if(c=!0,o[h]=b,!f)continue;m!==(g.default||0)&&(f=!1)}else h.startsWith("origin")?(d=!0,a[h]=b):i[h]=b}if(e.transform||(c||r?i.transform=zL(t.transform,n,f,r):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:g=0}=a;i.transformOrigin=`${h} ${m} ${g}`}}const bx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NC(t,e,n){for(const r in e)!lo(e[r])&&!EC(r,n)&&(t[r]=e[r])}function KL({transformTemplate:t},e,n){return z.useMemo(()=>{const r=bx();return xx(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function YL(t,e,n){const r=t.style||{},i={};return NC(i,r,t),Object.assign(i,KL(t,e,n)),t.transformValues?t.transformValues(i):i}function XL(t,e,n){const r={},i=YL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const QL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function k0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QL.has(t)}let IC=t=>!k0(t);function JL(t){t&&(IC=e=>e.startsWith("on")?!k0(e):t(e))}try{JL(require("@emotion/is-prop-valid").default)}catch{}function ZL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(IC(i)||n===!0&&k0(i)||!e&&!k0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function C_(t,e,n){return typeof t=="string"?t:Ft.transform(e+n*t)}function ej(t,e,n){const r=C_(e,t.x,t.width),i=C_(n,t.y,t.height);return`${r} ${i}`}const tj={offset:"stroke-dashoffset",array:"stroke-dasharray"},nj={offset:"strokeDashoffset",array:"strokeDasharray"};function rj(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?tj:nj;t[s.offset]=Ft.transform(-r);const o=Ft.transform(e),a=Ft.transform(n);t[s.array]=`${o} ${a}`}function _x(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...d},f,h,m){if(xx(t,d,f,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:b,dimensions:S}=t;g.transform&&(S&&(b.transform=g.transform),delete g.transform),S&&(i!==void 0||s!==void 0||b.transform)&&(b.transformOrigin=ej(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&rj(g,o,a,c,!1)}const RC=()=>({...bx(),attrs:{}}),Sx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ij(t,e,n,r){const i=z.useMemo(()=>{const s=RC();return _x(s,e,{enableHardwareAcceleration:!1},Sx(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};NC(s,t.style,t),i.style={...s,...i.style}}return i}function sj(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(wx(n)?ij:XL)(r,s,o,n),f={...ZL(r,typeof n=="string",t),...c,ref:i},{children:h}=r,m=z.useMemo(()=>lo(h)?h.get():h,[h]);return z.createElement(n,{...f,children:m})}}function LC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const jC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DC(t,e,n,r){LC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(jC.has(i)?i:mx(i),e.attrs[i])}function Tx(t,e){const{style:n}=t,r={};for(const i in n)(lo(n[i])||e.style&&lo(e.style[i])||EC(i,t))&&(r[i]=n[i]);return r}function OC(t,e){const n=Tx(t,e);for(const r in t)if(lo(t[r])||lo(e[r])){const i=Cm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Ex(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function MC(t){const e=z.useRef(null);return e.current===null&&(e.current=t()),e.current}const N0=t=>Array.isArray(t),oj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),aj=t=>N0(t)?t[t.length-1]||0:t;function o0(t){const e=lo(t)?t.get():t;return oj(e)?e.toValue():e}function lj({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:cj(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const FC=t=>(e,n)=>{const r=z.useContext(Ty),i=z.useContext(Ey),s=()=>lj(t,e,r,i);return n?s():MC(s)};function cj(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=o0(s[m]);let{initial:o,animate:a}=t;const c=Py(t),d=SC(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?a:o;return h&&typeof h!="boolean"&&!Cy(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const b=Ex(t,g);if(!b)return;const{transitionEnd:S,transition:T,...E}=b;for(const C in E){let I=E[C];if(Array.isArray(I)){const j=f?I.length-1:0;I=I[j]}I!==null&&(i[C]=I)}for(const C in S)i[C]=S[C]}),i}const Gr=t=>t;class P_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function uj(t){let e=new P_,n=new P_,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(c,d=!1,f=!1)=>{const h=f&&i,m=h?e:n;return d&&o.add(c),m.add(c)&&h&&i&&(r=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const f=e.order[d];f(c),o.has(f)&&(a.schedule(f),t())}i=!1,s&&(s=!1,a.process(c))}};return a}const Og=["prepare","read","update","preRender","render","postRender"],dj=40;function fj(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Og.reduce((h,m)=>(h[m]=uj(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,dj),1),i.timestamp=h,i.isProcessing=!0,Og.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},c=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Og.reduce((h,m)=>{const g=s[m];return h[m]=(b,S=!1,T=!1)=>(n||c(),g.schedule(b,S,T)),h},{}),cancel:h=>Og.forEach(m=>s[m].cancel(h)),state:i,steps:s}}const{schedule:rr,cancel:kc,state:cs,steps:v1}=fj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gr,!0),hj={useVisualState:FC({scrapeMotionValuesFromProps:OC,createRenderState:RC,onMount:(t,e,{renderState:n,latestValues:r})=>{rr.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),rr.render(()=>{_x(n,r,{enableHardwareAcceleration:!1},Sx(e.tagName),t.transformTemplate),DC(e,n)})}})},pj={useVisualState:FC({scrapeMotionValuesFromProps:Tx,createRenderState:bx})};function mj(t,{forwardMotionProps:e=!1},n,r){return{...wx(t)?hj:pj,preloadedFeatures:n,useRender:sj(e),createVisualElement:r,Component:t}}function wc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const VC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ny(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const gj=t=>e=>VC(e)&&t(e,Ny(e));function Tc(t,e,n,r){return wc(t,e,gj(n),r)}const yj=(t,e)=>n=>e(t(n)),Hu=(...t)=>t.reduce(yj);function BC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const k_=BC("dragHorizontal"),N_=BC("dragVertical");function UC(t){let e=!1;if(t==="y")e=N_();else if(t==="x")e=k_();else{const n=k_(),r=N_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function zC(){const t=UC(!0);return t?(t(),!1):!0}class ud{constructor(e){this.isMounted=!1,this.node=e}update(){}}function I_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||zC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&rr.update(()=>a[r](s,o))};return Tc(t.current,n,i,{passive:!t.getProps()[r]})}class vj extends ud{mount(){this.unmount=Hu(I_(this.node,!0),I_(this.node,!1))}unmount(){}}class wj extends ud{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(wc(this.node.current,"focus",()=>this.onFocus()),wc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qC=(t,e)=>e?t===e?!0:qC(t,e.parentElement):!1;function w1(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Ny(n))}class xj extends ud{constructor(){super(...arguments),this.removeStartListeners=Gr,this.removeEndListeners=Gr,this.removeAccessibleListeners=Gr,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Tc(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:f,globalTapTarget:h}=this.node.getProps();rr.update(()=>{!h&&!qC(this.node.current,a.target)?f&&f(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Tc(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Hu(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||w1("up",(c,d)=>{const{onTap:f}=this.node.getProps();f&&rr.update(()=>f(c,d))})};this.removeEndListeners(),this.removeEndListeners=wc(this.node.current,"keyup",o),w1("down",(a,c)=>{this.startPress(a,c)})},n=wc(this.node.current,"keydown",e),r=()=>{this.isPressing&&w1("cancel",(s,o)=>this.cancelPress(s,o))},i=wc(this.node.current,"blur",r);this.removeAccessibleListeners=Hu(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&rr.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&rr.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Tc(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=wc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Hu(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const M2=new WeakMap,x1=new WeakMap,bj=t=>{const e=M2.get(t.target);e&&e(t)},_j=t=>{t.forEach(bj)};function Sj({root:t,...e}){const n=t||document;x1.has(n)||x1.set(n,{});const r=x1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(_j,{root:t,...e})),r[i]}function Tj(t,e,n){const r=Sj(e);return M2.set(t,n),r.observe(t),()=>{M2.delete(t),r.unobserve(t)}}const Ej={some:0,all:1};class Aj extends ud{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ej[i]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),m=d?f:h;m&&m(c)};return Tj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Cj(e,n))&&this.startObserver()}unmount(){}}function Cj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Pj={inView:{Feature:Aj},tap:{Feature:xj},focus:{Feature:wj},hover:{Feature:vj}};function WC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function kj(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Nj(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Iy(t,e,n){const r=t.getProps();return Ex(r,e,n!==void 0?n:r.custom,kj(t),Nj(t))}let Ax=Gr;const Qd=t=>t*1e3,Ec=t=>t/1e3,Ij={current:!1},$C=t=>Array.isArray(t)&&typeof t[0]=="number";function HC(t){return!!(!t||typeof t=="string"&&GC[t]||$C(t)||Array.isArray(t)&&t.every(HC))}const Dp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,GC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dp([0,.65,.55,1]),circOut:Dp([.55,0,1,.45]),backIn:Dp([.31,.01,.66,-.59]),backOut:Dp([.33,1.53,.69,.99])};function KC(t){if(t)return $C(t)?Dp(t):Array.isArray(t)?t.map(KC):GC[t]}function Rj(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:c}={}){const d={[e]:n};c&&(d.offset=c);const f=KC(a);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Lj(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const YC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jj=1e-7,Dj=12;function Oj(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=YC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>jj&&++a<Dj);return o}function Nm(t,e,n,r){if(t===e&&n===r)return Gr;const i=s=>Oj(s,0,1,t,n);return s=>s===0||s===1?s:YC(i(s),e,r)}const Mj=Nm(.42,0,1,1),Fj=Nm(0,0,.58,1),XC=Nm(.42,0,.58,1),Vj=t=>Array.isArray(t)&&typeof t[0]!="number",QC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JC=t=>e=>1-t(1-e),Cx=t=>1-Math.sin(Math.acos(t)),ZC=JC(Cx),Bj=QC(Cx),e4=Nm(.33,1.53,.69,.99),Px=JC(e4),Uj=QC(Px),zj=t=>(t*=2)<1?.5*Px(t):.5*(2-Math.pow(2,-10*(t-1))),qj={linear:Gr,easeIn:Mj,easeInOut:XC,easeOut:Fj,circIn:Cx,circInOut:Bj,circOut:ZC,backIn:Px,backInOut:Uj,backOut:e4,anticipate:zj},R_=t=>{if(Array.isArray(t)){Ax(t.length===4);const[e,n,r,i]=t;return Nm(e,n,r,i)}else if(typeof t=="string")return qj[t];return t},kx=(t,e)=>n=>!!(Pm(n)&&$L.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),t4=(t,e,n)=>r=>{if(!Pm(r))return r;const[i,s,o,a]=r.match(ky);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Wj=t=>Qu(0,255,t),b1={..._f,transform:t=>Math.round(Wj(t))},$d={test:kx("rgb","red"),parse:t4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+b1.transform(t)+", "+b1.transform(e)+", "+b1.transform(n)+", "+Wp(qp.transform(r))+")"};function $j(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const F2={test:kx("#"),parse:$j,transform:$d.transform},hh={test:kx("hsl","hue"),parse:t4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+kl.transform(Wp(e))+", "+kl.transform(Wp(n))+", "+Wp(qp.transform(r))+")"},Is={test:t=>$d.test(t)||F2.test(t)||hh.test(t),parse:t=>$d.test(t)?$d.parse(t):hh.test(t)?hh.parse(t):F2.parse(t),transform:t=>Pm(t)?t:t.hasOwnProperty("red")?$d.transform(t):hh.transform(t)},Ar=(t,e,n)=>-n*t+n*e+t;function _1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Hj({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=_1(c,a,t+1/3),s=_1(c,a,t),o=_1(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const S1=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Gj=[F2,$d,hh],Kj=t=>Gj.find(e=>e.test(t));function L_(t){const e=Kj(t);let n=e.parse(t);return e===hh&&(n=Hj(n)),n}const n4=(t,e)=>{const n=L_(t),r=L_(e),i={...n};return s=>(i.red=S1(n.red,r.red,s),i.green=S1(n.green,r.green,s),i.blue=S1(n.blue,r.blue,s),i.alpha=Ar(n.alpha,r.alpha,s),$d.transform(i))};function Yj(t){var e,n;return isNaN(t)&&Pm(t)&&(((e=t.match(ky))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PC))===null||n===void 0?void 0:n.length)||0)>0}const r4={regex:qL,countKey:"Vars",token:"${v}",parse:Gr},i4={regex:PC,countKey:"Colors",token:"${c}",parse:Is.parse},s4={regex:ky,countKey:"Numbers",token:"${n}",parse:_f.parse};function T1(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function I0(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&T1(n,r4),T1(n,i4),T1(n,s4),n}function o4(t){return I0(t).values}function a4(t){const{values:e,numColors:n,numVars:r,tokenised:i}=I0(t),s=e.length;return o=>{let a=i;for(let c=0;c<s;c++)c<r?a=a.replace(r4.token,o[c]):c<r+n?a=a.replace(i4.token,Is.transform(o[c])):a=a.replace(s4.token,Wp(o[c]));return a}}const Xj=t=>typeof t=="number"?0:t;function Qj(t){const e=o4(t);return a4(t)(e.map(Xj))}const Ju={test:Yj,parse:o4,createTransformer:a4,getAnimatableNone:Qj},l4=(t,e)=>n=>`${n>0?e:t}`;function c4(t,e){return typeof t=="number"?n=>Ar(t,e,n):Is.test(t)?n4(t,e):t.startsWith("var(")?l4(t,e):d4(t,e)}const u4=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>c4(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Jj=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=c4(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},d4=(t,e)=>{const n=Ju.createTransformer(e),r=I0(t),i=I0(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Hu(u4(r.values,i.values),n):l4(t,e)},am=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},j_=(t,e)=>n=>Ar(t,e,n);function Zj(t){return typeof t=="number"?j_:typeof t=="string"?Is.test(t)?n4:d4:Array.isArray(t)?u4:typeof t=="object"?Jj:j_}function eD(t,e,n){const r=[],i=n||Zj(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Gr:e;a=Hu(c,a)}r.push(a)}return r}function f4(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Ax(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=eD(e,r,i),a=o.length,c=d=>{let f=0;if(a>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=am(t[f],t[f+1],d);return o[f](h)};return n?d=>c(Qu(t[0],t[s-1],d)):c}function tD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=am(0,e,r);t.push(Ar(n,1,i))}}function nD(t){const e=[0];return tD(e,t.length-1),e}function rD(t,e){return t.map(n=>n*e)}function iD(t,e){return t.map(()=>e||XC).splice(0,t.length-1)}function R0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Vj(r)?r.map(R_):R_(r),s={done:!1,value:e[0]},o=rD(n&&n.length===e.length?n:nD(e),t),a=f4(o,e,{ease:Array.isArray(i)?i:iD(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}function h4(t,e){return e?t*(1e3/e):0}const sD=5;function p4(t,e,n){const r=Math.max(e-sD,0);return h4(n-t(r),e-r)}const E1=.001,oD=.01,aD=10,lD=.05,cD=1;function uD({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Qu(lD,cD,o),t=Qu(oD,aD,Ec(t)),o<1?(i=d=>{const f=d*o,h=f*t,m=f-n,g=V2(d,o),b=Math.exp(-h);return E1-m/g*b},s=d=>{const h=d*o*t,m=h*n+n,g=Math.pow(o,2)*Math.pow(d,2)*t,b=Math.exp(-h),S=V2(Math.pow(d,2),o);return(-i(d)+E1>0?-1:1)*((m-g)*b)/S}):(i=d=>{const f=Math.exp(-d*t),h=(d-n)*t+1;return-E1+f*h},s=d=>{const f=Math.exp(-d*t),h=(n-d)*(t*t);return f*h});const a=5/t,c=fD(i,s,a);if(t=Qd(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const dD=12;function fD(t,e,n){let r=n;for(let i=1;i<dD;i++)r=r-t(r)/e(r);return r}function V2(t,e){return t*Math.sqrt(1-e*e)}const hD=["duration","bounce"],pD=["stiffness","damping","mass"];function D_(t,e){return e.some(n=>t[n]!==void 0)}function mD(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!D_(t,pD)&&D_(t,hD)){const n=uD(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function m4({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=mD({...r,velocity:-Ec(r.velocity||0)}),g=h||0,b=c/(2*Math.sqrt(a*d)),S=s-i,T=Ec(Math.sqrt(a/d)),E=Math.abs(S)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let C;if(b<1){const I=V2(T,b);C=j=>{const K=Math.exp(-b*T*j);return s-K*((g+b*T*S)/I*Math.sin(I*j)+S*Math.cos(I*j))}}else if(b===1)C=I=>s-Math.exp(-T*I)*(S+(g+T*S)*I);else{const I=T*Math.sqrt(b*b-1);C=j=>{const K=Math.exp(-b*T*j),ae=Math.min(I*j,300);return s-K*((g+b*T*S)*Math.sinh(ae)+I*S*Math.cosh(ae))/I}}return{calculatedDuration:m&&f||null,next:I=>{const j=C(I);if(m)o.done=I>=f;else{let K=g;I!==0&&(b<1?K=p4(C,I,j):K=0);const ae=Math.abs(K)<=n,F=Math.abs(s-j)<=e;o.done=ae&&F}return o.value=o.done?s:j,o}}}function O_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:f}){const h=t[0],m={done:!1,value:h},g=L=>a!==void 0&&L<a||c!==void 0&&L>c,b=L=>a===void 0?c:c===void 0||Math.abs(a-L)<Math.abs(c-L)?a:c;let S=n*e;const T=h+S,E=o===void 0?T:o(T);E!==T&&(S=E-h);const C=L=>-S*Math.exp(-L/r),I=L=>E+C(L),j=L=>{const B=C(L),$=I(L);m.done=Math.abs(B)<=d,m.value=m.done?E:$};let K,ae;const F=L=>{g(m.value)&&(K=L,ae=m4({keyframes:[m.value,b(m.value)],velocity:p4(I,L,m.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return F(0),{calculatedDuration:null,next:L=>{let B=!1;return!ae&&K===void 0&&(B=!0,j(L),F(L)),K!==void 0&&L>K?ae.next(L-K):(!B&&j(L),m)}}}const gD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>rr.update(e,!0),stop:()=>kc(e),now:()=>cs.isProcessing?cs.timestamp:performance.now()}},M_=2e4;function F_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<M_;)e+=n,r=t.next(e);return e>=M_?1/0:e}const yD={decay:O_,inertia:O_,tween:R0,keyframes:R0,spring:m4};function L0({autoplay:t=!0,delay:e=0,driver:n=gD,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:d,onComplete:f,onUpdate:h,...m}){let g=1,b=!1,S,T;const E=()=>{T=new Promise(W=>{S=W})};E();let C;const I=yD[i]||R0;let j;I!==R0&&typeof r[0]!="number"&&(j=f4([0,100],r,{clamp:!1}),r=[0,100]);const K=I({...m,keyframes:r});let ae;a==="mirror"&&(ae=I({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let F="idle",L=null,B=null,$=null;K.calculatedDuration===null&&s&&(K.calculatedDuration=F_(K));const{calculatedDuration:k}=K;let D=1/0,q=1/0;k!==null&&(D=k+o,q=D*(s+1)-o);let se=0;const we=W=>{if(B===null)return;g>0&&(B=Math.min(B,W)),g<0&&(B=Math.min(W-q/g,B)),L!==null?se=L:se=Math.round(W-B)*g;const V=se-e*(g>=0?1:-1),X=g>=0?V<0:V>q;se=Math.max(V,0),F==="finished"&&L===null&&(se=q);let le=se,de=K;if(s){const ge=Math.min(se,q)/D;let Re=Math.floor(ge),De=ge%1;!De&&ge>=1&&(De=1),De===1&&Re--,Re=Math.min(Re,s+1),!!(Re%2)&&(a==="reverse"?(De=1-De,o&&(De-=o/D)):a==="mirror"&&(de=ae)),le=Qu(0,1,De)*D}const oe=X?{done:!1,value:r[0]}:de.next(le);j&&(oe.value=j(oe.value));let{done:he}=oe;!X&&k!==null&&(he=g>=0?se>=q:se<=0);const ie=L===null&&(F==="finished"||F==="running"&&he);return h&&h(oe.value),ie&&ce(),oe},fe=()=>{C&&C.stop(),C=void 0},ve=()=>{F="idle",fe(),S(),E(),B=$=null},ce=()=>{F="finished",f&&f(),fe(),S()},ne=()=>{if(b)return;C||(C=n(we));const W=C.now();c&&c(),L!==null?B=W-L:(!B||F==="finished")&&(B=W),F==="finished"&&E(),$=B,L=null,F="running",C.start()};t&&ne();const Y={then(W,V){return T.then(W,V)},get time(){return Ec(se)},set time(W){W=Qd(W),se=W,L!==null||!C||g===0?L=W:B=C.now()-W/g},get duration(){const W=K.calculatedDuration===null?F_(K):K.calculatedDuration;return Ec(W)},get speed(){return g},set speed(W){W===g||!C||(g=W,Y.time=Ec(se))},get state(){return F},play:ne,pause:()=>{F="paused",L=se},stop:()=>{b=!0,F!=="idle"&&(F="idle",d&&d(),ve())},cancel:()=>{$!==null&&we($),ve()},complete:()=>{F="finished"},sample:W=>(B=0,we(W))};return Y}function vD(t){let e;return()=>(e===void 0&&(e=t()),e)}const wD=vD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xD=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Mg=10,bD=2e4,_D=(t,e)=>e.type==="spring"||t==="backgroundColor"||!HC(e.ease);function SD(t,e,{onUpdate:n,onComplete:r,...i}){if(!(wD()&&xD.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,c,d=!1;const f=()=>{c=new Promise(I=>{a=I})};f();let{keyframes:h,duration:m=300,ease:g,times:b}=i;if(_D(e,i)){const I=L0({...i,repeat:0,delay:0});let j={done:!1,value:h[0]};const K=[];let ae=0;for(;!j.done&&ae<bD;)j=I.sample(ae),K.push(j.value),ae+=Mg;b=void 0,h=K,m=ae-Mg,g="linear"}const S=Rj(t.owner.current,e,h,{...i,duration:m,ease:g,times:b}),T=()=>{d=!1,S.cancel()},E=()=>{d=!0,rr.update(T),a(),f()};return S.onfinish=()=>{d||(t.set(Lj(h,i)),r&&r(),E())},{then(I,j){return c.then(I,j)},attachTimeline(I){return S.timeline=I,S.onfinish=null,Gr},get time(){return Ec(S.currentTime||0)},set time(I){S.currentTime=Qd(I)},get speed(){return S.playbackRate},set speed(I){S.playbackRate=I},get duration(){return Ec(m)},play:()=>{o||(S.play(),kc(T))},pause:()=>S.pause(),stop:()=>{if(o=!0,S.playState==="idle")return;const{currentTime:I}=S;if(I){const j=L0({...i,autoplay:!1});t.setWithVelocity(j.sample(I-Mg).value,j.sample(I).value,Mg)}E()},complete:()=>{d||S.finish()},cancel:E}}function TD({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Gr,pause:Gr,stop:Gr,then:s=>(s(),Promise.resolve()),cancel:Gr,complete:Gr});return e?L0({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const ED={type:"spring",stiffness:500,damping:25,restSpeed:10},AD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CD={type:"keyframes",duration:.8},PD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kD=(t,{keyframes:e})=>e.length>2?CD:bf.has(t)?t.startsWith("scale")?AD(e[1]):ED:PD,B2=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ju.test(e)||e==="0")&&!e.startsWith("url(")),ND=new Set(["brightness","contrast","saturate","opacity"]);function ID(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ky)||[];if(!r)return t;const i=n.replace(r,"");let s=ND.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const RD=/([a-z-]*)\(.*?\)/g,U2={...Ju,getAnimatableNone:t=>{const e=t.match(RD);return e?e.map(ID).join(" "):t}},LD={...kC,color:Is,backgroundColor:Is,outlineColor:Is,fill:Is,stroke:Is,borderColor:Is,borderTopColor:Is,borderRightColor:Is,borderBottomColor:Is,borderLeftColor:Is,filter:U2,WebkitFilter:U2},Nx=t=>LD[t];function g4(t,e){let n=Nx(t);return n!==U2&&(n=Ju),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const y4=t=>/^0[^.\s]+$/.test(t);function jD(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||y4(t)}function DD(t,e,n,r){const i=B2(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const c=[];for(let d=0;d<s.length;d++)s[d]===null&&(s[d]=d===0?o:s[d-1]),jD(s[d])&&c.push(d),typeof s[d]=="string"&&s[d]!=="none"&&s[d]!=="0"&&(a=s[d]);if(i&&c.length&&a)for(let d=0;d<c.length;d++){const f=c[d];s[f]=g4(e,a)}return s}function OD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:d,...f}){return!!Object.keys(f).length}function Ix(t,e){return t[e]||t.default||t}const MD={skipAnimations:!1},Rx=(t,e,n,r={})=>i=>{const s=Ix(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Qd(o);const c=DD(e,t,n,s),d=c[0],f=c[c.length-1],h=B2(t,d),m=B2(t,f);let g={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:b=>{e.set(b),s.onUpdate&&s.onUpdate(b)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(OD(s)||(g={...g,...kD(t,g)}),g.duration&&(g.duration=Qd(g.duration)),g.repeatDelay&&(g.repeatDelay=Qd(g.repeatDelay)),!h||!m||Ij.current||s.type===!1||MD.skipAnimations)return TD(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=SD(e,t,g);if(b)return b}return L0(g)};function j0(t){return!!(lo(t)&&t.add)}const v4=t=>/^\-?\d*\.?\d+$/.test(t);function Lx(t,e){t.indexOf(e)===-1&&t.push(e)}function jx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Dx{constructor(){this.subscriptions=[]}add(e){return Lx(this.subscriptions,e),()=>jx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const FD=t=>!isNaN(parseFloat(t));class VD{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=cs;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,rr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>rr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=FD(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dx);const r=this.events[e].add(n);return e==="change"?()=>{r(),rr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?h4(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rh(t,e){return new VD(t,e)}const w4=t=>e=>e.test(t),BD={test:t=>t==="auto",parse:t=>t},x4=[_f,Ft,kl,Lu,GL,HL,BD],vp=t=>x4.find(w4(t)),UD=[...x4,Is,Ju],zD=t=>UD.find(w4(t));function qD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Rh(n))}function WD(t,e){const n=Iy(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=aj(s[o]);qD(t,o,a)}}function $D(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const c=s[a],d=e[c];let f=null;Array.isArray(d)&&(f=d[0]),f===null&&(f=(i=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&i!==void 0?i:e[c]),f!=null&&(typeof f=="string"&&(v4(f)||y4(f))?f=parseFloat(f):!zD(f)&&Ju.test(d)&&(f=g4(c,d)),t.addValue(c,Rh(f,{owner:t})),n[c]===void 0&&(n[c]=f),f!==null&&t.setBaseTarget(c,f))}}function HD(t,e){return e?(e[t]||e.default||e).from:void 0}function GD(t,e,n){const r={};for(const i in t){const s=HD(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function KD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function YD(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function b4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(s=r);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const m=t.getValue(h),g=a[h];if(!m||g===void 0||f&&KD(f,h))continue;const b={delay:n,elapsed:0,...Ix(s||{},h)};if(window.HandoffAppearAnimations){const E=t.getProps()[_C];if(E){const C=window.HandoffAppearAnimations(E,h,m,rr);C!==null&&(b.elapsed=C,b.isHandoff=!0)}}let S=!b.isHandoff&&!YD(m,g);if(b.type==="spring"&&(m.getVelocity()||b.velocity)&&(S=!1),m.animation&&(S=!1),S)continue;m.start(Rx(h,m,g,t.shouldReduceMotion&&bf.has(h)?{type:!1}:b));const T=m.animation;j0(c)&&(c.add(h),T.then(()=>c.remove(h))),d.push(T)}return o&&Promise.all(d).then(()=>{o&&WD(t,o)}),d}function z2(t,e,n={}){const r=Iy(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(b4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return XD(t,e,d+c,f,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function XD(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(t.variantChildren).sort(QD).forEach((d,f)=>{d.notify("AnimationStart",e),o.push(z2(d,e,{...s,delay:n+c(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function QD(t,e){return t.sortNodePosition(e)}function JD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>z2(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=z2(t,e,n);else{const i=typeof e=="function"?Iy(t,e,n.custom):e;r=Promise.all(b4(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const ZD=[...gx].reverse(),eO=gx.length;function tO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JD(t,n,r)))}function nO(t){let e=tO(t);const n=iO();let r=!0;const i=(c,d)=>{const f=Iy(t,d);if(f){const{transition:h,transitionEnd:m,...g}=f;c={...c,...g,...m}}return c};function s(c){e=c(t)}function o(c,d){const f=t.getProps(),h=t.getVariantContext(!0)||{},m=[],g=new Set;let b={},S=1/0;for(let E=0;E<eO;E++){const C=ZD[E],I=n[C],j=f[C]!==void 0?f[C]:h[C],K=sm(j),ae=C===d?I.isActive:null;ae===!1&&(S=E);let F=j===h[C]&&j!==f[C]&&K;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),I.protectedKeys={...b},!I.isActive&&ae===null||!j&&!I.prevProp||Cy(j)||typeof j=="boolean")continue;let B=rO(I.prevProp,j)||C===d&&I.isActive&&!F&&K||E>S&&K,$=!1;const k=Array.isArray(j)?j:[j];let D=k.reduce(i,{});ae===!1&&(D={});const{prevResolvedValues:q={}}=I,se={...q,...D},we=fe=>{B=!0,g.has(fe)&&($=!0,g.delete(fe)),I.needsAnimating[fe]=!0};for(const fe in se){const ve=D[fe],ce=q[fe];if(b.hasOwnProperty(fe))continue;let ne=!1;N0(ve)&&N0(ce)?ne=!WC(ve,ce):ne=ve!==ce,ne?ve!==void 0?we(fe):g.add(fe):ve!==void 0&&g.has(fe)?we(fe):I.protectedKeys[fe]=!0}I.prevProp=j,I.prevResolvedValues=D,I.isActive&&(b={...b,...D}),r&&t.blockInitialAnimation&&(B=!1),B&&(!F||$)&&m.push(...k.map(fe=>({animation:fe,options:{type:C,...c}})))}if(g.size){const E={};g.forEach(C=>{const I=t.getBaseTarget(C);I!==void 0&&(E[C]=I)}),m.push({animation:E})}let T=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(m):Promise.resolve()}function a(c,d,f){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(g=>{var b;return(b=g.animationState)===null||b===void 0?void 0:b.setActive(c,d)}),n[c].isActive=d;const m=o(f,c);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function rO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!WC(e,t):!1}function Dd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iO(){return{animate:Dd(!0),whileInView:Dd(),whileHover:Dd(),whileTap:Dd(),whileDrag:Dd(),whileFocus:Dd(),exit:Dd()}}class sO extends ud{constructor(e){super(e),e.animationState||(e.animationState=nO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Cy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let oO=0;class aO extends ud{constructor(){super(...arguments),this.id=oO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lO={animation:{Feature:sO},exit:{Feature:aO}},V_=(t,e)=>Math.abs(t-e);function cO(t,e){const n=V_(t.x,e.x),r=V_(t.y,e.y);return Math.sqrt(n**2+r**2)}class _4{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=C1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=cO(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:b}=h,{timestamp:S}=cs;this.history.push({...b,timestamp:S});const{onStart:T,onMove:E}=this.handlers;m||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=A1(m,this.transformPagePoint),rr.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=C1(h.type==="pointercancel"?this.lastMoveEventInfo:A1(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,T),b&&b(h,T)},!VC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Ny(e),a=A1(o,this.transformPagePoint),{point:c}=a,{timestamp:d}=cs;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,C1(a,this.history)),this.removeListeners=Hu(Tc(this.contextWindow,"pointermove",this.handlePointerMove),Tc(this.contextWindow,"pointerup",this.handlePointerUp),Tc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),kc(this.updatePoint)}}function A1(t,e){return e?{point:e(t.point)}:t}function B_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function C1({point:t},e){return{point:t,delta:B_(t,S4(e)),offset:B_(t,uO(e)),velocity:dO(e,.1)}}function uO(t){return t[0]}function S4(t){return t[t.length-1]}function dO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=S4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Qd(e)));)n--;if(!r)return{x:0,y:0};const s=Ec(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Oo(t){return t.max-t.min}function q2(t,e=0,n=.01){return Math.abs(t-e)<=n}function U_(t,e,n,r=.5){t.origin=r,t.originPoint=Ar(e.min,e.max,t.origin),t.scale=Oo(n)/Oo(e),(q2(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ar(n.min,n.max,t.origin)-t.originPoint,(q2(t.translate)||isNaN(t.translate))&&(t.translate=0)}function $p(t,e,n,r){U_(t.x,e.x,n.x,r?r.originX:void 0),U_(t.y,e.y,n.y,r?r.originY:void 0)}function z_(t,e,n){t.min=n.min+e.min,t.max=t.min+Oo(e)}function fO(t,e,n){z_(t.x,e.x,n.x),z_(t.y,e.y,n.y)}function q_(t,e,n){t.min=e.min-n.min,t.max=t.min+Oo(e)}function Hp(t,e,n){q_(t.x,e.x,n.x),q_(t.y,e.y,n.y)}function hO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ar(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ar(n,t,r.max):Math.min(t,n)),t}function W_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function pO(t,{top:e,left:n,bottom:r,right:i}){return{x:W_(t.x,n,i),y:W_(t.y,e,r)}}function $_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function mO(t,e){return{x:$_(t.x,e.x),y:$_(t.y,e.y)}}function gO(t,e){let n=.5;const r=Oo(t),i=Oo(e);return i>r?n=am(e.min,e.max-r,t.min):r>i&&(n=am(t.min,t.max-i,e.min)),Qu(0,1,n)}function yO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const W2=.35;function vO(t=W2){return t===!1?t=0:t===!0&&(t=W2),{x:H_(t,"left","right"),y:H_(t,"top","bottom")}}function H_(t,e,n){return{min:G_(t,e),max:G_(t,n)}}function G_(t,e){return typeof t=="number"?t:t[e]||0}const K_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ph=()=>({x:K_(),y:K_()}),Y_=()=>({min:0,max:0}),Zr=()=>({x:Y_(),y:Y_()});function ua(t){return[t("x"),t("y")]}function T4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function xO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function P1(t){return t===void 0||t===1}function $2({scale:t,scaleX:e,scaleY:n}){return!P1(t)||!P1(e)||!P1(n)}function Od(t){return $2(t)||E4(t)||t.z||t.rotate||t.rotateX||t.rotateY}function E4(t){return X_(t.x)||X_(t.y)}function X_(t){return t&&t!=="0%"}function D0(t,e,n){const r=t-n,i=e*r;return n+i}function Q_(t,e,n,r,i){return i!==void 0&&(t=D0(t,i,r)),D0(t,n,r)+e}function H2(t,e=0,n=1,r,i){t.min=Q_(t.min,e,n,r,i),t.max=Q_(t.max,e,n,r,i)}function A4(t,{x:e,y:n}){H2(t.x,e.translate,e.scale,e.originPoint),H2(t.y,n.translate,n.scale,n.originPoint)}function bO(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,A4(t,o)),r&&Od(s.latestValues)&&mh(t,s.latestValues))}e.x=J_(e.x),e.y=J_(e.y)}function J_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ju(t,e){t.min=t.min+e,t.max=t.max+e}function Z_(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ar(t.min,t.max,s);H2(t,e[n],e[r],o,e.scale)}const _O=["x","scaleX","originX"],SO=["y","scaleY","originY"];function mh(t,e){Z_(t.x,e,_O),Z_(t.y,e,SO)}function C4(t,e){return T4(xO(t.getBoundingClientRect(),e))}function TO(t,e,n){const r=C4(t,n),{scroll:i}=e;return i&&(ju(r.x,i.offset.x),ju(r.y,i.offset.y)),r}const P4=({current:t})=>t?t.ownerDocument.defaultView:null,EO=new WeakMap;class AO{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ny(f,"page").point)},s=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:b}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=UC(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ua(T=>{let E=this.getAxisMotionValue(T).get()||0;if(kl.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const I=C.layout.layoutBox[T];I&&(E=Oo(I)*(parseFloat(E)/100))}}this.originPoint[T]=E}),b&&rr.update(()=>b(f,h),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:b,onDrag:S}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:T}=h;if(g&&this.currentDirection===null){this.currentDirection=CO(T),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),S&&S(f,h)},a=(f,h)=>this.stop(f,h),c=()=>ua(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _4(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:P4(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&rr.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Fg(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=hO(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&fh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=pO(i.layoutBox,n):this.constraints=!1,this.elastic=vO(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ua(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=yO(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=TO(r,i.root,this.visualElement.getTransformPagePoint());let o=mO(i.layout.layoutBox,s);if(n){const a=n(wO(o));this.hasMutatedConstraints=!!a,a&&(o=T4(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=ua(f=>{if(!Fg(f,n,this.currentDirection))return;let h=c&&c[f]||{};o&&(h={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Rx(e,r,0,n))}stopAnimation(){ua(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ua(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ua(n=>{const{drag:r}=this.getProps();if(!Fg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ar(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ua(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();i[o]=gO({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ua(o=>{if(!Fg(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(Ar(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;EO.set(this.visualElement,this);const e=this.visualElement.current,n=Tc(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();fh(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=wc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ua(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=W2,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Fg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function CO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class PO extends ud{constructor(e){super(e),this.removeGroupControls=Gr,this.removeListeners=Gr,this.controls=new AO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const eS=t=>(e,n)=>{t&&rr.update(()=>t(e,n))};class kO extends ud{constructor(){super(...arguments),this.removePointerDownListener=Gr}onPointerDown(e){this.session=new _4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:P4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:eS(e),onStart:eS(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&rr.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Tc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function NO(){const t=z.useContext(Ey);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=z.useId();return z.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const a0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ft.test(t))t=parseFloat(t);else return t;const n=tS(t,e.target.x),r=tS(t,e.target.y);return`${n}% ${r}%`}},IO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ju.parse(t);if(i.length>5)return r;const s=Ju.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const d=Ar(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class RO extends rt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;VL(LO),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),a0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||rr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k4(t){const[e,n]=NO(),r=z.useContext(vx);return rt.createElement(RO,{...t,layoutGroup:r,switchLayoutGroup:z.useContext(TC),isPresent:e,safeToRemove:n})}const LO={borderRadius:{...wp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wp,borderTopRightRadius:wp,borderBottomLeftRadius:wp,borderBottomRightRadius:wp,boxShadow:IO},N4=["TopLeft","TopRight","BottomLeft","BottomRight"],jO=N4.length,nS=t=>typeof t=="string"?parseFloat(t):t,rS=t=>typeof t=="number"||Ft.test(t);function DO(t,e,n,r,i,s){i?(t.opacity=Ar(0,n.opacity!==void 0?n.opacity:1,OO(r)),t.opacityExit=Ar(e.opacity!==void 0?e.opacity:1,0,MO(r))):s&&(t.opacity=Ar(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<jO;o++){const a=`border${N4[o]}Radius`;let c=iS(e,a),d=iS(n,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||rS(c)===rS(d)?(t[a]=Math.max(Ar(nS(c),nS(d),r),0),(kl.test(d)||kl.test(c))&&(t[a]+="%")):t[a]=d}(e.rotate||n.rotate)&&(t.rotate=Ar(e.rotate||0,n.rotate||0,r))}function iS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OO=I4(0,.5,ZC),MO=I4(.5,.95,Gr);function I4(t,e,n){return r=>r<t?0:r>e?1:n(am(t,e,r))}function sS(t,e){t.min=e.min,t.max=e.max}function ca(t,e){sS(t.x,e.x),sS(t.y,e.y)}function oS(t,e,n,r,i){return t-=e,t=D0(t,1/n,r),i!==void 0&&(t=D0(t,1/i,r)),t}function FO(t,e=0,n=1,r=.5,i,s=t,o=t){if(kl.test(e)&&(e=parseFloat(e),e=Ar(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ar(s.min,s.max,r);t===s&&(a-=e),t.min=oS(t.min,e,n,a,i),t.max=oS(t.max,e,n,a,i)}function aS(t,e,[n,r,i],s,o){FO(t,e[n],e[r],e[i],e.scale,s,o)}const VO=["x","scaleX","originX"],BO=["y","scaleY","originY"];function lS(t,e,n,r){aS(t.x,e,VO,n?n.x:void 0,r?r.x:void 0),aS(t.y,e,BO,n?n.y:void 0,r?r.y:void 0)}function cS(t){return t.translate===0&&t.scale===1}function R4(t){return cS(t.x)&&cS(t.y)}function UO(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function L4(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function uS(t){return Oo(t.x)/Oo(t.y)}class zO{constructor(){this.members=[]}add(e){Lx(this.members,e),e.scheduleRender()}remove(e){if(jx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dS(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:f}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const qO=(t,e)=>t.depth-e.depth;class WO{constructor(){this.children=[],this.isDirty=!1}add(e){Lx(this.children,e),this.isDirty=!0}remove(e){jx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qO),this.isDirty=!1,this.children.forEach(e)}}function $O(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(kc(r),t(s-e))};return rr.read(r,!0),()=>kc(r)}function HO(t){window.MotionDebug&&window.MotionDebug.record(t)}function GO(t){return t instanceof SVGElement&&t.tagName!=="svg"}function KO(t,e,n){const r=lo(t)?t:Rh(t);return r.start(Rx("",r,e,n)),r.animation}const fS=["","X","Y","Z"],YO={visibility:"hidden"},hS=1e3;let XO=0;const Md={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function j4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=XO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Md.totalNodes=Md.resolvedTargetDeltas=Md.recalculatedProjection=0,this.nodes.forEach(ZO),this.nodes.forEach(iM),this.nodes.forEach(sM),this.nodes.forEach(eM),HO(Md)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new WO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Dx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GO(o),this.instance=o;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=$O(m,250),a0.hasAnimatedSinceResize&&(a0.hasAnimatedSinceResize=!1,this.nodes.forEach(mS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||uM,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=f.getProps(),C=!this.targetLayout||!L4(this.targetLayout,b)||g,I=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,I);const j={...Ix(S,"layout"),onPlay:T,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||mS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pS);return}this.isUpdating||this.nodes.forEach(nM),this.isUpdating=!1,this.nodes.forEach(rM),this.nodes.forEach(QO),this.nodes.forEach(JO),this.clearAllSnapshots();const a=performance.now();cs.delta=Qu(0,1e3/60,a-cs.timestamp),cs.timestamp=a,cs.isProcessing=!0,v1.update.process(cs),v1.preRender.process(cs),v1.render.process(cs),cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(tM),this.sharedNodes.forEach(aM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!R4(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(a||Od(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),dM(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Zr();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(ju(a.x,c.offset.x),ju(a.y,c.offset.y)),a}removeElementScroll(o){const a=Zr();ca(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;if(d!==this.root&&f&&h.layoutScroll){if(f.isRoot){ca(a,o);const{scroll:m}=this.root;m&&(ju(a.x,-m.offset.x),ju(a.y,-m.offset.y))}ju(a.x,f.offset.x),ju(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const c=Zr();ca(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&mh(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Od(f.latestValues)&&mh(c,f.latestValues)}return Od(this.latestValues)&&mh(c,this.latestValues),c}removeTransform(o){const a=Zr();ca(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Od(d.latestValues))continue;$2(d.latestValues)&&d.updateSnapshot();const f=Zr(),h=d.measurePageBox();ca(f,h),lS(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Od(this.latestValues)&&lS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=cs.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),Hp(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Zr(),this.targetWithTransforms=Zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ca(this.target,this.layout.layoutBox),A4(this.target,this.targetDelta)):ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),Hp(this.relativeTargetOrigin,this.target,g.target),ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Md.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$2(this.parent.latestValues)||E4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===cs.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ca(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;bO(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:b}=a;if(!b){this.projectionTransform&&(this.projectionDelta=ph(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ph(),this.projectionDeltaWithTransform=ph());const S=this.projectionTransform;$p(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=dS(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Md.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},h=ph();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Zr(),g=c?c.source:void 0,b=this.layout?this.layout.source:void 0,S=g!==b,T=this.getStack(),E=!T||T.members.length<=1,C=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(cM));this.animationProgress=0;let I;this.mixTargetDelta=j=>{const K=j/1e3;gS(h.x,o.x,K),gS(h.y,o.y,K),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hp(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lM(this.relativeTarget,this.relativeTargetOrigin,m,K),I&&UO(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Zr()),ca(I,this.relativeTarget)),S&&(this.animationValues=f,DO(f,d,this.latestValues,K,C,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rr.update(()=>{a0.hasAnimatedSinceResize=!0,this.currentAnimation=KO(0,hS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:f}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&D4(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Zr();const h=Oo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=Oo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ca(a,c),mh(a,f),$p(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zO),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const d={};for(let f=0;f<fS.length;f++){const h="rotate"+fS[f];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const f in d)o.setStaticValue(f,d[f]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YO;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=o0(o?.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=o0(o?.pointerEvents)||""),this.hasProjected&&!Od(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=dS(this.projectionDeltaWithTransform,this.treeScale,m),f&&(d.transform=f(m,d.transform));const{x:g,y:b}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in P0){if(m[S]===void 0)continue;const{correct:T,applyTo:E}=P0[S],C=d.transform==="none"?m[S]:T(m[S],h);if(E){const I=E.length;for(let j=0;j<I;j++)d[E[j]]=C}else d[S]=C}return this.options.layoutId&&(d.pointerEvents=h===this?o0(o?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(pS),this.root.sharedNodes.clear()}}}function QO(t){t.updateLayout()}function JO(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ua(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],g=Oo(m);m.min=r[h].min,m.max=m.min+g}):D4(s,n.layoutBox,r)&&ua(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],g=Oo(r[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=ph();$p(a,r,n.layoutBox);const c=ph();o?$p(c,t.applyTransform(i,!0),n.measuredBox):$p(c,r,n.layoutBox);const d=!R4(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const b=Zr();Hp(b,n.layoutBox,m.layoutBox);const S=Zr();Hp(S,r,g.layoutBox),L4(b,S)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ZO(t){Md.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tM(t){t.clearSnapshot()}function pS(t){t.clearMeasurements()}function nM(t){t.isLayoutDirty=!1}function rM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iM(t){t.resolveTargetDelta()}function sM(t){t.calcProjection()}function oM(t){t.resetRotation()}function aM(t){t.removeLeadSnapshot()}function gS(t,e,n){t.translate=Ar(e.translate,0,n),t.scale=Ar(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yS(t,e,n,r){t.min=Ar(e.min,n.min,r),t.max=Ar(e.max,n.max,r)}function lM(t,e,n,r){yS(t.x,e.x,n.x,r),yS(t.y,e.y,n.y,r)}function cM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uM={duration:.45,ease:[.4,0,.1,1]},vS=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),wS=vS("applewebkit/")&&!vS("chrome/")?Math.round:Gr;function xS(t){t.min=wS(t.min),t.max=wS(t.max)}function dM(t){xS(t.x),xS(t.y)}function D4(t,e,n){return t==="position"||t==="preserve-aspect"&&!q2(uS(e),uS(n),.2)}const fM=j4({attachResizeListener:(t,e)=>wc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),k1={current:void 0},O4=j4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!k1.current){const t=new fM({});t.mount(window),t.setOptions({layoutScroll:!0}),k1.current=t}return k1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hM={pan:{Feature:kO},drag:{Feature:PO,ProjectionNode:O4,MeasureLayout:k4}},pM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function mM(t){const e=pM.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function G2(t,e,n=1){const[r,i]=mM(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return v4(o)?parseFloat(o):o}else return O2(i)?G2(i,e,n+1):i}function gM(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!O2(s))return;const o=G2(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!O2(s))continue;const o=G2(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const yM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),M4=t=>yM.has(t),vM=t=>Object.keys(t).some(M4),bS=t=>t===_f||t===Ft,_S=(t,e)=>parseFloat(t.split(", ")[e]),SS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return _S(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?_S(s[1],t):0}},wM=new Set(["x","y","z"]),xM=Cm.filter(t=>!wM.has(t));function bM(t){const e=[];return xM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Lh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:SS(4,13),y:SS(5,14)};Lh.translateX=Lh.x;Lh.translateY=Lh.y;const _M=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{a[d]=Lh[d](r,s)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const f=e.getValue(d);f&&f.jump(a[d]),t[d]=Lh[d](c,s)}),t},SM=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(M4);let s=[],o=!1;const a=[];if(i.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let f=n[c],h=vp(f);const m=e[c];let g;if(N0(m)){const b=m.length,S=m[0]===null?1:0;f=m[S],h=vp(f);for(let T=S;T<b&&m[T]!==null;T++)g?Ax(vp(m[T])===g):g=vp(m[T])}else g=vp(m);if(h!==g)if(bS(h)&&bS(g)){const b=d.get();typeof b=="string"&&d.set(parseFloat(b)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&g===Ft&&(e[c]=m.map(parseFloat))}else h?.transform&&g?.transform&&(f===0||m===0)?f===0?d.set(g.transform(f)):e[c]=h.transform(m):(o||(s=bM(t),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:e[c],d.jump(m))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,d=_M(e,t,a);return s.length&&s.forEach(([f,h])=>{t.getValue(f).set(h)}),t.render(),Ay&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function TM(t,e,n,r){return vM(e)?SM(t,e,n,r):{target:e,transitionEnd:r}}const EM=(t,e,n,r)=>{const i=gM(t,e,r);return e=i.target,r=i.transitionEnd,TM(t,e,n,r)},K2={current:null},F4={current:!1};function AM(){if(F4.current=!0,!!Ay)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>K2.current=t.matches;t.addListener(e),e()}else K2.current=!1}function CM(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(lo(s))t.addValue(i,s),j0(r)&&r.add(i);else if(lo(o))t.addValue(i,Rh(s,{owner:t})),j0(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Rh(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const TS=new WeakMap,V4=Object.keys(om),PM=V4.length,ES=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kM=yx.length;class NM{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>rr.render(this.render,!1,!0);const{latestValues:a,renderState:c}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Py(n),this.isVariantNode=SC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{});for(const h in f){const m=f[h];a[h]!==void 0&&lo(m)&&(m.set(a[h],!1),j0(d)&&d.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,TS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),F4.current||AM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:K2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TS.delete(this.current),this.projection&&this.projection.unmount(),kc(this.notifyUpdate),kc(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=bf.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&rr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let c=0;c<PM;c++){const d=V4[c],{isEnabled:f,Feature:h,ProjectionNode:m,MeasureLayout:g}=om[d];m&&(o=m),f(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:f,dragConstraints:h,layoutScroll:m,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!f||h&&fh(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ES.length;r++){const i=ES[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=CM(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<kM;r++){const i=yx[r],s=this.props[i];(sm(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Rh(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Ex(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!lo(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class B4 extends NM{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=GD(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){$D(this,r,o);const a=EM(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function IM(t){return window.getComputedStyle(t)}class RM extends B4{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(bf.has(n)){const r=Nx(n);return r&&r.default||0}else{const r=IM(e),i=(CC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return C4(e,n)}build(e,n,r,i){xx(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Tx(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lo(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){LC(e,n,r,i)}}class LM extends B4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bf.has(n)){const r=Nx(n);return r&&r.default||0}return n=jC.has(n)?n:mx(n),e.getAttribute(n)}measureInstanceViewportBox(){return Zr()}scrapeMotionValuesFromProps(e,n){return OC(e,n)}build(e,n,r,i){_x(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){DC(e,n,r,i)}mount(e){this.isSVGTag=Sx(e.tagName),super.mount(e)}}const jM=(t,e)=>wx(t)?new LM(e,{enableHardwareAcceleration:!1}):new RM(e,{enableHardwareAcceleration:!0}),DM={layout:{ProjectionNode:O4,MeasureLayout:k4}},OM={...lO,...Pj,...hM,...DM},Yt=ML((t,e)=>mj(t,e,OM,jM));function U4(){const t=z.useRef(!1);return px(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function MM(){const t=U4(),[e,n]=z.useState(0),r=z.useCallback(()=>{t.current&&n(e+1)},[e]);return[z.useCallback(()=>rr.postRender(r),[r]),e]}class FM extends z.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function VM({children:t,isPresent:e}){const n=z.useId(),r=z.useRef(null),i=z.useRef({width:0,height:0,top:0,left:0});return z.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),z.createElement(FM,{isPresent:e,childRef:r,sizeRef:i},z.cloneElement(t,{ref:r}))}const N1=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=MC(BM),c=z.useId(),d=z.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:f=>{a.set(f,!0);for(const h of a.values())if(!h)return;r&&r()},register:f=>(a.set(f,!1),()=>a.delete(f))}),s?void 0:[n]);return z.useMemo(()=>{a.forEach((f,h)=>a.set(h,!1))},[n]),z.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=z.createElement(VM,{isPresent:n},t)),z.createElement(Ey.Provider,{value:d},t)};function BM(){return new Map}function UM(t){return z.useEffect(()=>()=>t(),[])}const Fd=t=>t.key||"";function zM(t,e){t.forEach(n=>{const r=Fd(n);e.set(r,n)})}function qM(t){const e=[];return z.Children.forEach(t,n=>{z.isValidElement(n)&&e.push(n)}),e}const Zu=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=z.useContext(vx).forceRender||MM()[0],c=U4(),d=qM(t);let f=d;const h=z.useRef(new Map).current,m=z.useRef(f),g=z.useRef(new Map).current,b=z.useRef(!0);if(px(()=>{b.current=!1,zM(d,g),m.current=f}),UM(()=>{b.current=!0,g.clear(),h.clear()}),b.current)return z.createElement(z.Fragment,null,f.map(C=>z.createElement(N1,{key:Fd(C),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},C)));f=[...f];const S=m.current.map(Fd),T=d.map(Fd),E=S.length;for(let C=0;C<E;C++){const I=S[C];T.indexOf(I)===-1&&!h.has(I)&&h.set(I,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((C,I)=>{if(T.indexOf(I)!==-1)return;const j=g.get(I);if(!j)return;const K=S.indexOf(I);let ae=C;if(!ae){const F=()=>{h.delete(I);const L=Array.from(g.keys()).filter(B=>!T.includes(B));if(L.forEach(B=>g.delete(B)),m.current=d.filter(B=>{const $=Fd(B);return $===I||L.includes($)}),!h.size){if(c.current===!1)return;a(),r&&r()}};ae=z.createElement(N1,{key:Fd(j),isPresent:!1,onExitComplete:F,custom:e,presenceAffectsLayout:s,mode:o},j),h.set(I,ae)}f.splice(K,0,ae)}),f=f.map(C=>{const I=C.key;return h.has(I)?C:z.createElement(N1,{key:Fd(C),isPresent:!0,presenceAffectsLayout:s,mode:o},C)}),z.createElement(z.Fragment,null,h.size?f:f.map(C=>z.cloneElement(C)))};var WM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $M=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zt=(t,e)=>{const n=z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...c},d)=>z.createElement("svg",{ref:d,...WM,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${$M(t)}`,...c},[...e.map(([f,h])=>z.createElement(f,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},HM=Zt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),z4=Zt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),GM=Zt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),KM=Zt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),YM=Zt("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),q4=Zt("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),XM=Zt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ox=Zt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),QM=Zt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),JM=Zt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ZM=Zt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),e8=Zt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),t8=Zt("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]),qh=Zt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),n8=Zt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),r8=Zt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),i8=Zt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),s8=Zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),o8=Zt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),a8=Zt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),W4=Zt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),l8=Zt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),c8=Zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),u8=Zt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),d8=Zt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),f8=Zt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),AS=Zt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),$4=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),CS=Zt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),h8=Zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),p8=Zt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),m8=Zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),PS=Zt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),fa=Zt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),lm=Zt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),g8=Zt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Im=Zt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),H4=Zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),y8=Zt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),v8=Zt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Ry=Zt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Mx=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),w8=Zt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function G4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=G4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ac(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=G4(t))&&(r&&(r+=" "),r+=e);return r}function x8(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=K4(e))&&(r&&(r+=" "),r+=n);return r}function K4(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=K4(t[r]))&&(n&&(n+=" "),n+=e);return n}var Fx="-";function b8(t){var e=S8(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var c=a.split(Fx);return c[0]===""&&c.length!==1&&c.shift(),Y4(c,e)||_8(a)}function o(a,c){var d=n[a]||[];return c&&i[a]?[].concat(d,i[a]):d}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function Y4(t,e){if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?Y4(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(Fx);return e.validators.find(function(o){var a=o.validator;return a(s)})?.classGroupId}}var kS=/^\[(.+)\]$/;function _8(t){if(kS.test(t)){var e=kS.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function S8(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=E8(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];Y2(a,r,o,e)}),r}function Y2(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:NS(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(T8(i)){Y2(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],c=o[1];Y2(c,NS(e,a),n,r)})})}function NS(t,e){var n=t;return e.split(Fx).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function T8(t){return t.isThemeGetter}function E8(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],d=a[1];return[e+c,d]})):o});return[r,s]}):t}function A8(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var X4="!";function C8(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],c=0,d=0,f,h=0;h<o.length;h++){var m=o[h];if(c===0){if(m===r&&(n||o.slice(h,h+i)===e)){a.push(o.slice(d,h)),d=h+i;continue}if(m==="/"){f=h;continue}}m==="["?c++:m==="]"&&c--}var g=a.length===0?o:o.substring(d),b=g.startsWith(X4),S=b?g.substring(1):g,T=f&&f>d?f-d:void 0;return{modifiers:a,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:T}}}function P8(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function k8(t){return{cache:A8(t.cacheSize),splitModifiers:C8(t),...b8(t)}}var N8=/\s+/;function I8(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(N8).map(function(o){var a=n(o),c=a.modifiers,d=a.hasImportantModifier,f=a.baseClassName,h=a.maybePostfixModifierPosition,m=r(h?f.substring(0,h):f),g=!!h;if(!m){if(!h)return{isTailwindClass:!1,originalClassName:o};if(m=r(f),!m)return{isTailwindClass:!1,originalClassName:o};g=!1}var b=P8(c).join(":"),S=d?b+X4:b;return{isTailwindClass:!0,modifierId:S,classGroupId:m,originalClassName:o,hasPostfixModifier:g}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,f=a+c;return s.has(f)?!1:(s.add(f),i(c,d).forEach(function(h){return s.add(a+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function R8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(d){var f=e[0],h=e.slice(1),m=h.reduce(function(g,b){return b(g)},f());return r=k8(m),i=r.cache.get,s=r.cache.set,o=c,c(d)}function c(d){var f=i(d);if(f)return f;var h=I8(d,r);return s(d,h),h}return function(){return o(x8.apply(null,arguments))}}function cr(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var Q4=/^\[(?:([a-z-]+):)?(.+)\]$/i,L8=/^\d+\/\d+$/,j8=new Set(["px","full","screen"]),D8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M8=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function za(t){return Hd(t)||j8.has(t)||L8.test(t)||X2(t)}function X2(t){return Sf(t,"length",q8)}function F8(t){return Sf(t,"size",J4)}function V8(t){return Sf(t,"position",J4)}function B8(t){return Sf(t,"url",W8)}function Vg(t){return Sf(t,"number",Hd)}function Hd(t){return!Number.isNaN(Number(t))}function U8(t){return t.endsWith("%")&&Hd(t.slice(0,-1))}function xp(t){return IS(t)||Sf(t,"number",IS)}function dn(t){return Q4.test(t)}function bp(){return!0}function Au(t){return D8.test(t)}function z8(t){return Sf(t,"",$8)}function Sf(t,e,n){var r=Q4.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function q8(t){return O8.test(t)}function J4(){return!1}function W8(t){return t.startsWith("url(")}function IS(t){return Number.isInteger(Number(t))}function $8(t){return M8.test(t)}function H8(){var t=cr("colors"),e=cr("spacing"),n=cr("blur"),r=cr("brightness"),i=cr("borderColor"),s=cr("borderRadius"),o=cr("borderSpacing"),a=cr("borderWidth"),c=cr("contrast"),d=cr("grayscale"),f=cr("hueRotate"),h=cr("invert"),m=cr("gap"),g=cr("gradientColorStops"),b=cr("gradientColorStopPositions"),S=cr("inset"),T=cr("margin"),E=cr("opacity"),C=cr("padding"),I=cr("saturate"),j=cr("scale"),K=cr("sepia"),ae=cr("skew"),F=cr("space"),L=cr("translate"),B=function(){return["auto","contain","none"]},$=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",dn,e]},D=function(){return[dn,e]},q=function(){return["",za]},se=function(){return["auto",Hd,dn]},we=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},fe=function(){return["solid","dashed","dotted","double","none"]},ve=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},ce=function(){return["start","end","center","between","around","evenly","stretch"]},ne=function(){return["","0",dn]},Y=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},W=function(){return[Hd,Vg]},V=function(){return[Hd,dn]};return{cacheSize:500,theme:{colors:[bp],spacing:[za],blur:["none","",Au,dn],brightness:W(),borderColor:[t],borderRadius:["none","","full",Au,dn],borderSpacing:D(),borderWidth:q(),contrast:W(),grayscale:ne(),hueRotate:V(),invert:ne(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[U8,X2],inset:k(),margin:k(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:ne(),skew:V(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",dn]}],container:["container"],columns:[{columns:[Au]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(we(),[dn])}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xp]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",dn]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",xp]}],"grid-cols":[{"grid-cols":[bp]}],"col-start-end":[{col:["auto",{span:["full",xp]},dn]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[bp]}],"row-start-end":[{row:["auto",{span:[xp]},dn]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",dn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",dn]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(ce())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(ce(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(ce(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",dn,e]}],"min-w":[{"min-w":["min","max","fit",dn,za]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Au]},Au,dn]}],h:[{h:[dn,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",dn,za]}],"max-h":[{"max-h":[dn,e,"min","max","fit"]}],"font-size":[{text:["base",Au,X2]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vg]}],"font-family":[{font:[bp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",dn]}],"line-clamp":[{"line-clamp":["none",Hd,Vg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dn,za]}],"list-image":[{"list-image":["none",dn]}],"list-style-type":[{list:["none","disc","decimal",dn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(fe(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",za]}],"underline-offset":[{"underline-offset":["auto",dn,za]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",dn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",dn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(we(),[V8])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",F8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},B8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[].concat(fe(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:fe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(fe())}],"outline-offset":[{"outline-offset":[dn,za]}],"outline-w":[{outline:[za]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[za]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Au,z8]}],"shadow-color":[{shadow:[bp]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":ve()}],"bg-blend":[{"bg-blend":ve()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Au,dn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[I]}],sepia:[{sepia:[K]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[K]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",dn]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",dn]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",dn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[xp,dn]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[ae]}],"skew-y":[{"skew-y":[ae]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",dn]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",dn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",dn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[za,Vg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var G8=R8(H8),Vx={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var Y=new OffscreenCanvas(1,1),W=Y.getContext("2d");W.fillRect(0,0,1,1);var V=Y.transferToImageBitmap();try{W.createPattern(V,"no-repeat")}catch{return!1}return!0}();function c(){}function d(Y){var W=n.exports.Promise,V=W!==void 0?W:e.Promise;return typeof V=="function"?new V(Y):(Y(c,c),null)}var f=function(Y,W){return{transform:function(V){if(Y)return V;if(W.has(V))return W.get(V);var X=new OffscreenCanvas(V.width,V.height),le=X.getContext("2d");return le.drawImage(V,0,0),W.set(V,X),X},clear:function(){W.clear()}}}(a,new Map),h=function(){var Y=Math.floor(16.666666666666668),W,V,X={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(W=function(de){var oe=Math.random();return X[oe]=requestAnimationFrame(function he(ie){le===ie||le+Y-1<ie?(le=ie,delete X[oe],de()):X[oe]=requestAnimationFrame(he)}),oe},V=function(de){X[de]&&cancelAnimationFrame(X[de])}):(W=function(de){return setTimeout(de,Y)},V=function(de){return clearTimeout(de)}),{frame:W,cancel:V}}(),m=function(){var Y,W,V={};function X(le){function de(oe,he){le.postMessage({options:oe||{},callback:he})}le.init=function(he){var ie=he.transferControlToOffscreen();le.postMessage({canvas:ie},[ie])},le.fire=function(he,ie,ge){if(W)return de(he,null),W;var Re=Math.random().toString(36).slice(2);return W=d(function(De){function $e(Ye){Ye.data.callback===Re&&(delete V[Re],le.removeEventListener("message",$e),W=null,f.clear(),ge(),De())}le.addEventListener("message",$e),de(he,Re),V[Re]=$e.bind(null,{data:{callback:Re}})}),W},le.reset=function(){le.postMessage({reset:!0});for(var he in V)V[he](),delete V[he]}}return function(){if(Y)return Y;if(!r&&s){var le=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Y=new Worker(URL.createObjectURL(new Blob([le])))}catch(de){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",de),null}X(Y)}return Y}}(),g={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(Y,W){return W?W(Y):Y}function S(Y){return Y!=null}function T(Y,W,V){return b(Y&&S(Y[W])?Y[W]:g[W],V)}function E(Y){return Y<0?0:Math.floor(Y)}function C(Y,W){return Math.floor(Math.random()*(W-Y))+Y}function I(Y){return parseInt(Y,16)}function j(Y){return Y.map(K)}function K(Y){var W=String(Y).replace(/[^0-9a-f]/gi,"");return W.length<6&&(W=W[0]+W[0]+W[1]+W[1]+W[2]+W[2]),{r:I(W.substring(0,2)),g:I(W.substring(2,4)),b:I(W.substring(4,6))}}function ae(Y){var W=T(Y,"origin",Object);return W.x=T(W,"x",Number),W.y=T(W,"y",Number),W}function F(Y){Y.width=document.documentElement.clientWidth,Y.height=document.documentElement.clientHeight}function L(Y){var W=Y.getBoundingClientRect();Y.width=W.width,Y.height=W.height}function B(Y){var W=document.createElement("canvas");return W.style.position="fixed",W.style.top="0px",W.style.left="0px",W.style.pointerEvents="none",W.style.zIndex=Y,W}function $(Y,W,V,X,le,de,oe,he,ie){Y.save(),Y.translate(W,V),Y.rotate(de),Y.scale(X,le),Y.arc(0,0,1,oe,he,ie),Y.restore()}function k(Y){var W=Y.angle*(Math.PI/180),V=Y.spread*(Math.PI/180);return{x:Y.x,y:Y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Y.startVelocity*.5+Math.random()*Y.startVelocity,angle2D:-W+(.5*V-Math.random()*V),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Y.color,shape:Y.shape,tick:0,totalTicks:Y.ticks,decay:Y.decay,drift:Y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Y.gravity*3,ovalScalar:.6,scalar:Y.scalar,flat:Y.flat}}function D(Y,W){W.x+=Math.cos(W.angle2D)*W.velocity+W.drift,W.y+=Math.sin(W.angle2D)*W.velocity+W.gravity,W.velocity*=W.decay,W.flat?(W.wobble=0,W.wobbleX=W.x+10*W.scalar,W.wobbleY=W.y+10*W.scalar,W.tiltSin=0,W.tiltCos=0,W.random=1):(W.wobble+=W.wobbleSpeed,W.wobbleX=W.x+10*W.scalar*Math.cos(W.wobble),W.wobbleY=W.y+10*W.scalar*Math.sin(W.wobble),W.tiltAngle+=.1,W.tiltSin=Math.sin(W.tiltAngle),W.tiltCos=Math.cos(W.tiltAngle),W.random=Math.random()+2);var V=W.tick++/W.totalTicks,X=W.x+W.random*W.tiltCos,le=W.y+W.random*W.tiltSin,de=W.wobbleX+W.random*W.tiltCos,oe=W.wobbleY+W.random*W.tiltSin;if(Y.fillStyle="rgba("+W.color.r+", "+W.color.g+", "+W.color.b+", "+(1-V)+")",Y.beginPath(),o&&W.shape.type==="path"&&typeof W.shape.path=="string"&&Array.isArray(W.shape.matrix))Y.fill(ve(W.shape.path,W.shape.matrix,W.x,W.y,Math.abs(de-X)*.1,Math.abs(oe-le)*.1,Math.PI/10*W.wobble));else if(W.shape.type==="bitmap"){var he=Math.PI/10*W.wobble,ie=Math.abs(de-X)*.1,ge=Math.abs(oe-le)*.1,Re=W.shape.bitmap.width*W.scalar,De=W.shape.bitmap.height*W.scalar,$e=new DOMMatrix([Math.cos(he)*ie,Math.sin(he)*ie,-Math.sin(he)*ge,Math.cos(he)*ge,W.x,W.y]);$e.multiplySelf(new DOMMatrix(W.shape.matrix));var Ye=Y.createPattern(f.transform(W.shape.bitmap),"no-repeat");Ye.setTransform($e),Y.globalAlpha=1-V,Y.fillStyle=Ye,Y.fillRect(W.x-Re/2,W.y-De/2,Re,De),Y.globalAlpha=1}else if(W.shape==="circle")Y.ellipse?Y.ellipse(W.x,W.y,Math.abs(de-X)*W.ovalScalar,Math.abs(oe-le)*W.ovalScalar,Math.PI/10*W.wobble,0,2*Math.PI):$(Y,W.x,W.y,Math.abs(de-X)*W.ovalScalar,Math.abs(oe-le)*W.ovalScalar,Math.PI/10*W.wobble,0,2*Math.PI);else if(W.shape==="star")for(var tt=Math.PI/2*3,Oe=4*W.scalar,me=8*W.scalar,_t=W.x,ft=W.y,Ke=5,et=Math.PI/Ke;Ke--;)_t=W.x+Math.cos(tt)*me,ft=W.y+Math.sin(tt)*me,Y.lineTo(_t,ft),tt+=et,_t=W.x+Math.cos(tt)*Oe,ft=W.y+Math.sin(tt)*Oe,Y.lineTo(_t,ft),tt+=et;else Y.moveTo(Math.floor(W.x),Math.floor(W.y)),Y.lineTo(Math.floor(W.wobbleX),Math.floor(le)),Y.lineTo(Math.floor(de),Math.floor(oe)),Y.lineTo(Math.floor(X),Math.floor(W.wobbleY));return Y.closePath(),Y.fill(),W.tick<W.totalTicks}function q(Y,W,V,X,le){var de=W.slice(),oe=Y.getContext("2d"),he,ie,ge=d(function(Re){function De(){he=ie=null,oe.clearRect(0,0,X.width,X.height),f.clear(),le(),Re()}function $e(){r&&!(X.width===i.width&&X.height===i.height)&&(X.width=Y.width=i.width,X.height=Y.height=i.height),!X.width&&!X.height&&(V(Y),X.width=Y.width,X.height=Y.height),oe.clearRect(0,0,X.width,X.height),de=de.filter(function(Ye){return D(oe,Ye)}),de.length?he=h.frame($e):De()}he=h.frame($e),ie=De});return{addFettis:function(Re){return de=de.concat(Re),ge},canvas:Y,promise:ge,reset:function(){he&&h.cancel(he),ie&&ie()}}}function se(Y,W){var V=!Y,X=!!T(W||{},"resize"),le=!1,de=T(W,"disableForReducedMotion",Boolean),oe=s&&!!T(W||{},"useWorker"),he=oe?m():null,ie=V?F:L,ge=Y&&he?!!Y.__confetti_initialized:!1,Re=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,De;function $e(tt,Oe,me){for(var _t=T(tt,"particleCount",E),ft=T(tt,"angle",Number),Ke=T(tt,"spread",Number),et=T(tt,"startVelocity",Number),st=T(tt,"decay",Number),at=T(tt,"gravity",Number),vt=T(tt,"drift",Number),It=T(tt,"colors",j),Ot=T(tt,"ticks",Number),St=T(tt,"shapes"),kt=T(tt,"scalar"),tn=!!T(tt,"flat"),Ct=ae(tt),Mt=_t,ot=[],tr=Y.width*Ct.x,nn=Y.height*Ct.y;Mt--;)ot.push(k({x:tr,y:nn,angle:ft,spread:Ke,startVelocity:et,color:It[Mt%It.length],shape:St[C(0,St.length)],ticks:Ot,decay:st,gravity:at,drift:vt,scalar:kt,flat:tn}));return De?De.addFettis(ot):(De=q(Y,ot,ie,Oe,me),De.promise)}function Ye(tt){var Oe=de||T(tt,"disableForReducedMotion",Boolean),me=T(tt,"zIndex",Number);if(Oe&&Re)return d(function(et){et()});V&&De?Y=De.canvas:V&&!Y&&(Y=B(me),document.body.appendChild(Y)),X&&!ge&&ie(Y);var _t={width:Y.width,height:Y.height};he&&!ge&&he.init(Y),ge=!0,he&&(Y.__confetti_initialized=!0);function ft(){if(he){var et={getBoundingClientRect:function(){if(!V)return Y.getBoundingClientRect()}};ie(et),he.postMessage({resize:{width:et.width,height:et.height}});return}_t.width=_t.height=null}function Ke(){De=null,X&&(le=!1,e.removeEventListener("resize",ft)),V&&Y&&(document.body.contains(Y)&&document.body.removeChild(Y),Y=null,ge=!1)}return X&&!le&&(le=!0,e.addEventListener("resize",ft,!1)),he?he.fire(tt,_t,Ke):$e(tt,_t,Ke)}return Ye.reset=function(){he&&he.reset(),De&&De.reset()},Ye}var we;function fe(){return we||(we=se(null,{useWorker:!0,resize:!0})),we}function ve(Y,W,V,X,le,de,oe){var he=new Path2D(Y),ie=new Path2D;ie.addPath(he,new DOMMatrix(W));var ge=new Path2D;return ge.addPath(ie,new DOMMatrix([Math.cos(oe)*le,Math.sin(oe)*le,-Math.sin(oe)*de,Math.cos(oe)*de,V,X])),ge}function ce(Y){if(!o)throw new Error("path confetti are not supported in this browser");var W,V;typeof Y=="string"?W=Y:(W=Y.path,V=Y.matrix);var X=new Path2D(W),le=document.createElement("canvas"),de=le.getContext("2d");if(!V){for(var oe=1e3,he=oe,ie=oe,ge=0,Re=0,De,$e,Ye=0;Ye<oe;Ye+=2)for(var tt=0;tt<oe;tt+=2)de.isPointInPath(X,Ye,tt,"nonzero")&&(he=Math.min(he,Ye),ie=Math.min(ie,tt),ge=Math.max(ge,Ye),Re=Math.max(Re,tt));De=ge-he,$e=Re-ie;var Oe=10,me=Math.min(Oe/De,Oe/$e);V=[me,0,0,me,-Math.round(De/2+he)*me,-Math.round($e/2+ie)*me]}return{type:"path",path:W,matrix:V}}function ne(Y){var W,V=1,X="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Y=="string"?W=Y:(W=Y.text,V="scalar"in Y?Y.scalar:V,le="fontFamily"in Y?Y.fontFamily:le,X="color"in Y?Y.color:X);var de=10*V,oe=""+de+"px "+le,he=new OffscreenCanvas(de,de),ie=he.getContext("2d");ie.font=oe;var ge=ie.measureText(W),Re=Math.ceil(ge.actualBoundingBoxRight+ge.actualBoundingBoxLeft),De=Math.ceil(ge.actualBoundingBoxAscent+ge.actualBoundingBoxDescent),$e=2,Ye=ge.actualBoundingBoxLeft+$e,tt=ge.actualBoundingBoxAscent+$e;Re+=$e+$e,De+=$e+$e,he=new OffscreenCanvas(Re,De),ie=he.getContext("2d"),ie.font=oe,ie.fillStyle=X,ie.fillText(W,Ye,tt);var Oe=1/V;return{type:"bitmap",bitmap:he.transferToImageBitmap(),matrix:[Oe,0,0,Oe,-Re*Oe/2,-De*Oe/2]}}n.exports=function(){return fe().apply(this,arguments)},n.exports.reset=function(){fe().reset()},n.exports.create=se,n.exports.shapeFromPath=ce,n.exports.shapeFromText=ne})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Vx,!1);const Uu=Vx.exports;Vx.exports.create;function Bc(...t){return G8(Ac(t))}function K8(){Uu({particleCount:80,spread:70,origin:{y:.72},zIndex:9999,angle:90,colors:["#8b5cf6","#6366f1","#f472b6","#34d399","#fbbf24","#fff"]})}function RS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Z4(...t){return e=>{let n=!1;const r=t.map(i=>{const s=RS(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():RS(t[i],null)}}}}function sf(...t){return z.useCallback(Z4(...t),t)}function O0(t){const e=X8(t),n=z.forwardRef((r,i)=>{const{children:s,...o}=r,a=z.Children.toArray(s),c=a.find(J8);if(c){const d=c.props.children,f=a.map(h=>h===c?z.Children.count(d)>1?z.Children.only(null):z.isValidElement(d)?d.props.children:null:h);return v.jsx(e,{...o,ref:i,children:z.isValidElement(d)?z.cloneElement(d,void 0,f):null})}return v.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Y8=O0("Slot");function X8(t){const e=z.forwardRef((n,r)=>{const{children:i,...s}=n;if(z.isValidElement(i)){const o=e7(i),a=Z8(s,i.props);return i.type!==z.Fragment&&(a.ref=r?Z4(r,o):o),z.cloneElement(i,a)}return z.Children.count(i)>1?z.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Q8=Symbol("radix.slottable");function J8(t){return z.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Q8}function Z8(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function e7(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const LS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jS=Ac,Bx=(t,e)=>n=>{var r;if(e?.variants==null)return jS(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=n?.[d],h=s?.[d];if(f===null)return null;const m=LS(f)||LS(h);return i[d][m]}),a=n&&Object.entries(n).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:h,className:m,...g}=f;return Object.entries(g).every(b=>{let[S,T]=b;return Array.isArray(T)?T.includes({...s,...a}[S]):{...s,...a}[S]===T})?[...d,h,m]:d},[]);return jS(t,o,c,n?.class,n?.className)},t7=Bx("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Et=rt.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Y8:"button";return v.jsx(o,{className:Bc(t7({variant:e,size:n,className:t})),ref:s,...i})});Et.displayName="Button";const n7=()=>{};var DS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},r7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|d>>6,g=d&63;c||(g=64,o||(m=64)),r.push(n[f],n[h],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||h==null)throw new i7;const m=s<<2|a>>4;if(r.push(m),d!==64){const g=a<<4&240|d>>2;if(r.push(g),h!==64){const b=d<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s7=function(t){const e=eP(t);return tP.encodeByteArray(e,!0)},M0=function(t){return s7(t).replace(/\./g,"")},nP=function(t){try{return tP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=()=>o7().__FIREBASE_DEFAULTS__,l7=()=>{if(typeof process>"u"||typeof DS>"u")return;const t=DS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nP(t[1]);return e&&JSON.parse(e)},Ly=()=>{try{return n7()||a7()||l7()||c7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rP=t=>Ly()?.emulatorHosts?.[t],iP=t=>{const e=rP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sP=()=>Ly()?.config,oP=t=>Ly()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ux(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[M0(JSON.stringify(n)),M0(JSON.stringify(o)),""].join(".")}const Gp={};function d7(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gp))Gp[e]?t.emulator.push(e):t.prod.push(e);return t}function f7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let OS=!1;function zx(t,e){if(typeof window>"u"||typeof document>"u"||!dd(window.location.host)||Gp[t]===e||Gp[t]||OS)return;Gp[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=d7().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{OS=!0,o()},m}function f(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=f7(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),E=n("preprendIcon"),C=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;a(I),f(T,S);const j=d();c(C,E),I.append(C,b,T,j),document.body.appendChild(I)}s?(b.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ps())}function p7(){const t=Ly()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v7(){const t=ps();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w7(){return!p7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x7(){try{return typeof indexedDB=="object"}catch{return!1}}function b7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7="FirebaseError";class Ul extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_7,Object.setPrototypeOf(this,Ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rm.prototype.create)}}class Rm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?S7(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ul(i,a,r)}}function S7(t,e){return t.replace(T7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const T7=/\{\$([^}]+)}/g;function E7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function of(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(MS(s)&&MS(o)){if(!of(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function MS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Op(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A7(t,e){const n=new C7(t,e);return n.subscribe.bind(n)}class C7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=I1),i.error===void 0&&(i.error=I1),i.complete===void 0&&(i.complete=I1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function I1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t){return t&&t._delegate?t._delegate:t}class ed{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I7(e))try{this.getOrInitializeService({instanceIdentifier:Vd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vd){return this.instances.has(e)}getOptions(e=Vd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vd){return this.component?this.component.multipleInstances?e:Vd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N7(t){return t===Vd?void 0:t}function I7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fn||(fn={}));const L7={debug:fn.DEBUG,verbose:fn.VERBOSE,info:fn.INFO,warn:fn.WARN,error:fn.ERROR,silent:fn.SILENT},j7=fn.INFO,D7={[fn.DEBUG]:"log",[fn.VERBOSE]:"log",[fn.INFO]:"info",[fn.WARN]:"warn",[fn.ERROR]:"error"},O7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=D7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qx{constructor(e){this.name=e,this._logLevel=j7,this._logHandler=O7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fn.DEBUG,...e),this._logHandler(this,fn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fn.VERBOSE,...e),this._logHandler(this,fn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fn.INFO,...e),this._logHandler(this,fn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fn.WARN,...e),this._logHandler(this,fn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fn.ERROR,...e),this._logHandler(this,fn.ERROR,...e)}}const M7=(t,e)=>e.some(n=>t instanceof n);let FS,VS;function F7(){return FS||(FS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V7(){return VS||(VS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lP=new WeakMap,Q2=new WeakMap,cP=new WeakMap,R1=new WeakMap,Wx=new WeakMap;function B7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gu(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lP.set(n,t)}).catch(()=>{}),Wx.set(e,t),e}function U7(t){if(Q2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Q2.set(t,e)}let J2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z7(t){J2=t(J2)}function q7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(L1(this),e,...n);return cP.set(r,e.sort?e.sort():[e]),Gu(r)}:V7().includes(t)?function(...e){return t.apply(L1(this),e),Gu(lP.get(this))}:function(...e){return Gu(t.apply(L1(this),e))}}function W7(t){return typeof t=="function"?q7(t):(t instanceof IDBTransaction&&U7(t),M7(t,F7())?new Proxy(t,J2):t)}function Gu(t){if(t instanceof IDBRequest)return B7(t);if(R1.has(t))return R1.get(t);const e=W7(t);return e!==t&&(R1.set(t,e),Wx.set(e,t)),e}const L1=t=>Wx.get(t);function $7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gu(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Gu(o.result),c.oldVersion,c.newVersion,Gu(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const H7=["get","getKey","getAll","getAllKeys","count"],G7=["put","add","delete","clear"],j1=new Map;function BS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(j1.get(e))return j1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=G7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||H7.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),i&&c.done]))[0]};return j1.set(e,s),s}z7(t=>({...t,get:(e,n,r)=>BS(e,n)||t.get(e,n,r),has:(e,n)=>!!BS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y7(t){return t.getComponent()?.type==="VERSION"}const Z2="@firebase/app",US="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new qx("@firebase/app"),X7="@firebase/app-compat",Q7="@firebase/analytics-compat",J7="@firebase/analytics",Z7="@firebase/app-check-compat",eF="@firebase/app-check",tF="@firebase/auth",nF="@firebase/auth-compat",rF="@firebase/database",iF="@firebase/data-connect",sF="@firebase/database-compat",oF="@firebase/functions",aF="@firebase/functions-compat",lF="@firebase/installations",cF="@firebase/installations-compat",uF="@firebase/messaging",dF="@firebase/messaging-compat",fF="@firebase/performance",hF="@firebase/performance-compat",pF="@firebase/remote-config",mF="@firebase/remote-config-compat",gF="@firebase/storage",yF="@firebase/storage-compat",vF="@firebase/firestore",wF="@firebase/ai",xF="@firebase/firestore-compat",bF="firebase",_F="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="[DEFAULT]",SF={[Z2]:"fire-core",[X7]:"fire-core-compat",[J7]:"fire-analytics",[Q7]:"fire-analytics-compat",[eF]:"fire-app-check",[Z7]:"fire-app-check-compat",[tF]:"fire-auth",[nF]:"fire-auth-compat",[rF]:"fire-rtdb",[iF]:"fire-data-connect",[sF]:"fire-rtdb-compat",[oF]:"fire-fn",[aF]:"fire-fn-compat",[lF]:"fire-iid",[cF]:"fire-iid-compat",[uF]:"fire-fcm",[dF]:"fire-fcm-compat",[fF]:"fire-perf",[hF]:"fire-perf-compat",[pF]:"fire-rc",[mF]:"fire-rc-compat",[gF]:"fire-gcs",[yF]:"fire-gcs-compat",[vF]:"fire-fst",[xF]:"fire-fst-compat",[wF]:"fire-vertex","fire-js":"fire-js",[bF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map,TF=new Map,tw=new Map;function zS(t,e){try{t.container.addComponent(e)}catch(n){Nc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function af(t){const e=t.name;if(tw.has(e))return Nc.debug(`There were multiple attempts to register component ${e}.`),!1;tw.set(e,t);for(const n of F0.values())zS(n,t);for(const n of TF.values())zS(n,t);return!0}function jy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ls(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ku=new Rm("app","Firebase",EF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ed("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ku.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=_F;function uP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ew,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ku.create("bad-app-name",{appName:String(i)});if(n||(n=sP()),!n)throw Ku.create("no-options");const s=F0.get(i);if(s){if(of(n,s.options)&&of(r,s.config))return s;throw Ku.create("duplicate-app",{appName:i})}const o=new R7(i);for(const c of tw.values())o.addComponent(c);const a=new AF(n,r,o);return F0.set(i,a),a}function $x(t=ew){const e=F0.get(t);if(!e&&t===ew&&sP())return uP();if(!e)throw Ku.create("no-app",{appName:t});return e}function Nl(t,e,n){let r=SF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nc.warn(o.join(" "));return}af(new ed(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="firebase-heartbeat-database",PF=1,cm="firebase-heartbeat-store";let D1=null;function dP(){return D1||(D1=$7(CF,PF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ku.create("idb-open",{originalErrorMessage:t.message})})),D1}async function kF(t){try{const n=(await dP()).transaction(cm),r=await n.objectStore(cm).get(fP(t));return await n.done,r}catch(e){if(e instanceof Ul)Nc.warn(e.message);else{const n=Ku.create("idb-get",{originalErrorMessage:e?.message});Nc.warn(n.message)}}}async function qS(t,e){try{const r=(await dP()).transaction(cm,"readwrite");await r.objectStore(cm).put(e,fP(t)),await r.done}catch(n){if(n instanceof Ul)Nc.warn(n.message);else{const r=Ku.create("idb-set",{originalErrorMessage:n?.message});Nc.warn(r.message)}}}function fP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=1024,IF=30;class RF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=WS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>IF){const i=DF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Nc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=WS(),{heartbeatsToSend:n,unsentEntries:r}=LF(this._heartbeatsCache.heartbeats),i=M0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Nc.warn(e),""}}}function WS(){return new Date().toISOString().substring(0,10)}function LF(t,e=NF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$S(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$S(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x7()?b7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $S(t){return M0(JSON.stringify({version:2,heartbeats:t})).length}function DF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){af(new ed("platform-logger",e=>new K7(e),"PRIVATE")),af(new ed("heartbeat",e=>new RF(e),"PRIVATE")),Nl(Z2,US,t),Nl(Z2,US,"esm2020"),Nl("fire-js","")}OF("");var MF="firebase",FF="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nl(MF,FF,"app");function hP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VF=hP,pP=new Rm("auth","Firebase",hP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new qx("@firebase/auth");function BF(t,...e){V0.logLevel<=fn.WARN&&V0.warn(`Auth (${Tf}): ${t}`,...e)}function l0(t,...e){V0.logLevel<=fn.ERROR&&V0.error(`Auth (${Tf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,...e){throw Gx(t,...e)}function Xa(t,...e){return Gx(t,...e)}function Hx(t,e,n){const r={...VF(),[e]:n};return new Rm("auth","Firebase",r).create(e,{appName:t.name})}function Il(t){return Hx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pa(t,"argument-error"),Hx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pP.create(t,...e)}function Bt(t,e,...n){if(!t)throw Gx(e,...n)}function xc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw l0(e),new Error(e)}function Ic(t,e){t||xc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof self<"u"&&self.location?.href||""}function gP(){return HS()==="http:"||HS()==="https:"}function HS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gP()||g7()||"connection"in navigator)?navigator.onLine:!0}function zF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ic(n>e,"Short delay should be less than long delay!"),this.isMobile=h7()||y7()}get(){return UF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e){Ic(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$F=new jm(3e4,6e4);function Uc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zc(t,e,n,r,i={}){return vP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Lm({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return m7()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&dd(t.emulatorConfig.host)&&(d.credentials="include"),yP.fetch()(await wP(t,t.config.apiHost,n,a),d)})}async function vP(t,e,n){t._canInitEmulator=!1;const r={...qF,...e};try{const i=new GF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Bg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bg(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Bg(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Bg(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Hx(t,f,d);pa(t,f)}}catch(i){if(i instanceof Ul)throw i;pa(t,"network-request-failed",{message:String(i)})}}async function Dm(t,e,n,r,i={}){const s=await zc(t,e,n,r,i);return"mfaPendingCredential"in s&&pa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function wP(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Kx(t.config,i):`${t.config.apiScheme}://${i}`;return WF.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function HF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xa(this.auth,"network-request-failed")),$F.get())})}}function Bg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xa(t,e,r);return i.customData._tokenResponse=n,i}function GS(t){return t!==void 0&&t.enterprise!==void 0}class KF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YF(t,e){return zc(t,"GET","/v2/recaptchaConfig",Uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(t,e){return zc(t,"POST","/v1/accounts:delete",e)}async function U0(t,e){return zc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QF(t,e=!1){const n=xr(t),r=await n.getIdToken(e),i=Yx(r);Bt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Kp(O1(i.auth_time)),issuedAtTime:Kp(O1(i.iat)),expirationTime:Kp(O1(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function O1(t){return Number(t)*1e3}function Yx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return l0("JWT malformed, contained fewer than 3 sections"),null;try{const i=nP(n);return i?JSON.parse(i):(l0("Failed to decode base64 JWT payload"),null)}catch(i){return l0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KS(t){const e=Yx(t);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ul&&JF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kp(this.lastLoginAt),this.creationTime=Kp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0(t){const e=t.auth,n=await t.getIdToken(),r=await um(t,U0(e,{idToken:n}));Bt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?xP(i.providerUserInfo):[],o=t9(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,d=a?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function e9(t){const e=xr(t);await z0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function t9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e){const n=await vP(t,{},async()=>{const r=Lm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await wP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&dd(t.emulatorConfig.host)&&(c.credentials="include"),yP.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r9(t,e){return zc(t,"POST","/v2/accounts:revokeToken",Uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Bt(e.length!==0,"internal-error");const n=KS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await n9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new yh;return r&&(Bt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Bt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Bt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yh,this.toJSON())}_performRefresh(){return xc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e){Bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ha{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new ZF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new nw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await um(this,this.stsTokenManager.getToken(this.auth,e));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QF(this,e)}reload(){return e9(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ha({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await z0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject(Il(this.auth));const e=await this.getIdToken();return await um(this,XF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:g,providerData:b,stsTokenManager:S}=n;Bt(h&&S,e,"internal-error");const T=yh.fromJSON(this.name,S);Bt(typeof h=="string",e,"internal-error"),Cu(r,e.name),Cu(i,e.name),Bt(typeof m=="boolean",e,"internal-error"),Bt(typeof g=="boolean",e,"internal-error"),Cu(s,e.name),Cu(o,e.name),Cu(a,e.name),Cu(c,e.name),Cu(d,e.name),Cu(f,e.name);const E=new Ha({uid:h,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:T,createdAt:d,lastLoginAt:f});return b&&Array.isArray(b)&&(E.providerData=b.map(C=>({...C}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new yh;i.updateFromServerResponse(n);const s=new Ha({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await z0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Bt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?xP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new yh;a.updateFromIdToken(r);const c=new Ha({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Map;function bc(t){Ic(t instanceof Function,"Expected a class definition");let e=YS.get(t);return e?(Ic(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bP.type="NONE";const XS=bP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t,e,n){return`firebase:${t}:${e}:${n}`}class vh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=c0(this.userKey,i.apiKey,s),this.fullPersistenceKey=c0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await U0(this.auth,{idToken:e}).catch(()=>{});return n?Ha._fromGetAccountInfoResponse(this.auth,n,e):null}return Ha._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vh(bc(XS),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||bc(XS);const o=c0(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const f=await d._get(o);if(f){let h;if(typeof f=="string"){const m=await U0(e,{idToken:f}).catch(()=>{});if(!m)break;h=await Ha._fromGetAccountInfoResponse(e,m,f)}else h=Ha._fromJSON(e,f);d!==s&&(a=h),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new vh(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new vh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_P(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CP(e))return"Blackberry";if(PP(e))return"Webos";if(SP(e))return"Safari";if((e.includes("chrome/")||TP(e))&&!e.includes("edge/"))return"Chrome";if(AP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _P(t=ps()){return/firefox\//i.test(t)}function SP(t=ps()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TP(t=ps()){return/crios\//i.test(t)}function EP(t=ps()){return/iemobile/i.test(t)}function AP(t=ps()){return/android/i.test(t)}function CP(t=ps()){return/blackberry/i.test(t)}function PP(t=ps()){return/webos/i.test(t)}function Xx(t=ps()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i9(t=ps()){return Xx(t)&&!!window.navigator?.standalone}function s9(){return v7()&&document.documentMode===10}function kP(t=ps()){return Xx(t)||AP(t)||PP(t)||CP(t)||/windows phone/i.test(t)||EP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e=[]){let n;switch(t){case"Browser":n=QS(ps());break;case"Worker":n=`${QS(ps())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e={}){return zc(t,"GET","/v2/passwordPolicy",Uc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=6;class c9{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??l9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JS(this),this.idTokenSubscription=new JS(this),this.beforeStateQueue=new o9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bc(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await U0(this,{idToken:e}),r=await Ha._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ls(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await z0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ls(this.app))return Promise.reject(Il(this));const n=e?xr(e):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject(Il(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ls(this.app)?Promise.reject(Il(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a9(this),n=new c9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await r9(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bc(e)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await vh.create(this,[bc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BF(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zl(t){return xr(t)}class JS{constructor(e){this.auth=e,this.observer=null,this.addObserver=A7(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d9(t){Dy=t}function IP(t){return Dy.loadJS(t)}function f9(){return Dy.recaptchaEnterpriseScript}function h9(){return Dy.gapiScript}function p9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class m9{constructor(){this.enterprise=new g9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class g9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const y9="recaptcha-enterprise",RP="NO_RECAPTCHA";class v9{constructor(e){this.type=y9,this.auth=zl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{YF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new KF(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;GS(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(RP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new m9().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&GS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=f9();c.length!==0&&(c+=a),IP(c).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function ZS(t,e,n,r=!1,i=!1){const s=new v9(t);let o;if(i)o=RP;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function rw(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ZS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ZS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e){const n=jy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(of(s,e??{}))return i;pa(i,"already-initialized")}return n.initialize({options:e})}function x9(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function b9(t,e,n){const r=zl(t);Bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=LP(e),{host:o,port:a}=_9(e),c=a===null?"":`:${a}`,d={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Bt(of(d,r.config.emulator)&&of(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,dd(o)?(Ux(`${s}//${o}${c}`),zx("Auth",!0)):S9()}function LP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _9(t){const e=LP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:eT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:eT(o)}}}function eT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xc("not implemented")}_getIdTokenResponse(e){return xc("not implemented")}_linkToIdToken(e,n){return xc("not implemented")}_getReauthenticationResolver(e){return xc("not implemented")}}async function T9(t,e){return zc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){return Dm(t,"POST","/v1/accounts:signInWithPassword",Uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e){return Dm(t,"POST","/v1/accounts:signInWithEmailLink",Uc(t,e))}async function C9(t,e){return Dm(t,"POST","/v1/accounts:signInWithEmailLink",Uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends Qx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new dm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rw(e,n,"signInWithPassword",E9);case"emailLink":return A9(e,{email:this._email,oobCode:this._password});default:pa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rw(e,r,"signUpPassword",T9);case"emailLink":return C9(e,{idToken:n,email:this._email,oobCode:this._password});default:pa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t,e){return Dm(t,"POST","/v1/accounts:signInWithIdp",Uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="http://localhost";class lf extends Qx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new lf(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wh(e,n)}buildRequest(){const e={requestUri:P9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N9(t){const e=Op(Mp(t)).link,n=e?Op(Mp(e)).deep_link_id:null,r=Op(Mp(t)).deep_link_id;return(r?Op(Mp(r)).link:null)||r||n||e||t}class Jx{constructor(e){const n=Op(Mp(e)),r=n.apiKey??null,i=n.oobCode??null,s=k9(n.mode??null);Bt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=N9(e);try{return new Jx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this.providerId=Wh.PROVIDER_ID}static credential(e,n){return dm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jx.parseLink(n);return Bt(r,"argument-error"),dm._fromEmailAndCode(e,r.code,r.tenantId)}}Wh.PROVIDER_ID="password";Wh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Oy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Om{constructor(){super("facebook.com")}static credential(e){return lf._fromParams({providerId:Ou.PROVIDER_ID,signInMethod:Ou.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ou.credentialFromTaggedObject(e)}static credentialFromError(e){return Ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ou.credential(e.oauthAccessToken)}catch{return null}}}Ou.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ou.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Om{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lf._fromParams({providerId:vc.PROVIDER_ID,signInMethod:vc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vc.credentialFromTaggedObject(e)}static credentialFromError(e){return vc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vc.credential(n,r)}catch{return null}}}vc.GOOGLE_SIGN_IN_METHOD="google.com";vc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Om{constructor(){super("github.com")}static credential(e){return lf._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mu.credentialFromTaggedObject(e)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mu.credential(e.oauthAccessToken)}catch{return null}}}Mu.GITHUB_SIGN_IN_METHOD="github.com";Mu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends Om{constructor(){super("twitter.com")}static credential(e,n){return lf._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fu.credentialFromTaggedObject(e)}static credentialFromError(e){return Fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fu.credential(n,r)}catch{return null}}}Fu.TWITTER_SIGN_IN_METHOD="twitter.com";Fu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e){return Dm(t,"POST","/v1/accounts:signUp",Uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ha._fromIdTokenResponse(e,r,i),o=tT(r);return new cf({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tT(r);return new cf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends Ul{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,q0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new q0(e,n,r,i)}}function jP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?q0._fromErrorAndOperation(t,s,e,r):s})}async function R9(t,e,n=!1){const r=await um(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(t,e,n=!1){const{auth:r}=t;if(Ls(r.app))return Promise.reject(Il(r));const i="reauthenticate";try{const s=await um(t,jP(r,i,e,t),n);Bt(s.idToken,r,"internal-error");const o=Yx(s.idToken);Bt(o,r,"internal-error");const{sub:a}=o;return Bt(t.uid===a,r,"user-mismatch"),cf._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&pa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e,n=!1){if(Ls(t.app))return Promise.reject(Il(t));const r="signIn",i=await jP(t,r,e),s=await cf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function j9(t,e){return DP(zl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t){const e=zl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D9(t,e,n){if(Ls(t.app))return Promise.reject(Il(t));const r=zl(t),o=await rw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&OP(t),c}),a=await cf._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function O9(t,e,n){return Ls(t.app)?Promise.reject(Il(t)):j9(xr(t),Wh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e){return zc(t,"POST","/v1/accounts:createAuthUri",Uc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e){const n=gP()?B0():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await M9(xr(t),r);return i||[]}function V9(t,e,n,r){return xr(t).onIdTokenChanged(e,n,r)}function B9(t,e,n){return xr(t).beforeAuthStateChanged(e,n)}function U9(t,e,n,r){return xr(t).onAuthStateChanged(e,n,r)}function nT(t){return xr(t).signOut()}const W0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(W0,"1"),this.storage.removeItem(W0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=1e3,q9=10;class FP extends MP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);s9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}FP.type="LOCAL";const W9=FP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP extends MP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VP.type="SESSION";const BP=VP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new My(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async d=>d(n.origin,s)),c=await $9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}My.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const d=Zx("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(){return window}function G9(t){Rl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(){return typeof Rl().WorkerGlobalScope<"u"&&typeof Rl().importScripts=="function"}async function K9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y9(){return navigator?.serviceWorker?.controller||null}function X9(){return UP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="firebaseLocalStorageDb",Q9=1,$0="firebaseLocalStorage",qP="fbase_key";class Mm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fy(t,e){return t.transaction([$0],e?"readwrite":"readonly").objectStore($0)}function J9(){const t=indexedDB.deleteDatabase(zP);return new Mm(t).toPromise()}function iw(){const t=indexedDB.open(zP,Q9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($0,{keyPath:qP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($0)?e(r):(r.close(),await J9(),e(await iw()))})})}async function rT(t,e,n){const r=Fy(t,!0).put({[qP]:e,value:n});return new Mm(r).toPromise()}async function Z9(t,e){const n=Fy(t,!1).get(e),r=await new Mm(n).toPromise();return r===void 0?null:r.value}function iT(t,e){const n=Fy(t,!0).delete(e);return new Mm(n).toPromise()}const eV=800,tV=3;class WP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=My._getInstance(X9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await K9(),!this.activeServiceWorker)return;this.sender=new H9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iw();return await rT(e,W0,"1"),await iT(e,W0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Z9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fy(i,!1).getAll();return new Mm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WP.type="LOCAL";const nV=WP;new jm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t,e){return e?bc(e):(Bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Qx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rV(t){return DP(t.auth,new tb(t),t.bypassAuthState)}function iV(t){const{auth:e,user:n}=t;return Bt(n,e,"internal-error"),L9(n,new tb(t),t.bypassAuthState)}async function sV(t){const{auth:e,user:n}=t;return Bt(n,e,"internal-error"),R9(n,new tb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rV;case"linkViaPopup":case"linkViaRedirect":return sV;case"reauthViaPopup":case"reauthViaRedirect":return iV;default:pa(this.auth,"internal-error")}}resolve(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new jm(2e3,1e4);async function aV(t,e,n){if(Ls(t.app))return Promise.reject(Xa(t,"operation-not-supported-in-this-environment"));const r=zl(t);mP(t,e,Oy);const i=eb(r,n);return new Gd(r,"signInViaPopup",e,i).executeNotNull()}class Gd extends $P{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gd.currentPopupAction&&Gd.currentPopupAction.cancel(),Gd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bt(e,this.auth,"internal-error"),e}async onExecution(){Ic(this.filter.length===1,"Popup operations only handle one event");const e=Zx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gd.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oV.get())};e()}}Gd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="pendingRedirect",u0=new Map;class cV extends $P{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=u0.get(this.auth._key());if(!e){try{const r=await uV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}u0.set(this.auth._key(),e)}return this.bypassAuthState||u0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uV(t,e){const n=GP(e),r=HP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function dV(t,e){return HP(t)._set(GP(e),"true")}function fV(t,e){u0.set(t._key(),e)}function HP(t){return bc(t._redirectPersistence)}function GP(t){return c0(lV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(t,e,n){return pV(t,e,n)}async function pV(t,e,n){if(Ls(t.app))return Promise.reject(Il(t));const r=zl(t);mP(t,e,Oy),await r._initializationPromise;const i=eb(r,n);return await dV(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function mV(t,e){return await zl(t)._initializationPromise,KP(t,e,!1)}async function KP(t,e,n=!1){if(Ls(t.app))return Promise.reject(Il(t));const r=zl(t),i=eb(r,e),o=await new cV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=600*1e3;class yV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!YP(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gV&&this.cachedEventUids.clear(),this.cachedEventUids.has(sT(e))}saveEventToCache(e){this.cachedEventUids.add(sT(e)),this.lastProcessedEventTime=Date.now()}}function sT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e={}){return zc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bV=/^https?/;async function _V(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wV(t);for(const n of e)try{if(SV(n))return}catch{}pa(t,"unauthorized-domain")}function SV(t){const e=B0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bV.test(n))return!1;if(xV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new jm(3e4,6e4);function oT(){const t=Rl().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EV(t){return new Promise((e,n)=>{function r(){oT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oT(),n(Xa(t,"network-request-failed"))},timeout:TV.get()})}if(Rl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rl().gapi?.load)r();else{const i=p9("iframefcb");return Rl()[i]=()=>{gapi.load?r():n(Xa(t,"network-request-failed"))},IP(`${h9()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw d0=null,e})}let d0=null;function AV(t){return d0=d0||EV(t),d0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new jm(5e3,15e3),PV="__/auth/iframe",kV="emulator/auth/iframe",NV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RV(t){const e=t.config;Bt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kx(e,kV):`https://${t.config.authDomain}/${PV}`,r={apiKey:e.apiKey,appName:t.name,v:Tf},i=IV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Lm(r).slice(1)}`}async function LV(t){const e=await AV(t),n=Rl().gapi;return Bt(n,t,"internal-error"),e.open({where:document.body,url:RV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xa(t,"network-request-failed"),a=Rl().setTimeout(()=>{s(o)},CV.get());function c(){Rl().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DV=500,OV=600,MV="_blank",FV="http://localhost";class aT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VV(t,e,n,r=DV,i=OV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...jV,width:r.toString(),height:i.toString(),top:s,left:o},d=ps().toLowerCase();n&&(a=TP(d)?MV:n),_P(d)&&(e=e||FV,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[g,b])=>`${m}${g}=${b},`,"");if(i9(d)&&a!=="_self")return BV(e||"",a),new aT(null);const h=window.open(e||"",a,f);Bt(h,t,"popup-blocked");try{h.focus()}catch{}return new aT(h)}function BV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="__/auth/handler",zV="emulator/auth/handler",qV=encodeURIComponent("fac");async function lT(t,e,n,r,i,s){Bt(t.config.authDomain,t,"auth-domain-config-required"),Bt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tf,eventId:i};if(e instanceof Oy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",E7(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Om){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),d=c?`#${qV}=${encodeURIComponent(c)}`:"";return`${WV(t)}?${Lm(a).slice(1)}${d}`}function WV({config:t}){return t.emulator?Kx(t,zV):`https://${t.authDomain}/${UV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="webStorageSupport";class $V{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BP,this._completeRedirectFn=KP,this._overrideRedirectResult=fV}async _openPopup(e,n,r,i){Ic(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await lT(e,n,r,B0(),i);return VV(e,s,Zx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lT(e,n,r,B0(),i);return G9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ic(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LV(e),r=new yV(e);return n.register("authEvent",i=>(Bt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(M1,{type:M1},i=>{const s=i?.[0]?.[M1];s!==void 0&&n(!!s),pa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_V(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kP()||SP()||Xx()}}const HV=$V;var cT="@firebase/auth",uT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YV(t){af(new ed("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Bt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NP(t)},d=new u9(r,i,s,c);return x9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),af(new ed("auth-internal",e=>{const n=zl(e.getProvider("auth").getImmediate());return(r=>new GV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nl(cT,uT,KV(t)),Nl(cT,uT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=300,QV=oP("authIdTokenMaxAge")||XV;let dT=null;const JV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QV)return;const i=n?.token;dT!==i&&(dT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZV(t=$x()){const e=jy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w9(t,{popupRedirectResolver:HV,persistence:[nV,W9,BP]}),r=oP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=JV(s.toString());B9(n,o,()=>o(n.currentUser)),V9(n,a=>o(a))}}const i=rP("auth");return i&&b9(n,`http://${i}`),n}function eB(){return document.getElementsByTagName("head")?.[0]??document}d9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",eB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YV("Browser");var fT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yu,XP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,L){function B(){}B.prototype=L.prototype,F.D=L.prototype,F.prototype=new B,F.prototype.constructor=F,F.C=function($,k,D){for(var q=Array(arguments.length-2),se=2;se<arguments.length;se++)q[se-2]=arguments[se];return L.prototype[k].apply($,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,L,B){B||(B=0);var $=Array(16);if(typeof L=="string")for(var k=0;16>k;++k)$[k]=L.charCodeAt(B++)|L.charCodeAt(B++)<<8|L.charCodeAt(B++)<<16|L.charCodeAt(B++)<<24;else for(k=0;16>k;++k)$[k]=L[B++]|L[B++]<<8|L[B++]<<16|L[B++]<<24;L=F.g[0],B=F.g[1],k=F.g[2];var D=F.g[3],q=L+(D^B&(k^D))+$[0]+3614090360&4294967295;L=B+(q<<7&4294967295|q>>>25),q=D+(k^L&(B^k))+$[1]+3905402710&4294967295,D=L+(q<<12&4294967295|q>>>20),q=k+(B^D&(L^B))+$[2]+606105819&4294967295,k=D+(q<<17&4294967295|q>>>15),q=B+(L^k&(D^L))+$[3]+3250441966&4294967295,B=k+(q<<22&4294967295|q>>>10),q=L+(D^B&(k^D))+$[4]+4118548399&4294967295,L=B+(q<<7&4294967295|q>>>25),q=D+(k^L&(B^k))+$[5]+1200080426&4294967295,D=L+(q<<12&4294967295|q>>>20),q=k+(B^D&(L^B))+$[6]+2821735955&4294967295,k=D+(q<<17&4294967295|q>>>15),q=B+(L^k&(D^L))+$[7]+4249261313&4294967295,B=k+(q<<22&4294967295|q>>>10),q=L+(D^B&(k^D))+$[8]+1770035416&4294967295,L=B+(q<<7&4294967295|q>>>25),q=D+(k^L&(B^k))+$[9]+2336552879&4294967295,D=L+(q<<12&4294967295|q>>>20),q=k+(B^D&(L^B))+$[10]+4294925233&4294967295,k=D+(q<<17&4294967295|q>>>15),q=B+(L^k&(D^L))+$[11]+2304563134&4294967295,B=k+(q<<22&4294967295|q>>>10),q=L+(D^B&(k^D))+$[12]+1804603682&4294967295,L=B+(q<<7&4294967295|q>>>25),q=D+(k^L&(B^k))+$[13]+4254626195&4294967295,D=L+(q<<12&4294967295|q>>>20),q=k+(B^D&(L^B))+$[14]+2792965006&4294967295,k=D+(q<<17&4294967295|q>>>15),q=B+(L^k&(D^L))+$[15]+1236535329&4294967295,B=k+(q<<22&4294967295|q>>>10),q=L+(k^D&(B^k))+$[1]+4129170786&4294967295,L=B+(q<<5&4294967295|q>>>27),q=D+(B^k&(L^B))+$[6]+3225465664&4294967295,D=L+(q<<9&4294967295|q>>>23),q=k+(L^B&(D^L))+$[11]+643717713&4294967295,k=D+(q<<14&4294967295|q>>>18),q=B+(D^L&(k^D))+$[0]+3921069994&4294967295,B=k+(q<<20&4294967295|q>>>12),q=L+(k^D&(B^k))+$[5]+3593408605&4294967295,L=B+(q<<5&4294967295|q>>>27),q=D+(B^k&(L^B))+$[10]+38016083&4294967295,D=L+(q<<9&4294967295|q>>>23),q=k+(L^B&(D^L))+$[15]+3634488961&4294967295,k=D+(q<<14&4294967295|q>>>18),q=B+(D^L&(k^D))+$[4]+3889429448&4294967295,B=k+(q<<20&4294967295|q>>>12),q=L+(k^D&(B^k))+$[9]+568446438&4294967295,L=B+(q<<5&4294967295|q>>>27),q=D+(B^k&(L^B))+$[14]+3275163606&4294967295,D=L+(q<<9&4294967295|q>>>23),q=k+(L^B&(D^L))+$[3]+4107603335&4294967295,k=D+(q<<14&4294967295|q>>>18),q=B+(D^L&(k^D))+$[8]+1163531501&4294967295,B=k+(q<<20&4294967295|q>>>12),q=L+(k^D&(B^k))+$[13]+2850285829&4294967295,L=B+(q<<5&4294967295|q>>>27),q=D+(B^k&(L^B))+$[2]+4243563512&4294967295,D=L+(q<<9&4294967295|q>>>23),q=k+(L^B&(D^L))+$[7]+1735328473&4294967295,k=D+(q<<14&4294967295|q>>>18),q=B+(D^L&(k^D))+$[12]+2368359562&4294967295,B=k+(q<<20&4294967295|q>>>12),q=L+(B^k^D)+$[5]+4294588738&4294967295,L=B+(q<<4&4294967295|q>>>28),q=D+(L^B^k)+$[8]+2272392833&4294967295,D=L+(q<<11&4294967295|q>>>21),q=k+(D^L^B)+$[11]+1839030562&4294967295,k=D+(q<<16&4294967295|q>>>16),q=B+(k^D^L)+$[14]+4259657740&4294967295,B=k+(q<<23&4294967295|q>>>9),q=L+(B^k^D)+$[1]+2763975236&4294967295,L=B+(q<<4&4294967295|q>>>28),q=D+(L^B^k)+$[4]+1272893353&4294967295,D=L+(q<<11&4294967295|q>>>21),q=k+(D^L^B)+$[7]+4139469664&4294967295,k=D+(q<<16&4294967295|q>>>16),q=B+(k^D^L)+$[10]+3200236656&4294967295,B=k+(q<<23&4294967295|q>>>9),q=L+(B^k^D)+$[13]+681279174&4294967295,L=B+(q<<4&4294967295|q>>>28),q=D+(L^B^k)+$[0]+3936430074&4294967295,D=L+(q<<11&4294967295|q>>>21),q=k+(D^L^B)+$[3]+3572445317&4294967295,k=D+(q<<16&4294967295|q>>>16),q=B+(k^D^L)+$[6]+76029189&4294967295,B=k+(q<<23&4294967295|q>>>9),q=L+(B^k^D)+$[9]+3654602809&4294967295,L=B+(q<<4&4294967295|q>>>28),q=D+(L^B^k)+$[12]+3873151461&4294967295,D=L+(q<<11&4294967295|q>>>21),q=k+(D^L^B)+$[15]+530742520&4294967295,k=D+(q<<16&4294967295|q>>>16),q=B+(k^D^L)+$[2]+3299628645&4294967295,B=k+(q<<23&4294967295|q>>>9),q=L+(k^(B|~D))+$[0]+4096336452&4294967295,L=B+(q<<6&4294967295|q>>>26),q=D+(B^(L|~k))+$[7]+1126891415&4294967295,D=L+(q<<10&4294967295|q>>>22),q=k+(L^(D|~B))+$[14]+2878612391&4294967295,k=D+(q<<15&4294967295|q>>>17),q=B+(D^(k|~L))+$[5]+4237533241&4294967295,B=k+(q<<21&4294967295|q>>>11),q=L+(k^(B|~D))+$[12]+1700485571&4294967295,L=B+(q<<6&4294967295|q>>>26),q=D+(B^(L|~k))+$[3]+2399980690&4294967295,D=L+(q<<10&4294967295|q>>>22),q=k+(L^(D|~B))+$[10]+4293915773&4294967295,k=D+(q<<15&4294967295|q>>>17),q=B+(D^(k|~L))+$[1]+2240044497&4294967295,B=k+(q<<21&4294967295|q>>>11),q=L+(k^(B|~D))+$[8]+1873313359&4294967295,L=B+(q<<6&4294967295|q>>>26),q=D+(B^(L|~k))+$[15]+4264355552&4294967295,D=L+(q<<10&4294967295|q>>>22),q=k+(L^(D|~B))+$[6]+2734768916&4294967295,k=D+(q<<15&4294967295|q>>>17),q=B+(D^(k|~L))+$[13]+1309151649&4294967295,B=k+(q<<21&4294967295|q>>>11),q=L+(k^(B|~D))+$[4]+4149444226&4294967295,L=B+(q<<6&4294967295|q>>>26),q=D+(B^(L|~k))+$[11]+3174756917&4294967295,D=L+(q<<10&4294967295|q>>>22),q=k+(L^(D|~B))+$[2]+718787259&4294967295,k=D+(q<<15&4294967295|q>>>17),q=B+(D^(k|~L))+$[9]+3951481745&4294967295,F.g[0]=F.g[0]+L&4294967295,F.g[1]=F.g[1]+(k+(q<<21&4294967295|q>>>11))&4294967295,F.g[2]=F.g[2]+k&4294967295,F.g[3]=F.g[3]+D&4294967295}r.prototype.u=function(F,L){L===void 0&&(L=F.length);for(var B=L-this.blockSize,$=this.B,k=this.h,D=0;D<L;){if(k==0)for(;D<=B;)i(this,F,D),D+=this.blockSize;if(typeof F=="string"){for(;D<L;)if($[k++]=F.charCodeAt(D++),k==this.blockSize){i(this,$),k=0;break}}else for(;D<L;)if($[k++]=F[D++],k==this.blockSize){i(this,$),k=0;break}}this.h=k,this.o+=L},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var L=1;L<F.length-8;++L)F[L]=0;var B=8*this.o;for(L=F.length-8;L<F.length;++L)F[L]=B&255,B/=256;for(this.u(F),F=Array(16),L=B=0;4>L;++L)for(var $=0;32>$;$+=8)F[B++]=this.g[L]>>>$&255;return F};function s(F,L){var B=a;return Object.prototype.hasOwnProperty.call(B,F)?B[F]:B[F]=L(F)}function o(F,L){this.h=L;for(var B=[],$=!0,k=F.length-1;0<=k;k--){var D=F[k]|0;$&&D==L||(B[k]=D,$=!1)}this.g=B}var a={};function c(F){return-128<=F&&128>F?s(F,function(L){return new o([L|0],0>L?-1:0)}):new o([F|0],0>F?-1:0)}function d(F){if(isNaN(F)||!isFinite(F))return h;if(0>F)return T(d(-F));for(var L=[],B=1,$=0;F>=B;$++)L[$]=F/B|0,B*=4294967296;return new o(L,0)}function f(F,L){if(F.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(F.charAt(0)=="-")return T(f(F.substring(1),L));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=d(Math.pow(L,8)),$=h,k=0;k<F.length;k+=8){var D=Math.min(8,F.length-k),q=parseInt(F.substring(k,k+D),L);8>D?(D=d(Math.pow(L,D)),$=$.j(D).add(d(q))):($=$.j(B),$=$.add(d(q)))}return $}var h=c(0),m=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-T(this).m();for(var F=0,L=1,B=0;B<this.g.length;B++){var $=this.i(B);F+=(0<=$?$:4294967296+$)*L,L*=4294967296}return F},t.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(b(this))return"0";if(S(this))return"-"+T(this).toString(F);for(var L=d(Math.pow(F,6)),B=this,$="";;){var k=j(B,L).g;B=E(B,k.j(L));var D=((0<B.g.length?B.g[0]:B.h)>>>0).toString(F);if(B=k,b(B))return D+$;for(;6>D.length;)D="0"+D;$=D+$}},t.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function b(F){if(F.h!=0)return!1;for(var L=0;L<F.g.length;L++)if(F.g[L]!=0)return!1;return!0}function S(F){return F.h==-1}t.l=function(F){return F=E(this,F),S(F)?-1:b(F)?0:1};function T(F){for(var L=F.g.length,B=[],$=0;$<L;$++)B[$]=~F.g[$];return new o(B,~F.h).add(m)}t.abs=function(){return S(this)?T(this):this},t.add=function(F){for(var L=Math.max(this.g.length,F.g.length),B=[],$=0,k=0;k<=L;k++){var D=$+(this.i(k)&65535)+(F.i(k)&65535),q=(D>>>16)+(this.i(k)>>>16)+(F.i(k)>>>16);$=q>>>16,D&=65535,q&=65535,B[k]=q<<16|D}return new o(B,B[B.length-1]&-2147483648?-1:0)};function E(F,L){return F.add(T(L))}t.j=function(F){if(b(this)||b(F))return h;if(S(this))return S(F)?T(this).j(T(F)):T(T(this).j(F));if(S(F))return T(this.j(T(F)));if(0>this.l(g)&&0>F.l(g))return d(this.m()*F.m());for(var L=this.g.length+F.g.length,B=[],$=0;$<2*L;$++)B[$]=0;for($=0;$<this.g.length;$++)for(var k=0;k<F.g.length;k++){var D=this.i($)>>>16,q=this.i($)&65535,se=F.i(k)>>>16,we=F.i(k)&65535;B[2*$+2*k]+=q*we,C(B,2*$+2*k),B[2*$+2*k+1]+=D*we,C(B,2*$+2*k+1),B[2*$+2*k+1]+=q*se,C(B,2*$+2*k+1),B[2*$+2*k+2]+=D*se,C(B,2*$+2*k+2)}for($=0;$<L;$++)B[$]=B[2*$+1]<<16|B[2*$];for($=L;$<2*L;$++)B[$]=0;return new o(B,0)};function C(F,L){for(;(F[L]&65535)!=F[L];)F[L+1]+=F[L]>>>16,F[L]&=65535,L++}function I(F,L){this.g=F,this.h=L}function j(F,L){if(b(L))throw Error("division by zero");if(b(F))return new I(h,h);if(S(F))return L=j(T(F),L),new I(T(L.g),T(L.h));if(S(L))return L=j(F,T(L)),new I(T(L.g),L.h);if(30<F.g.length){if(S(F)||S(L))throw Error("slowDivide_ only works with positive integers.");for(var B=m,$=L;0>=$.l(F);)B=K(B),$=K($);var k=ae(B,1),D=ae($,1);for($=ae($,2),B=ae(B,2);!b($);){var q=D.add($);0>=q.l(F)&&(k=k.add(B),D=q),$=ae($,1),B=ae(B,1)}return L=E(F,k.j(L)),new I(k,L)}for(k=h;0<=F.l(L);){for(B=Math.max(1,Math.floor(F.m()/L.m())),$=Math.ceil(Math.log(B)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),D=d(B),q=D.j(L);S(q)||0<q.l(F);)B-=$,D=d(B),q=D.j(L);b(D)&&(D=m),k=k.add(D),F=E(F,q)}return new I(k,F)}t.A=function(F){return j(this,F).h},t.and=function(F){for(var L=Math.max(this.g.length,F.g.length),B=[],$=0;$<L;$++)B[$]=this.i($)&F.i($);return new o(B,this.h&F.h)},t.or=function(F){for(var L=Math.max(this.g.length,F.g.length),B=[],$=0;$<L;$++)B[$]=this.i($)|F.i($);return new o(B,this.h|F.h)},t.xor=function(F){for(var L=Math.max(this.g.length,F.g.length),B=[],$=0;$<L;$++)B[$]=this.i($)^F.i($);return new o(B,this.h^F.h)};function K(F){for(var L=F.g.length+1,B=[],$=0;$<L;$++)B[$]=F.i($)<<1|F.i($-1)>>>31;return new o(B,F.h)}function ae(F,L){var B=L>>5;L%=32;for(var $=F.g.length-B,k=[],D=0;D<$;D++)k[D]=0<L?F.i(D+B)>>>L|F.i(D+B+1)<<32-L:F.i(D+B);return new o(k,F.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Yu=o}).apply(typeof fT<"u"?fT:typeof self<"u"?self:typeof window<"u"?window:{});var Ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QP,Fp,JP,f0,sw,ZP,ek,tk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,R,U){return w==Array.prototype||w==Object.prototype||(w[R]=U.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ug=="object"&&Ug];for(var R=0;R<w.length;++R){var U=w[R];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(w,R){if(R)e:{var U=r;w=w.split(".");for(var te=0;te<w.length-1;te++){var Ae=w[te];if(!(Ae in U))break e;U=U[Ae]}w=w[w.length-1],te=U[w],R=R(te),R!=te&&R!=null&&e(U,w,{configurable:!0,writable:!0,value:R})}}function s(w,R){w instanceof String&&(w+="");var U=0,te=!1,Ae={next:function(){if(!te&&U<w.length){var Le=U++;return{value:R(Le,w[Le]),done:!1}}return te=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}i("Array.prototype.values",function(w){return w||function(){return s(this,function(R,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(w){var R=typeof w;return R=R!="object"?R:w?Array.isArray(w)?"array":R:"null",R=="array"||R=="object"&&typeof w.length=="number"}function d(w){var R=typeof w;return R=="object"&&w!=null||R=="function"}function f(w,R,U){return w.call.apply(w.bind,arguments)}function h(w,R,U){if(!w)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,te),w.apply(R,Ae)}}return function(){return w.apply(R,arguments)}}function m(w,R,U){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function g(w,R){var U=Array.prototype.slice.call(arguments,1);return function(){var te=U.slice();return te.push.apply(te,arguments),w.apply(this,te)}}function b(w,R){function U(){}U.prototype=R.prototype,w.aa=R.prototype,w.prototype=new U,w.prototype.constructor=w,w.Qb=function(te,Ae,Le){for(var Qe=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)Qe[$t-2]=arguments[$t];return R.prototype[Ae].apply(te,Qe)}}function S(w){const R=w.length;if(0<R){const U=Array(R);for(let te=0;te<R;te++)U[te]=w[te];return U}return[]}function T(w,R){for(let U=1;U<arguments.length;U++){const te=arguments[U];if(c(te)){const Ae=w.length||0,Le=te.length||0;w.length=Ae+Le;for(let Qe=0;Qe<Le;Qe++)w[Ae+Qe]=te[Qe]}else w.push(te)}}class E{constructor(R,U){this.i=R,this.j=U,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function C(w){return/^[\s\xa0]*$/.test(w)}function I(){var w=a.navigator;return w&&(w=w.userAgent)?w:""}function j(w){return j[" "](w),w}j[" "]=function(){};var K=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function ae(w,R,U){for(const te in w)R.call(U,w[te],te,w)}function F(w,R){for(const U in w)R.call(void 0,w[U],U,w)}function L(w){const R={};for(const U in w)R[U]=w[U];return R}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(w,R){let U,te;for(let Ae=1;Ae<arguments.length;Ae++){te=arguments[Ae];for(U in te)w[U]=te[U];for(let Le=0;Le<B.length;Le++)U=B[Le],Object.prototype.hasOwnProperty.call(te,U)&&(w[U]=te[U])}}function k(w){var R=1;w=w.split(":");const U=[];for(;0<R&&w.length;)U.push(w.shift()),R--;return w.length&&U.push(w.join(":")),U}function D(w){a.setTimeout(()=>{throw w},0)}function q(){var w=ne;let R=null;return w.g&&(R=w.g,w.g=w.g.next,w.g||(w.h=null),R.next=null),R}class se{constructor(){this.h=this.g=null}add(R,U){const te=we.get();te.set(R,U),this.h?this.h.next=te:this.g=te,this.h=te}}var we=new E(()=>new fe,w=>w.reset());class fe{constructor(){this.next=this.g=this.h=null}set(R,U){this.h=R,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ce=!1,ne=new se,Y=()=>{const w=a.Promise.resolve(void 0);ve=()=>{w.then(W)}};var W=()=>{for(var w;w=q();){try{w.h.call(w.g)}catch(U){D(U)}var R=we;R.j(w),100>R.h&&(R.h++,w.next=R.g,R.g=w)}ce=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(w,R){this.type=w,this.g=this.target=R,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,R=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const U=()=>{};a.addEventListener("test",U,R),a.removeEventListener("test",U,R)}catch{}return w}();function de(w,R){if(X.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var U=this.type=w.type,te=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=R,R=w.relatedTarget){if(K){e:{try{j(R.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(R=null)}}else U=="mouseover"?R=w.fromElement:U=="mouseout"&&(R=w.toElement);this.relatedTarget=R,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:oe[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&de.aa.h.call(this)}}b(de,X);var oe={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),ie=0;function ge(w,R,U,te,Ae){this.listener=w,this.proxy=null,this.src=R,this.type=U,this.capture=!!te,this.ha=Ae,this.key=++ie,this.da=this.fa=!1}function Re(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function De(w){this.src=w,this.g={},this.h=0}De.prototype.add=function(w,R,U,te,Ae){var Le=w.toString();w=this.g[Le],w||(w=this.g[Le]=[],this.h++);var Qe=Ye(w,R,te,Ae);return-1<Qe?(R=w[Qe],U||(R.fa=!1)):(R=new ge(R,this.src,Le,!!te,Ae),R.fa=U,w.push(R)),R};function $e(w,R){var U=R.type;if(U in w.g){var te=w.g[U],Ae=Array.prototype.indexOf.call(te,R,void 0),Le;(Le=0<=Ae)&&Array.prototype.splice.call(te,Ae,1),Le&&(Re(R),w.g[U].length==0&&(delete w.g[U],w.h--))}}function Ye(w,R,U,te){for(var Ae=0;Ae<w.length;++Ae){var Le=w[Ae];if(!Le.da&&Le.listener==R&&Le.capture==!!U&&Le.ha==te)return Ae}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),Oe={};function me(w,R,U,te,Ae){if(Array.isArray(R)){for(var Le=0;Le<R.length;Le++)me(w,R[Le],U,te,Ae);return null}return U=Ot(U),w&&w[he]?w.K(R,U,d(te)?!!te.capture:!1,Ae):_t(w,R,U,!1,te,Ae)}function _t(w,R,U,te,Ae,Le){if(!R)throw Error("Invalid event type");var Qe=d(Ae)?!!Ae.capture:!!Ae,$t=vt(w);if($t||(w[tt]=$t=new De(w)),U=$t.add(R,U,te,Qe,Le),U.proxy)return U;if(te=ft(),U.proxy=te,te.src=w,te.listener=U,w.addEventListener)le||(Ae=Qe),Ae===void 0&&(Ae=!1),w.addEventListener(R.toString(),te,Ae);else if(w.attachEvent)w.attachEvent(st(R.toString()),te);else if(w.addListener&&w.removeListener)w.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return U}function ft(){function w(U){return R.call(w.src,w.listener,U)}const R=at;return w}function Ke(w,R,U,te,Ae){if(Array.isArray(R))for(var Le=0;Le<R.length;Le++)Ke(w,R[Le],U,te,Ae);else te=d(te)?!!te.capture:!!te,U=Ot(U),w&&w[he]?(w=w.i,R=String(R).toString(),R in w.g&&(Le=w.g[R],U=Ye(Le,U,te,Ae),-1<U&&(Re(Le[U]),Array.prototype.splice.call(Le,U,1),Le.length==0&&(delete w.g[R],w.h--)))):w&&(w=vt(w))&&(R=w.g[R.toString()],w=-1,R&&(w=Ye(R,U,te,Ae)),(U=-1<w?R[w]:null)&&et(U))}function et(w){if(typeof w!="number"&&w&&!w.da){var R=w.src;if(R&&R[he])$e(R.i,w);else{var U=w.type,te=w.proxy;R.removeEventListener?R.removeEventListener(U,te,w.capture):R.detachEvent?R.detachEvent(st(U),te):R.addListener&&R.removeListener&&R.removeListener(te),(U=vt(R))?($e(U,w),U.h==0&&(U.src=null,R[tt]=null)):Re(w)}}}function st(w){return w in Oe?Oe[w]:Oe[w]="on"+w}function at(w,R){if(w.da)w=!0;else{R=new de(R,this);var U=w.listener,te=w.ha||w.src;w.fa&&et(w),w=U.call(te,R)}return w}function vt(w){return w=w[tt],w instanceof De?w:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(w){return typeof w=="function"?w:(w[It]||(w[It]=function(R){return w.handleEvent(R)}),w[It])}function St(){V.call(this),this.i=new De(this),this.M=this,this.F=null}b(St,V),St.prototype[he]=!0,St.prototype.removeEventListener=function(w,R,U,te){Ke(this,w,R,U,te)};function kt(w,R){var U,te=w.F;if(te)for(U=[];te;te=te.F)U.push(te);if(w=w.M,te=R.type||R,typeof R=="string")R=new X(R,w);else if(R instanceof X)R.target=R.target||w;else{var Ae=R;R=new X(te,w),$(R,Ae)}if(Ae=!0,U)for(var Le=U.length-1;0<=Le;Le--){var Qe=R.g=U[Le];Ae=tn(Qe,te,!0,R)&&Ae}if(Qe=R.g=w,Ae=tn(Qe,te,!0,R)&&Ae,Ae=tn(Qe,te,!1,R)&&Ae,U)for(Le=0;Le<U.length;Le++)Qe=R.g=U[Le],Ae=tn(Qe,te,!1,R)&&Ae}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var w=this.i,R;for(R in w.g){for(var U=w.g[R],te=0;te<U.length;te++)Re(U[te]);delete w.g[R],w.h--}}this.F=null},St.prototype.K=function(w,R,U,te){return this.i.add(String(w),R,!1,U,te)},St.prototype.L=function(w,R,U,te){return this.i.add(String(w),R,!0,U,te)};function tn(w,R,U,te){if(R=w.i.g[String(R)],!R)return!0;R=R.concat();for(var Ae=!0,Le=0;Le<R.length;++Le){var Qe=R[Le];if(Qe&&!Qe.da&&Qe.capture==U){var $t=Qe.listener,on=Qe.ha||Qe.src;Qe.fa&&$e(w.i,Qe),Ae=$t.call(on,te)!==!1&&Ae}}return Ae&&!te.defaultPrevented}function Ct(w,R,U){if(typeof w=="function")U&&(w=m(w,U));else if(w&&typeof w.handleEvent=="function")w=m(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:a.setTimeout(w,R||0)}function Mt(w){w.g=Ct(()=>{w.g=null,w.i&&(w.i=!1,Mt(w))},w.l);const R=w.h;w.h=null,w.m.apply(null,R)}class ot extends V{constructor(R,U){super(),this.m=R,this.l=U,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Mt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(w){V.call(this),this.h=w,this.g={}}b(tr,V);var nn=[];function Pi(w){ae(w.g,function(R,U){this.g.hasOwnProperty(U)&&et(R)},w),w.g={}}tr.prototype.N=function(){tr.aa.N.call(this),Pi(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=a.JSON.stringify,jn=a.JSON.parse,Wi=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function sn(){}sn.prototype.h=null;function Os(w){return w.h||(w.h=w.i())}function Vn(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yr(){X.call(this,"d")}b(Yr,X);function Bn(){X.call(this,"c")}b(Bn,X);var Nt={},cn=null;function ms(){return cn=cn||new St}Nt.La="serverreachability";function br(w){X.call(this,Nt.La,w)}b(br,X);function Xr(w){const R=ms();kt(R,new br(R))}Nt.STAT_EVENT="statevent";function $i(w,R){X.call(this,Nt.STAT_EVENT,w),this.stat=R}b($i,X);function pt(w){const R=ms();kt(R,new $i(R,w))}Nt.Ma="timingevent";function hi(w,R){X.call(this,Nt.Ma,w),this.size=R}b(hi,X);function Nr(w,R){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},R)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function Gn(w,R,U,te,Ae,Le){w.info(function(){if(w.g)if(Le)for(var Qe="",$t=Le.split("&"),on=0;on<$t.length;on++){var Ht=$t[on].split("=");if(1<Ht.length){var En=Ht[0];Ht=Ht[1];var Nn=En.split("_");Qe=2<=Nn.length&&Nn[1]=="type"?Qe+(En+"="+Ht+"&"):Qe+(En+"=redacted&")}}else Qe=null;else Qe=Le;return"XMLHTTP REQ ("+te+") [attempt "+Ae+"]: "+R+`
`+U+`
`+Qe})}function Kn(w,R,U,te,Ae,Le,Qe){w.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+Ae+"]: "+R+`
`+U+`
`+Le+" "+Qe})}function ir(w,R,U,te){w.info(function(){return"XMLHTTP TEXT ("+R+"): "+fo(w,U)+(te?" "+te:"")})}function Vo(w,R){w.info(function(){return"TIMEOUT: "+R})}Ir.prototype.info=function(){};function fo(w,R){if(!w.g)return R;if(!R)return null;try{var U=JSON.parse(R);if(U){for(w=0;w<U.length;w++)if(Array.isArray(U[w])){var te=U[w];if(!(2>te.length)){var Ae=te[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var Le=Ae[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(var Qe=1;Qe<Ae.length;Qe++)Ae[Qe]=""}}}}return xn(U)}catch{return R}}var pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function mi(){}b(mi,sn),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},_r=new mi;function hr(w,R,U,te){this.j=w,this.i=R,this.l=U,this.R=te||1,this.U=new tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}var ho={},po={};function mo(w,R,U){w.L=1,w.v=vo(ii(R)),w.m=U,w.P=!0,Bo(w,null)}function Bo(w,R){w.F=Date.now(),Dn(w),w.A=ii(w.v);var U=w.A,te=w.R;Array.isArray(te)||(te=[String(te)]),Rt(U.i,"t",te),w.C=0,U=w.j.J,w.h=new gs,w.g=G(w.j,U?R:null,!w.m),0<w.O&&(w.M=new ot(m(w.Y,w,w.g),w.O)),R=w.U,U=w.g,te=w.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(nn[0]=Ae.toString()),Ae=nn);for(var Le=0;Le<Ae.length;Le++){var Qe=me(U,Ae[Le],te||R.handleEvent,!1,R.h||R);if(!Qe)break;R.g[Qe.key]=Qe}R=w.H?L(w.H):{},w.m?(w.u||(w.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,R)):(w.u="GET",w.g.ea(w.A,w.u,null,R)),Xr(),Gn(w.i,w.u,w.A,w.l,w.R,w.m)}hr.prototype.ca=function(w){w=w.target;const R=this.M;R&&mr(w)==3?R.j():this.Y(w)},hr.prototype.Y=function(w){try{if(w==this.g)e:{const Nn=mr(this.g);var R=this.g.Ba();const Ri=this.g.Z();if(!(3>Nn)&&(Nn!=3||this.g&&(this.h.h||this.g.oa()||Kl(this.g)))){this.J||Nn!=4||R==7||(R==8||0>=Ri?Xr(3):Xr(2)),Ms(this);var U=this.g.Z();this.X=U;t:if(ma(this)){var te=Kl(this.g);w="";var Ae=te.length,Le=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),go(this);var Qe="";break t}this.h.i=new a.TextDecoder}for(R=0;R<Ae;R++)this.h.h=!0,w+=this.h.i.decode(te[R],{stream:!(Le&&R==Ae-1)});te.length=0,this.h.g+=w,this.C=0,Qe=this.h.g}else Qe=this.g.oa();if(this.o=U==200,Kn(this.i,this.u,this.A,this.l,this.R,Nn,U),this.o){if(this.T&&!this.K){t:{if(this.g){var $t,on=this.g;if(($t=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C($t)){var Ht=$t;break t}}Ht=null}if(U=Ht)ir(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ga(this,U);else{this.o=!1,this.s=3,pt(12),Gi(this),go(this);break e}}if(this.P){U=!0;let ai;for(;!this.J&&this.C<Qe.length;)if(ai=Wc(this,Qe),ai==po){Nn==4&&(this.s=4,pt(14),U=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(ai==ho){this.s=4,pt(15),ir(this.i,this.l,Qe,"[Invalid Chunk]"),U=!1;break}else ir(this.i,this.l,ai,null),ga(this,ai);if(ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||Qe.length!=0||this.h.h||(this.s=1,pt(16),U=!1),this.o=this.o&&U,!U)ir(this.i,this.l,Qe,"[Invalid Chunked Response]"),Gi(this),go(this);else if(0<Qe.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+Qe.length),cl(En),En.M=!0,pt(11))}}else ir(this.i,this.l,Qe,null),ga(this,Qe);Nn==4&&Gi(this),this.o&&!this.J&&(Nn==4?Ws(this.j,this):(this.o=!1,Dn(this)))}else ws(this.g),U==400&&0<Qe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Gi(this),go(this)}}}catch{}finally{}};function ma(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Wc(w,R){var U=w.C,te=R.indexOf(`
`,U);return te==-1?po:(U=Number(R.substring(U,te)),isNaN(U)?ho:(te+=1,te+U>R.length?po:(R=R.slice(te,te+U),w.C=te+U,R)))}hr.prototype.cancel=function(){this.J=!0,Gi(this)};function Dn(w){w.S=Date.now()+w.I,$c(w,w.I)}function $c(w,R){if(w.B!=null)throw Error("WatchDog timer not null");w.B=Nr(m(w.ba,w),R)}function Ms(w){w.B&&(a.clearTimeout(w.B),w.B=null)}hr.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(Vo(this.i,this.A),this.L!=2&&(Xr(),pt(17)),Gi(this),this.s=2,go(this)):$c(this,this.S-w)};function go(w){w.j.G==0||w.J||Ws(w.j,w)}function Gi(w){Ms(w);var R=w.M;R&&typeof R.ma=="function"&&R.ma(),w.M=null,Pi(w.U),w.g&&(R=w.g,w.g=null,R.abort(),R.ma())}function ga(w,R){try{var U=w.j;if(U.G!=0&&(U.g==w||ni(U.h,w))){if(!w.K&&ni(U.h,w)&&U.G==3){try{var te=U.Da.g.parse(R)}catch{te=null}if(Array.isArray(te)&&te.length==3){var Ae=te;if(Ae[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<w.F)_o(U),xs(U);else break e;Qo(U),pt(18)}}else U.za=Ae[1],0<U.za-U.T&&37500>Ae[2]&&U.F&&U.v==0&&!U.C&&(U.C=Nr(m(U.Za,U),6e3));if(1>=ya(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else vi(U,11)}else if((w.K||U.g==w)&&_o(U),!C(R))for(Ae=U.Da.g.parse(R),R=0;R<Ae.length;R++){let Ht=Ae[R];if(U.T=Ht[0],Ht=Ht[1],U.G==2)if(Ht[0]=="c"){U.K=Ht[1],U.ia=Ht[2];const En=Ht[3];En!=null&&(U.la=En,U.j.info("VER="+U.la));const Nn=Ht[4];Nn!=null&&(U.Aa=Nn,U.j.info("SVER="+U.Aa));const Ri=Ht[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(te=1.5*Ri,U.L=te,U.j.info("backChannelRequestTimeoutMs_="+te)),te=U;const ai=w.g;if(ai){const So=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var Le=te.h;Le.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(Yn(Le,Le.h),Le.h=null))}if(te.D){const To=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(te.ya=To,kn(te.I,te.D,To))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-w.F,U.j.info("Handshake RTT: "+U.R+"ms")),te=U;var Qe=w;if(te.qa=A(te,te.J?te.ia:null,te.W),Qe.K){Wl(te.h,Qe);var $t=Qe,on=te.L;on&&($t.I=on),$t.B&&(Ms($t),Dn($t)),te.g=Qe}else bo(te);0<U.i.length&&zs(U)}else Ht[0]!="stop"&&Ht[0]!="close"||vi(U,7);else U.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?vi(U,7):sr(U):Ht[0]!="noop"&&U.l&&U.l.ta(Ht),U.v=0)}}Xr(4)}catch{}}var Hc=class{constructor(w,R){this.g=w,this.map=R}};function Uo(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ki(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function ya(w){return w.h?1:w.g?w.g.size:0}function ni(w,R){return w.h?w.h==R:w.g?w.g.has(R):!1}function Yn(w,R){w.g?w.g.add(R):w.h=R}function Wl(w,R){w.h&&w.h==R?w.h=null:w.g&&w.g.has(R)&&w.g.delete(R)}Uo.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function $l(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let R=w.i;for(const U of w.g.values())R=R.concat(U.D);return R}return S(w.i)}function va(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(c(w)){for(var R=[],U=w.length,te=0;te<U;te++)R.push(w[te]);return R}R=[],U=0;for(te in w)R[U++]=w[te];return R}function zo(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(c(w)||typeof w=="string"){var R=[];w=w.length;for(var U=0;U<w;U++)R.push(U);return R}R=[],U=0;for(const te in w)R[U++]=te;return R}}}function qo(w,R){if(w.forEach&&typeof w.forEach=="function")w.forEach(R,void 0);else if(c(w)||typeof w=="string")Array.prototype.forEach.call(w,R,void 0);else for(var U=zo(w),te=va(w),Ae=te.length,Le=0;Le<Ae;Le++)R.call(void 0,te[Le],U&&U[Le],w)}var ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function il(w,R){if(w){w=w.split("&");for(var U=0;U<w.length;U++){var te=w[U].indexOf("="),Ae=null;if(0<=te){var Le=w[U].substring(0,te);Ae=w[U].substring(te+1)}else Le=w[U];R(Le,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function pr(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof pr){this.h=w.h,Wo(this,w.j),this.o=w.o,this.g=w.g,$o(this,w.s),this.l=w.l;var R=w.i,U=new ys;U.i=R.i,R.g&&(U.g=new Map(R.g),U.h=R.h),yo(this,U),this.m=w.m}else w&&(R=String(w).match(ri))?(this.h=!1,Wo(this,R[1]||"",!0),this.o=rn(R[2]||""),this.g=rn(R[3]||"",!0),$o(this,R[4]),this.l=rn(R[5]||"",!0),yo(this,R[6]||"",!0),this.m=rn(R[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}pr.prototype.toString=function(){var w=[],R=this.j;R&&w.push(Fs(R,sl,!0),":");var U=this.g;return(U||R=="file")&&(w.push("//"),(R=this.o)&&w.push(Fs(R,sl,!0),"@"),w.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&w.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&w.push("/"),w.push(Fs(U,U.charAt(0)=="/"?Vs:Kc,!0))),(U=this.i.toString())&&w.push("?",U),(U=this.m)&&w.push("#",Fs(U,Ho)),w.join("")};function ii(w){return new pr(w)}function Wo(w,R,U){w.j=U?rn(R,!0):R,w.j&&(w.j=w.j.replace(/:$/,""))}function $o(w,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);w.s=R}else w.s=null}function yo(w,R,U){R instanceof ys?(w.i=R,Bs(w.i,w.h)):(U||(R=Fs(R,wa)),w.i=new ys(R,w.h))}function kn(w,R,U){w.i.set(R,U)}function vo(w){return kn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function rn(w,R){return w?R?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Fs(w,R,U){return typeof w=="string"?(w=encodeURI(w).replace(R,Gc),U&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Gc(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var sl=/[#\/\?@]/g,Kc=/[#\?:]/g,Vs=/[#\?]/g,wa=/[#\?@]/g,Ho=/#/g;function ys(w,R){this.h=this.g=null,this.i=w||null,this.j=!!R}function gn(w){w.g||(w.g=new Map,w.h=0,w.i&&il(w.i,function(R,U){w.add(decodeURIComponent(R.replace(/\+/g," ")),U)}))}t=ys.prototype,t.add=function(w,R){gn(this),this.i=null,w=Yi(this,w);var U=this.g.get(w);return U||this.g.set(w,U=[]),U.push(R),this.h+=1,this};function vs(w,R){gn(w),R=Yi(w,R),w.g.has(R)&&(w.i=null,w.h-=w.g.get(R).length,w.g.delete(R))}function Ki(w,R){return gn(w),R=Yi(w,R),w.g.has(R)}t.forEach=function(w,R){gn(this),this.g.forEach(function(U,te){U.forEach(function(Ae){w.call(R,Ae,te,this)},this)},this)},t.na=function(){gn(this);const w=Array.from(this.g.values()),R=Array.from(this.g.keys()),U=[];for(let te=0;te<R.length;te++){const Ae=w[te];for(let Le=0;Le<Ae.length;Le++)U.push(R[te])}return U},t.V=function(w){gn(this);let R=[];if(typeof w=="string")Ki(this,w)&&(R=R.concat(this.g.get(Yi(this,w))));else{w=Array.from(this.g.values());for(let U=0;U<w.length;U++)R=R.concat(w[U])}return R},t.set=function(w,R){return gn(this),this.i=null,w=Yi(this,w),Ki(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[R]),this.h+=1,this},t.get=function(w,R){return w?(w=this.V(w),0<w.length?String(w[0]):R):R};function Rt(w,R,U){vs(w,R),0<U.length&&(w.i=null,w.g.set(Yi(w,R),S(U)),w.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],R=Array.from(this.g.keys());for(var U=0;U<R.length;U++){var te=R[U];const Le=encodeURIComponent(String(te)),Qe=this.V(te);for(te=0;te<Qe.length;te++){var Ae=Le;Qe[te]!==""&&(Ae+="="+encodeURIComponent(String(Qe[te]))),w.push(Ae)}}return this.i=w.join("&")};function Yi(w,R){return R=String(R),w.j&&(R=R.toLowerCase()),R}function Bs(w,R){R&&!w.j&&(gn(w),w.i=null,w.g.forEach(function(U,te){var Ae=te.toLowerCase();te!=Ae&&(vs(this,te),Rt(this,Ae,U))},w)),w.j=R}function Us(w,R){const U=new Ir;if(a.Image){const te=new Image;te.onload=g(si,U,"TestLoadImage: loaded",!0,R,te),te.onerror=g(si,U,"TestLoadImage: error",!1,R,te),te.onabort=g(si,U,"TestLoadImage: abort",!1,R,te),te.ontimeout=g(si,U,"TestLoadImage: timeout",!1,R,te),a.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=w}else R(!1)}function Hl(w,R){const U=new Ir,te=new AbortController,Ae=setTimeout(()=>{te.abort(),si(U,"TestPingServer: timeout",!1,R)},1e4);fetch(w,{signal:te.signal}).then(Le=>{clearTimeout(Ae),Le.ok?si(U,"TestPingServer: ok",!0,R):si(U,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Ae),si(U,"TestPingServer: error",!1,R)})}function si(w,R,U,te,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),te(U)}catch{}}function ol(){this.g=new Wi}function al(w,R,U){const te=U||"";try{qo(w,function(Ae,Le){let Qe=Ae;d(Ae)&&(Qe=xn(Ae)),R.push(te+Le+"="+encodeURIComponent(Qe))})}catch(Ae){throw R.push(te+"type="+encodeURIComponent("_badmap")),Ae}}function wo(w){this.l=w.Ub||null,this.j=w.eb||!1}b(wo,sn),wo.prototype.g=function(){return new xa(this.l,this.j)},wo.prototype.i=function(w){return function(){return w}}({});function xa(w,R){St.call(this),this.D=w,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(xa,St),t=xa.prototype,t.open=function(w,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=R,this.readyState=1,oi(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(R.body=w),(this.D||a).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yc(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yc(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var R=w.value?w.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!w.done}))&&(this.response=this.responseText+=R)}w.done?Ni(this):oi(this),this.readyState==3&&Yc(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,Ni(this))},t.Qa=function(w){this.g&&(this.response=w,Ni(this))},t.ga=function(){this.g&&Ni(this)};function Ni(w){w.readyState=4,w.l=null,w.j=null,w.v=null,oi(w)}t.setRequestHeader=function(w,R){this.u.append(w,R)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],R=this.h.entries();for(var U=R.next();!U.done;)U=U.value,w.push(U[0]+": "+U[1]),U=R.next();return w.join(`\r
`)};function oi(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function gi(w){let R="";return ae(w,function(U,te){R+=te,R+=":",R+=U,R+=`\r
`}),R}function Go(w,R,U){e:{for(te in U){var te=!1;break e}te=!0}te||(U=gi(U),typeof w=="string"?U!=null&&encodeURIComponent(String(U)):kn(w,R,U))}function Tn(w){St.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Tn,St);var Gl=/^https?$/i,Ko=["POST","PUT"];t=Tn.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,R,U,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);R=R?R.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?Os(this.o):Os(_r),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(R,String(w),!0),this.B=!1}catch(Le){Yo(this,Le);return}if(w=U||"",U=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var Ae in te)U.set(Ae,te[Ae]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const Le of te.keys())U.set(Le,te.get(Le));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(U.keys()).find(Le=>Le.toLowerCase()=="content-type"),Ae=a.FormData&&w instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ko,R,void 0))||te||Ae||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,Qe]of U)this.g.setRequestHeader(Le,Qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ii(this),this.u=!0,this.g.send(w),this.u=!1}catch(Le){Yo(this,Le)}};function Yo(w,R){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=R,w.m=5,ba(w),yi(w)}function ba(w){w.A||(w.A=!0,kt(w,"complete"),kt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,kt(this,"complete"),kt(this,"abort"),yi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),Tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ll(this):this.bb())},t.bb=function(){ll(this)};function ll(w){if(w.h&&typeof o<"u"&&(!w.v[1]||mr(w)!=4||w.Z()!=2)){if(w.u&&mr(w)==4)Ct(w.Ea,0,w);else if(kt(w,"readystatechange"),mr(w)==4){w.h=!1;try{const Qe=w.Z();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var U;if(!(U=R)){var te;if(te=Qe===0){var Ae=String(w.D).match(ri)[1]||null;!Ae&&a.self&&a.self.location&&(Ae=a.self.location.protocol.slice(0,-1)),te=!Gl.test(Ae?Ae.toLowerCase():"")}U=te}if(U)kt(w,"complete"),kt(w,"success");else{w.m=6;try{var Le=2<mr(w)?w.g.statusText:""}catch{Le=""}w.l=Le+" ["+w.Z()+"]",ba(w)}}finally{yi(w)}}}}function yi(w,R){if(w.g){Ii(w);const U=w.g,te=w.v[0]?()=>{}:null;w.g=null,w.v=null,R||kt(w,"ready");try{U.onreadystatechange=te}catch{}}}function Ii(w){w.I&&(a.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function mr(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var R=this.g.responseText;return w&&R.indexOf(w)==0&&(R=R.substring(w.length)),jn(R)}};function Kl(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(w){const R={};w=(w.g&&2<=mr(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<w.length;te++){if(C(w[te]))continue;var U=k(w[te]);const Ae=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Le=R[Ae]||[];R[Ae]=Le,Le.push(U)}F(R,function(te){return te.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(w,R,U){return U&&U.internalChannelParams&&U.internalChannelParams[w]||R}function _a(w){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rr("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rr("baseRetryDelayMs",5e3,w),this.cb=Rr("retryDelaySeedMs",1e4,w),this.Wa=Rr("forwardChannelMaxRetries",2,w),this.wa=Rr("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new Uo(w&&w.concurrentRequestLimit),this.Da=new ol,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_a.prototype,t.la=8,t.G=1,t.connect=function(w,R,U,te){pt(0),this.W=w,this.H=R||{},U&&te!==void 0&&(this.H.OSID=U,this.H.OAID=te),this.F=this.X,this.I=A(this,null,this.W),zs(this)};function sr(w){if(xo(w),w.G==3){var R=w.U++,U=ii(w.I);if(kn(U,"SID",w.K),kn(U,"RID",R),kn(U,"TYPE","terminate"),qs(w,U),R=new hr(w,w.j,R),R.L=2,R.v=vo(ii(U)),U=!1,a.navigator&&a.navigator.sendBeacon)try{U=a.navigator.sendBeacon(R.v.toString(),"")}catch{}!U&&a.Image&&(new Image().src=R.v,U=!0),U||(R.g=G(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Dn(R)}dl(w)}function xs(w){w.g&&(cl(w),w.g.cancel(),w.g=null)}function xo(w){xs(w),w.u&&(a.clearTimeout(w.u),w.u=null),_o(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&a.clearTimeout(w.s),w.s=null)}function zs(w){if(!ki(w.h)&&!w.s){w.s=!0;var R=w.Ga;ve||Y(),ce||(ve(),ce=!0),ne.add(R,w),w.B=0}}function Yl(w,R){return ya(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=R.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=Nr(m(w.Ga,w,R),ul(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const Ae=new hr(this,this.j,w);let Le=this.o;if(this.S&&(Le?(Le=L(Le),$(Le,this.S)):Le=this.S),this.m!==null||this.O||(Ae.H=Le,Le=null),this.P)e:{for(var R=0,U=0;U<this.i.length;U++){t:{var te=this.i[U];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(R+=te,4096<R){R=U;break e}if(R===4096||U===this.i.length-1){R=U+1;break e}}R=1e3}else R=1e3;R=bs(this,Ae,R),U=ii(this.I),kn(U,"RID",w),kn(U,"CVER",22),this.D&&kn(U,"X-HTTP-Session-Id",this.D),qs(this,U),Le&&(this.O?R="headers="+encodeURIComponent(String(gi(Le)))+"&"+R:this.m&&Go(U,this.m,Le)),Yn(this.h,Ae),this.Ua&&kn(U,"TYPE","init"),this.P?(kn(U,"$req",R),kn(U,"SID","null"),Ae.T=!0,mo(Ae,U,null)):mo(Ae,U,R),this.G=2}}else this.G==3&&(w?Xo(this,w):this.i.length==0||ki(this.h)||Xo(this))};function Xo(w,R){var U;R?U=R.l:U=w.U++;const te=ii(w.I);kn(te,"SID",w.K),kn(te,"RID",U),kn(te,"AID",w.T),qs(w,te),w.m&&w.o&&Go(te,w.m,w.o),U=new hr(w,w.j,U,w.B+1),w.m===null&&(U.H=w.o),R&&(w.i=R.D.concat(w.i)),R=bs(w,U,1e3),U.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),Yn(w.h,U),mo(U,te,R)}function qs(w,R){w.H&&ae(w.H,function(U,te){kn(R,te,U)}),w.l&&qo({},function(U,te){kn(R,te,U)})}function bs(w,R,U){U=Math.min(w.i.length,U);var te=w.l?m(w.l.Na,w.l,w):null;e:{var Ae=w.i;let Le=-1;for(;;){const Qe=["count="+U];Le==-1?0<U?(Le=Ae[0].g,Qe.push("ofs="+Le)):Le=0:Qe.push("ofs="+Le);let $t=!0;for(let on=0;on<U;on++){let Ht=Ae[on].g;const En=Ae[on].map;if(Ht-=Le,0>Ht)Le=Math.max(0,Ae[on].g-100),$t=!1;else try{al(En,Qe,"req"+Ht+"_")}catch{te&&te(En)}}if($t){te=Qe.join("&");break e}}}return w=w.i.splice(0,U),R.D=w,te}function bo(w){if(!w.g&&!w.u){w.Y=1;var R=w.Fa;ve||Y(),ce||(ve(),ce=!0),ne.add(R,w),w.v=0}}function Qo(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=Nr(m(w.Fa,w),ul(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,Xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=Nr(m(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),xs(this),Xc(this))};function cl(w){w.A!=null&&(a.clearTimeout(w.A),w.A=null)}function Xc(w){w.g=new hr(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var R=ii(w.qa);kn(R,"RID","rpc"),kn(R,"SID",w.K),kn(R,"AID",w.T),kn(R,"CI",w.F?"0":"1"),!w.F&&w.ja&&kn(R,"TO",w.ja),kn(R,"TYPE","xmlhttp"),qs(w,R),w.m&&w.o&&Go(R,w.m,w.o),w.L&&(w.g.I=w.L);var U=w.g;w=w.ia,U.L=1,U.v=vo(ii(R)),U.m=null,U.P=!0,Bo(U,w)}t.Za=function(){this.C!=null&&(this.C=null,xs(this),Qo(this),pt(19))};function _o(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Ws(w,R){var U=null;if(w.g==R){_o(w),cl(w),w.g=null;var te=2}else if(ni(w.h,R))U=R.D,Wl(w.h,R),te=1;else return;if(w.G!=0){if(R.o)if(te==1){U=R.m?R.m.length:0,R=Date.now()-R.F;var Ae=w.B;te=ms(),kt(te,new hi(te,U)),zs(w)}else bo(w);else if(Ae=R.s,Ae==3||Ae==0&&0<R.X||!(te==1&&Yl(w,R)||te==2&&Qo(w)))switch(U&&0<U.length&&(R=w.h,R.i=R.i.concat(U)),Ae){case 1:vi(w,5);break;case 4:vi(w,10);break;case 3:vi(w,6);break;default:vi(w,2)}}}function ul(w,R){let U=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(U*=2),U*R}function vi(w,R){if(w.j.info("Error code "+R),R==2){var U=m(w.fb,w),te=w.Xa;const Ae=!te;te=new pr(te||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wo(te,"https"),vo(te),Ae?Us(te.toString(),U):Hl(te.toString(),U)}else pt(2);w.G=0,w.l&&w.l.sa(R),dl(w),xo(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function dl(w){if(w.G=0,w.ka=[],w.l){const R=$l(w.h);(R.length!=0||w.i.length!=0)&&(T(w.ka,R),T(w.ka,w.i),w.h.i.length=0,S(w.i),w.i.length=0),w.l.ra()}}function A(w,R,U){var te=U instanceof pr?ii(U):new pr(U);if(te.g!="")R&&(te.g=R+"."+te.g),$o(te,te.s);else{var Ae=a.location;te=Ae.protocol,R=R?R+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var Le=new pr(null);te&&Wo(Le,te),R&&(Le.g=R),Ae&&$o(Le,Ae),U&&(Le.l=U),te=Le}return U=w.D,R=w.ya,U&&R&&kn(te,U,R),kn(te,"VER",w.la),qs(w,te),te}function G(w,R,U){if(R&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=w.Ca&&!w.pa?new Tn(new wo({eb:U})):new Tn(w.pa),R.Ha(w.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pe(){}t=pe.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xe(){}xe.prototype.g=function(w,R){return new Pe(w,R)};function Pe(w,R){St.call(this),this.g=new _a(R),this.l=w,this.h=R&&R.messageUrlParams||null,w=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(w?w["X-WebChannel-Content-Type"]=R.messageContentType:w={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(w?w["X-WebChannel-Client-Profile"]=R.va:w={"X-WebChannel-Client-Profile":R.va}),this.g.S=w,(w=R&&R.Sb)&&!C(w)&&(this.g.m=w),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!C(R)&&(this.g.D=R,w=this.h,w!==null&&R in w&&(w=this.h,R in w&&delete w[R])),this.j=new lt(this)}b(Pe,St),Pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pe.prototype.close=function(){sr(this.g)},Pe.prototype.o=function(w){var R=this.g;if(typeof w=="string"){var U={};U.__data__=w,w=U}else this.u&&(U={},U.__data__=xn(w),w=U);R.i.push(new Hc(R.Ya++,w)),R.G==3&&zs(R)},Pe.prototype.N=function(){this.g.l=null,delete this.j,sr(this.g),delete this.g,Pe.aa.N.call(this)};function Be(w){Yr.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var R=w.__sm__;if(R){e:{for(const U in R){w=U;break e}w=void 0}(this.i=w)&&(w=this.i,R=R!==null&&w in R?R[w]:void 0),this.data=R}else this.data=w}b(Be,Yr);function Xe(){Bn.call(this),this.status=1}b(Xe,Bn);function lt(w){this.g=w}b(lt,pe),lt.prototype.ua=function(){kt(this.g,"a")},lt.prototype.ta=function(w){kt(this.g,new Be(w))},lt.prototype.sa=function(w){kt(this.g,new Xe)},lt.prototype.ra=function(){kt(this.g,"b")},xe.prototype.createWebChannel=xe.prototype.g,Pe.prototype.send=Pe.prototype.o,Pe.prototype.open=Pe.prototype.m,Pe.prototype.close=Pe.prototype.close,tk=function(){return new xe},ek=function(){return ms()},ZP=Nt,sw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,f0=pi,Hi.COMPLETE="complete",JP=Hi,Vn.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",St.prototype.listen=St.prototype.K,Fp=Vn,Tn.prototype.listenOnce=Tn.prototype.L,Tn.prototype.getLastError=Tn.prototype.Ka,Tn.prototype.getLastErrorCode=Tn.prototype.Ba,Tn.prototype.getStatus=Tn.prototype.Z,Tn.prototype.getResponseJson=Tn.prototype.Oa,Tn.prototype.getResponseText=Tn.prototype.oa,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Ha,QP=Tn}).apply(typeof Ug<"u"?Ug:typeof self<"u"?self:typeof window<"u"?window:{});const hT="@firebase/firestore",pT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}us.UNAUTHENTICATED=new us(null),us.GOOGLE_CREDENTIALS=new us("google-credentials-uid"),us.FIRST_PARTY=new us("first-party-uid"),us.MOCK_USER=new us("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new qx("@firebase/firestore");function sh(){return uf.logLevel}function gt(t,...e){if(uf.logLevel<=fn.DEBUG){const n=e.map(nb);uf.debug(`Firestore (${$h}): ${t}`,...n)}}function Rc(t,...e){if(uf.logLevel<=fn.ERROR){const n=e.map(nb);uf.error(`Firestore (${$h}): ${t}`,...n)}}function jh(t,...e){if(uf.logLevel<=fn.WARN){const n=e.map(nb);uf.warn(`Firestore (${$h}): ${t}`,...n)}}function nb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nk(t,r,n)}function nk(t,e,n){let r=`FIRESTORE (${$h}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rc(r),new Error(r)}function Fn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||nk(e,i,r)}function Xt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Ul{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(us.UNAUTHENTICATED))}shutdown(){}}class nB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rB{constructor(e){this.t=e,this.currentUser=us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Cc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cc,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cc)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fn(typeof r.accessToken=="string",31837,{l:r}),new rk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fn(e===null||typeof e=="string",2055,{h:e}),new us(e)}}class iB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=us.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ls(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fn(this.o===void 0,3512);const r=s=>{s.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,gt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=aB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function hn(t,e){return t<e?-1:t>e?1:0}function ow(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return F1(i)===F1(s)?hn(i,s):F1(i)?1:-1}return hn(t.length,e.length)}const lB=55296,cB=57343;function F1(t){const e=t.charCodeAt(0);return e>=lB&&e<=cB}function Dh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="__name__";class El{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ut(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ut(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return El.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=El.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return hn(e.length,n.length)}static compareSegments(e,n){const r=El.isNumericId(e),i=El.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?El.extractNumericId(e).compare(El.extractNumericId(n)):ow(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yu.fromString(e.substring(4,e.length-2))}}class Zn extends El{construct(e,n,r){return new Zn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new dt(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Zn(n)}static emptyPath(){return new Zn([])}}const uB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends El{construct(e,n,r){return new zi(e,n,r)}static isValidIdentifier(e){return uB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gT}static keyField(){return new zi([gT])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new dt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new dt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new dt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new dt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(n)}static emptyPath(){return new zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.path=e}static fromPath(e){return new At(Zn.fromString(e))}static fromName(e){return new At(Zn.fromString(e).popFirst(5))}static empty(){return new At(Zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Zn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Zn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e,n){if(!n)throw new dt(We.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dB(t,e,n,r){if(e===!0&&r===!0)throw new dt(We.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yT(t){if(!At.isDocumentKey(t))throw new dt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vT(t){if(At.isDocumentKey(t))throw new dt(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ut(12329,{type:typeof t})}function Qa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new dt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vy(t);throw new dt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fm(t,e){if(!sk(t))throw new dt(We.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new dt(We.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=-62135596800,xT=1e6;class er{static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xT);return new er(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new dt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wT)throw new dt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xT}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:er._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fm(e,er._jsonSchema))return new er(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}er._jsonSchemaVersion="firestore/timestamp/1.0",er._jsonSchema={type:ti("string",er._jsonSchemaVersion),seconds:ti("number"),nanoseconds:ti("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new er(0,0))}static max(){return new Gt(new er(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=-1;function fB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new er(n+1,0):new er(n,r));return new td(i,At.empty(),e)}function hB(t){return new td(t.readTime,t.key,fm)}class td{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new td(Gt.min(),At.empty(),fm)}static max(){return new td(Gt.max(),At.empty(),fm)}}function pB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=At.comparator(t.documentKey,e.documentKey),n!==0?n:hn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t){if(t.code!==We.FAILED_PRECONDITION||t.message!==mB)throw t;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ge((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ge?n:Ge.resolve(n)}catch(n){return Ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ge.reject(n)}static resolve(e){return new Ge((n,r)=>{n(e)})}static reject(e){return new Ge((n,r)=>{r(e)})}static waitFor(e){return new Ge((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=Ge.resolve(!1);for(const r of e)n=n.next(i=>i?Ge.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ge((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(f=>{o[d]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new Ge((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function yB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}By.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=-1;function Uy(t){return t==null}function H0(t){return t===0&&1/t==-1/0}function vB(t){return typeof t=="number"&&Number.isInteger(t)&&!H0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="";function wB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bT(e)),e=xB(t.get(n),e);return bT(e)}function xB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case ok:n+="";break;default:n+=s}}return n}function bT(t){return t+ok+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.comparator=e,this.root=n||Ui.EMPTY}insert(e,n){return new Pr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zg(this.root,e,this.comparator,!1)}getReverseIterator(){return new zg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zg(this.root,e,this.comparator,!0)}}class zg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ui.RED,this.left=i??Ui.EMPTY,this.right=s??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ui(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ut(27949);return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1;Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ui(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof fi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fi(this.comparator);return n.data=e,n}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.fields=e,e.sort(zi.comparator)}static empty(){return new Lo([])}unionWith(e){let n=new fi(zi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lk("Invalid base64 string: "+s):s}}(e);return new qi(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const bB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nd(t){if(Fn(!!t,39018),typeof t=="string"){let e=0;const n=bB.exec(t);if(Fn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qr(t.seconds),nanos:qr(t.nanos)}}function qr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rd(t){return typeof t=="string"?qi.fromBase64String(t):qi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="server_timestamp",uk="__type__",dk="__previous_value__",fk="__local_write_time__";function zy(t){return(t?.mapValue?.fields||{})[uk]?.stringValue===ck}function qy(t){const e=t.mapValue.fields[dk];return zy(e)?qy(e):e}function hm(t){const e=nd(t.mapValue.fields[fk].timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n,r,i,s,o,a,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const G0="(default)";class pm{constructor(e,n){this.projectId=e,this.database=n||G0}static empty(){return new pm("","")}get isDefaultDatabase(){return this.database===G0}isEqual(e){return e instanceof pm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="__type__",SB="__max__",qg={mapValue:{}},pk="__vector__",K0="value";function id(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zy(t)?4:EB(t)?9007199254740991:TB(t)?10:11:Ut(28295,{value:t})}function Fl(t,e){if(t===e)return!0;const n=id(t);if(n!==id(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hm(t).isEqual(hm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=nd(i.timestampValue),a=nd(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return rd(i.bytesValue).isEqual(rd(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qr(i.geoPointValue.latitude)===qr(s.geoPointValue.latitude)&&qr(i.geoPointValue.longitude)===qr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qr(i.integerValue)===qr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qr(i.doubleValue),a=qr(s.doubleValue);return o===a?H0(o)===H0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Dh(t.arrayValue.values||[],e.arrayValue.values||[],Fl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_T(o)!==_T(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Fl(o[c],a[c])))return!1;return!0}(t,e);default:return Ut(52216,{left:t})}}function mm(t,e){return(t.values||[]).find(n=>Fl(n,e))!==void 0}function Oh(t,e){if(t===e)return 0;const n=id(t),r=id(e);if(n!==r)return hn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hn(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=qr(s.integerValue||s.doubleValue),c=qr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return TT(t.timestampValue,e.timestampValue);case 4:return TT(hm(t),hm(e));case 5:return ow(t.stringValue,e.stringValue);case 6:return function(s,o){const a=rd(s),c=rd(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const f=hn(a[d],c[d]);if(f!==0)return f}return hn(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=hn(qr(s.latitude),qr(o.latitude));return a!==0?a:hn(qr(s.longitude),qr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ET(t.arrayValue,e.arrayValue);case 10:return function(s,o){const a=s.fields||{},c=o.fields||{},d=a[K0]?.arrayValue,f=c[K0]?.arrayValue,h=hn(d?.values?.length||0,f?.values?.length||0);return h!==0?h:ET(d,f)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===qg.mapValue&&o===qg.mapValue)return 0;if(s===qg.mapValue)return 1;if(o===qg.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const m=ow(c[h],f[h]);if(m!==0)return m;const g=Oh(a[c[h]],d[f[h]]);if(g!==0)return g}return hn(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ut(23264,{he:n})}}function TT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return hn(t,e);const n=nd(t),r=nd(e),i=hn(n.seconds,r.seconds);return i!==0?i:hn(n.nanos,r.nanos)}function ET(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Oh(n[i],r[i]);if(s)return s}return hn(n.length,r.length)}function Mh(t){return aw(t)}function aw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=nd(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return At.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=aw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${aw(n.fields[o])}`;return i+"}"}(t.mapValue):Ut(61005,{value:t})}function h0(t){switch(id(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qy(t);return e?16+h0(e):16;case 5:return 2*t.stringValue.length;case 6:return rd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+h0(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return fd(r.fields,(s,o)=>{i+=s.length+h0(o)}),i}(t.mapValue);default:throw Ut(13486,{value:t})}}function Y0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lw(t){return!!t&&"integerValue"in t}function sb(t){return!!t&&"arrayValue"in t}function AT(t){return!!t&&"nullValue"in t}function CT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function p0(t){return!!t&&"mapValue"in t}function TB(t){return(t?.mapValue?.fields||{})[hk]?.stringValue===pk}function Yp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yp(t.arrayValue.values[n]);return e}return{...t}}function EB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!p0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yp(n)}setAll(e){let n=zi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Yp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());p0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];p0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fd(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new io(Yp(this.value))}}function mk(t){const e=[];return fd(t.fields,(n,r)=>{const i=new zi([n]);if(p0(r)){const s=mk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Lo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ds(e,0,Gt.min(),Gt.min(),Gt.min(),io.empty(),0)}static newFoundDocument(e,n,r,i){return new ds(e,1,n,Gt.min(),r,i,0)}static newNoDocument(e,n){return new ds(e,2,n,Gt.min(),Gt.min(),io.empty(),0)}static newUnknownDocument(e,n){return new ds(e,3,n,Gt.min(),Gt.min(),io.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ds&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ds(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function PT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=At.comparator(At.fromName(o.referenceValue),n.key):r=Oh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,n="asc"){this.field=e,this.dir=n}}function AB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{}class ei extends gk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PB(e,n,r):n==="array-contains"?new IB(e,r):n==="in"?new RB(e,r):n==="not-in"?new LB(e,r):n==="array-contains-any"?new jB(e,r):new ei(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kB(e,r):new NB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oh(n,this.value)):n!==null&&id(this.value)===id(n)&&this.matchesComparison(Oh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ja extends gk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ja(e,n)}matches(e){return yk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yk(t){return t.op==="and"}function vk(t){return CB(t)&&yk(t)}function CB(t){for(const e of t.filters)if(e instanceof Ja)return!1;return!0}function cw(t){if(t instanceof ei)return t.field.canonicalString()+t.op.toString()+Mh(t.value);if(vk(t))return t.filters.map(e=>cw(e)).join(",");{const e=t.filters.map(n=>cw(n)).join(",");return`${t.op}(${e})`}}function wk(t,e){return t instanceof ei?function(r,i){return i instanceof ei&&r.op===i.op&&r.field.isEqual(i.field)&&Fl(r.value,i.value)}(t,e):t instanceof Ja?function(r,i){return i instanceof Ja&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&wk(o,i.filters[a]),!0):!1}(t,e):void Ut(19439)}function xk(t){return t instanceof ei?function(n){return`${n.field.canonicalString()} ${n.op} ${Mh(n.value)}`}(t):t instanceof Ja?function(n){return n.op.toString()+" {"+n.getFilters().map(xk).join(" ,")+"}"}(t):"Filter"}class PB extends ei{constructor(e,n,r){super(e,n,r),this.key=At.fromName(r.referenceValue)}matches(e){const n=At.comparator(e.key,this.key);return this.matchesComparison(n)}}class kB extends ei{constructor(e,n){super(e,"in",n),this.keys=bk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NB extends ei{constructor(e,n){super(e,"not-in",n),this.keys=bk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bk(t,e){return(e.arrayValue?.values||[]).map(n=>At.fromName(n.referenceValue))}class IB extends ei{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sb(n)&&mm(n.arrayValue,this.value)}}class RB extends ei{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mm(this.value.arrayValue,n)}}class LB extends ei{constructor(e,n){super(e,"not-in",n)}matches(e){if(mm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mm(this.value.arrayValue,n)}}class jB extends ei{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function NT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new DB(t,e,n,r,i,s,o)}function ob(t){const e=Xt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Uy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mh(r)).join(",")),e.Te=n}return e.Te}function ab(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kT(t.startAt,e.startAt)&&kT(t.endAt,e.endAt)}function uw(t){return At.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OB(t,e,n,r,i,s,o,a){return new Ef(t,e,n,r,i,s,o,a)}function lb(t){return new Ef(t)}function IT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cb(t){return t.collectionGroup!==null}function xh(t){const e=Xt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new fi(zi.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new gm(s,r))}),n.has(zi.keyField().canonicalString())||e.Ie.push(new gm(zi.keyField(),r))}return e.Ie}function Ll(t){const e=Xt(t);return e.Ee||(e.Ee=MB(e,xh(t))),e.Ee}function MB(t,e){if(t.limitType==="F")return NT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new gm(i.field,s)});const n=t.endAt?new Fh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fh(t.startAt.position,t.startAt.inclusive):null;return NT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dw(t,e){const n=t.filters.concat([e]);return new Ef(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function X0(t,e,n){return new Ef(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wy(t,e){return ab(Ll(t),Ll(e))&&t.limitType===e.limitType}function _k(t){return`${ob(Ll(t))}|lt:${t.limitType}`}function oh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xk(i)).join(", ")}]`),Uy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mh(i)).join(",")),`Target(${r})`}(Ll(t))}; limitType=${t.limitType})`}function $y(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):At.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of xh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const d=PT(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,xh(r),i)||r.endAt&&!function(o,a,c){const d=PT(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,xh(r),i))}(t,e)}function FB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Sk(t){return(e,n)=>{let r=!1;for(const i of xh(t)){const s=VB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VB(t,e,n){const r=t.field.isKeyField()?At.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),d=a.data.field(s);return c!==null&&d!==null?Oh(c,d):Ut(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ut(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fd(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ak(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=new Pr(At.comparator);function Lc(){return BB}const Tk=new Pr(At.comparator);function Vp(...t){let e=Tk;for(const n of t)e=e.insert(n.key,n);return e}function Ek(t){let e=Tk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kd(){return Xp()}function Ak(){return Xp()}function Xp(){return new Af(t=>t.toString(),(t,e)=>t.isEqual(e))}const UB=new Pr(At.comparator),zB=new fi(At.comparator);function pn(...t){let e=zB;for(const n of t)e=e.add(n);return e}const qB=new fi(hn);function WB(){return qB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:H0(e)?"-0":e}}function Ck(t){return{integerValue:""+t}}function $B(t,e){return vB(e)?Ck(e):ub(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this._=void 0}}function HB(t,e,n){return t instanceof ym?function(i,s){const o={fields:{[uk]:{stringValue:ck},[fk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zy(s)&&(s=qy(s)),s&&(o.fields[dk]=s),{mapValue:o}}(n,e):t instanceof vm?kk(t,e):t instanceof wm?Nk(t,e):function(i,s){const o=Pk(i,s),a=RT(o)+RT(i.Ae);return lw(o)&&lw(i.Ae)?Ck(a):ub(i.serializer,a)}(t,e)}function GB(t,e,n){return t instanceof vm?kk(t,e):t instanceof wm?Nk(t,e):n}function Pk(t,e){return t instanceof Q0?function(r){return lw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ym extends Hy{}class vm extends Hy{constructor(e){super(),this.elements=e}}function kk(t,e){const n=Ik(e);for(const r of t.elements)n.some(i=>Fl(i,r))||n.push(r);return{arrayValue:{values:n}}}class wm extends Hy{constructor(e){super(),this.elements=e}}function Nk(t,e){let n=Ik(e);for(const r of t.elements)n=n.filter(i=>!Fl(i,r));return{arrayValue:{values:n}}}class Q0 extends Hy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function RT(t){return qr(t.integerValue||t.doubleValue)}function Ik(t){return sb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n){this.field=e,this.transform=n}}function YB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vm&&i instanceof vm||r instanceof wm&&i instanceof wm?Dh(r.elements,i.elements,Fl):r instanceof Q0&&i instanceof Q0?Fl(r.Ae,i.Ae):r instanceof ym&&i instanceof ym}(t.transform,e.transform)}class XB{constructor(e,n){this.version=e,this.transformResults=n}}class ha{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ha}static exists(e){return new ha(void 0,e)}static updateTime(e){return new ha(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function m0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gy{}function Rk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new db(t.key,ha.none()):new Vm(t.key,t.data,ha.none());{const n=t.data,r=io.empty();let i=new fi(zi.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new hd(t.key,r,new Lo(i.toArray()),ha.none())}}function QB(t,e,n){t instanceof Vm?function(i,s,o){const a=i.value.clone(),c=jT(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hd?function(i,s,o){if(!m0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=jT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(Lk(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qp(t,e,n,r){return t instanceof Vm?function(s,o,a,c){if(!m0(s.precondition,o))return a;const d=s.value.clone(),f=DT(s.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof hd?function(s,o,a,c){if(!m0(s.precondition,o))return a;const d=DT(s.fieldTransforms,c,o),f=o.data;return f.setAll(Lk(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return m0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Pk(r.transform,i||null);s!=null&&(n===null&&(n=io.empty()),n.set(r.field,s))}return n||null}function LT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dh(r,i,(s,o)=>YB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vm extends Gy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hd extends Gy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Lk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jT(t,e,n){const r=new Map;Fn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,GB(o,a,n[i]))}return r}function DT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,HB(s,o,e))}return r}class db extends Gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZB extends Gy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&QB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ak();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=Rk(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pn())}isEqual(e){return this.batchId===e.batchId&&Dh(this.mutations,e.mutations,(n,r)=>LT(n,r))&&Dh(this.baseMutations,e.baseMutations,(n,r)=>LT(n,r))}}class fb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return UB}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr,wn;function rU(t){switch(t){case We.OK:return Ut(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return Ut(15467,{code:t})}}function jk(t){if(t===void 0)return Rc("GRPC error has no .code"),We.UNKNOWN;switch(t){case Jr.OK:return We.OK;case Jr.CANCELLED:return We.CANCELLED;case Jr.UNKNOWN:return We.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return We.INTERNAL;case Jr.UNAVAILABLE:return We.UNAVAILABLE;case Jr.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Jr.NOT_FOUND:return We.NOT_FOUND;case Jr.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Jr.ABORTED:return We.ABORTED;case Jr.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Jr.DATA_LOSS:return We.DATA_LOSS;default:return Ut(39323,{code:t})}}(wn=Jr||(Jr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new Yu([4294967295,4294967295],0);function OT(t){const e=iU().encode(t),n=new XP;return n.update(e),new Uint8Array(n.digest())}function MT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yu([n,r],0),new Yu([i,s],0)]}class hb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bp(`Invalid padding: ${n}`);if(r<0)throw new Bp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Yu.fromNumber(r)));return i.compare(sU)===1&&(i=new Yu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OT(e),[r,i]=MT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hb(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=OT(e),[r,i]=MT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ky(Gt.min(),i,new Pr(hn),Lc(),pn())}}class Bm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bm(r,n,pn(),pn(),pn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Dk{constructor(e,n){this.targetId=e,this.Ce=n}}class Ok{constructor(e,n,r=qi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FT{constructor(){this.ve=0,this.Fe=VT(),this.Me=qi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pn(),n=pn(),r=pn();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ut(38017,{changeType:s})}}),new Bm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=VT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lc(),this.Je=Wg(),this.He=Wg(),this.Ye=new Pr(hn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ut(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(uw(s))if(r===0){const o=new At(s.path);this.et(n,o,ds.newNoDocument(o,Gt.min()))}else Fn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=rd(r).toUint8Array()}catch(c){if(c instanceof lk)return jh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new hb(o,i,s)}catch(c){return jh(c instanceof Bp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&uw(a.target)){const c=new At(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ds.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=pn();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Ky(e,n,this.Ye,this.je,r);return this.je=Lc(),this.Je=Wg(),this.He=Wg(),this.Ye=new Pr(hn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new fi(hn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new fi(hn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||gt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wg(){return new Pr(At.comparator)}function VT(){return new Pr(At.comparator)}const aU={asc:"ASCENDING",desc:"DESCENDING"},lU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cU={and:"AND",or:"OR"};class uU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fw(t,e){return t.useProto3Json||Uy(e)?e:{value:e}}function J0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dU(t,e){return J0(t,e.toTimestamp())}function jl(t){return Fn(!!t,49232),Gt.fromTimestamp(function(n){const r=nd(n);return new er(r.seconds,r.nanos)}(t))}function pb(t,e){return hw(t,e).canonicalString()}function hw(t,e){const n=function(i){return new Zn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Fk(t){const e=Zn.fromString(t);return Fn(qk(e),10190,{key:e.toString()}),e}function pw(t,e){return pb(t.databaseId,e.path)}function V1(t,e){const n=Fk(e);if(n.get(1)!==t.databaseId.projectId)throw new dt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new dt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new At(Bk(n))}function Vk(t,e){return pb(t.databaseId,e)}function fU(t){const e=Fk(t);return e.length===4?Zn.emptyPath():Bk(e)}function mw(t){return new Zn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bk(t){return Fn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BT(t,e,n){return{name:pw(t,e),fields:n.value.mapValue.fields}}function hU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ut(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(Fn(f===void 0||typeof f=="string",58123),qi.fromBase64String(f||"")):(Fn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),qi.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const f=d.code===void 0?We.UNKNOWN:jk(d.code);return new dt(f,d.message||"")}(o);n=new Ok(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=V1(t,r.document.name),s=jl(r.document.updateTime),o=r.document.createTime?jl(r.document.createTime):Gt.min(),a=new io({mapValue:{fields:r.document.fields}}),c=ds.newFoundDocument(i,s,o,a),d=r.targetIds||[],f=r.removedTargetIds||[];n=new g0(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=V1(t,r.document),s=r.readTime?jl(r.readTime):Gt.min(),o=ds.newNoDocument(i,s),a=r.removedTargetIds||[];n=new g0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=V1(t,r.document),s=r.removedTargetIds||[];n=new g0([],s,i,null)}else{if(!("filter"in e))return Ut(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nU(i,s),a=r.targetId;n=new Dk(a,o)}}return n}function pU(t,e){let n;if(e instanceof Vm)n={update:BT(t,e.key,e.value)};else if(e instanceof db)n={delete:pw(t,e.key)};else if(e instanceof hd)n={update:BT(t,e.key,e.data),updateMask:SU(e.fieldMask)};else{if(!(e instanceof ZB))return Ut(16599,{Vt:e.type});n={verify:pw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ym)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Q0)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Ut(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:dU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ut(27497)}(t,e.precondition)),n}function mU(t,e){return t&&t.length>0?(Fn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?jl(i.updateTime):jl(s);return o.isEqual(Gt.min())&&(o=jl(s)),new XB(o,i.transformResults||[])}(n,e))):[]}function gU(t,e){return{documents:[Vk(t,e.path)]}}function yU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vk(t,i);const s=function(d){if(d.length!==0)return zk(Ja.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(m){return{field:ah(m.field),direction:xU(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=fw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:i}}function vU(t){let e=fU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fn(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=Uk(h);return m instanceof Ja&&vk(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(b){return new gm(lh(b.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Uy(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,g=h.values||[];return new Fh(g,m)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const m=!h.before,g=h.values||[];return new Fh(g,m)}(n.endAt)),OB(e,i,o,s,a,"F",c,d)}function wU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Uk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lh(n.unaryFilter.field);return ei.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lh(n.unaryFilter.field);return ei.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lh(n.unaryFilter.field);return ei.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lh(n.unaryFilter.field);return ei.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(t):t.fieldFilter!==void 0?function(n){return ei.create(lh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ja.create(n.compositeFilter.filters.map(r=>Uk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(n.compositeFilter.op))}(t):Ut(30097,{filter:t})}function xU(t){return aU[t]}function bU(t){return lU[t]}function _U(t){return cU[t]}function ah(t){return{fieldPath:t.canonicalString()}}function lh(t){return zi.fromServerFormat(t.fieldPath)}function zk(t){return t instanceof ei?function(n){if(n.op==="=="){if(CT(n.value))return{unaryFilter:{field:ah(n.field),op:"IS_NAN"}};if(AT(n.value))return{unaryFilter:{field:ah(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CT(n.value))return{unaryFilter:{field:ah(n.field),op:"IS_NOT_NAN"}};if(AT(n.value))return{unaryFilter:{field:ah(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ah(n.field),op:bU(n.op),value:n.value}}}(t):t instanceof Ja?function(n){const r=n.getFilters().map(i=>zk(i));return r.length===1?r[0]:{compositeFilter:{op:_U(n.op),filters:r}}}(t):Ut(54877,{filter:t})}function SU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,i,s=Gt.min(),o=Gt.min(),a=qi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.yt=e}}function EU(t){const e=vU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?X0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.Cn=new CU}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ge.resolve()}getCollectionParents(e,n){return Ge.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ge.resolve()}deleteFieldIndex(e,n){return Ge.resolve()}deleteAllFieldIndexes(e){return Ge.resolve()}createTargetIndexes(e,n){return Ge.resolve()}getDocumentsMatchingTarget(e,n){return Ge.resolve(null)}getIndexType(e,n){return Ge.resolve(0)}getFieldIndexes(e,n){return Ge.resolve([])}getNextCollectionGroupToUpdate(e){return Ge.resolve(null)}getMinOffset(e,n){return Ge.resolve(td.min())}getMinOffsetFromCollectionGroup(e,n){return Ge.resolve(td.min())}updateCollectionGroup(e,n,r){return Ge.resolve()}updateIndexEntries(e,n){return Ge.resolve()}}class CU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new fi(Zn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fi(Zn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wk=41943040;class no{static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(Wk,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vh(0)}static cr(){return new Vh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="LruGarbageCollector",PU=1048576;function qT([t,e],[n,r]){const i=hn(t,n);return i===0?hn(e,r):i}class kU{constructor(e){this.Ir=e,this.buffer=new fi(qT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){gt(zT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gh(n)?gt(zT,"Ignoring IndexedDB error during garbage collection: ",n):await Hh(n)}await this.Vr(3e5)})}}class IU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ge.resolve(By.ce);const r=new kU(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),Ge.resolve(UT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(d=Date.now(),sh()<=fn.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),Ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function RU(t,e){return new IU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.changes=new Af(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ds.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qp(r.mutation,i,Lo.empty(),er.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pn()){const i=Kd();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Vp();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Kd();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Lc();const o=Xp(),a=function(){return Xp()}();return n.forEach((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof hd)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Qp(f.mutation,d,f.mutation.getFieldMask(),er.now())):o.set(d.key,Lo.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>a.set(d,new jU(f,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Xp();let i=new Pr((o,a)=>o-a),s=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||Lo.empty();f=a.applyToLocalView(d,f),r.set(c,f);const h=(i.get(a.batchId)||pn()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,f=c.value,h=Ak();f.forEach(m=>{if(!s.has(m)){const g=Rk(n.get(m),r.get(m));g!==null&&h.set(m,g),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return Ge.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return At.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ge.resolve(Kd());let a=fm,c=s;return o.next(d=>Ge.forEach(d,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?Ge.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,pn())).next(f=>({batchId:a,changes:Ek(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new At(n)).next(r=>{let i=Vp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Vp();return this.indexManager.getCollectionParents(e,s).next(a=>Ge.forEach(a,c=>{const d=function(h,m){return new Ef(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ds.newInvalidDocument(f)))});let a=Vp();return o.forEach((c,d)=>{const f=s.get(c);f!==void 0&&Qp(f.mutation,d,Lo.empty(),er.now()),$y(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ge.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jl(i.createTime)}}(n)),Ge.resolve()}getNamedQuery(e,n){return Ge.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:EU(i.bundledQuery),readTime:jl(i.readTime)}}(n)),Ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.overlays=new Pr(At.comparator),this.qr=new Map}getOverlay(e,n){return Ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kd();return Ge.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),Ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),Ge.resolve()}getOverlaysForCollection(e,n,r){const i=Kd(),s=n.length+1,o=new At(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pr((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Kd(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const a=Kd(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=i)););return Ge.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tU(n,r));let s=this.qr.get(n);s===void 0&&(s=pn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(e){return Ge.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ge.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.Qr=new fi(Ai.$r),this.Ur=new fi(Ai.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ai(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ai(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new At(new Zn([])),r=new Ai(n,e),i=new Ai(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new At(new Zn([])),r=new Ai(n,e),i=new Ai(n,e+1);let s=pn();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ai(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ai{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return At.comparator(e.key,n.key)||hn(e.Yr,n.Yr)}static Kr(e,n){return hn(e.Yr,n.Yr)||At.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new fi(Ai.$r)}checkEmpty(e){return Ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eU(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Ai(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ge.resolve(o)}lookupMutationBatch(e,n){return Ge.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ge.resolve(this.mutationQueue.length===0?ib:this.tr-1)}getAllMutationBatches(e){return Ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ai(n,0),i=new Ai(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),Ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fi(hn);return n.forEach(i=>{const s=new Ai(i,0),o=new Ai(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),Ge.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;At.isDocumentKey(s)||(s=s.child(""));const o=new Ai(new At(s),0);let a=new fi(hn);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Yr)),!0)},o),Ge.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ge.forEach(n.mutations,i=>{const s=new Ai(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ai(n,0),i=this.Zr.firstAfterOrEqual(r);return Ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ge.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.ri=e,this.docs=function(){return new Pr(At.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ge.resolve(r?r.document.mutableCopy():ds.newInvalidDocument(n))}getEntries(e,n){let r=Lc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ds.newInvalidDocument(i))}),Ge.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Lc();const o=n.path,a=new At(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||pB(hB(f),r)<=0||(i.has(f.key)||$y(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return Ge.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ut(9500)}ii(e,n){return Ge.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UU(this)}getSize(e){return Ge.resolve(this.size)}}class UU extends LU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Ge.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.persistence=e,this.si=new Af(n=>ob(n),ab),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new mb,this.targetCount=0,this.ai=Vh.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Ge.resolve()}getLastRemoteSnapshotVersion(e){return Ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ge.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ge.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ge.resolve()}updateTargetData(e,n){return this.Pr(n),Ge.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ge.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ge.waitFor(s).next(()=>i)}getTargetCount(e){return Ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ge.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ge.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ge.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ge.resolve(r)}containsKey(e,n){return Ge.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n){this.ui={},this.overlays={},this.ci=new By(0),this.li=!1,this.li=!0,this.hi=new FU,this.referenceDelegate=e(this),this.Pi=new zU(this),this.indexManager=new AU,this.remoteDocumentCache=function(i){return new BU(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new TU(n),this.Ii=new OU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new VU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){gt("MemoryPersistence","Starting transaction:",e);const i=new qU(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return Ge.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class qU extends gB{constructor(e){super(),this.currentSequenceNumber=e}}class gb{constructor(e){this.persistence=e,this.Ri=new mb,this.Vi=null}static mi(e){return new gb(e)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ge.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ge.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ge.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ge.forEach(this.fi,r=>{const i=At.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Gt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Ge.or([()=>Ge.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Z0{constructor(e,n){this.persistence=e,this.pi=new Af(r=>wB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=RU(this,n)}static mi(e,n){return new Z0(e,n)}Ei(){}di(e){return Ge.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Ge.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?Ge.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Gt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ge.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ge.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ge.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=h0(e.data.value)),n}br(e,n,r){return Ge.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ge.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=pn(),i=pn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return w7()?8:yB(ps())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new WU;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(sh()<=fn.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",oh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ge.resolve()):(sh()<=fn.DEBUG&&gt("QueryEngine","Query:",oh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(sh()<=fn.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",oh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ll(n))):Ge.resolve())}ys(e,n){if(IT(n))return Ge.resolve(null);let r=Ll(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=X0(n,null,"F"),r=Ll(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pn(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,X0(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,i){return IT(n)||i.isEqual(Gt.min())?Ge.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Ge.resolve(null):(sh()<=fn.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oh(n)),this.vs(e,o,n,fB(i,fm)).next(a=>a))})}Ds(e,n){let r=new fi(Sk(e));return n.forEach((i,s)=>{$y(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return sh()<=fn.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",oh(n)),this.ps.getDocumentsMatchingQuery(e,n,td.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="LocalStore",HU=3e8;class GU{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Pr(hn),this.xs=new Af(s=>ob(s),ab),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function KU(t,e,n,r){return new GU(t,e,n,r)}async function Hk(t,e){const n=Xt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=pn();for(const d of i){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function YU(t,e){const n=Xt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,f){const h=d.batch,m=h.keys();let g=Ge.resolve();return m.forEach(b=>{g=g.next(()=>f.getEntry(c,b)).next(S=>{const T=d.docVersions.get(b);Fn(T!==null,48541),S.version.compareTo(T)<0&&(h.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),f.addEntry(S)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pn();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Gk(t){const e=Xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function XU(t,e){const n=Xt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;a.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,h)));let g=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(qi.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),i=i.insert(h,g),function(S,T,E){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=HU?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,g,f)&&a.push(n.Pi.updateTargetData(s,g))});let c=Lc(),d=pn();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(QU(s,o,e.documentUpdates).next(f=>{c=f.ks,d=f.qs})),!r.isEqual(Gt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return Ge.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.Ms=i,s))}function QU(t,e,n){let r=pn(),i=pn();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Lc();return n.forEach((a,c)=>{const d=s.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Gt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):gt(vb,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:i}})}function JU(t,e){const n=Xt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ib),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZU(t,e){const n=Xt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,Ge.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new zu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function gw(t,e,n){const r=Xt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gh(o))throw o;gt(vb,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function WT(t,e,n){const r=Xt(t);let i=Gt.min(),s=pn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,f){const h=Xt(c),m=h.xs.get(f);return m!==void 0?Ge.resolve(h.Ms.get(m)):h.Pi.getTargetData(d,f)}(r,o,Ll(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Gt.min(),n?s:pn())).next(a=>(ez(r,FB(e),a),{documents:a,Qs:s})))}function ez(t,e,n){let r=t.Os.get(e)||Gt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class $T{constructor(){this.activeTargetIds=WB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tz{constructor(){this.Mo=new $T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $T,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="ConnectivityMonitor";class GT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gt(HT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){gt(HT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g=null;function yw(){return $g===null?$g=function(){return 268435456+Math.round(2147483648*Math.random())}():$g++,"0x"+$g.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="RestConnection",rz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===G0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=yw(),a=this.zo(e,n.toUriEncodedString());gt(B1,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:d}=new URL(a),f=dd(d);return this.Jo(e,a,c,r,f).then(h=>(gt(B1,`Received RPC '${e}' ${o}: `,h),h),h=>{throw jh(B1,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$h}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=rz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="WebChannelConnection";class oz extends iz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=yw();return new Promise((a,c)=>{const d=new QP;d.setWithCredentials(!0),d.listenOnce(JP.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case f0.NO_ERROR:const h=d.getResponseJson();gt(is,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case f0.TIMEOUT:gt(is,`RPC '${e}' ${o} timed out`),c(new dt(We.DEADLINE_EXCEEDED,"Request time out"));break;case f0.HTTP_ERROR:const m=d.getStatus();if(gt(is,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g?.error;if(b&&b.status&&b.message){const S=function(E){const C=E.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(C)>=0?C:We.UNKNOWN}(b.status);c(new dt(S,b.message))}else c(new dt(We.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new dt(We.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{gt(is,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);gt(is,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",f,r,15)})}T_(e,n,r){const i=yw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tk(),a=ek(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");gt(is,`Creating RPC '${e}' stream ${i}: ${f}`,c);const h=o.createWebChannel(f,c);this.I_(h);let m=!1,g=!1;const b=new sz({Yo:T=>{g?gt(is,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(gt(is,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),gt(is,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},Zo:()=>h.close()}),S=(T,E,C)=>{T.listen(E,I=>{try{C(I)}catch(j){setTimeout(()=>{throw j},0)}})};return S(h,Fp.EventType.OPEN,()=>{g||(gt(is,`RPC '${e}' stream ${i} transport opened.`),b.o_())}),S(h,Fp.EventType.CLOSE,()=>{g||(g=!0,gt(is,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(h))}),S(h,Fp.EventType.ERROR,T=>{g||(g=!0,jh(is,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),b.a_(new dt(We.UNAVAILABLE,"The operation could not be completed")))}),S(h,Fp.EventType.MESSAGE,T=>{if(!g){const E=T.data[0];Fn(!!E,16349);const C=E,I=C?.error||C[0]?.error;if(I){gt(is,`RPC '${e}' stream ${i} received error:`,I);const j=I.status;let K=function(L){const B=Jr[L];if(B!==void 0)return jk(B)}(j),ae=I.message;K===void 0&&(K=We.INTERNAL,ae="Unknown error status: "+j+" with message "+I.message),g=!0,b.a_(new dt(K,ae)),h.close()}else gt(is,`RPC '${e}' stream ${i} received:`,E),b.u_(E)}}),S(a,ZP.STAT_EVENT,T=>{T.stat===sw.PROXY?gt(is,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===sw.NOPROXY&&gt(is,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function U1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){return new uU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&gt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="PersistentStream";class Yk{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Kk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===We.RESOURCE_EXHAUSTED?(Rc(n.toString()),Rc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new dt(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return gt(KT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(gt(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class az extends Yk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hU(this.serializer,e),r=function(s){if(!("targetChange"in s))return Gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?jl(o.readTime):Gt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=mw(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=uw(c)?{documents:gU(s,c)}:{query:yU(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Mk(s,o.resumeToken);const d=fw(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Gt.min())>0){a.readTime=J0(s,o.snapshotVersion.toTimestamp());const d=fw(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=wU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=mw(this.serializer),n.removeTarget=e,this.q_(n)}}class lz extends Yk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mU(e.writeResults,e.commitTime),r=jl(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{}class uz extends cz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new dt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,hw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new dt(We.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,hw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(We.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class dz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rc(n),this.aa=!1):gt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="RemoteStore";class fz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Cf(this)&&(gt(df,"Restarting streams for network reachability change."),await async function(c){const d=Xt(c);d.Ea.add(4),await Um(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Xy(d)}(this))})}),this.Ra=new dz(r,i)}}async function Xy(t){if(Cf(t))for(const e of t.da)await e(!0)}async function Um(t){for(const e of t.da)await e(!1)}function Xk(t,e){const n=Xt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_b(n)?bb(n):Kh(n).O_()&&xb(n,e))}function wb(t,e){const n=Xt(t),r=Kh(n);n.Ia.delete(e),r.O_()&&Qk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Cf(n)&&n.Ra.set("Unknown"))}function xb(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kh(t).Y_(e)}function Qk(t,e){t.Va.Ue(e),Kh(t).Z_(e)}function bb(t){t.Va=new oU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Kh(t).start(),t.Ra.ua()}function _b(t){return Cf(t)&&!Kh(t).x_()&&t.Ia.size>0}function Cf(t){return Xt(t).Ea.size===0}function Jk(t){t.Va=void 0}async function hz(t){t.Ra.set("Online")}async function pz(t){t.Ia.forEach((e,n)=>{xb(t,e)})}async function mz(t,e){Jk(t),_b(t)?(t.Ra.ha(e),bb(t)):t.Ra.set("Unknown")}async function gz(t,e,n){if(t.Ra.set("Online"),e instanceof Ok&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){gt(df,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ey(t,r)}else if(e instanceof g0?t.Va.Ze(e):e instanceof Dk?t.Va.st(e):t.Va.tt(e),!n.isEqual(Gt.min()))try{const r=await Gk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(qi.EMPTY_BYTE_STRING,f.snapshotVersion)),Qk(s,c);const h=new zu(f.target,c,d,f.sequenceNumber);xb(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){gt(df,"Failed to raise snapshot:",r),await ey(t,r)}}async function ey(t,e,n){if(!Gh(e))throw e;t.Ea.add(1),await Um(t),t.Ra.set("Offline"),n||(n=()=>Gk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{gt(df,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Xy(t)})}function Zk(t,e){return e().catch(n=>ey(t,n,e))}async function Qy(t){const e=Xt(t),n=sd(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ib;for(;yz(e);)try{const i=await JU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,vz(e,i)}catch(i){await ey(e,i)}e3(e)&&t3(e)}function yz(t){return Cf(t)&&t.Ta.length<10}function vz(t,e){t.Ta.push(e);const n=sd(t);n.O_()&&n.X_&&n.ea(e.mutations)}function e3(t){return Cf(t)&&!sd(t).x_()&&t.Ta.length>0}function t3(t){sd(t).start()}async function wz(t){sd(t).ra()}async function xz(t){const e=sd(t);for(const n of t.Ta)e.ea(n.mutations)}async function bz(t,e,n){const r=t.Ta.shift(),i=fb.from(r,e,n);await Zk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qy(t)}async function _z(t,e){e&&sd(t).X_&&await async function(r,i){if(function(o){return rU(o)&&o!==We.ABORTED}(i.code)){const s=r.Ta.shift();sd(r).B_(),await Zk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qy(r)}}(t,e),e3(t)&&t3(t)}async function YT(t,e){const n=Xt(t);n.asyncQueue.verifyOperationInProgress(),gt(df,"RemoteStore received new credentials");const r=Cf(n);n.Ea.add(3),await Um(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xy(n)}async function Sz(t,e){const n=Xt(t);e?(n.Ea.delete(2),await Xy(n)):e||(n.Ea.add(2),await Um(n),n.Ra.set("Unknown"))}function Kh(t){return t.ma||(t.ma=function(n,r,i){const s=Xt(n);return s.sa(),new az(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:hz.bind(null,t),t_:pz.bind(null,t),r_:mz.bind(null,t),H_:gz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),_b(t)?bb(t):t.Ra.set("Unknown")):(await t.ma.stop(),Jk(t))})),t.ma}function sd(t){return t.fa||(t.fa=function(n,r,i){const s=Xt(n);return s.sa(),new lz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wz.bind(null,t),r_:_z.bind(null,t),ta:xz.bind(null,t),na:bz.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Qy(t)):(await t.fa.stop(),t.Ta.length>0&&(gt(df,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Sb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tb(t,e){if(Rc("AsyncQueue",`${e}: ${t}`),Gh(t))return new dt(We.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{static emptySet(e){return new bh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||At.comparator(n.key,r.key):(n,r)=>At.comparator(n.key,r.key),this.keyedMap=Vp(),this.sortedSet=new Pr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.ga=new Pr(At.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ut(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bh{constructor(e,n,r,i,s,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Bh(e,n,bh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ez{constructor(){this.queries=QT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xt(n),s=i.queries;i.queries=QT(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new dt(We.ABORTED,"Firestore shutting down"))}}function QT(){return new Af(t=>_k(t),Wy)}async function n3(t,e){const n=Xt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Tz,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Tb(o,`Initialization of query '${oh(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Eb(n)}async function r3(t,e){const n=Xt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Az(t,e){const n=Xt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Eb(n)}function Cz(t,e,n){const r=Xt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Eb(t){t.Ca.forEach(e=>{e.next()})}var vw,JT;(JT=vw||(vw={})).Ma="default",JT.Cache="cache";class i3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.key=e}}class o3{constructor(e){this.key=e}}class Pz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pn(),this.mutatedKeys=pn(),this.eu=Sk(e),this.tu=new bh(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new XT,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),g=$y(this.query,h)?h:null,b=!!m&&this.mutatedKeys.has(m.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;m&&g?m.data.isEqual(g.data)?b!==S&&(r.track({type:3,doc:g}),T=!0):this.su(m,g)||(r.track({type:2,doc:g}),T=!0,(c&&this.eu(g,c)>0||d&&this.eu(g,d)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),T=!0):m&&!g&&(r.track({type:1,doc:m}),T=!0,(c||d)&&(a=!0)),T&&(g?(o=o.add(g),s=S?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,h)=>function(g,b){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:T})}};return S(g)-S(b)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Bh(this.query,e.tu,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new o3(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new s3(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ab="SyncEngine";class kz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nz{constructor(e){this.key=e,this.hu=!1}}class Iz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Af(a=>_k(a),Wy),this.Iu=new Map,this.Eu=new Set,this.du=new Pr(At.comparator),this.Au=new Map,this.Ru=new mb,this.Vu={},this.mu=new Map,this.fu=Vh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rz(t,e,n=!0){const r=f3(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await a3(r,e,n,!0),i}async function Lz(t,e){const n=f3(t);await a3(n,e,!0,!1)}async function a3(t,e,n,r){const i=await ZU(t.localStore,Ll(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await jz(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Xk(t.remoteStore,i),a}async function jz(t,e,n,r,i){t.pu=(h,m,g)=>async function(S,T,E,C){let I=T.view.ru(E);I.Cs&&(I=await WT(S.localStore,T.query,!1).then(({documents:F})=>T.view.ru(F,I)));const j=C&&C.targetChanges.get(T.targetId),K=C&&C.targetMismatches.get(T.targetId)!=null,ae=T.view.applyChanges(I,S.isPrimaryClient,j,K);return eE(S,T.targetId,ae.au),ae.snapshot}(t,h,m,g);const s=await WT(t.localStore,e,!0),o=new Pz(e,s.Qs),a=o.ru(s.documents),c=Bm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,c);eE(t,n,d.au);const f=new kz(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Dz(t,e,n){const r=Xt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Wy(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wb(r.remoteStore,i.targetId),ww(r,i.targetId)}).catch(Hh)):(ww(r,i.targetId),await gw(r.localStore,i.targetId,!0))}async function Oz(t,e){const n=Xt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wb(n.remoteStore,r.targetId))}async function Mz(t,e,n){const r=Wz(t);try{const i=await function(o,a){const c=Xt(o),d=er.now(),f=a.reduce((g,b)=>g.add(b.key),pn());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=Lc(),S=pn();return c.Ns.getEntries(g,f).next(T=>{b=T,b.forEach((E,C)=>{C.isValidDocument()||(S=S.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(T=>{h=T;const E=[];for(const C of a){const I=JB(C,h.get(C.key).overlayedDocument);I!=null&&E.push(new hd(C.key,I,mk(I.value.mapValue),ha.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,E,a)}).next(T=>{m=T;const E=T.applyToLocalDocumentSet(h,S);return c.documentOverlayCache.saveOverlays(g,T.batchId,E)})}).then(()=>({batchId:m.batchId,changes:Ek(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new Pr(hn)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,i.batchId,n),await zm(r,i.changes),await Qy(r.remoteStore)}catch(i){const s=Tb(i,"Failed to persist write");n.reject(s)}}async function l3(t,e){const n=Xt(t);try{const r=await XU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Fn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Fn(o.hu,14607):i.removedDocuments.size>0&&(Fn(o.hu,42227),o.hu=!1))}),await zm(n,r,e)}catch(r){await Hh(r)}}function ZT(t,e,n){const r=Xt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Xt(o);c.onlineState=a;let d=!1;c.queries.forEach((f,h)=>{for(const m of h.Sa)m.va(a)&&(d=!0)}),d&&Eb(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Fz(t,e,n){const r=Xt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Pr(At.comparator);o=o.insert(s,ds.newNoDocument(s,Gt.min()));const a=pn().add(s),c=new Ky(Gt.min(),new Map,new Pr(hn),o,a);await l3(r,c),r.du=r.du.remove(s),r.Au.delete(e),Cb(r)}else await gw(r.localStore,e,!1).then(()=>ww(r,e,n)).catch(Hh)}async function Vz(t,e){const n=Xt(t),r=e.batch.batchId;try{const i=await YU(n.localStore,e);u3(n,r,null),c3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zm(n,i)}catch(i){await Hh(i)}}async function Bz(t,e,n){const r=Xt(t);try{const i=await function(o,a){const c=Xt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,a).next(h=>(Fn(h!==null,37113),f=h.keys(),c.mutationQueue.removeMutationBatch(d,h))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);u3(r,e,n),c3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zm(r,i)}catch(i){await Hh(i)}}function c3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function u3(t,e,n){const r=Xt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ww(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||d3(t,r)})}function d3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wb(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Cb(t))}function eE(t,e,n){for(const r of n)r instanceof s3?(t.Ru.addReference(r.key,e),Uz(t,r)):r instanceof o3?(gt(Ab,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||d3(t,r.key)):Ut(19791,{wu:r})}function Uz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(gt(Ab,"New document in limbo: "+n),t.Eu.add(r),Cb(t))}function Cb(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new At(Zn.fromString(e)),r=t.fu.next();t.Au.set(r,new Nz(n)),t.du=t.du.insert(n,r),Xk(t.remoteStore,new zu(Ll(lb(n.path)),r,"TargetPurposeLimboResolution",By.ce))}}async function zm(t,e,n){const r=Xt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=yb.As(c.targetId,d);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,d){const f=Xt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Ge.forEach(d,m=>Ge.forEach(m.Es,g=>f.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>Ge.forEach(m.ds,g=>f.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!Gh(h))throw h;gt(vb,"Failed to update sequence numbers: "+h)}for(const h of d){const m=h.targetId;if(!h.fromCache){const g=f.Ms.get(m),b=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(m,S)}}}(r.localStore,s))}async function zz(t,e){const n=Xt(t);if(!n.currentUser.isEqual(e)){gt(Ab,"User change. New user:",e.toKey());const r=await Hk(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new dt(We.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zm(n,r.Ls)}}function qz(t,e){const n=Xt(t),r=n.Au.get(e);if(r&&r.hu)return pn().add(r.key);{let i=pn();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function f3(t){const e=Xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fz.bind(null,e),e.Pu.H_=Az.bind(null,e.eventManager),e.Pu.yu=Cz.bind(null,e.eventManager),e}function Wz(t){const e=Xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bz.bind(null,e),e}class ty{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KU(this.persistence,new $U,e.initialUser,this.serializer)}Cu(e){return new $k(gb.mi,this.serializer)}Du(e){return new tz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ty.provider={build:()=>new ty};class $z extends ty{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fn(this.persistence.referenceDelegate instanceof Z0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new $k(r=>Z0.mi(r,n),this.serializer)}}class xw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zz.bind(null,this.syncEngine),await Sz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ez}()}createDatastore(e){const n=Yy(e.databaseInfo.databaseId),r=function(s){return new oz(s)}(e.databaseInfo);return function(s,o,a,c){return new uz(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new fz(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ZT(this.syncEngine,n,0),function(){return GT.v()?new GT:new nz}())}createSyncEngine(e,n){return function(i,s,o,a,c,d,f){const h=new Iz(i,s,o,a,c,d);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Xt(n);gt(df,"RemoteStore shutting down."),r.Ea.add(5),await Um(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xw.provider={build:()=>new xw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="FirestoreClient";class Hz{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=us.UNAUTHENTICATED,this.clientId=rb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{gt(od,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(gt(od,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function z1(t,e){t.asyncQueue.verifyOperationInProgress(),gt(od,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Hk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Gz(t);gt(od,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YT(e.remoteStore,i)),t._onlineComponents=e}async function Gz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){gt(od,"Using user provided OfflineComponentProvider");try{await z1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;jh("Error using user provided cache. Falling back to memory cache: "+n),await z1(t,new ty)}}else gt(od,"Using default OfflineComponentProvider"),await z1(t,new $z(void 0));return t._offlineComponents}async function p3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(gt(od,"Using user provided OnlineComponentProvider"),await tE(t,t._uninitializedComponentsProvider._online)):(gt(od,"Using default OnlineComponentProvider"),await tE(t,new xw))),t._onlineComponents}function Kz(t){return p3(t).then(e=>e.syncEngine)}async function m3(t){const e=await p3(t),n=e.eventManager;return n.onListen=Rz.bind(null,e.syncEngine),n.onUnlisten=Dz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Oz.bind(null,e.syncEngine),n}function Yz(t,e,n={}){const r=new Cc;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,d){const f=new h3({next:m=>{f.Nu(),o.enqueueAndForget(()=>r3(s,h));const g=m.docs.has(a);!g&&m.fromCache?d.reject(new dt(We.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?d.reject(new dt(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),h=new i3(lb(a.path),f,{includeMetadataChanges:!0,qa:!0});return n3(s,h)}(await m3(t),t.asyncQueue,e,n,r)),r.promise}function Xz(t,e,n={}){const r=new Cc;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,d){const f=new h3({next:m=>{f.Nu(),o.enqueueAndForget(()=>r3(s,h)),m.fromCache&&c.source==="server"?d.reject(new dt(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),h=new i3(a,f,{includeMetadataChanges:!0,qa:!0});return n3(s,h)}(await m3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firestore.googleapis.com",rE=!0;class iE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new dt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y3,this.ssl=rE}else this.host=e.host,this.ssl=e.ssl??rE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PU)throw new dt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g3(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tB;switch(r.type){case"firstParty":return new sB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nE.get(n);r&&(gt("ComponentProvider","Removing Datastore"),nE.delete(n),r.terminate())}(this),Promise.resolve()}}function Qz(t,e,n,r={}){t=Qa(t,Jy);const i=dd(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Ux(`https://${a}`),zx("Firestore",!0)),s.host!==y3&&s.host!==a&&jh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!of(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=us.MOCK_USER;else{d=aP(r.mockUserToken,t._app?.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new dt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new us(h)}t._authCredentials=new nB(new rk(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qc(this.firestore,e,this._query)}}class Kr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kr(this.firestore,e,this._key)}toJSON(){return{type:Kr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fm(n,Kr._jsonSchema))return new Kr(e,r||null,new At(Zn.fromString(n.referencePath)))}}Kr._jsonSchemaVersion="firestore/documentReference/1.0",Kr._jsonSchema={type:ti("string",Kr._jsonSchemaVersion),referencePath:ti("string")};class Xu extends qc{constructor(e,n,r){super(e,n,lb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kr(this.firestore,null,new At(e))}withConverter(e){return new Xu(this.firestore,e,this._path)}}function so(t,e,...n){if(t=xr(t),ik("collection","path",e),t instanceof Jy){const r=Zn.fromString(e,...n);return vT(r),new Xu(t,null,r)}{if(!(t instanceof Kr||t instanceof Xu))throw new dt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zn.fromString(e,...n));return vT(r),new Xu(t.firestore,null,r)}}function Hn(t,e,...n){if(t=xr(t),arguments.length===1&&(e=rb.newId()),ik("doc","path",e),t instanceof Jy){const r=Zn.fromString(e,...n);return yT(r),new Kr(t,null,new At(r))}{if(!(t instanceof Kr||t instanceof Xu))throw new dt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zn.fromString(e,...n));return yT(r),new Kr(t.firestore,t instanceof Xu?t.converter:null,new At(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="AsyncQueue";class oE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Kk(this,"async_queue_retry"),this._c=()=>{const r=U1();r&&gt(sE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=U1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=U1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Cc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gh(e))throw e;gt(sE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Rc("INTERNAL UNHANDLED ERROR: ",aE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Sb.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Ut(47125,{Pc:aE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Pf extends Jy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function Jz(t,e){const n=typeof t=="object"?t:$x(),r=typeof t=="string"?t:G0,i=jy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=iP("firestore");s&&Qz(i,...s)}return i}function Pb(t){if(t._terminated)throw new dt(We.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Zz(t),t._firestoreClient}function Zz(t){const e=t._freezeSettings(),n=function(i,s,o,a){return new _B(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,g3(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Hz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(qi.fromBase64String(e))}catch(n){throw new dt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:da._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fm(e,da._jsonSchema))return da.fromBase64String(e.bytes)}}da._jsonSchemaVersion="firestore/bytes/1.0",da._jsonSchema={type:ti("string",da._jsonSchemaVersion),bytes:ti("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new dt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new dt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new dt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dl._jsonSchemaVersion}}static fromJSON(e){if(Fm(e,Dl._jsonSchema))return new Dl(e.latitude,e.longitude)}}Dl._jsonSchemaVersion="firestore/geoPoint/1.0",Dl._jsonSchema={type:ti("string",Dl._jsonSchemaVersion),latitude:ti("number"),longitude:ti("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ol._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fm(e,Ol._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ol(e.vectorValues);throw new dt(We.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ol._jsonSchemaVersion="firestore/vectorValue/1.0",Ol._jsonSchema={type:ti("string",Ol._jsonSchemaVersion),vectorValues:ti("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=/^__.*__$/;class tq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hd(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vm(e,this.data,n,this.fieldTransforms)}}class v3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hd(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function w3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:t})}}class kb{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ny(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w3(this.Ac)&&eq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yy(e)}Cc(e,n,r,i=!1){return new kb({Ac:e,methodName:n,Dc:r,path:zi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qm(t){const e=t._freezeSettings(),n=Yy(t._databaseId);return new nq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x3(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Ib("Data must be an object, but it was:",o,r);const a=_3(r,o);let c,d;if(s.merge)c=new Lo(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=bw(e,h,n);if(!o.contains(m))throw new dt(We.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);T3(f,m)||f.push(m)}c=new Lo(f),d=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,d=o.fieldTransforms;return new tq(new io(a),c,d)}class tv extends ev{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tv}}class Nb extends ev{_toFieldTransform(e){return new KB(e.path,new ym)}isEqual(e){return e instanceof Nb}}function rq(t,e,n,r){const i=t.Cc(1,e,n);Ib("Data must be an object, but it was:",i,r);const s=[],o=io.empty();fd(r,(c,d)=>{const f=Rb(e,c,n);d=xr(d);const h=i.yc(f);if(d instanceof tv)s.push(f);else{const m=Wm(d,h);m!=null&&(s.push(f),o.set(f,m))}});const a=new Lo(s);return new v3(o,a,i.fieldTransforms)}function iq(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[bw(e,r,n)],c=[i];if(s.length%2!=0)throw new dt(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(bw(e,s[m])),c.push(s[m+1]);const d=[],f=io.empty();for(let m=a.length-1;m>=0;--m)if(!T3(d,a[m])){const g=a[m];let b=c[m];b=xr(b);const S=o.yc(g);if(b instanceof tv)d.push(g);else{const T=Wm(b,S);T!=null&&(d.push(g),f.set(g,T))}}const h=new Lo(d);return new v3(f,h,o.fieldTransforms)}function b3(t,e,n,r=!1){return Wm(n,t.Cc(r?4:3,e))}function Wm(t,e){if(S3(t=xr(t)))return Ib("Unsupported field value:",e,t),_3(t,e);if(t instanceof ev)return function(r,i){if(!w3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Wm(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $B(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=er.fromDate(r);return{timestampValue:J0(i.serializer,s)}}if(r instanceof er){const s=new er(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:J0(i.serializer,s)}}if(r instanceof Dl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:Mk(i.serializer,r._byteString)};if(r instanceof Kr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ol)return function(o,a){return{mapValue:{fields:{[hk]:{stringValue:pk},[K0]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return ub(a.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Vy(r)}`)}(t,e)}function _3(t,e){const n={};return ak(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fd(t,(r,i)=>{const s=Wm(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function S3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof er||t instanceof Dl||t instanceof da||t instanceof Kr||t instanceof ev||t instanceof Ol)}function Ib(t,e,n){if(!S3(n)||!sk(n)){const r=Vy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function bw(t,e,n){if((e=xr(e))instanceof Zy)return e._internalPath;if(typeof e=="string")return Rb(t,e);throw ny("Field path arguments must be of type string or ",t,!1,void 0,n)}const sq=new RegExp("[~\\*/\\[\\]]");function Rb(t,e,n){if(e.search(sq)>=0)throw ny(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zy(...e.split("."))._internalPath}catch{throw ny(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ny(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new dt(We.INVALID_ARGUMENT,a+t+c)}function T3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oq extends Lb{data(){return super.data()}}function nv(t,e){return typeof e=="string"?Rb(t,e):e instanceof Zy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new dt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jb{}class rv extends jb{}function ff(t,e,...n){let r=[];e instanceof jb&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof Db).length,a=s.filter(c=>c instanceof iv).length;if(o>1||o>0&&a>0)throw new dt(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class iv extends rv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new iv(e,n,r)}_apply(e){const n=this._parse(e);return E3(e._query,n),new qc(e.firestore,e.converter,dw(e._query,n))}_parse(e){const n=qm(e.firestore);return function(s,o,a,c,d,f,h){let m;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new dt(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){cE(h,f);const b=[];for(const S of h)b.push(lE(c,s,S));m={arrayValue:{values:b}}}else m=lE(c,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||cE(h,f),m=b3(a,o,h,f==="in"||f==="not-in");return ei.create(d,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _c(t,e,n){const r=e,i=nv("where",t);return iv._create(i,r,n)}class Db extends jb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Db(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ja.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)E3(o,c),o=dw(o,c)}(e._query,n),new qc(e.firestore,e.converter,dw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ob extends rv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ob(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new dt(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new dt(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gm(s,o)}(e._query,this._field,this._direction);return new qc(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ef(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function sv(t,e="asc"){const n=e,r=nv("orderBy",t);return Ob._create(r,n)}class Mb extends rv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Mb(e,n,r)}_apply(e){return new qc(e.firestore,e.converter,X0(e._query,this._limit,this._limitType))}}function lq(t){return Mb._create("limit",t,"F")}class Fb extends rv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Fb(e,n,r)}_apply(e){const n=uq(e,this.type,this._docOrFields,this._inclusive);return new qc(e.firestore,e.converter,function(i,s){return new Ef(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function cq(...t){return Fb._create("startAfter",t,!1)}function uq(t,e,n,r){if(n[0]=xr(n[0]),n[0]instanceof Lb)return function(s,o,a,c,d){if(!c)throw new dt(We.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const h of xh(s))if(h.field.isKeyField())f.push(Y0(o,c.key));else{const m=c.data.field(h.field);if(zy(m))throw new dt(We.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const g=h.field.canonicalString();throw new dt(We.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}f.push(m)}return new Fh(f,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=qm(t.firestore);return function(o,a,c,d,f,h){const m=o.explicitOrderBy;if(f.length>m.length)throw new dt(We.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let b=0;b<f.length;b++){const S=f[b];if(m[b].field.isKeyField()){if(typeof S!="string")throw new dt(We.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof S}`);if(!cb(o)&&S.indexOf("/")!==-1)throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${S}' contains a slash.`);const T=o.path.child(Zn.fromString(S));if(!At.isDocumentKey(T))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const E=new At(T);g.push(Y0(a,E))}else{const T=b3(c,d,S);g.push(T)}}return new Fh(g,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function lE(t,e,n){if(typeof(n=xr(n))=="string"){if(n==="")throw new dt(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&n.indexOf("/")!==-1)throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Zn.fromString(n));if(!At.isDocumentKey(r))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y0(t,new At(r))}if(n instanceof Kr)return Y0(t,n._key);throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vy(n)}.`)}function cE(t,e){if(!Array.isArray(t)||t.length===0)throw new dt(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E3(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new dt(We.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new dt(We.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dq{convertValue(e,n="none"){switch(id(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ut(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fd(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){const n=e.fields?.[K0].arrayValue?.values?.map(r=>qr(r.doubleValue));return new Ol(n)}convertGeoPoint(e){return new Dl(qr(e.latitude),qr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hm(e));default:return null}}convertTimestamp(e){const n=nd(e);return new er(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Zn.fromString(e);Fn(qk(r),9688,{name:e});const i=new pm(r.get(1),r.get(3)),s=new At(r.popFirst(5));return i.isEqual(n)||Rc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Up{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jd extends Lb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new y0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(We.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jd._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jd._jsonSchema={type:ti("string",Jd._jsonSchemaVersion),bundleSource:ti("string","DocumentSnapshot"),bundleName:ti("string"),bundle:ti("string")};class y0 extends Jd{data(e={}){return super.data(e)}}class _h{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Up(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new y0(this._firestore,this._userDataWriter,r.key,r,new Up(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new y0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Up(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new y0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Up(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:fq(a.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(We.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_h._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){t=Qa(t,Kr);const e=Qa(t.firestore,Pf);return Yz(Pb(e),t._key).then(n=>hq(e,t,n))}_h._jsonSchemaVersion="firestore/querySnapshot/1.0",_h._jsonSchema={type:ti("string",_h._jsonSchemaVersion),bundleSource:ti("string","QuerySnapshot"),bundleName:ti("string"),bundle:ti("string")};class C3 extends dq{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,n)}}function pf(t){t=Qa(t,qc);const e=Qa(t.firestore,Pf),n=Pb(e),r=new C3(e);return aq(t._query),Xz(n,t._query).then(i=>new _h(e,r,t,i))}function Zd(t,e,n){t=Qa(t,Kr);const r=Qa(t.firestore,Pf),i=A3(t.converter,e);return av(r,[x3(qm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ha.none())])}function Ga(t,e,n,...r){t=Qa(t,Kr);const i=Qa(t.firestore,Pf),s=qm(i);let o;return o=typeof(e=xr(e))=="string"||e instanceof Zy?iq(s,"updateDoc",t._key,e,n,r):rq(s,"updateDoc",t._key,e),av(i,[o.toMutation(t._key,ha.exists(!0))])}function xm(t){return av(Qa(t.firestore,Pf),[new db(t._key,ha.none())])}function ov(t,e){const n=Qa(t.firestore,Pf),r=Hn(t),i=A3(t.converter,e);return av(n,[x3(qm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ha.exists(!1))]).then(()=>r)}function av(t,e){return function(r,i){const s=new Cc;return r.asyncQueue.enqueueAndForget(async()=>Mz(await Kz(r),i,s)),s.promise}(Pb(t),e)}function hq(t,e,n){const r=n.docs.get(e._key),i=new C3(t);return new Jd(t,i,e._key,r,new Up(n.hasPendingWrites,n.fromCache),e.converter)}function jc(){return new Nb("serverTimestamp")}(function(e,n=!0){(function(i){$h=i})(Tf),af(new ed("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Pf(new rB(r.getProvider("auth-internal")),new oB(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new dt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pm(d.options.projectId,f)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Nl(hT,pT,e),Nl(hT,pT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firebasestorage.googleapis.com",k3="storageBucket",pq=120*1e3,mq=600*1e3,gq=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ul{constructor(e,n,r=0){super(q1(e),`Firebase Storage: ${n} (${q1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return q1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dr||(dr={}));function q1(t){return"storage/"+t}function Vb(){const t="An unknown error occurred, please check the error payload for server response.";return new kr(dr.UNKNOWN,t)}function yq(t){return new kr(dr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function vq(t){return new kr(dr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kr(dr.UNAUTHENTICATED,t)}function xq(){return new kr(dr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bq(t){return new kr(dr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function N3(){return new kr(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function I3(){return new kr(dr.CANCELED,"User canceled the upload/download.")}function _q(t){return new kr(dr.INVALID_URL,"Invalid URL '"+t+"'.")}function Sq(t){return new kr(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Tq(){return new kr(dr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+k3+"' property when initializing the app?")}function R3(){return new kr(dr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Eq(){return new kr(dr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Aq(){return new kr(dr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Cq(t){return new kr(dr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _w(t){return new kr(dr.INVALID_ARGUMENT,t)}function L3(){return new kr(dr.APP_DELETED,"The Firebase app was deleted.")}function Pq(t){return new kr(dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jp(t,e){return new kr(dr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _p(t){throw new kr(dr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=jo.makeFromUrl(e,n)}catch{return new jo(e,"")}if(r.path==="")return r;throw Sq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${f}/b/${i}/o${m}`,"i"),b={bucket:1,path:3},S=n===P3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",E=new RegExp(`^https?://${S}/${i}/${T}`,"i"),I=[{regex:a,indices:c,postModify:s},{regex:g,indices:b,postModify:d},{regex:E,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<I.length;j++){const K=I[j],ae=K.regex.exec(e);if(ae){const F=ae[K.indices.bucket];let L=ae[K.indices.path];L||(L=""),r=new jo(F,L),K.postModify(r);break}}if(r==null)throw _q(e);return r}}class kq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let d=!1;function f(...T){d||(d=!0,e.apply(null,T))}function h(T){i=setTimeout(()=>{i=null,t(g,c())},T)}function m(){s&&clearTimeout(s)}function g(T,...E){if(d){m();return}if(T){m(),f.call(null,T,...E);return}if(c()||o){m(),f.call(null,T,...E);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,h(I)}let b=!1;function S(T){b||(b=!0,m(),!d&&(i!==null?(T||(a=2),clearTimeout(i),h(0)):T||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function Iq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t){return t!==void 0}function Lq(t){return typeof t=="function"}function jq(t){return typeof t=="object"&&!Array.isArray(t)}function lv(t){return typeof t=="string"||t instanceof String}function uE(t){return Bb()&&t instanceof Blob}function Bb(){return typeof Blob<"u"}function dE(t,e,n,r){if(r<e)throw _w(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _w(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function j3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ef;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ef||(ef={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,n,r,i,s,o,a,c,d,f,h,m=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=h,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,S)=>{this.resolve_=b,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Hg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ef.NO_ERROR,c=s.getStatus();if(!a||D3(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===ef.ABORT;r(!1,new Hg(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Hg(d,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());Rq(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=Vb();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?L3():I3();o(c)}else{const c=N3();o(c)}};this.canceled_?n(!1,new Hg(!1,null,!0)):this.backoffId_=Nq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Iq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Oq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Mq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Vq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Bq(t,e,n,r,i,s,o=!0,a=!1){const c=j3(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return Fq(f,e),Oq(f,n),Mq(f,s),Vq(f,r),new Dq(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zq(...t){const e=Uq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Bb())return new Blob(t);throw new kr(dr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(t){if(typeof atob>"u")throw Cq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class W1{constructor(e,n){this.data=e,this.contentType=n||null}}function $q(t,e){switch(t){case Al.RAW:return new W1(O3(e));case Al.BASE64:case Al.BASE64URL:return new W1(M3(t,e));case Al.DATA_URL:return new W1(Gq(e),Kq(e))}throw Vb()}function O3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Hq(t){let e;try{e=decodeURIComponent(t)}catch{throw Jp(Al.DATA_URL,"Malformed data URL.")}return O3(e)}function M3(t,e){switch(t){case Al.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Jp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Al.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Jp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Wq(e)}catch(i){throw i.message.includes("polyfill")?i:Jp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class F3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Jp(Al.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Yq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Gq(t){const e=new F3(t);return e.base64?M3(Al.BASE64,e.rest):Hq(e.rest)}function Kq(t){return new F3(t).contentType}function Yq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){let r=0,i="";uE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(uE(this.data_)){const r=this.data_,i=qq(r,e,n);return i===null?null:new Vu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vu(r,!0)}}static getBlob(...e){if(Bb()){const n=e.map(r=>r instanceof Vu?r.data_:r);return new Vu(zq.apply(null,n))}else{const n=e.map(o=>lv(o)?$q(Al.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Vu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){let e;try{e=JSON.parse(t)}catch{return null}return jq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Qq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function B3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t,e){return e}class Ns{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Jq}}let Gg=null;function Zq(t){return!lv(t)||t.length<2?t:B3(t)}function U3(){if(Gg)return Gg;const t=[];t.push(new Ns("bucket")),t.push(new Ns("generation")),t.push(new Ns("metageneration")),t.push(new Ns("name","fullPath",!0));function e(s,o){return Zq(o)}const n=new Ns("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ns("size");return i.xform=r,t.push(i),t.push(new Ns("timeCreated")),t.push(new Ns("updated")),t.push(new Ns("md5Hash",null,!0)),t.push(new Ns("cacheControl",null,!0)),t.push(new Ns("contentDisposition",null,!0)),t.push(new Ns("contentEncoding",null,!0)),t.push(new Ns("contentLanguage",null,!0)),t.push(new Ns("contentType",null,!0)),t.push(new Ns("metadata","customMetadata",!0)),Gg=t,Gg}function eW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new jo(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function tW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return eW(r,t),r}function z3(t,e,n){const r=V3(e);return r===null?null:tW(t,r,n)}function nW(t,e,n,r){const i=V3(e);if(i===null||!lv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(d=>{const f=t.bucket,h=t.fullPath,m="/b/"+o(f)+"/o/"+o(h),g=$m(m,n,r),b=j3({alt:"media",token:d});return g+b})[0]}function q3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Yh{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){if(!t)throw Vb()}function Ub(t,e){function n(r,i){const s=z3(t,i,e);return Pc(s!==null),s}return n}function rW(t,e){function n(r,i){const s=z3(t,i,e);return Pc(s!==null),nW(s,i,t.host,t._protocol)}return n}function Hm(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=xq():i=wq():n.getStatus()===402?i=vq(t.bucket):n.getStatus()===403?i=bq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function W3(t){const e=Hm(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=yq(t.path)),s.serverResponse=i.serverResponse,s}return n}function iW(t,e,n){const r=e.fullServerUrl(),i=$m(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Yh(i,s,Ub(t,n),o);return a.errorHandler=W3(e),a}function sW(t,e,n){const r=e.fullServerUrl(),i=$m(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Yh(i,s,rW(t,n),o);return a.errorHandler=W3(e),a}function oW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oW(null,e)),r}function aW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let I="";for(let j=0;j<2;j++)I=I+Math.random().toString().slice(2);return I}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const d=$3(e,r,i),f=q3(d,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+c+"--",g=Vu.getBlob(h,r,m);if(g===null)throw R3();const b={name:d.fullPath},S=$m(s,t.host,t._protocol),T="POST",E=t.maxUploadRetryTime,C=new Yh(S,T,Ub(t,n),E);return C.urlParams=b,C.headers=o,C.body=g.uploadData(),C.errorHandler=Hm(e),C}class ry{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function zb(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Pc(!1)}return Pc(!!n&&(e||["active"]).indexOf(n)!==-1),n}function lW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=$3(e,r,i),a={name:o.fullPath},c=$m(s,t.host,t._protocol),d="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=q3(o,n),m=t.maxUploadRetryTime;function g(S){zb(S);let T;try{T=S.getResponseHeader("X-Goog-Upload-URL")}catch{Pc(!1)}return Pc(lv(T)),T}const b=new Yh(c,d,g,m);return b.urlParams=a,b.headers=f,b.body=h,b.errorHandler=Hm(e),b}function cW(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(d){const f=zb(d,["active","final"]);let h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pc(!1)}h||Pc(!1);const m=Number(h);return Pc(!isNaN(m)),new ry(m,r.size(),f==="final")}const o="POST",a=t.maxUploadRetryTime,c=new Yh(n,o,s,a);return c.headers=i,c.errorHandler=Hm(e),c}const fE=256*1024;function uW(t,e,n,r,i,s,o,a){const c=new ry(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Eq();const d=c.total-c.current;let f=d;i>0&&(f=Math.min(f,i));const h=c.current,m=h+f;let g="";f===0?g="finalize":d===f?g="upload, finalize":g="upload";const b={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${c.current}`},S=r.slice(h,m);if(S===null)throw R3();function T(j,K){const ae=zb(j,["active","final"]),F=c.current+f,L=r.size();let B;return ae==="final"?B=Ub(e,s)(j,K):B=null,new ry(F,L,ae==="final",B)}const E="POST",C=e.maxUploadRetryTime,I=new Yh(n,E,T,C);return I.headers=b,I.body=S.uploadData(),I.progressCallback=a||null,I.errorHandler=Hm(t),I}const ro={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $1(t){switch(t){case"running":case"pausing":case"canceling":return ro.RUNNING;case"paused":return ro.PAUSED;case"success":return ro.SUCCESS;case"canceled":return ro.CANCELED;case"error":return ro.ERROR;default:return ro.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dW=class{constructor(e,n,r){if(Lq(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class fW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ef.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ef.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ef.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw _p("cannot .send() more than once");if(dd(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _p("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _p("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _p("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _p("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hW extends fW{initXhr(){this.xhr_.responseType="text"}}function ch(){return new hW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=U3(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(dr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(D3(i.status,[]))if(s)i=N3();else{this.sleepTime=Math.max(this.sleepTime*2,gq),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(dr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=lW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ch,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=cW(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ch,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=fE*this._chunkMultiplier,n=new ry(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=uW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ch,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){fE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=iW(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ch,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=aW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ch,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=I3(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=$1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new dW(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch($1(this._state)){case ro.SUCCESS:Jf(this._resolve.bind(null,this.snapshot))();break;case ro.CANCELED:case ro.ERROR:const n=this._reject;Jf(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch($1(this._state)){case ro.RUNNING:case ro.PAUSED:e.next&&Jf(e.next.bind(e,this.snapshot))();break;case ro.SUCCESS:e.complete&&Jf(e.complete.bind(e))();break;case ro.CANCELED:case ro.ERROR:e.error&&Jf(e.error.bind(e,this._error))();break;default:e.error&&Jf(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this._service=e,n instanceof jo?this._location=n:this._location=jo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mf(e,n)}get root(){const e=new jo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B3(this._location.path)}get storage(){return this._service}get parent(){const e=Xq(this._location.path);if(e===null)return null;const n=new jo(this._location.bucket,e);return new mf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Pq(e)}}function mW(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new pW(t,new Vu(e),n)}function gW(t){t._throwIfRoot("getDownloadURL");const e=sW(t.storage,t._location,U3());return t.storage.makeRequestWithTokens(e,ch).then(n=>{if(n===null)throw Aq();return n})}function yW(t,e){const n=Qq(t._location.path,e),r=new jo(t._location.bucket,n);return new mf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t){return/^[A-Za-z]+:\/\//.test(t)}function wW(t,e){return new mf(t,e)}function H3(t,e){if(t instanceof qb){const n=t;if(n._bucket==null)throw Tq();const r=new mf(n,n._bucket);return e!=null?H3(r,e):r}else return e!==void 0?yW(t,e):t}function xW(t,e){if(e&&vW(e)){if(t instanceof qb)return wW(t,e);throw _w("To use ref(service, url), the first argument must be a Storage instance.")}else return H3(t,e)}function hE(t,e){const n=e?.[k3];return n==null?null:jo.makeFromBucketSpec(n,t)}function bW(t,e,n,r={}){t.host=`${e}:${n}`;const i=dd(e);i&&(Ux(`https://${t.host}/b`),zx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:aP(s,t.app.options.projectId))}class qb{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=P3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pq,this._maxUploadRetryTime=mq,this._requests=new Set,i!=null?this._bucket=jo.makeFromBucketSpec(i,this._host):this._bucket=hE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jo.makeFromBucketSpec(this._url,e):this._bucket=hE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new kq(L3());{const o=Bq(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const pE="@firebase/storage",mE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="storage";function K3(t,e,n){return t=xr(t),mW(t,e,n)}function Y3(t){return t=xr(t),gW(t)}function X3(t,e){return t=xr(t),xW(t,e)}function _W(t=$x(),e){t=xr(t);const r=jy(t,G3).getImmediate({identifier:e}),i=iP("storage");return i&&SW(r,...i),r}function SW(t,e,n,r={}){bW(t,e,n,r)}function TW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qb(n,r,i,e,Tf)}function EW(){af(new ed(G3,TW,"PUBLIC").setMultipleInstances(!0)),Nl(pE,mE,""),Nl(pE,mE,"esm2020")}EW();const AW={apiKey:"AIzaSyAi5sO9YJAhy_x6nMbJWNif96N_JJQC8LU",authDomain:"wishlist2cart-web.firebaseapp.com",projectId:"wishlist2cart-web",storageBucket:"wishlist2cart-web.firebasestorage.app",messagingSenderId:"671248690215",appId:"1:671248690215:web:425a8e80ed464ad6877202"},Wb=uP(AW),Sl=ZV(Wb),Q3=new vc,ln=Jz(Wb),J3=_W(Wb),Z3=z.createContext(),CW=({children:t})=>{const[e,n]=z.useState(null),[r,i]=z.useState(!0),s=Za(),o=async h=>{const m=Hn(ln,"users",h),g=await hf(m);if(g.exists()){const b=g.data();return n(b),localStorage.setItem("wishlist2cart_user",JSON.stringify(b)),b}else{const b=Sl.currentUser;if(b?.email){const S={uid:b.uid,name:b.displayName||"User",email:b.email,avatar:b.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(b.email)}`};return await Zd(m,S),n(S),localStorage.setItem("wishlist2cart_user",JSON.stringify(S)),S}else throw await nT(Sl),n(null),localStorage.removeItem("wishlist2cart_user"),new Error("User not found in Firestore.")}},a=async(h,m,g)=>{const b=h.toLowerCase().trim();if((await F9(Sl,b)).length>0)throw new Error("Email already in use.");const E=(await D9(Sl,b,m)).user,C={uid:E.uid,name:g,email:E.email,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(E.email)}`};return await Zd(Hn(ln,"users",E.uid),C),n(C),localStorage.setItem("wishlist2cart_user",JSON.stringify(C)),C},c=async(h,m)=>{const g=await O9(Sl,h,m);return await o(g.user.uid)},d=()=>hV(Sl,Q3),f=async()=>{await nT(Sl),n(null),localStorage.removeItem("wishlist2cart_user")};return z.useEffect(()=>{mV(Sl).then(async h=>{if(h?.user){const m=h.user,g=Hn(ln,"users",m.uid);if((await hf(g)).exists())await o(m.uid);else{const S={uid:m.uid,name:m.displayName||"Guest",email:m.email,avatar:m.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(m.email)}`};await Zd(g,S),n(S),localStorage.setItem("wishlist2cart_user",JSON.stringify(S))}s("/dashboard",{replace:!0})}}).catch(h=>{console.error("Redirect login error:",h)})},[s]),z.useEffect(()=>{const h=U9(Sl,async m=>{if(m)try{await o(m.uid)}catch(g){console.error("Sync error:",g),n(null),localStorage.removeItem("wishlist2cart_user")}else n(null),localStorage.removeItem("wishlist2cart_user");i(!1)});return()=>h()},[]),v.jsx(Z3.Provider,{value:{user:e,loading:r,loginWithEmail:c,register:a,loginWithGoogle:d,logout:f},children:!r&&t})},Fo=()=>z.useContext(Z3),eN=z.createContext(),Zf="cart_items",PW=({children:t})=>{const{user:e}=Fo(),[n,r]=z.useState([]),[i,s]=z.useState(!0);z.useEffect(()=>{if(!e){r([]),s(!1);return}s(!0),(async()=>{try{const g=ff(so(ln,Zf),_c("uid","==",e.uid)),S=(await pf(g)).docs.map(T=>({...T.data(),_docId:T.id}));r(S)}catch(g){console.error("[CartContext] Failed to fetch:",g),r([])}finally{s(!1)}})()},[e]);const o=z.useCallback(async m=>{if(!e)throw new Error("Not logged in");const g=n.find(b=>b.id===m.id);try{if(g){const b=(g.quantity||1)+1;await Ga(Hn(ln,Zf,g._docId),{quantity:b}),r(S=>S.map(T=>T.id===m.id?{...T,quantity:b}:T))}else{const b={...m,uid:e.uid,quantity:m.quantity||1,addedAt:jc()},S=Hn(so(ln,Zf));await Zd(S,b),r(T=>[...T,{...b,_docId:S.id}])}}catch(b){throw console.error("[CartContext] addToCart error:",b),b}},[e,n]),a=z.useCallback(async m=>{if(!e)throw new Error("Not logged in");const g=n.find(b=>b.id===m);if(g)try{await xm(Hn(ln,Zf,g._docId)),r(b=>b.filter(S=>S.id!==m))}catch(b){throw console.error("[CartContext] removeFromCart error:",b),b}},[e,n]),c=z.useCallback(async(m,g)=>{if(!e)throw new Error("Not logged in");if(g<1)return;const b=n.find(S=>S.id===m);if(b)try{await Ga(Hn(ln,Zf,b._docId),{quantity:g}),r(S=>S.map(T=>T.id===m?{...T,quantity:g}:T))}catch(S){throw console.error("[CartContext] setQuantity error:",S),S}},[e,n]),d=z.useMemo(()=>n.reduce((m,g)=>m+(g.price??0)*(g.quantity??1),0),[n]),f=z.useCallback(async()=>{if(!e)throw new Error("Not logged in");try{await Promise.all(n.map(m=>xm(Hn(ln,Zf,m._docId)))),r([])}catch(m){console.error("[CartContext] clearCart error:",m)}},[e,n]),h=z.useMemo(()=>({cartItems:n,addToCart:o,removeFromCart:a,setQuantity:c,getTotalValue:d,clearCart:f,loading:i}),[n,o,a,c,d,f,i]);return v.jsx(eN.Provider,{value:h,children:t})},Xh=()=>{const t=z.useContext(eN);if(!t)throw new Error("useCart must be used within a CartProvider");return t},tN=z.createContext(),Sp="wishlist_items",Tp="wishlist_w2c",kW=({children:t})=>{const{user:e}=Fo(),[n,r]=z.useState([]),[i,s]=z.useState([]),[o,a]=z.useState(!0);z.useEffect(()=>{(async()=>{if(!e){r([]),s([]),a(!1);return}a(!0);try{const E=ff(so(ln,Sp),_c("uid","==",e.uid)),I=(await pf(E)).docs.map(F=>({...F.data(),_docId:F.id})),j=ff(so(ln,Tp),_c("uid","==",e.uid)),ae=(await pf(j)).docs.map(F=>({...F.data(),_docId:F.id}));r(I),s(ae)}catch(E){console.error("[WishlistProvider] Failed to fetch wishlists:",E),r([]),s([])}finally{a(!1)}})()},[e]);const c=z.useCallback(async T=>{if(!e)throw new Error("Not logged in");r(E=>(E.find(C=>C.id===T.id),E));try{const E={...T,uid:e.uid,quantity:T.quantity||1,addedAt:jc(),sourceType:"universal"},C=Hn(so(ln,Sp));await Zd(C,E),r(I=>[...I,{...E,_docId:C.id}])}catch(E){throw console.error("[WishlistProvider] addToWishlist error:",E),E}},[e]),d=z.useCallback(async T=>{if(!e)throw new Error("Not logged in");s(E=>(E.find(C=>C.id===T.id),E));try{const E={...T,uid:e.uid,quantity:T.quantity||1,addedAt:jc(),sourceType:"w2c"},C=Hn(so(ln,Tp));await Zd(C,E),s(I=>[...I,{...E,_docId:C.id}])}catch(E){throw console.error("[WishlistProvider] addToW2C error:",E),E}},[e]),f=z.useCallback(async(T,E="universal")=>{if(!e)throw new Error("Not logged in");const I=(E==="universal"?n:i).find(j=>j.id===T);if(I)try{await xm(Hn(ln,E==="universal"?Sp:Tp,I._docId)),E==="universal"?r(K=>K.filter(ae=>ae.id!==T)):s(K=>K.filter(ae=>ae.id!==T))}catch(j){throw console.error(`[WishlistProvider] removeFromWishlist error (${E}):`,j),j}},[e,n,i]),h=z.useCallback(async(T,E,C="universal")=>{if(!e)throw new Error("Not logged in");const j=(C==="universal"?n:i).find(K=>K.id===T);if(j)try{await Ga(Hn(ln,C==="universal"?Sp:Tp,j._docId),E),C==="universal"?r(ae=>ae.map(F=>F.id===T?{...F,...E}:F)):s(ae=>ae.map(F=>F.id===T?{...F,...E}:F))}catch(K){throw console.error(`[WishlistProvider] updateItem error (${C}):`,K),K}},[e,n,i]),m=z.useCallback((T,E,C="universal")=>{E<1||h(T,{quantity:E},C)},[h]),g=z.useCallback(async(T,E="universal")=>{if(!e)throw new Error("Not logged in");const I=(E==="universal"?n:i).find(j=>j.id===T);if(I)try{await h(T,{inCart:!I.inCart},E)}catch(j){throw console.error(`[WishlistProvider] toggleCartStatus error (${E}):`,j),j}},[e,n,i,h]),b=z.useCallback(async(T="universal")=>{if(!e)throw new Error("Not logged in");const E=T==="universal"?Sp:Tp,C=T==="universal"?n:i;try{await Promise.all(C.map(I=>xm(Hn(ln,E,I._docId)))),T==="universal"?r([]):s([])}catch(I){throw console.error(`[WishlistProvider] clearWishlist error (${T}):`,I),I}},[e,n,i]),S=z.useMemo(()=>({wishlistItems:n,w2cItems:i,addToWishlist:c,addToW2C:d,removeFromWishlist:f,updateItem:h,updateQuantity:m,toggleCartStatus:g,clearWishlist:b,loading:o,user:e}),[n,i,c,d,f,h,m,g,b,o,e]);return v.jsx(tN.Provider,{value:S,children:t})},Qh=()=>{const t=z.useContext(tN);if(!t)throw new Error("useWishlist must be used within a WishlistProvider");return t},NW=1;let H1=0;function IW(){return H1=(H1+1)%Number.MAX_VALUE,H1.toString()}const Rs={state:{toasts:[]},listeners:[],getState:()=>Rs.state,setState:t=>{typeof t=="function"?Rs.state=t(Rs.state):Rs.state={...Rs.state,...t},Rs.listeners.forEach(e=>e(Rs.state))},subscribe:t=>(Rs.listeners.push(t),()=>{Rs.listeners=Rs.listeners.filter(e=>e!==t)})},Du=({...t})=>{const e=IW(),n=i=>Rs.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>Rs.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return Rs.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,NW)})),{id:e,dismiss:r,update:n}};function co(){const[t,e]=z.useState(Rs.getState());return z.useEffect(()=>Rs.subscribe(r=>{e(r)}),[]),z.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:Du,toasts:t.toasts}}function gE(){const[t,e]=z.useState(null);return z.useEffect(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)").matches,r=localStorage.theme;e(r==="dark"?!0:r==="light"?!1:n)},[]),z.useEffect(()=>{t!==null&&(document.documentElement.classList.toggle("dark",t),localStorage.theme=t?"dark":"light")},[t]),t===null?null:v.jsx("button",{onClick:()=>e(n=>!n),"aria-label":`Switch to ${t?"light":"dark"} mode`,title:`Switch to ${t?"light":"dark"} mode`,className:`
        flex items-center justify-center ml-1 p-2 transition
        rounded-full border border-gray-300 dark:border-gray-700
        shadow-sm focus:outline-none focus-visible:ring-2 focus-visible:ring-violet-500
        bg-white bg-opacity-80 dark:bg-gray-900 dark:bg-opacity-80
      `,style:{backdropFilter:"blur(6px)",WebkitBackdropFilter:"blur(6px)"},children:t?v.jsx(g8,{className:"w-5 h-5 text-yellow-400","aria-hidden":"true"}):v.jsx(d8,{className:"w-5 h-5 text-violet-600","aria-hidden":"true"})})}function yE({trigger:t,children:e}){const[n,r]=rt.useState(!1),i=rt.useRef();return rt.useEffect(()=>{const s=o=>{i.current&&!i.current.contains(o.target)&&r(!1)};return n&&document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[n]),rt.useEffect(()=>{const s=o=>{o.key==="Escape"&&r(!1)};return n&&window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[n]),v.jsxs("div",{className:"relative",ref:i,children:[v.jsx("button",{onClick:()=>r(s=>!s),"aria-haspopup":"true","aria-expanded":n,className:"relative focus:outline-none focus:ring-2 focus:ring-violet-500 rounded-md",tabIndex:0,type:"button",children:t}),v.jsx(Zu,{children:n&&v.jsx(Yt.div,{initial:{opacity:0,scale:.97,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.96,y:-10},transition:{duration:.2},className:"absolute right-0 mt-3 w-64 z-50 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl shadow-xl p-4",children:e})})]})}function cv(){const{user:t,logout:e}=Fo(),{cartItems:n}=Xh(),{wishlistItems:r}=Qh(),i=Za(),s=Bl(),[o,a]=rt.useState(!1),c=b=>s.pathname===b,d=n.slice(-3).reverse(),f=r.slice(-3).reverse(),h=n.reduce((b,S)=>b+(S.quantity||1),0),m=()=>{e(),i("/"),Du({title:"Logged out successfully",description:"See you soon! "})},g=[{to:"/dashboard",label:"Home"},{to:"/dashboard/brands",label:"Brands"},{to:"/dashboard/marketplace",label:"Marketplace"},{to:"/dashboard/cart",label:"Cart"},{to:"/dashboard/orders",label:"Orders"},{to:"/dashboard/settings",label:"Settings"},{to:"/dashboard/rewards",label:"Rewards"},...t?.role==="admin"?[{to:"/admin",label:"Admin Panel",special:!0},{to:"/custom-admin",label:"Custom Admin",special:!0}]:[]];return v.jsxs(v.Fragment,{children:[v.jsx(Yt.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-white/95 dark:bg-gray-900/90 border-b border-white/10 dark:border-gray-800 shadow-lg backdrop-blur-md supports-backdrop-blur:backdrop-blur-md",role:"navigation","aria-label":"Main navigation",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsxs(Er,{to:"/",className:"flex items-center gap-3 select-none",children:[v.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-violet-600 via-blue-500 to-blue-700 flex items-center justify-center shadow-lg",children:v.jsx(fa,{className:"w-6 h-6 text-white","aria-hidden":"true"})}),v.jsx("span",{className:"hidden md:inline text-2xl font-extrabold font-poppins tracking-wide bg-clip-text text-transparent select-none",style:{backgroundImage:"linear-gradient(90deg, #7c3aed, #2563eb 80%, #2563eb 100%)",WebkitBackgroundClip:"text",backgroundClip:"text"},children:"Wishlist2Cart"})]}),t&&v.jsx("nav",{className:"hidden md:flex items-center gap-8 text-base font-semibold select-none","aria-label":"Primary",children:g.map((b,S)=>v.jsx(Er,{to:b.to,className:`transition-colors duration-200 capitalize ${c(b.to)?b.special?"text-indigo-600 dark:text-indigo-400 font-bold":"text-violet-600 dark:text-violet-400 font-bold":"text-gray-600 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400"}`,children:b.label},S))}),v.jsxs("div",{className:"flex items-center space-x-3",children:[t&&v.jsx(yE,{trigger:v.jsxs("span",{className:"relative cursor-pointer","aria-label":"Wishlist",role:"button",tabIndex:0,children:[v.jsx(qh,{className:"h-6 w-6 text-pink-600 hover:text-pink-500 dark:text-pink-400 dark:hover:text-pink-300 transition"}),r.length>0&&v.jsx("span",{className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-pink-600 text-xs font-bold text-white shadow-md",children:r.length})]}),children:v.jsxs("div",{children:[v.jsxs("div",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:["Wishlist (",r.length,")"]}),r.length===0?v.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2",children:"No wishlist items yet."}):v.jsx("ul",{className:"max-h-48 overflow-auto space-y-2",children:f.map(b=>v.jsxs("li",{onClick:()=>{i(`/products/${b.id}`)},role:"button",tabIndex:0,className:"flex cursor-pointer items-center gap-2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:[v.jsx("img",{src:b.image,alt:b.title,className:"h-10 w-10 rounded object-cover",loading:"lazy"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"truncate text-xs font-semibold text-gray-800 dark:text-gray-100",children:b.title}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:b.category})]}),v.jsxs("p",{className:"text-xs font-bold text-pink-600 dark:text-pink-400 select-none",children:["",b.price?.toLocaleString()]})]},b.id))}),v.jsx(Er,{to:"/dashboard",children:v.jsx(Et,{size:"sm",className:"mt-3 w-full","aria-label":"View full wishlist",variant:"outline",children:"View Wishlist"})})]})}),t&&v.jsx(yE,{trigger:v.jsxs("span",{className:"relative cursor-pointer","aria-label":"Cart",role:"button",tabIndex:0,children:[v.jsx(fa,{className:"h-6 w-6 text-violet-600 hover:text-violet-500 dark:text-violet-400 dark:hover:text-violet-300 transition"}),h>0&&v.jsx("span",{className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-violet-600 text-xs font-bold text-white shadow-md",children:h})]}),children:v.jsxs("div",{children:[v.jsxs("div",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:["Cart (",h,")"]}),h===0?v.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 text-sm py-2",children:"Your cart is empty."}):v.jsx("ul",{className:"max-h-48 overflow-auto space-y-2",children:d.map(b=>v.jsxs("li",{onClick:()=>{i(`/products/${b.id}`)},role:"button",tabIndex:0,className:"flex cursor-pointer items-center gap-2 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800",children:[v.jsx("img",{src:b.image,alt:b.title,className:"h-10 w-10 rounded object-cover",loading:"lazy"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"truncate text-xs font-semibold text-gray-800 dark:text-gray-100",children:b.title}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:b.category})]}),v.jsxs("p",{className:"text-xs font-bold text-violet-600 dark:text-violet-400 select-none",children:["",b.price?.toLocaleString(),"  ",b.quantity??1]})]},b.id))}),v.jsx(Er,{to:"/cart",children:v.jsx(Et,{size:"sm",className:"mt-3 w-full","aria-label":"View full cart",variant:"outline",children:"View Cart"})})]})}),t?v.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[v.jsx(Er,{to:"/settings","aria-label":"User Settings",title:"User Settings",className:"inline-flex items-center justify-center p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-violet-600",tabIndex:0,children:v.jsx(Ry,{className:"h-6 w-6 text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400"})}),v.jsx(gE,{})]}):v.jsx(Et,{as:Er,to:"/login",size:"sm",className:"font-semibold",children:"Sign In"}),t&&v.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[v.jsx(gE,{}),v.jsx("button",{type:"button",className:"p-2 rounded-full text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 focus:outline-none focus:ring-2 focus:ring-violet-600",onClick:()=>a(!0),"aria-label":"Open Sidebar","aria-expanded":o,children:v.jsx(c8,{className:"h-6 w-6"})})]})]})]})})}),v.jsx(Zu,{children:o&&v.jsxs(Yt.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.25,ease:"easeInOut"},className:"fixed top-0 left-0 bottom-0 w-[80vw] max-w-xs bg-white dark:bg-gray-900 shadow-lg z-[100] flex flex-col","aria-label":"Sidebar menu",children:[v.jsxs("div",{className:"flex items-center justify-center h-16 border-b border-gray-200 dark:border-gray-700 px-4",children:[v.jsx(Er,{to:"/",onClick:()=>a(!1),children:v.jsx("span",{className:"text-xl font-extrabold font-poppins tracking-wide select-none bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, #7c3aed, #2563eb 80%, #2563eb 100%)",WebkitBackgroundClip:"text",backgroundClip:"text"},children:"Wishlist2Cart"})}),v.jsx("button",{onClick:()=>a(!1),className:"absolute right-2 top-4 p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none","aria-label":"Close Sidebar",children:""})]}),v.jsxs("nav",{className:"flex flex-col p-4 space-y-2",role:"navigation","aria-label":"Sidebar navigation",children:[g.map((b,S)=>v.jsx(Er,{to:b.to,onClick:()=>a(!1),className:`block rounded px-3 py-2 font-semibold ${c(b.to)?b.special?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-950 font-bold":"text-violet-600 dark:text-violet-400 bg-violet-50 dark:bg-violet-950 font-bold":"text-gray-700 dark:text-gray-300 hover:bg-violet-50 dark:hover:bg-violet-900"}`,children:b.label},S)),t&&v.jsx("div",{className:"mt-6 flex flex-col gap-2",children:v.jsxs(Et,{variant:"outline",size:"sm",className:"w-full font-semibold",onClick:()=>{m(),a(!1)},children:[v.jsx(W4,{className:"h-5 w-5 mr-2 inline"})," Log Out"]})})]})]})}),v.jsx(Zu,{children:o&&v.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:.32},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/40 z-[99] md:hidden","aria-hidden":"true",onClick:()=>a(!1)})})]})}const RW=()=>(co(),v.jsx("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[v.jsxs("div",{className:"flex flex-col items-start",children:[v.jsxs(Er,{to:"/",className:"flex items-center gap-3 mb-6",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:v.jsx(fa,{className:"w-6 h-6 text-white"})}),v.jsx("span",{className:"text-2xl font-extrabold font-poppins tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-violet-700 to-blue-700 dark:from-violet-400 dark:to-blue-400",children:"Wishlist2Cart"})]}),v.jsx("p",{className:"max-w-xs text-gray-600 dark:text-gray-300 font-medium leading-relaxed",children:"Transform Your Desires Into Deliveries."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 font-poppins tracking-wide",children:"Company"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsx("li",{children:v.jsx(Er,{to:"/about",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"About"})}),v.jsx("li",{children:v.jsx(Er,{to:"/contact",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"Contact"})}),v.jsx("li",{children:v.jsx(Er,{to:"/careers",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"Careers"})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 font-poppins tracking-wide",children:"Legal"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsx("li",{children:v.jsx(Er,{to:"/privacy-policy",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"Privacy Policy"})}),v.jsx("li",{children:v.jsx(Er,{to:"/terms-of-service",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"Terms of Service"})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 font-poppins tracking-wide",children:"Follow Us"}),v.jsxs("div",{className:"flex space-x-6",children:[v.jsx("a",{href:"https://x.com/dattaharshith",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors",children:v.jsx(v8,{size:24})}),v.jsx("a",{href:"https://github.com/Dattaharshithreddy",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors",children:v.jsx(e8,{size:24})}),v.jsx("a",{href:"https://www.linkedin.com/in/datta-harshith-reddy-83901b15b/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors",children:v.jsx(i8,{size:24})})]})]})]}),v.jsx("div",{className:"mt-16 border-t border-gray-200 dark:border-gray-800 pt-8 text-center",children:v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-poppins",children:[" ",new Date().getFullYear()," Wishlist2Cart. All rights reserved."]})})]})})),vE=({children:t,className:e,type:n="button",...r})=>v.jsx("button",{type:n,className:`inline-flex items-center justify-center rounded-lg p-2 text-sm font-medium transition-colors 
  bg-white text-gray-900 hover:bg-gray-100 
  dark:bg-transparent dark:text-gray-200 dark:hover:bg-white/10 
  focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500 
  disabled:pointer-events-none disabled:opacity-50 
  ${e}`,...r,children:t}),nN=z.createContext(),wE="loyaltyPoints",xE="userCoupons",bE="lastSpinDate",LW=({children:t})=>{const[e,n]=z.useState(0),[r,i]=z.useState([]),[s,o]=z.useState(null),[a,c]=z.useState(null);z.useEffect(()=>{const C=parseInt(localStorage.getItem(wE)||"0",10);n(C);try{const j=JSON.parse(localStorage.getItem(xE))||[];i(j)}catch{i([])}const I=localStorage.getItem(bE);I&&o(new Date(I))},[]),z.useEffect(()=>{localStorage.setItem(wE,e.toString())},[e]),z.useEffect(()=>{localStorage.setItem(xE,JSON.stringify(r))},[r]),z.useEffect(()=>{s&&localStorage.setItem(bE,s.toISOString())},[s]);const d=z.useCallback(C=>{n(I=>I+C)},[]),f=z.useCallback(C=>{i(I=>[...I,C])},[]),h=z.useCallback(C=>{i(I=>I.map(j=>j.id===C?{...j,used:!0}:j)),a?.id===C&&c(null)},[a]),m=z.useCallback(C=>{i(I=>I.map(j=>j.id===C?{...j,used:!1}:j))},[]),g=z.useCallback(C=>{o(C)},[]),b=s?new Date().toDateString()!==s.toDateString():!0,S=z.useCallback(()=>{const C=new Date;return r.filter(I=>!I.used&&(!I.expiry||new Date(I.expiry)>C))},[r]),T=z.useCallback(C=>{a||c(C)},[a]),E=z.useCallback(()=>{c(null)},[]);return v.jsx(nN.Provider,{value:{loyaltyPoints:e,coupons:r,appliedCoupon:a,addPoints:d,addCoupon:f,markCouponUsed:h,markCouponUnused:m,recordSpin:g,canSpin:b,getValidCoupons:S,applyCoupon:T,removeCoupon:E},children:t})},uv=()=>{const t=z.useContext(nN);if(!t)throw new Error("useRewards must be used within a RewardProvider");return t},eh=[{label:"100 OFF",type:"coupon",value:100},{label:"5% Cashback",type:"cashback",value:5},{label:"No Prize",type:"none"},{label:"Free Shipping",type:"shipping"},{label:"Extra 50 Coins",type:"coins",value:50},{label:"250 OFF",type:"coupon",value:250},{label:"10% Cashback",type:"cashback",value:10},{label:"50 OFF",type:"coupon",value:50}],_E=["#ec4899","#7c3aed"],Zp=320,SE=6e3;function jW(){return"W2C-"+Math.random().toString(36).slice(2,10).toUpperCase()}function DW({canSpin:t,onSpinResult:e,onSpinDenied:n}){const[r,i]=z.useState(!1),[s,o]=z.useState(null),[a,c]=z.useState(!1),d=z.useRef(null),f=()=>{if(r)return;if(!t){n();return}const g=Math.floor(Math.random()*eh.length);o(g),i(!0);const b=10,S=360/eh.length,T=360*b+(360-g*S-S/2);d.current&&(d.current.style.transition=`transform ${SE}ms cubic-bezier(0.33, 1, 0.68, 1)`,d.current.style.transform=`rotate(${T}deg)`),setTimeout(()=>{Uu({particleCount:400,spread:130,origin:{y:.6}}),i(!1),c(!0),e(eh[g])},SE)},h=()=>{c(!1)},m=()=>{const g=Zp/2,b=360/eh.length;return eh.map((S,T)=>{const E=b*T-90,C=E+b/2,I=S.label.length,j=I>14?12:I>7?16:20,K=I>14?.56:I>7?.64:.72,ae=g*K,F=C*Math.PI/180,L=g+ae*Math.cos(F),B=g+ae*Math.sin(F),$=E*Math.PI/180,k=(E+b)*Math.PI/180,D=g+g*Math.cos($),q=g+g*Math.sin($),se=g+g*Math.cos(k),we=g+g*Math.sin(k),fe=b>180?1:0,ve=`M${g},${g} L${D},${q} A${g},${g} 0 ${fe} 1 ${se},${we} Z`,ce=`gradient${T}`,ne=_E[T%_E.length];return v.jsxs("g",{children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:ce,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[v.jsx("stop",{offset:"0%",stopColor:ne==="#ec4899"?"#ec4899":"#7c3aed"}),v.jsx("stop",{offset:"100%",stopColor:ne==="#ec4899"?"#fbbf24":"#a855f7"})]})}),v.jsx("path",{fill:`url(#${ce})`,d:ve}),v.jsx("text",{x:L,y:B,fontFamily:"Poppins, Inter, Arial, sans-serif",fontSize:j,fontWeight:700,fill:"#fff",stroke:"#000a",strokeWidth:.85,paintOrder:"stroke fill",style:{userSelect:"none",pointerEvents:"none",filter:"drop-shadow(0 1px 2px rgba(0,0,0,0.7))"},textAnchor:"middle",alignmentBaseline:"middle",transform:`rotate(${C} ${L} ${B})`,"aria-label":S.label,children:S.label})]},T)})};return v.jsxs("section",{className:"my-10 text-center select-none","aria-live":"polite",children:[v.jsx("h2",{className:"daily-spin-heading font-extrabold mb-4 bg-gradient-to-r from-pink-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Daily Spin & Win"}),v.jsxs("div",{className:"spin-wheel-container",children:[v.jsx("svg",{ref:d,className:"rounded-full shadow-lg bg-white dark:bg-gray-900 transition-colors cursor-pointer",viewBox:`0 0 ${Zp} ${Zp}`,onClick:f,style:{userSelect:"none"},"aria-label":"Spin the wheel",role:"img",tabIndex:0,children:m()}),v.jsx("div",{className:"spin-pointer",children:""})]}),v.jsx(Et,{onClick:f,disabled:r||!t,className:"mt-8 px-12 py-4 text-xl font-extrabold tracking-wide","aria-live":"polite","aria-disabled":r||!t,children:r?"Spinning...":t?"Spin Now ":"Come back tomorrow"}),a&&s!==null&&v.jsx("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",onClick:h,children:v.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-8 shadow-xl max-w-sm w-full",onClick:g=>g.stopPropagation(),tabIndex:0,children:[v.jsx("h2",{className:"text-2xl font-extrabold mb-4 text-purple-700 dark:text-purple-400",children:" Congratulations! "}),v.jsxs("p",{className:"text-lg mb-6",children:["You won ",v.jsx("strong",{children:eh[s]?.label})]}),v.jsx(Et,{onClick:h,children:"Awesome"})]})})]})}function OW({loyaltyPoints:t,badges:e,onPointsChanged:n}){co();const[r,i]=z.useState(t||0),[s,o]=z.useState([]);z.useEffect(()=>{if(!e)return;const d=Array.from(new Set(e));o(d)},[e]);const a=200,c=Math.min(100,Math.floor(r/a*100));return v.jsxs("section",{className:"my-6 p-4 bg-gradient-to-r from-yellow-50 to-pink-400 dark:from-gray-800 dark:to-pink-600 rounded-xl shadow-inner select-none",children:[v.jsxs("h3",{className:"font-bold text-lg mb-2 dark:text-white",children:["Loyalty Points: ",r]}),v.jsx("div",{className:"w-full bg-gray-300 dark:bg-gray-700 rounded-full h-4",children:v.jsx("div",{className:"bg-pink-600 h-4 rounded-full transition-all",style:{width:`${c}%`}})}),v.jsxs("p",{className:"text-xs mt-1 dark:text-gray-300",children:[c,"% towards next tier (",a," points)"]}),v.jsx("div",{className:"mt-4 space-x-2",children:s.map(d=>v.jsx("span",{className:"inline-block bg-pink-700 text-white px-2 py-1 rounded-full text-xs font-semibold capitalize shadow",children:d.replace(/_/g," ")},d))})]})}function MW({user:t}){const[e,n]=z.useState(!1),r=`${window.location.origin}/signup?ref=${t?.uid||""}`;return v.jsxs(v.Fragment,{children:[v.jsx(Et,{variant:"outline",size:"sm",className:`
          fixed bottom-6 right-6 z-50 rounded-full
          font-bold tracking-wide uppercase
          bg-gradient-to-tr from-violet-100 via-white to-pink-100
          dark:from-[#24243e] dark:via-gray-900 dark:to-[#4A306D]
          text-violet-700 dark:text-pink-200
          border border-violet-300 dark:border-pink-600
          shadow-2xl
          transition-all
          hover:bg-pink-50 dark:hover:bg-[#2d1a49]
        `,style:{boxShadow:"0 4px 24px 0 rgba(140, 74, 218, 0.13)"},onClick:()=>n(!0),"aria-label":"Invite friends to earn rewards",children:v.jsxs("span",{className:"inline-flex items-center gap-2",children:[v.jsx("svg",{width:"1.1em",height:"1.1em",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:v.jsx("path",{d:"M18 8a6 6 0 1 1-11.847 1.528A4.485 4.485 0 0 0 1 13.5V15a1 1 0 0 0 1 1h14a2 2 0 0 0 2-2V8z"})}),"Invite & Earn"]})}),e&&v.jsx("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",onClick:()=>n(!1),children:v.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-lg max-w-sm w-full relative",onClick:i=>i.stopPropagation(),tabIndex:0,children:[v.jsx("h3",{className:"text-xl font-bold mb-3 text-center dark:text-white",children:"Invite your friends & earn rewards!"}),v.jsx("input",{type:"text",readOnly:!0,value:r,className:"w-full p-2 rounded border border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white",onFocus:i=>i.target.select(),"aria-label":"Referral link"}),v.jsxs("div",{className:"mt-4 flex space-x-2",children:[v.jsx(Et,{className:"flex-grow",onClick:()=>{navigator.clipboard.writeText(r),alert("Referral link copied to clipboard!")},children:"Copy Link"}),v.jsx(Et,{variant:"ghost",onClick:()=>n(!1),"aria-label":"Close invite popup",children:""})]})]})})]})}function FW(){const{user:t}=Fo(),{loyaltyPoints:e,badges:n,addPoints:r,addCoupon:i,recordSpin:s}=uv(),{toast:o}=co(),[a,c]=z.useState(!0);z.useEffect(()=>{const h=localStorage.getItem("lastSpinDate");h&&new Date(h).toDateString()===new Date().toDateString()?c(!1):c(!0)},[]);const d=()=>{o({title:"Spin not available",description:"You can spin only once in a 24 hr period.",variant:"destructive"})},f=z.useCallback(h=>{s(new Date),h.type==="coins"?r(h.value):h.type==="coupon"&&i({id:`spin-${Date.now()}`,value:h.value,code:jW(),expiry:new Date(Date.now()+720*60*60*1e3),used:!1});let m="";switch(h.type){case"coins":m=`You earned ${h.value} coins!`;break;case"coupon":m=`You won a coupon of ${h.value} off! Check your coupons.`;break;case"cashback":m=`You won ${h.value}% cashback!`;break;case"shipping":m="You won free shipping!";break;default:m="Better luck next time!"}o({title:"Spin Result",description:m,variant:"success"}),c(!1),localStorage.setItem("lastSpinDate",new Date().toISOString())},[r,i,s,o]);return t?v.jsxs(v.Fragment,{children:[v.jsx(cv,{}),v.jsxs("main",{className:"container mx-auto p-8 max-w-2xl space-y-10",children:[v.jsx(OW,{loyaltyPoints:e,badges:n,onPointsChanged:r}),v.jsx(DW,{canSpin:a,onSpinResult:f,onSpinDenied:d}),v.jsx(MW,{user:t})]}),v.jsx("style",{jsx:!0,children:`
        /* Container for spin wheel */
        .spin-wheel-container {
          width: ${Zp}px;
          height: ${Zp}px;
          margin: 0 auto;
          position: relative;
        }
        /* Spin pointer arrow */
        .spin-pointer {
          position: absolute;
          top: -40px;
          left: 50%;
          transform: translateX(-50%);
          font-size: 3.5rem;
          pointer-events: none;
          user-select: none;
          color: #7c3aed;
        }
        /* Responsive adjustments */
        @media (max-width: 480px) {
          .spin-wheel-container {
            width: 240px;
            height: 240px;
          }
          .spin-pointer {
            top: -30px;
            font-size: 2.5rem;
          }
          .daily-spin-heading {
            font-size: 1.75rem;
            margin-bottom: 1rem;
          }
        }
      `})]}):v.jsx("div",{className:"container mx-auto py-20 text-center text-lg dark:text-white",children:"Please log in to view rewards."})}const VW=({isMobileMenuOpen:t,setIsMobileMenuOpen:e})=>{const[n,r]=z.useState(!1),{user:i}=Fo(),s=i?.role==="admin",{pathname:o}=Bl(),a=z.useRef(null),c=z.useRef(null),d=z.useRef(null),f=[{label:"My Wishlist",to:"/dashboard",Icon:qh},{label:"Originals",to:"/dashboard/brands",Icon:lm},{label:"Discover",to:"/dashboard/marketplace",Icon:q4},{label:"My Cart",to:"/dashboard/cart",Icon:fa},{label:"My Orders",to:"/dashboard/orders",Icon:f8},{label:"Settings",to:"/dashboard/settings",Icon:m8},{label:"Rewards",to:"/dashboard/rewards",Icon:ZM}],h=s?[{label:"Admin Panel",to:"/admin",Icon:PS},{label:"Custom Product Admin",to:"/custom-admin",Icon:PS}]:[],m=[...f,...h];z.useEffect(()=>{t&&e(!1)},[o]),z.useEffect(()=>{if(!t)return;function S(T){if(T.key==="Escape"&&e(!1),T.key==="Tab"){if(!c.current||!d.current)return;T.shiftKey?document.activeElement===c.current&&(T.preventDefault(),d.current.focus()):document.activeElement===d.current&&(T.preventDefault(),c.current.focus())}}return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),z.useEffect(()=>{t&&c.current?.focus()},[t]);function g({to:S,Icon:T,label:E,isActive:C,isCollapsed:I,refForFocus:j}){return v.jsxs(Er,{to:S,ref:j,title:I?E:void 0,className:`flex w-full items-center gap-4 rounded-lg py-3 transition-colors duration-200 ${I?"justify-center px-2":"justify-start px-4"} ${C?"bg-gray-100 dark:bg-gray-700/50 text-gray-900 dark:text-gray-300 font-semibold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/30"}`,"aria-current":C?"page":void 0,tabIndex:0,children:[v.jsx(T,{className:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),!I&&v.jsx("span",{className:"truncate font-medium",children:E})]})}const b=S=>v.jsx("nav",{className:"flex flex-col gap-2",role:"navigation","aria-label":"Dashboard Sidebar",children:m.map((T,E)=>{let C=null;return E===0&&(C=c),E===m.length-1&&(C=d),v.jsx(g,{...T,isActive:T.to==="/dashboard"?o==="/dashboard":o.startsWith(T.to),isCollapsed:S,refForFocus:C},T.to)})});return v.jsxs(v.Fragment,{children:[v.jsxs("aside",{id:"dashboard-sidebar",ref:a,tabIndex:t?0:-1,"aria-modal":"true","aria-label":"Dashboard Sidebar",role:"dialog",className:`md:hidden fixed inset-y-0 left-0 z-50 flex h-full w-64 transform flex-col border-r bg-white/95 backdrop-blur-sm transition-transform duration-300 ease-in-out dark:border-gray-800 dark:bg-gray-950/90 ${t?"translate-x-0":"-translate-x-full"}`,children:[v.jsxs("div",{className:"flex items-center justify-between border-b p-4 dark:border-gray-800",children:[v.jsx("h2",{className:"text-lg font-bold",children:"Menu"}),v.jsx(vE,{onClick:()=>e(!1),"aria-label":"Close menu",children:v.jsx(Mx,{className:"h-5 w-5"})})]}),v.jsx("div",{className:"flex-1 p-4",children:b(!1)})]}),t&&v.jsx("div",{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm md:hidden",onClick:()=>e(!1),"aria-hidden":"true"}),v.jsx("aside",{"aria-label":"Dashboard Sidebar",className:`hidden md:sticky md:top-6 md:flex h-[calc(100vh-3rem)] flex-col rounded-2xl border bg-white/80 backdrop-blur-md transition-all duration-300 dark:border-gray-800 dark:bg-gray-950/70 ${n?"w-24":"w-64"}`,children:v.jsxs("div",{className:"flex h-full flex-col p-2",children:[v.jsx(vE,{onClick:()=>r(!n),"aria-label":n?"Expand sidebar":"Collapse sidebar",className:"mb-4 self-end",children:v.jsx(YM,{className:`h-5 w-5 transition-transform duration-300 ${n?"rotate-180":""}`})}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:b(n)})]})})]})},BW=()=>{const t=Bl(),[e,n]=z.useState(!1),i=["/login","/"].includes(t.pathname);return z.useEffect(()=>{e&&n(!1)},[t]),v.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 font-sans flex flex-col overflow-x-hidden",children:[!i&&v.jsx(cv,{}),v.jsxs("div",{className:"flex flex-1 pt-16",children:[!i&&v.jsx(VW,{isMobileMenuOpen:e,setIsMobileMenuOpen:n}),v.jsx("main",{className:"flex-grow px-4 md:px-8",children:v.jsx(vC,{})})]}),!i&&v.jsx(RW,{})]})};function Sw({children:t,requiredRole:e=null}){const{user:n}=Fo();return n?e&&!(Array.isArray(n.roles)?n.roles.includes(e):n.role===e)?v.jsx("div",{className:"container mx-auto py-20 text-center text-red-600",children:"You do not have permission to access this page."}):t:v.jsx(yC,{to:"/login",replace:!0})}const UW=[{to:"/dashboard/brands",icon:v.jsx(lm,{}),label:"Originals"},{to:"/dashboard/marketplace",icon:v.jsx(q4,{}),label:"Discover"},{to:"/dashboard/cart",icon:v.jsx(fa,{}),label:"Cart"},{to:"/dashboard/settings",icon:v.jsx(Ry,{}),label:"Account"}],zW=()=>v.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white/90 dark:bg-gray-950/95 shadow-t flex md:hidden justify-around border-t border-gray-300 dark:border-gray-700","aria-label":"Dashboard bottom navigation",children:UW.map(({to:t,icon:e,label:n})=>v.jsxs(TL,{to:t,className:({isActive:r})=>`flex flex-col items-center py-2 pt-3 px-4 text-xs font-semibold select-none transition-colors ${r?"text-violet-600 dark:text-violet-400":"text-gray-500 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400"}`,"aria-current":({isActive:r})=>r?"page":void 0,children:[v.jsx("span",{className:"h-6 w-6 mb-0.5",children:e}),n]},t))}),qW=()=>v.jsx(Sw,{children:v.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 font-poppins overflow-x-hidden",children:[v.jsx("div",{className:"flex-grow p-4 sm:p-6 lg:p-8 pb-24 md:pb-6",children:v.jsx(vC,{})}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden",children:v.jsx(zW,{})})]})});var G1={exports:{}},K1,TE;function WW(){if(TE)return K1;TE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return K1=t,K1}var Y1,EE;function $W(){if(EE)return Y1;EE=1;var t=WW();function e(){}function n(){}return n.resetWarningCache=e,Y1=function(){function r(o,a,c,d,f,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},Y1}var AE;function HW(){return AE||(AE=1,G1.exports=$W()()),G1.exports}var GW=HW();const vr=xf(GW);var X1,CE;function KW(){if(CE)return X1;CE=1;function t(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var e=xy(),n=t(e);function r(a,c,d){return c in a?Object.defineProperty(a,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[c]=d,a}function i(a,c){a.prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,c,d){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(h){return h.displayName||h.name||"Component"}return function(m){if(typeof m!="function")throw new Error("Expected WrappedComponent to be a React component.");var g=[],b;function S(){b=a(g.map(function(E){return E.props})),T.canUseDOM?c(b):d&&(b=d(b))}var T=function(E){i(C,E);function C(){return E.apply(this,arguments)||this}C.peek=function(){return b},C.rewind=function(){if(C.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var K=b;return b=void 0,g=[],K};var I=C.prototype;return I.UNSAFE_componentWillMount=function(){g.push(this),S()},I.componentDidUpdate=function(){S()},I.componentWillUnmount=function(){var K=g.indexOf(this);g.splice(K,1),S()},I.render=function(){return n.createElement(m,this.props)},C}(e.PureComponent);return r(T,"displayName","SideEffect("+f(m)+")"),r(T,"canUseDOM",s),T}}return X1=o,X1}var YW=KW();const XW=xf(YW);var Q1,PE;function QW(){if(PE)return Q1;PE=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,c,d;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(c=a;c--!==0;)if(!i(s[c],o[c]))return!1;return!0}var f;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(c=f.next()).done;)if(!o.has(c.value[0]))return!1;for(f=s.entries();!(c=f.next()).done;)if(!i(c.value[1],o.get(c.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(c=f.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(c=a;c--!==0;)if(s[c]!==o[c])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(d=Object.keys(s),a=d.length,a!==Object.keys(o).length)return!1;for(c=a;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[c]))return!1;if(t&&s instanceof Element)return!1;for(c=a;c--!==0;)if(!((d[c]==="_owner"||d[c]==="__v"||d[c]==="__o")&&s.$$typeof)&&!i(s[d[c]],o[d[c]]))return!1;return!0}return s!==s&&o!==o}return Q1=function(o,a){try{return i(o,a)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},Q1}var JW=QW();const ZW=xf(JW);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var J1,kE;function e$(){if(kE)return J1;kE=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var c=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(c.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return J1=i()?Object.assign:function(s,o){for(var a,c=r(s),d,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var h in a)e.call(a,h)&&(c[h]=a[h]);if(t){d=t(a);for(var m=0;m<d.length;m++)n.call(a,d[m])&&(c[d[m]]=a[d[m]])}}return c},J1}var t$=e$();const n$=xf(t$);var tf={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Jt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Jt).map(function(t){return Jt[t]});var wr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},iy={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},bm={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},r$=Object.keys(iy).reduce(function(t,e){return t[iy[e]]=e,t},{}),i$=[Jt.NOSCRIPT,Jt.SCRIPT,Jt.STYLE],Ka="data-react-helmet",s$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o$=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a$=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),to=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l$=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},NE=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},c$=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Tw=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},u$=function(e){var n=Sh(e,Jt.TITLE),r=Sh(e,bm.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Sh(e,bm.DEFAULT_TITLE);return n||i||void 0},d$=function(e){return Sh(e,bm.ON_CHANGE_CLIENT_STATE)||function(){}},Z1=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return to({},r,i)},{})},f$=function(e,n){return n.filter(function(r){return typeof r[Jt.BASE]<"u"}).map(function(r){return r[Jt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],c=a.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},Ep=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&g$("Helmet: "+e+' should be of type "Array". Instead found type "'+s$(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(m){for(var g=void 0,b=Object.keys(m),S=0;S<b.length;S++){var T=b[S],E=T.toLowerCase();n.indexOf(E)!==-1&&!(g===wr.REL&&m[g].toLowerCase()==="canonical")&&!(E===wr.REL&&m[E].toLowerCase()==="stylesheet")&&(g=E),n.indexOf(T)!==-1&&(T===wr.INNER_HTML||T===wr.CSS_TEXT||T===wr.ITEM_PROP)&&(g=T)}if(!g||!m[g])return!1;var C=m[g].toLowerCase();return i[g]||(i[g]={}),a[g]||(a[g]={}),i[g][C]?!1:(a[g][C]=!0,!0)}).reverse().forEach(function(m){return s.push(m)});for(var c=Object.keys(a),d=0;d<c.length;d++){var f=c[d],h=n$({},i[f],a[f]);i[f]=h}return s},[]).reverse()},Sh=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},h$=function(e){return{baseTag:f$([wr.HREF,wr.TARGET],e),bodyAttributes:Z1(tf.BODY,e),defer:Sh(e,bm.DEFER),encode:Sh(e,bm.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Z1(tf.HTML,e),linkTags:Ep(Jt.LINK,[wr.REL,wr.HREF],e),metaTags:Ep(Jt.META,[wr.NAME,wr.CHARSET,wr.HTTPEQUIV,wr.PROPERTY,wr.ITEM_PROP],e),noscriptTags:Ep(Jt.NOSCRIPT,[wr.INNER_HTML],e),onChangeClientState:d$(e),scriptTags:Ep(Jt.SCRIPT,[wr.SRC,wr.INNER_HTML],e),styleTags:Ep(Jt.STYLE,[wr.CSS_TEXT],e),title:u$(e),titleAttributes:Z1(tf.TITLE,e)}},Ew=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Ew(e)},0)}}(),IE=function(e){return clearTimeout(e)},p$=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Ew:global.requestAnimationFrame||Ew,m$=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||IE:global.cancelAnimationFrame||IE,g$=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Ap=null,y$=function(e){Ap&&m$(Ap),e.defer?Ap=p$(function(){RE(e,function(){Ap=null})}):(RE(e),Ap=null)},RE=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,c=e.noscriptTags,d=e.onChangeClientState,f=e.scriptTags,h=e.styleTags,m=e.title,g=e.titleAttributes;Aw(Jt.BODY,i),Aw(Jt.HTML,s),v$(m,g);var b={baseTag:th(Jt.BASE,r),linkTags:th(Jt.LINK,o),metaTags:th(Jt.META,a),noscriptTags:th(Jt.NOSCRIPT,c),scriptTags:th(Jt.SCRIPT,f),styleTags:th(Jt.STYLE,h)},S={},T={};Object.keys(b).forEach(function(E){var C=b[E],I=C.newTags,j=C.oldTags;I.length&&(S[E]=I),j.length&&(T[E]=b[E].oldTags)}),n&&n(),d(e,S,T)},rN=function(e){return Array.isArray(e)?e.join(""):e},v$=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=rN(e)),Aw(Jt.TITLE,n)},Aw=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Ka),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),c=0;c<a.length;c++){var d=a[c],f=n[d]||"";r.getAttribute(d)!==f&&r.setAttribute(d,f),s.indexOf(d)===-1&&s.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var m=o.length-1;m>=0;m--)r.removeAttribute(o[m]);s.length===o.length?r.removeAttribute(Ka):r.getAttribute(Ka)!==a.join(",")&&r.setAttribute(Ka,a.join(","))}},th=function(e,n){var r=document.head||document.querySelector(Jt.HEAD),i=r.querySelectorAll(e+"["+Ka+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(c){var d=document.createElement(e);for(var f in c)if(c.hasOwnProperty(f))if(f===wr.INNER_HTML)d.innerHTML=c.innerHTML;else if(f===wr.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[f]>"u"?"":c[f];d.setAttribute(f,h)}d.setAttribute(Ka,"true"),s.some(function(m,g){return a=g,d.isEqualNode(m)})?s.splice(a,1):o.push(d)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:s,newTags:o}},iN=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},w$=function(e,n,r,i){var s=iN(r),o=rN(n);return s?"<"+e+" "+Ka+'="true" '+s+">"+Tw(o,i)+"</"+e+">":"<"+e+" "+Ka+'="true">'+Tw(o,i)+"</"+e+">"},x$=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(d){return!(d===wr.INNER_HTML||d===wr.CSS_TEXT)}).reduce(function(d,f){var h=typeof s[f]>"u"?f:f+'="'+Tw(s[f],r)+'"';return d?d+" "+h:h},""),a=s.innerHTML||s.cssText||"",c=i$.indexOf(e)===-1;return i+"<"+e+" "+Ka+'="true" '+o+(c?"/>":">"+a+"</"+e+">")},"")},sN=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[iy[i]||i]=e[i],r},n)},b$=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[r$[i]||i]=e[i],r},n)},_$=function(e,n,r){var i,s=(i={key:n},i[Ka]=!0,i),o=sN(r,s);return[rt.createElement(Jt.TITLE,o,n)]},S$=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[Ka]=!0,s);return Object.keys(r).forEach(function(a){var c=iy[a]||a;if(c===wr.INNER_HTML||c===wr.CSS_TEXT){var d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=r[a]}),rt.createElement(e,o)})},pc=function(e,n,r){switch(e){case Jt.TITLE:return{toComponent:function(){return _$(e,n.title,n.titleAttributes)},toString:function(){return w$(e,n.title,n.titleAttributes,r)}};case tf.BODY:case tf.HTML:return{toComponent:function(){return sN(n)},toString:function(){return iN(n)}};default:return{toComponent:function(){return S$(e,n)},toString:function(){return x$(e,n,r)}}}},oN=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,c=e.noscriptTags,d=e.scriptTags,f=e.styleTags,h=e.title,m=h===void 0?"":h,g=e.titleAttributes;return{base:pc(Jt.BASE,n,i),bodyAttributes:pc(tf.BODY,r,i),htmlAttributes:pc(tf.HTML,s,i),link:pc(Jt.LINK,o,i),meta:pc(Jt.META,a,i),noscript:pc(Jt.NOSCRIPT,c,i),script:pc(Jt.SCRIPT,d,i),style:pc(Jt.STYLE,f,i),title:pc(Jt.TITLE,{title:m,titleAttributes:g},i)}},T$=function(e){var n,r;return r=n=function(i){l$(s,i);function s(){return o$(this,s),c$(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!ZW(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,c){if(!c)return null;switch(a.type){case Jt.SCRIPT:case Jt.NOSCRIPT:return{innerHTML:c};case Jt.STYLE:return{cssText:c}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var c,d=a.child,f=a.arrayTypeChildren,h=a.newChildProps,m=a.nestedChildren;return to({},f,(c={},c[d.type]=[].concat(f[d.type]||[],[to({},h,this.mapNestedChildrenToProps(d,m))]),c))},s.prototype.mapObjectTypeChildren=function(a){var c,d,f=a.child,h=a.newProps,m=a.newChildProps,g=a.nestedChildren;switch(f.type){case Jt.TITLE:return to({},h,(c={},c[f.type]=g,c.titleAttributes=to({},m),c));case Jt.BODY:return to({},h,{bodyAttributes:to({},m)});case Jt.HTML:return to({},h,{htmlAttributes:to({},m)})}return to({},h,(d={},d[f.type]=to({},m),d))},s.prototype.mapArrayTypeChildrenToProps=function(a,c){var d=to({},c);return Object.keys(a).forEach(function(f){var h;d=to({},d,(h={},h[f]=a[f],h))}),d},s.prototype.warnOnInvalidChildren=function(a,c){return!0},s.prototype.mapChildrenToProps=function(a,c){var d=this,f={};return rt.Children.forEach(a,function(h){if(!(!h||!h.props)){var m=h.props,g=m.children,b=NE(m,["children"]),S=b$(b);switch(d.warnOnInvalidChildren(h,g),h.type){case Jt.LINK:case Jt.META:case Jt.NOSCRIPT:case Jt.SCRIPT:case Jt.STYLE:f=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:f,newChildProps:S,nestedChildren:g});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:S,nestedChildren:g});break}}}),c=this.mapArrayTypeChildrenToProps(f,c),c},s.prototype.render=function(){var a=this.props,c=a.children,d=NE(a,["children"]),f=to({},d);return c&&(f=this.mapChildrenToProps(c,f)),rt.createElement(e,f)},a$(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(rt.Component),n.propTypes={base:vr.object,bodyAttributes:vr.object,children:vr.oneOfType([vr.arrayOf(vr.node),vr.node]),defaultTitle:vr.string,defer:vr.bool,encodeSpecialCharacters:vr.bool,htmlAttributes:vr.object,link:vr.arrayOf(vr.object),meta:vr.arrayOf(vr.object),noscript:vr.arrayOf(vr.object),onChangeClientState:vr.func,script:vr.arrayOf(vr.object),style:vr.arrayOf(vr.object),title:vr.string,titleAttributes:vr.object,titleTemplate:vr.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=oN({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},E$=function(){return null},A$=XW(h$,y$,oN)(E$),ad=T$(A$);ad.renderStatic=ad.rewind;const e2=({icon:t,title:e,description:n,delay:r})=>v.jsxs(Yt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:r},className:"bg-white dark:bg-gray-800/50 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-violet-500",children:[v.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-br from-violet-500 to-blue-500 text-white mb-4",children:t}),v.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:e}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n})]}),t2=({quote:t,author:e,role:n,delay:r})=>v.jsxs(Yt.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:r},className:"bg-white dark:bg-gray-800/50 p-8 rounded-2xl shadow-lg text-center",children:[v.jsxs("p",{className:"text-gray-700 dark:text-gray-300 italic mb-4",children:['"',t,'"']}),v.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:e}),v.jsx("p",{className:"text-sm text-violet-500 dark:text-violet-400",children:n})]}),C$=()=>v.jsxs(v.Fragment,{children:[v.jsxs(ad,{children:[v.jsx("title",{children:"Wishlist2Cart - Transform Your Desires Into Deliveries"}),v.jsx("meta",{name:"description",content:"Wishlist2Cart helps you consolidate wishlists from all your favorite stores and turn them into purchases."})]}),v.jsxs(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"overflow-x-hidden",children:[v.jsx("header",{className:"w-full fixed top-0 left-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm border-b border-gray-200 dark:border-gray-800",children:v.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[v.jsxs(Er,{to:"/",className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:v.jsx(fa,{className:"text-white h-5 w-5"})}),v.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-violet-600 to-blue-500 bg-clip-text text-transparent",children:"Wishlist2Cart"})]}),v.jsx(Er,{to:"/login",children:v.jsxs(Et,{variant:"ghost",size:"sm",className:`text-sm text-gray-800 hover:bg-gray-100
             dark:text-white dark:hover:bg-gray-800`,children:[v.jsx(a8,{className:"h-4 w-4 mr-1"}),"Login"]})})]})}),v.jsx("section",{className:"pt-28 pb-20 md:py-32 bg-gradient-to-br from-white to-gray-100 dark:from-gray-900 dark:to-black",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsx(Yt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"text-4xl md:text-6xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-br from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 mb-4",children:"Transform Your Desires"}),v.jsx(Yt.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2,ease:"easeOut"},className:"text-4xl md:text-6xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-br from-violet-600 to-blue-500",children:"Into Deliveries"}),v.jsx(Yt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4,ease:"easeOut"},className:"max-w-2xl mx-auto text-lg md:text-xl text-gray-600 dark:text-gray-400 mb-10",children:"Consolidate wishlists from all your favorite stores. One place to track, manage, and purchase everything you love."}),v.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6,ease:"easeOut"},className:"flex justify-center gap-4 flex-wrap",children:[v.jsx(Et,{size:"lg",asChild:!0,children:v.jsxs(Er,{to:"/add-wishlist",children:["Add Wishlist ",v.jsx(z4,{className:"ml-2 h-5 w-5"})]})}),v.jsx(Et,{size:"lg",asChild:!0,className:`
    bg-blue-600
    dark:bg-blue-700
    text-white
    border-none
    hover:bg-blue-700
    dark:hover:bg-blue-800
    transition
    focus:outline-none
    focus:ring-2
    focus:ring-blue-500
    dark:focus:ring-blue-300
    rounded-lg
    px-5
    py-2.5
    font-semibold
    shadow
  `,children:v.jsxs(Er,{to:"/cart",children:["View Cart ",v.jsx(fa,{className:"ml-2 h-5 w-5"})]})})]})]})}),v.jsx("section",{className:"py-20 md:py-28 bg-gray-50 dark:bg-gray-950",children:v.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:"How It Works"}),v.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Simple steps to shopping bliss."})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[v.jsx(e2,{icon:v.jsx(w8,{size:24}),title:"1. Add Wishlist URLs",description:"Paste URLs from any store. We'll fetch the product details for you.",delay:.1}),v.jsx(e2,{icon:v.jsx(KM,{size:24}),title:"2. Organize Everything",description:"Your items stay in one unified dashboard. Tag, sort, prioritize.",delay:.2}),v.jsx(e2,{icon:v.jsx(fa,{size:24}),title:"3. Move to Cart & Buy",description:"Ready to shop? Move to cart and we'll take you to buy from the original site.",delay:.3})]})]})}),v.jsx("section",{className:"py-20 md:py-28 bg-white dark:bg-gray-900",children:v.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:"Loved by Shoppers Worldwide"}),v.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Dont just take our word for it."})]}),v.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[v.jsx(t2,{quote:"Wishlist2Cart has revolutionized my online shopping. I can finally keep track of everything in one place!",author:"Sarah J.",role:"Avid Online Shopper",delay:.1}),v.jsx(t2,{quote:"This app has saved me so much time and money. Highly recommended!",author:"Mike R.",role:"Bargain Hunter",delay:.2}),v.jsx(t2,{quote:"My friends and I use this for birthdays and holidays. Its amazing!",author:"Emily C.",role:"Gift Planner",delay:.3})]})]})})]})]}),Jn=z.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:Bc("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder:text-gray-500 dark:focus-visible:ring-violet-500",t),ref:r,...n}));Jn.displayName="Input";var P$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],el=P$.reduce((t,e)=>{const n=O0(`Primitive.${e}`),r=z.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function aN(t,e){t&&dx.flushSync(()=>t.dispatchEvent(e))}var k$="Label",lN=z.forwardRef((t,e)=>v.jsx(el.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));lN.displayName=k$;var cN=lN;const N$=Bx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70","dark:text-gray-300"),Sn=z.forwardRef(({className:t,...e},n)=>v.jsx(cN,{ref:n,className:Bc(N$(),t),...e}));Sn.displayName=cN.displayName;const I$=()=>{const[t,e]=z.useState(!0),[n,r]=z.useState(!1),[i,s]=z.useState(""),[o,a]=z.useState(""),[c,d]=z.useState(""),[f,h]=z.useState(!1),{loginWithEmail:m,register:g}=Fo(),b=Za(),S=async E=>{E.preventDefault(),h(!0);try{t?(await m(i.trim(),o),Du({title:"Login successful!"}),b("/dashboard")):(await g(i.trim(),o,c),Du({title:"Account created!",description:"Now log in using your credentials."}),e(!0),s(""),a(""),d(""))}catch(C){Du({title:"Auth Error",description:C.message,variant:"destructive"})}finally{h(!1)}},T=async()=>{h(!0);try{const C=(await aV(Sl,Q3)).user,I=Hn(ln,"users",C.uid),j=await hf(I),K={uid:C.uid,name:C.displayName||"Google User",email:C.email,avatar:C.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(C.email)}`};j.exists()||await Zd(I,K),localStorage.setItem("wishlist2cart_user",JSON.stringify(K)),Du({title:"Google Sign-In Success",description:`Welcome ${K.name}`}),b("/dashboard")}catch(E){E.code==="auth/popup-closed-by-user"?Du({title:"Popup Closed",description:"You closed the sign-in popup.",variant:"destructive"}):Du({title:"Google Sign-In Failed",description:E.message,variant:"destructive"})}finally{h(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100 dark:bg-gray-900",children:v.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-950/50 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-xl shadow-2xl p-6 space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"inline-flex items-center gap-2 mb-3",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:v.jsx(fa,{className:"w-6 h-6 text-white"})}),v.jsx("span",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-violet-600 to-blue-600 text-transparent bg-clip-text",children:"Wishlist2Cart"})]}),v.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:t?"Welcome Back!":"Create an Account"}),v.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:t?"Sign in to manage your wishlist":"Start saving and sharing your favorite items"})]}),v.jsxs("form",{onSubmit:S,className:"space-y-5",children:[!t&&v.jsxs("div",{className:"relative",children:[v.jsx(Sn,{htmlFor:"name",children:"Full Name"}),v.jsx(Jn,{id:"name",value:c,onChange:E=>d(E.target.value),required:!0,className:"pl-10"}),v.jsx(Ry,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(Sn,{htmlFor:"email",children:"Email"}),v.jsx(Jn,{id:"email",type:"email",value:i,onChange:E=>s(E.target.value),required:!0,className:"pl-10"}),v.jsx(l8,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(Sn,{htmlFor:"password",children:"Password"}),v.jsx(Jn,{id:"password",type:n?"text":"password",value:o,onChange:E=>a(E.target.value),required:!0,className:"pl-10 pr-10"}),v.jsx(o8,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"}),v.jsx("button",{type:"button",onClick:()=>r(E=>!E),className:"absolute right-3 top-9 w-5 h-5 text-gray-400",children:n?v.jsx(QM,{}):v.jsx(JM,{})})]}),v.jsx(Et,{type:"submit",className:"w-full",disabled:f,children:f?"Please wait...":t?"Log In":"Create Account"})]}),v.jsxs("div",{className:"relative text-center",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),v.jsx("div",{className:"relative bg-white dark:bg-gray-950 px-2 text-gray-500 dark:text-gray-400 text-xs uppercase",children:"Or continue with"})]}),v.jsx(Et,{variant:"outline",className:"w-full",onClick:T,disabled:f,children:f?"Signing in...":"Continue with Google"}),v.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:[t?"Dont have an account?":"Already have an account?"," ",v.jsx("button",{className:"text-violet-600 hover:text-blue-600 font-semibold ml-1",onClick:()=>e(E=>!E),children:t?"Sign Up":"Log In"})]})]})})},R$=()=>v.jsxs("main",{className:"max-w-3xl mx-auto py-12 px-6 prose prose-gray dark:prose-invert",children:[v.jsx("h1",{children:"About Wishlist2Cart"}),v.jsxs("p",{children:[v.jsx("strong",{children:"Wishlist2Cart"})," is your all-in-one wishlist and discovery platform designed to simplify and elevate the way you shop online. Whether you're curating favorite finds from across the web or exploring our handpicked in-house collections, we help turn your dream purchases into doorstep deliveries  seamlessly."]}),v.jsx("h2",{children:"Our Mission"}),v.jsx("p",{children:"To empower shoppers with a smart, unified wishlist experience that bridges multiple marketplaces and makes purchasing easier, faster, and more joyful."}),v.jsx("h2",{children:"Our Vision"}),v.jsx("p",{children:"We envision a world where your desires arent lost in scattered bookmarks or forgotten tabs  but instead, live in a single space thats beautiful, intelligent, and action-ready."}),v.jsx("h2",{children:"What Makes Us Different"}),v.jsxs("ul",{children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Universal Wishlist:"})," Save products from any major online store and redirect to buy in one click."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"W2C Wishlist:"})," Discover exclusive deals from our own brands, trusted affiliates, and dropshipping partners."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Modern UX:"})," Enjoy a clean, elegant interface with smart filters, visual organization, and mobile-first design."]})]}),v.jsx("h2",{children:"Why Wishlist2Cart?"}),v.jsx("p",{children:"Because we believe wishlists shouldn't just be about saving  they should be about achieving. From casual window shoppers to power buyers, Wishlist2Cart is built to serve the journey from inspiration to purchase."}),v.jsx("p",{children:"Thank you for choosing Wishlist2Cart. Were honored to be a part of your shopping story."})]}),L$=()=>v.jsxs("main",{className:"max-w-3xl mx-auto py-16 px-6 prose prose-gray dark:prose-invert",children:[v.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Get in Touch"}),v.jsx("p",{className:"text-lg",children:"Wed love to hear from you! Whether you have questions, suggestions, or need assistance, dont hesitate to reach out."}),v.jsxs("section",{className:"mt-8",children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Email"}),v.jsxs("p",{className:"text-md",children:["For support or inquiries, reach us at:"," ",v.jsx("a",{href:"mailto:support@wishlist2cart.com",className:"text-violet-600 hover:underline",children:"support@wishlist2cart.com"})]})]}),v.jsxs("section",{className:"mt-6",children:[v.jsx("h2",{className:"text-2xl font-semibold",children:"Address"}),v.jsxs("address",{className:"not-italic text-md",children:["Sai Nagar",v.jsx("br",{}),"Sullurpeta, 524121",v.jsx("br",{}),"Andhra Pradesh, India"]})]}),v.jsx("p",{className:"mt-8 text-sm text-muted-foreground",children:"We typically respond to emails within 2448 hours. Thank you for reaching out!"})]}),j$=()=>v.jsxs("main",{className:"max-w-3xl mx-auto py-16 px-6 prose prose-gray dark:prose-invert text-center",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Join Our Journey"}),v.jsx("p",{className:"text-lg",children:"At Wishlist2Cart, were on a mission to make online shopping smarter and more delightful."}),v.jsx("p",{className:"text-lg mt-6",children:"While were not hiring at the moment, were always excited to connect with talented individuals who share our vision."}),v.jsxs("p",{className:"text-md italic mt-4",children:["Feel free to drop your resume or portfolio at"," ",v.jsx("a",{href:"mailto:careers@wishlist2cart.com",className:"text-blue-600 dark:text-blue-400",children:"careers@wishlist2cart.com"})," ","so we can keep you in mind for future opportunities."]}),v.jsx("p",{className:"mt-6",children:"Thank you for your interest in growing with us  stay tuned for upcoming roles!"})]}),D$=()=>v.jsxs("main",{className:"max-w-3xl mx-auto py-12 px-4 prose prose-gray dark:prose-invert",children:[v.jsx("h1",{children:"Privacy Policy"}),v.jsx("p",{children:v.jsx("em",{children:"Effective Date: July 27, 2025"})}),v.jsx("h2",{children:"Who We Are"}),v.jsx("p",{children:'Wishlist2Cart ("we", "us", or "our") provides an eCommerce platform that allows users to save products from other websites (Universal Wishlist), add custom or affiliate-based products (W2C Wishlist), and purchase eligible products directly from our platform.'}),v.jsx("h2",{children:"Information We Collect"}),v.jsxs("ul",{children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Account Information:"})," Username, email address, and hashed password."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Wishlist & Cart Data:"})," Items saved to your wishlists or cart, including product info and external links."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Transaction Data:"})," For Wishlist2Cart-branded products, we collect order/payment status. We do not process affiliate or third-party payments."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Technical & Usage Data:"})," Device info, browser type, IP, and analytics via tools like Google Analytics (if enabled)."]})]}),v.jsx("h2",{children:"How We Use Your Information"}),v.jsxs("ul",{children:[v.jsx("li",{children:"To maintain your wishlists and suggest relevant products."}),v.jsx("li",{children:"To process orders of Wishlist2Cart-branded products."}),v.jsx("li",{children:"To contact you about your account, orders, or service updates."}),v.jsx("li",{children:"To analyze platform performance and improve functionality."})]}),v.jsx("h2",{children:"Legal Basis for Processing"}),v.jsx("p",{children:"We process your data based on consent, contractual necessity, legal obligations, or legitimate interest in improving our service."}),v.jsx("h2",{children:"Data Sharing & Disclosure"}),v.jsxs("ul",{children:[v.jsxs("li",{children:["We ",v.jsx("strong",{children:"do not"})," sell your personal data."]}),v.jsx("li",{children:"We may share data with trusted service providers (e.g., Google Firestore, Stripe) to operate Wishlist2Cart."}),v.jsx("li",{children:"Affiliate links take you to external sites  their terms and policies apply once you leave our platform."})]}),v.jsx("h2",{children:"Cookies & Tracking"}),v.jsx("p",{children:"We use cookies and analytics tools to understand usage patterns and personalize your experience. You can control cookies in your browser settings."}),v.jsx("h2",{children:"Data Retention"}),v.jsx("p",{children:"We keep your data while your account is active or as required for our operations. You may request deletion at any time."}),v.jsx("h2",{children:"Childrens Privacy"}),v.jsx("p",{children:"We do not knowingly collect data from users under 13 (or 16 where applicable). If found, such data will be deleted promptly."}),v.jsx("h2",{children:"Security"}),v.jsx("p",{children:"Your data is securely stored using encrypted connections and Google Firestore. While no system is perfectly secure, we follow industry best practices."}),v.jsx("h2",{children:"Your Rights"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Access, correct, or delete your data."}),v.jsx("li",{children:"Unsubscribe from emails (if enabled)."}),v.jsx("li",{children:"Withdraw consent where applicable."})]}),v.jsx("h2",{children:"Policy Updates"}),v.jsx("p",{children:"We may revise this policy from time to time. Major changes will be communicated via email or site notification."}),v.jsx("h2",{children:"Contact Us"}),v.jsxs("p",{children:["Have questions? Email us at:",v.jsx("br",{}),v.jsx("a",{href:"mailto:support@wishlist2cart.com",children:"support@wishlist2cart.com"})]})]}),O$=()=>v.jsxs("main",{className:"max-w-3xl mx-auto py-12 px-4 prose prose-gray dark:prose-invert",children:[v.jsx("h1",{children:"Terms of Service"}),v.jsx("p",{children:v.jsx("em",{children:"Effective Date: July 27, 2025"})}),v.jsx("h2",{children:"1. Acceptance of Terms"}),v.jsx("p",{children:"By using Wishlist2Cart, you agree to be bound by these Terms of Service. If you do not agree, please do not use our platform."}),v.jsx("h2",{children:"2. Service Overview"}),v.jsxs("ul",{children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Universal Wishlist:"})," Save products from external sites (e.g., Amazon, Flipkart). You are redirected to the merchants site to complete the transaction. We are not liable for those orders."]}),v.jsxs("li",{children:[v.jsx("strong",{children:"W2C Wishlist:"})," Includes affiliate, dropshipping, or Wishlist2Cart in-house products.",v.jsxs("ul",{children:[v.jsx("li",{children:"Affiliate/dropshipping orders are fulfilled by third parties  we do not manage payments or returns."}),v.jsxs("li",{children:["Orders from ",v.jsx("strong",{children:"Wishlist2Cart Brands"})," are processed via our platform and covered under our internal order/refund policies."]})]})]})]}),v.jsx("h2",{children:"3. User Conduct"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Do not use Wishlist2Cart for unlawful or unauthorized activities."}),v.jsx("li",{children:"Do not attempt to breach, damage, or exploit our infrastructure."}),v.jsx("li",{children:"You are responsible for securing your login credentials."})]}),v.jsx("h2",{children:"4. Payments & External Links"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Payments are processed only for in-house products."}),v.jsx("li",{children:"Wishlist2Cart is not liable for issues on external sites linked through affiliate or universal wishlist items."})]}),v.jsx("h2",{children:"5. Intellectual Property"}),v.jsx("p",{children:"All content and branding on Wishlist2Cart are owned by us. Third-party trademarks/images belong to their respective owners and are used only for reference."}),v.jsx("h2",{children:"6. Account Termination"}),v.jsx("p",{children:"We may suspend or terminate your account at any time for violation of these terms or for any reason, with or without notice."}),v.jsx("h2",{children:"7. Disclaimer of Warranties"}),v.jsx("p",{children:'Wishlist2Cart is provided "as is." We make no guarantees about service availability, product accuracy, or continuous functionality.'}),v.jsx("h2",{children:"8. Limitation of Liability"}),v.jsx("p",{children:"We are not liable for any damages related to your use of our site, especially transactions made on third-party marketplaces."}),v.jsx("h2",{children:"9. Changes to Terms"}),v.jsx("p",{children:"We may update these Terms at any time. Your continued use of the platform means you accept the revised terms."}),v.jsx("h2",{children:"10. Contact"}),v.jsxs("p",{children:["Have questions or concerns? Contact us at:",v.jsx("br",{}),v.jsx("a",{href:"mailto:support@wishlist2cart.com",children:"support@wishlist2cart.com"})]})]}),M$=[{id:"recent",label:"Recently Added"},{id:"price-asc",label:"Price: Low to High"},{id:"price-desc",label:"Price: High to Low"},{id:"store",label:"By Store"},{id:"a-z",label:"A-Z"}],F$=({sortMethod:t,setSortMethod:e})=>v.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[v.jsx("label",{htmlFor:"sort",className:"font-medium text-gray-700 dark:text-gray-300",children:"Sort by:"}),v.jsx("select",{id:"sort",value:t,onChange:n=>e(n.target.value),className:"rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-gray-100 shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500 transition",children:M$.map(({id:n,label:r})=>v.jsx("option",{value:n,children:r},n))})]}),LE={Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",Flipkart:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_vector_logo.png",Myntra:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",Other:"https://upload.wikimedia.org/wikipedia/commons/6/6b/Shopping_cart_font_awesome.svg"};function V$({item:t}){const{toast:e}=co(),n=Za(),{cartItems:r,addToCart:i}=Xh(),{removeFromWishlist:s}=Qh(),[o,a]=z.useState(!1),c=["amazon","flipkart","myntra"].includes((t.store||"").toLowerCase())||t.url&&t.sourceType==="universal",d=r.some(g=>g.id===t.id),f=g=>{g.stopPropagation(),t.url?window.open(t.url,"_blank","noopener noreferrer"):e({title:"No marketplace link",description:"Product link is not available",variant:"destructive"})},h=async()=>{if(d)n("/cart");else try{a(!0),await i(t),e({title:"Added to Cart",description:`${t.title} has been added to your cart.`,duration:2500})}catch{e({title:"Error",description:"Could not add item to cart.",variant:"destructive"})}finally{a(!1)}},m=async()=>{try{await s(t.id,t.sourceType||"universal"),e({title:"Removed",description:`${t.title} has been removed from your wishlist.`})}catch{e({title:"Error",description:"Could not remove item from wishlist.",variant:"destructive"})}};return v.jsxs(Yt.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},whileHover:{scale:1.03},whileFocus:{scale:1.03},transition:{duration:.35},className:`\r
        relative flex flex-col justify-between rounded-2xl shadow-xl border\r
        border-gray-300 dark:border-gray-700\r
        bg-white dark:bg-gray-900 p-6 min-h-[520px] max-w-[440px] w-full\r
        focus:outline-none focus:ring-4 focus:ring-violet-400 dark:focus:ring-violet-600\r
        cursor-pointer transition-colors\r
      `,tabIndex:0,role:"listitem","aria-label":`Wishlist item: ${t.title}`,children:[v.jsxs("div",{children:[v.jsx("div",{className:"w-full flex justify-center mb-6",children:v.jsx("div",{className:"w-full h-[220px] rounded-xl bg-white dark:bg-gray-800 flex items-center justify-center border border-gray-200 dark:border-gray-700 shadow-inner overflow-hidden mb-6",children:v.jsx("img",{src:t.image||LE[t.store]||LE.Other,alt:t.title,className:"object-contain max-h-full max-w-full",loading:"lazy",draggable:!1})})}),v.jsx("h3",{className:"w-full text-center text-2xl font-extrabold font-poppins text-gray-900 dark:text-white mb-2 break-words truncate",title:t.title,children:t.title}),v.jsx("div",{className:"w-full flex justify-center mb-3",children:v.jsxs("span",{className:"text-xl font-semibold text-green-700 dark:text-green-400",children:["",t.price?.toLocaleString()||"N/A"]})}),v.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:(t.tags||[]).map(g=>v.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-200 dark:bg-gray-700 px-3 py-1 text-xs font-semibold text-gray-700 dark:text-gray-300 select-none","aria-label":`Tag: ${g}`,children:[v.jsx(Im,{className:"w-3 h-3"}),g]},g))})]}),v.jsxs("div",{className:"flex items-center justify-between w-full gap-4 flex-nowrap",children:[v.jsx("div",{className:"flex-grow min-w-0",children:c?v.jsxs(Et,{onClick:f,variant:"outline",size:"lg",className:"w-full whitespace-nowrap font-semibold text-violet-700 dark:text-violet-300 hover:bg-violet-50 dark:hover:bg-violet-950/20 transition-colors","aria-label":`Buy ${t.title} on Marketplace`,children:["Buy on Marketplace ",v.jsx(Ox,{className:"ml-2"})]}):v.jsxs(Et,{onClick:h,disabled:o,variant:d?"outline":"default",size:"lg",className:`
                w-full whitespace-nowrap font-semibold transition-colors
                ${d?"bg-transparent dark:bg-transparent text-violet-700 dark:text-violet-300 hover:bg-violet-50 dark:hover:bg-violet-900/20 border border-violet-700 dark:border-violet-300":""}
              `,"aria-label":d?`View ${t.title} in cart`:`Move ${t.title} to cart`,children:[v.jsx(fa,{className:"mr-2 w-5 h-5"}),d?"View Cart":o?"Adding...":"Move to Cart"]})}),v.jsx(Et,{onClick:m,variant:"ghost",size:"icon","aria-label":`Remove ${t.title} from wishlist`,className:"text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 transition",style:{minWidth:44,minHeight:44},children:v.jsx(y8,{className:"w-6 h-6"})})]})]})}const B$={visible:{transition:{staggerChildren:.08}}},U$=({items:t,onToggleCart:e,onDelete:n})=>v.jsx(Yt.div,{className:"grid gap-8 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 px-2 sm:px-0",variants:B$,initial:"hidden",animate:"visible",children:v.jsx(Zu,{children:t.map(r=>v.jsx(V$,{item:r,onToggleCart:e,onDelete:n},r.id))})}),jE={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},z$=()=>{const{w2cItems:t,wishlistItems:e,toggleCartStatus:n,remove:r,loading:i}=Qh(),{toast:s}=co(),[o,a]=z.useState(!1),[c,d]=z.useState("recent"),f=z.useMemo(()=>o?e??[]:t??[],[o,e,t]),h=z.useMemo(()=>{const S=f??[];return o?S.filter(T=>{const E=(T.sourceType||T.source||"").toLowerCase();return["external","marketplace","universal"].includes(E)}):S.filter(T=>{const E=(T.sourceType||T.source||"").toLowerCase();return["w2c","custom"].includes(E)})},[f,o]),m=z.useMemo(()=>{const S=[...h];switch(c){case"price-asc":return S.sort((T,E)=>(T.price||0)-(E.price||0));case"price-desc":return S.sort((T,E)=>(E.price||0)-(T.price||0));case"store":return S.sort((T,E)=>(T.store||"").localeCompare(E.store||""));case"a-z":return S.sort((T,E)=>(T.title||"").localeCompare(E.title||""));case"recent":default:return S.sort((T,E)=>new Date(E.addedAt||0)-new Date(T.addedAt||0))}},[h,c]),g=S=>{const T=o?"universal":"w2c",C=(o?e:t).find(I=>I.id===S);C&&(n(S,T),s({title:"Item status updated!",description:`${C.title} has been ${C.inCart?"returned to wishlist":"moved to cart"}.`}))},b=S=>{r(S,o?"universal":"w2c"),s({title:"Item removed",description:"Successfully removed from wishlist.",variant:"destructive"})};return i?v.jsx("main",{className:"flex-1 flex items-center justify-center p-20",children:v.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:"Loading your wishlist..."})}):v.jsxs(v.Fragment,{children:[v.jsx(ad,{children:v.jsx("title",{children:"My Wishlist - Wishlist Dashboard"})}),v.jsxs("main",{children:[v.jsx(Yt.div,{className:"w-full mx-auto mb-10",variants:jE,initial:"hidden",animate:"visible",children:v.jsxs("div",{className:"flex flex-col items-center text-center",children:[v.jsxs("div",{className:"flex items-center justify-center mb-3",children:[v.jsx("span",{className:"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-violet-500 to-blue-500 rounded-full",children:v.jsx(qh,{className:"w-8 h-8 text-white drop-shadow-md animate-pulse"})}),v.jsx("span",{className:"ml-4 text-4xl font-semibold tracking-wide text-violet-700 dark:text-violet-300 font-poppins select-none",children:"My Wishlist"})]}),v.jsx("p",{className:"max-w-md text-lg text-gray-700 dark:text-gray-300 font-medium",children:"Curate and manage your favorite products  discover, dream, and convert into your cart."}),v.jsx("span",{className:"block mt-5 h-1 w-32 bg-gradient-to-r from-violet-400 via-blue-400 to-violet-400 rounded-full opacity-90 shadow-sm"})]})}),v.jsxs(Yt.div,{className:"flex flex-col sm:flex-row justify-between items-center gap-6 mb-8 px-4 sm:px-0",variants:jE,initial:"hidden",animate:"visible",transition:{delay:.2},children:[v.jsx("div",{children:v.jsxs("label",{className:"flex items-center cursor-pointer select-none text-gray-700 dark:text-gray-300 font-medium",children:[v.jsx("input",{type:"checkbox",checked:o,onChange:S=>a(S.target.checked),className:"form-checkbox h-5 w-5 text-violet-600 hover:text-violet-700"}),v.jsx("span",{className:"ml-2 text-lg",children:"Show External Products Only"})]})}),v.jsx(F$,{sortMethod:c,setSortMethod:d})]}),v.jsx(Zu,{children:m.length===0?v.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mt-20 max-w-xl mx-auto p-10 rounded-3xl bg-white dark:bg-gray-800/70 border border-gray-300 dark:border-gray-700 text-center shadow-lg",children:[v.jsx(t8,{className:"mx-auto mb-6 w-24 h-24 text-violet-600 dark:text-violet-400","aria-hidden":"true"}),v.jsx("p",{className:"text-xl font-semibold",children:o?"No external products found. Discover new favorites on the marketplace!":"Your wishlist is empty. Start adding your favorite products!"}),!o&&v.jsx(Et,{asChild:!0,variant:"violet",className:"mt-6",children:v.jsx(Er,{to:"/add-wishlist",children:"Create your Universal Wishlist!"})})]},"empty"):v.jsx(U$,{items:m,onToggle:g,onDelete:b,wishlistType:o?"universal":"w2c",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"})})]})]})};function Dc(t){return Array.isArray?Array.isArray(t):fN(t)==="[object Array]"}function q$(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function W$(t){return t==null?"":q$(t)}function Cl(t){return typeof t=="string"}function uN(t){return typeof t=="number"}function $$(t){return t===!0||t===!1||H$(t)&&fN(t)=="[object Boolean]"}function dN(t){return typeof t=="object"}function H$(t){return dN(t)&&t!==null}function Io(t){return t!=null}function n2(t){return!t.trim().length}function fN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const G$="Incorrect 'index' type",K$=t=>`Invalid value for key ${t}`,Y$=t=>`Pattern length exceeds max of ${t}.`,X$=t=>`Missing ${t} property in key`,Q$=t=>`Property 'weight' in key '${t}' must be a positive integer`,DE=Object.prototype.hasOwnProperty;class J${constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=hN(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function hN(t){let e=null,n=null,r=null,i=1,s=null;if(Cl(t)||Dc(t))r=t,e=OE(t),n=Cw(t);else{if(!DE.call(t,"name"))throw new Error(X$("name"));const o=t.name;if(r=o,DE.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Q$(o));e=OE(o),n=Cw(o),s=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:s}}function OE(t){return Dc(t)?t:t.split(".")}function Cw(t){return Dc(t)?t.join("."):t}function Z$(t,e){let n=[],r=!1;const i=(s,o,a)=>{if(Io(s))if(!o[a])n.push(s);else{let c=o[a];const d=s[c];if(!Io(d))return;if(a===o.length-1&&(Cl(d)||uN(d)||$$(d)))n.push(W$(d));else if(Dc(d)){r=!0;for(let f=0,h=d.length;f<h;f+=1)i(d[f],o,a+1)}else o.length&&i(d,o,a+1)}};return i(t,Cl(e)?e.split("."):e,0),r?n:n[0]}const eH={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},tH={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},nH={location:0,threshold:.6,distance:100},rH={useExtendedSearch:!1,getFn:Z$,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var qt={...tH,...eH,...nH,...rH};const iH=/[^ ]+/g;function sH(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const s=i.match(iH).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*t),a=parseFloat(Math.round(o*r)/r);return n.set(s,a),a},clear(){n.clear()}}}class $b{constructor({getFn:e=qt.getFn,fieldNormWeight:n=qt.fieldNormWeight}={}){this.norm=sH(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Cl(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Cl(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Io(e)||n2(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,s)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Io(o)){if(Dc(o)){let a=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:d,value:f}=c.pop();if(Io(f))if(Cl(f)&&!n2(f)){let h={v:f,i:d,n:this.norm.get(f)};a.push(h)}else Dc(f)&&f.forEach((h,m)=>{c.push({nestedArrIndex:m,value:h})})}r.$[s]=a}else if(Cl(o)&&!n2(o)){let a={v:o,n:this.norm.get(o)};r.$[s]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function pN(t,e,{getFn:n=qt.getFn,fieldNormWeight:r=qt.fieldNormWeight}={}){const i=new $b({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(hN)),i.setSources(e),i.create(),i}function oH(t,{getFn:e=qt.getFn,fieldNormWeight:n=qt.fieldNormWeight}={}){const{keys:r,records:i}=t,s=new $b({getFn:e,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(i),s}function Kg(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=qt.distance,ignoreLocation:s=qt.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(r-n);return i?o+a/i:a?1:o}function aH(t=[],e=qt.minMatchCharLength){let n=[],r=-1,i=-1,s=0;for(let o=t.length;s<o;s+=1){let a=t[s];a&&r===-1?r=s:!a&&r!==-1&&(i=s-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[s-1]&&s-r>=e&&n.push([r,s-1]),n}const zd=32;function lH(t,e,n,{location:r=qt.location,distance:i=qt.distance,threshold:s=qt.threshold,findAllMatches:o=qt.findAllMatches,minMatchCharLength:a=qt.minMatchCharLength,includeMatches:c=qt.includeMatches,ignoreLocation:d=qt.ignoreLocation}={}){if(e.length>zd)throw new Error(Y$(zd));const f=e.length,h=t.length,m=Math.max(0,Math.min(r,h));let g=s,b=m;const S=a>1||c,T=S?Array(h):[];let E;for(;(E=t.indexOf(e,b))>-1;){let F=Kg(e,{currentLocation:E,expectedLocation:m,distance:i,ignoreLocation:d});if(g=Math.min(F,g),b=E+f,S){let L=0;for(;L<f;)T[E+L]=1,L+=1}}b=-1;let C=[],I=1,j=f+h;const K=1<<f-1;for(let F=0;F<f;F+=1){let L=0,B=j;for(;L<B;)Kg(e,{errors:F,currentLocation:m+B,expectedLocation:m,distance:i,ignoreLocation:d})<=g?L=B:j=B,B=Math.floor((j-L)/2+L);j=B;let $=Math.max(1,m-B+1),k=o?h:Math.min(m+B,h)+f,D=Array(k+2);D[k+1]=(1<<F)-1;for(let se=k;se>=$;se-=1){let we=se-1,fe=n[t.charAt(we)];if(S&&(T[we]=+!!fe),D[se]=(D[se+1]<<1|1)&fe,F&&(D[se]|=(C[se+1]|C[se])<<1|1|C[se+1]),D[se]&K&&(I=Kg(e,{errors:F,currentLocation:we,expectedLocation:m,distance:i,ignoreLocation:d}),I<=g)){if(g=I,b=we,b<=m)break;$=Math.max(1,2*m-b)}}if(Kg(e,{errors:F+1,currentLocation:m,expectedLocation:m,distance:i,ignoreLocation:d})>g)break;C=D}const ae={isMatch:b>=0,score:Math.max(.001,I)};if(S){const F=aH(T,a);F.length?c&&(ae.indices=F):ae.isMatch=!1}return ae}function cH(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}const sy=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class mN{constructor(e,{location:n=qt.location,threshold:r=qt.threshold,distance:i=qt.distance,includeMatches:s=qt.includeMatches,findAllMatches:o=qt.findAllMatches,minMatchCharLength:a=qt.minMatchCharLength,isCaseSensitive:c=qt.isCaseSensitive,ignoreDiacritics:d=qt.ignoreDiacritics,ignoreLocation:f=qt.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f},e=c?e:e.toLowerCase(),e=d?sy(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(g,b)=>{this.chunks.push({pattern:g,alphabet:cH(g),startIndex:b})},m=this.pattern.length;if(m>zd){let g=0;const b=m%zd,S=m-b;for(;g<S;)h(this.pattern.substr(g,zd),g),g+=zd;if(b){const T=m-zd;h(this.pattern.substr(T),T)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i}=this.options;if(e=n?e:e.toLowerCase(),e=r?sy(e):e,this.pattern===e){let S={isMatch:!0,score:0};return i&&(S.indices=[[0,e.length-1]]),S}const{location:s,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:d,ignoreLocation:f}=this.options;let h=[],m=0,g=!1;this.chunks.forEach(({pattern:S,alphabet:T,startIndex:E})=>{const{isMatch:C,score:I,indices:j}=lH(e,S,T,{location:s+E,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:d,includeMatches:i,ignoreLocation:f});C&&(g=!0),m+=I,C&&j&&(h=[...h,...j])});let b={isMatch:g,score:g?m/this.chunks.length:1};return g&&i&&(b.indices=h),b}}class pd{constructor(e){this.pattern=e}static isMultiMatch(e){return ME(e,this.multiRegex)}static isSingleMatch(e){return ME(e,this.singleRegex)}search(){}}function ME(t,e){const n=t.match(e);return n?n[1]:null}class uH extends pd{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class dH extends pd{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class fH extends pd{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class hH extends pd{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class pH extends pd{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class mH extends pd{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class gN extends pd{constructor(e,{location:n=qt.location,threshold:r=qt.threshold,distance:i=qt.distance,includeMatches:s=qt.includeMatches,findAllMatches:o=qt.findAllMatches,minMatchCharLength:a=qt.minMatchCharLength,isCaseSensitive:c=qt.isCaseSensitive,ignoreDiacritics:d=qt.ignoreDiacritics,ignoreLocation:f=qt.ignoreLocation}={}){super(e),this._bitapSearch=new mN(e,{location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class yN extends pd{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+s,i.push([r,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Pw=[uH,yN,fH,hH,mH,pH,dH,gN],FE=Pw.length,gH=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,yH="|";function vH(t,e={}){return t.split(yH).map(n=>{let r=n.trim().split(gH).filter(s=>s&&!!s.trim()),i=[];for(let s=0,o=r.length;s<o;s+=1){const a=r[s];let c=!1,d=-1;for(;!c&&++d<FE;){const f=Pw[d];let h=f.isMultiMatch(a);h&&(i.push(new f(h,e)),c=!0)}if(!c)for(d=-1;++d<FE;){const f=Pw[d];let h=f.isSingleMatch(a);if(h){i.push(new f(h,e));break}}}return i})}const wH=new Set([gN.type,yN.type]);class xH{constructor(e,{isCaseSensitive:n=qt.isCaseSensitive,ignoreDiacritics:r=qt.ignoreDiacritics,includeMatches:i=qt.includeMatches,minMatchCharLength:s=qt.minMatchCharLength,ignoreLocation:o=qt.ignoreLocation,findAllMatches:a=qt.findAllMatches,location:c=qt.location,threshold:d=qt.threshold,distance:f=qt.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:s,findAllMatches:a,ignoreLocation:o,location:c,threshold:d,distance:f},e=n?e:e.toLowerCase(),e=r?sy(e):e,this.pattern=e,this.query=vH(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:s}=this.options;e=i?e:e.toLowerCase(),e=s?sy(e):e;let o=0,a=[],c=0;for(let d=0,f=n.length;d<f;d+=1){const h=n[d];a.length=0,o=0;for(let m=0,g=h.length;m<g;m+=1){const b=h[m],{isMatch:S,indices:T,score:E}=b.search(e);if(S){if(o+=1,c+=E,r){const C=b.constructor.type;wH.has(C)?a=[...a,...T]:a.push(T)}}else{c=0,o=0,a.length=0;break}}if(o){let m={isMatch:!0,score:c/o};return r&&(m.indices=a),m}}return{isMatch:!1,score:1}}}const kw=[];function bH(...t){kw.push(...t)}function Nw(t,e){for(let n=0,r=kw.length;n<r;n+=1){let i=kw[n];if(i.condition(t,e))return new i(t,e)}return new mN(t,e)}const oy={AND:"$and",OR:"$or"},Iw={PATH:"$path",PATTERN:"$val"},Rw=t=>!!(t[oy.AND]||t[oy.OR]),_H=t=>!!t[Iw.PATH],SH=t=>!Dc(t)&&dN(t)&&!Rw(t),VE=t=>({[oy.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function vN(t,e,{auto:n=!0}={}){const r=i=>{let s=Object.keys(i);const o=_H(i);if(!o&&s.length>1&&!Rw(i))return r(VE(i));if(SH(i)){const c=o?i[Iw.PATH]:s[0],d=o?i[Iw.PATTERN]:i[c];if(!Cl(d))throw new Error(K$(c));const f={keyId:Cw(c),pattern:d};return n&&(f.searcher=Nw(d,e)),f}let a={children:[],operator:s[0]};return s.forEach(c=>{const d=i[c];Dc(d)&&d.forEach(f=>{a.children.push(r(f))})}),a};return Rw(t)||(t=VE(t)),r(t)}function TH(t,{ignoreFieldNorm:e=qt.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:s,score:o})=>{const a=i?i.weight:null;r*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),n.score=r})}function EH(t,e){const n=t.matches;e.matches=[],Io(n)&&n.forEach(r=>{if(!Io(r.indices)||!r.indices.length)return;const{indices:i,value:s}=r;let o={indices:i,value:s};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),e.matches.push(o)})}function AH(t,e){e.score=t.score}function CH(t,e,{includeMatches:n=qt.includeMatches,includeScore:r=qt.includeScore}={}){const i=[];return n&&i.push(EH),r&&i.push(AH),t.map(s=>{const{idx:o}=s,a={item:e[o],refIndex:o};return i.length&&i.forEach(c=>{c(s,a)}),a})}class kf{constructor(e,n={},r){this.options={...qt,...n},this.options.useExtendedSearch,this._keyStore=new J$(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof $b))throw new Error(G$);this._myIndex=n||pN(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Io(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,i-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options;let c=Cl(e)?Cl(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return TH(c,{ignoreFieldNorm:a}),s&&c.sort(o),uN(n)&&n>-1&&(c=c.slice(0,n)),CH(c,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=Nw(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:s,i:o,n:a})=>{if(!Io(s))return;const{isMatch:c,score:d,indices:f}=n.searchIn(s);c&&i.push({item:s,idx:o,matches:[{score:d,value:s,norm:a,indices:f}]})}),i}_searchLogical(e){const n=vN(e,this.options),r=(a,c,d)=>{if(!a.children){const{keyId:h,searcher:m}=a,g=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(c,h),searcher:m});return g&&g.length?[{idx:d,item:c,matches:g}]:[]}const f=[];for(let h=0,m=a.children.length;h<m;h+=1){const g=a.children[h],b=r(g,c,d);if(b.length)f.push(...b);else if(a.operator===oy.AND)return[]}return f},i=this._myIndex.records,s={},o=[];return i.forEach(({$:a,i:c})=>{if(Io(a)){let d=r(n,a,c);d.length&&(s[c]||(s[c]={idx:c,item:a,matches:[]},o.push(s[c])),d.forEach(({matches:f})=>{s[c].matches.push(...f)}))}}),o}_searchObjectList(e){const n=Nw(e,this.options),{keys:r,records:i}=this._myIndex,s=[];return i.forEach(({$:o,i:a})=>{if(!Io(o))return;let c=[];r.forEach((d,f)=>{c.push(...this._findMatches({key:d,value:o[f],searcher:n}))}),c.length&&s.push({idx:a,item:o,matches:c})}),s}_findMatches({key:e,value:n,searcher:r}){if(!Io(n))return[];let i=[];if(Dc(n))n.forEach(({v:s,i:o,n:a})=>{if(!Io(s))return;const{isMatch:c,score:d,indices:f}=r.searchIn(s);c&&i.push({score:d,key:e,value:s,idx:o,norm:a,indices:f})});else{const{v:s,n:o}=n,{isMatch:a,score:c,indices:d}=r.searchIn(s);a&&i.push({score:c,key:e,value:s,norm:o,indices:d})}return i}}kf.version="7.1.0";kf.createIndex=pN;kf.parseIndex=oH;kf.config=qt;kf.parseQuery=vN;bH(xH);const PH=rt.createContext({}),wN=!0;function kH({baseColor:t,highlightColor:e,width:n,height:r,borderRadius:i,circle:s,direction:o,duration:a,enableAnimation:c=wN,customHighlightBackground:d}){const f={};return o==="rtl"&&(f["--animation-direction"]="reverse"),typeof a=="number"&&(f["--animation-duration"]=`${a}s`),c||(f["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(f.width=n),(typeof r=="string"||typeof r=="number")&&(f.height=r),(typeof i=="string"||typeof i=="number")&&(f.borderRadius=i),s&&(f.borderRadius="50%"),typeof t<"u"&&(f["--base-color"]=t),typeof e<"u"&&(f["--highlight-color"]=e),typeof d=="string"&&(f["--custom-highlight-background"]=d),f}function Th({count:t=1,wrapper:e,className:n,containerClassName:r,containerTestId:i,circle:s=!1,style:o,...a}){var c,d,f;const h=rt.useContext(PH),m={...a};for(const[I,j]of Object.entries(a))typeof j>"u"&&delete m[I];const g={...h,...m,circle:s},b={...o,...kH(g)};let S="react-loading-skeleton";n&&(S+=` ${n}`);const T=(c=g.inline)!==null&&c!==void 0?c:!1,E=[],C=Math.ceil(t);for(let I=0;I<C;I++){let j=b;if(C>t&&I===C-1){const ae=(d=j.width)!==null&&d!==void 0?d:"100%",F=t%1,L=typeof ae=="number"?ae*F:`calc(${ae} * ${F})`;j={...j,width:L}}const K=rt.createElement("span",{className:S,style:j,key:I},"");T?E.push(K):E.push(rt.createElement(rt.Fragment,{key:I},K,rt.createElement("br",null)))}return rt.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":(f=g.enableAnimation)!==null&&f!==void 0?f:wN},e?E.map((I,j)=>rt.createElement(e,{key:j},I)):E)}const NH=["bestseller","new","gift","trending"],BE="w2c-recent-searches",IH=6;function xN({value:t,onChange:e,onClear:n,placeholder:r="Search products, brands...",onSelect:i,suggestions:s=[],className:o="",...a}){const[c,d]=z.useState(!1),[f,h]=z.useState(!1),[m,g]=z.useState(t||""),b=z.useRef(null);z.useEffect(()=>{g(t||"")},[t]),z.useEffect(()=>{(!f||!c)&&h(!1)},[c]);const[S,T]=z.useState([]);z.useEffect(()=>{const k=JSON.parse(localStorage.getItem(BE)||"[]");T(k)},[]);const E=k=>{if(!k||!k.trim())return;let D=[...S].filter(q=>q.toLowerCase()!==k.toLowerCase());D=[k,...D].slice(0,IH),T(D),localStorage.setItem(BE,JSON.stringify(D))},[C,I]=z.useState(-1),j=[...m.trim().length===0?[...S.map(k=>({type:"recent",value:k})),...NH.map(k=>({type:"tag",value:k}))]:s.map(k=>({type:"suggestion",...k}))],K=k=>{g(k.target.value),h(!0),I(-1),e?.(k)},ae=()=>{h(!0),d(!0)},F=()=>{setTimeout(()=>h(!1),120),d(!1)},L=()=>{g(""),h(!1),I(-1),n?.(),b.current?.focus()},B=k=>{if(f){if(k.key==="ArrowDown")I(D=>(D+1)%j.length),k.preventDefault();else if(k.key==="ArrowUp")I(D=>(D-1+j.length)%j.length),k.preventDefault();else if(k.key==="Enter"||k.key==="Tab")if(C>=0&&j[C]){const D=j[C];$(D),k.preventDefault()}else m.trim()&&(E(m.trim()),i?.({type:"suggestion",value:m.trim()}),h(!1))}},$=k=>{h(!1),(k.type==="recent"||k.type==="suggestion")&&(E(k.value),g(k.value),i?.(k)),k.type==="tag"&&(g(`#${k.value}`),i?.(k)),b.current?.blur()};return v.jsxs(Yt.div,{className:`relative w-full max-w-full z-40 ${o}`,whileHover:{boxShadow:"0 1px 16px rgba(168,85,247,0.10)"},children:[v.jsxs(Yt.div,{className:"flex items-center gap-2 px-4 py-2 rounded-full backdrop-blur bg-white/75 dark:bg-gray-800/60 shadow transition-all ring-1 ring-purple-100 dark:ring-purple-900 border border-transparent focus-within:ring-2 focus-within:ring-purple-500",animate:c?{scale:1.04}:{scale:1},onClick:()=>b.current?.focus(),children:[v.jsx(h8,{className:"w-5 h-5 text-purple-600"}),v.jsx("input",{ref:b,type:"text",value:m,onChange:K,onFocus:ae,onBlur:F,onKeyDown:B,"aria-label":r,spellCheck:!1,placeholder:r,className:"flex-1 text-base bg-transparent outline-none placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white",...a}),m&&v.jsx("button",{onClick:L,tabIndex:0,"aria-label":"Clear search",className:"p-1 text-purple-500 hover:bg-purple-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:v.jsx(Mx,{className:"w-5 h-5"})})]}),v.jsx(Zu,{children:f&&j.length>0&&v.jsx(Yt.ul,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0,transition:{bounce:.2,duration:.25}},exit:{opacity:0,y:-4},className:"absolute left-0 top-14 w-full min-w-[275px] max-h-[320px] z-50 overflow-auto rounded-xl shadow-lg bg-white dark:bg-gray-900 border border-purple-200 dark:border-gray-800 transition-colors ring-1 ring-purple-100 dark:ring-purple-900",style:{overscrollBehavior:"contain"},role:"listbox",children:j.map((k,D)=>v.jsxs(Yt.li,{role:"option","aria-selected":C===D,className:`
                  flex items-center gap-3 px-5 py-3 text-base cursor-pointer select-none
                  ${C===D?"bg-purple-50 dark:bg-purple-900/30 font-bold text-purple-700 dark:text-white":"text-gray-700 dark:text-gray-300"}
                  transition-colors
                `,tabIndex:-1,onMouseDown:()=>$(k),onMouseOver:()=>I(D),initial:{x:-20,opacity:0},animate:{x:0,opacity:1,transition:{delay:D*.03}},exit:{opacity:0,x:20},children:[k.type==="tag"&&v.jsx(Im,{className:"w-4 h-4 text-purple-400"}),v.jsxs("span",{children:[k.value,k.type==="tag"&&v.jsx("span",{className:"ml-2 text-xs font-medium text-purple-500 uppercase",children:"#tag"}),k.type==="recent"&&v.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"Recent"}),k.type==="suggestion"&&k.desc&&v.jsx("span",{className:"ml-2 text-xs text-gray-400",children:k.desc})]})]},k.value+"-"+k.type))},"dropdown")})]})}function bN({currentPage:t,totalPages:e,onPageChange:n}){if(e<=1)return null;const r=Array.from({length:e},(i,s)=>s+1);return v.jsx("nav",{"aria-label":"Pagination Navigation",className:"flex justify-center gap-2 mt-6",children:r.map(i=>v.jsx("button",{onClick:()=>n(i),className:`px-3 py-1 rounded border text-sm ${i===t?"bg-blue-500 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,"aria-current":i===t?"page":null,"aria-label":`Go to page ${i}`,children:i},i))})}const Hb="/assets/success-CiZWBQqg.mp3",RH="/assets/remove-DOnSnyK6.mp3",LH=["Trending","Fashion","Tech Gadgets","Accessories","Gifting","Home"],jH=["bestseller","new","editor's pick","gift"];function DH(t,e=3500){const[n,r]=z.useState(0);return z.useEffect(()=>{const i=setInterval(()=>r(s=>(s+1)%t.length),e);return()=>clearInterval(i)},[t,e]),t[n]}function OH(){const e=DH([" Up to 80% OFF on Select Brands!"," Free Delivery above 999"," Scratch Cards on Every Order!"," Cashback via W2C Wallet!"]);return v.jsx("div",{className:"w-full mx-auto rounded-xl bg-gradient-to-r from-pink-500 via-yellow-400 to-orange-500 text-white text-center py-2 px-2 text-base md:text-lg font-bold font-poppins shadow-lg animate-pulse mb-6 select-none",children:e})}function MH({products:t,user:e}){const[n,r]=z.useState([]);return z.useEffect(()=>{if(!t.length){r([]);return}let i=[];e?.recentlyViewed?.length&&(i=t.filter(s=>e.recentlyViewed.includes(s.id)).slice(0,4)),i.length<4&&(i=[...new Set([...i,...t.filter(s=>!i.some(o=>o.id===s.id)).slice(0,4-i.length)])]),r(i)},[t,e]),n.length?v.jsxs("section",{"aria-label":"AI-powered Personalized Recommendations",className:"mb-8 w-full",tabIndex:-1,children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3 select-none",children:[v.jsx(Yt.div,{animate:{rotate:[-10,10,-10]},transition:{repeat:1/0,duration:2},children:v.jsx("span",{role:"img","aria-label":"sparkles",children:""})}),v.jsx("h2",{className:"text-xl font-extrabold text-gray-900 dark:text-gray-100",children:"Just For You"})]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map(i=>v.jsxs("article",{onClick:()=>window.location.assign(`/products/${i.id}`),tabIndex:0,role:"button",onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&window.location.assign(`/products/${i.id}`)},className:"bg-gradient-to-br from-purple-100 via-yellow-50 to-white dark:from-gray-800 dark:via-gray-900 dark:to-gray-900 rounded-xl p-3 shadow-md cursor-pointer hover:shadow-lg transition transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[v.jsx("img",{src:i.image,alt:i.title,className:"mx-auto h-24 w-24 object-cover rounded-lg mb-2",loading:"lazy"}),v.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:i.title}),v.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:i.category})]},i.id))})]}):null}async function FH(){const t=so(ln,"wishlist2cart_brands"),e=ff(t,_c("isCustom","==",!0),sv("createdAt","desc"));return(await pf(e)).docs.map(r=>({id:r.id,...r.data(),createdAt:r.data().createdAt?r.data().createdAt.toDate():null}))}function VH(){const[t,e]=z.useState("Trending"),[n,r]=z.useState([]),[i,s]=z.useState(""),[o,a]=z.useState("newest"),[c,d]=z.useState([]),[f,h]=z.useState(1),[m,g]=z.useState(!0),b=8,[S,T]=z.useState(new Set),{toast:E}=co(),{addToCart:C,cartItems:I}=Xh(),{w2cItems:j,addToW2C:K,removeFromWishlist:ae,user:F}=Qh(),L=Za(),B=z.useRef(null),$=z.useRef(null);z.useEffect(()=>{B.current=new Audio(Hb),$.current=new Audio(RH)},[]);function k(ie=!0){const ge=ie?B.current:$.current;ge&&(ge.currentTime=0,ge.play())}z.useEffect(()=>{g(!0),FH().then(d).catch(()=>E({title:"Failed to load products",description:"Please try again later.",variant:"destructive"})).finally(()=>g(!1))},[E]);const D=z.useMemo(()=>new kf(c,{keys:["title","description","tags"],threshold:.32,ignoreLocation:!0}),[c]),q=z.useMemo(()=>t==="Trending"?c:c.filter(ie=>ie.category===t),[c,t]),se=z.useMemo(()=>n.length===0?q:q.filter(ie=>ie.tags&&n.every(ge=>ie.tags.includes(ge))),[q,n]),we=z.useMemo(()=>i.trim()?D.search(i.trim()).map(ie=>ie.item).filter(ie=>se.includes(ie)):se,[i,D,se]),fe=z.useMemo(()=>{const ie=[...we];switch(o){case"price_asc":ie.sort((ge,Re)=>(ge.price??0)-(Re.price??0));break;case"price_desc":ie.sort((ge,Re)=>(Re.price??0)-(ge.price??0));break;case"newest":default:ie.sort((ge,Re)=>(Re.createdAt?.getTime()??0)-(ge.createdAt?.getTime()??0))}return ie},[we,o]),ve=Math.max(1,Math.ceil(fe.length/b)),ce=z.useMemo(()=>fe.slice((f-1)*b,f*b),[fe,f]),ne=z.useMemo(()=>new Set(j.map(ie=>ie.id)),[j]),Y=z.useMemo(()=>new Set(I.map(ie=>ie.id)),[I]),[W,V]=z.useState(new Set);z.useEffect(()=>{V(ie=>{const ge=new Set(ie);return I.forEach(Re=>ge.delete(Re.id)),ge})},[I]);const X=async ie=>{if(!F){E({title:"Not logged in",description:"Please log in to manage wishlist.",variant:"destructive"});return}const ge=ne.has(ie.id);try{ge?(await ae(ie.id,"w2c"),k(!1),E({title:"Removed from wishlist",description:v.jsxs("span",{children:[v.jsx("img",{src:ie.image,alt:ie.title,className:"inline w-10 h-10 rounded shadow mr-2"}),ie.title," removed from wishlist."]}),variant:"neutral"})):(await K({...ie,quantity:1}),k(!0),Uu({particleCount:70,spread:70,origin:{y:.6}}),E({title:"Added to wishlist",description:v.jsxs("span",{children:[v.jsx("img",{src:ie.image,alt:ie.title,className:"inline w-10 h-10 rounded shadow mr-2"}),ie.title," added to wishlist."]}),variant:"success"}))}catch(Re){E({title:"Error",description:"Failed to update wishlist. Please try again.",variant:"destructive"}),console.error("Wishlist toggle error:",Re)}},le=async(ie,ge)=>{if(ge&&ge.stopPropagation(),!F){E({title:"Not logged in",description:"Please log in to add products to cart.",variant:"destructive"});return}T(Re=>new Set(Re).add(ie.id));try{await C({...ie,quantity:1}),V(Re=>new Set(Re).add(ie.id)),k(!0),Uu({particleCount:80,spread:70,origin:{y:.6}}),E({title:"Added to cart",description:v.jsxs("span",{children:[v.jsx("img",{src:ie.image,alt:ie.title,className:"inline w-10 h-10 rounded shadow mr-2"}),ie.title," added to cart."]}),variant:"success"})}catch(Re){E({title:"Error",description:"Failed to add product to cart. Please try again.",variant:"destructive"}),console.error("Add to cart error:",Re)}finally{T(Re=>{const De=new Set(Re);return De.delete(ie.id),De})}},de=ie=>{ie&&ie.stopPropagation(),L("/cart")},oe={initial:{opacity:0,y:-20},animate:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},he={hover:{scale:1.1,backgroundColor:"#7c3aed",color:"#fff",transition:{duration:.3}},tap:{scale:.95}};return v.jsxs(v.Fragment,{children:[v.jsxs(ad,{children:[v.jsx("title",{children:"W2C Originals - Revolutionizing Shopping"}),v.jsx("meta",{name:"description",content:"Shop exclusive W2C Originals with a stunning interface and amazing features."})]}),v.jsx(cv,{}),v.jsx("div",{className:"mt-2"})," ",v.jsxs("main",{className:"container mx-auto px-4 py-12 max-w-7xl bg-white rounded-xl shadow-lg dark:bg-gray-900","aria-label":"W2C Originals homepage main content",children:[v.jsx(OH,{}),v.jsxs(Yt.header,{...oe,className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-6",children:[v.jsxs("div",{children:[v.jsx("h1",{"aria-label":"W2C Originals",className:"text-3xl md:text-4xl font-extrabold font-poppins tracking-tight text-[#ff3f6c] dark:text-[#ff90b3] select-none leading-tight",children:"W2C Originals"}),v.jsx("p",{className:"mt-3 text-lg md:text-xl text-gray-700 dark:text-gray-300 max-w-xl font-medium font-inter",children:"Explore exclusive & trending items with stylish experiences!"})]}),v.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto justify-center md:justify-end items-center",children:[v.jsx(xN,{value:i,onChange:ie=>{s(ie.target.value),h(1)},onSelect:ie=>{ie.type==="tag"?(r(ge=>[...new Set([...ge,ie.value])]),s("")):ie.value&&(s(ie.value),h(1))},onClear:()=>{s(""),h(1)},suggestions:i.length>1?D.search(i).slice(0,6).map(ie=>({value:ie.item.title,desc:ie.item.category,id:ie.item.id})):[],placeholder:"Search products, brands..."}),v.jsxs("select",{"aria-label":"Sort products",className:`rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-900 shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500\r
             dark:border-gray-700 dark:bg-gray-900 dark:text-gray-100 dark:focus:ring-purple-400`,value:o,onChange:ie=>{a(ie.target.value),h(1)},children:[v.jsx("option",{value:"newest",children:"Newest"}),v.jsx("option",{value:"price_asc",children:"Price: Low to High"}),v.jsx("option",{value:"price_desc",children:"Price: High to Low"})]})]})]}),v.jsx("section",{"aria-label":"Product categories",className:"flex flex-wrap gap-4 mb-6",role:"tablist",children:LH.map(ie=>{const ge=ie===t;return v.jsx(Yt.button,{role:"tab","aria-selected":ge,tabIndex:ge?0:-1,variants:he,whileHover:"hover",whileTap:"tap",onClick:()=>{e(ie),h(1)},type:"button",className:`px-6 py-3 rounded-full font-semibold shadow-md text-base transition-colors duration-300 capitalize font-inter tracking-wide ${ge?"bg-gradient-to-br from-[#ff3f6c] to-[#ff6161] text-white ring-4 ring-pink-300 dark:ring-pink-400":"bg-gray-100 hover:bg-pink-50 text-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-300"}`,children:ie},ie)})}),v.jsxs("section",{"aria-label":"Product tags",className:"flex flex-wrap gap-3 mb-8",children:[jH.map(ie=>{const ge=n.includes(ie);return v.jsxs(Et,{size:"sm",variant:"ghost","aria-pressed":ge,onClick:()=>{r(Re=>ge?Re.filter(De=>De!==ie):[...Re,ie]),h(1)},className:`rounded-full px-5 py-1 text-sm font-semibold capitalize transition-all font-poppins
          ${ge?"bg-gradient-to-r from-pink-500 to-orange-400 text-white shadow-md ring-2 ring-pink-300 dark:ring-pink-400":"bg-gray-100 hover:bg-pink-50 text-gray-700 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700"}`,children:["#",ie]},ie)}),n.length>0&&v.jsx(Et,{variant:"outline",size:"sm",className:"font-semibold text-sm ml-2 border border-pink-500 text-pink-500 hover:bg-pink-50 dark:border-pink-400 dark:text-pink-300 dark:hover:bg-gray-800",onClick:()=>{r([]),h(1)},"aria-label":"Clear all filters",children:"Clear All"})]}),v.jsx(MH,{products:c,user:F}),m?v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8 select-none",children:Array(b).fill().map((ie,ge)=>v.jsxs(Yt.div,{className:"rounded-2xl bg-gray-100 dark:bg-gray-800 p-5 shadow-lg min-h-[420px]",initial:{opacity:.6},animate:{opacity:1},transition:{duration:1,repeat:1/0,repeatType:"reverse"},children:[v.jsx(Th,{height:240,borderRadius:16}),v.jsx(Th,{count:5,style:{marginTop:12},height:15,borderRadius:8})]},`loading-${ge}`))}):ce.length===0?v.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-24 text-xl font-semibold text-gray-500 dark:text-gray-400 select-none",children:"No products found."}):v.jsxs(v.Fragment,{children:[v.jsx("section",{"aria-label":"Product grid",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8",children:ce.map(ie=>{const ge=ne.has(ie.id),Re=Y.has(ie.id)||W.has(ie.id),De=Math.floor(Math.random()*20)+1;return v.jsxs(Yt.article,{role:"button",tabIndex:0,"aria-label":`View details for ${ie.title}`,onClick:()=>L(`/products/${ie.id}`),onKeyDown:$e=>{($e.key==="Enter"||$e.key===" ")&&($e.preventDefault(),L(`/products/${ie.id}`))},className:"flex flex-col rounded-3xl bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 p-5 shadow-lg min-h-[420px] cursor-pointer select-none",whileHover:{scale:1.04,boxShadow:"0 15px 25px rgba(124, 58, 237, 0.4)"},transition:{type:"spring",stiffness:300},children:[v.jsxs("div",{className:"relative h-60 w-full rounded-xl overflow-hidden shadow-md mb-4",children:[ie.image?v.jsx("img",{src:ie.image,alt:ie.title,loading:"lazy",className:"w-full h-full object-cover rounded-xl transition-transform duration-500 ease-in-out hover:scale-105"}):v.jsx(Th,{height:240,borderRadius:16}),v.jsx("div",{className:"absolute top-3 left-3 flex flex-wrap gap-1 max-w-[85%]",children:ie.tags?.map($e=>v.jsx("span",{className:"bg-purple-600 text-white px-2 py-0.5 rounded-full text-xs font-semibold capitalize tracking-wide shadow-md",children:$e},$e))})]}),v.jsx("h3",{className:"font-extrabold text-lg mb-2 truncate text-gray-900 dark:text-white",title:ie.title,children:ie.title}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3 mb-1",children:ie.description}),v.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 select-none",children:[De," people are viewing now"]}),v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("span",{className:"flex items-center gap-1 text-purple-500 font-semibold","aria-label":`Category: ${ie.category}`,children:[v.jsx(Im,{size:18}),ie.category]}),v.jsxs("div",{className:"font-black text-xl text-purple-700 dark:text-purple-400 select-none",children:["",ie.price?.toLocaleString()]})]}),ie.hasAR&&v.jsx("button",{onClick:$e=>{$e.stopPropagation(),alert(`Launching AR preview for "${ie.title}" (Demo)...`)},className:"mb-3 px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded-md text-xs font-semibold transition","aria-label":`Try ${ie.title} in AR`,children:" Try in AR"}),v.jsxs("div",{className:"flex items-center gap-5 mt-auto",children:[v.jsx(Yt.button,{whileTap:{scale:.8},whileHover:{scale:1.07},animate:ge?{rotate:[0,-10,10,0],scale:[1,1.2,1],transition:{duration:.6}}:{},onClick:$e=>{$e.stopPropagation(),X(ie),k(!ge),ge||Uu({particleCount:60,spread:80})},"aria-label":ge?"Remove from wishlist":"Add to wishlist",type:"button",className:"p-0 focus:outline-none bg-transparent",children:v.jsx(qh,{size:30,strokeWidth:2.2,fill:ge?"#F43F5E":"none",stroke:ge?"#F43F5E":"#A3A3A3",style:{transition:"all 0.3s ease"}})}),Re?v.jsxs(Et,{onClick:de,size:"lg",variant:"default",className:`
    w-full whitespace-nowrap font-semibold transition-colors
  bg-transparent dark:bg-transparent text-violet-700 dark:text-violet-300 hover:bg-violet-50 dark:hover:bg-violet-900/20 border border-violet-700 dark:border-violet-300' : ''}
  `,type:"button","aria-label":"View shopping cart",children:[v.jsx(fa,{className:"mr-2"}),"View Cart"]}):v.jsxs(Et,{as:Yt.button,whileTap:{scale:.93},animate:W.has(ie.id)?{backgroundColor:"#C4B5FD",color:"#fff",transition:{yoyo:1/0,duration:.5,repeat:1}}:{},onClick:$e=>{le(ie,$e),k(!0),Uu({particleCount:80,spread:80})},"aria-label":`Add ${ie.title} to Cart`,className:"font-bold flex-1",size:"lg",variant:"default",type:"button",disabled:S.has(ie.id),children:[v.jsx(fa,{className:"mr-2"}),S.has(ie.id)?"Adding to Cart...":"Add to Cart"]})]})]},ie.id)})}),v.jsx(bN,{page:f,pages:ve,onPage:h})]})]})]})}const UE=["Mobiles","Fashion","Home Essentials","Sports & Fitness"],BH=["discount","bestseller","limited","new","popular","recommended"];function UH(){const[t,e]=z.useState([]),[n,r]=z.useState(UE[0]),[i,s]=z.useState(""),[o,a]=z.useState([]),[c,d]=z.useState("newest"),[f,h]=z.useState(1),m=12,{toast:g}=co(),{wishlistItems:b,addToWishlist:S,removeFromWishlist:T}=Qh(),E=z.useRef(null);z.useEffect(()=>{E.current=new Audio(Hb)},[]);const C=()=>{E.current&&(E.current.currentTime=0,E.current.play())};z.useEffect(()=>{(async()=>{try{const k=ff(so(ln,"products"),sv("createdAt","desc")),D=await pf(k);e(D.docs.map(q=>({id:q.id,...q.data()})))}catch(k){g({title:"Failed to load products",description:k.message,variant:"destructive"})}})()},[g]);const I=z.useMemo(()=>new kf(t,{keys:["title","description","tags"],threshold:.35}),[t]),j=z.useMemo(()=>t.filter(k=>!n||k.category===n).filter(k=>o.length===0||k.tags&&o.every(D=>k.tags.includes(D))),[t,n,o]),K=z.useMemo(()=>i.trim()?I.search(i.trim()).map(D=>D.item).filter(D=>j.includes(D)):j,[j,i,I]),ae=z.useMemo(()=>{let k=[...K];switch(c){case"price_asc":k.sort((D,q)=>(D.price??0)-(q.price??0));break;case"price_desc":k.sort((D,q)=>(q.price??0)-(D.price??0));break;default:k.sort((D,q)=>new Date(q.createdAt)-new Date(D.createdAt));break}return k},[K,c]),F=Math.max(1,Math.ceil(ae.length/m)),L=z.useMemo(()=>{const k=(f-1)*m;return ae.slice(k,k+m)},[ae,f,m]),B=z.useMemo(()=>new Set(b.map(k=>k.id)),[b]),$=k=>{B.has(k.id)?(T(k.id,"universal"),g({title:"Removed from wishlist",description:`${k.title} removed.`})):(S({...k,sourceType:"marketplace",inCart:!1,id:k.id},"universal"),C(),Uu({particleCount:70,spread:70,origin:{y:.6}}),g({title:"Added to wishlist",description:`${k.title} added.`}))};return v.jsxs(v.Fragment,{children:[v.jsx(ad,{children:v.jsx("title",{children:"Curated Collection"})}),v.jsxs(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.7},className:"container mx-auto px-4 py-12 max-w-7xl bg-gray-50 dark:bg-gray-900 rounded-xl",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-extrabold font-poppins tracking-wide bg-clip-text text-transparent bg-gradient-to-r from-violet-700 to-blue-700 dark:from-violet-400 dark:to-blue-400 select-none",children:"Curated Collection"}),v.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400 max-w-lg",children:"Handpicked trending deals from trusted partners."})]}),v.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[v.jsx(xN,{value:i,onChange:k=>{s(k.target.value),h(1)},onClear:()=>s("")}),v.jsxs("select",{"aria-label":"Sort products",value:c,onChange:k=>{d(k.target.value),h(1)},className:"rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-3 py-2",children:[v.jsx("option",{value:"newest",children:"Newest"}),v.jsx("option",{value:"price_asc",children:"Price - Low to High"}),v.jsx("option",{value:"price_desc",children:"Price - High to Low"})]})]})]}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:UE.map(k=>v.jsx(Et,{variant:k===n?"default":"ghost",className:"capitalize font-semibold",onClick:()=>{r(k),h(1)},children:k},k))}),v.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[BH.map(k=>v.jsx(Et,{size:"sm",variant:o.includes(k)?"default":"ghost",className:"uppercase font-semibold",onClick:()=>a(o.includes(k)?o.filter(D=>D!==k):[...o,k]),children:k},k)),o.length>0&&v.jsx(Et,{size:"sm",variant:"ghost",onClick:()=>a([]),className:"text-gray-700 dark:text-gray-300 hover:text-black dark:hover:text-white",children:"Clear"})]}),L.length===0?v.jsx(Yt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-lg py-24 text-center text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 rounded-xl",children:"No products found."}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8",children:L.map(k=>{const D=B.has(k.id);return v.jsxs(Yt.div,{className:"flex flex-col rounded-2xl bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 p-5 shadow-md dark:shadow-none select-none min-h-[400px]",children:[v.jsxs("div",{className:"relative h-60 w-full rounded-xl overflow-hidden shadow mb-3",children:[k.image?v.jsx("img",{src:k.image,alt:k.title,className:"w-full h-full object-cover rounded-xl",loading:"lazy"}):v.jsx(Th,{height:240}),v.jsx("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:k.tags?.map(q=>v.jsx("span",{className:"bg-green-600 text-white px-2 py-0.5 rounded text-xs",children:q},q))})]}),v.jsx("h3",{className:"font-black text-lg mb-1 truncate text-gray-900 dark:text-white",children:k.title}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:k.description}),v.jsxs("div",{className:"flex items-center justify-between mt-2 mb-4",children:[v.jsxs("span",{className:"flex items-center gap-2 text-gray-400",children:[v.jsx(Im,{className:"h-4 w-4"}),k.category]}),v.jsxs("span",{className:"font-bold text-lg text-green-700 dark:text-green-400 px-1",children:["",k.price?.toLocaleString()]})]}),v.jsxs("div",{className:"flex items-center gap-4 mt-auto",children:[v.jsx(Yt.button,{onClick:q=>{q.stopPropagation(),$(k)},"aria-label":D?"Remove from wishlist":"Add to wishlist",type:"button",className:"focus:outline-none bg-transparent p-0",children:v.jsx(qh,{size:28,strokeWidth:2.3,fill:D?"#dc2626":"none",stroke:D?"#dc2626":"#737373",style:{transition:"all 0.25s"}})}),v.jsxs(Et,{size:"lg",onClick:q=>{q.stopPropagation(),k.url&&window.open(k.url,"_blank","noopener noreferrer")},variant:"outline","aria-label":`Buy ${k.title} on Marketplace`,children:["Buy on Marketplace ",v.jsx(Ox,{className:"ml-2 w-4 h-4"})]})]})]},k.id)})}),v.jsx(bN,{page:f,pages:F,onPage:h})]})]})]})}const zE={Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",Flipkart:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_logo_vector.svg",Myntra:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",Default:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Shopping_Cart_Icon.svg/1024px-Shopping_Cart_Icon.svg.png"};function qE(){const{cartItems:t,removeFromCart:e,setQuantity:n}=Xh(),r=o=>{const a=(o.quantity||1)-1;a>=1&&n(o.id,a)},i=o=>{const a=(o.quantity||1)+1;n(o.id,a)},s=o=>{e(o.id)};return v.jsxs(Yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[v.jsxs("div",{className:"text-center mb-10",children:[v.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"My Cart"}),v.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Review your selected items before proceeding to checkout."})]}),v.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto",children:[t.length===0?v.jsx("div",{className:"bg-white dark:bg-gray-800 p-12 text-center text-gray-500 dark:text-gray-400 rounded-lg shadow",children:"Your cart is empty."}):t.map(o=>v.jsxs(Yt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex flex-col sm:flex-row gap-4 p-4 rounded-lg shadow border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[v.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-700 flex items-center justify-center rounded flex-shrink-0",children:v.jsx("img",{loading:"lazy",src:o.image||zE[o.platform]||zE.Default,alt:o.title,className:"max-w-full max-h-full object-contain"})}),v.jsxs("div",{className:"flex-grow flex flex-col",children:[v.jsx("h3",{className:"font-semibold text-lg line-clamp-2 dark:text-white",children:o.title}),v.jsxs("p",{className:"mt-1 font-bold text-violet-700 dark:text-violet-400",children:["",(o.price*o.quantity).toFixed(2),o.quantity>1&&v.jsxs("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:["(",o.price.toFixed(2),"  ",o.quantity,")"]})]}),v.jsxs("div",{className:"mt-auto flex items-center space-x-2",children:[v.jsx(Et,{size:"sm",onClick:()=>r(o),"aria-label":"Decrease quantity",children:v.jsx(u8,{size:16})}),v.jsx("span",{className:"text-lg",children:o.quantity}),v.jsx(Et,{size:"sm",onClick:()=>i(o),"aria-label":"Increase quantity",children:v.jsx($4,{size:16})}),v.jsx(Et,{size:"sm",variant:"destructive",onClick:()=>s(o),"aria-label":"Remove item from cart",children:v.jsx(H4,{size:16})})]})]}),o.affiliateUrl&&v.jsxs(Et,{size:"sm",variant:"outline",className:"self-center mt-2 sm:mt-0",onClick:()=>window.open(o.affiliateUrl,"_blank"),"aria-label":`Checkout on ${o.platform}`,children:["Checkout on ",o.platform," ",v.jsx(Ox,{size:16})]})]},o.id)),v.jsx("div",{className:"flex justify-center",children:v.jsxs(Et,{size:"lg",onClick:()=>{t.length!==0&&(window.location.href="/checkout")},"aria-label":"Proceed to checkout",disabled:t.length===0,children:["Proceed to Checkout ",v.jsx(z4,{size:18})]})})]})]})}const WE=5;function zH(t,e){const[n,r]=z.useState([]),[i,s]=z.useState(!0),[o,a]=z.useState(null),[c,d]=z.useState(!1),[f,h]=z.useState(!0),[m,g]=z.useState({}),b=z.useRef(null),S=z.useCallback(async(C=!1)=>{if(t)try{C?d(!0):s(!0),a(null);const I=[so(ln,"orders"),_c("userId","==",t),sv("createdAt","desc")];e.status&&e.status.toLowerCase()!=="all"&&I.push(_c("status","==",e.status)),e.startDate&&I.push(_c("createdAt",">=",er.fromDate(e.startDate))),e.endDate&&I.push(_c("createdAt","<=",er.fromDate(e.endDate))),C&&b.current&&I.push(cq(b.current)),I.push(lq(WE));const j=ff(...I),K=await pf(j),ae=K.docs.map(F=>({id:F.id,...F.data()}));r(C?F=>[...F,...ae]:ae),b.current=K.docs[K.docs.length-1]||null,h(K.docs.length===WE)}catch(I){a(I.message||"Something went wrong."),console.error(I)}finally{C?d(!1):s(!1)}},[t,e]);z.useEffect(()=>{b.current=null,r([]),S()},[S]);const T=()=>{!c&&f&&S(!0)},E=z.useCallback(async C=>{if(C){g(I=>({...I,[C]:!0}));try{const I=Hn(ln,"orders",C);await Ga(I,{status:"Cancelled"}),r(j=>j.map(K=>K.id===C?{...K,status:"Cancelled"}:K))}catch(I){throw console.error("Cancel order failed:",I),I}finally{g(I=>({...I,[C]:!1}))}}},[]);return{orders:n,loading:i,error:o,loadingMore:c,hasMore:f,loadMore:T,cancelOrder:E,cancelLoading:m}}function qH(t="/logo.png"){const[e,n]=z.useState(null);return z.useEffect(()=>{let r=!0;return fetch(t).then(i=>i.blob()).then(i=>{if(!r)return;const s=new FileReader;s.onloadend=()=>{n(s.result)},s.readAsDataURL(i)}).catch(()=>{r&&n(null)}),()=>{r=!1}},[t]),e}const WH="modulepreload",$H=function(t){return"/"+t},$E={},ay=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=c(n.map(d=>{if(d=$H(d),d in $E)return;$E[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":WH,f||(m.as="script"),m.crossOrigin="",m.href=d,a&&m.setAttribute("nonce",a),document.head.appendChild(m),f)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Wn(t){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(t)}var fs=Uint8Array,Do=Uint16Array,Gb=Int32Array,dv=new fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fv=new fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Lw=new fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_N=function(t,e){for(var n=new Do(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Gb(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},SN=_N(dv,2),TN=SN.b,jw=SN.r;TN[28]=258,jw[258]=28;var EN=_N(fv,0),HH=EN.b,HE=EN.r,Dw=new Do(32768);for(var ur=0;ur<32768;++ur){var Pu=(ur&43690)>>1|(ur&21845)<<1;Pu=(Pu&52428)>>2|(Pu&13107)<<2,Pu=(Pu&61680)>>4|(Pu&3855)<<4,Dw[ur]=((Pu&65280)>>8|(Pu&255)<<8)>>1}var Ml=function(t,e,n){for(var r=t.length,i=0,s=new Do(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Do(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Do(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var d=i<<4|t[i],f=e-t[i],h=o[t[i]-1]++<<f,m=h|(1<<f)-1;h<=m;++h)a[Dw[h]>>c]=d}else for(a=new Do(r),i=0;i<r;++i)t[i]&&(a[i]=Dw[o[t[i]-1]++]>>15-t[i]);return a},ld=new fs(288);for(var ur=0;ur<144;++ur)ld[ur]=8;for(var ur=144;ur<256;++ur)ld[ur]=9;for(var ur=256;ur<280;++ur)ld[ur]=7;for(var ur=280;ur<288;++ur)ld[ur]=8;var _m=new fs(32);for(var ur=0;ur<32;++ur)_m[ur]=5;var GH=Ml(ld,9,0),KH=Ml(ld,9,1),YH=Ml(_m,5,0),XH=Ml(_m,5,1),r2=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},qa=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},i2=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Kb=function(t){return(t+7)/8|0},AN=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new fs(t.subarray(e,n))},QH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$a=function(t,e,n){var r=new Error(e||QH[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,$a),!n)throw r;return r},JH=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new fs(0);var o=!n,a=o||e.i!=2,c=e.i;o&&(n=new fs(i*3));var d=function(De){var $e=n.length;if(De>$e){var Ye=new fs(Math.max($e*2,De));Ye.set(n),n=Ye}},f=e.f||0,h=e.p||0,m=e.b||0,g=e.l,b=e.d,S=e.m,T=e.n,E=i*8;do{if(!g){f=qa(t,h,1);var C=qa(t,h+1,3);if(h+=3,C)if(C==1)g=KH,b=XH,S=9,T=5;else if(C==2){var ae=qa(t,h,31)+257,F=qa(t,h+10,15)+4,L=ae+qa(t,h+5,31)+1;h+=14;for(var B=new fs(L),$=new fs(19),k=0;k<F;++k)$[Lw[k]]=qa(t,h+k*3,7);h+=F*3;for(var D=r2($),q=(1<<D)-1,se=Ml($,D,1),k=0;k<L;){var we=se[qa(t,h,q)];h+=we&15;var I=we>>4;if(I<16)B[k++]=I;else{var fe=0,ve=0;for(I==16?(ve=3+qa(t,h,3),h+=2,fe=B[k-1]):I==17?(ve=3+qa(t,h,7),h+=3):I==18&&(ve=11+qa(t,h,127),h+=7);ve--;)B[k++]=fe}}var ce=B.subarray(0,ae),ne=B.subarray(ae);S=r2(ce),T=r2(ne),g=Ml(ce,S,1),b=Ml(ne,T,1)}else $a(1);else{var I=Kb(h)+4,j=t[I-4]|t[I-3]<<8,K=I+j;if(K>i){c&&$a(0);break}a&&d(m+j),n.set(t.subarray(I,K),m),e.b=m+=j,e.p=h=K*8,e.f=f;continue}if(h>E){c&&$a(0);break}}a&&d(m+131072);for(var Y=(1<<S)-1,W=(1<<T)-1,V=h;;V=h){var fe=g[i2(t,h)&Y],X=fe>>4;if(h+=fe&15,h>E){c&&$a(0);break}if(fe||$a(2),X<256)n[m++]=X;else if(X==256){V=h,g=null;break}else{var le=X-254;if(X>264){var k=X-257,de=dv[k];le=qa(t,h,(1<<de)-1)+TN[k],h+=de}var oe=b[i2(t,h)&W],he=oe>>4;oe||$a(3),h+=oe&15;var ne=HH[he];if(he>3){var de=fv[he];ne+=i2(t,h)&(1<<de)-1,h+=de}if(h>E){c&&$a(0);break}a&&d(m+131072);var ie=m+le;if(m<ne){var ge=s-ne,Re=Math.min(ne,ie);for(ge+m<0&&$a(3);m<Re;++m)n[m]=r[ge+m]}for(;m<ie;++m)n[m]=n[m-ne]}}e.l=g,e.p=V,e.b=m,e.f=f,g&&(f=1,e.m=S,e.d=b,e.n=T)}while(!f);return m!=n.length&&o?AN(n,0,m):n.subarray(0,m)},mc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Cp=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},s2=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:PN,l:0};if(i==1){var o=new fs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(K,ae){return K.f-ae.f}),n.push({s:-1,f:25001});var a=n[0],c=n[1],d=0,f=1,h=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};f!=i-1;)a=n[n[d].f<n[h].f?d++:h++],c=n[d!=f&&n[d].f<n[h].f?d++:h++],n[f++]={s:-1,f:a.f+c.f,l:a,r:c};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var g=new Do(m+1),b=Ow(n[f-1],g,0);if(b>e){var r=0,S=0,T=b-e,E=1<<T;for(s.sort(function(ae,F){return g[F.s]-g[ae.s]||ae.f-F.f});r<i;++r){var C=s[r].s;if(g[C]>e)S+=E-(1<<b-g[C]),g[C]=e;else break}for(S>>=T;S>0;){var I=s[r].s;g[I]<e?S-=1<<e-g[I]++-1:++r}for(;r>=0&&S;--r){var j=s[r].s;g[j]==e&&(--g[j],++S)}b=e}return{t:new fs(g),l:b}},Ow=function(t,e,n){return t.s==-1?Math.max(Ow(t.l,e,n+1),Ow(t.r,e,n+1)):e[t.s]=n},GE=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Do(++e),r=0,i=t[0],s=1,o=function(c){n[r++]=c},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Pp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},CN=function(t,e,n){var r=n.length,i=Kb(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},KE=function(t,e,n,r,i,s,o,a,c,d,f){mc(e,f++,n),++i[256];for(var h=s2(i,15),m=h.t,g=h.l,b=s2(s,15),S=b.t,T=b.l,E=GE(m),C=E.c,I=E.n,j=GE(S),K=j.c,ae=j.n,F=new Do(19),L=0;L<C.length;++L)++F[C[L]&31];for(var L=0;L<K.length;++L)++F[K[L]&31];for(var B=s2(F,7),$=B.t,k=B.l,D=19;D>4&&!$[Lw[D-1]];--D);var q=d+5<<3,se=Pp(i,ld)+Pp(s,_m)+o,we=Pp(i,m)+Pp(s,S)+o+14+3*D+Pp(F,$)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&q<=se&&q<=we)return CN(e,f,t.subarray(c,c+d));var fe,ve,ce,ne;if(mc(e,f,1+(we<se)),f+=2,we<se){fe=Ml(m,g,0),ve=m,ce=Ml(S,T,0),ne=S;var Y=Ml($,k,0);mc(e,f,I-257),mc(e,f+5,ae-1),mc(e,f+10,D-4),f+=14;for(var L=0;L<D;++L)mc(e,f+3*L,$[Lw[L]]);f+=3*D;for(var W=[C,K],V=0;V<2;++V)for(var X=W[V],L=0;L<X.length;++L){var le=X[L]&31;mc(e,f,Y[le]),f+=$[le],le>15&&(mc(e,f,X[L]>>5&127),f+=X[L]>>12)}}else fe=GH,ve=ld,ce=YH,ne=_m;for(var L=0;L<a;++L){var de=r[L];if(de>255){var le=de>>18&31;Cp(e,f,fe[le+257]),f+=ve[le+257],le>7&&(mc(e,f,de>>23&31),f+=dv[le]);var oe=de&31;Cp(e,f,ce[oe]),f+=ne[oe],oe>3&&(Cp(e,f,de>>5&8191),f+=fv[oe])}else Cp(e,f,fe[de]),f+=ve[de]}return Cp(e,f,fe[256]),f+ve[256]},ZH=new Gb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),PN=new fs(0),eG=function(t,e,n,r,i,s){var o=s.z||t.length,a=new fs(r+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(r,a.length-i),d=s.l,f=(s.r||0)&7;if(e){f&&(c[0]=s.r>>3);for(var h=ZH[e-1],m=h>>13,g=h&8191,b=(1<<n)-1,S=s.p||new Do(32768),T=s.h||new Do(b+1),E=Math.ceil(n/3),C=2*E,I=function(tt){return(t[tt]^t[tt+1]<<E^t[tt+2]<<C)&b},j=new Gb(25e3),K=new Do(288),ae=new Do(32),F=0,L=0,B=s.i||0,$=0,k=s.w||0,D=0;B+2<o;++B){var q=I(B),se=B&32767,we=T[q];if(S[se]=we,T[q]=se,k<=B){var fe=o-B;if((F>7e3||$>24576)&&(fe>423||!d)){f=KE(t,c,0,j,K,ae,L,$,D,B-D,f),$=F=L=0,D=B;for(var ve=0;ve<286;++ve)K[ve]=0;for(var ve=0;ve<30;++ve)ae[ve]=0}var ce=2,ne=0,Y=g,W=se-we&32767;if(fe>2&&q==I(B-W))for(var V=Math.min(m,fe)-1,X=Math.min(32767,B),le=Math.min(258,fe);W<=X&&--Y&&se!=we;){if(t[B+ce]==t[B+ce-W]){for(var de=0;de<le&&t[B+de]==t[B+de-W];++de);if(de>ce){if(ce=de,ne=W,de>V)break;for(var oe=Math.min(W,de-2),he=0,ve=0;ve<oe;++ve){var ie=B-W+ve&32767,ge=S[ie],Re=ie-ge&32767;Re>he&&(he=Re,we=ie)}}}se=we,we=S[se],W+=se-we&32767}if(ne){j[$++]=268435456|jw[ce]<<18|HE[ne];var De=jw[ce]&31,$e=HE[ne]&31;L+=dv[De]+fv[$e],++K[257+De],++ae[$e],k=B+ce,++F}else j[$++]=t[B],++K[t[B]]}}for(B=Math.max(B,k);B<o;++B)j[$++]=t[B],++K[t[B]];f=KE(t,c,d,j,K,ae,L,$,D,B-D,f),d||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=T,s.p=S,s.i=B,s.w=k)}else{for(var B=s.w||0;B<o+d;B+=65535){var Ye=B+65535;Ye>=o&&(c[f/8|0]=d,Ye=o),f=CN(c,f+1,t.subarray(B,Ye))}s.i=o}return AN(a,0,r+Kb(f)+i)},kN=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},tG=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new fs(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return eG(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},NN=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},nG=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=kN();i.p(e.dictionary),NN(t,2,i.d())}},rG=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&$a(6,"invalid zlib data"),(t[1]>>5&1)==1&&$a(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Mw(t,e){e||(e={});var n=kN();n.p(t);var r=tG(t,e,e.dictionary?6:2,4);return nG(r,e),NN(r,r.length-4,n.d()),r}function iG(t,e){return JH(t.subarray(rG(t),-4),{i:2},e,e)}var sG=typeof TextDecoder<"u"&&new TextDecoder,oG=0;try{sG.decode(PN,{stream:!0}),oG=1}catch{}var Vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function o2(){Vt.console&&typeof Vt.console.log=="function"&&Vt.console.log.apply(Vt.console,arguments)}var Qn={log:o2,warn:function(t){Vt.console&&(typeof Vt.console.warn=="function"?Vt.console.warn.apply(Vt.console,arguments):o2.call(null,arguments))},error:function(t){Vt.console&&(typeof Vt.console.error=="function"?Vt.console.error.apply(Vt.console,arguments):o2(t))}};function a2(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Bd(r.response,e,n)},r.onerror=function(){Qn.error("could not download file")},r.send()}function YE(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Yg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var em,Fw,Bd=Vt.saveAs||((typeof window>"u"?"undefined":Wn(window))!=="object"||window!==Vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Vt.URL||Vt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?YE(i.href)?a2(t,e,n):Yg(i,i.target="_blank"):Yg(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Yg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(YE(t))a2(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Yg(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Wn(s)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return a2(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Vt.HTMLElement)||Vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Wn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var c=Vt.URL||Vt.webkitURL,d=c.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+a+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function l2(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=ss(n,r,i,s,e[0],7,-680876936),s=ss(s,n,r,i,e[1],12,-389564586),i=ss(i,s,n,r,e[2],17,606105819),r=ss(r,i,s,n,e[3],22,-1044525330),n=ss(n,r,i,s,e[4],7,-176418897),s=ss(s,n,r,i,e[5],12,1200080426),i=ss(i,s,n,r,e[6],17,-1473231341),r=ss(r,i,s,n,e[7],22,-45705983),n=ss(n,r,i,s,e[8],7,1770035416),s=ss(s,n,r,i,e[9],12,-1958414417),i=ss(i,s,n,r,e[10],17,-42063),r=ss(r,i,s,n,e[11],22,-1990404162),n=ss(n,r,i,s,e[12],7,1804603682),s=ss(s,n,r,i,e[13],12,-40341101),i=ss(i,s,n,r,e[14],17,-1502002290),n=os(n,r=ss(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=os(s,n,r,i,e[6],9,-1069501632),i=os(i,s,n,r,e[11],14,643717713),r=os(r,i,s,n,e[0],20,-373897302),n=os(n,r,i,s,e[5],5,-701558691),s=os(s,n,r,i,e[10],9,38016083),i=os(i,s,n,r,e[15],14,-660478335),r=os(r,i,s,n,e[4],20,-405537848),n=os(n,r,i,s,e[9],5,568446438),s=os(s,n,r,i,e[14],9,-1019803690),i=os(i,s,n,r,e[3],14,-187363961),r=os(r,i,s,n,e[8],20,1163531501),n=os(n,r,i,s,e[13],5,-1444681467),s=os(s,n,r,i,e[2],9,-51403784),i=os(i,s,n,r,e[7],14,1735328473),n=as(n,r=os(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=as(s,n,r,i,e[8],11,-2022574463),i=as(i,s,n,r,e[11],16,1839030562),r=as(r,i,s,n,e[14],23,-35309556),n=as(n,r,i,s,e[1],4,-1530992060),s=as(s,n,r,i,e[4],11,1272893353),i=as(i,s,n,r,e[7],16,-155497632),r=as(r,i,s,n,e[10],23,-1094730640),n=as(n,r,i,s,e[13],4,681279174),s=as(s,n,r,i,e[0],11,-358537222),i=as(i,s,n,r,e[3],16,-722521979),r=as(r,i,s,n,e[6],23,76029189),n=as(n,r,i,s,e[9],4,-640364487),s=as(s,n,r,i,e[12],11,-421815835),i=as(i,s,n,r,e[15],16,530742520),n=ls(n,r=as(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ls(s,n,r,i,e[7],10,1126891415),i=ls(i,s,n,r,e[14],15,-1416354905),r=ls(r,i,s,n,e[5],21,-57434055),n=ls(n,r,i,s,e[12],6,1700485571),s=ls(s,n,r,i,e[3],10,-1894986606),i=ls(i,s,n,r,e[10],15,-1051523),r=ls(r,i,s,n,e[1],21,-2054922799),n=ls(n,r,i,s,e[8],6,1873313359),s=ls(s,n,r,i,e[15],10,-30611744),i=ls(i,s,n,r,e[6],15,-1560198380),r=ls(r,i,s,n,e[13],21,1309151649),n=ls(n,r,i,s,e[4],6,-145523070),s=ls(s,n,r,i,e[11],10,-1120210379),i=ls(i,s,n,r,e[2],15,718787259),r=ls(r,i,s,n,e[9],21,-343485551),t[0]=qu(n,t[0]),t[1]=qu(r,t[1]),t[2]=qu(i,t[2]),t[3]=qu(s,t[3])}function hv(t,e,n,r,i,s){return e=qu(qu(e,t),qu(r,s)),qu(e<<i|e>>>32-i,n)}function ss(t,e,n,r,i,s,o){return hv(e&n|~e&r,t,e,i,s,o)}function os(t,e,n,r,i,s,o){return hv(e&r|n&~r,t,e,i,s,o)}function as(t,e,n,r,i,s,o){return hv(e^n^r,t,e,i,s,o)}function ls(t,e,n,r,i,s,o){return hv(n^(e|~r),t,e,i,s,o)}function RN(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)l2(r,aG(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(l2(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,l2(r,i),r}function aG(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}em=Vt.atob.bind(Vt),Fw=Vt.btoa.bind(Vt);var XE="0123456789abcdef".split("");function lG(t){for(var e="",n=0;n<4;n++)e+=XE[t>>8*n+4&15]+XE[t>>8*n&15];return e}function cG(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Vw(t){return RN(t).map(cG).join("")}var uG=function(t){for(var e=0;e<t.length;e++)t[e]=lG(t[e]);return t.join("")}(RN("hello"))!="5d41402abc4b2a76b9719d911017c592";function qu(t,e){if(uG){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bw(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var d=0;for(c=0;c<256;c++){var f=a[c];d=(d+f+o.charCodeAt(c))%256,a[c]=a[d],a[d]=f}n=t,r=a}else a=r;var h=e.length,m=0,g=0,b="";for(c=0;c<h;c++)g=(g+(f=a[m=(m+1)%256]))%256,a[m]=a[g],a[g]=f,o=a[(a[m]+a[g])%256],b+=String.fromCharCode(e.charCodeAt(c)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var QE={print:4,modify:8,copy:16,"annot-forms":32};function uh(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(QE.perm!==void 0)throw new Error("Invalid permission: "+a);i+=QE[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Vw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Bw(this.encryptionKey,this.padding)}function dh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function JE(t){if(Wn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Vt.console&&Qn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ly(t){if(!(this instanceof ly))return new ly(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function LN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function qd(t,e,n,r,i){if(!(this instanceof qd))return new qd(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,LN.call(this,r,i)}function gh(t,e,n,r,i){if(!(this instanceof gh))return new gh(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,LN.call(this,r,i)}function Dt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,c=16,d="S",f=null;Wn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},g={internal:{},__private__:{}};g.__private__.PubSub=JE;var b="1.3",S=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(A){b=A};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return T};var E=g.__private__.getPageFormat=function(A){return T[A]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},I=C.COMPAT;function j(){this.saveGraphicsState(),me(new pt(ot,0,0,-ot,0,vi()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),d="n",I=C.ADVANCED}function K(){this.restoreGraphicsState(),d="S",I=C.COMPAT}var ae=g.__private__.combineFontStyleAndFontWeight=function(A,G){if(A=="bold"&&G=="normal"||A=="bold"&&G==400||A=="normal"&&G=="italic"||A=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(A=G==400||G==="normal"?A==="italic"?"italic":"normal":G!=700&&G!=="bold"||A!=="normal"?(G==700?"bold":G)+""+A:"bold"),A};g.advancedAPI=function(A){var G=I===C.COMPAT;return G&&j.call(this),typeof A!="function"||(A(this),G&&K.call(this)),this},g.compatAPI=function(A){var G=I===C.ADVANCED;return G&&K.call(this),typeof A!="function"||(A(this),G&&j.call(this)),this},g.isAdvancedAPI=function(){return I===C.ADVANCED};var F,L=function(A){if(I!==C.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=g.roundToPrecision=g.__private__.roundToPrecision=function(A,G){var pe=e||G;if(isNaN(A)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(pe).replace(/0+$/,"")};F=g.hpf=g.__private__.hpf=typeof c=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return B(A,c)}:c==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return B(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return B(A,16)};var $=g.f2=g.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return B(A,2)},k=g.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return B(A,3)},D=g.scale=g.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return I===C.COMPAT?A*ot:I===C.ADVANCED?A:void 0},q=function(A){return I===C.COMPAT?vi()-A:I===C.ADVANCED?A:void 0},se=function(A){return D(q(A))};g.__private__.setPrecision=g.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var we,fe="00000000000000000000000000000000",ve=g.__private__.getFileId=function(){return fe},ce=g.__private__.setFileId=function(A){return fe=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(gn=new uh(f.userPermissions,f.userPassword,f.ownerPassword,fe)),fe};g.setFileId=function(A){return ce(A),this},g.getFileId=function(){return ve()};var ne=g.__private__.convertDateToPDFDate=function(A){var G=A.getTimezoneOffset(),pe=G<0?"+":"-",xe=Math.floor(Math.abs(G/60)),Pe=Math.abs(G%60),Be=[pe,le(xe),"'",le(Pe),"'"].join("");return["D:",A.getFullYear(),le(A.getMonth()+1),le(A.getDate()),le(A.getHours()),le(A.getMinutes()),le(A.getSeconds()),Be].join("")},Y=g.__private__.convertPDFDateToDate=function(A){var G=parseInt(A.substr(2,4),10),pe=parseInt(A.substr(6,2),10)-1,xe=parseInt(A.substr(8,2),10),Pe=parseInt(A.substr(10,2),10),Be=parseInt(A.substr(12,2),10),Xe=parseInt(A.substr(14,2),10);return new Date(G,pe,xe,Pe,Be,Xe,0)},W=g.__private__.setCreationDate=function(A){var G;if(A===void 0&&(A=new Date),A instanceof Date)G=ne(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=A}return we=G},V=g.__private__.getCreationDate=function(A){var G=we;return A==="jsDate"&&(G=Y(we)),G};g.setCreationDate=function(A){return W(A),this},g.getCreationDate=function(A){return V(A)};var X,le=g.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},de=g.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},oe=0,he=[],ie=[],ge=0,Re=[],De=[],$e=!1,Ye=ie,tt=function(){oe=0,ge=0,ie=[],he=[],Re=[],fo=Kn(),pi=Kn()};g.__private__.setCustomOutputDestination=function(A){$e=!0,Ye=A};var Oe=function(A){$e||(Ye=A)};g.__private__.resetCustomOutputDestination=function(){$e=!1,Ye=ie};var me=g.__private__.out=function(A){return A=A.toString(),ge+=A.length+1,Ye.push(A),Ye},_t=g.__private__.write=function(A){return me(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},ft=g.__private__.getArrayBuffer=function(A){for(var G=A.length,pe=new ArrayBuffer(G),xe=new Uint8Array(pe);G--;)xe[G]=A.charCodeAt(G);return pe},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ke};var et=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(A){return et=I===C.ADVANCED?A/ot:A,this};var st,at=g.__private__.getFontSize=g.getFontSize=function(){return I===C.COMPAT?et:et*ot},vt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(A){return vt=A,this},g.__private__.getR2L=g.getR2L=function(){return vt};var It,Ot=g.__private__.setZoomMode=function(A){var G=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))st=A;else if(isNaN(A)){if(G.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');st=A}else st=parseInt(A,10)};g.__private__.getZoomMode=function(){return st};var St,kt=g.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');It=A};g.__private__.getPageMode=function(){return It};var tn=g.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');St=A};g.__private__.getLayoutMode=function(){return St},g.__private__.setDisplayMode=g.setDisplayMode=function(A,G,pe){return Ot(A),tn(G),kt(pe),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(A){if(Object.keys(Ct).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[A]},g.__private__.getDocumentProperties=function(){return Ct},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(A){for(var G in Ct)Ct.hasOwnProperty(G)&&A[G]&&(Ct[G]=A[G]);return this},g.__private__.setDocumentProperty=function(A,G){if(Object.keys(Ct).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[A]=G};var Mt,ot,tr,nn,Pi,xn={},jn={},Wi=[],sn={},Os={},Vn={},fr={},Yr=null,Bn=0,Nt=[],cn=new JE(g),ms=t.hotfixes||[],br={},Xr={},$i=[],pt=function A(G,pe,xe,Pe,Be,Xe){if(!(this instanceof A))return new A(G,pe,xe,Pe,Be,Xe);isNaN(G)&&(G=1),isNaN(pe)&&(pe=0),isNaN(xe)&&(xe=0),isNaN(Pe)&&(Pe=1),isNaN(Be)&&(Be=0),isNaN(Xe)&&(Xe=0),this._matrix=[G,pe,xe,Pe,Be,Xe]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(A)},pt.prototype.multiply=function(A){var G=A.sx*this.sx+A.shy*this.shx,pe=A.sx*this.shy+A.shy*this.sy,xe=A.shx*this.sx+A.sy*this.shx,Pe=A.shx*this.shy+A.sy*this.sy,Be=A.tx*this.sx+A.ty*this.shx+this.tx,Xe=A.tx*this.shy+A.ty*this.sy+this.ty;return new pt(G,pe,xe,Pe,Be,Xe)},pt.prototype.decompose=function(){var A=this.sx,G=this.shy,pe=this.shx,xe=this.sy,Pe=this.tx,Be=this.ty,Xe=Math.sqrt(A*A+G*G),lt=(A/=Xe)*pe+(G/=Xe)*xe;pe-=A*lt,xe-=G*lt;var w=Math.sqrt(pe*pe+xe*xe);return lt/=w,A*(xe/=w)<G*(pe/=w)&&(A=-A,G=-G,lt=-lt,Xe=-Xe),{scale:new pt(Xe,0,0,w,0,0),translate:new pt(1,0,0,1,Pe,Be),rotate:new pt(A,G,-G,A,0,0),skew:new pt(1,0,lt,1,0,0)}},pt.prototype.toString=function(A){return this.join(" ")},pt.prototype.inversed=function(){var A=this.sx,G=this.shy,pe=this.shx,xe=this.sy,Pe=this.tx,Be=this.ty,Xe=1/(A*xe-G*pe),lt=xe*Xe,w=-G*Xe,R=-pe*Xe,U=A*Xe;return new pt(lt,w,R,U,-lt*Pe-R*Be,-w*Pe-U*Be)},pt.prototype.applyToPoint=function(A){var G=A.x*this.sx+A.y*this.shx+this.tx,pe=A.x*this.shy+A.y*this.sy+this.ty;return new bs(G,pe)},pt.prototype.applyToRectangle=function(A){var G=this.applyToPoint(A),pe=this.applyToPoint(new bs(A.x+A.w,A.y+A.h));return new bo(G.x,G.y,pe.x-G.x,pe.y-G.y)},pt.prototype.clone=function(){var A=this.sx,G=this.shy,pe=this.shx,xe=this.sy,Pe=this.tx,Be=this.ty;return new pt(A,G,pe,xe,Pe,Be)},g.Matrix=pt;var hi=g.matrixMult=function(A,G){return G.multiply(A)},Nr=new pt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Nr;var Ir=function(A,G){if(!Os[A]){var pe=(G instanceof qd?"Sh":"P")+(Object.keys(sn).length+1).toString(10);G.id=pe,Os[A]=pe,sn[pe]=G,cn.publish("addPattern",G)}};g.ShadingPattern=qd,g.TilingPattern=gh,g.addShadingPattern=function(A,G){return L("addShadingPattern()"),Ir(A,G),this},g.beginTilingPattern=function(A){L("beginTilingPattern()"),cl(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},g.endTilingPattern=function(A,G){L("endTilingPattern()"),G.stream=De[X].join(`
`),Ir(A,G),cn.publish("endTilingPattern",G),$i.pop().restore()};var Gn=g.__private__.newObject=function(){var A=Kn();return ir(A,!0),A},Kn=g.__private__.newObjectDeferred=function(){return oe++,he[oe]=function(){return ge},oe},ir=function(A,G){return G=typeof G=="boolean"&&G,he[A]=ge,G&&me(A+" 0 obj"),A},Vo=g.__private__.newAdditionalObject=function(){var A={objId:Kn(),content:""};return Re.push(A),A},fo=Kn(),pi=Kn(),Hi=g.__private__.decodeColorString=function(A){var G=A.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length===5&&(G[4]==="k"||G[4]==="K")&&(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var pe=parseFloat(G[0]);G=[pe,pe,pe,"r"]}for(var xe="#",Pe=0;Pe<3;Pe++)xe+=("0"+Math.floor(255*parseFloat(G[Pe])).toString(16)).slice(-2);return xe},_r=g.__private__.encodeColorString=function(A){var G;typeof A=="string"&&(A={ch1:A});var pe=A.ch1,xe=A.ch2,Pe=A.ch3,Be=A.ch4,Xe=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var lt=new IN(pe);if(lt.ok)pe=lt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var w=parseInt(pe.substr(1),16);pe=w>>16&255,xe=w>>8&255,Pe=255&w}if(xe===void 0||Be===void 0&&pe===xe&&xe===Pe)if(typeof pe=="string")G=pe+" "+Xe[0];else switch(A.precision){case 2:G=$(pe/255)+" "+Xe[0];break;case 3:default:G=k(pe/255)+" "+Xe[0]}else if(Be===void 0||Wn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return G=["1.","1.","1.",Xe[1]].join(" ");if(typeof pe=="string")G=[pe,xe,Pe,Xe[1]].join(" ");else switch(A.precision){case 2:G=[$(pe/255),$(xe/255),$(Pe/255),Xe[1]].join(" ");break;default:case 3:G=[k(pe/255),k(xe/255),k(Pe/255),Xe[1]].join(" ")}}else if(typeof pe=="string")G=[pe,xe,Pe,Be,Xe[2]].join(" ");else switch(A.precision){case 2:G=[$(pe),$(xe),$(Pe),$(Be),Xe[2]].join(" ");break;case 3:default:G=[k(pe),k(xe),k(Pe),k(Be),Xe[2]].join(" ")}return G},mi=g.__private__.getFilters=function(){return o},hr=g.__private__.putStream=function(A){var G=(A=A||{}).data||"",pe=A.filters||mi(),xe=A.alreadyAppliedFilters||[],Pe=A.addLength1||!1,Be=G.length,Xe=A.objectId,lt=function($t){return $t};if(f!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(lt=gn.encryptor(Xe,0));var w={};pe===!0&&(pe=["FlateEncode"]);var R=A.additionalKeyValues||[],U=(w=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(G,pe):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(w.data.length!==0&&(R.push({key:"Length",value:w.data.length}),Pe===!0&&R.push({key:"Length1",value:Be})),U.length!=0)if(U.split("/").length-1==1)R.push({key:"Filter",value:U});else{R.push({key:"Filter",value:"["+U+"]"});for(var te=0;te<R.length;te+=1)if(R[te].key==="DecodeParms"){for(var Ae=[],Le=0;Le<w.reverseChain.split("/").length-1;Le+=1)Ae.push("null");Ae.push(R[te].value),R[te].value="["+Ae.join(" ")+"]"}}me("<<");for(var Qe=0;Qe<R.length;Qe++)me("/"+R[Qe].key+" "+R[Qe].value);me(">>"),w.data.length!==0&&(me("stream"),me(lt(w.data)),me("endstream"))},gs=g.__private__.putPage=function(A){var G=A.number,pe=A.data,xe=A.objId,Pe=A.contentsObjId;ir(xe,!0),me("<</Type /Page"),me("/Parent "+A.rootDictionaryObjId+" 0 R"),me("/Resources "+A.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(F(A.mediaBox.bottomLeftX))+" "+parseFloat(F(A.mediaBox.bottomLeftY))+" "+F(A.mediaBox.topRightX)+" "+F(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&me("/CropBox ["+F(A.cropBox.bottomLeftX)+" "+F(A.cropBox.bottomLeftY)+" "+F(A.cropBox.topRightX)+" "+F(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&me("/BleedBox ["+F(A.bleedBox.bottomLeftX)+" "+F(A.bleedBox.bottomLeftY)+" "+F(A.bleedBox.topRightX)+" "+F(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&me("/TrimBox ["+F(A.trimBox.bottomLeftX)+" "+F(A.trimBox.bottomLeftY)+" "+F(A.trimBox.topRightX)+" "+F(A.trimBox.topRightY)+"]"),A.artBox!==null&&me("/ArtBox ["+F(A.artBox.bottomLeftX)+" "+F(A.artBox.bottomLeftY)+" "+F(A.artBox.topRightX)+" "+F(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&me("/UserUnit "+A.userUnit),cn.publish("putPage",{objId:xe,pageContext:Nt[G],pageNumber:G,page:pe}),me("/Contents "+Pe+" 0 R"),me(">>"),me("endobj");var Be=pe.join(`
`);return I===C.ADVANCED&&(Be+=`
Q`),ir(Pe,!0),hr({data:Be,filters:mi(),objectId:Pe}),me("endobj"),xe},ho=g.__private__.putPages=function(){var A,G,pe=[];for(A=1;A<=Bn;A++)Nt[A].objId=Kn(),Nt[A].contentsObjId=Kn();for(A=1;A<=Bn;A++)pe.push(gs({number:A,data:De[A],objId:Nt[A].objId,contentsObjId:Nt[A].contentsObjId,mediaBox:Nt[A].mediaBox,cropBox:Nt[A].cropBox,bleedBox:Nt[A].bleedBox,trimBox:Nt[A].trimBox,artBox:Nt[A].artBox,userUnit:Nt[A].userUnit,rootDictionaryObjId:fo,resourceDictionaryObjId:pi}));ir(fo,!0),me("<</Type /Pages");var xe="/Kids [";for(G=0;G<Bn;G++)xe+=pe[G]+" 0 R ";me(xe+"]"),me("/Count "+Bn),me(">>"),me("endobj"),cn.publish("postPutPages")},po=function(A){cn.publish("putFont",{font:A,out:me,newObject:Gn,putStream:hr}),A.isAlreadyPutted!==!0&&(A.objectNumber=Gn(),me("<<"),me("/Type /Font"),me("/BaseFont /"+dh(A.postScriptName)),me("/Subtype /Type1"),typeof A.encoding=="string"&&me("/Encoding /"+A.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},mo=function(){for(var A in xn)xn.hasOwnProperty(A)&&(h===!1||h===!0&&m.hasOwnProperty(A))&&po(xn[A])},Bo=function(A){A.objectNumber=Gn();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[F(A.x),F(A.y),F(A.x+A.width),F(A.y+A.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var pe=A.pages[1].join(`
`);hr({data:pe,additionalKeyValues:G,objectId:A.objectNumber}),me("endobj")},ma=function(){for(var A in br)br.hasOwnProperty(A)&&Bo(br[A])},Wc=function(A,G){var pe,xe=[],Pe=1/(G-1);for(pe=0;pe<1;pe+=Pe)xe.push(pe);if(xe.push(1),A[0].offset!=0){var Be={offset:0,color:A[0].color};A.unshift(Be)}if(A[A.length-1].offset!=1){var Xe={offset:1,color:A[A.length-1].color};A.push(Xe)}for(var lt="",w=0,R=0;R<xe.length;R++){for(pe=xe[R];pe>A[w+1].offset;)w++;var U=A[w].offset,te=(pe-U)/(A[w+1].offset-U),Ae=A[w].color,Le=A[w+1].color;lt+=de(Math.round((1-te)*Ae[0]+te*Le[0]).toString(16))+de(Math.round((1-te)*Ae[1]+te*Le[1]).toString(16))+de(Math.round((1-te)*Ae[2]+te*Le[2]).toString(16))}return lt.trim()},Dn=function(A,G){G||(G=21);var pe=Gn(),xe=Wc(A.colors,G),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+G+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hr({data:xe,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),me("endobj"),A.objectNumber=Gn(),me("<< /ShadingType "+A.type),me("/ColorSpace /DeviceRGB");var Be="/Coords ["+F(parseFloat(A.coords[0]))+" "+F(parseFloat(A.coords[1]))+" ";A.type===2?Be+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3])):Be+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3]))+" "+F(parseFloat(A.coords[4]))+" "+F(parseFloat(A.coords[5])),me(Be+="]"),A.matrix&&me("/Matrix ["+A.matrix.toString()+"]"),me("/Function "+pe+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},$c=function(A,G){var pe=Kn(),xe=Gn();G.push({resourcesOid:pe,objectOid:xe}),A.objectNumber=xe;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+A.boundingBox.map(F).join(" ")+"]"}),Pe.push({key:"XStep",value:F(A.xStep)}),Pe.push({key:"YStep",value:F(A.yStep)}),Pe.push({key:"Resources",value:pe+" 0 R"}),A.matrix&&Pe.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),hr({data:A.stream,additionalKeyValues:Pe,objectId:A.objectNumber}),me("endobj")},Ms=function(A){var G;for(G in sn)sn.hasOwnProperty(G)&&(sn[G]instanceof qd?Dn(sn[G]):sn[G]instanceof gh&&$c(sn[G],A))},go=function(A){for(var G in A.objectNumber=Gn(),me("<<"),A)switch(G){case"opacity":me("/ca "+$(A[G]));break;case"stroke-opacity":me("/CA "+$(A[G]))}me(">>"),me("endobj")},Gi=function(){var A;for(A in Vn)Vn.hasOwnProperty(A)&&go(Vn[A])},ga=function(){for(var A in me("/XObject <<"),br)br.hasOwnProperty(A)&&br[A].objectNumber>=0&&me("/"+A+" "+br[A].objectNumber+" 0 R");cn.publish("putXobjectDict"),me(">>")},Hc=function(){gn.oid=Gn(),me("<<"),me("/Filter /Standard"),me("/V "+gn.v),me("/R "+gn.r),me("/U <"+gn.toHexString(gn.U)+">"),me("/O <"+gn.toHexString(gn.O)+">"),me("/P "+gn.P),me(">>"),me("endobj")},Uo=function(){for(var A in me("/Font <<"),xn)xn.hasOwnProperty(A)&&(h===!1||h===!0&&m.hasOwnProperty(A))&&me("/"+A+" "+xn[A].objectNumber+" 0 R");me(">>")},ki=function(){if(Object.keys(sn).length>0){for(var A in me("/Shading <<"),sn)sn.hasOwnProperty(A)&&sn[A]instanceof qd&&sn[A].objectNumber>=0&&me("/"+A+" "+sn[A].objectNumber+" 0 R");cn.publish("putShadingPatternDict"),me(">>")}},ya=function(A){if(Object.keys(sn).length>0){for(var G in me("/Pattern <<"),sn)sn.hasOwnProperty(G)&&sn[G]instanceof g.TilingPattern&&sn[G].objectNumber>=0&&sn[G].objectNumber<A&&me("/"+G+" "+sn[G].objectNumber+" 0 R");cn.publish("putTilingPatternDict"),me(">>")}},ni=function(){if(Object.keys(Vn).length>0){var A;for(A in me("/ExtGState <<"),Vn)Vn.hasOwnProperty(A)&&Vn[A].objectNumber>=0&&me("/"+A+" "+Vn[A].objectNumber+" 0 R");cn.publish("putGStateDict"),me(">>")}},Yn=function(A){ir(A.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Uo(),ki(),ya(A.objectOid),ni(),ga(),me(">>"),me("endobj")},Wl=function(){var A=[];mo(),Gi(),ma(),Ms(A),cn.publish("putResources"),A.forEach(Yn),Yn({resourcesOid:pi,objectOid:Number.MAX_SAFE_INTEGER}),cn.publish("postPutResources")},$l=function(){cn.publish("putAdditionalObjects");for(var A=0;A<Re.length;A++){var G=Re[A];ir(G.objId,!0),me(G.content),me("endobj")}cn.publish("postPutAdditionalObjects")},va=function(A){jn[A.fontName]=jn[A.fontName]||{},jn[A.fontName][A.fontStyle]=A.id},zo=function(A,G,pe,xe,Pe){var Be={id:"F"+(Object.keys(xn).length+1).toString(10),postScriptName:A,fontName:G,fontStyle:pe,encoding:xe,isStandardFont:Pe||!1,metadata:{}};return cn.publish("addFont",{font:Be,instance:this}),xn[Be.id]=Be,va(Be),Be.id},qo=function(A){for(var G=0,pe=Ke.length;G<pe;G++){var xe=zo.call(this,A[G][0],A[G][1],A[G][2],Ke[G][3],!0);h===!1&&(m[xe]=!0);var Pe=A[G][0].split("-");va({id:xe,fontName:Pe[0],fontStyle:Pe[1]||""})}cn.publish("addFonts",{fonts:xn,dictionary:jn})},ri=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(xe){var G=xe.stack||"";~G.indexOf(" at ")&&(G=G.split(" at ")[1]);var pe="Error in function "+G.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Vt.console)throw new Error(pe);Vt.console.error(pe,xe),Vt.alert&&alert(pe)}},A.foo.bar=A,A.foo},il=function(A,G){var pe,xe,Pe,Be,Xe,lt,w,R,U;if(Pe=(G=G||{}).sourceEncoding||"Unicode",Xe=G.outputEncoding,(G.autoencode||Xe)&&xn[Mt].metadata&&xn[Mt].metadata[Pe]&&xn[Mt].metadata[Pe].encoding&&(Be=xn[Mt].metadata[Pe].encoding,!Xe&&xn[Mt].encoding&&(Xe=xn[Mt].encoding),!Xe&&Be.codePages&&(Xe=Be.codePages[0]),typeof Xe=="string"&&(Xe=Be[Xe]),Xe)){for(w=!1,lt=[],pe=0,xe=A.length;pe<xe;pe++)(R=Xe[A.charCodeAt(pe)])?lt.push(String.fromCharCode(R)):lt.push(A[pe]),lt[pe].charCodeAt(0)>>8&&(w=!0);A=lt.join("")}for(pe=A.length;w===void 0&&pe!==0;)A.charCodeAt(pe-1)>>8&&(w=!0),pe--;if(!w)return A;for(lt=G.noBOM?[]:[254,255],pe=0,xe=A.length;pe<xe;pe++){if((U=(R=A.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");lt.push(U),lt.push(R-(U<<8))}return String.fromCharCode.apply(void 0,lt)},pr=g.__private__.pdfEscape=g.pdfEscape=function(A,G){return il(A,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ii=g.__private__.beginPage=function(A){De[++Bn]=[],Nt[Bn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},yo(Bn),Oe(De[X])},Wo=function(A,G){var pe,xe,Pe;switch(n=G||n,typeof A=="string"&&(pe=E(A.toLowerCase()),Array.isArray(pe)&&(xe=pe[0],Pe=pe[1])),Array.isArray(A)&&(xe=A[0]*ot,Pe=A[1]*ot),isNaN(xe)&&(xe=i[0],Pe=i[1]),(xe>14400||Pe>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Pe=Math.min(14400,Pe)),i=[xe,Pe],n.substr(0,1)){case"l":Pe>xe&&(i=[Pe,xe]);break;case"p":xe>Pe&&(i=[Pe,xe])}ii(i),Yo(Gl),me(Rr),Yl!==0&&me(Yl+" J"),Xo!==0&&me(Xo+" j"),cn.publish("addPage",{pageNumber:Bn})},$o=function(A){A>0&&A<=Bn&&(De.splice(A,1),Nt.splice(A,1),Bn--,X>Bn&&(X=Bn),this.setPage(X))},yo=function(A){A>0&&A<=Bn&&(X=A)},kn=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return De.length-1},vo=function(A,G,pe){var xe,Pe=void 0;return pe=pe||{},A=A!==void 0?A:xn[Mt].fontName,G=G!==void 0?G:xn[Mt].fontStyle,xe=A.toLowerCase(),jn[xe]!==void 0&&jn[xe][G]!==void 0?Pe=jn[xe][G]:jn[A]!==void 0&&jn[A][G]!==void 0?Pe=jn[A][G]:pe.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+A+"', '"+G+"'. Refer to getFontList() for available fonts."),Pe||pe.noFallback||(Pe=jn.times[G])==null&&(Pe=jn.times.normal),Pe},rn=g.__private__.putInfo=function(){var A=Gn(),G=function(xe){return xe};for(var pe in f!==null&&(G=gn.encryptor(A,0)),me("<<"),me("/Producer ("+pr(G("jsPDF "+Dt.version))+")"),Ct)Ct.hasOwnProperty(pe)&&Ct[pe]&&me("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+pr(G(Ct[pe]))+")");me("/CreationDate ("+pr(G(we))+")"),me(">>"),me("endobj")},Fs=g.__private__.putCatalog=function(A){var G=(A=A||{}).rootDictionaryObjId||fo;switch(Gn(),me("<<"),me("/Type /Catalog"),me("/Pages "+G+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+st;pe.substr(pe.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&me("/OpenAction [3 0 R /XYZ null null "+$(st)+"]")}switch(St||(St="continuous"),St){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}It&&me("/PageMode /"+It),cn.publish("putCatalog"),me(">>"),me("endobj")},Gc=g.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(oe+1)),me("/Root "+oe+" 0 R"),me("/Info "+(oe-1)+" 0 R"),f!==null&&me("/Encrypt "+gn.oid+" 0 R"),me("/ID [ <"+fe+"> <"+fe+"> ]"),me(">>")},sl=g.__private__.putHeader=function(){me("%PDF-"+b),me("%")},Kc=g.__private__.putXRef=function(){var A="0000000000";me("xref"),me("0 "+(oe+1)),me("0000000000 65535 f ");for(var G=1;G<=oe;G++)typeof he[G]=="function"?me((A+he[G]()).slice(-10)+" 00000 n "):he[G]!==void 0?me((A+he[G]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},Vs=g.__private__.buildDocument=function(){tt(),Oe(ie),cn.publish("buildDocument"),sl(),ho(),$l(),Wl(),f!==null&&Hc(),rn(),Fs();var A=ge;return Kc(),Gc(),me("startxref"),me(""+A),me("%%EOF"),Oe(De[X]),ie.join(`
`)},wa=g.__private__.getBlob=function(A){return new Blob([ft(A)],{type:"application/pdf"})},Ho=g.output=g.__private__.output=ri(function(A,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",A){case void 0:return Vs();case"save":g.save(G.filename);break;case"arraybuffer":return ft(Vs());case"blob":return wa(Vs());case"bloburi":case"bloburl":if(Vt.URL!==void 0&&typeof Vt.URL.createObjectURL=="function")return Vt.URL&&Vt.URL.createObjectURL(wa(Vs()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",xe=Vs();try{pe=Fw(xe)}catch{pe=Fw(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+G.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Pe=G.pdfObjectUrl,Be="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",lt=Vt.open();return lt!==null&&lt.document.write(Xe),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var w='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',R=Vt.open();if(R!==null){R.document.write(w);var U=this;R.document.documentElement.querySelector("#pdfViewer").onload=function(){R.document.title=G.filename,R.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(U.output("bloburl"))}}return R}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',Ae=Vt.open();if(Ae!==null&&(Ae.document.write(te),Ae.document.title=G.filename),Ae||typeof safari>"u")return Ae;break;case"datauri":case"dataurl":return Vt.document.location.href=this.output("datauristring",G);default:return null}}),ys=function(A){return Array.isArray(ms)===!0&&ms.indexOf(A)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=ys("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var gn=null;W(),ce();var vs=function(A){return f!==null?gn.encryptor(A,0):function(G){return G}},Ki=g.__private__.getPageInfo=g.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[A].objId,pageNumber:A,pageContext:Nt[A]}},Rt=g.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in Nt)if(Nt[G].objId===A)break;return Ki(G)},Yi=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Nt[X].objId,pageNumber:X,pageContext:Nt[X]}};g.addPage=function(){return Wo.apply(this,arguments),this},g.setPage=function(){return yo.apply(this,arguments),Oe.call(this,De[X]),this},g.insertPage=function(A){return this.addPage(),this.movePage(X,A),this},g.movePage=function(A,G){var pe,xe;if(A>G){pe=De[A],xe=Nt[A];for(var Pe=A;Pe>G;Pe--)De[Pe]=De[Pe-1],Nt[Pe]=Nt[Pe-1];De[G]=pe,Nt[G]=xe,this.setPage(G)}else if(A<G){pe=De[A],xe=Nt[A];for(var Be=A;Be<G;Be++)De[Be]=De[Be+1],Nt[Be]=Nt[Be+1];De[G]=pe,Nt[G]=xe,this.setPage(G)}return this},g.deletePage=function(){return $o.apply(this,arguments),this},g.__private__.text=g.text=function(A,G,pe,xe,Pe){var Be,Xe,lt,w,R,U,te,Ae,Le,Qe=(xe=xe||{}).scope||this;if(typeof A=="number"&&typeof G=="number"&&(typeof pe=="string"||Array.isArray(pe))){var $t=pe;pe=G,G=A,A=$t}if(arguments[3]instanceof pt?(L("The transform parameter of text() with a Matrix value"),Le=Pe):(lt=arguments[4],w=arguments[5],Wn(te=arguments[3])==="object"&&te!==null||(typeof lt=="string"&&(w=lt,lt=null),typeof te=="string"&&(w=te,te=null),typeof te=="number"&&(lt=te,te=null),xe={flags:te,angle:lt,align:w})),isNaN(G)||isNaN(pe)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Qe;var on="",Ht=!1,En=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Tn,Nn=Qe.internal.scaleFactor;function Ri(Un){return Un=Un.split("	").join(Array(xe.TabLen||9).join(" ")),pr(Un,te)}function ai(Un){for(var In,yr=Un.concat(),Lr=[],ea=yr.length;ea--;)typeof(In=yr.shift())=="string"?Lr.push(In):Array.isArray(Un)&&(In.length===1||In[1]===void 0&&In[2]===void 0)?Lr.push(In[0]):Lr.push([In[0],In[1],In[2]]);return Lr}function So(Un,In){var yr;if(typeof Un=="string")yr=In(Un)[0];else if(Array.isArray(Un)){for(var Lr,ea,ou=Un.concat(),nc=[],vd=ou.length;vd--;)typeof(Lr=ou.shift())=="string"?nc.push(In(Lr)[0]):Array.isArray(Lr)&&typeof Lr[0]=="string"&&(ea=In(Lr[0],Lr[1],Lr[2]),nc.push([ea[0],ea[1],ea[2]]));yr=nc}return yr}var To=!1,Qc=!0;if(typeof A=="string")To=!0;else if(Array.isArray(A)){var Jc=A.concat();Xe=[];for(var Xl,gr=Jc.length;gr--;)(typeof(Xl=Jc.shift())!="string"||Array.isArray(Xl)&&typeof Xl[0]!="string")&&(Qc=!1);To=Qc}if(To===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Zc=et/Qe.internal.scaleFactor,eu=Zc*(En-1);switch(xe.baseline){case"bottom":pe-=eu;break;case"top":pe+=Zc-eu;break;case"hanging":pe+=Zc-2*eu;break;case"middle":pe+=Zc/2-eu}if((U=xe.maxWidth||0)>0&&(typeof A=="string"?A=Qe.splitTextToSize(A,U):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Un,In){return Un.concat(Qe.splitTextToSize(In,U))},[]))),Be={text:A,x:G,y:pe,options:xe,mutex:{pdfEscape:pr,activeFontKey:Mt,fonts:xn,activeFontSize:et}},cn.publish("preProcessText",Be),A=Be.text,lt=(xe=Be.options).angle,!(Le instanceof pt)&&lt&&typeof lt=="number"){lt*=Math.PI/180,xe.rotationDirection===0&&(lt=-lt),I===C.ADVANCED&&(lt=-lt);var tu=Math.cos(lt),nu=Math.sin(lt);Le=new pt(tu,nu,-nu,tu,0,0)}else lt&&lt instanceof pt&&(Le=lt);I!==C.ADVANCED||Le||(Le=Nr),(R=xe.charSpace||xo)!==void 0&&(on+=F(D(R))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ae=xe.horizontalScale)!==void 0&&(on+=F(100*Ae)+` Tz
`),xe.lang;var Li=-1,Ql=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Sa=Qe.internal.getCurrentPageInfo().pageContext;switch(Ql){case 0:case!1:case"fill":Li=0;break;case 1:case!0:case"stroke":Li=1;break;case 2:case"fillThenStroke":Li=2;break;case 3:case"invisible":Li=3;break;case 4:case"fillAndAddForClipping":Li=4;break;case 5:case"strokeAndAddPathForClipping":Li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Li=6;break;case 7:case"addToPathForClipping":Li=7}var If=Sa.usedRenderingMode!==void 0?Sa.usedRenderingMode:-1;Li!==-1?on+=Li+` Tr
`:If!==-1&&(on+=`0 Tr
`),Li!==-1&&(Sa.usedRenderingMode=Li),w=xe.align||"left";var ji,ru=et*En,gd=Qe.internal.pageSize.getWidth(),iu=xn[Mt];R=xe.charSpace||xo,U=xe.maxWidth||0,te=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var Jo=[],fl=function(Un){return Qe.getStringUnitWidth(Un,{font:iu,charSpace:R,fontSize:et,doKerning:!1})*et/Nn};if(Object.prototype.toString.call(A)==="[object Array]"){var Di;Xe=ai(A),w!=="left"&&(ji=Xe.map(fl));var wi,hl=0;if(w==="right"){G-=ji[0],A=[],gr=Xe.length;for(var Ta=0;Ta<gr;Ta++)Ta===0?(wi=Ii(G),Di=mr(pe)):(wi=D(hl-ji[Ta]),Di=-ru),A.push([Xe[Ta],wi,Di]),hl=ji[Ta]}else if(w==="center"){G-=ji[0]/2,A=[],gr=Xe.length;for(var Ea=0;Ea<gr;Ea++)Ea===0?(wi=Ii(G),Di=mr(pe)):(wi=D((hl-ji[Ea])/2),Di=-ru),A.push([Xe[Ea],wi,Di]),hl=ji[Ea]}else if(w==="left"){A=[],gr=Xe.length;for(var su=0;su<gr;su++)A.push(Xe[su])}else if(w==="justify"&&iu.encoding==="Identity-H"){A=[],gr=Xe.length,U=U!==0?U:gd;for(var Aa=0,bn=0;bn<gr;bn++)if(Di=bn===0?mr(pe):-ru,wi=bn===0?Ii(G):Aa,bn<gr-1){var Ca=D((U-ji[bn])/(Xe[bn].split(" ").length-1)),xi=Xe[bn].split(" ");A.push([xi[0]+" ",wi,Di]),Aa=0;for(var _s=1;_s<xi.length;_s++){var Jl=(fl(xi[_s-1]+" "+xi[_s])-fl(xi[_s]))*Nn+Ca;_s==xi.length-1?A.push([xi[_s],Jl,0]):A.push([xi[_s]+" ",Jl,0]),Aa-=Jl}}else A.push([Xe[bn],wi,Di]);A.push(["",Aa,0])}else{if(w!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],gr=Xe.length,U=U!==0?U:gd,bn=0;bn<gr;bn++)Di=bn===0?mr(pe):-ru,wi=bn===0?Ii(G):0,bn<gr-1?Jo.push(F(D((U-ji[bn])/(Xe[bn].split(" ").length-1)))):Jo.push(0),A.push([Xe[bn],wi,Di])}}var yd=typeof xe.R2L=="boolean"?xe.R2L:vt;yd===!0&&(A=So(A,function(Un,In,yr){return[Un.split("").reverse().join(""),In,yr]})),Be={text:A,x:G,y:pe,options:xe,mutex:{pdfEscape:pr,activeFontKey:Mt,fonts:xn,activeFontSize:et}},cn.publish("postProcessText",Be),A=Be.text,Ht=Be.mutex.isHex||!1;var Zl=xn[Mt].encoding;Zl!=="WinAnsiEncoding"&&Zl!=="StandardEncoding"||(A=So(A,function(Un,In,yr){return[Ri(Un),In,yr]})),Xe=ai(A),A=[];for(var ec,tc,Ss,Pa=0,Zo=1,ka=Array.isArray(Xe[0])?Zo:Pa,Na="",pl=function(Un,In,yr){var Lr="";return yr instanceof pt?(yr=typeof xe.angle=="number"?hi(yr,new pt(1,0,0,1,Un,In)):hi(new pt(1,0,0,1,Un,In),yr),I===C.ADVANCED&&(yr=hi(new pt(1,0,0,-1,0,0),yr)),Lr=yr.join(" ")+` Tm
`):Lr=F(Un)+" "+F(In)+` Td
`,Lr},li=0;li<Xe.length;li++){switch(Na="",ka){case Zo:Ss=(Ht?"<":"(")+Xe[li][0]+(Ht?">":")"),ec=parseFloat(Xe[li][1]),tc=parseFloat(Xe[li][2]);break;case Pa:Ss=(Ht?"<":"(")+Xe[li]+(Ht?">":")"),ec=Ii(G),tc=mr(pe)}Jo!==void 0&&Jo[li]!==void 0&&(Na=Jo[li]+` Tw
`),li===0?A.push(Na+pl(ec,tc,Le)+Ss):ka===Pa?A.push(Na+Ss):ka===Zo&&A.push(Na+pl(ec,tc,Le)+Ss)}A=ka===Pa?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Xi=`BT
/`;return Xi+=Mt+" "+et+` Tf
`,Xi+=F(et*En)+` TL
`,Xi+=sr+`
`,Xi+=on,Xi+=A,me(Xi+="ET"),m[Mt]=!0,Qe};var Bs=g.__private__.clip=g.clip=function(A){return me(A==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Bs("evenodd")},g.__private__.discardPath=g.discardPath=function(){return me("n"),this};var Us=g.__private__.isValidStyle=function(A){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(G=!0),G};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(A){return Us(A)&&(d=A),this};var Hl=g.__private__.getStyle=g.getStyle=function(A){var G=d;switch(A){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=A}return G},si=g.close=function(){return me("h"),this};g.stroke=function(){return me("S"),this},g.fill=function(A){return ol("f",A),this},g.fillEvenOdd=function(A){return ol("f*",A),this},g.fillStroke=function(A){return ol("B",A),this},g.fillStrokeEvenOdd=function(A){return ol("B*",A),this};var ol=function(A,G){Wn(G)==="object"?xa(G,A):me(A)},al=function(A){A===null||I===C.ADVANCED&&A===void 0||(A=Hl(A),me(A))};function wo(A,G,pe,xe,Pe){var Be=new gh(G||this.boundingBox,pe||this.xStep,xe||this.yStep,this.gState,Pe||this.matrix);Be.stream=this.stream;var Xe=A+"$$"+this.cloneIndex+++"$$";return Ir(Xe,Be),Be}var xa=function(A,G){var pe=Os[A.key],xe=sn[pe];if(xe instanceof qd)me("q"),me(Yc(G)),xe.gState&&g.setGState(xe.gState),me(A.matrix.toString()+" cm"),me("/"+pe+" sh"),me("Q");else if(xe instanceof gh){var Pe=new pt(1,0,0,-1,0,vi());A.matrix&&(Pe=Pe.multiply(A.matrix||Nr),pe=wo.call(xe,A.key,A.boundingBox,A.xStep,A.yStep,Pe).id),me("q"),me("/Pattern cs"),me("/"+pe+" scn"),xe.gState&&g.setGState(xe.gState),me(G),me("Q")}},Yc=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ni=g.moveTo=function(A,G){return me(F(D(A))+" "+F(se(G))+" m"),this},oi=g.lineTo=function(A,G){return me(F(D(A))+" "+F(se(G))+" l"),this},gi=g.curveTo=function(A,G,pe,xe,Pe,Be){return me([F(D(A)),F(se(G)),F(D(pe)),F(se(xe)),F(D(Pe)),F(se(Be)),"c"].join(" ")),this};g.__private__.line=g.line=function(A,G,pe,xe,Pe){if(isNaN(A)||isNaN(G)||isNaN(pe)||isNaN(xe)||!Us(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return I===C.COMPAT?this.lines([[pe-A,xe-G]],A,G,[1,1],Pe||"S"):this.lines([[pe-A,xe-G]],A,G,[1,1]).stroke()},g.__private__.lines=g.lines=function(A,G,pe,xe,Pe,Be){var Xe,lt,w,R,U,te,Ae,Le,Qe,$t,on,Ht;if(typeof A=="number"&&(Ht=pe,pe=G,G=A,A=Ht),xe=xe||[1,1],Be=Be||!1,isNaN(G)||isNaN(pe)||!Array.isArray(A)||!Array.isArray(xe)||!Us(Pe)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ni(G,pe),Xe=xe[0],lt=xe[1],R=A.length,$t=G,on=pe,w=0;w<R;w++)(U=A[w]).length===2?($t=U[0]*Xe+$t,on=U[1]*lt+on,oi($t,on)):(te=U[0]*Xe+$t,Ae=U[1]*lt+on,Le=U[2]*Xe+$t,Qe=U[3]*lt+on,$t=U[4]*Xe+$t,on=U[5]*lt+on,gi(te,Ae,Le,Qe,$t,on));return Be&&si(),al(Pe),this},g.path=function(A){for(var G=0;G<A.length;G++){var pe=A[G],xe=pe.c;switch(pe.op){case"m":Ni(xe[0],xe[1]);break;case"l":oi(xe[0],xe[1]);break;case"c":gi.apply(this,xe);break;case"h":si()}}return this},g.__private__.rect=g.rect=function(A,G,pe,xe,Pe){if(isNaN(A)||isNaN(G)||isNaN(pe)||isNaN(xe)||!Us(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return I===C.COMPAT&&(xe=-xe),me([F(D(A)),F(se(G)),F(D(pe)),F(D(xe)),"re"].join(" ")),al(Pe),this},g.__private__.triangle=g.triangle=function(A,G,pe,xe,Pe,Be,Xe){if(isNaN(A)||isNaN(G)||isNaN(pe)||isNaN(xe)||isNaN(Pe)||isNaN(Be)||!Us(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-A,xe-G],[Pe-pe,Be-xe],[A-Pe,G-Be]],A,G,[1,1],Xe,!0),this},g.__private__.roundedRect=g.roundedRect=function(A,G,pe,xe,Pe,Be,Xe){if(isNaN(A)||isNaN(G)||isNaN(pe)||isNaN(xe)||isNaN(Pe)||isNaN(Be)||!Us(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*pe),Be=Math.min(Be,.5*xe),this.lines([[pe-2*Pe,0],[Pe*lt,0,Pe,Be-Be*lt,Pe,Be],[0,xe-2*Be],[0,Be*lt,-Pe*lt,Be,-Pe,Be],[2*Pe-pe,0],[-Pe*lt,0,-Pe,-Be*lt,-Pe,-Be],[0,2*Be-xe],[0,-Be*lt,Pe*lt,-Be,Pe,-Be]],A+Pe,G,[1,1],Xe,!0),this},g.__private__.ellipse=g.ellipse=function(A,G,pe,xe,Pe){if(isNaN(A)||isNaN(G)||isNaN(pe)||isNaN(xe)||!Us(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*pe,Xe=4/3*(Math.SQRT2-1)*xe;return Ni(A+pe,G),gi(A+pe,G-Xe,A+Be,G-xe,A,G-xe),gi(A-Be,G-xe,A-pe,G-Xe,A-pe,G),gi(A-pe,G+Xe,A-Be,G+xe,A,G+xe),gi(A+Be,G+xe,A+pe,G+Xe,A+pe,G),al(Pe),this},g.__private__.circle=g.circle=function(A,G,pe,xe){if(isNaN(A)||isNaN(G)||isNaN(pe)||!Us(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,G,pe,pe,xe)},g.setFont=function(A,G,pe){return pe&&(G=ae(G,pe)),Mt=vo(A,G,{disableWarning:!1}),this};var Go=g.__private__.getFont=g.getFont=function(){return xn[vo.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var A,G,pe={};for(A in jn)if(jn.hasOwnProperty(A))for(G in pe[A]=[],jn[A])jn[A].hasOwnProperty(G)&&pe[A].push(G);return pe},g.addFont=function(A,G,pe,xe,Pe){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(pe=ae(pe,xe)),Pe=Pe||"Identity-H",zo.call(this,A,G,pe,Pe)};var Tn,Gl=t.lineWidth||.200025,Ko=g.__private__.getLineWidth=g.getLineWidth=function(){return Gl},Yo=g.__private__.setLineWidth=g.setLineWidth=function(A){return Gl=A,me(F(D(A))+" w"),this};g.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(A,G){if(A=A||[],G=G||0,isNaN(G)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(pe){return F(D(pe))}).join(" "),G=F(D(G)),me("["+A+"] "+G+" d"),this};var ba=g.__private__.getLineHeight=g.getLineHeight=function(){return et*Tn};g.__private__.getLineHeight=g.getLineHeight=function(){return et*Tn};var ll=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Tn=A),this},yi=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Tn};ll(t.lineHeight);var Ii=g.__private__.getHorizontalCoordinate=function(A){return D(A)},mr=g.__private__.getVerticalCoordinate=function(A){return I===C.ADVANCED?A:Nt[X].mediaBox.topRightY-Nt[X].mediaBox.bottomLeftY-D(A)},Kl=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(A){return F(Ii(A))},ws=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(A){return F(mr(A))},Rr=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Hi(Rr)},g.__private__.setStrokeColor=g.setDrawColor=function(A,G,pe,xe){return Rr=_r({ch1:A,ch2:G,ch3:pe,ch4:xe,pdfColorType:"draw",precision:2}),me(Rr),this};var _a=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Hi(_a)},g.__private__.setFillColor=g.setFillColor=function(A,G,pe,xe){return _a=_r({ch1:A,ch2:G,ch3:pe,ch4:xe,pdfColorType:"fill",precision:2}),me(_a),this};var sr=t.textColor||"0 g",xs=g.__private__.getTextColor=g.getTextColor=function(){return Hi(sr)};g.__private__.setTextColor=g.setTextColor=function(A,G,pe,xe){return sr=_r({ch1:A,ch2:G,ch3:pe,ch4:xe,pdfColorType:"text",precision:3}),this};var xo=t.charSpace,zs=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(xo||0)};g.__private__.setCharSpace=g.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xo=A,this};var Yl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(A){var G=g.CapJoinStyles[A];if(G===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yl=G,me(G+" J"),this};var Xo=0;g.__private__.setLineJoin=g.setLineJoin=function(A){var G=g.CapJoinStyles[A];if(G===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xo=G,me(G+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(F(D(A))+" M"),this},g.GState=ly,g.setGState=function(A){(A=typeof A=="string"?Vn[fr[A]]:qs(null,A)).equals(Yr)||(me("/"+A.id+" gs"),Yr=A)};var qs=function(A,G){if(!A||!fr[A]){var pe=!1;for(var xe in Vn)if(Vn.hasOwnProperty(xe)&&Vn[xe].equals(G)){pe=!0;break}if(pe)G=Vn[xe];else{var Pe="GS"+(Object.keys(Vn).length+1).toString(10);Vn[Pe]=G,G.id=Pe}return A&&(fr[A]=G.id),cn.publish("addGState",G),G}};g.addGState=function(A,G){return qs(A,G),this},g.saveGraphicsState=function(){return me("q"),Wi.push({key:Mt,size:et,color:sr}),this},g.restoreGraphicsState=function(){me("Q");var A=Wi.pop();return Mt=A.key,et=A.size,sr=A.color,Yr=null,this},g.setCurrentTransformationMatrix=function(A){return me(A.toString()+" cm"),this},g.comment=function(A){return me("#"+A),this};var bs=function(A,G){var pe=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Be){isNaN(Be)||(pe=parseFloat(Be))}});var xe=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Be){isNaN(Be)||(xe=parseFloat(Be))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Be){Pe=Be.toString()}}),this},bo=function(A,G,pe,xe){bs.call(this,A,G),this.type="rect";var Pe=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(Xe){isNaN(Xe)||(Pe=parseFloat(Xe))}});var Be=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Xe){isNaN(Xe)||(Be=parseFloat(Xe))}}),this},Qo=function(){this.page=Bn,this.currentPage=X,this.pages=De.slice(0),this.pagesContext=Nt.slice(0),this.x=tr,this.y=nn,this.matrix=Pi,this.width=Ws(X),this.height=vi(X),this.outputDestination=Ye,this.id="",this.objectNumber=-1};Qo.prototype.restore=function(){Bn=this.page,X=this.currentPage,Nt=this.pagesContext,De=this.pages,tr=this.x,nn=this.y,Pi=this.matrix,ul(X,this.width),dl(X,this.height),Ye=this.outputDestination};var cl=function(A,G,pe,xe,Pe){$i.push(new Qo),Bn=X=0,De=[],tr=A,nn=G,Pi=Pe,ii([pe,xe])},Xc=function(A){if(Xr[A])$i.pop().restore();else{var G=new Qo,pe="Xo"+(Object.keys(br).length+1).toString(10);G.id=pe,Xr[A]=pe,br[pe]=G,cn.publish("addFormObject",G),$i.pop().restore()}};for(var _o in g.beginFormObject=function(A,G,pe,xe,Pe){return cl(A,G,pe,xe,Pe),this},g.endFormObject=function(A){return Xc(A),this},g.doFormObject=function(A,G){var pe=br[Xr[A]];return me("q"),me(G.toString()+" cm"),me("/"+pe.id+" Do"),me("Q"),this},g.getFormObject=function(A){var G=br[Xr[A]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},g.save=function(A,G){return A=A||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(Bd(wa(Vs()),A),typeof Bd.unload=="function"&&Vt.setTimeout&&setTimeout(Bd.unload,911),this):new Promise(function(pe,xe){try{var Pe=Bd(wa(Vs()),A);typeof Bd.unload=="function"&&Vt.setTimeout&&setTimeout(Bd.unload,911),pe(Pe)}catch(Be){xe(Be.message)}})},Dt.API)Dt.API.hasOwnProperty(_o)&&(_o==="events"&&Dt.API.events.length?function(A,G){var pe,xe,Pe;for(Pe=G.length-1;Pe!==-1;Pe--)pe=G[Pe][0],xe=G[Pe][1],A.subscribe.apply(A,[pe].concat(typeof xe=="function"?[xe]:xe))}(cn,Dt.API.events):g[_o]=Dt.API[_o]);var Ws=g.getPageWidth=function(A){return(Nt[A=A||X].mediaBox.topRightX-Nt[A].mediaBox.bottomLeftX)/ot},ul=g.setPageWidth=function(A,G){Nt[A].mediaBox.topRightX=G*ot+Nt[A].mediaBox.bottomLeftX},vi=g.getPageHeight=function(A){return(Nt[A=A||X].mediaBox.topRightY-Nt[A].mediaBox.bottomLeftY)/ot},dl=g.setPageHeight=function(A,G){Nt[A].mediaBox.topRightY=G*ot+Nt[A].mediaBox.bottomLeftY};return g.internal={pdfEscape:pr,getStyle:Hl,getFont:Go,getFontSize:at,getCharSpace:zs,getTextColor:xs,getLineHeight:ba,getLineHeightFactor:yi,getLineWidth:Ko,write:_t,getHorizontalCoordinate:Ii,getVerticalCoordinate:mr,getCoordinateString:Kl,getVerticalCoordinateString:ws,collections:{},newObject:Gn,newAdditionalObject:Vo,newObjectDeferred:Kn,newObjectDeferredBegin:ir,getFilters:mi,putStream:hr,events:cn,scaleFactor:ot,pageSize:{getWidth:function(){return Ws(X)},setWidth:function(A){ul(X,A)},getHeight:function(){return vi(X)},setHeight:function(A){dl(X,A)}},encryptionOptions:f,encryption:gn,getEncryptor:vs,output:Ho,getNumberOfPages:kn,pages:De,out:me,f2:$,f3:k,getPageInfo:Ki,getPageInfoByObjId:Rt,getCurrentPageInfo:Yi,getPDFVersion:S,Point:bs,Rectangle:bo,Matrix:pt,hasHotfix:ys},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ws(X)},set:function(A){ul(X,A)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return vi(X)},set:function(A){dl(X,A)},enumerable:!0,configurable:!0}),qo.call(g,Ke),Mt="F1",Wo(i,n),cn.publish("initialized"),g}uh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},uh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uh.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},uh.prototype.processOwnerPassword=function(t,e){return Bw(Vw(e).substr(0,5),t)},uh.prototype.encryptor=function(t,e){var n=Vw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Bw(n,r)}},ly.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Wn(t)!==Wn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Dt.API={events:[]},Dt.version="3.0.1";var Mr=Dt.API,Yb=1,Nf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kt=function(t){return t.toFixed(2)},ku=function(t){return t.toFixed(5)};Mr.__acroform__={};var uo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ZE=function(t){return t*Yb},Tl=function(t){var e=new DN,n=xt.internal.getHeight(t)||0,r=xt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Kt(r)),Number(Kt(n))],e},dG=Mr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},fG=Mr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},hG=Mr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Wr=Mr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hG(t,e-1)},$r=Mr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dG(t,e-1)},Hr=Mr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fG(t,e-1)},pG=Mr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+a)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(s)||0,[Number(Kt(c.lowerLeft_X)),Number(Kt(c.lowerLeft_Y)),Number(Kt(c.upperRight_X)),Number(Kt(c.upperRight_Y))]},mG=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Uw(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Tl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Uw=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var s=n,o=xt.internal.getHeight(t)||0;o=o<0?-o:o;var a=xt.internal.getWidth(t)||0;a=a<0?-a:a;var c=function(k,D,q){if(k+1<i.length){var se=D+" "+i[k+1][0];return Xg(se,t,q).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var d,f,h=Xg("3",t,s).height,m=t.multiline?o-s:(o-h)/2,g=m+=2,b=0,S=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xg(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var E="",C=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var j=!1;if(i[I].length!==1&&T!==i[I].length-1){if((h+2)*(C+2)+2>o)continue e;E+=i[I][T],j=!0,S=I,I--}else{E=(E+=i[I][T]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var K=parseInt(I),ae=c(K,E,s),F=I>=i.length-1;if(ae&&!F){E+=" ",T=0;continue}if(ae||F){if(F)S=K;else if(t.multiline&&(h+2)*(C+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(C+2)+2>o)continue e;S=K}}for(var L="",B=b;B<=S;B++){var $=i[B];if(t.multiline){if(B===S){L+=$[T]+" ",T=(T+1)%$.length;continue}if(B===b){L+=$[$.length-1]+" ";continue}}L+=$[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=Xg(L,t,s).width,t.textAlign){case"right":d=a-f-2;break;case"center":d=(a-f)/2;break;case"left":default:d=2}e+=Kt(d)+" "+Kt(g)+` Td
`,e+="("+Nf(L)+`) Tj
`,e+=-Kt(d)+` 0 Td
`,g=-(s+2),f=0,b=j?S:S+1,C++,E=""}break}return r.text=e,r.fontSize=s,r},Xg=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},gG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yG=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},vG=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Wn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},wG=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(tl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(gG)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Yb=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new ON,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&yG(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],c=[],d=a.Rect;if(a.Rect&&(a.Rect=pG(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=xt.createDefaultAppearanceStream(a),Wn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=d,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=mG(a);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var h="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var g=a.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var b=g[o];typeof b=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(i,a)),h+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}s&&vG(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},jN=Mr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Wn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Nf(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},c2=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Nf(r(t))+")"},Pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pl.prototype.toString=function(){return this.objId+" 0 R"},Pl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Pl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:jN(i,this.objId,this.scope)}):i instanceof Pl?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var DN=function(){Pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};uo(DN,Pl);var ON=function(){Pl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Nf(n(t))+")"}},set:function(n){t=n}})};uo(ON,Pl);var tl=function t(){Pl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wr(e,3)},set:function(E){E?this.F=$r(e,3):this.F=Hr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof cy)return;s="FieldObject"+t.FieldNum++}var E=function(C){return C};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Nf(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Yb:d},set:function(E){d=E}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof cy||this instanceof nf))return c2(h,this.objId,this.scope)},set:function(E){E=E.toString(),h=E}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ci?m:c2(m,this.objId,this.scope)},set:function(E){E=E.toString(),m=this instanceof Ci?E:E.substr(0,1)==="("?nh(E.substr(1,E.length-2)):nh(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci?nh(m.substr(1,m.length-1)):m},set:function(E){E=E.toString(),m=this instanceof Ci?"/"+E:E}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ci?g:c2(g,this.objId,this.scope)},set:function(E){E=E.toString(),g=this instanceof Ci?E:E.substr(0,1)==="("?nh(E.substr(1,E.length-2)):nh(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci?nh(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof Ci?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(E){E=!!E,S=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(E){b=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,1)},set:function(E){E?this.Ff=$r(this.Ff,1):this.Ff=Hr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,2)},set:function(E){E?this.Ff=$r(this.Ff,2):this.Ff=Hr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,3)},set:function(E){E?this.Ff=$r(this.Ff,3):this.Ff=Hr(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');T=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(T){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};uo(tl,Pl);var Eh=function(){tl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jN(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var c,d=[];c=o.exec(s);)d.push(c[a]);return d}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,18)},set:function(n){n?this.Ff=$r(this.Ff,18):this.Ff=Hr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=$r(this.Ff,19):this.Ff=Hr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,20)},set:function(n){n?(this.Ff=$r(this.Ff,20),e.sort()):this.Ff=Hr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,22)},set:function(n){n?this.Ff=$r(this.Ff,22):this.Ff=Hr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,23)},set:function(n){n?this.Ff=$r(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,27)},set:function(n){n?this.Ff=$r(this.Ff,27):this.Ff=Hr(this.Ff,27)}}),this.hasAppearanceStream=!1};uo(Eh,tl);var Ah=function(){Eh.call(this),this.fontName="helvetica",this.combo=!1};uo(Ah,Eh);var Ch=function(){Ah.call(this),this.combo=!0};uo(Ch,Ah);var v0=function(){Ch.call(this),this.edit=!0};uo(v0,Ch);var Ci=function(){tl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,15)},set:function(n){n?this.Ff=$r(this.Ff,15):this.Ff=Hr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,16)},set:function(n){n?this.Ff=$r(this.Ff,16):this.Ff=Hr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,17)},set:function(n){n?this.Ff=$r(this.Ff,17):this.Ff=Hr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,26)},set:function(n){n?this.Ff=$r(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Nf(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Wn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};uo(Ci,tl);var w0=function(){Ci.call(this),this.pushButton=!0};uo(w0,Ci);var Ph=function(){Ci.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};uo(Ph,Ci);var cy=function(){var t,e;tl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Nf(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Wn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};uo(cy,tl),Ph.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ph.prototype.createOption=function(t){var e=new cy;return e.Parent=this,e.optionName=t,this.Kids.push(e),xG.call(this.scope,e),e};var x0=function(){Ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};uo(x0,Ci);var nf=function(){tl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,13)},set:function(e){e?this.Ff=$r(this.Ff,13):this.Ff=Hr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,21)},set:function(e){e?this.Ff=$r(this.Ff,21):this.Ff=Hr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,23)},set:function(e){e?this.Ff=$r(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,24)},set:function(e){e?this.Ff=$r(this.Ff,24):this.Ff=Hr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,25)},set:function(e){e?this.Ff=$r(this.Ff,25):this.Ff=Hr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,26)},set:function(e){e?this.Ff=$r(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};uo(nf,tl);var b0=function(){nf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wr(this.Ff,14)},set:function(t){t?this.Ff=$r(this.Ff,14):this.Ff=Hr(this.Ff,14)}}),this.password=!0};uo(b0,nf);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Tl(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Uw(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Kt(xt.internal.getWidth(t))+" "+Kt(xt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Kt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Tl(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=xt.internal.getHeight(t),o=xt.internal.getWidth(t),a=Uw(t,t.caption);return i.push("1 g"),i.push("0 0 "+Kt(o)+" "+Kt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Kt(o-1)+" "+Kt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Kt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Tl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(xt.internal.getWidth(t))+" "+Kt(xt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=xt.RadioButton.Circle.YesNormal,e.D[t]=xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Tl(t);e.scope=t.scope;var n=[],r=xt.internal.getWidth(t)<=xt.internal.getHeight(t)?xt.internal.getWidth(t)/4:xt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=xt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ku(xt.internal.getWidth(t)/2)+" "+ku(xt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Tl(t);e.scope=t.scope;var n=[],r=xt.internal.getWidth(t)<=xt.internal.getHeight(t)?xt.internal.getWidth(t)/4:xt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*xt.internal.Bezier_C).toFixed(5)),o=Number((r*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ku(xt.internal.getWidth(t)/2)+" "+ku(xt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ku(xt.internal.getWidth(t)/2)+" "+ku(xt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Tl(t);e.scope=t.scope;var n=[],r=xt.internal.getWidth(t)<=xt.internal.getHeight(t)?xt.internal.getWidth(t)/4:xt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*xt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ku(xt.internal.getWidth(t)/2)+" "+ku(xt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=xt.RadioButton.Cross.YesNormal,e.D[t]=xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Tl(t);e.scope=t.scope;var n=[],r=xt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Kt(xt.internal.getWidth(t)-2)+" "+Kt(xt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Kt(r.x1.x)+" "+Kt(r.x1.y)+" m"),n.push(Kt(r.x2.x)+" "+Kt(r.x2.y)+" l"),n.push(Kt(r.x4.x)+" "+Kt(r.x4.y)+" m"),n.push(Kt(r.x3.x)+" "+Kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Tl(t);e.scope=t.scope;var n=xt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Kt(xt.internal.getWidth(t))+" "+Kt(xt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Kt(xt.internal.getWidth(t)-2)+" "+Kt(xt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Kt(n.x1.x)+" "+Kt(n.x1.y)+" m"),r.push(Kt(n.x2.x)+" "+Kt(n.x2.y)+" l"),r.push(Kt(n.x4.x)+" "+Kt(n.x4.y)+" m"),r.push(Kt(n.x3.x)+" "+Kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Tl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(xt.internal.getWidth(t))+" "+Kt(xt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};xt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=xt.internal.getWidth(t),n=xt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},xt.internal.getWidth=function(t){var e=0;return Wn(t)==="object"&&(e=ZE(t.Rect[2])),e},xt.internal.getHeight=function(t){var e=0;return Wn(t)==="object"&&(e=ZE(t.Rect[3])),e};var xG=Mr.addField=function(t){if(wG(this,t),!(t instanceof tl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Mr.AcroFormChoiceField=Eh,Mr.AcroFormListBox=Ah,Mr.AcroFormComboBox=Ch,Mr.AcroFormEditBox=v0,Mr.AcroFormButton=Ci,Mr.AcroFormPushButton=w0,Mr.AcroFormRadioButton=Ph,Mr.AcroFormCheckBox=x0,Mr.AcroFormTextField=nf,Mr.AcroFormPasswordField=b0,Mr.AcroFormAppearance=xt,Mr.AcroForm={ChoiceField:Eh,ListBox:Ah,ComboBox:Ch,EditBox:v0,Button:Ci,PushButton:w0,RadioButton:Ph,CheckBox:x0,TextField:nf,PasswordField:b0,Appearance:xt},Dt.AcroForm={ChoiceField:Eh,ListBox:Ah,ComboBox:Ch,EditBox:v0,Button:Ci,PushButton:w0,RadioButton:Ph,CheckBox:x0,TextField:nf,PasswordField:b0,Appearance:xt};Dt.AcroForm;function MN(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(k,D){var q,se,we,fe,ve,ce=e;if((D=D||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(ae(k))for(ve in n)for(we=n[ve],q=0;q<we.length;q+=1){for(fe=!0,se=0;se<we[q].length;se+=1)if(we[q][se]!==void 0&&we[q][se]!==k[se]){fe=!1;break}if(fe===!0){ce=ve;break}}else for(ve in n)for(we=n[ve],q=0;q<we.length;q+=1){for(fe=!0,se=0;se<we[q].length;se+=1)if(we[q][se]!==void 0&&we[q][se]!==k.charCodeAt(se)){fe=!1;break}if(fe===!0){ce=ve;break}}return ce===e&&D!==e&&(ce=D),ce},i=function k(D){for(var q=this.internal.write,se=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:D.width}),fe.push({key:"Height",value:D.height}),D.colorSpace===T.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===T.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var ve="",ce=0,ne=D.transparency.length;ce<ne;ce++)ve+=D.transparency[ce]+" "+D.transparency[ce]+" ";fe.push({key:"Mask",value:"["+ve+"]"})}D.sMask!==void 0&&fe.push({key:"SMask",value:D.objectId+1+" 0 R"});var Y=D.filter!==void 0?["/"+D.filter]:void 0;if(se({data:D.data,additionalKeyValues:fe,alreadyAppliedFilters:Y,objectId:D.objectId}),q("endobj"),"sMask"in D&&D.sMask!==void 0){var W="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,V={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:W,data:D.sMask};"filter"in D&&(V.filter=D.filter),k.call(this,V)}if(D.colorSpace===T.INDEXED){var X=this.internal.newObject();se({data:L(new Uint8Array(D.palette)),objectId:X}),q("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var D in k)i.call(this,k[D])},o=function(){var k,D=this.internal.collections.addImage_images,q=this.internal.write;for(var se in D)q("/I"+(k=D[se]).index,k.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return a.call(this),k},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(k){return typeof t["process"+k.toUpperCase()]=="function"},h=function(k){return Wn(k)==="object"&&k.nodeType===1},m=function(k,D){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var q=""+k.getAttribute("src");if(q.indexOf("data:image/")===0)return em(unescape(q).split("base64,").pop());var se=t.loadFile(q,!0);if(se!==void 0)return se}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var we;switch(D){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;case"JPEG":case"JPG":default:we="image/jpeg"}return em(k.toDataURL(we,1).split("base64,").pop())}},g=function(k){var D=this.internal.collections.addImage_images;if(D){for(var q in D)if(k===D[q].alias)return D[q]}},b=function(k,D,q){return k||D||(k=-96,D=-96),k<0&&(k=-1*q.width*72/k/this.internal.scaleFactor),D<0&&(D=-1*q.height*72/D/this.internal.scaleFactor),k===0&&(k=D*q.width/q.height),D===0&&(D=k*q.height/q.width),[k,D]},S=function(k,D,q,se,we,fe){var ve=b.call(this,q,se,we),ce=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,Y=c.call(this);if(q=ve[0],se=ve[1],Y[we.index]=we,fe){fe*=Math.PI/180;var W=Math.cos(fe),V=Math.sin(fe),X=function(de){return de.toFixed(4)},le=[X(W),X(V),X(-1*V),X(W),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,ce(k),ne(D+se),"cm"].join(" ")),this.internal.write(le.join(" ")),this.internal.write([ce(q),"0","0",ce(se),"0","0","cm"].join(" "))):this.internal.write([ce(q),"0","0",ce(se),ce(k),ne(D+se),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},T=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(k){var D,q,se=0;if(typeof k=="string")for(q=k.length,D=0;D<q;D++)se=(se<<5)-se+k.charCodeAt(D),se|=0;else if(ae(k))for(q=k.byteLength/2,D=0;D<q;D++)se=(se<<5)-se+k[D],se|=0;return se},I=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var D=!0;return k.length===0&&(D=!1),k.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(D=!1),D},j=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var D=k.indexOf(",");return D<0?null:k.substring(0,D).trim().endsWith("base64")?k.substring(D+1):null},K=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(k){return K()&&k instanceof ArrayBuffer};var ae=t.__addimage__.isArrayBufferView=function(k){return K()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},F=t.__addimage__.binaryStringToUint8Array=function(k){for(var D=k.length,q=new Uint8Array(D),se=0;se<D;se++)q[se]=k.charCodeAt(se);return q},L=t.__addimage__.arrayBufferToBinaryString=function(k){for(var D="",q=ae(k)?k:new Uint8Array(k),se=0;se<q.length;se+=8192)D+=String.fromCharCode.apply(null,q.subarray(se,se+8192));return D};t.addImage=function(){var k,D,q,se,we,fe,ve,ce,ne;if(typeof arguments[1]=="number"?(D=e,q=arguments[1],se=arguments[2],we=arguments[3],fe=arguments[4],ve=arguments[5],ce=arguments[6],ne=arguments[7]):(D=arguments[1],q=arguments[2],se=arguments[3],we=arguments[4],fe=arguments[5],ve=arguments[6],ce=arguments[7],ne=arguments[8]),Wn(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var Y=k;k=Y.imageData,D=Y.format||D||e,q=Y.x||q||0,se=Y.y||se||0,we=Y.w||Y.width||we,fe=Y.h||Y.height||fe,ve=Y.alias||ve,ce=Y.compression||ce,ne=Y.rotation||Y.angle||ne}var W=this.internal.getFilters();if(ce===void 0&&W.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(q)||isNaN(se))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var V=B.call(this,k,D,ve,ce);return S.call(this,q,se,we,fe,V,ne),this};var B=function(k,D,q,se){var we,fe,ve;if(typeof k=="string"&&r(k)===e){k=unescape(k);var ce=$(k,!1);(ce!==""||(ce=t.loadFile(k,!0))!==void 0)&&(k=ce)}if(h(k)&&(k=m(k,D)),D=r(k,D),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((ve=q)==null||ve.length===0)&&(q=function(ne){return typeof ne=="string"||ae(ne)?C(ne):ae(ne.data)?C(ne.data):null}(k)),(we=g.call(this,q))||(K()&&(k instanceof Uint8Array||D==="RGBA"||(fe=k,k=F(k))),we=this["process"+D.toUpperCase()](k,d.call(this),q,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:E.NONE}(se),fe)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},$=t.__addimage__.convertBase64ToBinaryString=function(k,D){D=typeof D!="boolean"||D;var q,se="";if(typeof k=="string"){var we;q=(we=j(k))!==null&&we!==void 0?we:k;try{se=em(q)}catch(fe){if(D)throw I(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return se};t.getImageProperties=function(k){var D,q,se="";if(h(k)&&(k=m(k)),typeof k=="string"&&r(k)===e&&((se=$(k,!1))===""&&(se=t.loadFile(k)||""),k=se),q=r(k),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(!K()||k instanceof Uint8Array||(k=F(k)),!(D=this["process"+q.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=q,D}})(Dt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Dt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,f=!1,h=0;h<d.length&&!f;h++)switch((r=d[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){r=d[m];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(S.objId),C=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+g(E(r.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+g(E(C))+") >>",S.content=s;var I=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+I,r.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(S.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var K=this.annotations._nameMap[r.options.name];r.options.pageNumber=K.page,r.options.top=K.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ae=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ae+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(n),y:d(r),w:c(n+i),h:d(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(d*f)}else a=c,o=d;return this.text(n,r,i,s),i+=.2*d,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-d,a,o,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Dt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=t.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(S){var T=0,E=n,C="",I=0;for(T=0;T<S.length;T+=1)E[S.charCodeAt(T)]!==void 0?(I++,typeof(E=E[S.charCodeAt(T)])=="number"&&(C+=String.fromCharCode(E),E=n,I=0),T===S.length-1&&(E=n,C+=S.charAt(T-(I-1)),T-=I-1,I=0)):(E=n,C+=S.charAt(T-I),T-=I,I=0);return C};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(S,T,E){return o(S)?s(S)===!1?-1:!d(S)||!o(T)&&!o(E)||!o(E)&&a(T)||a(S)&&!o(T)||a(S)&&c(T)||a(S)&&a(T)?0:f(S)&&o(T)&&!a(T)&&o(E)&&d(E)?3:a(S)||!o(E)?1:2:-1},g=function(S){var T=0,E=0,C=0,I="",j="",K="",ae=(S=S||"").split("\\s+"),F=[];for(T=0;T<ae.length;T+=1){for(F.push(""),E=0;E<ae[T].length;E+=1)I=ae[T][E],j=ae[T][E-1],K=ae[T][E+1],o(I)?(C=m(I,j,K),F[T]+=C!==-1?String.fromCharCode(e[I.charCodeAt(0)][C]):I):F[T]+=I;F[T]=h(F[T])}return F.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var S,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(T)){var C=0;for(E=[],C=0;C<T.length;C+=1)Array.isArray(T[C])?E.push([g(T[C][0]),T[C][1],T[C][2]]):E.push([g(T[C])]);S=E}else S=g(T);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",b])}(Dt.API),Dt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Dt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(S){b=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,g=0,b=0,S=0,T=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var E=d.maxWidth;E>0?typeof c=="string"?c=this.splitTextToSize(c,E):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(I,j){return I.concat(T.splitTextToSize(j,E))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)g<(S=this.getStringUnitWidth(c[C],{font:h})*f)&&(g=S);return g!==0&&(b=c.length),{w:g/=m,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,g&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,f,h,m){if(r.call(this),!f)throw new Error("No data for PDF table.");var g,b,S,T,E=[],C=[],I=[],j={},K={},ae=[],F=[],L=(m=m||{}).autoSize||!1,B=m.printHeaders!==!1,$=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,k=m.margins||Object.assign({width:this.getPageWidth()},e),D=typeof m.padding=="number"?m.padding:3,q=m.headerBackgroundColor||"#c8c8c8",se=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=se,this.setFontSize($),h==null)C=E=Object.keys(f[0]),I=E.map(function(){return"left"});else if(Array.isArray(h)&&Wn(h[0])==="object")for(E=h.map(function(Y){return Y.name}),C=h.map(function(Y){return Y.prompt||Y.name||""}),I=h.map(function(Y){return Y.align||"left"}),g=0;g<h.length;g+=1)K[h[g].name]=h[g].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(C=E=h,I=E.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<E.length;g+=1){for(j[T=E[g]]=f.map(function(Y){return Y[T]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(C[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=j[T],this.setFont(void 0,"normal"),S=0;S<b.length;S+=1)ae.push(this.getTextDimensions(b[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[T]=Math.max.apply(null,ae)+D+D,ae=[]}if(B){var we={};for(g=0;g<E.length;g+=1)we[E[g]]={},we[E[g]].text=C[g],we[E[g]].align=I[g];var fe=a.call(this,we,K);F=E.map(function(Y){return new s(c,d,K[Y],fe,we[Y].text,void 0,we[Y].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ve=h.reduce(function(Y,W){return Y[W.name]=W.align,Y},{});for(g=0;g<f.length;g+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:g,data:f[g]},this);var ce=a.call(this,f[g],K);for(S=0;S<E.length;S+=1){var ne=f[g][E[S]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:g,col:S,data:ne},this),o.call(this,new s(c,d,K[E[S]],ce,ne,g+2,ve[E[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var a=function(c,d){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(g){var b=c[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/m+f+f},this).reduce(function(g,b){return Math.max(g,b)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(Dt.API);var FN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zw=MN(VN),BN=[100,200,300,400,500,600,700,800,900],bG=MN(BN);function qw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return FN[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof zw[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function eA(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var _G={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function SG(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},_G,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=qw(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+nA(s)+"' and default family '"+r+"'.");if(o=function(c,d){if(d[c])return d[c];var f=zw[c],h=f<=zw.normal?-1:1,m=eA(d,VN,f,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m}(s.stretch,o),o=function(c,d){if(d[c])return d[c];for(var f=FN[c],h=0;h<f.length;++h)if(d[f[h]])return d[f[h]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var f=bG[c],h=eA(d,BN,f,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+nA(s)+"'.");return o}function rA(t){return t.trimLeft()}function TG(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function EG(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Qg,iA,sA,u2=["times"];(function(t){var e,n,r,i,s,o,a,c,d,f=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new c,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,d=new f}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=V;Object.defineProperty(this,"pdf",{get:function(){return X}});var le=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return le},set:function(Oe){le=!!Oe}});var de=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return de},set:function(Oe){de=!!Oe}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Oe){isNaN(Oe)||(oe=Oe)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Oe){isNaN(Oe)||(he=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Oe){var me;typeof Oe=="number"?me=[Oe,Oe,Oe,Oe]:((me=new Array(4))[0]=Oe[0],me[1]=Oe.length>=2?Oe[1]:me[0],me[2]=Oe.length>=3?Oe[2]:me[0],me[3]=Oe.length>=4?Oe[3]:me[1]),d.margin=me}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(Oe){ie=Oe}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Oe){ge=Oe}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(Oe){Re=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Oe){Oe instanceof f&&(d=Oe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Oe){d.path=Oe}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Oe){De=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var me;me=m(Oe),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var me=m(Oe);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var $e=null;function Ye(Oe,me){if($e===null){var _t=function(ft){var Ke=[];return Object.keys(ft).forEach(function(et){ft[et].forEach(function(st){var at=null;switch(st){case"bold":at={family:et,weight:"bold"};break;case"italic":at={family:et,style:"italic"};break;case"bolditalic":at={family:et,weight:"bold",style:"italic"};break;case"":case"normal":at={family:et}}at!==null&&(at.ref={name:et,style:st},Ke.push(at))})}),Ke}(Oe.getFontList());$e=function(ft){for(var Ke={},et=0;et<ft.length;++et){var st=qw(ft[et]),at=st.family,vt=st.stretch,It=st.style,Ot=st.weight;Ke[at]=Ke[at]||{},Ke[at][vt]=Ke[at][vt]||{},Ke[at][vt][It]=Ke[at][vt][It]||{},Ke[at][vt][It][Ot]=st}return Ke}(_t.concat(me))}return $e}var tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(Oe){$e=null,tt=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var me;if(this.ctx.font=Oe,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var _t=me[1];me[2];var ft=me[3],Ke=me[4];me[5];var et=me[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(st==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var at=function(Ct){var Mt,ot,tr=[],nn=Ct.trim();if(nn==="")return u2;if(nn in tA)return[tA[nn]];for(;nn!=="";){switch(ot=null,Mt=(nn=rA(nn)).charAt(0)){case'"':case"'":ot=TG(nn.substring(1),Mt);break;default:ot=EG(nn)}if(ot===null||(tr.push(ot[0]),(nn=rA(ot[1]))!==""&&nn.charAt(0)!==","))return u2;nn=nn.replace(/^,/,"")}return tr}(et);if(this.fontFaces){var vt=SG(Ye(this.pdf,this.fontFaces),at.map(function(Ct){return{family:Ct,stretch:"normal",weight:ft,style:_t}}));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var It="";(ft==="bold"||parseInt(ft,10)>=700||_t==="bold")&&(It="bold"),_t==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var Ot="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<at.length;kt++){if(this.pdf.internal.getFont(at[kt],It,{noFallback:!0,disableWarning:!0})!==void 0){Ot=at[kt];break}if(It==="bolditalic"&&this.pdf.internal.getFont(at[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ot=at[kt],It="bold";else if(this.pdf.internal.getFont(at[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ot=at[kt],It="normal";break}}if(Ot===""){for(var tn=0;tn<at.length;tn++)if(St[at[tn]]){Ot=St[at[tn]];break}}Ot=Ot===""?"Times":Ot,this.pdf.setFont(Ot,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){j.call(this,"fill",!1)},h.prototype.stroke=function(){j.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,X){if(isNaN(V)||isNaN(X))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var le=this.ctx.transform.applyToPoint(new o(V,X));this.path.push({type:"mt",x:le.x,y:le.y}),this.ctx.lastPoint=new o(V,X)},h.prototype.closePath=function(){var V=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Wn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){V=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.lineTo=function(V,X){if(isNaN(V)||isNaN(X))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var le=this.ctx.transform.applyToPoint(new o(V,X));this.path.push({type:"lt",x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,X,le,de){if(isNaN(le)||isNaN(de)||isNaN(V)||isNaN(X))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(le,de)),he=this.ctx.transform.applyToPoint(new o(V,X));this.path.push({type:"qct",x1:he.x,y1:he.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},h.prototype.bezierCurveTo=function(V,X,le,de,oe,he){if(isNaN(oe)||isNaN(he)||isNaN(V)||isNaN(X)||isNaN(le)||isNaN(de))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new o(oe,he)),ge=this.ctx.transform.applyToPoint(new o(V,X)),Re=this.ctx.transform.applyToPoint(new o(le,de));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Re.x,y2:Re.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},h.prototype.arc=function(V,X,le,de,oe,he){if(isNaN(V)||isNaN(X)||isNaN(le)||isNaN(de)||isNaN(oe))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new o(V,X));V=ie.x,X=ie.y;var ge=this.ctx.transform.applyToPoint(new o(0,le)),Re=this.ctx.transform.applyToPoint(new o(0,0));le=Math.sqrt(Math.pow(ge.x-Re.x,2)+Math.pow(ge.y-Re.y,2))}Math.abs(oe-de)>=2*Math.PI&&(de=0,oe=2*Math.PI),this.path.push({type:"arc",x:V,y:X,radius:le,startAngle:de,endAngle:oe,counterclockwise:he})},h.prototype.arcTo=function(V,X,le,de,oe){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,X,le,de){if(isNaN(V)||isNaN(X)||isNaN(le)||isNaN(de))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,X),this.lineTo(V+le,X),this.lineTo(V+le,X+de),this.lineTo(V,X+de),this.lineTo(V,X),this.lineTo(V+le,X),this.lineTo(V,X)},h.prototype.fillRect=function(V,X,le,de){if(isNaN(V)||isNaN(X)||isNaN(le)||isNaN(de))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,X,le,de),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},h.prototype.strokeRect=function(V,X,le,de){if(isNaN(V)||isNaN(X)||isNaN(le)||isNaN(de))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(V,X,le,de),this.stroke())},h.prototype.clearRect=function(V,X,le,de){if(isNaN(V)||isNaN(X)||isNaN(le)||isNaN(de))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,X,le,de))},h.prototype.save=function(V){V=typeof V!="boolean"||V;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var de=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=de}},h.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,le=0;le<this.pdf.internal.getNumberOfPages();le++)this.pdf.setPage(le+1),this.pdf.internal.out("Q");this.pdf.setPage(X),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(V){var X,le,de,oe;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))X=0,le=0,de=0,oe=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(he!==null)X=parseInt(he[1]),le=parseInt(he[2]),de=parseInt(he[3]),oe=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)X=parseInt(he[1]),le=parseInt(he[2]),de=parseInt(he[3]),oe=parseFloat(he[4]);else{if(oe=1,typeof V=="string"&&V.charAt(0)!=="#"){var ie=new IN(V);V=ie.ok?ie.toHex():"#000000"}V.length===4?(X=V.substring(1,2),X+=X,le=V.substring(2,3),le+=le,de=V.substring(3,4),de+=de):(X=V.substring(1,3),le=V.substring(3,5),de=V.substring(5,7)),X=parseInt(X,16),le=parseInt(le,16),de=parseInt(de,16)}}return{r:X,g:le,b:de,a:oe,style:V}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(V,X,le,de){if(isNaN(X)||isNaN(le)||typeof V!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(de=isNaN(de)?void 0:de,!g.call(this)){var oe=ce(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;D.call(this,{text:V,x:X,y:le,scale:he,angle:oe,align:this.textAlign,maxWidth:de})}},h.prototype.strokeText=function(V,X,le,de){if(isNaN(X)||isNaN(le)||typeof V!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){de=isNaN(de)?void 0:de;var oe=ce(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;D.call(this,{text:V,x:X,y:le,scale:he,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:de})}},h.prototype.measureText=function(V){if(typeof V!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,le=this.pdf.internal.scaleFactor,de=X.internal.getFontSize(),oe=X.getStringUnitWidth(V)*de/X.internal.scaleFactor,he=function(ie){var ge=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new he({width:oe*=Math.round(96*le/72*1e4)/1e4})},h.prototype.scale=function(V,X){if(isNaN(V)||isNaN(X))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var le=new c(V,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(le)},h.prototype.rotate=function(V){if(isNaN(V))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.translate=function(V,X){if(isNaN(V)||isNaN(X))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var le=new c(1,0,0,1,V,X);this.ctx.transform=this.ctx.transform.multiply(le)},h.prototype.transform=function(V,X,le,de,oe,he){if(isNaN(V)||isNaN(X)||isNaN(le)||isNaN(de)||isNaN(oe)||isNaN(he))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new c(V,X,le,de,oe,he);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.setTransform=function(V,X,le,de,oe,he){V=isNaN(V)?1:V,X=isNaN(X)?0:X,le=isNaN(le)?0:le,de=isNaN(de)?1:de,oe=isNaN(oe)?0:oe,he=isNaN(he)?0:he,this.ctx.transform=new c(V,X,le,de,oe,he)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,X,le,de,oe,he,ie,ge,Re){var De=this.pdf.getImageProperties(V),$e=1,Ye=1,tt=1,Oe=1;de!==void 0&&ge!==void 0&&(tt=ge/de,Oe=Re/oe,$e=De.width/de*ge/de,Ye=De.height/oe*Re/oe),he===void 0&&(he=X,ie=le,X=0,le=0),de!==void 0&&ge===void 0&&(ge=de,Re=oe),de===void 0&&ge===void 0&&(ge=De.width,Re=De.height);for(var me,_t=this.ctx.transform.decompose(),ft=ce(_t.rotate.shx),Ke=new c,et=(Ke=(Ke=(Ke=Ke.multiply(_t.translate)).multiply(_t.skew)).multiply(_t.scale)).applyToRectangle(new a(he-X*tt,ie-le*Oe,de*$e,oe*Ye)),st=T.call(this,et),at=[],vt=0;vt<st.length;vt+=1)at.indexOf(st[vt])===-1&&at.push(st[vt]);if(I(at),this.autoPaging)for(var It=at[0],Ot=at[at.length-1],St=It;St<Ot+1;St++){this.pdf.setPage(St);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=St===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=St===1?0:Ct+(St-2)*Mt;if(this.ctx.clip_path.length!==0){var tr=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(me,this.posX+this.margin[3],-ot+tn+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=tr}var nn=JSON.parse(JSON.stringify(et));nn=C([nn],this.posX+this.margin[3],-ot+tn+this.ctx.prevPageLastElemOffset)[0];var Pi=(St>It||St<Ot)&&S.call(this);Pi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,Mt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,ft),Pi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",et.x,et.y,et.w,et.h,null,null,ft)};var T=function(V,X,le){var de=[];X=X||this.pdf.internal.pageSize.width,le=le||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":de.push(Math.floor((V.y+oe)/le)+1);break;case"arc":de.push(Math.floor((V.y+oe-V.radius)/le)+1),de.push(Math.floor((V.y+oe+V.radius)/le)+1);break;case"qct":var he=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);de.push(Math.floor((he.y+oe)/le)+1),de.push(Math.floor((he.y+he.h+oe)/le)+1);break;case"bct":var ie=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);de.push(Math.floor((ie.y+oe)/le)+1),de.push(Math.floor((ie.y+ie.h+oe)/le)+1);break;case"rect":de.push(Math.floor((V.y+oe)/le)+1),de.push(Math.floor((V.y+V.h+oe)/le)+1)}for(var ge=0;ge<de.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<de[ge];)E.call(this);return de},E=function(){var V=this.fillStyle,X=this.strokeStyle,le=this.font,de=this.lineCap,oe=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=X,this.font=le,this.lineCap=de,this.lineWidth=oe,this.lineJoin=he},C=function(V,X,le){for(var de=0;de<V.length;de++)switch(V[de].type){case"bct":V[de].x2+=X,V[de].y2+=le;case"qct":V[de].x1+=X,V[de].y1+=le;case"mt":case"lt":case"arc":default:V[de].x+=X,V[de].y+=le}return V},I=function(V){return V.sort(function(X,le){return X-le})},j=function(V,X){for(var le,de,oe=this.fillStyle,he=this.strokeStyle,ie=this.lineCap,ge=this.lineWidth,Re=Math.abs(ge*this.ctx.transform.scaleX),De=this.lineJoin,$e=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),tt=[],Oe=0;Oe<Ye.length;Oe++)if(Ye[Oe].x!==void 0)for(var me=T.call(this,Ye[Oe]),_t=0;_t<me.length;_t+=1)tt.indexOf(me[_t])===-1&&tt.push(me[_t]);for(var ft=0;ft<tt.length;ft++)for(;this.pdf.internal.getNumberOfPages()<tt[ft];)E.call(this);if(I(tt),this.autoPaging)for(var Ke=tt[0],et=tt[tt.length-1],st=Ke;st<et+1;st++){this.pdf.setPage(st),this.fillStyle=oe,this.strokeStyle=he,this.lineCap=ie,this.lineWidth=Re,this.lineJoin=De;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=st===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=st===1?0:It+(st-2)*Ot;if(this.ctx.clip_path.length!==0){var kt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(le,this.posX+this.margin[3],-St+vt+this.ctx.prevPageLastElemOffset),K.call(this,V,!0),this.path=kt}if(de=JSON.parse(JSON.stringify($e)),this.path=C(de,this.posX+this.margin[3],-St+vt+this.ctx.prevPageLastElemOffset),X===!1||st===0){var tn=(st>Ke||st<et)&&S.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ot,null).clip().discardPath()),K.call(this,V,X),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Re,K.call(this,V,X),this.lineWidth=ge;this.path=$e},K=function(V,X){if((V!=="stroke"||X||!b.call(this))&&(V==="stroke"||X||!g.call(this))){for(var le,de,oe=[],he=this.path,ie=0;ie<he.length;ie++){var ge=he[ie];switch(ge.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ge,deltas:[],abs:[]});break;case"lt":var Re=oe.length;if(he[ie-1]&&!isNaN(he[ie-1].x)&&(le=[ge.x-he[ie-1].x,ge.y-he[ie-1].y],Re>0)){for(;Re>=0;Re--)if(oe[Re-1].close!==!0&&oe[Re-1].begin!==!0){oe[Re-1].deltas.push(le),oe[Re-1].abs.push(ge);break}}break;case"bct":le=[ge.x1-he[ie-1].x,ge.y1-he[ie-1].y,ge.x2-he[ie-1].x,ge.y2-he[ie-1].y,ge.x-he[ie-1].x,ge.y-he[ie-1].y],oe[oe.length-1].deltas.push(le);break;case"qct":var De=he[ie-1].x+2/3*(ge.x1-he[ie-1].x),$e=he[ie-1].y+2/3*(ge.y1-he[ie-1].y),Ye=ge.x+2/3*(ge.x1-ge.x),tt=ge.y+2/3*(ge.y1-ge.y),Oe=ge.x,me=ge.y;le=[De-he[ie-1].x,$e-he[ie-1].y,Ye-he[ie-1].x,tt-he[ie-1].y,Oe-he[ie-1].x,me-he[ie-1].y],oe[oe.length-1].deltas.push(le);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ge)}}de=X?null:V==="stroke"?"stroke":"fill";for(var _t=!1,ft=0;ft<oe.length;ft++)if(oe[ft].arc)for(var Ke=oe[ft].abs,et=0;et<Ke.length;et++){var st=Ke[et];st.type==="arc"?L.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,X,!_t):q.call(this,st.x,st.y),_t=!0}else if(oe[ft].close===!0)this.pdf.internal.out("h"),_t=!1;else if(oe[ft].begin!==!0){var at=oe[ft].start.x,vt=oe[ft].start.y;se.call(this,oe[ft].deltas,at,vt),_t=!0}de&&B.call(this,de),X&&$.call(this)}},ae=function(V){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,le=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-le;case"top":return V+X-le;case"hanging":return V+X-2*le;case"middle":return V+X/2-le;case"ideographic":return V;case"alphabetic":default:return V}},F=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(X,le){this.colorStops.push([X,le])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(V,X,le,de,oe,he,ie,ge,Re){for(var De=fe.call(this,le,de,oe,he),$e=0;$e<De.length;$e++){var Ye=De[$e];$e===0&&(Re?k.call(this,Ye.x1+V,Ye.y1+X):q.call(this,Ye.x1+V,Ye.y1+X)),we.call(this,V,X,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}ge?$.call(this):B.call(this,ie)},B=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(V,X){this.pdf.internal.out(n(V)+" "+r(X)+" m")},D=function(V){var X;switch(V.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var le=this.pdf.getTextDimensions(V.text),de=ae.call(this,V.y),oe=F.call(this,de)-le.h,he=this.ctx.transform.applyToPoint(new o(V.x,de)),ie=this.ctx.transform.decompose(),ge=new c;ge=(ge=(ge=ge.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var Re,De,$e,Ye=this.ctx.transform.applyToRectangle(new a(V.x,de,le.w,le.h)),tt=ge.applyToRectangle(new a(V.x,oe,le.w,le.h)),Oe=T.call(this,tt),me=[],_t=0;_t<Oe.length;_t+=1)me.indexOf(Oe[_t])===-1&&me.push(Oe[_t]);if(I(me),this.autoPaging)for(var ft=me[0],Ke=me[me.length-1],et=ft;et<Ke+1;et++){this.pdf.setPage(et);var st=et===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],It=vt-this.margin[0],Ot=this.pdf.internal.pageSize.width-this.margin[1],St=Ot-this.margin[3],kt=et===1?0:at+(et-2)*It;if(this.ctx.clip_path.length!==0){var tn=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Re,this.posX+this.margin[3],-1*kt+st),K.call(this,"fill",!0),this.path=tn}var Ct=C([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-kt+st+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*V.scale),$e=this.lineWidth,this.lineWidth=$e*V.scale);var Mt=this.autoPaging!=="text";if(Mt||Ct.y+Ct.h<=vt){if(Mt||Ct.y>=st&&Ct.x<=Ot){var ot=Mt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Ot-Ct.x)[0],tr=C([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-kt+st+this.ctx.prevPageLastElemOffset)[0],nn=Mt&&(et>ft||et<Ke)&&S.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,It,null).clip().discardPath()),this.pdf.text(ot,tr.x,tr.y,{angle:V.angle,align:X,renderingMode:V.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else Ct.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-Ct.y);V.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=$e)}else V.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*V.scale),$e=this.lineWidth,this.lineWidth=$e*V.scale),this.pdf.text(V.text,he.x+this.posX,he.y+this.posY,{angle:V.angle,align:X,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=$e)},q=function(V,X,le,de){le=le||0,de=de||0,this.pdf.internal.out(n(V+le)+" "+r(X+de)+" l")},se=function(V,X,le){return this.pdf.lines(V,X,le,null,null)},we=function(V,X,le,de,oe,he,ie,ge){this.pdf.internal.out([e(i(le+V)),e(s(de+X)),e(i(oe+V)),e(s(he+X)),e(i(ie+V)),e(s(ge+X)),"c"].join(" "))},fe=function(V,X,le,de){for(var oe=2*Math.PI,he=Math.PI/2;X>le;)X-=oe;var ie=Math.abs(le-X);ie<oe&&de&&(ie=oe-ie);for(var ge=[],Re=de?-1:1,De=X;ie>1e-5;){var $e=De+Re*Math.min(ie,he);ge.push(ve.call(this,V,De,$e)),ie-=Math.abs($e-De),De=$e}return ge},ve=function(V,X,le){var de=(le-X)/2,oe=V*Math.cos(de),he=V*Math.sin(de),ie=oe,ge=-he,Re=ie*ie+ge*ge,De=Re+ie*oe+ge*he,$e=4/3*(Math.sqrt(2*Re*De)-De)/(ie*he-ge*oe),Ye=ie-$e*ge,tt=ge+$e*ie,Oe=Ye,me=-tt,_t=de+X,ft=Math.cos(_t),Ke=Math.sin(_t);return{x1:V*Math.cos(X),y1:V*Math.sin(X),x2:Ye*ft-tt*Ke,y2:Ye*Ke+tt*ft,x3:Oe*ft-me*Ke,y3:Oe*Ke+me*ft,x4:V*Math.cos(le),y4:V*Math.sin(le)}},ce=function(V){return 180*V/Math.PI},ne=function(V,X,le,de,oe,he){var ie=V+.5*(le-V),ge=X+.5*(de-X),Re=oe+.5*(le-oe),De=he+.5*(de-he),$e=Math.min(V,oe,ie,Re),Ye=Math.max(V,oe,ie,Re),tt=Math.min(X,he,ge,De),Oe=Math.max(X,he,ge,De);return new a($e,tt,Ye-$e,Oe-tt)},Y=function(V,X,le,de,oe,he,ie,ge){var Re,De,$e,Ye,tt,Oe,me,_t,ft,Ke,et,st,at,vt,It=le-V,Ot=de-X,St=oe-le,kt=he-de,tn=ie-oe,Ct=ge-he;for(De=0;De<41;De++)ft=(me=($e=V+(Re=De/40)*It)+Re*((tt=le+Re*St)-$e))+Re*(tt+Re*(oe+Re*tn-tt)-me),Ke=(_t=(Ye=X+Re*Ot)+Re*((Oe=de+Re*kt)-Ye))+Re*(Oe+Re*(he+Re*Ct-Oe)-_t),De==0?(et=ft,st=Ke,at=ft,vt=Ke):(et=Math.min(et,ft),st=Math.min(st,Ke),at=Math.max(at,ft),vt=Math.max(vt,Ke));return new a(Math.round(et),Math.round(st),Math.round(at-et),Math.round(vt-st))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,X,le=(V=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:X}));this.prevLineDash!==le&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=le)}}})(Dt.API),function(t){var e=function(s){var o,a,c,d,f,h,m,g,b,S;for(a=[],c=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(S=f%85))/85)-(b=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)%85,a.push(h+33,m+33,g+33,b+33,S+33)):a.push(122);return function(T,E){for(var C=E;C>0;C--)T.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,c,d,f,h=String,m="length",g=255,b="charCodeAt",S="slice",T="replace";for(s[S](-2),s=s[S](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),c=[],d=0,f=(s+=o="uuuuu"[S](s[m]%5||5))[m];f>d;d+=5)a=52200625*(s[b](d)-33)+614125*(s[b](d+1)-33)+7225*(s[b](d+2)-33)+85*(s[b](d+3)-33)+(s[b](d+4)-33),c.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(E,C){for(var I=C;I>0;I--)E.pop()}(c,o[m]),h.fromCharCode.apply(h,c)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",c=0;c<s.length;c+=2)a+=String.fromCharCode("0x"+(s[c]+s[c+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Mw(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,o){var a=0,c=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Dt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(c,d,f){var h=new XMLHttpRequest,m=0,g=function(b){var S=b.length,T=[],E=String.fromCharCode;for(m=0;m<S;m+=1)T.push(E(255&b.charCodeAt(m)));return T.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?f(g(this.responseText)):f(void 0)}),h.send(null),d&&h.status===200)return g(h.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Dt.API),function(t){function e(){return(Vt.html2canvas?Promise.resolve(Vt.html2canvas):ay(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Vt.DOMPurify?Promise.resolve(Vt.DOMPurify):ay(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Wn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var c=document.createElement(o);for(var d in a.className&&(c.className=a.className),a.innerHTML&&a.dompurify&&(c.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)c.style[d]=a.style[d];return c},s=function o(a){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function c(d,f){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(c(m,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,a(this.prop.container,c)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var g=d[m],b=g.src.find(function(S){return S.format==="truetype"});b&&c.addFont(b.url,g.ref.name,g.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,c,d){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,c,d){return this.setProgress(o?this.progress.val+o:null,a||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,a){var c=this;return this.thenCore(o,a,function(d,f){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,f).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=c.call(d,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(c){a=a.thenCore(c)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Dt.getPageSize=function(o,a,c){if(Wn(o)==="object"){var d=o;o=d.orientation,a=d.unit||a,c=d.format||c}a=a||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var g,b=0,S=0;if(m.hasOwnProperty(h))b=m[h][1]/f,S=m[h][0]/f;else try{b=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",S>b&&(g=S,S=b,b=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>S&&(g=S,S=b,b=g)}return{width:S,height:b,unit:a,k:f,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(qw):null;var c=new s(a);return a.worker?c:c.from(o).doCallback()}}(Dt.API),Dt.API.addJS=function(t){return sA=t,this.internal.events.subscribe("postPutResources",function(){Qg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),iA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Qg!==void 0&&iA!==void 0&&this.internal.out("/Names <</JavaScript "+Qg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var c=a[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var h=n.internal.newObject();f.push(h);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Dt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var c,d=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(h){for(var m,g=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,S={width:0,height:0,numcomponents:1},T=4;T<b;T+=2){if(T+=g,e.indexOf(h.charCodeAt(T+1))!==-1){m=256*h.charCodeAt(T+5)+h.charCodeAt(T+6),S={width:256*h.charCodeAt(T+7)+h.charCodeAt(T+8),height:m,numcomponents:h.charCodeAt(T+9)};break}g=256*h.charCodeAt(T+2)+h.charCodeAt(T+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}}(Dt.API);var rh,Jg,oA,aA,lA,AG=function(){var t,e,n;function r(s){var o,a,c,d,f,h,m,g,b,S,T,E,C,I;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),b=(function(){var j,K;for(K=[],j=0;j<4;++j)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*f/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),s=h?.data||this.imgData,E=0;0<=o?E<o:E>o;0<=o?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(C=0;0<=S?C<S:C>S;0<=S?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(T=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,T.slice(0,m)),this.text[g]=String.fromCharCode.apply(String,T.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),c=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(h,m,g,b){var S,T,E,C,I,j,K,ae,F,L,B,$,k,D,q,se,we,fe,ve,ce,ne,Y=Math.ceil((d.width-h)/g),W=Math.ceil((d.height-m)/b),V=d.width==Y&&d.height==W;for(D=o*Y,$=V?a:new Uint8Array(D*W),j=s.length,k=0,T=0;k<W&&c<j;){switch(s[c++]){case 0:for(C=we=0;we<D;C=we+=1)$[T++]=s[c++];break;case 1:for(C=fe=0;fe<D;C=fe+=1)S=s[c++],I=C<o?0:$[T-o],$[T++]=(S+I)%256;break;case 2:for(C=ve=0;ve<D;C=ve+=1)S=s[c++],E=(C-C%o)/o,q=k&&$[(k-1)*D+E*o+C%o],$[T++]=(q+S)%256;break;case 3:for(C=ce=0;ce<D;C=ce+=1)S=s[c++],E=(C-C%o)/o,I=C<o?0:$[T-o],q=k&&$[(k-1)*D+E*o+C%o],$[T++]=(S+Math.floor((I+q)/2))%256;break;case 4:for(C=ne=0;ne<D;C=ne+=1)S=s[c++],E=(C-C%o)/o,I=C<o?0:$[T-o],k===0?q=se=0:(q=$[(k-1)*D+E*o+C%o],se=E&&$[(k-1)*D+(E-1)*o+C%o]),K=I+q-se,ae=Math.abs(K-I),L=Math.abs(K-q),B=Math.abs(K-se),F=ae<=L&&ae<=B?I:L<=B?q:se,$[T++]=(S+F)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!V){var X=((m+k*b)*d.width+h)*o,le=k*D;for(C=0;C<Y;C+=1){for(var de=0;de<o;de+=1)a[X++]=$[le++];X+=(g-1)*o}}k++}}return s=iG(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,c,d,f,h,m,g;for(a=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+a.length),c=0,s=0,o=h=0,m=a.length;h<m;o=h+=3)d[c++]=a[o],d[c++]=a[o+1],d[c++]=a[o+2],d[c++]=(g=f[s++])!=null?g:255;return d},r.prototype.copyToImageData=function(s,o){var a,c,d,f,h,m,g,b,S,T,E;if(c=this.colors,S=null,a=this.hasAlphaChannel,this.palette.length&&(S=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),c=4,a=!0),b=(d=s.data||s).length,h=S||o,f=m=0,c===1)for(;f<b;)g=S?4*o[f/4]:m,T=h[g++],d[f++]=T,d[f++]=T,d[f++]=T,d[f++]=a?h[g++]:255,m=g;else for(;f<b;)g=S?4*o[f/4]:m,d[f++]=h[g++],d[f++]=h[g++],d[f++]=h[g++],d[f++]=a?h[g++]:255,m=g},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Vt)==="[object Window]"){try{e=Vt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,c,d,f,h,m,g;if(this.animation){for(g=[],a=f=0,h=(m=this.animation.frames).length;f<h;a=++f)o=m[a],c=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,g.push(o.image=t(c));return g}},r.prototype.renderFrame=function(s,o){var a,c,d;return a=(c=this.animation.frames)[o],d=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),d?.disposeOp===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):d?.disposeOp===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,c,d,f,h,m=this;return a=0,h=this.animation,d=h.numFrames,c=h.frames,f=h.numPlays,(o=function(){var g,b;if(g=a++%d,b=c[g],m.renderFrame(s,g),d>1&&a/d<f)return m.animation._timeout=setTimeout(o,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function CG(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,c=null;s&&(a=e,c=o,e+=3*o);var d=!0,f=[],h=0,m=null,g=0,b=null;for(this.width=n,this.height=r;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],(1&S)==0&&(m=null),g=S>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,j=t[e++],K=j>>6&1,ae=1<<(7&j)+1,F=a,L=c,B=!1;j>>7&&(B=!0,F=e,L=ae,e+=3*ae);var $=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}f.push({x:T,y:E,width:C,height:I,has_local_palette:B,palette_offset:F,palette_size:L,data_offset:$,data_length:e-$,transparent_index:m,interlaced:!!K,delay:h,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(D){if(D<0||D>=f.length)throw new Error("Frame index out of range.");return f[D]},this.decodeAndBlitFrameBGRA=function(D,q){var se=this.frameInfo(D),we=se.width*se.height,fe=new Uint8Array(we);cA(t,se.data_offset,fe,we);var ve=se.palette_offset,ce=se.transparent_index;ce===null&&(ce=256);var ne=se.width,Y=n-ne,W=ne,V=4*(se.y*n+se.x),X=4*((se.y+se.height)*n+se.x),le=V,de=4*Y;se.interlaced===!0&&(de+=4*n*7);for(var oe=8,he=0,ie=fe.length;he<ie;++he){var ge=fe[he];if(W===0&&(W=ne,(le+=de)>=X&&(de=4*Y+4*n*(oe-1),le=V+(ne+Y)*(oe<<1),oe>>=1)),ge===ce)le+=4;else{var Re=t[ve+3*ge],De=t[ve+3*ge+1],$e=t[ve+3*ge+2];q[le++]=$e,q[le++]=De,q[le++]=Re,q[le++]=255}--W}},this.decodeAndBlitFrameRGBA=function(D,q){var se=this.frameInfo(D),we=se.width*se.height,fe=new Uint8Array(we);cA(t,se.data_offset,fe,we);var ve=se.palette_offset,ce=se.transparent_index;ce===null&&(ce=256);var ne=se.width,Y=n-ne,W=ne,V=4*(se.y*n+se.x),X=4*((se.y+se.height)*n+se.x),le=V,de=4*Y;se.interlaced===!0&&(de+=4*n*7);for(var oe=8,he=0,ie=fe.length;he<ie;++he){var ge=fe[he];if(W===0&&(W=ne,(le+=de)>=X&&(de=4*Y+4*n*(oe-1),le=V+(ne+Y)*(oe<<1),oe>>=1)),ge===ce)le+=4;else{var Re=t[ve+3*ge],De=t[ve+3*ge+1],$e=t[ve+3*ge+2];q[le++]=Re,q[le++]=De,q[le++]=$e,q[le++]=255}--W}}}function cA(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,c=i+1,d=(1<<c)-1,f=0,h=0,m=0,g=t[e++],b=new Int32Array(4096),S=null;;){for(;f<16&&g!==0;)h|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<c)break;var T=h&d;if(h>>=c,f-=c,T!==s){if(T===o)break;for(var E=T<a?T:S,C=0,I=E;I>s;)I=b[I]>>8,++C;var j=I;if(m+C+(E!==T?1:0)>r)return void Qn.log("Warning, gif stream longer than expected.");n[m++]=j;var K=m+=C;for(E!==T&&(n[m++]=j),I=E;C--;)I=b[I],n[--K]=255&I,I>>=8;S!==null&&a<4096&&(b[a++]=S<<8|j,a>=d+1&&c<12&&(++c,d=d<<1|1)),S=T}else a=o+1,d=(1<<(c=i+1))-1,S=null}return m!==r&&Qn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function d2(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),m=new Array(65535),g=new Array(64),b=new Array(64),S=[],T=0,E=7,C=new Array(64),I=new Array(64),j=new Array(64),K=new Array(256),ae=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(V,X){for(var le=0,de=0,oe=new Array,he=1;he<=16;he++){for(var ie=1;ie<=V[he];ie++)oe[X[de]]=[],oe[X[de]][0]=le,oe[X[de]][1]=he,de++,le++;le*=2}return oe}function ve(V){for(var X=V[0],le=V[1]-1;le>=0;)X&1<<le&&(T|=1<<E),le--,--E<0&&(T==255?(ce(255),ce(0)):ce(T),E=7,T=0)}function ce(V){S.push(V)}function ne(V){ce(V>>8&255),ce(255&V)}function Y(V,X,le,de,oe){for(var he,ie=oe[0],ge=oe[240],Re=function(Ke,et){var st,at,vt,It,Ot,St,kt,tn,Ct,Mt,ot=0;for(Ct=0;Ct<8;++Ct){st=Ke[ot],at=Ke[ot+1],vt=Ke[ot+2],It=Ke[ot+3],Ot=Ke[ot+4],St=Ke[ot+5],kt=Ke[ot+6];var tr=st+(tn=Ke[ot+7]),nn=st-tn,Pi=at+kt,xn=at-kt,jn=vt+St,Wi=vt-St,sn=It+Ot,Os=It-Ot,Vn=tr+sn,fr=tr-sn,Yr=Pi+jn,Bn=Pi-jn;Ke[ot]=Vn+Yr,Ke[ot+4]=Vn-Yr;var Nt=.707106781*(Bn+fr);Ke[ot+2]=fr+Nt,Ke[ot+6]=fr-Nt;var cn=.382683433*((Vn=Os+Wi)-(Bn=xn+nn)),ms=.5411961*Vn+cn,br=1.306562965*Bn+cn,Xr=.707106781*(Yr=Wi+xn),$i=nn+Xr,pt=nn-Xr;Ke[ot+5]=pt+ms,Ke[ot+3]=pt-ms,Ke[ot+1]=$i+br,Ke[ot+7]=$i-br,ot+=8}for(ot=0,Ct=0;Ct<8;++Ct){st=Ke[ot],at=Ke[ot+8],vt=Ke[ot+16],It=Ke[ot+24],Ot=Ke[ot+32],St=Ke[ot+40],kt=Ke[ot+48];var hi=st+(tn=Ke[ot+56]),Nr=st-tn,Ir=at+kt,Gn=at-kt,Kn=vt+St,ir=vt-St,Vo=It+Ot,fo=It-Ot,pi=hi+Vo,Hi=hi-Vo,_r=Ir+Kn,mi=Ir-Kn;Ke[ot]=pi+_r,Ke[ot+32]=pi-_r;var hr=.707106781*(mi+Hi);Ke[ot+16]=Hi+hr,Ke[ot+48]=Hi-hr;var gs=.382683433*((pi=fo+ir)-(mi=Gn+Nr)),ho=.5411961*pi+gs,po=1.306562965*mi+gs,mo=.707106781*(_r=ir+Gn),Bo=Nr+mo,ma=Nr-mo;Ke[ot+40]=ma+ho,Ke[ot+24]=ma-ho,Ke[ot+8]=Bo+po,Ke[ot+56]=Bo-po,ot++}for(Ct=0;Ct<64;++Ct)Mt=Ke[Ct]*et[Ct],g[Ct]=Mt>0?Mt+.5|0:Mt-.5|0;return g}(V,X),De=0;De<64;++De)b[F[De]]=Re[De];var $e=b[0]-le;le=b[0],$e==0?ve(de[0]):(ve(de[m[he=32767+$e]]),ve(h[he]));for(var Ye=63;Ye>0&&b[Ye]==0;)Ye--;if(Ye==0)return ve(ie),le;for(var tt,Oe=1;Oe<=Ye;){for(var me=Oe;b[Oe]==0&&Oe<=Ye;)++Oe;var _t=Oe-me;if(_t>=16){tt=_t>>4;for(var ft=1;ft<=tt;++ft)ve(ge);_t&=15}he=32767+b[Oe],ve(oe[(_t<<4)+m[he]]),ve(h[he]),Oe++}return Ye!=63&&ve(ie),le}function W(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(X){for(var le=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var oe=o((le[de]*X+50)/100);oe=Math.min(Math.max(oe,1),255),a[F[de]]=oe}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var ge=o((he[ie]*X+50)/100);ge=Math.min(Math.max(ge,1),255),c[F[ie]]=ge}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,$e=0;$e<8;$e++)for(var Ye=0;Ye<8;Ye++)d[De]=1/(a[F[De]]*Re[$e]*Re[Ye]*8),f[De]=1/(c[F[De]]*Re[$e]*Re[Ye]*8),De++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,X){X&&W(X),S=new Array,T=0,E=7,ne(65496),ne(65504),ne(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),ne(1),ne(1),ce(0),ce(0),function(){ne(65499),ne(132),ce(0);for(var at=0;at<64;at++)ce(a[at]);ce(1);for(var vt=0;vt<64;vt++)ce(c[vt])}(),function(at,vt){ne(65472),ne(17),ce(8),ne(vt),ne(at),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(V.width,V.height),function(){ne(65476),ne(418),ce(0);for(var at=0;at<16;at++)ce(L[at+1]);for(var vt=0;vt<=11;vt++)ce(B[vt]);ce(16);for(var It=0;It<16;It++)ce($[It+1]);for(var Ot=0;Ot<=161;Ot++)ce(k[Ot]);ce(1);for(var St=0;St<16;St++)ce(D[St+1]);for(var kt=0;kt<=11;kt++)ce(q[kt]);ce(17);for(var tn=0;tn<16;tn++)ce(se[tn+1]);for(var Ct=0;Ct<=161;Ct++)ce(we[Ct])}(),ne(65498),ne(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var le=0,de=0,oe=0;T=0,E=7,this.encode.displayName="_encode_";for(var he,ie,ge,Re,De,$e,Ye,tt,Oe,me=V.data,_t=V.width,ft=V.height,Ke=4*_t,et=0;et<ft;){for(he=0;he<Ke;){for(De=Ke*et+he,Ye=-1,tt=0,Oe=0;Oe<64;Oe++)$e=De+(tt=Oe>>3)*Ke+(Ye=4*(7&Oe)),et+tt>=ft&&($e-=Ke*(et+1+tt-ft)),he+Ye>=Ke&&($e-=he+Ye-Ke+4),ie=me[$e++],ge=me[$e++],Re=me[$e++],C[Oe]=(ae[ie]+ae[ge+256>>0]+ae[Re+512>>0]>>16)-128,I[Oe]=(ae[ie+768>>0]+ae[ge+1024>>0]+ae[Re+1280>>0]>>16)-128,j[Oe]=(ae[ie+1280>>0]+ae[ge+1536>>0]+ae[Re+1792>>0]>>16)-128;le=Y(C,d,le,e,r),de=Y(I,f,de,n,i),oe=Y(j,f,oe,n,i),he+=32}et+=8}if(E>=0){var st=[];st[1]=E+1,st[0]=(1<<E+1)-1,ve(st)}return ne(65497),new Uint8Array(S)},t=t||50,function(){for(var V=String.fromCharCode,X=0;X<256;X++)K[X]=V(X)}(),e=fe(L,B),n=fe(D,q),r=fe($,k),i=fe(se,we),function(){for(var V=1,X=2,le=1;le<=15;le++){for(var de=V;de<X;de++)m[32767+de]=le,h[32767+de]=[],h[32767+de][1]=le,h[32767+de][0]=de;for(var oe=-(X-1);oe<=-V;oe++)m[32767+oe]=le,h[32767+oe]=[],h[32767+oe][1]=le,h[32767+oe][0]=X-1+oe;V<<=1,X<<=1}}(),function(){for(var V=0;V<256;V++)ae[V]=19595*V,ae[V+256>>0]=38470*V,ae[V+512>>0]=7471*V+32768,ae[V+768>>0]=-11059*V,ae[V+1024>>0]=-21709*V,ae[V+1280>>0]=32768*V+8421375,ae[V+1536>>0]=-27439*V,ae[V+1792>>0]=-5329*V}(),W(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uA(t){function e(L){if(!L)throw Error("assert :P")}function n(L,B,$){for(var k=0;4>k;k++)if(L[B+k]!=$.charCodeAt(k))return!0;return!1}function r(L,B,$,k,D){for(var q=0;q<D;q++)L[B+q]=$[k+q]}function i(L,B,$,k){for(var D=0;D<k;D++)L[B+D]=$}function s(L){return new Int32Array(L)}function o(L,B){for(var $=[],k=0;k<L;k++)$.push(new B);return $}function a(L,B){var $=[];return function k(D,q,se){for(var we=se[q],fe=0;fe<we&&(D.push(se.length>q+1?[]:new B),!(se.length<q+1));fe++)k(D[fe],q+1,se)}($,0,L),$}var c=function(){var L=this;function B(y,_){for(var N=1<<_-1>>>0;y&N;)N>>>=1;return N?(y&N-1)+N:y}function $(y,_,N,M,H){e(!(M%N));do y[_+(M-=N)]=H;while(0<M)}function k(y,_,N,M,H){if(e(2328>=H),512>=H)var Q=s(512);else if((Q=s(H))==null)return 0;return function(Z,ee,re,ue,be,ke){var Ne,Ce,He=ee,Fe=1<<re,Se=s(16),Te=s(16);for(e(be!=0),e(ue!=null),e(Z!=null),e(0<re),Ce=0;Ce<be;++Ce){if(15<ue[Ce])return 0;++Se[ue[Ce]]}if(Se[0]==be)return 0;for(Te[1]=0,Ne=1;15>Ne;++Ne){if(Se[Ne]>1<<Ne)return 0;Te[Ne+1]=Te[Ne]+Se[Ne]}for(Ce=0;Ce<be;++Ce)Ne=ue[Ce],0<ue[Ce]&&(ke[Te[Ne]++]=Ce);if(Te[15]==1)return(ue=new D).g=0,ue.value=ke[0],$(Z,He,1,Fe,ue),Fe;var ze,Ue=-1,qe=Fe-1,ht=0,ct=1,Pt=1,ut=1<<re;for(Ce=0,Ne=1,be=2;Ne<=re;++Ne,be<<=1){if(ct+=Pt<<=1,0>(Pt-=Se[Ne]))return 0;for(;0<Se[Ne];--Se[Ne])(ue=new D).g=Ne,ue.value=ke[Ce++],$(Z,He+ht,be,ut,ue),ht=B(ht,Ne)}for(Ne=re+1,be=2;15>=Ne;++Ne,be<<=1){if(ct+=Pt<<=1,0>(Pt-=Se[Ne]))return 0;for(;0<Se[Ne];--Se[Ne]){if(ue=new D,(ht&qe)!=Ue){for(He+=ut,ze=1<<(Ue=Ne)-re;15>Ue&&!(0>=(ze-=Se[Ue]));)++Ue,ze<<=1;Fe+=ut=1<<(ze=Ue-re),Z[ee+(Ue=ht&qe)].g=ze+re,Z[ee+Ue].value=He-ee-Ue}ue.g=Ne-re,ue.value=ke[Ce++],$(Z,He+(ht>>re),be,ut,ue),ht=B(ht,Ne)}}return ct!=2*Te[15]-1?0:Fe}(y,_,N,M,H,Q)}function D(){this.value=this.g=0}function q(){this.value=this.g=0}function se(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(gr,q)}function we(y,_,N,M){e(y!=null),e(_!=null),e(2147483648>M),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=_,y.pa=N,y.Jd=_,y.Yc=N+M,y.Zc=4<=M?N+M-4+1:N,he(y)}function fe(y,_){for(var N=0;0<_--;)N|=ge(y,128)<<_;return N}function ve(y,_){var N=fe(y,_);return ie(y)?-N:N}function ce(y,_,N,M){var H,Q=0;for(e(y!=null),e(_!=null),e(4294967288>M),y.Sb=M,y.Ra=0,y.u=0,y.h=0,4<M&&(M=4),H=0;H<M;++H)Q+=_[N+H]<<8*H;y.Ra=Q,y.bb=M,y.oa=_,y.pa=N}function ne(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<tu-8>>>0,++y.bb,y.u-=8;le(y)&&(y.h=1,y.u=0)}function Y(y,_){if(e(0<=_),!y.h&&_<=eu){var N=X(y)&Zc[_];return y.u+=_,ne(y),N}return y.h=1,y.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(y){return y.Ra>>>(y.u&tu-1)>>>0}function le(y){return e(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>tu}function de(y,_){y.u=_,y.h=le(y)}function oe(y){y.u>=nu&&(e(y.u>=nu),ne(y))}function he(y){e(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(e(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function ie(y){return fe(y,1)}function ge(y,_){var N=y.Ca;0>y.b&&he(y);var M=y.b,H=N*_>>>8,Q=(y.I>>>M>H)+0;for(Q?(N-=H,y.I-=H+1<<M>>>0):N=H+1,M=N,H=0;256<=M;)H+=8,M>>=8;return M=7^H+Li[M],y.b-=M,y.Ca=(N<<M)-1,Q}function Re(y,_,N){y[_+0]=N>>24&255,y[_+1]=N>>16&255,y[_+2]=N>>8&255,y[_+3]=N>>0&255}function De(y,_){return y[_+0]<<0|y[_+1]<<8}function $e(y,_){return De(y,_)|y[_+2]<<16}function Ye(y,_){return De(y,_)|De(y,_+2)<<16}function tt(y,_){var N=1<<_;return e(y!=null),e(0<_),y.X=s(N),y.X==null?0:(y.Mb=32-_,y.Xa=_,1)}function Oe(y,_){e(y!=null),e(_!=null),e(y.Xa==_.Xa),r(_.X,0,y.X,0,1<<_.Xa)}function me(){this.X=[],this.Xa=this.Mb=0}function _t(y,_,N,M){e(N!=null),e(M!=null);var H=N[0],Q=M[0];return H==0&&(H=(y*Q+_/2)/_),Q==0&&(Q=(_*H+y/2)/y),0>=H||0>=Q?0:(N[0]=H,M[0]=Q,1)}function ft(y,_){return y+(1<<_)-1>>>_}function Ke(y,_){return((4278255360&y)+(4278255360&_)>>>0&4278255360)+((16711935&y)+(16711935&_)>>>0&16711935)>>>0}function et(y,_){L[_]=function(N,M,H,Q,Z,ee,re){var ue;for(ue=0;ue<Z;++ue){var be=L[y](ee[re+ue-1],H,Q+ue);ee[re+ue]=Ke(N[M+ue],be)}}}function st(){this.ud=this.hd=this.jd=0}function at(y,_){return((4278124286&(y^_))>>>1)+(y&_)>>>0}function vt(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function It(y,_){return vt(y+(y-_+.5>>1))}function Ot(y,_,N){return Math.abs(_-N)-Math.abs(y-N)}function St(y,_,N,M,H,Q,Z){for(M=Q[Z-1],N=0;N<H;++N)Q[Z+N]=M=Ke(y[_+N],M)}function kt(y,_,N,M,H){var Q;for(Q=0;Q<N;++Q){var Z=y[_+Q],ee=Z>>8&255,re=16711935&(re=(re=16711935&Z)+((ee<<16)+ee));M[H+Q]=(4278255360&Z)+re>>>0}}function tn(y,_){_.jd=y>>0&255,_.hd=y>>8&255,_.ud=y>>16&255}function Ct(y,_,N,M,H,Q){var Z;for(Z=0;Z<M;++Z){var ee=_[N+Z],re=ee>>>8,ue=ee,be=255&(be=(be=ee>>>16)+((y.jd<<24>>24)*(re<<24>>24)>>>5));ue=255&(ue=(ue=ue+((y.hd<<24>>24)*(re<<24>>24)>>>5))+((y.ud<<24>>24)*(be<<24>>24)>>>5)),H[Q+Z]=(4278255360&ee)+(be<<16)+ue}}function Mt(y,_,N,M,H){L[_]=function(Q,Z,ee,re,ue,be,ke,Ne,Ce){for(re=ke;re<Ne;++re)for(ke=0;ke<Ce;++ke)ue[be++]=H(ee[M(Q[Z++])])},L[y]=function(Q,Z,ee,re,ue,be,ke){var Ne=8>>Q.b,Ce=Q.Ea,He=Q.K[0],Fe=Q.w;if(8>Ne)for(Q=(1<<Q.b)-1,Fe=(1<<Ne)-1;Z<ee;++Z){var Se,Te=0;for(Se=0;Se<Ce;++Se)Se&Q||(Te=M(re[ue++])),be[ke++]=H(He[Te&Fe]),Te>>=Ne}else L["VP8LMapColor"+N](re,ue,He,Fe,be,ke,Z,ee,Ce)}}function ot(y,_,N,M,H){for(N=_+N;_<N;){var Q=y[_++];M[H++]=Q>>16&255,M[H++]=Q>>8&255,M[H++]=Q>>0&255}}function tr(y,_,N,M,H){for(N=_+N;_<N;){var Q=y[_++];M[H++]=Q>>16&255,M[H++]=Q>>8&255,M[H++]=Q>>0&255,M[H++]=Q>>24&255}}function nn(y,_,N,M,H){for(N=_+N;_<N;){var Q=(Z=y[_++])>>16&240|Z>>12&15,Z=Z>>0&240|Z>>28&15;M[H++]=Q,M[H++]=Z}}function Pi(y,_,N,M,H){for(N=_+N;_<N;){var Q=(Z=y[_++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;M[H++]=Q,M[H++]=Z}}function xn(y,_,N,M,H){for(N=_+N;_<N;){var Q=y[_++];M[H++]=Q>>0&255,M[H++]=Q>>8&255,M[H++]=Q>>16&255}}function jn(y,_,N,M,H,Q){if(Q==0)for(N=_+N;_<N;)Re(M,((Q=y[_++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),H+=32;else r(M,H,y,_,N)}function Wi(y,_){L[_][0]=L[y+"0"],L[_][1]=L[y+"1"],L[_][2]=L[y+"2"],L[_][3]=L[y+"3"],L[_][4]=L[y+"4"],L[_][5]=L[y+"5"],L[_][6]=L[y+"6"],L[_][7]=L[y+"7"],L[_][8]=L[y+"8"],L[_][9]=L[y+"9"],L[_][10]=L[y+"10"],L[_][11]=L[y+"11"],L[_][12]=L[y+"12"],L[_][13]=L[y+"13"],L[_][14]=L[y+"0"],L[_][15]=L[y+"0"]}function sn(y){return y==lu||y==rc||y==bd||y==_d}function Os(){this.eb=[],this.size=this.A=this.fb=0}function Vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Os,this.f.kb=new Vn,this.sd=null}function Yr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nt(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function cn(y,_){var N=y.T,M=_.ba.f.RGBA,H=M.eb,Q=M.fb+y.ka*M.A,Z=Ji[_.ba.S],ee=y.y,re=y.O,ue=y.f,be=y.N,ke=y.ea,Ne=y.W,Ce=_.cc,He=_.dc,Fe=_.Mc,Se=_.Nc,Te=y.ka,ze=y.ka+y.T,Ue=y.U,qe=Ue+1>>1;for(Te==0?Z(ee,re,null,null,ue,be,ke,Ne,ue,be,ke,Ne,H,Q,null,null,Ue):(Z(_.ec,_.fc,ee,re,Ce,He,Fe,Se,ue,be,ke,Ne,H,Q-M.A,H,Q,Ue),++N);Te+2<ze;Te+=2)Ce=ue,He=be,Fe=ke,Se=Ne,be+=y.Rc,Ne+=y.Rc,Q+=2*M.A,Z(ee,(re+=2*y.fa)-y.fa,ee,re,Ce,He,Fe,Se,ue,be,ke,Ne,H,Q-M.A,H,Q,Ue);return re+=y.fa,y.j+ze<y.o?(r(_.ec,_.fc,ee,re,Ue),r(_.cc,_.dc,ue,be,qe),r(_.Mc,_.Nc,ke,Ne,qe),N--):1&ze||Z(ee,re,null,null,ue,be,ke,Ne,ue,be,ke,Ne,H,Q+M.A,null,null,Ue),N}function ms(y,_,N){var M=y.F,H=[y.J];if(M!=null){var Q=y.U,Z=_.ba.S,ee=Z==xd||Z==bd;_=_.ba.f.RGBA;var re=[0],ue=y.ka;re[0]=y.T,y.Kb&&(ue==0?--re[0]:(--ue,H[0]-=y.width),y.j+y.ka+y.T==y.o&&(re[0]=y.o-y.j-ue));var be=_.eb;ue=_.fb+ue*_.A,y=In(M,H[0],y.width,Q,re,be,ue+(ee?0:3),_.A),e(N==re),y&&sn(Z)&&Xi(be,ue,ee,Q,re,_.A)}return 0}function br(y){var _=y.ma,N=_.ba.S,M=11>N,H=N==ml||N==wd||N==xd||N==zn||N==12||sn(N);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Qc(_.Oa,y,H?11:12))return 0;if(H&&sn(N)&&Xe(),y.da)alert("todo:use_scaling");else{if(M){if(_.Ib=Nt,y.Kb){if(N=y.U+1>>1,_.memory=s(y.U+2*N),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+y.U,_.Mc=_.cc,_.Nc=_.dc+N,_.Ib=cn,Xe()}}else alert("todo:EmitYUV");H&&(_.Jb=ms,M&&Pe())}if(M&&!ci){for(y=0;256>y;++y)Zi[y]=89858*(y-128)+Eo>>Ia,es[y]=-22014*(y-128)+Eo,fu[y]=-45773*(y-128),ac[y]=113618*(y-128)+Eo>>Ia;for(y=Rn;y<On;++y)_=76283*(y-16)+Eo>>Ia,Of[y-Rn]=En(_,255),sg[y-Rn]=En(_+8>>4,15);ci=1}return 1}function Xr(y){var _=y.ma,N=y.U,M=y.T;return e(!(1&y.ka)),0>=N||0>=M?0:(N=_.Ib(y,_),_.Jb!=null&&_.Jb(y,_,N),_.Dc+=N,1)}function $i(y){y.ma.memory=null}function pt(y,_,N,M){return Y(y,8)!=47?0:(_[0]=Y(y,14)+1,N[0]=Y(y,14)+1,M[0]=Y(y,1),Y(y,3)!=0?0:!y.h)}function hi(y,_){if(4>y)return y+1;var N=y-2>>1;return(2+(1&y)<<N)+Y(_,N)+1}function Nr(y,_){return 120<_?_-120:1<=(N=((N=Cv[_-1])>>4)*y+(8-(15&N)))?N:1;var N}function Ir(y,_,N){var M=X(N),H=y[_+=255&M].g-8;return 0<H&&(de(N,N.u+8),M=X(N),_+=y[_].value,_+=M&(1<<H)-1),de(N,N.u+y[_].g),y[_].value}function Gn(y,_,N){return N.g+=y.g,N.value+=y.value<<_>>>0,e(8>=N.g),y.g}function Kn(y,_,N){var M=y.xc;return e((_=M==0?0:y.vc[y.md*(N>>M)+(_>>M)])<y.Wb),y.Ya[_]}function ir(y,_,N,M){var H=y.ab,Q=y.c*_,Z=y.C;_=Z+_;var ee=N,re=M;for(M=y.Ta,N=y.Ua;0<H--;){var ue=y.gc[H],be=Z,ke=_,Ne=ee,Ce=re,He=(re=M,ee=N,ue.Ea);switch(e(be<ke),e(ke<=ue.nc),ue.hc){case 2:If(Ne,Ce,(ke-be)*He,re,ee);break;case 0:var Fe=be,Se=ke,Te=re,ze=ee,Ue=(ut=ue).Ea;Fe==0&&(Ql(Ne,Ce,null,null,1,Te,ze),St(Ne,Ce+1,0,0,Ue-1,Te,ze+1),Ce+=Ue,ze+=Ue,++Fe);for(var qe=1<<ut.b,ht=qe-1,ct=ft(Ue,ut.b),Pt=ut.K,ut=ut.w+(Fe>>ut.b)*ct;Fe<Se;){var yn=Pt,vn=ut,un=1;for(Sa(Ne,Ce,Te,ze-Ue,1,Te,ze);un<Ue;){var Qt=(un&~ht)+qe;Qt>Ue&&(Qt=Ue),(0,Jo[yn[vn++]>>8&15])(Ne,Ce+ +un,Te,ze+un-Ue,Qt-un,Te,ze+un),un=Qt}Ce+=Ue,ze+=Ue,++Fe&ht||(ut+=ct)}ke!=ue.nc&&r(re,ee-He,re,ee+(ke-be-1)*He,He);break;case 1:for(He=Ne,Se=Ce,Ue=(Ne=ue.Ea)-(ze=Ne&~(Te=(Ce=1<<ue.b)-1)),Fe=ft(Ne,ue.b),qe=ue.K,ue=ue.w+(be>>ue.b)*Fe;be<ke;){for(ht=qe,ct=ue,Pt=new st,ut=Se+ze,yn=Se+Ne;Se<ut;)tn(ht[ct++],Pt),fl(Pt,He,Se,Ce,re,ee),Se+=Ce,ee+=Ce;Se<yn&&(tn(ht[ct++],Pt),fl(Pt,He,Se,Ue,re,ee),Se+=Ue,ee+=Ue),++be&Te||(ue+=Fe)}break;case 3:if(Ne==re&&Ce==ee&&0<ue.b){for(Se=re,Ne=He=ee+(ke-be)*He-(ze=(ke-be)*ft(ue.Ea,ue.b)),Ce=re,Te=ee,Fe=[],ze=(Ue=ze)-1;0<=ze;--ze)Fe[ze]=Ce[Te+ze];for(ze=Ue-1;0<=ze;--ze)Se[Ne+ze]=Fe[ze];ji(ue,be,ke,re,He,re,ee)}else ji(ue,be,ke,Ne,Ce,re,ee)}ee=M,re=N}re!=N&&r(M,N,ee,re,Q)}function Vo(y,_){var N=y.V,M=y.Ba+y.c*y.C,H=_-y.C;if(e(_<=y.l.o),e(16>=H),0<H){var Q=y.l,Z=y.Ta,ee=y.Ua,re=Q.width;if(ir(y,H,N,M),H=ee=[ee],e((N=y.C)<(M=_)),e(Q.v<Q.va),M>Q.o&&(M=Q.o),N<Q.j){var ue=Q.j-N;N=Q.j,H[0]+=ue*re}if(N>=M?N=0:(H[0]+=4*Q.v,Q.ka=N-Q.j,Q.U=Q.va-Q.v,Q.T=M-N,N=1),N){if(ee=ee[0],11>(N=y.ca).S){var be=N.f.RGBA,ke=(M=N.S,H=Q.U,Q=Q.T,ue=be.eb,be.A),Ne=Q;for(be=be.fb+y.Ma*be.A;0<Ne--;){var Ce=Z,He=ee,Fe=H,Se=ue,Te=be;switch(M){case Rf:Di(Ce,He,Fe,Se,Te);break;case ml:wi(Ce,He,Fe,Se,Te);break;case lu:wi(Ce,He,Fe,Se,Te),Xi(Se,Te,0,Fe,1,0);break;case eg:Ea(Ce,He,Fe,Se,Te);break;case wd:jn(Ce,He,Fe,Se,Te,1);break;case rc:jn(Ce,He,Fe,Se,Te,1),Xi(Se,Te,0,Fe,1,0);break;case xd:jn(Ce,He,Fe,Se,Te,0);break;case bd:jn(Ce,He,Fe,Se,Te,0),Xi(Se,Te,1,Fe,1,0);break;case zn:hl(Ce,He,Fe,Se,Te);break;case _d:hl(Ce,He,Fe,Se,Te),Un(Se,Te,Fe,1,0);break;case Lf:Ta(Ce,He,Fe,Se,Te);break;default:e(0)}ee+=re,be+=ke}y.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(y.Ma<=N.height)}}y.C=_,e(y.C<=y.i)}function fo(y){var _;if(0<y.ua)return 0;for(_=0;_<y.Wb;++_){var N=y.Ya[_].G,M=y.Ya[_].H;if(0<N[1][M[1]+0].g||0<N[2][M[2]+0].g||0<N[3][M[3]+0].g)return 0}return 1}function pi(y,_,N,M,H,Q){if(y.Z!=0){var Z=y.qd,ee=y.rd;for(e(bi[y.Z]!=null);_<N;++_)bi[y.Z](Z,ee,M,H,M,H,Q),Z=M,ee=H,H+=Q;y.qd=Z,y.rd=ee}}function Hi(y,_){var N=y.l.ma,M=N.Z==0||N.Z==1?y.l.j:y.C;if(M=y.C<M?M:y.C,e(_<=y.l.o),_>M){var H=y.l.width,Q=N.ca,Z=N.tb+H*M,ee=y.V,re=y.Ba+y.c*M,ue=y.gc;e(y.ab==1),e(ue[0].hc==3),gd(ue[0],M,_,ee,re,Q,Z),pi(N,M,_,Q,Z,H)}y.C=y.Ma=_}function _r(y,_,N,M,H,Q,Z){var ee=y.$/M,re=y.$%M,ue=y.m,be=y.s,ke=N+y.$,Ne=ke;H=N+M*H;var Ce=N+M*Q,He=280+be.ua,Fe=y.Pb?ee:16777216,Se=0<be.ua?be.Wa:null,Te=be.wc,ze=ke<Ce?Kn(be,re,ee):null;e(y.C<Q),e(Ce<=H);var Ue=!1;e:for(;;){for(;Ue||ke<Ce;){var qe=0;if(ee>=Fe){var ht=ke-N;e((Fe=y).Pb),Fe.wd=Fe.m,Fe.xd=ht,0<Fe.s.ua&&Oe(Fe.s.Wa,Fe.s.vb),Fe=ee+Df}if(re&Te||(ze=Kn(be,re,ee)),e(ze!=null),ze.Qb&&(_[ke]=ze.qb,Ue=!0),!Ue)if(oe(ue),ze.jc){qe=ue,ht=_;var ct=ke,Pt=ze.pd[X(qe)&gr-1];e(ze.jc),256>Pt.g?(de(qe,qe.u+Pt.g),ht[ct]=Pt.value,qe=0):(de(qe,qe.u+Pt.g-256),e(256<=Pt.value),qe=Pt.value),qe==0&&(Ue=!0)}else qe=Ir(ze.G[0],ze.H[0],ue);if(ue.h)break;if(Ue||256>qe){if(!Ue)if(ze.nd)_[ke]=(ze.qb|qe<<8)>>>0;else{if(oe(ue),Ue=Ir(ze.G[1],ze.H[1],ue),oe(ue),ht=Ir(ze.G[2],ze.H[2],ue),ct=Ir(ze.G[3],ze.H[3],ue),ue.h)break;_[ke]=(ct<<24|Ue<<16|qe<<8|ht)>>>0}if(Ue=!1,++ke,++re>=M&&(re=0,++ee,Z!=null&&ee<=Q&&!(ee%16)&&Z(y,ee),Se!=null))for(;Ne<ke;)qe=_[Ne++],Se.X[(506832829*qe&4294967295)>>>Se.Mb]=qe}else if(280>qe){if(qe=hi(qe-256,ue),ht=Ir(ze.G[4],ze.H[4],ue),oe(ue),ht=Nr(M,ht=hi(ht,ue)),ue.h)break;if(ke-N<ht||H-ke<qe)break e;for(ct=0;ct<qe;++ct)_[ke+ct]=_[ke+ct-ht];for(ke+=qe,re+=qe;re>=M;)re-=M,++ee,Z!=null&&ee<=Q&&!(ee%16)&&Z(y,ee);if(e(ke<=H),re&Te&&(ze=Kn(be,re,ee)),Se!=null)for(;Ne<ke;)qe=_[Ne++],Se.X[(506832829*qe&4294967295)>>>Se.Mb]=qe}else{if(!(qe<He))break e;for(Ue=qe-280,e(Se!=null);Ne<ke;)qe=_[Ne++],Se.X[(506832829*qe&4294967295)>>>Se.Mb]=qe;qe=ke,e(!(Ue>>>(ht=Se).Xa)),_[qe]=ht.X[Ue],Ue=!0}Ue||e(ue.h==le(ue))}if(y.Pb&&ue.h&&ke<H)e(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Oe(y.s.vb,y.s.Wa);else{if(ue.h)break e;Z?.(y,ee>Q?Q:ee),y.a=0,y.$=ke-N}return 1}return y.a=3,0}function mi(y){e(y!=null),y.vc=null,y.yc=null,y.Ya=null;var _=y.Wa;_!=null&&(_.X=null),y.vb=null,e(y!=null)}function hr(){var y=new Xc;return y==null?null:(y.a=0,y.xb=uu,Wi("Predictor","VP8LPredictors"),Wi("Predictor","VP8LPredictors_C"),Wi("PredictorAdd","VP8LPredictorsAdd"),Wi("PredictorAdd","VP8LPredictorsAdd_C"),If=kt,fl=Ct,Di=ot,wi=tr,hl=nn,Ta=Pi,Ea=xn,L.VP8LMapColor32b=ru,L.VP8LMapColor8b=iu,y)}function gs(y,_,N,M,H){var Q=1,Z=[y],ee=[_],re=M.m,ue=M.s,be=null,ke=0;e:for(;;){if(N)for(;Q&&Y(re,1);){var Ne=Z,Ce=ee,He=M,Fe=1,Se=He.m,Te=He.gc[He.ab],ze=Y(Se,2);if(He.Oc&1<<ze)Q=0;else{switch(He.Oc|=1<<ze,Te.hc=ze,Te.Ea=Ne[0],Te.nc=Ce[0],Te.K=[null],++He.ab,e(4>=He.ab),ze){case 0:case 1:Te.b=Y(Se,3)+2,Fe=gs(ft(Te.Ea,Te.b),ft(Te.nc,Te.b),0,He,Te.K),Te.K=Te.K[0];break;case 3:var Ue,qe=Y(Se,8)+1,ht=16<qe?0:4<qe?1:2<qe?2:3;if(Ne[0]=ft(Te.Ea,ht),Te.b=ht,Ue=Fe=gs(qe,1,0,He,Te.K)){var ct,Pt=qe,ut=Te,yn=1<<(8>>ut.b),vn=s(yn);if(vn==null)Ue=0;else{var un=ut.K[0],Qt=ut.w;for(vn[0]=ut.K[0][0],ct=1;ct<1*Pt;++ct)vn[ct]=Ke(un[Qt+ct],vn[ct-1]);for(;ct<4*yn;++ct)vn[ct]=0;ut.K[0]=null,ut.K[0]=vn,Ue=1}}Fe=Ue;break;case 2:break;default:e(0)}Q=Fe}}if(Z=Z[0],ee=ee[0],Q&&Y(re,1)&&!(Q=1<=(ke=Y(re,4))&&11>=ke)){M.a=3;break e}var Ln;if(Ln=Q)t:{var Mn,zt,or,Fi=M,Sr=Z,Vr=ee,An=ke,_i=N,Si=Fi.m,ar=Fi.s,Br=[null],ui=1,ts=0,Gs=ng[An];n:for(;;){if(_i&&Y(Si,1)){var lr=Y(Si,3)+2,jr=ft(Sr,lr),Ts=ft(Vr,lr),vl=jr*Ts;if(!gs(jr,Ts,0,Fi,Br))break n;for(Br=Br[0],ar.xc=lr,Mn=0;Mn<vl;++Mn){var La=Br[Mn]>>8&65535;Br[Mn]=La,La>=ui&&(ui=La+1)}}if(Si.h)break n;for(zt=0;5>zt;++zt){var Cn=ic[zt];!zt&&0<An&&(Cn+=1<<An),ts<Cn&&(ts=Cn)}var ra=o(ui*Gs,D),Mf=ui,sp=o(Mf,se);if(sp==null)var Ks=null;else e(65536>=Mf),Ks=sp;var Ys=s(ts);if(Ks==null||Ys==null||ra==null){Fi.a=1;break n}var cc=ra;for(Mn=or=0;Mn<ui;++Mn){var Xs=Ks[Mn],ja=Xs.G,uc=Xs.H,hu=0,Es=1,pu=0;for(zt=0;5>zt;++zt){Cn=ic[zt],ja[zt]=cc,uc[zt]=or,!zt&&0<An&&(Cn+=1<<An);i:{var wl,Da=Cn,mu=Fi,ia=Ys,ag=cc,op=or,Xn=0,Ao=mu.m,ap=Y(Ao,1);if(i(ia,0,0,Da),ap){var lp=Y(Ao,1)+1,Ff=Y(Ao,1),Vf=Y(Ao,Ff==0?1:8);ia[Vf]=1,lp==2&&(ia[Vf=Y(Ao,8)]=1);var sa=1}else{var nr=s(19),Dr=Y(Ao,4)+4;if(19<Dr){mu.a=3;var Tr=0;break i}for(wl=0;wl<Dr;++wl)nr[Av[wl]]=Y(Ao,3);var gu=void 0,Oa=void 0,yu=mu,Rv=nr,Ur=Da,Bf=ia,Cd=0,oa=yu.m,Co=8,As=o(128,D);r:for(;k(As,0,7,Rv,19);){if(Y(oa,1)){var Pd=2+2*Y(oa,3);if((gu=2+Y(oa,Pd))>Ur)break r}else gu=Ur;for(Oa=0;Oa<Ur&&gu--;){oe(oa);var Uf=As[0+(127&X(oa))];de(oa,oa.u+Uf.g);var xl=Uf.value;if(16>xl)Bf[Oa++]=xl,xl!=0&&(Co=xl);else{var lg=xl==16,cp=xl-16,cg=jf[cp],up=Y(oa,Sd[cp])+cg;if(Oa+up>Ur)break r;for(var ug=lg?Co:0;0<up--;)Bf[Oa++]=ug}}Cd=1;break r}Cd||(yu.a=3),sa=Cd}(sa=sa&&!Ao.h)&&(Xn=k(ag,op,8,ia,Da)),sa&&Xn!=0?Tr=Xn:(mu.a=3,Tr=0)}if(Tr==0)break n;if(Es&&tg[zt]==1&&(Es=cc[or].g==0),hu+=cc[or].g,or+=Tr,3>=zt){var vu,zf=Ys[0];for(vu=1;vu<Cn;++vu)Ys[vu]>zf&&(zf=Ys[vu]);pu+=zf}}if(Xs.nd=Es,Xs.Qb=0,Es&&(Xs.qb=(ja[3][uc[3]+0].value<<24|ja[1][uc[1]+0].value<<16|ja[2][uc[2]+0].value)>>>0,hu==0&&256>ja[0][uc[0]+0].value&&(Xs.Qb=1,Xs.qb+=ja[0][uc[0]+0].value<<8)),Xs.jc=!Xs.Qb&&6>pu,Xs.jc){var kd,Cs=Xs;for(kd=0;kd<gr;++kd){var Ma=kd,Po=Cs.pd[Ma],dc=Cs.G[0][Cs.H[0]+Ma];256<=dc.value?(Po.g=dc.g+256,Po.value=dc.value):(Po.g=0,Po.value=0,Ma>>=Gn(dc,8,Po),Ma>>=Gn(Cs.G[1][Cs.H[1]+Ma],16,Po),Ma>>=Gn(Cs.G[2][Cs.H[2]+Ma],0,Po),Gn(Cs.G[3][Cs.H[3]+Ma],24,Po))}}}ar.vc=Br,ar.Wb=ui,ar.Ya=Ks,ar.yc=ra,Ln=1;break t}Ln=0}if(!(Q=Ln)){M.a=3;break e}if(0<ke){if(ue.ua=1<<ke,!tt(ue.Wa,ke)){M.a=1,Q=0;break e}}else ue.ua=0;var qf=M,Wf=Z,dg=ee,$f=qf.s,Hf=$f.xc;if(qf.c=Wf,qf.i=dg,$f.md=ft(Wf,Hf),$f.wc=Hf==0?-1:(1<<Hf)-1,N){M.xb=na;break e}if((be=s(Z*ee))==null){M.a=1,Q=0;break e}Q=(Q=_r(M,be,0,Z,ee,ee,null))&&!re.h;break e}return Q?(H!=null?H[0]=be:(e(be==null),e(N)),M.$=0,N||mi(ue)):mi(ue),Q}function ho(y,_){var N=y.c*y.i,M=N+_+16*_;return e(y.c<=_),y.V=s(M),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+N+_,1)}function po(y,_){var N=y.C,M=_-N,H=y.V,Q=y.Ba+y.c*N;for(e(_<=y.l.o);0<M;){var Z=16<M?16:M,ee=y.l.ma,re=y.l.width,ue=re*Z,be=ee.ca,ke=ee.tb+re*N,Ne=y.Ta,Ce=y.Ua;ir(y,Z,H,Q),yr(Ne,Ce,be,ke,ue),pi(ee,N,N+Z,be,ke,re),M-=Z,H+=Z*y.c,N+=Z}e(N==_),y.C=y.Ma=_}function mo(){this.ub=this.yd=this.td=this.Rb=0}function Bo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ma(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Wc(){this.Yb=function(){var y=[];return function _(N,M,H){for(var Q=H[M],Z=0;Z<Q&&(N.push(H.length>M+1?[]:0),!(H.length<M+1));Z++)_(N[Z],M+1,H)}(y,0,[3,11]),y}()}function Dn(){this.jb=s(3),this.Wc=a([4,8],Wc),this.Xc=a([4,17],Wc)}function $c(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ms(){this.ld=this.La=this.dd=this.tc=0}function go(){this.Na=this.la=0}function Gi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ga(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ms),this.Y=0,this.ya=Array(new ga),this.aa=0,this.l=new ya}function Uo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ki(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new mo,this.Kc=new Bo,this.ed=new $c,this.Qa=new ma,this.Ic=this.$c=this.Aa=0,this.D=new Hc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,W),this.ia=0,this.pb=o(4,Gi),this.Pa=new Dn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Uo),this.Hd=0,this.rb=Array(new go),this.sb=0,this.wa=Array(new Ms),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ga),this.L=this.aa=0,this.gd=a([4,2],Ms),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ya(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ni(){var y=new ki;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,sc||(sc=va)),y}function Yn(y,_,N){return y.a==0&&(y.a=_,y.sc=N,y.cb=0),0}function Wl(y,_,N){return 3<=N&&y[_+0]==157&&y[_+1]==1&&y[_+2]==42}function $l(y,_){if(y==null)return 0;if(y.a=0,y.sc="OK",_==null)return Yn(y,2,"null VP8Io passed to VP8GetHeaders()");var N=_.data,M=_.w,H=_.ha;if(4>H)return Yn(y,7,"Truncated header.");var Q=N[M+0]|N[M+1]<<8|N[M+2]<<16,Z=y.Od;if(Z.Rb=!(1&Q),Z.td=Q>>1&7,Z.yd=Q>>4&1,Z.ub=Q>>5,3<Z.td)return Yn(y,3,"Incorrect keyframe parameters.");if(!Z.yd)return Yn(y,4,"Frame not displayable.");M+=3,H-=3;var ee=y.Kc;if(Z.Rb){if(7>H)return Yn(y,7,"cannot parse picture header");if(!Wl(N,M,H))return Yn(y,3,"Bad code word");ee.c=16383&(N[M+4]<<8|N[M+3]),ee.Td=N[M+4]>>6,ee.i=16383&(N[M+6]<<8|N[M+5]),ee.Ud=N[M+6]>>6,M+=7,H-=7,y.za=ee.c+15>>4,y.Ub=ee.i+15>>4,_.width=ee.c,_.height=ee.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((Q=y.Pa).jb,0,255,Q.jb.length),e((Q=y.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,i(Q.Zb,0,0,Q.Zb.length),i(Q.Lb,0,0,Q.Lb)}if(Z.ub>H)return Yn(y,7,"bad partition length");we(Q=y.m,N,M,Z.ub),M+=Z.ub,H-=Z.ub,Z.Rb&&(ee.Ld=ie(Q),ee.Kd=ie(Q)),ee=y.Qa;var re,ue=y.Pa;if(e(Q!=null),e(ee!=null),ee.Cb=ie(Q),ee.Cb){if(ee.Bb=ie(Q),ie(Q)){for(ee.Fb=ie(Q),re=0;4>re;++re)ee.Zb[re]=ie(Q)?ve(Q,7):0;for(re=0;4>re;++re)ee.Lb[re]=ie(Q)?ve(Q,6):0}if(ee.Bb)for(re=0;3>re;++re)ue.jb[re]=ie(Q)?fe(Q,8):255}else ee.Bb=0;if(Q.Ka)return Yn(y,3,"cannot parse segment header");if((ee=y.ed).zd=ie(Q),ee.Tb=fe(Q,6),ee.wb=fe(Q,3),ee.Pc=ie(Q),ee.Pc&&ie(Q)){for(ue=0;4>ue;++ue)ie(Q)&&(ee.vd[ue]=ve(Q,6));for(ue=0;4>ue;++ue)ie(Q)&&(ee.od[ue]=ve(Q,6))}if(y.L=ee.Tb==0?0:ee.zd?1:2,Q.Ka)return Yn(y,3,"cannot parse filter header");var be=H;if(H=re=M,M=re+be,ee=be,y.Xb=(1<<fe(y.m,2))-1,be<3*(ue=y.Xb))N=7;else{for(re+=3*ue,ee-=3*ue,be=0;be<ue;++be){var ke=N[H+0]|N[H+1]<<8|N[H+2]<<16;ke>ee&&(ke=ee),we(y.Jc[+be],N,re,ke),re+=ke,ee-=ke,H+=3}we(y.Jc[+ue],N,re,ee),N=re<M?0:5}if(N!=0)return Yn(y,N,"cannot parse partitions");for(N=fe(re=y.m,7),H=ie(re)?ve(re,4):0,M=ie(re)?ve(re,4):0,ee=ie(re)?ve(re,4):0,ue=ie(re)?ve(re,4):0,re=ie(re)?ve(re,4):0,be=y.Qa,ke=0;4>ke;++ke){if(be.Cb){var Ne=be.Zb[ke];be.Fb||(Ne+=N)}else{if(0<ke){y.pb[ke]=y.pb[0];continue}Ne=N}var Ce=y.pb[ke];Ce.Sc[0]=cu[En(Ne+H,127)],Ce.Sc[1]=Td[En(Ne+0,127)],Ce.Eb[0]=2*cu[En(Ne+M,127)],Ce.Eb[1]=101581*Td[En(Ne+ee,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=cu[En(Ne+ue,117)],Ce.Qc[1]=Td[En(Ne+re,127)],Ce.lc=Ne+re}if(!Z.Rb)return Yn(y,4,"Not a key frame.");for(ie(Q),Z=y.Pa,N=0;4>N;++N){for(H=0;8>H;++H)for(M=0;3>M;++M)for(ee=0;11>ee;++ee)ue=ge(Q,kv[N][H][M][ee])?fe(Q,8):ig[N][H][M][ee],Z.Wc[N][H].Yb[M][ee]=ue;for(H=0;17>H;++H)Z.Xc[N][H]=Z.Wc[N][np[H]]}return y.kc=ie(Q),y.kc&&(y.Bd=fe(Q,8)),y.cb=1}function va(y,_,N,M,H,Q,Z){var ee=_[H].Yb[N];for(N=0;16>H;++H){if(!ge(y,ee[N+0]))return H;for(;!ge(y,ee[N+1]);)if(ee=_[++H].Yb[0],N=0,H==16)return 16;var re=_[H+1].Yb;if(ge(y,ee[N+2])){var ue=y,be=0;if(ge(ue,(Ne=ee)[(ke=N)+3]))if(ge(ue,Ne[ke+6])){for(ee=0,ke=2*(be=ge(ue,Ne[ke+8]))+(Ne=ge(ue,Ne[ke+9+be])),be=0,Ne=ep[ke];Ne[ee];++ee)be+=be+ge(ue,Ne[ee]);be+=3+(8<<ke)}else ge(ue,Ne[ke+7])?(be=7+2*ge(ue,165),be+=ge(ue,145)):be=5+ge(ue,159);else be=ge(ue,Ne[ke+4])?3+ge(ue,Ne[ke+5]):2;ee=re[2]}else be=1,ee=re[1];re=Z+tp[H],0>(ue=y).b&&he(ue);var ke,Ne=ue.b,Ce=(ke=ue.Ca>>1)-(ue.I>>Ne)>>31;--ue.b,ue.Ca+=Ce,ue.Ca|=1,ue.I-=(ke+1&Ce)<<Ne,Q[re]=((be^Ce)-Ce)*M[(0<H)+0]}return 16}function zo(y){var _=y.rb[y.sb-1];_.la=0,_.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function qo(y,_){if(y==null)return 0;if(_==null)return Yn(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!$l(y,_))return 0;if(e(y.cb),_.ac==null||_.ac(_)){_.ob&&(y.L=0);var N=lc[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=_.v-N>>4,y.zb=_.j-N>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=_.o+15+N>>4,y.Hb=_.va+15+N>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var M=y.ed;for(N=0;4>N;++N){var H;if(y.Qa.Cb){var Q=y.Qa.Lb[N];y.Qa.Fb||(Q+=M.Tb)}else Q=M.Tb;for(H=0;1>=H;++H){var Z=y.gd[N][H],ee=Q;if(M.Pc&&(ee+=M.vd[0],H&&(ee+=M.od[0])),0<(ee=0>ee?0:63<ee?63:ee)){var re=ee;0<M.wb&&(re=4<M.wb?re>>2:re>>1)>9-M.wb&&(re=9-M.wb),1>re&&(re=1),Z.dd=re,Z.tc=2*ee+re,Z.ld=40<=ee?2:15<=ee?1:0}else Z.tc=0;Z.La=H}}}N=0}else Yn(y,6,"Frame setup failed"),N=y.a;if(N=N==0){if(N){y.$c=0,0<y.Aa||(y.Ic=Ra);e:{N=y.Ic,M=4*(re=y.za);var ue=32*re,be=re+1,ke=0<y.L?re*(0<y.Aa?2:1):0,Ne=(y.Aa==2?2:1)*re;if((Z=M+832+(H=3*(16*N+lc[y.L])/2*ue)+(Q=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=Z)N=0;else{if(Z>y.Vb){if(y.Vb=0,y.Ec=s(Z),y.Fc=0,y.Ec==null){N=Yn(y,1,"no memory during frame initialization.");break e}y.Vb=Z}Z=y.Ec,ee=y.Fc,y.Ac=Z,y.Bc=ee,ee+=M,y.Gd=o(ue,Uo),y.Hd=0,y.rb=o(be+1,go),y.sb=1,y.wa=ke?o(ke,Ms):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=re),e(!0),y.oc=Z,y.pc=ee,ee+=832,y.ya=o(Ne,ga),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=re),y.R=16*re,y.B=8*re,re=(ue=lc[y.L])*y.R,ue=ue/2*y.B,y.sa=Z,y.ta=ee+re,y.qa=y.sa,y.ra=y.ta+16*N*y.R+ue,y.Ha=y.qa,y.Ia=y.ra+8*N*y.B+ue,y.$c=0,ee+=H,y.mb=Q?Z:null,y.nb=Q?ee:null,e(ee+Q<=y.Fc+y.Vb),zo(y),i(y.Ac,y.Bc,0,M),N=1}}if(N){if(_.ka=0,_.y=y.sa,_.O=y.ta,_.f=y.qa,_.N=y.ra,_.ea=y.Ha,_.Vd=y.Ia,_.fa=y.R,_.Rc=y.B,_.F=null,_.J=0,!vd){for(N=-255;255>=N;++N)Lr[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)ea[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)ou[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)nc[255+N]=0>N?0:255<N?255:N;vd=1}su=rn,Aa=$o,Ca=yo,xi=kn,_s=vo,bn=Wo,Jl=_a,yd=sr,Zl=zs,ec=Yl,tc=xs,Ss=xo,Pa=Xo,Zo=qs,ka=yi,Na=Ii,pl=mr,li=Kl,Hs[0]=Us,Hs[1]=Gc,Hs[2]=Yi,Hs[3]=Bs,Hs[4]=Hl,Hs[5]=ol,Hs[6]=si,Hs[7]=al,Hs[8]=xa,Hs[9]=wo,Mi[0]=ys,Mi[1]=Kc,Mi[2]=Vs,Mi[3]=wa,Mi[4]=gn,Mi[5]=vs,Mi[6]=Ki,Qi[0]=gi,Qi[1]=sl,Qi[2]=Yc,Qi[3]=Ni,Qi[4]=Tn,Qi[5]=Go,Qi[6]=Gl,N=1}else N=0}N&&(N=function(Ce,He){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var Fe,Se=Ce.Jc[Ce.M&Ce.Xb],Te=Ce.m,ze=Ce;for(Fe=0;Fe<ze.za;++Fe){var Ue=Te,qe=ze,ht=qe.Ac,ct=qe.Bc+4*Fe,Pt=qe.zc,ut=qe.ya[qe.aa+Fe];if(qe.Qa.Bb?ut.$b=ge(Ue,qe.Pa.jb[0])?2+ge(Ue,qe.Pa.jb[2]):ge(Ue,qe.Pa.jb[1]):ut.$b=0,qe.kc&&(ut.Ad=ge(Ue,qe.Bd)),ut.Za=!ge(Ue,145)+0,ut.Za){var yn=ut.Ob,vn=0;for(qe=0;4>qe;++qe){var un,Qt=Pt[0+qe];for(un=0;4>un;++un){Qt=Pv[ht[ct+un]][Qt];for(var Ln=rg[ge(Ue,Qt[0])];0<Ln;)Ln=rg[2*Ln+ge(Ue,Qt[Ln])];Qt=-Ln,ht[ct+un]=Qt}r(yn,vn,ht,ct,4),vn+=4,Pt[0+qe]=Qt}}else Qt=ge(Ue,156)?ge(Ue,128)?1:3:ge(Ue,163)?2:0,ut.Ob[0]=Qt,i(ht,ct,Qt,4),i(Pt,0,Qt,4);ut.Dd=ge(Ue,142)?ge(Ue,114)?ge(Ue,183)?1:3:2:0}if(ze.m.Ka)return Yn(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(ze=Se,Ue=(Te=Ce).rb[Te.sb-1],ht=Te.rb[Te.sb+Te.ja],Fe=Te.ya[Te.aa+Te.ja],ct=Te.kc?Fe.Ad:0)Ue.la=ht.la=0,Fe.Za||(Ue.Na=ht.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var Mn,zt;if(Ue=ht,ht=ze,ct=Te.Pa.Xc,Pt=Te.ya[Te.aa+Te.ja],ut=Te.pb[Pt.$b],qe=Pt.ad,yn=0,vn=Te.rb[Te.sb-1],Qt=un=0,i(qe,yn,0,384),Pt.Za)var or=0,Fi=ct[3];else{Ln=s(16);var Sr=Ue.Na+vn.Na;if(Sr=sc(ht,ct[1],Sr,ut.Eb,0,Ln,0),Ue.Na=vn.Na=(0<Sr)+0,1<Sr)su(Ln,0,qe,yn);else{var Vr=Ln[0]+3>>3;for(Ln=0;256>Ln;Ln+=16)qe[yn+Ln]=Vr}or=1,Fi=ct[0]}var An=15&Ue.la,_i=15&vn.la;for(Ln=0;4>Ln;++Ln){var Si=1&_i;for(Vr=zt=0;4>Vr;++Vr)An=An>>1|(Si=(Sr=sc(ht,Fi,Sr=Si+(1&An),ut.Sc,or,qe,yn))>or)<<7,zt=zt<<2|(3<Sr?3:1<Sr?2:qe[yn+0]!=0),yn+=16;An>>=4,_i=_i>>1|Si<<7,un=(un<<8|zt)>>>0}for(Fi=An,or=_i>>4,Mn=0;4>Mn;Mn+=2){for(zt=0,An=Ue.la>>4+Mn,_i=vn.la>>4+Mn,Ln=0;2>Ln;++Ln){for(Si=1&_i,Vr=0;2>Vr;++Vr)Sr=Si+(1&An),An=An>>1|(Si=0<(Sr=sc(ht,ct[2],Sr,ut.Qc,0,qe,yn)))<<3,zt=zt<<2|(3<Sr?3:1<Sr?2:qe[yn+0]!=0),yn+=16;An>>=2,_i=_i>>1|Si<<5}Qt|=zt<<4*Mn,Fi|=An<<4<<Mn,or|=(240&_i)<<Mn}Ue.la=Fi,vn.la=or,Pt.Hc=un,Pt.Gc=Qt,Pt.ia=43690&Qt?0:ut.ia,ct=!(un|Qt)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[Fe.$b][Fe.Za],Te.wa[Te.Y+Te.ja].La|=!ct),ze.Ka)return Yn(Ce,7,"Premature end-of-file encountered.")}if(zo(Ce),Te=He,ze=1,Fe=(Se=Ce).D,Ue=0<Se.L&&Se.M>=Se.zb&&Se.M<=Se.Va,Se.Aa==0)e:{if(Fe.M=Se.M,Fe.uc=Ue,So(Se,Fe),ze=1,Fe=(zt=Se.D).Nb,Ue=(Qt=lc[Se.L])*Se.R,ht=Qt/2*Se.B,Ln=16*Fe*Se.R,Vr=8*Fe*Se.B,ct=Se.sa,Pt=Se.ta-Ue+Ln,ut=Se.qa,qe=Se.ra-ht+Vr,yn=Se.Ha,vn=Se.Ia-ht+Vr,_i=(An=zt.M)==0,un=An>=Se.Va-1,Se.Aa==2&&So(Se,zt),zt.uc)for(Si=(Sr=Se).D.M,e(Sr.D.uc),zt=Sr.yb;zt<Sr.Hb;++zt){or=zt,Fi=Si;var ar=(Br=(Cn=Sr).D).Nb;Mn=Cn.R;var Br=Br.wa[Br.Y+or],ui=Cn.sa,ts=Cn.ta+16*ar*Mn+16*or,Gs=Br.dd,lr=Br.tc;if(lr!=0)if(e(3<=lr),Cn.L==1)0<or&&Na(ui,ts,Mn,lr+4),Br.La&&li(ui,ts,Mn,lr),0<Fi&&ka(ui,ts,Mn,lr+4),Br.La&&pl(ui,ts,Mn,lr);else{var jr=Cn.B,Ts=Cn.qa,vl=Cn.ra+8*ar*jr+8*or,La=Cn.Ha,Cn=Cn.Ia+8*ar*jr+8*or;ar=Br.ld,0<or&&(yd(ui,ts,Mn,lr+4,Gs,ar),ec(Ts,vl,La,Cn,jr,lr+4,Gs,ar)),Br.La&&(Ss(ui,ts,Mn,lr,Gs,ar),Zo(Ts,vl,La,Cn,jr,lr,Gs,ar)),0<Fi&&(Jl(ui,ts,Mn,lr+4,Gs,ar),Zl(Ts,vl,La,Cn,jr,lr+4,Gs,ar)),Br.La&&(tc(ui,ts,Mn,lr,Gs,ar),Pa(Ts,vl,La,Cn,jr,lr,Gs,ar))}}if(Se.ia&&alert("todo:DitherRow"),Te.put!=null){if(zt=16*An,An=16*(An+1),_i?(Te.y=Se.sa,Te.O=Se.ta+Ln,Te.f=Se.qa,Te.N=Se.ra+Vr,Te.ea=Se.Ha,Te.W=Se.Ia+Vr):(zt-=Qt,Te.y=ct,Te.O=Pt,Te.f=ut,Te.N=qe,Te.ea=yn,Te.W=vn),un||(An-=Qt),An>Te.o&&(An=Te.o),Te.F=null,Te.J=null,Se.Fa!=null&&0<Se.Fa.length&&zt<An&&(Te.J=dl(Se,Te,zt,An-zt),Te.F=Se.mb,Te.F==null&&Te.F.length==0)){ze=Yn(Se,3,"Could not decode alpha data.");break e}zt<Te.j&&(Qt=Te.j-zt,zt=Te.j,e(!(1&Qt)),Te.O+=Se.R*Qt,Te.N+=Se.B*(Qt>>1),Te.W+=Se.B*(Qt>>1),Te.F!=null&&(Te.J+=Te.width*Qt)),zt<An&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=zt-Te.j,Te.U=Te.va-Te.v,Te.T=An-zt,ze=Te.put(Te))}Fe+1!=Se.Ic||un||(r(Se.sa,Se.ta-Ue,ct,Pt+16*Se.R,Ue),r(Se.qa,Se.ra-ht,ut,qe+8*Se.B,ht),r(Se.Ha,Se.Ia-ht,yn,vn+8*Se.B,ht))}if(!ze)return Yn(Ce,6,"Output aborted.")}return 1}(y,_)),_.bc!=null&&_.bc(_),N&=1}return N?(y.cb=0,N):0}function ri(y,_,N,M,H){H=y[_+N+32*M]+(H>>3),y[_+N+32*M]=-256&H?0>H?0:255:H}function il(y,_,N,M,H,Q){ri(y,_,0,N,M+H),ri(y,_,1,N,M+Q),ri(y,_,2,N,M-Q),ri(y,_,3,N,M-H)}function pr(y){return(20091*y>>16)+y}function ii(y,_,N,M){var H,Q=0,Z=s(16);for(H=0;4>H;++H){var ee=y[_+0]+y[_+8],re=y[_+0]-y[_+8],ue=(35468*y[_+4]>>16)-pr(y[_+12]),be=pr(y[_+4])+(35468*y[_+12]>>16);Z[Q+0]=ee+be,Z[Q+1]=re+ue,Z[Q+2]=re-ue,Z[Q+3]=ee-be,Q+=4,_++}for(H=Q=0;4>H;++H)ee=(y=Z[Q+0]+4)+Z[Q+8],re=y-Z[Q+8],ue=(35468*Z[Q+4]>>16)-pr(Z[Q+12]),ri(N,M,0,0,ee+(be=pr(Z[Q+4])+(35468*Z[Q+12]>>16))),ri(N,M,1,0,re+ue),ri(N,M,2,0,re-ue),ri(N,M,3,0,ee-be),Q++,M+=32}function Wo(y,_,N,M){var H=y[_+0]+4,Q=35468*y[_+4]>>16,Z=pr(y[_+4]),ee=35468*y[_+1]>>16;il(N,M,0,H+Z,y=pr(y[_+1]),ee),il(N,M,1,H+Q,y,ee),il(N,M,2,H-Q,y,ee),il(N,M,3,H-Z,y,ee)}function $o(y,_,N,M,H){ii(y,_,N,M),H&&ii(y,_+16,N,M+4)}function yo(y,_,N,M){Aa(y,_+0,N,M,1),Aa(y,_+32,N,M+128,1)}function kn(y,_,N,M){var H;for(y=y[_+0]+4,H=0;4>H;++H)for(_=0;4>_;++_)ri(N,M,_,H,y)}function vo(y,_,N,M){y[_+0]&&xi(y,_+0,N,M),y[_+16]&&xi(y,_+16,N,M+4),y[_+32]&&xi(y,_+32,N,M+128),y[_+48]&&xi(y,_+48,N,M+128+4)}function rn(y,_,N,M){var H,Q=s(16);for(H=0;4>H;++H){var Z=y[_+0+H]+y[_+12+H],ee=y[_+4+H]+y[_+8+H],re=y[_+4+H]-y[_+8+H],ue=y[_+0+H]-y[_+12+H];Q[0+H]=Z+ee,Q[8+H]=Z-ee,Q[4+H]=ue+re,Q[12+H]=ue-re}for(H=0;4>H;++H)Z=(y=Q[0+4*H]+3)+Q[3+4*H],ee=Q[1+4*H]+Q[2+4*H],re=Q[1+4*H]-Q[2+4*H],ue=y-Q[3+4*H],N[M+0]=Z+ee>>3,N[M+16]=ue+re>>3,N[M+32]=Z-ee>>3,N[M+48]=ue-re>>3,M+=64}function Fs(y,_,N){var M,H=_-32,Q=Oi,Z=255-y[H-1];for(M=0;M<N;++M){var ee,re=Q,ue=Z+y[_-1];for(ee=0;ee<N;++ee)y[_+ee]=re[ue+y[H+ee]];_+=32}}function Gc(y,_){Fs(y,_,4)}function sl(y,_){Fs(y,_,8)}function Kc(y,_){Fs(y,_,16)}function Vs(y,_){var N;for(N=0;16>N;++N)r(y,_+32*N,y,_-32,16)}function wa(y,_){var N;for(N=16;0<N;--N)i(y,_,y[_-1],16),_+=32}function Ho(y,_,N){var M;for(M=0;16>M;++M)i(_,N+32*M,y,16)}function ys(y,_){var N,M=16;for(N=0;16>N;++N)M+=y[_-1+32*N]+y[_+N-32];Ho(M>>5,y,_)}function gn(y,_){var N,M=8;for(N=0;16>N;++N)M+=y[_-1+32*N];Ho(M>>4,y,_)}function vs(y,_){var N,M=8;for(N=0;16>N;++N)M+=y[_+N-32];Ho(M>>4,y,_)}function Ki(y,_){Ho(128,y,_)}function Rt(y,_,N){return y+2*_+N+2>>2}function Yi(y,_){var N,M=_-32;for(M=new Uint8Array([Rt(y[M-1],y[M+0],y[M+1]),Rt(y[M+0],y[M+1],y[M+2]),Rt(y[M+1],y[M+2],y[M+3]),Rt(y[M+2],y[M+3],y[M+4])]),N=0;4>N;++N)r(y,_+32*N,M,0,M.length)}function Bs(y,_){var N=y[_-1],M=y[_-1+32],H=y[_-1+64],Q=y[_-1+96];Re(y,_+0,16843009*Rt(y[_-1-32],N,M)),Re(y,_+32,16843009*Rt(N,M,H)),Re(y,_+64,16843009*Rt(M,H,Q)),Re(y,_+96,16843009*Rt(H,Q,Q))}function Us(y,_){var N,M=4;for(N=0;4>N;++N)M+=y[_+N-32]+y[_-1+32*N];for(M>>=3,N=0;4>N;++N)i(y,_+32*N,M,4)}function Hl(y,_){var N=y[_-1+0],M=y[_-1+32],H=y[_-1+64],Q=y[_-1-32],Z=y[_+0-32],ee=y[_+1-32],re=y[_+2-32],ue=y[_+3-32];y[_+0+96]=Rt(M,H,y[_-1+96]),y[_+1+96]=y[_+0+64]=Rt(N,M,H),y[_+2+96]=y[_+1+64]=y[_+0+32]=Rt(Q,N,M),y[_+3+96]=y[_+2+64]=y[_+1+32]=y[_+0+0]=Rt(Z,Q,N),y[_+3+64]=y[_+2+32]=y[_+1+0]=Rt(ee,Z,Q),y[_+3+32]=y[_+2+0]=Rt(re,ee,Z),y[_+3+0]=Rt(ue,re,ee)}function si(y,_){var N=y[_+1-32],M=y[_+2-32],H=y[_+3-32],Q=y[_+4-32],Z=y[_+5-32],ee=y[_+6-32],re=y[_+7-32];y[_+0+0]=Rt(y[_+0-32],N,M),y[_+1+0]=y[_+0+32]=Rt(N,M,H),y[_+2+0]=y[_+1+32]=y[_+0+64]=Rt(M,H,Q),y[_+3+0]=y[_+2+32]=y[_+1+64]=y[_+0+96]=Rt(H,Q,Z),y[_+3+32]=y[_+2+64]=y[_+1+96]=Rt(Q,Z,ee),y[_+3+64]=y[_+2+96]=Rt(Z,ee,re),y[_+3+96]=Rt(ee,re,re)}function ol(y,_){var N=y[_-1+0],M=y[_-1+32],H=y[_-1+64],Q=y[_-1-32],Z=y[_+0-32],ee=y[_+1-32],re=y[_+2-32],ue=y[_+3-32];y[_+0+0]=y[_+1+64]=Q+Z+1>>1,y[_+1+0]=y[_+2+64]=Z+ee+1>>1,y[_+2+0]=y[_+3+64]=ee+re+1>>1,y[_+3+0]=re+ue+1>>1,y[_+0+96]=Rt(H,M,N),y[_+0+64]=Rt(M,N,Q),y[_+0+32]=y[_+1+96]=Rt(N,Q,Z),y[_+1+32]=y[_+2+96]=Rt(Q,Z,ee),y[_+2+32]=y[_+3+96]=Rt(Z,ee,re),y[_+3+32]=Rt(ee,re,ue)}function al(y,_){var N=y[_+0-32],M=y[_+1-32],H=y[_+2-32],Q=y[_+3-32],Z=y[_+4-32],ee=y[_+5-32],re=y[_+6-32],ue=y[_+7-32];y[_+0+0]=N+M+1>>1,y[_+1+0]=y[_+0+64]=M+H+1>>1,y[_+2+0]=y[_+1+64]=H+Q+1>>1,y[_+3+0]=y[_+2+64]=Q+Z+1>>1,y[_+0+32]=Rt(N,M,H),y[_+1+32]=y[_+0+96]=Rt(M,H,Q),y[_+2+32]=y[_+1+96]=Rt(H,Q,Z),y[_+3+32]=y[_+2+96]=Rt(Q,Z,ee),y[_+3+64]=Rt(Z,ee,re),y[_+3+96]=Rt(ee,re,ue)}function wo(y,_){var N=y[_-1+0],M=y[_-1+32],H=y[_-1+64],Q=y[_-1+96];y[_+0+0]=N+M+1>>1,y[_+2+0]=y[_+0+32]=M+H+1>>1,y[_+2+32]=y[_+0+64]=H+Q+1>>1,y[_+1+0]=Rt(N,M,H),y[_+3+0]=y[_+1+32]=Rt(M,H,Q),y[_+3+32]=y[_+1+64]=Rt(H,Q,Q),y[_+3+64]=y[_+2+64]=y[_+0+96]=y[_+1+96]=y[_+2+96]=y[_+3+96]=Q}function xa(y,_){var N=y[_-1+0],M=y[_-1+32],H=y[_-1+64],Q=y[_-1+96],Z=y[_-1-32],ee=y[_+0-32],re=y[_+1-32],ue=y[_+2-32];y[_+0+0]=y[_+2+32]=N+Z+1>>1,y[_+0+32]=y[_+2+64]=M+N+1>>1,y[_+0+64]=y[_+2+96]=H+M+1>>1,y[_+0+96]=Q+H+1>>1,y[_+3+0]=Rt(ee,re,ue),y[_+2+0]=Rt(Z,ee,re),y[_+1+0]=y[_+3+32]=Rt(N,Z,ee),y[_+1+32]=y[_+3+64]=Rt(M,N,Z),y[_+1+64]=y[_+3+96]=Rt(H,M,N),y[_+1+96]=Rt(Q,H,M)}function Yc(y,_){var N;for(N=0;8>N;++N)r(y,_+32*N,y,_-32,8)}function Ni(y,_){var N;for(N=0;8>N;++N)i(y,_,y[_-1],8),_+=32}function oi(y,_,N){var M;for(M=0;8>M;++M)i(_,N+32*M,y,8)}function gi(y,_){var N,M=8;for(N=0;8>N;++N)M+=y[_+N-32]+y[_-1+32*N];oi(M>>4,y,_)}function Go(y,_){var N,M=4;for(N=0;8>N;++N)M+=y[_+N-32];oi(M>>3,y,_)}function Tn(y,_){var N,M=4;for(N=0;8>N;++N)M+=y[_-1+32*N];oi(M>>3,y,_)}function Gl(y,_){oi(128,y,_)}function Ko(y,_,N){var M=y[_-N],H=y[_+0],Q=3*(H-M)+ta[1020+y[_-2*N]-y[_+N]],Z=au[112+(Q+4>>3)];y[_-N]=Oi[255+M+au[112+(Q+3>>3)]],y[_+0]=Oi[255+H-Z]}function Yo(y,_,N,M){var H=y[_+0],Q=y[_+N];return $s[255+y[_-2*N]-y[_-N]]>M||$s[255+Q-H]>M}function ba(y,_,N,M){return 4*$s[255+y[_-N]-y[_+0]]+$s[255+y[_-2*N]-y[_+N]]<=M}function ll(y,_,N,M,H){var Q=y[_-3*N],Z=y[_-2*N],ee=y[_-N],re=y[_+0],ue=y[_+N],be=y[_+2*N],ke=y[_+3*N];return 4*$s[255+ee-re]+$s[255+Z-ue]>M?0:$s[255+y[_-4*N]-Q]<=H&&$s[255+Q-Z]<=H&&$s[255+Z-ee]<=H&&$s[255+ke-be]<=H&&$s[255+be-ue]<=H&&$s[255+ue-re]<=H}function yi(y,_,N,M){var H=2*M+1;for(M=0;16>M;++M)ba(y,_+M,N,H)&&Ko(y,_+M,N)}function Ii(y,_,N,M){var H=2*M+1;for(M=0;16>M;++M)ba(y,_+M*N,1,H)&&Ko(y,_+M*N,1)}function mr(y,_,N,M){var H;for(H=3;0<H;--H)yi(y,_+=4*N,N,M)}function Kl(y,_,N,M){var H;for(H=3;0<H;--H)Ii(y,_+=4,N,M)}function ws(y,_,N,M,H,Q,Z,ee){for(Q=2*Q+1;0<H--;){if(ll(y,_,N,Q,Z))if(Yo(y,_,N,ee))Ko(y,_,N);else{var re=y,ue=_,be=N,ke=re[ue-2*be],Ne=re[ue-be],Ce=re[ue+0],He=re[ue+be],Fe=re[ue+2*be],Se=27*(ze=ta[1020+3*(Ce-Ne)+ta[1020+ke-He]])+63>>7,Te=18*ze+63>>7,ze=9*ze+63>>7;re[ue-3*be]=Oi[255+re[ue-3*be]+ze],re[ue-2*be]=Oi[255+ke+Te],re[ue-be]=Oi[255+Ne+Se],re[ue+0]=Oi[255+Ce-Se],re[ue+be]=Oi[255+He-Te],re[ue+2*be]=Oi[255+Fe-ze]}_+=M}}function Rr(y,_,N,M,H,Q,Z,ee){for(Q=2*Q+1;0<H--;){if(ll(y,_,N,Q,Z))if(Yo(y,_,N,ee))Ko(y,_,N);else{var re=y,ue=_,be=N,ke=re[ue-be],Ne=re[ue+0],Ce=re[ue+be],He=au[112+((Fe=3*(Ne-ke))+4>>3)],Fe=au[112+(Fe+3>>3)],Se=He+1>>1;re[ue-2*be]=Oi[255+re[ue-2*be]+Se],re[ue-be]=Oi[255+ke+Fe],re[ue+0]=Oi[255+Ne-He],re[ue+be]=Oi[255+Ce-Se]}_+=M}}function _a(y,_,N,M,H,Q){ws(y,_,N,1,16,M,H,Q)}function sr(y,_,N,M,H,Q){ws(y,_,1,N,16,M,H,Q)}function xs(y,_,N,M,H,Q){var Z;for(Z=3;0<Z;--Z)Rr(y,_+=4*N,N,1,16,M,H,Q)}function xo(y,_,N,M,H,Q){var Z;for(Z=3;0<Z;--Z)Rr(y,_+=4,1,N,16,M,H,Q)}function zs(y,_,N,M,H,Q,Z,ee){ws(y,_,H,1,8,Q,Z,ee),ws(N,M,H,1,8,Q,Z,ee)}function Yl(y,_,N,M,H,Q,Z,ee){ws(y,_,1,H,8,Q,Z,ee),ws(N,M,1,H,8,Q,Z,ee)}function Xo(y,_,N,M,H,Q,Z,ee){Rr(y,_+4*H,H,1,8,Q,Z,ee),Rr(N,M+4*H,H,1,8,Q,Z,ee)}function qs(y,_,N,M,H,Q,Z,ee){Rr(y,_+4,1,H,8,Q,Z,ee),Rr(N,M+4,1,H,8,Q,Z,ee)}function bs(){this.ba=new fr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cl(){this.ua=0,this.Wa=new me,this.vb=new me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new se,this.yc=new D}function Xc(){this.xb=this.a=0,this.l=new ya,this.ca=new fr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cl,this.ab=0,this.gc=o(4,Qo),this.Oc=0}function _o(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ya,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ws(y,_,N,M,H,Q,Z){for(y=y==null?0:y[_+0],_=0;_<Z;++_)H[Q+_]=y+N[M+_]&255,y=H[Q+_]}function ul(y,_,N,M,H,Q,Z){var ee;if(y==null)Ws(null,null,N,M,H,Q,Z);else for(ee=0;ee<Z;++ee)H[Q+ee]=y[_+ee]+N[M+ee]&255}function vi(y,_,N,M,H,Q,Z){if(y==null)Ws(null,null,N,M,H,Q,Z);else{var ee,re=y[_+0],ue=re,be=re;for(ee=0;ee<Z;++ee)ue=be+(re=y[_+ee])-ue,be=N[M+ee]+(-256&ue?0>ue?0:255:ue)&255,ue=re,H[Q+ee]=be}}function dl(y,_,N,M){var H=_.width,Q=_.o;if(e(y!=null&&_!=null),0>N||0>=M||N+M>Q)return null;if(!y.Cc){if(y.ga==null){var Z;if(y.ga=new _o,(Z=y.ga==null)||(Z=_.width*_.o,e(y.Gb.length==0),y.Gb=s(Z),y.Uc=0,y.Gb==null?Z=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,Z=1),Z=!Z),!Z){Z=y.ga;var ee=y.Fa,re=y.P,ue=y.qc,be=y.mb,ke=y.nb,Ne=re+1,Ce=ue-1,He=Z.l;if(e(ee!=null&&be!=null&&_!=null),bi[0]=null,bi[1]=Ws,bi[2]=ul,bi[3]=vi,Z.ca=be,Z.tb=ke,Z.c=_.width,Z.i=_.height,e(0<Z.c&&0<Z.i),1>=ue)_=0;else if(Z.$a=ee[re+0]>>0&3,Z.Z=ee[re+0]>>2&3,Z.Lc=ee[re+0]>>4&3,re=ee[re+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||re)_=0;else if(He.put=Xr,He.ac=br,He.bc=$i,He.ma=Z,He.width=_.width,He.height=_.height,He.Da=_.Da,He.v=_.v,He.va=_.va,He.j=_.j,He.o=_.o,Z.$a)e:{e(Z.$a==1),_=hr();t:for(;;){if(_==null){_=0;break e}if(e(Z!=null),Z.mc=_,_.c=Z.c,_.i=Z.i,_.l=Z.l,_.l.ma=Z,_.l.width=Z.c,_.l.height=Z.i,_.a=0,ce(_.m,ee,Ne,Ce),!gs(Z.c,Z.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&fo(_.s)?(Z.ic=1,ee=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(ee),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(Z.ic=0,_=ho(_,Z.c)),!_))break t;_=1;break e}Z.mc=null,_=0}else _=Ce>=Z.c*Z.i;Z=!_}if(Z)return null;y.ga.Lc!=1?y.Ga=0:M=Q-N}e(y.ga!=null),e(N+M<=Q);e:{if(_=(ee=y.ga).c,Q=ee.l.o,ee.$a==0){if(Ne=y.rc,Ce=y.Vc,He=y.Fa,re=y.P+1+N*_,ue=y.mb,be=y.nb+N*_,e(re<=y.P+y.qc),ee.Z!=0)for(e(bi[ee.Z]!=null),Z=0;Z<M;++Z)bi[ee.Z](Ne,Ce,He,re,ue,be,_),Ne=ue,Ce=be,be+=_,re+=_;else for(Z=0;Z<M;++Z)r(ue,be,He,re,_),Ne=ue,Ce=be,be+=_,re+=_;y.rc=Ne,y.Vc=Ce}else{if(e(ee.mc!=null),_=N+M,e((Z=ee.mc)!=null),e(_<=Z.i),Z.C>=_)_=1;else if(ee.ic||Pe(),ee.ic){ee=Z.V,Ne=Z.Ba,Ce=Z.c;var Fe=Z.i,Se=(He=1,re=Z.$/Ce,ue=Z.$%Ce,be=Z.m,ke=Z.s,Z.$),Te=Ce*Fe,ze=Ce*_,Ue=ke.wc,qe=Se<ze?Kn(ke,ue,re):null;e(Se<=Te),e(_<=Fe),e(fo(ke));t:for(;;){for(;!be.h&&Se<ze;){if(ue&Ue||(qe=Kn(ke,ue,re)),e(qe!=null),oe(be),256>(Fe=Ir(qe.G[0],qe.H[0],be)))ee[Ne+Se]=Fe,++Se,++ue>=Ce&&(ue=0,++re<=_&&!(re%16)&&Hi(Z,re));else{if(!(280>Fe)){He=0;break t}Fe=hi(Fe-256,be);var ht,ct=Ir(qe.G[4],qe.H[4],be);if(oe(be),!(Se>=(ct=Nr(Ce,ct=hi(ct,be)))&&Te-Se>=Fe)){He=0;break t}for(ht=0;ht<Fe;++ht)ee[Ne+Se+ht]=ee[Ne+Se+ht-ct];for(Se+=Fe,ue+=Fe;ue>=Ce;)ue-=Ce,++re<=_&&!(re%16)&&Hi(Z,re);Se<ze&&ue&Ue&&(qe=Kn(ke,ue,re))}e(be.h==le(be))}Hi(Z,re>_?_:re);break t}!He||be.h&&Se<Te?(He=0,Z.a=be.h?5:3):Z.$=Se,_=He}else _=_r(Z,Z.V,Z.Ba,Z.c,Z.i,_,po);if(!_){M=0;break e}}N+M>=Q&&(y.Cc=1),M=1}if(!M)return null;if(y.Cc&&((M=y.ga)!=null&&(M.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+N*H}function A(y,_,N,M,H,Q){for(;0<H--;){var Z,ee=y,re=_+(N?1:0),ue=y,be=_+(N?0:3);for(Z=0;Z<M;++Z){var ke=ue[be+4*Z];ke!=255&&(ke*=32897,ee[re+4*Z+0]=ee[re+4*Z+0]*ke>>23,ee[re+4*Z+1]=ee[re+4*Z+1]*ke>>23,ee[re+4*Z+2]=ee[re+4*Z+2]*ke>>23)}_+=Q}}function G(y,_,N,M,H){for(;0<M--;){var Q;for(Q=0;Q<N;++Q){var Z=y[_+2*Q+0],ee=15&(ue=y[_+2*Q+1]),re=4369*ee,ue=(240&ue|ue>>4)*re>>16;y[_+2*Q+0]=(240&Z|Z>>4)*re>>16&240|(15&Z|Z<<4)*re>>16>>4&15,y[_+2*Q+1]=240&ue|ee}_+=H}}function pe(y,_,N,M,H,Q,Z,ee){var re,ue,be=255;for(ue=0;ue<H;++ue){for(re=0;re<M;++re){var ke=y[_+re];Q[Z+4*re]=ke,be&=ke}_+=N,Z+=ee}return be!=255}function xe(y,_,N,M,H){var Q;for(Q=0;Q<H;++Q)N[M+Q]=y[_+Q]>>8}function Pe(){Xi=A,Un=G,In=pe,yr=xe}function Be(y,_,N){L[y]=function(M,H,Q,Z,ee,re,ue,be,ke,Ne,Ce,He,Fe,Se,Te,ze,Ue){var qe,ht=Ue-1>>1,ct=ee[re+0]|ue[be+0]<<16,Pt=ke[Ne+0]|Ce[He+0]<<16;e(M!=null);var ut=3*ct+Pt+131074>>2;for(_(M[H+0],255&ut,ut>>16,Fe,Se),Q!=null&&(ut=3*Pt+ct+131074>>2,_(Q[Z+0],255&ut,ut>>16,Te,ze)),qe=1;qe<=ht;++qe){var yn=ee[re+qe]|ue[be+qe]<<16,vn=ke[Ne+qe]|Ce[He+qe]<<16,un=ct+yn+Pt+vn+524296,Qt=un+2*(yn+Pt)>>3;ut=Qt+ct>>1,ct=(un=un+2*(ct+vn)>>3)+yn>>1,_(M[H+2*qe-1],255&ut,ut>>16,Fe,Se+(2*qe-1)*N),_(M[H+2*qe-0],255&ct,ct>>16,Fe,Se+(2*qe-0)*N),Q!=null&&(ut=un+Pt>>1,ct=Qt+vn>>1,_(Q[Z+2*qe-1],255&ut,ut>>16,Te,ze+(2*qe-1)*N),_(Q[Z+2*qe+0],255&ct,ct>>16,Te,ze+(2*qe+0)*N)),ct=yn,Pt=vn}1&Ue||(ut=3*ct+Pt+131074>>2,_(M[H+Ue-1],255&ut,ut>>16,Fe,Se+(Ue-1)*N),Q!=null&&(ut=3*Pt+ct+131074>>2,_(Q[Z+Ue-1],255&ut,ut>>16,Te,ze+(Ue-1)*N)))}}function Xe(){Ji[Rf]=Nv,Ji[ml]=gl,Ji[eg]=Iv,Ji[wd]=du,Ji[xd]=oc,Ji[zn]=Ed,Ji[Lf]=rp,Ji[lu]=gl,Ji[rc]=du,Ji[bd]=oc,Ji[_d]=Ed}function lt(y){return y&-16384?0>y?0:255:y>>yl}function w(y,_){return lt((19077*y>>8)+(26149*_>>8)-14234)}function R(y,_,N){return lt((19077*y>>8)-(6419*_>>8)-(13320*N>>8)+8708)}function U(y,_){return lt((19077*y>>8)+(33050*_>>8)-17685)}function te(y,_,N,M,H){M[H+0]=w(y,N),M[H+1]=R(y,_,N),M[H+2]=U(y,_)}function Ae(y,_,N,M,H){M[H+0]=U(y,_),M[H+1]=R(y,_,N),M[H+2]=w(y,N)}function Le(y,_,N,M,H){var Q=R(y,_,N);_=Q<<3&224|U(y,_)>>3,M[H+0]=248&w(y,N)|Q>>5,M[H+1]=_}function Qe(y,_,N,M,H){var Q=240&U(y,_)|15;M[H+0]=240&w(y,N)|R(y,_,N)>>4,M[H+1]=Q}function $t(y,_,N,M,H){M[H+0]=255,te(y,_,N,M,H+1)}function on(y,_,N,M,H){Ae(y,_,N,M,H),M[H+3]=255}function Ht(y,_,N,M,H){te(y,_,N,M,H),M[H+3]=255}function En(y,_){return 0>y?0:y>_?_:y}function Nn(y,_,N){L[y]=function(M,H,Q,Z,ee,re,ue,be,ke){for(var Ne=be+(-2&ke)*N;be!=Ne;)_(M[H+0],Q[Z+0],ee[re+0],ue,be),_(M[H+1],Q[Z+0],ee[re+0],ue,be+N),H+=2,++Z,++re,be+=2*N;1&ke&&_(M[H+0],Q[Z+0],ee[re+0],ue,be)}}function Ri(y,_,N){return N==0?y==0?_==0?6:5:_==0?4:0:N}function ai(y,_,N,M,H){switch(y>>>30){case 3:Aa(_,N,M,H,0);break;case 2:bn(_,N,M,H);break;case 1:xi(_,N,M,H)}}function So(y,_){var N,M,H=_.M,Q=_.Nb,Z=y.oc,ee=y.pc+40,re=y.oc,ue=y.pc+584,be=y.oc,ke=y.pc+600;for(N=0;16>N;++N)Z[ee+32*N-1]=129;for(N=0;8>N;++N)re[ue+32*N-1]=129,be[ke+32*N-1]=129;for(0<H?Z[ee-1-32]=re[ue-1-32]=be[ke-1-32]=129:(i(Z,ee-32-1,127,21),i(re,ue-32-1,127,9),i(be,ke-32-1,127,9)),M=0;M<y.za;++M){var Ne=_.ya[_.aa+M];if(0<M){for(N=-1;16>N;++N)r(Z,ee+32*N-4,Z,ee+32*N+12,4);for(N=-1;8>N;++N)r(re,ue+32*N-4,re,ue+32*N+4,4),r(be,ke+32*N-4,be,ke+32*N+4,4)}var Ce=y.Gd,He=y.Hd+M,Fe=Ne.ad,Se=Ne.Hc;if(0<H&&(r(Z,ee-32,Ce[He].y,0,16),r(re,ue-32,Ce[He].f,0,8),r(be,ke-32,Ce[He].ea,0,8)),Ne.Za){var Te=Z,ze=ee-32+16;for(0<H&&(M>=y.za-1?i(Te,ze,Ce[He].y[15],4):r(Te,ze,Ce[He+1].y,0,4)),N=0;4>N;N++)Te[ze+128+N]=Te[ze+256+N]=Te[ze+384+N]=Te[ze+0+N];for(N=0;16>N;++N,Se<<=2)Te=Z,ze=ee+ip[N],Hs[Ne.Ob[N]](Te,ze),ai(Se,Fe,16*+N,Te,ze)}else if(Te=Ri(M,H,Ne.Ob[0]),Mi[Te](Z,ee),Se!=0)for(N=0;16>N;++N,Se<<=2)ai(Se,Fe,16*+N,Z,ee+ip[N]);for(N=Ne.Gc,Te=Ri(M,H,Ne.Dd),Qi[Te](re,ue),Qi[Te](be,ke),Se=Fe,Te=re,ze=ue,255&(Ne=N>>0)&&(170&Ne?Ca(Se,256,Te,ze):_s(Se,256,Te,ze)),Ne=be,Se=ke,255&(N>>=8)&&(170&N?Ca(Fe,320,Ne,Se):_s(Fe,320,Ne,Se)),H<y.Ub-1&&(r(Ce[He].y,0,Z,ee+480,16),r(Ce[He].f,0,re,ue+224,8),r(Ce[He].ea,0,be,ke+224,8)),N=8*Q*y.B,Ce=y.sa,He=y.ta+16*M+16*Q*y.R,Fe=y.qa,Ne=y.ra+8*M+N,Se=y.Ha,Te=y.Ia+8*M+N,N=0;16>N;++N)r(Ce,He+N*y.R,Z,ee+32*N,16);for(N=0;8>N;++N)r(Fe,Ne+N*y.B,re,ue+32*N,8),r(Se,Te+N*y.B,be,ke+32*N,8)}}function To(y,_,N,M,H,Q,Z,ee,re){var ue=[0],be=[0],ke=0,Ne=re!=null?re.kd:0,Ce=re??new bo;if(y==null||12>N)return 7;Ce.data=y,Ce.w=_,Ce.ha=N,_=[_],N=[N],Ce.gb=[Ce.gb];e:{var He=_,Fe=N,Se=Ce.gb;if(e(y!=null),e(Fe!=null),e(Se!=null),Se[0]=0,12<=Fe[0]&&!n(y,He[0],"RIFF")){if(n(y,He[0]+8,"WEBP")){Se=3;break e}var Te=Ye(y,He[0]+4);if(12>Te||4294967286<Te){Se=3;break e}if(Ne&&Te>Fe[0]-8){Se=7;break e}Se[0]=Te,He[0]+=12,Fe[0]-=12}Se=0}if(Se!=0)return Se;for(Te=0<Ce.gb[0],N=N[0];;){e:{var ze=y;Fe=_,Se=N;var Ue=ue,qe=be,ht=He=[0];if((ut=ke=[ke])[0]=0,8>Se[0])Se=7;else{if(!n(ze,Fe[0],"VP8X")){if(Ye(ze,Fe[0]+4)!=10){Se=3;break e}if(18>Se[0]){Se=7;break e}var ct=Ye(ze,Fe[0]+8),Pt=1+$e(ze,Fe[0]+12);if(2147483648<=Pt*(ze=1+$e(ze,Fe[0]+15))){Se=3;break e}ht!=null&&(ht[0]=ct),Ue!=null&&(Ue[0]=Pt),qe!=null&&(qe[0]=ze),Fe[0]+=18,Se[0]-=18,ut[0]=1}Se=0}}if(ke=ke[0],He=He[0],Se!=0)return Se;if(Fe=!!(2&He),!Te&&ke)return 3;if(Q!=null&&(Q[0]=!!(16&He)),Z!=null&&(Z[0]=Fe),ee!=null&&(ee[0]=0),Z=ue[0],He=be[0],ke&&Fe&&re==null){Se=0;break}if(4>N){Se=7;break}if(Te&&ke||!Te&&!ke&&!n(y,_[0],"ALPH")){N=[N],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{ct=y,Se=_,Te=N;var ut=Ce.gb;Ue=Ce.na,qe=Ce.P,ht=Ce.Sa,Pt=22,e(ct!=null),e(Te!=null),ze=Se[0];var yn=Te[0];for(e(Ue!=null),e(ht!=null),Ue[0]=null,qe[0]=null,ht[0]=0;;){if(Se[0]=ze,Te[0]=yn,8>yn){Se=7;break e}var vn=Ye(ct,ze+4);if(4294967286<vn){Se=3;break e}var un=8+vn+1&-2;if(Pt+=un,0<ut&&Pt>ut){Se=3;break e}if(!n(ct,ze,"VP8 ")||!n(ct,ze,"VP8L")){Se=0;break e}if(yn[0]<un){Se=7;break e}n(ct,ze,"ALPH")||(Ue[0]=ct,qe[0]=ze+8,ht[0]=vn),ze+=un,yn-=un}}if(N=N[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Se!=0)break}N=[N],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(ut=y,Se=_,Te=N,Ue=Ce.gb[0],qe=Ce.Ja,ht=Ce.xa,ct=Se[0],ze=!n(ut,ct,"VP8 "),Pt=!n(ut,ct,"VP8L"),e(ut!=null),e(Te!=null),e(qe!=null),e(ht!=null),8>Te[0])Se=7;else{if(ze||Pt){if(ut=Ye(ut,ct+4),12<=Ue&&ut>Ue-12){Se=3;break e}if(Ne&&ut>Te[0]-8){Se=7;break e}qe[0]=ut,Se[0]+=8,Te[0]-=8,ht[0]=Pt}else ht[0]=5<=Te[0]&&ut[ct+0]==47&&!(ut[ct+4]>>5),qe[0]=Te[0];Se=0}if(N=N[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],_=_[0],Se!=0)break;if(4294967286<Ce.Ja)return 3;if(ee==null||Fe||(ee[0]=Ce.xa?2:1),Z=[Z],He=[He],Ce.xa){if(5>N){Se=7;break}ee=Z,Ne=He,Fe=Q,y==null||5>N?y=0:5<=N&&y[_+0]==47&&!(y[_+4]>>5)?(Te=[0],ut=[0],Ue=[0],ce(qe=new V,y,_,N),pt(qe,Te,ut,Ue)?(ee!=null&&(ee[0]=Te[0]),Ne!=null&&(Ne[0]=ut[0]),Fe!=null&&(Fe[0]=Ue[0]),y=1):y=0):y=0}else{if(10>N){Se=7;break}ee=He,y==null||10>N||!Wl(y,_+3,N-3)?y=0:(Ne=y[_+0]|y[_+1]<<8|y[_+2]<<16,Fe=16383&(y[_+7]<<8|y[_+6]),y=16383&(y[_+9]<<8|y[_+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Ce.Ja||!Fe||!y?y=0:(Z&&(Z[0]=Fe),ee&&(ee[0]=y),y=1))}if(!y||(Z=Z[0],He=He[0],ke&&(ue[0]!=Z||be[0]!=He)))return 3;re!=null&&(re[0]=Ce,re.offset=_-re.w,e(4294967286>_-re.w),e(re.offset==re.ha-N));break}return Se==0||Se==7&&ke&&re==null?(Q!=null&&(Q[0]|=Ce.na!=null&&0<Ce.na.length),M!=null&&(M[0]=Z),H!=null&&(H[0]=He),0):Se}function Qc(y,_,N){var M=_.width,H=_.height,Q=0,Z=0,ee=M,re=H;if(_.Da=y!=null&&0<y.Da,_.Da&&(ee=y.cd,re=y.bd,Q=y.v,Z=y.j,11>N||(Q&=-2,Z&=-2),0>Q||0>Z||0>=ee||0>=re||Q+ee>M||Z+re>H))return 0;if(_.v=Q,_.j=Z,_.va=Q+ee,_.o=Z+re,_.U=ee,_.T=re,_.da=y!=null&&0<y.da,_.da){if(!_t(ee,re,N=[y.ib],Q=[y.hb]))return 0;_.ib=N[0],_.hb=Q[0]}return _.ob=y!=null&&y.ob,_.Kb=y==null||!y.Sd,_.da&&(_.ob=_.ib<3*M/4&&_.hb<3*H/4,_.Kb=0),1}function Jc(y){if(y==null)return 2;if(11>y.S){var _=y.f.RGBA;_.fb+=(y.height-1)*_.A,_.A=-_.A}else _=y.f.kb,y=y.height,_.O+=(y-1)*_.fa,_.fa=-_.fa,_.N+=(y-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(y-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(y-1)*_.lb,_.lb=-_.lb);return 0}function Xl(y,_,N,M){if(M==null||0>=y||0>=_)return 2;if(N!=null){if(N.Da){var H=N.cd,Q=N.bd,Z=-2&N.v,ee=-2&N.j;if(0>Z||0>ee||0>=H||0>=Q||Z+H>y||ee+Q>_)return 2;y=H,_=Q}if(N.da){if(!_t(y,_,H=[N.ib],Q=[N.hb]))return 2;y=H[0],_=Q[0]}}M.width=y,M.height=_;e:{var re=M.width,ue=M.height;if(y=M.S,0>=re||0>=ue||!(y>=Rf&&13>y))y=2;else{if(0>=M.Rd&&M.sd==null){Z=Q=H=_=0;var be=(ee=re*Ad[y])*ue;if(11>y||(Q=(ue+1)/2*(_=(re+1)/2),y==12&&(Z=(H=re)*ue)),(ue=s(be+2*Q+Z))==null){y=1;break e}M.sd=ue,11>y?((re=M.f.RGBA).eb=ue,re.fb=0,re.A=ee,re.size=be):((re=M.f.kb).y=ue,re.O=0,re.fa=ee,re.Fd=be,re.f=ue,re.N=0+be,re.Ab=_,re.Cd=Q,re.ea=ue,re.W=0+be+Q,re.Db=_,re.Ed=Q,y==12&&(re.F=ue,re.J=0+be+2*Q),re.Tc=Z,re.lb=H)}if(_=1,H=M.S,Q=M.width,Z=M.height,H>=Rf&&13>H)if(11>H)y=M.f.RGBA,_&=(ee=Math.abs(y.A))*(Z-1)+Q<=y.size,_&=ee>=Q*Ad[H],_&=y.eb!=null;else{y=M.f.kb,ee=(Q+1)/2,be=(Z+1)/2,re=Math.abs(y.fa),ue=Math.abs(y.Ab);var ke=Math.abs(y.Db),Ne=Math.abs(y.lb),Ce=Ne*(Z-1)+Q;_&=re*(Z-1)+Q<=y.Fd,_&=ue*(be-1)+ee<=y.Cd,_=(_&=ke*(be-1)+ee<=y.Ed)&re>=Q&ue>=ee&ke>=ee,_&=y.y!=null,_&=y.f!=null,_&=y.ea!=null,H==12&&(_&=Ne>=Q,_&=Ce<=y.Tc,_&=y.F!=null)}else _=0;y=_?0:2}}return y!=0||N!=null&&N.fd&&(y=Jc(M)),y}var gr=64,Zc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eu=24,tu=32,nu=8,Li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(y){return y},L.Predictor2=function(y,_,N){return _[N+0]},L.Predictor3=function(y,_,N){return _[N+1]},L.Predictor4=function(y,_,N){return _[N-1]},L.Predictor5=function(y,_,N){return at(at(y,_[N+1]),_[N+0])},L.Predictor6=function(y,_,N){return at(y,_[N-1])},L.Predictor7=function(y,_,N){return at(y,_[N+0])},L.Predictor8=function(y,_,N){return at(_[N-1],_[N+0])},L.Predictor9=function(y,_,N){return at(_[N+0],_[N+1])},L.Predictor10=function(y,_,N){return at(at(y,_[N-1]),at(_[N+0],_[N+1]))},L.Predictor11=function(y,_,N){var M=_[N+0];return 0>=Ot(M>>24&255,y>>24&255,(_=_[N-1])>>24&255)+Ot(M>>16&255,y>>16&255,_>>16&255)+Ot(M>>8&255,y>>8&255,_>>8&255)+Ot(255&M,255&y,255&_)?M:y},L.Predictor12=function(y,_,N){var M=_[N+0];return(vt((y>>24&255)+(M>>24&255)-((_=_[N-1])>>24&255))<<24|vt((y>>16&255)+(M>>16&255)-(_>>16&255))<<16|vt((y>>8&255)+(M>>8&255)-(_>>8&255))<<8|vt((255&y)+(255&M)-(255&_)))>>>0},L.Predictor13=function(y,_,N){var M=_[N-1];return(It((y=at(y,_[N+0]))>>24&255,M>>24&255)<<24|It(y>>16&255,M>>16&255)<<16|It(y>>8&255,M>>8&255)<<8|It(y>>0&255,M>>0&255))>>>0};var Ql=L.PredictorAdd0;L.PredictorAdd1=St,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Sa=L.PredictorAdd2;Mt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var If,ji=L.ColorIndexInverseTransform,ru=L.MapARGB,gd=L.VP8LColorIndexInverseTransformAlpha,iu=L.MapAlpha,Jo=L.VP8LPredictorsAdd=[];Jo.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var fl,Di,wi,hl,Ta,Ea,su,Aa,bn,Ca,xi,_s,Jl,yd,Zl,ec,tc,Ss,Pa,Zo,ka,Na,pl,li,Xi,Un,In,yr,Lr=s(511),ea=s(2041),ou=s(225),nc=s(767),vd=0,ta=ea,au=ou,Oi=nc,$s=Lr,Rf=0,ml=1,eg=2,wd=3,xd=4,zn=5,Lf=6,lu=7,rc=8,bd=9,_d=10,Sd=[2,3,7],jf=[3,3,11],ic=[280,256,256,256,40],tg=[0,1,1,1,0],Av=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Cv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ng=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Df=8,cu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Td=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sc=null,ep=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],tp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],rg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ig=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Pv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],kv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],np=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Mi=[],Hs=[],Qi=[],na=1,uu=2,bi=[],Ji=[];Be("UpsampleRgbLinePair",te,3),Be("UpsampleBgrLinePair",Ae,3),Be("UpsampleRgbaLinePair",Ht,4),Be("UpsampleBgraLinePair",on,4),Be("UpsampleArgbLinePair",$t,4),Be("UpsampleRgba4444LinePair",Qe,2),Be("UpsampleRgb565LinePair",Le,2);var Nv=L.UpsampleRgbLinePair,Iv=L.UpsampleBgrLinePair,gl=L.UpsampleRgbaLinePair,du=L.UpsampleBgraLinePair,oc=L.UpsampleArgbLinePair,Ed=L.UpsampleRgba4444LinePair,rp=L.UpsampleRgb565LinePair,Ia=16,Eo=1<<Ia-1,Rn=-227,On=482,yl=6,ci=0,Zi=s(256),ac=s(256),fu=s(256),es=s(256),Of=s(On-Rn),sg=s(On-Rn);Nn("YuvToRgbRow",te,3),Nn("YuvToBgrRow",Ae,3),Nn("YuvToRgbaRow",Ht,4),Nn("YuvToBgraRow",on,4),Nn("YuvToArgbRow",$t,4),Nn("YuvToRgba4444Row",Qe,2),Nn("YuvToRgb565Row",Le,2);var ip=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],lc=[0,2,8],og=[8,7,6,4,4,2,2,2,1,1,1,1],Ra=1;this.WebPDecodeRGBA=function(y,_,N,M,H){var Q=ml,Z=new bs,ee=new fr;Z.ba=ee,ee.S=Q,ee.width=[ee.width],ee.height=[ee.height];var re=ee.width,ue=ee.height,be=new Yr;if(be==null||y==null)var ke=2;else e(be!=null),ke=To(y,_,N,be.width,be.height,be.Pd,be.Qd,be.format,null);if(ke!=0?re=0:(re!=null&&(re[0]=be.width[0]),ue!=null&&(ue[0]=be.height[0]),re=1),re){ee.width=ee.width[0],ee.height=ee.height[0],M!=null&&(M[0]=ee.width),H!=null&&(H[0]=ee.height);e:{if(M=new ya,(H=new bo).data=y,H.w=_,H.ha=N,H.kd=1,_=[0],e(H!=null),((y=To(H.data,H.w,H.ha,null,null,null,_,null,H))==0||y==7)&&_[0]&&(y=4),(_=y)==0){if(e(Z!=null),M.data=H.data,M.w=H.w+H.offset,M.ha=H.ha-H.offset,M.put=Xr,M.ac=br,M.bc=$i,M.ma=Z,H.xa){if((y=hr())==null){Z=1;break e}if(function(Ne,Ce){var He=[0],Fe=[0],Se=[0];t:for(;;){if(Ne==null)return 0;if(Ce==null)return Ne.a=2,0;if(Ne.l=Ce,Ne.a=0,ce(Ne.m,Ce.data,Ce.w,Ce.ha),!pt(Ne.m,He,Fe,Se)){Ne.a=3;break t}if(Ne.xb=uu,Ce.width=He[0],Ce.height=Fe[0],!gs(He[0],Fe[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0}(y,M)){if(M=(_=Xl(M.width,M.height,Z.Oa,Z.ba))==0){t:{M=y;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((N=M.l)!=null),e((H=N.ma)!=null),M.xb!=0){if(M.ca=H.ba,M.tb=H.tb,e(M.ca!=null),!Qc(H.Oa,N,wd)){M.a=2;break n}if(!ho(M,N.width)||N.da)break n;if((N.da||sn(M.ca.S))&&Pe(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Pe()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!tt(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!_r(M,M.V,M.Ba,M.c,M.i,N.o,Vo))break n;H.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(_=y.a)}else _=y.a}else{if((y=new ni)==null){Z=1;break e}if(y.Fa=H.na,y.P=H.P,y.qc=H.Sa,$l(y,M)){if((_=Xl(M.width,M.height,Z.Oa,Z.ba))==0){if(y.Aa=0,N=Z.Oa,e((H=y)!=null),N!=null){if(0<(re=0>(re=N.Md)?0:100<re?255:255*re/100)){for(ue=be=0;4>ue;++ue)12>(ke=H.pb[ue]).lc&&(ke.ia=re*og[0>ke.lc?0:ke.lc]>>3),be|=ke.ia;be&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=N.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}qo(y,M)||(_=y.a)}}else _=y.a}_==0&&Z.Oa!=null&&Z.Oa.fd&&(_=Jc(Z.ba))}Z=_}Q=Z!=0?null:11>Q?ee.f.RGBA.eb:ee.f.kb.y}else Q=null;return Q};var Ad=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,B){for(var $="",k=0;k<4;k++)$+=String.fromCharCode(L[B++]);return $}function f(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16)>>>0}function h(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16|L[B+3]<<24)>>>0}new c;var m=[0],g=[0],b=[],S=new c,T=t,E=function(L,B){var $={},k=0,D=!1,q=0,se=0;if($.frames=[],!function(X,le,de,oe){for(var he=0;he<oe;he++)if(X[le+he]!=de.charCodeAt(he))return!0;return!1}(L,B,"RIFF",4)){for(h(L,B+=4),B+=8;B<L.length;){var we=d(L,B),fe=h(L,B+=4);B+=4;var ve=fe+(1&fe);switch(we){case"VP8 ":case"VP8L":$.frames[k]===void 0&&($.frames[k]={}),(Y=$.frames[k]).src_off=D?se:B-8,Y.src_size=q+fe+8,k++,D&&(D=!1,q=0,se=0);break;case"VP8X":(Y=$.header={}).feature_flags=L[B];var ce=B+4;Y.canvas_width=1+f(L,ce),ce+=3,Y.canvas_height=1+f(L,ce),ce+=3;break;case"ALPH":D=!0,q=ve+8,se=B-8;break;case"ANIM":(Y=$.header).bgcolor=h(L,B),ce=B+4,Y.loop_count=(W=L)[(V=ce)+0]<<0|W[V+1]<<8,ce+=2;break;case"ANMF":var ne,Y;(Y=$.frames[k]={}).offset_x=2*f(L,B),B+=3,Y.offset_y=2*f(L,B),B+=3,Y.width=1+f(L,B),B+=3,Y.height=1+f(L,B),B+=3,Y.duration=f(L,B),B+=3,ne=L[B++],Y.dispose=1&ne,Y.blend=ne>>1&1}we!="ANMF"&&(B+=ve)}var W,V;return $}}(T,0);E.response=T,E.rgbaoutput=!0,E.dataurl=!1;var C=E.header?E.header:null,I=E.frames?E.frames:null;if(C){C.loop_counter=C.loop_count,m=[C.canvas_height],g=[C.canvas_width];for(var j=0;j<I.length&&I[j].blend!=0;j++);}var K=I[0],ae=S.WebPDecodeRGBA(T,K.src_off,K.src_size,g,m);K.rgba=ae,K.imgwidth=g[0],K.imgheight=m[0];for(var F=0;F<g[0]*m[0]*4;F++)b[F]=ae[F];return this.width=g,this.height=m,this.data=b,this}(function(t){var e=function(){return typeof Mw=="function"},n=function(m,g,b,S){var T=4,E=o;switch(S){case t.image_compression.FAST:T=1,E=s;break;case t.image_compression.MEDIUM:T=6,E=a;break;case t.image_compression.SLOW:T=9,E=c}m=r(m,g,b,E);var C=Mw(m,{level:T});return t.__addimage__.arrayBufferToBinaryString(C)},r=function(m,g,b,S){for(var T,E,C,I=m.length/g,j=new Uint8Array(m.length+I),K=f(),ae=0;ae<I;ae+=1){if(C=ae*g,T=m.subarray(C,C+g),S)j.set(S(T,b,E),C+ae);else{for(var F,L=K.length,B=[];F<L;F+=1)B[F]=K[F](T,b,E);var $=h(B.concat());j.set(B[$],C+ae)}E=T}return j},i=function(m){var g=Array.apply([],m);return g.unshift(0),g},s=function(m,g){var b,S=[],T=m.length;S[0]=1;for(var E=0;E<T;E+=1)b=m[E-g]||0,S[E+1]=m[E]-b+256&255;return S},o=function(m,g,b){var S,T=[],E=m.length;T[0]=2;for(var C=0;C<E;C+=1)S=b&&b[C]||0,T[C+1]=m[C]-S+256&255;return T},a=function(m,g,b){var S,T,E=[],C=m.length;E[0]=3;for(var I=0;I<C;I+=1)S=m[I-g]||0,T=b&&b[I]||0,E[I+1]=m[I]+256-(S+T>>>1)&255;return E},c=function(m,g,b){var S,T,E,C,I=[],j=m.length;I[0]=4;for(var K=0;K<j;K+=1)S=m[K-g]||0,T=b&&b[K]||0,E=b&&b[K-g]||0,C=d(S,T,E),I[K+1]=m[K]-C+256&255;return I},d=function(m,g,b){if(m===g&&g===b)return m;var S=Math.abs(g-b),T=Math.abs(m-b),E=Math.abs(m+g-b-b);return S<=T&&S<=E?m:T<=E?g:b},f=function(){return[i,s,o,a,c]},h=function(m){var g=m.map(function(b){return b.reduce(function(S,T){return S+Math.abs(T)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(m,g,b,S){var T,E,C,I,j,K,ae,F,L,B,$,k,D,q,se,we=this.decode.FLATE_DECODE,fe="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(C=new AG(m)).imgData,E=C.bits,T=C.colorSpace,j=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){L=(F=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,$=new Uint8Array(L*C.colors),B=new Uint8Array(L);var ve,ce=C.pixelBitlength-C.bits;for(q=0,se=0;q<L;q++){for(D=F[q],ve=0;ve<ce;)$[se++]=D>>>ve&255,ve+=C.bits;B[q]=D>>>ve&255}}if(C.bits===16){L=(F=new Uint32Array(C.decodePixels().buffer)).length,$=new Uint8Array(L*(32/C.pixelBitlength)*C.colors),B=new Uint8Array(L*(32/C.pixelBitlength)),k=C.colors>1,q=0,se=0;for(var ne=0;q<L;)D=F[q++],$[se++]=D>>>0&255,k&&($[se++]=D>>>16&255,D=F[q++],$[se++]=D>>>0&255),B[ne++]=D>>>16&255;E=8}S!==t.image_compression.NONE&&e()?(m=n($,C.width*C.colors,C.colors,S),ae=n(B,C.width,1,S)):(m=$,ae=B,we=void 0)}if(C.colorType===3&&(T=this.color_spaces.INDEXED,K=C.palette,C.transparency.indexed)){var Y=C.transparency.indexed,W=0;for(q=0,L=Y.length;q<L;++q)W+=Y[q];if((W/=255)===L-1&&Y.indexOf(0)!==-1)I=[Y.indexOf(0)];else if(W!==L){for(F=C.decodePixels(),B=new Uint8Array(F.length),q=0,L=F.length;q<L;q++)B[q]=Y[F[q]];ae=n(B,C.width,1)}}var V=function(X){var le;switch(X){case t.image_compression.FAST:le=11;break;case t.image_compression.MEDIUM:le=13;break;case t.image_compression.SLOW:le=14;break;default:le=12}return le}(S);return we===this.decode.FLATE_DECODE&&(fe="/Predictor "+V+" "),fe+="/Colors "+j+" /BitsPerComponent "+E+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(ae&&this.__addimage__.isArrayBuffer(ae)||this.__addimage__.isArrayBufferView(ae))&&(ae=this.__addimage__.arrayBufferToBinaryString(ae)),{alias:b,data:m,index:g,filter:we,decodeParameters:fe,transparency:I,palette:K,sMask:ae,predictor:V,width:C.width,height:C.height,bitsPerComponent:E,colorSpace:T}}}})(Dt.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new CG(e),o=s.width,a=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:a},f=new d2(100).encode(d,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(Dt.API),Wa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Qn.log("bit decode error:"+n)}},Wa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[s>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Wa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,c=15&s,d=this.palette[a];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Wa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Wa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,d=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=c,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=d}this.pos+=t}},Wa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&n)/n*255|0,d=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},Wa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Wa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Wa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Wa(e,!1),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},d=new d2(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)}}(Dt.API),uA.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new uA(e),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},d=new d2(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)}}(Dt.API),Dt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,c=0,d=0;d<i;d+=4){var f=r[d],h=r[d+1],m=r[d+2],g=r[d+3];s[a++]=f,s[a++]=h,s[a++]=m,o[c++]=g}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Dt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rh=Dt.API,Jg=rh.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,h=e.doKerning!==!1,m=0,g=t.length,b=0,S=a[0]||c,T=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=h&&Wn(d[r])==="object"&&!isNaN(parseInt(d[r][b],10))?d[r][b]/f:0,T.push((a[r]||S)/c+m)),b=r;return T},oA=rh.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return rh.processArabic&&(t=rh.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Jg.apply(this,arguments).reduce(function(s,o){return s+o},0)},aA=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var c=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(c,s)),a=0,c=s),a+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},lA=function(t,e,n){n||(n={});var r,i,s,o,a,c,d,f=[],h=[f],m=n.textIndent||0,g=0,b=0,S=t.split(" "),T=Jg.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var E=Array(c).join(" "),C=[];S.map(function(j){(j=j.split(/\s*\n/)).length>1?C=C.concat(j.map(function(K,ae){return(ae&&K.length?`
`:"")+K})):C.push(j[0])}),S=C,c=oA.apply(this,[E,n])}for(s=0,o=S.length;s<o;s++){var I=0;if(r=S[s],c&&r[0]==`
`&&(r=r.substr(1),I=1),m+g+(b=(i=Jg.apply(this,[r,n])).reduce(function(j,K){return j+K},0))>e||I){if(b>e){for(a=aA.apply(this,[r,i,e-(m+g),e]),f.push(a.shift()),f=[a.pop()];a.length;)h.push([a.shift()]);b=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(j,K){return j+K},0)}else f=[r];h.push(f),m=b+c,g=T}else f.push(r),m+=g+b,g=T}return d=c?function(j,K){return(K?E:"")+j.join(" ")}:function(j){return j.join(" ")},h.map(d)},rh.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,c,d=[];for(a=0,c=r.length;a<c;a++)d=d.concat(lA.apply(this,[r[a],o,s]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var m,g,b,S,T=["{"];for(var E in h){if(m=h[E],isNaN(parseInt(E,10))?g="'"+E+"'":(E=parseInt(E,10),g=(g=s(E).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof m=="number")m<0?(b=s(m).slice(3),S="-"):(b=s(m).slice(2),S=""),b=S+b.slice(0,-1)+r[b.slice(-1)];else{if(Wn(m)!=="object")throw new Error("Don't know what to do with value type "+Wn(m)+".");b=o(m)}T.push(g+b)}return T.push("}"),T.join("")},a=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,g,b,S,T={},E=1,C=T,I=[],j="",K="",ae=h.length-1,F=1;F<ae;F+=1)(S=h[F])=="'"?m?(b=m.join(""),m=void 0):m=[]:m?m.push(S):S=="{"?(I.push([C,b]),C={},b=void 0):S=="}"?((g=I.pop())[0][g[1]]=C,b=void 0,C=g[0]):S=="-"?E=-1:b===void 0?n.hasOwnProperty(S)?(j+=n[S],b=parseInt(j,16)*E,E=1,j=""):j+=S:n.hasOwnProperty(S)?(K+=n[S],C[b]=parseInt(K,16)*E,E=1,b=void 0,K=""):K+=S;return T},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var m=h.font,g=f.Unicode[m.postScriptName];g&&(m.metadata.Unicode={},m.metadata.Unicode.widths=g.widths,m.metadata.Unicode.kerning=g.kerning);var b=d.Unicode[m.postScriptName];b&&(m.metadata.Unicode.encoding=b,m.encoding=b.codePages[0])}])}(Dt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(em(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Dt),function(t){function e(){return(Vt.canvg?Promise.resolve(Vt.canvg):ay(()=>import("./index.es-CxTjfz8o.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Dt.API.addSvgAsImage=function(n,r,i,s,o,a,c,d){if(isNaN(r)||isNaN(i))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(b){return b.fromString(h,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(m)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,c,d)})}}(),Dt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Dt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],d=0,f=0,h=0;function m(b,S){var T,E=!1;for(T=0;T<b.length;T+=1)b[T]===S&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(h=0;h<g;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(Wn(t)==="object"){for(i in t)if(s=t[i],m(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(r=!1);r===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,S=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?S.push("/"+b+" /"+n[b].value):S.push("/"+b+" "+n[b].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Dt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],h=0,m=s.length;h<m;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(d[4-a.length],a)}return f.join("")},r=function(s){var o,a,c,d,f,h,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(a=Object.keys(s).sort(function(g,b){return g-b})).length;h<m;h++)o=a[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",b=0;b<m.length;b++)g+=String.fromCharCode(m[b]);var S=d();f({data:g,addLength1:!0,objectId:S}),c("endobj");var T=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:T}),c("endobj");var E=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+dh(a.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var C=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+dh(a.fontName)),c("/FontDescriptor "+E+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+T+" 0 R"),c("/BaseFont /"+dh(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);var b=d();f({data:m,addLength1:!0,objectId:b}),c("endobj");var S=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var T=d();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+dh(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=d();for(var E=0;E<a.metadata.hmtx.widths.length;E++)a.metadata.hmtx.widths[E]=parseInt(a.metadata.hmtx.widths[E]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+dh(a.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",c=s.x,d=s.y,f=s.options||{},h=s.mutex||{},m=h.pdfEscape,g=h.activeFontKey,b=h.fonts,S=g,T="",E=0,C="",I=b[S].encoding;if(b[S].encoding!=="Identity-H")return{text:a,x:c,y:d,options:f,mutex:h};for(C=a,S=g,Array.isArray(a)&&(C=a[0]),E=0;E<C.length;E+=1)b[S].metadata.hasOwnProperty("cmap")&&(o=b[S].metadata.cmap.unicode.codeMap[C[E].charCodeAt(0)]),o||C[E].charCodeAt(0)<256&&b[S].metadata.hasOwnProperty("Unicode")?T+=C[E]:T+="";var j="";return parseInt(S.slice(1))<14||I==="WinAnsiEncoding"?j=m(T,S).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(j=n(T,b[S])),h.isHex=!0,{text:j,x:c,y:d,options:f,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?a.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):a.push(i(Object.assign({},c,{text:o[d]})).text);s.text=a}else s.text=i(Object.assign({},c,{text:o})).text}])}(Dt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Dt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,c,d,f,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,I=0;this.__bidiEngine__={};var j=function(k){var D=k.charCodeAt(),q=D>>8,se=S[q];return se!==void 0?h[256*se+(255&D)]:q===252||q===253?"AL":E.test(q)?"L":q===8?"R":"N"},K=function(k){for(var D,q=0;q<k.length;q++){if((D=j(k.charAt(q)))==="L")return!1;if(D==="R")return!0}return!1},ae=function(k,D,q,se){var we,fe,ve,ce,ne=D[se];switch(ne){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ne="AN");break;case"AL":C=!0,ne="R";break;case"WS":ne="N";break;case"CS":se<1||se+1>=D.length||(we=q[se-1])!=="EN"&&we!=="AN"||(fe=D[se+1])!=="EN"&&fe!=="AN"?ne="N":C&&(fe="AN"),ne=fe===we?fe:"N";break;case"ES":ne=(we=se>0?q[se-1]:"B")==="EN"&&se+1<D.length&&D[se+1]==="EN"?"EN":"N";break;case"ET":if(se>0&&q[se-1]==="EN"){ne="EN";break}if(C){ne="N";break}for(ve=se+1,ce=D.length;ve<ce&&D[ve]==="ET";)ve++;ne=ve<ce&&D[ve]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ce=D.length,ve=se+1;ve<ce&&D[ve]==="NSM";)ve++;if(ve<ce){var Y=k[se],W=Y>=1425&&Y<=2303||Y===64286;if(we=D[ve],W&&(we==="R"||we==="AL")){ne="R";break}}}ne=se<1||(we=D[se-1])==="B"?"N":q[se-1];break;case"B":C=!1,i=!0,ne=I;break;case"S":s=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ne="N"}return ne},F=function(k,D,q){var se=k.split("");return q&&L(se,q,{hiLevel:I}),se.reverse(),D&&D.reverse(),se.join("")},L=function(k,D,q){var se,we,fe,ve,ce,ne=-1,Y=k.length,W=0,V=[],X=I?g:m,le=[];for(C=!1,i=!1,s=!1,we=0;we<Y;we++)le[we]=j(k[we]);for(fe=0;fe<Y;fe++){if(ce=W,V[fe]=ae(k,le,V,fe),se=240&(W=X[ce][b[V[fe]]]),W&=15,D[fe]=ve=X[W][5],se>0)if(se===16){for(we=ne;we<fe;we++)D[we]=1;ne=-1}else ne=-1;if(X[W][6])ne===-1&&(ne=fe);else if(ne>-1){for(we=ne;we<fe;we++)D[we]=ve;ne=-1}le[fe]==="B"&&(D[fe]=0),q.hiLevel|=ve}s&&function(de,oe,he){for(var ie=0;ie<he;ie++)if(de[ie]==="S"){oe[ie]=I;for(var ge=ie-1;ge>=0&&de[ge]==="WS";ge--)oe[ge]=I}}(le,D,Y)},B=function(k,D,q,se,we){if(!(we.hiLevel<k)){if(k===1&&I===1&&!i)return D.reverse(),void(q&&q.reverse());for(var fe,ve,ce,ne,Y=D.length,W=0;W<Y;){if(se[W]>=k){for(ce=W+1;ce<Y&&se[ce]>=k;)ce++;for(ne=W,ve=ce-1;ne<ve;ne++,ve--)fe=D[ne],D[ne]=D[ve],D[ve]=fe,q&&(fe=q[ne],q[ne]=q[ve],q[ve]=fe);W=ce}W++}}},$=function(k,D,q){var se=k.split(""),we={hiLevel:I};return q||(q=[]),L(se,q,we),function(fe,ve,ce){if(ce.hiLevel!==0&&f)for(var ne,Y=0;Y<fe.length;Y++)ve[Y]===1&&(ne=T.indexOf(fe[Y]))>=0&&(fe[Y]=T[ne+1])}(se,q,we),B(2,se,D,q,we),B(1,se,D,q,we),se.join("")};return this.__bidiEngine__.doBidiReorder=function(k,D,q){if(function(we,fe){if(fe)for(var ve=0;ve<we.length;ve++)fe[ve]=ve;a===void 0&&(a=K(we)),d===void 0&&(d=K(we))}(k,D),o||!c||d)if(o&&c&&a^d)I=a?1:0,k=F(k,D,q);else if(!o&&c&&d)I=a?1:0,k=$(k,D,q),k=F(k,D);else if(!o||a||c||d){if(o&&!c&&a^d)k=F(k,D),a?(I=0,k=$(k,D,q)):(I=1,k=$(k,D,q),k=F(k,D));else if(o&&a&&!c&&d)I=1,k=$(k,D,q),k=F(k,D);else if(!o&&!c&&a^d){var se=f;a?(I=1,k=$(k,D,q),I=0,f=!1,k=$(k,D,q),f=se):(I=0,k=$(k,D,q),k=F(k,D),I=1,f=!1,k=$(k,D,q),f=se,k=F(k,D))}}else I=0,k=$(k,D,q);else I=a?1:0,k=$(k,D,q);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,a=k.isInputRtl,d=k.isOutputRtl,f=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Dt),Dt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new cd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new zG(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new PG(this.contents),this.head=new NG(this),this.name=new DG(this),this.cmap=new UN(this),this.toUnicode={},this.hhea=new IG(this),this.maxp=new OG(this),this.hmtx=new MG(this),this.post=new LG(this),this.os2=new RG(this),this.loca=new UG(this),this.glyf=new FG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,c,d;for(d=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var nl,cd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),PG=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,c,d,f,h,m,g,b,S;for(S in g=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(g)/c),o=Math.floor(h/c),f=16*g-h,(i=new cd).writeInt(this.scalarType),i.writeShort(g),i.writeShort(h),i.writeShort(o),i.writeShort(f),s=16*g,d=i.pos+s,a=null,b=[],n)for(m=n[S],i.writeString(S),i.writeInt(t(m)),i.writeInt(d),i.writeInt(m.length),b=b.concat(m),S==="head"&&(a=d),d+=m.length;d%4;)b.push(0),d++;return i.write(b),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=zN.call(n);n.length%4;)n.push(0);for(s=new cd(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),kG={}.hasOwnProperty,ql=function(t,e){for(var n in e)kG.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};nl=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var NG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new cd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),dA=function(){function t(e,n){var r,i,s,o,a,c,d,f,h,m,g,b,S,T,E,C,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),m=g/2,e.pos+=6,s=function(){var j,K;for(K=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)K.push(e.readUInt16());return K}(),e.pos+=2,S=function(){var j,K;for(K=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)K.push(e.readUInt16());return K}(),d=function(){var j,K;for(K=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)K.push(e.readUInt16());return K}(),f=function(){var j,K;for(K=[],c=j=0;0<=m?j<m:j>m;c=0<=m?++j:--j)K.push(e.readUInt16());return K}(),i=(this.length-e.pos+this.offset)/2,a=function(){var j,K;for(K=[],c=j=0;0<=i?j<i:j>i;c=0<=i?++j:--j)K.push(e.readUInt16());return K}(),c=E=0,I=s.length;E<I;c=++E)for(T=s[c],r=C=b=S[c];b<=T?C<=T:C>=T;r=b<=T?++C:--C)f[c]===0?o=r+d[c]:(o=a[f[c]/2+(r-b)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,i,s,o,a,c,d,f,h,m,g,b,S,T,E,C,I,j,K,ae,F,L,B,$,k,D,q,se,we,fe,ve,ce,ne,Y,W,V,X,le,de,oe,he,ie,ge,Re,De,$e;switch(se=new cd,o=Object.keys(e).sort(function(Ye,tt){return Ye-tt}),n){case"macroman":for(S=0,T=function(){var Ye=[];for(b=0;b<256;++b)Ye.push(0);return Ye}(),C={0:0},s={},we=0,ne=o.length;we<ne;we++)C[ge=e[i=o[we]]]==null&&(C[ge]=++S),s[i]={old:e[i],new:C[e[i]]},T[i]=C[e[i]];return se.writeUInt16(1),se.writeUInt16(0),se.writeUInt32(12),se.writeUInt16(0),se.writeUInt16(262),se.writeUInt16(0),se.write(T),{charMap:s,subtable:se.data,maxGlyphID:S+1};case"unicode":for(D=[],h=[],I=0,C={},r={},E=d=null,fe=0,Y=o.length;fe<Y;fe++)C[K=e[i=o[fe]]]==null&&(C[K]=++I),r[i]={old:K,new:C[K]},a=C[K]-i,E!=null&&a===d||(E&&h.push(E),D.push(i),d=a),E=i;for(E&&h.push(E),h.push(65535),D.push(65535),$=2*(B=D.length),L=2*Math.pow(Math.log(B)/Math.LN2,2),m=Math.log(L/2)/Math.LN2,F=2*B-L,c=[],ae=[],g=[],b=ve=0,W=D.length;ve<W;b=++ve){if(k=D[b],f=h[b],k===65535){c.push(0),ae.push(0);break}if(k-(q=r[k].new)>=32768)for(c.push(0),ae.push(2*(g.length+B-b)),i=ce=k;k<=f?ce<=f:ce>=f;i=k<=f?++ce:--ce)g.push(r[i].new);else c.push(q-k),ae.push(0)}for(se.writeUInt16(3),se.writeUInt16(1),se.writeUInt32(12),se.writeUInt16(4),se.writeUInt16(16+8*B+2*g.length),se.writeUInt16(0),se.writeUInt16($),se.writeUInt16(L),se.writeUInt16(m),se.writeUInt16(F),he=0,V=h.length;he<V;he++)i=h[he],se.writeUInt16(i);for(se.writeUInt16(0),ie=0,X=D.length;ie<X;ie++)i=D[ie],se.writeUInt16(i);for(Re=0,le=c.length;Re<le;Re++)a=c[Re],se.writeUInt16(a);for(De=0,de=ae.length;De<de;De++)j=ae[De],se.writeUInt16(j);for($e=0,oe=g.length;$e<oe;$e++)S=g[$e],se.writeUInt16(S);return{charMap:r,subtable:se.data,maxGlyphID:I+1}}},t}(),UN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new dA(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=dA.encode(n,r),(s=new cd).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),IG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),RG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),LG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,c,d;for(d=[],o=a=0,c=this.file.maxp.numGlyphs;0<=c?a<c:a>c;o=0<=c?++a:--a)d.push(n.readUInt32());return d}).call(this)}},e}(),jG=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},DG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,c,d,f,h,m,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(d={},o=h=0,m=i.length;h<m;o=++h)s=i[o],n.pos=s.offset,f=n.readString(s.length),a=new jG(f,s),d[g=s.nameID]==null&&(d[g]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),OG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),MG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,c,d;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)h.push(n.readInt16());return h}(),this.widths=(function(){var f,h,m,g;for(g=[],f=0,h=(m=this.metrics).length;f<h;f++)o=m[f],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],d=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),zN=[].slice,FG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,c,d,f,h,m;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(c=new cd(r.read(s))).readShort(),f=c.readShort(),m=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[n]=a===-1?new BG(c,f,m,d,h):new VG(c,a,f,m,d,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,c,d;for(a=[],o=[],c=0,d=r.length;c<d;c++)s=n[r[c]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),VG=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),BG=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new cd(zN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),UG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,nl),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var c=this.offsets[a],d=this.offsets[a+1]-c;d>0&&(s+=d)}for(var f=new Array(4*i.length),h=0;h<i.length;++h)f[4*h+3]=255&i[h],f[4*h+2]=(65280&i[h])>>8,f[4*h+1]=(16711680&i[h])>>16,f[4*h]=(4278190080&i[h])>>24;return f},e}(),zG=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,c;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,c,d,f,h,m,g,b,S,T,E;for(i in r=UN.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},E=r.charMap)g[(c=E[i]).old]=c.new;for(b in m=r.maxGlyphID,o)b in g||(g[b]=m++);return f=function(C){var I,j;for(I in j={},C)j[C[I]]=I;return j}(g),h=Object.keys(f).sort(function(C,I){return C-I}),S=function(){var C,I,j;for(j=[],C=0,I=h.length;C<I;C++)a=h[C],j.push(f[a]);return j}(),s=this.font.glyf.encode(o,S,g),d=this.font.loca.encode(s.offsets,S),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t}();Dt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,c,d;for(d=[],a=0,c=n.length;a<c;a++)r=n[a],d.push(e.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function qN(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():s,d=a*c,f=/\r\n|\r|\n/g,h="",m=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(f):t,m=h.length||1),n+=a*(2-s),r.valign==="middle"?n-=m/2*d:r.valign==="bottom"&&(n-=m*d),r.halign==="center"||r.halign==="right"){var g=a;if(r.halign==="center"&&(g*=.5),h&&m>=1){for(var b=0;b<h.length;b++)i.text(h[b],e-i.getStringUnitWidth(h[b])*g,n),n+=d;return i}e-=i.getStringUnitWidth(t)*g}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var fA={},kh=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:fA=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){a=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),a=d[0])}if(this.jsPDFDocument.setFont(c,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return fA||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Ww=function(t,e){return Ww=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ww(t,e)};function WN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ww(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var $N=function(t){WN(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function qG(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function WG(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function uy(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function HN(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=GN(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function GN(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function pv(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function KN(t,e){var n=pv(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function $G(t,e,n,r,i){var s={},o=1.3333333333333333,a=f2(e,function(I){return i.getComputedStyle(I).backgroundColor});a!=null&&(s.fillColor=a);var c=f2(e,function(I){return i.getComputedStyle(I).color});c!=null&&(s.textColor=c);var d=GG(r,n);d&&(s.cellPadding=d);var f="borderTopColor",h=o*n,m=r.borderTopWidth;if(r.borderBottomWidth===m&&r.borderRightWidth===m&&r.borderLeftWidth===m){var g=(parseFloat(m)||0)/h;g&&(s.lineWidth=g)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var b=f2(e,function(I){return i.getComputedStyle(I)[f]});b!=null&&(s.lineColor=b);var S=["left","right","center","justify"];S.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),S=["middle","bottom","top"],S.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var T=parseInt(r.fontSize||"");isNaN(T)||(s.fontSize=T/o);var E=HG(r);E&&(s.fontStyle=E);var C=(r.fontFamily||"").toLowerCase();return t.indexOf(C)!==-1&&(s.font=C),s}function HG(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function f2(t,e){var n=YN(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function YN(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:YN(t.parentElement,e):n}function GG(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=pv(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function XN(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),f=[],h=[],m=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:f,body:h,foot:m};for(var g=0;g<a.rows.length;g++){var b=a.rows[g],S=(o=(s=b?.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),T=KG(c,d,n,b,r,i);T&&(S==="thead"?f.push(T):S==="tfoot"?m.push(T):h.push(T))}return{head:f,body:h,foot:m}}function KG(t,e,n,r,i,s){for(var o=new $N(r),a=0;a<r.cells.length;a++){var c=r.cells[a],d=n.getComputedStyle(c);if(i||d.display!=="none"){var f=void 0;s&&(f=$G(t,c,e,d,n)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:YG(c)})}}var h=n.getComputedStyle(r);if(o.length>0&&(i||h.display!=="none"))return o}function YG(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function XG(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Sc(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])}return s}function QN(t,e){var n=new kh(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();XG(i,r,e);var s=Sc({},i,r,e),o;typeof window<"u"&&(o=window);var a=QG(i,r,e),c=JG(i,r,e),d=ZG(n,s),f=tK(n,s,o);return{id:e.tableId,content:f,hooks:c,styles:a,settings:d}}function QG(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var d=t[c],f=e[c],h=n[c];r.columnStyles=Sc({},d,f,h)}else{var m=[t,e,n],g=m.map(function(b){return b[c]||{}});r[c]=Sc({},g[0],g[1],g[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function JG(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function ZG(t,e){var n,r,i,s,o,a,c,d,f,h,m,g,b=pv(e.margin,40/t.scaleFactor()),S=(n=eK(t,e.startY))!==null&&n!==void 0?n:b.top,T;e.showFoot===!0?T="everyPage":e.showFoot===!1?T="never":T=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var C=(s=e.useCss)!==null&&s!==void 0?s:!1,I=e.theme||(C?"plain":"striped"),j=!!e.horizontalPageBreak,K=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:C,theme:I,startY:S,margin:b,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:E,showFoot:T,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:j,horizontalPageBreakRepeat:K,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function eK(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&n?.finalY!=null?n.finalY+20/r:null}function tK(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=XN(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||nK(r,i,s);return{columns:c,head:r,body:i,foot:s}}function nK(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=a?.colSpan||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(r)?d=i.length:d=s+(c>0?"_".concat(c):"");var f={dataKey:d};i.push(f)}}),i}var $w=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),rK=function(t){WN(e,t);function e(n,r,i,s,o,a){var c=t.call(this,n,r,a)||this;return c.cell=i,c.row=s,c.column=o,c.section=s.section,c}return e}($w),iK=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,c=n;a<c.length;a++){var d=c[a],f=new rK(e,this,r,i,s,o),h=d(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new $w(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new $w(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),JN=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof $N&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+a;return d>i?d:i},0)},t}(),ZN=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=pv(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),sK=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function oK(t,e){aK(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=Hw(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=Hw(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),cK(e),uK(e,t),lK(e)}function aK(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=KN(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var c=a[o],d=s.cells[c.index];if(d){var f=e.hooks.didParseCell;e.callCellHooks(t,f,d,s,c,null);var h=d.padding("horizontal");d.contentWidth=uy(d.text,d.styles,t)+h;var m=uy(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=m+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var g=10/n;d.minWidth=d.styles.minCellWidth||g,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var c=a[o],d=s.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=f.cellWidth||f.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function Hw(t,e,n){for(var r=e,i=t.reduce(function(g,b){return g+b.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,c=r*a,d=o.width+c,f=n(o),h=d<f?f:d;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(g){return e<0?g.width>n(g):!0});m.length&&(e=Hw(m,e,n))}return e}function lK(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var c=a[o],d=e[c.index];if(n>1)n--,delete s.cells[c.index];else if(d)d.cell.height+=s.height,n=d.cell.colSpan,delete s.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var h=r.length-i,m=f.rowSpan>h?h:f.rowSpan;e[c.index]={cell:f,left:m,row:s}}}}}function cK(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var c=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=c.width,delete r.cells[c.index];else if(i){var d=i;delete r.cells[c.index],i=null,d.width=c.width+s}else{var d=r.cells[c.index];if(!d)continue;if(o=d.colSpan,s=0,d.colSpan>1){i=d,s+=c.width;continue}d.width=c.width+s}}}function uK(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var c=a[o],d=s.cells[c.index];if(d){e.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,f+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=hA(d.text,f,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=hA(d.text,f,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var h=d.styles.overflow(d.text,f);typeof h=="string"?d.text=[h]:d.text=h}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<m*d.rowSpan?n={height:m,count:d.rowSpan}:n&&n.count>0&&n.height>m&&(m=n.height),m>s.height&&(s.height=m)}}n.count--}}function hA(t,e,n,r,i){return t.map(function(s){return dK(s,e,n,r,i)})}function dK(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=uy(t,n,r))return t;for(;e<uy(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function eI(t,e){var n=new kh(t),r=fK(e,n.scaleFactor()),i=new iK(e,r);return oK(n,i),n.applyStyles(n.userStyles),i}function fK(t,e){var n=t.content,r=pK(n.columns);if(n.head.length===0){var i=pA(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=pA(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:h2("head",n.head,r,o,s,e),body:h2("body",n.body,r,o,s,e),foot:h2("foot",n.foot,r,o,s,e)}}function h2(t,e,n,r,i,s){var o={},a=e.map(function(c,d){for(var f=0,h={},m=0,g=0,b=0,S=n;b<S.length;b++){var T=S[b];if(o[T.index]==null||o[T.index].left===0)if(g===0){var E=void 0;Array.isArray(c)?E=c[T.index-m-f]:E=c[T.dataKey];var C={};typeof E=="object"&&!Array.isArray(E)&&(C=E?.styles||{});var I=mK(t,T,d,i,r,s,C),j=new ZN(E,I,t);h[T.dataKey]=j,h[T.index]=j,g=j.colSpan-1,o[T.index]={left:j.rowSpan-1,times:g}}else g--,m++;else o[T.index].left--,g=o[T.index].times,f++}return new JN(c,d,t,h)});return a}function pA(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=hK(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function hK(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function pK(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new sK(i,e,n)})}function mK(t,e,n,r,i,s,o){var a=WG(r),c;t==="head"?c=i.headStyles:t==="body"?c=i.bodyStyles:t==="foot"&&(c=i.footStyles);var d=Sc({},a.table,a[t],i.styles,c),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},h=t==="body"?f:{},m=t==="body"&&n%2===0?Sc({},a.alternateRow,i.alternateRowStyles):{},g=qG(s),b=Sc({},g,d,m,h);return Sc(b,o)}function gK(t,e,n){var r;n===void 0&&(n={});var i=KN(t,e),s=new Map,o=[],a=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var g=e.columns.find(function(b){return b.dataKey===m||b.index===m});g&&!s.has(g.index)&&(s.set(g.index,!0),o.push(g.index),a.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var d=!0,f=(r=n?.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(s.has(f)){f++;continue}var h=e.columns[f].wrappedWidth;if(d||i>=h)d=!1,o.push(f),a.push(e.columns[f]),i-=h;else break;f++}return{colIndexes:o,columns:a,lastIndex:f-1}}function yK(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=gK(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function tI(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(m,g){return m+g.height},0);a+=d}var f=new kh(t);(n.pageBreak==="always"||n.startY!=null&&a>f.pageSize().height)&&(rI(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var h=Sc({},s);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?vK(f,e,h,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(m){return Oc(f,e,m,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(m,g){var b=g===e.body.length-1;dy(f,e,m,b,h,s,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(m){return Oc(f,e,m,s,e.columns)})),HN(f,e,h,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function vK(t,e,n,r){var i=yK(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,f){t.applyStyles(t.userStyles),f>0?tm(t,e,n,r,d.columns,!0):mA(t,e,r,d.columns),wK(t,e,n,r,d.columns),p2(t,e,r,d.columns)});else for(var o=-1,a=i[0],c=function(){var d=o;if(a){t.applyStyles(t.userStyles);var f=a.columns;o>=0?tm(t,e,n,r,f,!0):mA(t,e,r,f),d=gA(t,e,o+1,r,f),p2(t,e,r,f)}var h=d-o;i.slice(1).forEach(function(m){t.applyStyles(t.userStyles),tm(t,e,n,r,m.columns,!0),gA(t,e,o+1,r,m.columns,h),p2(t,e,r,m.columns)}),o=d};o<e.body.length-1;)c()}function mA(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Oc(t,e,s,n,r)})}function wK(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;dy(t,e,s,a,n,r,i)})}function gA(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(c,d){var f=n+d===e.body.length-1,h=nI(t,e,f,r);c.canEntireRowFit(h,i)&&(Oc(t,e,c,r,i),a=n+d)}),a}function p2(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Oc(t,e,s,n,r)})}function xK(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function bK(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var c=a[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new ZN(d.raw,d.styles,d.section);f=Sc(f,d),f.text=[];var h=xK(d,e,r);d.text.length>h&&(f.text=d.text.splice(h,d.text.length));var m=r.scaleFactor(),g=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(m,g),d.contentHeight>=e&&(d.contentHeight=e,f.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),f.contentHeight=f.getContentHeight(m,g),f.contentHeight>s&&(s=f.contentHeight),i[c.index]=f}}var b=new JN(t.raw,-1,t.section,i,!0);b.height=s;for(var S=0,T=n.columns;S<T.length;S++){var c=T[S],f=b.cells[c.index];f&&(f.height=b.height);var d=t.cells[c.index];d&&(d.height=t.height)}return b}function _K(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,t),d=c<n;if(c>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>a;return h?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function dy(t,e,n,r,i,s,o){var a=nI(t,e,r,s);if(n.canEntireRowFit(a,o))Oc(t,e,n,s,o);else if(_K(t,n,a,e)){var c=bK(n,a,e,t);Oc(t,e,n,s,o),tm(t,e,i,s,o),dy(t,e,c,r,i,s,o)}else tm(t,e,i,s,o),dy(t,e,n,r,i,s,o)}function Oc(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],c=n.cells[a.index];if(!c){r.x+=a.width;continue}t.applyStyles(c.styles),c.x=r.x,c.y=r.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,n,a,r);if(d===!1){r.x+=a.width;continue}SK(t,c,r);var f=c.getTextPos();qN(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,a,r),r.x+=a.width}r.y+=n.height}function SK(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=GN(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),TK(t,e,n,r.lineWidth))}function TK(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.right,i,s,o,a));function c(d,f,h,m,g){t.getDocument().setLineWidth(d),t.getDocument().line(f,h,m,g,"S")}}function nI(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function tm(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Oc(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;HN(t,e,n,r),rI(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Oc(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function rI(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function EK(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=QN(this,r),s=eI(this,i);return tI(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){qN(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return kh.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){kh.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new kh(this),s=XN(i,e,window,n,!1),o=s.head,a=s.body,c=((r=o[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:c,rows:a,data:a}}}var m2;function AK(t,e){var n=QN(t,e),r=eI(t,n);tI(t,r)}try{if(typeof window<"u"&&window){var yA=window,vA=yA.jsPDF||((m2=yA.jspdf)===null||m2===void 0?void 0:m2.jsPDF);vA&&EK(vA)}}catch(t){console.error("Could not apply autoTable plugin",t)}const iI=6048e5,CK=864e5,sI=6e4,oI=36e5,wA=Symbol.for("constructDateFrom");function Mc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&wA in t?t[wA](e):t instanceof Date?new t.constructor(e):new Date(e)}function Mo(t,e){return Mc(e||t,t)}let PK={};function mv(){return PK}function Sm(t,e){const n=mv(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Mo(t,e?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function fy(t,e){return Sm(t,{...e,weekStartsOn:1})}function aI(t,e){const n=Mo(t,e?.in),r=n.getFullYear(),i=Mc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=fy(i),o=Mc(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=fy(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function xA(t){const e=Mo(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function kK(t,...e){const n=Mc.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function bA(t,e){const n=Mo(t,e?.in);return n.setHours(0,0,0,0),n}function NK(t,e,n){const[r,i]=kK(n?.in,t,e),s=bA(r),o=bA(i),a=+s-xA(s),c=+o-xA(o);return Math.round((a-c)/CK)}function IK(t,e){const n=aI(t,e),r=Mc(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),fy(r)}function RK(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function LK(t){return!(!RK(t)&&typeof t!="number"||isNaN(+Mo(t)))}function jK(t,e){const n=Mo(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const DK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OK=(t,e,n)=>{let r;const i=DK[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function g2(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const MK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BK={date:g2({formats:MK,defaultWidth:"full"}),time:g2({formats:FK,defaultWidth:"full"}),dateTime:g2({formats:VK,defaultWidth:"full"})},UK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zK=(t,e,n,r)=>UK[t];function kp(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const qK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},WK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$K={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},XK={ordinalNumber:YK,era:kp({values:qK,defaultWidth:"wide"}),quarter:kp({values:WK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:kp({values:$K,defaultWidth:"wide"}),day:kp({values:HK,defaultWidth:"wide"}),dayPeriod:kp({values:GK,defaultWidth:"wide",formattingValues:KK,defaultFormattingWidth:"wide"})};function Np(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?JK(a,h=>h.test(o)):QK(a,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function QK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function JK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function ZK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const eY=/^(\d+)(th|st|nd|rd)?/i,tY=/\d+/i,nY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rY={any:[/^b/i,/^(a|c)/i]},iY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sY={any:[/1/i,/2/i,/3/i,/4/i]},oY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fY={ordinalNumber:ZK({matchPattern:eY,parsePattern:tY,valueCallback:t=>parseInt(t,10)}),era:Np({matchPatterns:nY,defaultMatchWidth:"wide",parsePatterns:rY,defaultParseWidth:"any"}),quarter:Np({matchPatterns:iY,defaultMatchWidth:"wide",parsePatterns:sY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Np({matchPatterns:oY,defaultMatchWidth:"wide",parsePatterns:aY,defaultParseWidth:"any"}),day:Np({matchPatterns:lY,defaultMatchWidth:"wide",parsePatterns:cY,defaultParseWidth:"any"}),dayPeriod:Np({matchPatterns:uY,defaultMatchWidth:"any",parsePatterns:dY,defaultParseWidth:"any"})},hY={code:"en-US",formatDistance:OK,formatLong:BK,formatRelative:zK,localize:XK,match:fY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pY(t,e){const n=Mo(t,e?.in);return NK(n,jK(n))+1}function mY(t,e){const n=Mo(t,e?.in),r=+fy(n)-+IK(n);return Math.round(r/iI)+1}function lI(t,e){const n=Mo(t,e?.in),r=n.getFullYear(),i=mv(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Mc(e?.in||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Sm(o,e),c=Mc(e?.in||t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const d=Sm(c,e);return+n>=+a?r+1:+n>=+d?r:r-1}function gY(t,e){const n=mv(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=lI(t,e),s=Mc(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Sm(s,e)}function yY(t,e){const n=Mo(t,e?.in),r=+Sm(n,e)-+gY(n,e);return Math.round(r/iI)+1}function qn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Nu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return qn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):qn(n+1,2)},d(t,e){return qn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return qn(t.getHours()%12||12,e.length)},H(t,e){return qn(t.getHours(),e.length)},m(t,e){return qn(t.getMinutes(),e.length)},s(t,e){return qn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return qn(i,e.length)}},ih={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_A={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Nu.y(t,e)},Y:function(t,e,n,r){const i=lI(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return qn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):qn(s,e.length)},R:function(t,e){const n=aI(t);return qn(n,e.length)},u:function(t,e){const n=t.getFullYear();return qn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return qn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return qn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Nu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return qn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=yY(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):qn(i,e.length)},I:function(t,e,n){const r=mY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):qn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Nu.d(t,e)},D:function(t,e,n){const r=pY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):qn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return qn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return qn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return qn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ih.noon:r===0?i=ih.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ih.evening:r>=12?i=ih.afternoon:r>=4?i=ih.morning:i=ih.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Nu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Nu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):qn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):qn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Nu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Nu.s(t,e)},S:function(t,e){return Nu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return TA(r);case"XXXX":case"XX":return Ud(r);case"XXXXX":case"XXX":default:return Ud(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return TA(r);case"xxxx":case"xx":return Ud(r);case"xxxxx":case"xxx":default:return Ud(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+SA(r,":");case"OOOO":default:return"GMT"+Ud(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+SA(r,":");case"zzzz":default:return"GMT"+Ud(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return qn(r,e.length)},T:function(t,e,n){return qn(+t,e.length)}};function SA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+qn(s,2)}function TA(t,e){return t%60===0?(t>0?"-":"+")+qn(Math.abs(t)/60,2):Ud(t,e)}function Ud(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=qn(Math.trunc(r/60),2),s=qn(r%60,2);return n+i+e+s}const EA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return EA(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",EA(r,e)).replace("{{time}}",cI(i,e))},wY={p:cI,P:vY},xY=/^D+$/,bY=/^Y+$/,_Y=["D","DD","YY","YYYY"];function SY(t){return xY.test(t)}function TY(t){return bY.test(t)}function EY(t,e,n){const r=AY(t,e,n);if(console.warn(r),_Y.includes(t))throw new RangeError(r)}function AY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kY=/^'([^]*?)'?$/,NY=/''/g,IY=/[a-zA-Z]/;function Yd(t,e,n){const r=mv(),i=r.locale??hY,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Mo(t,n?.in);if(!LK(a))throw new RangeError("Invalid time value");let c=e.match(PY).map(f=>{const h=f[0];if(h==="p"||h==="P"){const m=wY[h];return m(f,i.formatLong)}return f}).join("").match(CY).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const h=f[0];if(h==="'")return{isToken:!1,value:RY(f)};if(_A[h])return{isToken:!0,value:f};if(h.match(IY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(f=>{if(!f.isToken)return f.value;const h=f.value;(TY(h)||SY(h))&&EY(h,e,String(t));const m=_A[h[0]];return m(a,h,i.localize,d)}).join("")}function RY(t){const e=t.match(kY);return e?e[1].replace(NY,"'"):t}function AA(t,e){const n=()=>Mc(e?.in,NaN),i=OY(t);let s;if(i.date){const d=MY(i.date,2);s=FY(d.restDateString,d.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,c;if(i.time&&(a=VY(i.time),isNaN(a)))return n();if(i.timezone){if(c=BY(i.timezone),isNaN(c))return n()}else{const d=new Date(o+a),f=Mo(0,e?.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Mo(o+a+c,e?.in)}const Zg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},LY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,DY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function OY(t){const e={},n=t.split(Zg.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Zg.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Zg.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Zg.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function MY(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function FY(t,e){if(e===null)return new Date(NaN);const n=t.match(LY);if(!n)return new Date(NaN);const r=!!n[4],i=Ip(n[1]),s=Ip(n[2])-1,o=Ip(n[3]),a=Ip(n[4]),c=Ip(n[5])-1;if(r)return $Y(e,a,c)?UY(e,a,c):new Date(NaN);{const d=new Date(0);return!qY(e,s,o)||!WY(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,o)),d)}}function Ip(t){return t?parseInt(t):1}function VY(t){const e=t.match(jY);if(!e)return NaN;const n=y2(e[1]),r=y2(e[2]),i=y2(e[3]);return HY(n,r,i)?n*oI+r*sI+i*1e3:NaN}function y2(t){return t&&parseFloat(t.replace(",","."))||0}function BY(t){if(t==="Z")return 0;const e=t.match(DY);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return GY(r,i)?n*(r*oI+i*sI):NaN}function UY(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const zY=[31,null,31,30,31,30,31,31,30,31,30,31];function uI(t){return t%400===0||t%4===0&&t%100!==0}function qY(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(zY[e]||(uI(t)?29:28))}function WY(t,e){return e>=1&&e<=(uI(t)?366:365)}function $Y(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function HY(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function GY(t,e){return e>=0&&e<=59}const KY=`<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60">
  <circle cx="30" cy="30" r="30" fill="#1976D2"/>
  <g transform="translate(13,13)">
    <path fill="#fff" d="M6 36a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm22.68-5.6l2.74-4.92A1.5 1.5 0 0 0 30 24H18.42l-.46-2H32a1 1 0 0 0 0-2H17.56l-.94-4H11a1 1 0 1 0 0 2h4.38l3.02 12.07A4 4 0 1 0 21 34h10a4 4 0 0 0 3.68-2.6zM23 34a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm8 2a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
  </g>
</svg>`;function YY(t,e=60,n=60){return new Promise(r=>{const i=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(i),o=new window.Image;o.onload=function(){const a=document.createElement("canvas");a.width=e,a.height=n,a.getContext("2d").drawImage(o,0,0,e,n),URL.revokeObjectURL(s),r(a.toDataURL("image/png"))},o.src=s})}function XY(){return z.useCallback(async t=>{const e=new Dt({unit:"pt",format:"a4"}),n=40;let r=n;const i=await YY(KY,60,60);i&&e.addImage(i,"PNG",n,r,60,60),e.setFontSize(22),e.setTextColor("#1976D2"),e.setFont("helvetica","bold"),e.text("WishlistCart",n+70,r+36),r+=70,e.setFontSize(14),e.setTextColor("#333"),e.setFont("helvetica","normal"),e.text("Thank you for shopping with WishlistCart!",n,r),r+=28,e.setFontSize(17),e.setFont("helvetica","bold"),e.text("Invoice",n,r),e.setFontSize(11),e.setFont("helvetica","normal");const s=e.internal.pageSize.width-n;e.text(`Order ID: ${t.id}`,s,n+30,{align:"right",maxWidth:240});const o=t.createdAt?.toDate?.();e.text(`Date: ${o?Yd(o,"PPPp"):"N/A"}`,s,n+50,{align:"right",maxWidth:240}),r+=24;const a=t.address||{},c=[a.fullName||"",a.address||"",`${a.city||""} - ${a.postalCode||""}`,a.country||"",a.email?`Email: ${a.email}`:""].filter(Boolean);e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor("#222"),e.text("Shipping Address:",n,r),r+=18,e.setFontSize(11),e.setFont("helvetica","normal"),e.text(c,n,r,{maxWidth:300,lineHeightFactor:1.2}),r+=c.length*14+22;const d=(t.items||[]).map(h=>[h.name,h.quantity?.toString()??"",`${Number(h.price).toFixed(2)}`,`${(h.price*h.quantity).toFixed(2)}`]);AK(e,{startY:r,head:[["Item","Qty","Unit Price","Total"]],body:d,styles:{fontSize:11,cellPadding:6,overflow:"linebreak"},headStyles:{fillColor:[25,118,210],textColor:255,fontStyle:"bold"},columnStyles:{1:{halign:"center",cellWidth:30},2:{halign:"right",cellWidth:70},3:{halign:"right",cellWidth:70}},margin:{left:n,right:n},didDrawPage:()=>{const h=e.internal.pageSize.height-30;e.setFontSize(9),e.setTextColor("#888"),e.text("If you have any questions about your order, please contact support@wishlistcart.com",n,h,{maxWidth:520})}});const f=e.lastAutoTable.finalY||r+70;e.setFontSize(14),e.setTextColor("#111"),e.setFont("helvetica","bold"),e.text(`Total Amount Paid: ${Number(t.total).toFixed(2)}`,n,f+36),e.save(`WishlistCart_Invoice_Order_${t.id}.pdf`)},[])}const e0=["Ordered","Processing","Shipped","Out For Delivery","Delivered","Cancelled"];function CA(){const{user:t}=Fo(),e=qH("/logo.png"),n=XY(),{toast:r}=co(),[i,s]=z.useState("all"),[o,a]=z.useState({startDate:null,endDate:null}),c=z.useMemo(()=>{const j={};return i&&i.toLowerCase()!=="all"&&(j.status=i),o.startDate&&(j.startDate=o.startDate),o.endDate&&(j.endDate=o.endDate),j},[i,o]),{orders:d,loading:f,error:h,loadingMore:m,hasMore:g,loadMore:b,cancelOrder:S,cancelLoading:T}=zH(t?.uid,c);if(!t)return v.jsx("div",{className:"text-center mt-10 text-red-500 font-semibold",children:"Please log in to view your orders."});const E=d,C=j=>["Processing","Ordered","Shipped"].includes(j),I=async j=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await S(j),r({title:"Order Cancelled",description:"Your order has been successfully cancelled.",variant:"success"})}catch{r({title:"Error",description:"Failed to cancel the order.",variant:"destructive"})}};return v.jsxs("main",{className:"w-full max-w-5xl mx-auto px-2 sm:px-4 md:px-6 py-3 sm:py-6 flex-1 flex flex-col space-y-4 sm:space-y-6 text-gray-800 dark:text-gray-100",children:[v.jsxs("section",{className:"flex flex-col sm:flex-row flex-wrap gap-2 sm:gap-4 items-stretch sm:items-center mb-4 sm:mb-6",children:[v.jsxs("label",{className:"flex items-center gap-2 whitespace-nowrap font-medium",children:[v.jsx("span",{children:"Status:"}),v.jsxs("select",{className:"w-full sm:w-auto border rounded p-1 dark:bg-gray-800 dark:border-gray-600",value:i,onChange:j=>s(j.target.value),children:[v.jsx("option",{value:"all",children:"All"}),e0.map(j=>v.jsx("option",{value:j,children:j},j))]})]}),v.jsxs("label",{className:"flex items-center gap-2",children:["Start Date:",v.jsx("input",{type:"date",className:"w-full sm:w-auto border rounded p-1 dark:bg-gray-800 dark:border-gray-600",value:o.startDate?Yd(o.startDate,"yyyy-MM-dd"):"",onChange:j=>a(K=>({...K,startDate:j.target.value?AA(j.target.value):null}))})]}),v.jsxs("label",{className:"flex items-center gap-2",children:["End Date:",v.jsx("input",{type:"date",className:"w-full sm:w-auto border rounded p-1 dark:bg-gray-800 dark:border-gray-600",value:o.endDate?Yd(o.endDate,"yyyy-MM-dd"):"",onChange:j=>a(K=>({...K,endDate:j.target.value?AA(j.target.value):null}))})]}),v.jsx("button",{className:"ml-0 sm:ml-2 text-blue-600 dark:text-blue-400 underline",onClick:()=>{s("all"),a({startDate:null,endDate:null})},type:"button",children:"Clear Filters"})]}),f&&d.length===0&&v.jsx("p",{className:"p-10 text-center text-gray-500",children:"Loading orders..."}),h&&v.jsxs("p",{className:"p-10 text-center text-red-600 dark:text-red-400",children:["Error: ",h]}),!f&&!h&&d.length===0&&v.jsx("p",{className:"p-10 text-center text-gray-600 dark:text-gray-400",children:"No orders found."}),v.jsx("section",{className:"space-y-5 sm:space-y-8 flex-grow overflow-auto",children:E.map(j=>{const K=j.createdAt?.toDate?j.createdAt.toDate():new Date(j.createdAt),ae=Yd(K,"PPP p"),F=e0.indexOf(j.status);return v.jsxs("article",{className:"bg-white dark:bg-gray-800 p-3 sm:p-6 rounded shadow space-y-3 sm:space-y-4 border border-gray-200 dark:border-gray-700",children:[v.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[v.jsxs("h2",{className:"text-lg sm:text-xl font-semibold break-all",children:["Order #",j.id]}),v.jsx("span",{className:`px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${j.status==="Processing"?"bg-indigo-100 dark:bg-indigo-800/30 text-indigo-800 dark:text-indigo-200":j.status==="Ordered"?"bg-blue-100 dark:bg-blue-800/30 text-blue-800 dark:text-blue-200":j.status==="Shipped"?"bg-yellow-100 dark:bg-yellow-800/30 text-yellow-800 dark:text-yellow-200":j.status==="Out For Delivery"?"bg-purple-600 text-white":j.status==="Delivered"?"bg-green-100 dark:bg-green-800/30 text-green-800 dark:text-green-200":j.status==="Cancelled"?"bg-red-100 dark:bg-red-800/30 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:j.status})]}),v.jsxs("div",{className:"text-xs sm:text-sm space-y-1.5 sm:space-y-2",children:[v.jsxs("div",{children:[v.jsx("strong",{children:"Date:"})," ",ae]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Shipping Address:"}),v.jsxs("address",{className:"not-italic ml-1.5 sm:ml-3 space-y-0.5 break-all",children:[v.jsx("div",{children:j.address?.fullName}),v.jsx("div",{children:j.address?.email}),v.jsx("div",{children:j.address?.address}),v.jsxs("div",{children:[j.address?.city,", ",j.address?.postalCode]}),v.jsx("div",{children:j.address?.country})]})]})]}),v.jsx("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-2 text-xs sm:text-sm overflow-x-auto",children:e0.map((L,B)=>v.jsxs(rt.Fragment,{children:[v.jsx("span",{className:`px-2 sm:px-3 py-1 rounded font-semibold ${B===F?"bg-purple-600 text-white shadow":"bg-gray-300 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:L}),B!==e0.length-1&&v.jsx("span",{className:"text-gray-400",children:""})]},L))}),v.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[v.jsx("strong",{children:"Items:"}),j.items?.map(L=>v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between bg-gray-50 dark:bg-gray-700 p-2 sm:p-3 rounded",children:[v.jsxs("div",{className:"flex gap-2 sm:gap-4 items-center max-w-full sm:max-w-xs",children:[v.jsx("img",{src:L.image||"/placeholder.jpg",alt:L.name,className:"w-12 h-12 sm:w-16 sm:h-16 object-cover rounded"}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("div",{className:"font-medium truncate",children:L.name}),v.jsxs("div",{className:"text-xs sm:text-sm",children:["Qty: ",L.quantity]})]})]}),v.jsxs("div",{className:"font-semibold mt-1 sm:mt-0",children:["",(L.price*L.quantity).toFixed(2)]})]},L.id))]}),v.jsxs("div",{className:"text-right font-bold text-base sm:text-lg",children:["Total: ",j.total.toFixed(2)]}),j.estimatedDelivery&&v.jsxs("div",{className:"text-xs sm:text-sm mt-1.5 sm:mt-2",children:[v.jsx("strong",{children:"Estimated Delivery:"})," ",Yd(j.estimatedDelivery?.toDate?j.estimatedDelivery.toDate():new Date(j.estimatedDelivery),"PPP")]}),j.trackingUrl&&v.jsx("div",{className:"mt-1.5 text-right",children:v.jsx("a",{href:j.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline",children:"Track Order"})}),v.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-2 sm:gap-3 justify-end items-stretch sm:items-center w-full",children:[v.jsx(Et,{disabled:!e,onClick:()=>n(j),className:`w-full sm:w-auto px-4 py-2 ${e?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600":"bg-gray-200 dark:bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Download Invoice PDF"}),C(j.status)&&v.jsx(Et,{onClick:()=>I(j.id),disabled:T[j.id],variant:"destructive",className:"w-full sm:w-auto",children:T[j.id]?"Cancelling...":"Cancel Order"})]})]},j.id)})}),g&&v.jsx("div",{className:"text-center mt-4 sm:mt-6",children:v.jsx(Et,{onClick:b,disabled:m,className:"w-full sm:w-auto",children:m?"Loading...":"Load More"})})]})}const t0=["Ordered","Shipped","Out For Delivery","Delivered","Cancelled"];function QY(){const{orderId:t}=hC(),e=Za(),{user:n}=Fo(),[r,i]=z.useState(null),[s,o]=z.useState(!0),[a,c]=z.useState(null),d=n?.email==="admin@example.com";z.useEffect(()=>{async function g(){try{const b=Hn(ln,"orders",t),S=await hf(b);S.exists()?i({id:S.id,...S.data()}):c("Order not found.")}catch{c("Failed to load order.")}finally{o(!1)}}g()},[t]);const f=z.useCallback(async g=>{if(r){if(g==="Cancelled"&&["Shipped","Delivered"].includes(r.status)){alert("Cannot cancel an order already shipped or delivered.");return}try{const b=Hn(ln,"orders",r.id);await Ga(b,{status:g}),i(S=>({...S,status:g})),alert("Status updated.")}catch{alert("Failed to update status.")}}},[r]);if(s)return v.jsx("p",{className:"p-6",children:"Loading order..."});if(a)return v.jsx("p",{className:"text-red-600 p-6",children:a});if(!r)return v.jsx("p",{className:"p-6",children:"No order found."});const h=r.createdAt?.toDate?Yd(r.createdAt.toDate(),"PPPp"):"",m=t0.indexOf(r.status);return v.jsxs("main",{className:"max-w-3xl mx-auto p-6 bg-white rounded shadow space-y-6",children:[v.jsx("button",{onClick:()=>e(-1),className:"text-blue-600 underline",children:" Back to Orders"}),v.jsxs("h1",{className:"text-2xl font-bold",children:["Order #",r.id]}),v.jsxs("section",{children:[v.jsxs("div",{className:"text-sm text-gray-700 mb-4",children:[v.jsx("strong",{children:"Order Date:"})," ",h]}),v.jsx("div",{className:"flex items-center gap-2 text-sm flex-wrap mb-6",role:"list","aria-label":"Order delivery progress",children:t0.map((g,b)=>{const S=b<=m;return v.jsxs(rt.Fragment,{children:[v.jsx("span",{role:"listitem","aria-current":r.status===g?"step":void 0,className:`px-3 py-1 rounded font-semibold whitespace-nowrap ${S?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:g}),b!==t0.length-1&&v.jsx("span",{"aria-hidden":"true",children:""})]},g)})}),r.estimatedDelivery&&v.jsxs("p",{children:[v.jsx("strong",{children:"Estimated Delivery:"})," ",r.estimatedDelivery.toDate?Yd(r.estimatedDelivery.toDate(),"PPP"):new Date(r.estimatedDelivery).toLocaleDateString()]}),r.trackingUrl&&v.jsx("p",{children:v.jsx("a",{href:r.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Track Order"})}),v.jsxs("div",{className:"mt-4",children:[v.jsx("h2",{className:"font-semibold",children:"Shipping Address"}),v.jsxs("address",{className:"not-italic ml-2 space-y-1",children:[v.jsx("div",{children:r.address?.fullName}),v.jsx("div",{children:r.address?.email}),v.jsx("div",{children:r.address?.address}),v.jsxs("div",{children:[r.address?.city," - ",r.address?.postalCode]}),v.jsx("div",{children:r.address?.country})]})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("h2",{className:"font-semibold mb-2",children:"Items"}),v.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.items?.map(g=>v.jsxs("li",{children:[g.name,"  Qty: ",g.quantity,"  ",(g.price*g.quantity).toFixed(2)]},g.id||g.name))})]}),v.jsxs("p",{className:"mt-4 font-bold text-lg",children:["Total Paid: ",r.total.toFixed(2)]})]}),d&&v.jsxs("section",{className:"mt-6",children:[v.jsx("h2",{className:"font-semibold mb-2",children:"Admin: Update Order Status"}),v.jsx("select",{value:r.status,onChange:g=>f(g.target.value),disabled:r.status==="Cancelled"||r.status==="Delivered",className:"border p-2 rounded",children:t0.map(g=>v.jsx("option",{value:g,disabled:r.status==="Cancelled",children:g},g))})]})]})}function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(null,arguments)}function JY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ZY(t){z.useEffect(t,[])}var eX=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function tX(t,e){var n=e===void 0?{}:e,r=n.volume,i=r===void 0?1:r,s=n.playbackRate,o=s===void 0?1:s,a=n.soundEnabled,c=a===void 0?!0:a,d=n.interrupt,f=d===void 0?!1:d,h=n.onload,m=JY(n,eX),g=rt.useRef(null),b=rt.useRef(!1),S=rt.useState(null),T=S[0],E=S[1],C=rt.useState(null),I=C[0],j=C[1],K=function(){typeof h=="function"&&h.call(this),b.current&&E(this.duration()*1e3),j(this)};ZY(function(){return ay(()=>import("./howler-C7Zp4-Td.js").then($=>$.h),[]).then(function($){if(!b.current){var k;g.current=(k=$.Howl)!==null&&k!==void 0?k:$.default.Howl,b.current=!0,new g.current(hy({src:Array.isArray(t)?t:[t],volume:i,rate:o,onload:K},m))}}),function(){b.current=!1}}),rt.useEffect(function(){g.current&&I&&j(new g.current(hy({src:Array.isArray(t)?t:[t],volume:i,onload:K},m)))},[JSON.stringify(t)]),rt.useEffect(function(){I&&(I.volume(i),m.sprite||I.rate(o))},[I,i,o]);var ae=rt.useCallback(function($){typeof $>"u"&&($={}),!(!I||!c&&!$.forceSoundEnabled)&&(f&&I.stop(),$.playbackRate&&I.rate($.playbackRate),I.play($.id))},[I,c,f]),F=rt.useCallback(function($){I&&I.stop($)},[I]),L=rt.useCallback(function($){I&&I.pause($)},[I]),B=[ae,{sound:I,stop:F,pause:L,duration:T}];return B}const nX=["yourw2cstore.com","your-affiliate-domain.com"],rX=()=>{const[t,e]=z.useState("idle"),[n,r]=z.useState(""),[i,s]=z.useState(""),[o,a]=z.useState(null),[c,d]=z.useState(""),{toast:f}=co(),h=Za(),{addToWishlist:m}=Qh(),[g]=tX(Hb,{volume:.5}),b=C=>{try{const I=new URL(C).hostname.toLowerCase();return nX.some(j=>I.includes(j))}catch{return!1}},S=async C=>{if(C.preventDefault(),!n.trim()){f({title:"URL Required",description:"Please paste a product URL.",variant:"destructive"});return}try{new URL(n)}catch{f({title:"Invalid URL",description:"Please enter a valid URL.",variant:"destructive"});return}e("fetching"),a(null),d("");const I="https://my-cors-proxy-671248690215.asia-south.proxy.app/?url=",j=n;try{const K=await fetch(I+encodeURIComponent(j));if(!K.ok)throw new Error("Failed to fetch the page. The site may be down or the CORS proxy may be unavailable.");const ae=await K.text(),L=new DOMParser().parseFromString(ae,"text/html");let B,$,k;const D=new URL(j).hostname.replace("www.",""),q=L.querySelector('script[type="application/ld+json"]');if(q)try{const fe=JSON.parse(q.textContent),ve=Array.isArray(fe)?fe.find(ce=>ce["@type"]==="Product"):fe["@type"]==="Product"?fe:null;if(ve){B=ve.name,k=Array.isArray(ve.image)?ve.image[0]:ve.image;const ce=Array.isArray(ve.offers)?ve.offers[0]:ve.offers;ce&&($=ce.price)}}catch{}if(!B||!$||!k){const fe=ve=>L.querySelector(`meta[property="${ve}"]`)?.getAttribute("content");B=B||fe("og:title"),k=k||fe("og:image"),$=$||fe("product:price:amount")||fe("og:price:amount")}if(!B||!$||!k){const fe=new URL(j).hostname.toLowerCase(),ve={"amazon.in":{title:()=>L.getElementById("productTitle")?.innerText.trim(),price:()=>L.querySelector(".a-price .a-price-whole")?.innerText.trim()||L.querySelector("#priceblock_ourprice")?.innerText.trim()||L.querySelector("#priceblock_dealprice")?.innerText.trim(),image:()=>L.getElementById("landingImage")?.src},"flipkart.com":{title:()=>L.querySelector("span.B_NuCI")?.innerText.trim(),price:()=>L.querySelector("div._30jeq3._16J6g6")?.innerText.trim(),image:()=>L.querySelector("img._396cs4._3exPp9")?.src}};let ce=null;fe.includes("amazon")?ce=ve["amazon.in"]:fe.includes("flipkart")&&(ce=ve["flipkart.com"]),ce&&(B=B||ce.title(),$=$||ce.price(),k=k||ce.image())}if(!B||!$||!k)throw new Error("Could not automatically find product details. Please try another link or add manually.");const se=parseFloat(String($).replace(/[^\d.]/g,""));if(isNaN(se)||se<=0)throw new Error("Invalid price detected. Please check the product URL.");const we={id:j,title:B,price:se,image:k,store:D,url:j,sourceType:"marketplace",addedAt:new Date().toISOString()};a(we),e("preview"),f({title:" Product found!",description:`Fetched from ${we.store}.`})}catch(K){d(K.message||"Failed to fetch product data."),e("error")}},T=()=>{if(!o)return;if(b(o.url)){f({title:" Cannot add product",description:"This product is part of our internal catalog and cannot be added here.",variant:"destructive"});return}const C={...o,tags:i.split(",").map(I=>I.trim()).filter(Boolean),inCart:!1};m(C,"universal"),K8(),g(),f({title:" Wish added!",description:`Added "${C.title}" to your Wishlist.`}),setTimeout(()=>{h("/dashboard")},800)},E=()=>{r(""),s(""),a(null),d(""),e("idle")};return v.jsxs(v.Fragment,{children:[v.jsxs(ad,{children:[v.jsx("title",{children:"Add to Wishlist | Wishlist Integration"}),v.jsx("meta",{name:"description",content:"Add products to your wishlist from any online store."})]}),v.jsxs("main",{className:"flex flex-col min-h-[calc(100vh-4rem)] max-w-xl mx-auto px-4 py-16",children:[v.jsxs("div",{className:"text-center mb-10 select-none",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-violet-500 to-blue-500 shadow-lg mb-4",children:v.jsx(qh,{className:"w-8 h-8 text-white drop-shadow-md animate-pulse"})}),v.jsx("h1",{className:"text-5xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:"Add to Wishlist"}),v.jsx("p",{className:"mt-3 text-lg text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:"Paste a product link from any supported online store below."})]}),v.jsx("div",{className:"flex-grow min-h-0",children:v.jsxs(Zu,{mode:"wait",initial:!1,children:[t==="idle"&&v.jsx(Yt.form,{onSubmit:S,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-4",children:v.jsxs("div",{className:"flex items-center rounded-full bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 px-4 py-2 shadow",children:[v.jsx(r8,{className:"text-gray-400 w-5 h-5 mr-2"}),v.jsx(Jn,{type:"url",placeholder:"Paste product URL here",value:n,onChange:C=>r(C.target.value),required:!0,className:"bg-transparent border-none focus:ring-0",spellCheck:!1,autoComplete:"off"}),v.jsx(Et,{type:"submit",className:"ml-2 rounded-full",size:"lg",children:"Fetch Details"})]})},"idle"),t==="fetching"&&v.jsxs(Yt.div,{className:"flex flex-col items-center justify-center p-10",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:[v.jsx(s8,{className:"w-12 h-12 text-blue-500 animate-spin"}),v.jsx("p",{className:"mt-4 text-lg font-medium text-gray-700 dark:text-gray-300",children:"Analyzing link"}),v.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Fetching product details..."})]},"fetching"),t==="error"&&v.jsxs(Yt.div,{className:"rounded-xl bg-red-50 dark:bg-red-900/20 p-8 text-center border border-red-200 dark:border-red-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:[v.jsx(HM,{className:"mx-auto mb-4 h-12 w-12 text-red-600 dark:text-red-400"}),v.jsx("h2",{className:"text-2xl font-semibold text-red-700 dark:text-red-300 mb-2",children:"Oops! Something went wrong."}),v.jsx("p",{className:"text-red-600 dark:text-red-400 max-w-md mx-auto",children:c||"Unable to fetch product information."}),v.jsxs(Et,{onClick:E,variant:"outline",size:"lg",className:"mt-6",children:[v.jsx(CS,{className:"inline mr-2 h-5 w-5"})," Try Again"]})]},"error"),t==="preview"&&o&&v.jsxs(Yt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"max-w-xl mx-auto space-y-6 bg-white dark:bg-gray-900/30 border border-gray-200 dark:border-gray-700 rounded-lg backdrop-blur-md p-6 shadow-xl",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-center",children:[v.jsx("div",{className:"w-28 h-28 rounded-lg bg-white dark:bg-gray-800 shadow-md overflow-hidden flex items-center justify-center p-2",children:v.jsx("img",{src:o.image,alt:o.title,className:"max-w-full max-h-full object-contain"})}),v.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[v.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:["From ",o.store]}),v.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:o.title}),v.jsxs("p",{className:"text-xl font-extrabold text-blue-600 dark:text-blue-400 mt-1",children:["",o.price.toFixed(2)]})]})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"tags",className:"block mb-1 font-semibold text-gray-700 dark:text-gray-200",children:"Add Tags (optional)"}),v.jsxs("div",{className:"relative",children:[v.jsx(Im,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),v.jsx(Jn,{id:"tags",type:"text",placeholder:"Separate tags with commas",value:i,onChange:C=>s(C.target.value),className:"pl-10",spellCheck:!1,autoComplete:"off"})]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[v.jsxs(Et,{onClick:E,variant:"outline",size:"lg",className:"flex-1",children:[v.jsx(CS,{className:"mr-2 h-5 w-5"})," Reset"]}),v.jsxs(Et,{onClick:T,size:"lg",className:"flex-1",disabled:!o,children:[v.jsx($4,{className:"mr-2 h-5 w-5"})," Add to Wishlist"]})]})]},"preview")]})})]})]})};function dI(t,e){return function(){return t.apply(e,arguments)}}const{toString:iX}=Object.prototype,{getPrototypeOf:Xb}=Object,{iterator:gv,toStringTag:fI}=Symbol,yv=(t=>e=>{const n=iX.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),rl=t=>(t=t.toLowerCase(),e=>yv(e)===t),vv=t=>e=>typeof e===t,{isArray:Jh}=Array,Tm=vv("undefined");function Gm(t){return t!==null&&!Tm(t)&&t.constructor!==null&&!Tm(t.constructor)&&oo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const hI=rl("ArrayBuffer");function sX(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&hI(t.buffer),e}const oX=vv("string"),oo=vv("function"),pI=vv("number"),Km=t=>t!==null&&typeof t=="object",aX=t=>t===!0||t===!1,_0=t=>{if(yv(t)!=="object")return!1;const e=Xb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(fI in t)&&!(gv in t)},lX=t=>{if(!Km(t)||Gm(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},cX=rl("Date"),uX=rl("File"),dX=rl("Blob"),fX=rl("FileList"),hX=t=>Km(t)&&oo(t.pipe),pX=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||oo(t.append)&&((e=yv(t))==="formdata"||e==="object"&&oo(t.toString)&&t.toString()==="[object FormData]"))},mX=rl("URLSearchParams"),[gX,yX,vX,wX]=["ReadableStream","Request","Response","Headers"].map(rl),xX=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ym(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Jh(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Gm(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function mI(t,e){if(Gm(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Xd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gI=t=>!Tm(t)&&t!==Xd;function Gw(){const{caseless:t}=gI(this)&&this||{},e={},n=(r,i)=>{const s=t&&mI(e,i)||i;_0(e[s])&&_0(r)?e[s]=Gw(e[s],r):_0(r)?e[s]=Gw({},r):Jh(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ym(arguments[r],n);return e}const bX=(t,e,n,{allOwnKeys:r}={})=>(Ym(e,(i,s)=>{n&&oo(i)?t[s]=dI(i,n):t[s]=i},{allOwnKeys:r}),t),_X=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),SX=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},TX=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Xb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},EX=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},AX=t=>{if(!t)return null;if(Jh(t))return t;let e=t.length;if(!pI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},CX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Xb(Uint8Array)),PX=(t,e)=>{const r=(t&&t[gv]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},kX=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},NX=rl("HTMLFormElement"),IX=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),PA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),RX=rl("RegExp"),yI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ym(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},LX=t=>{yI(t,(e,n)=>{if(oo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(oo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jX=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Jh(t)?r(t):r(String(t).split(e)),n},DX=()=>{},OX=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function MX(t){return!!(t&&oo(t.append)&&t[fI]==="FormData"&&t[gv])}const FX=t=>{const e=new Array(10),n=(r,i)=>{if(Km(r)){if(e.indexOf(r)>=0)return;if(Gm(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Jh(r)?[]:{};return Ym(r,(o,a)=>{const c=n(o,i+1);!Tm(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return n(t,0)},VX=rl("AsyncFunction"),BX=t=>t&&(Km(t)||oo(t))&&oo(t.then)&&oo(t.catch),vI=((t,e)=>t?setImmediate:e?((n,r)=>(Xd.addEventListener("message",({source:i,data:s})=>{i===Xd&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Xd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",oo(Xd.postMessage)),UX=typeof queueMicrotask<"u"?queueMicrotask.bind(Xd):typeof process<"u"&&process.nextTick||vI,zX=t=>t!=null&&oo(t[gv]),Ve={isArray:Jh,isArrayBuffer:hI,isBuffer:Gm,isFormData:pX,isArrayBufferView:sX,isString:oX,isNumber:pI,isBoolean:aX,isObject:Km,isPlainObject:_0,isEmptyObject:lX,isReadableStream:gX,isRequest:yX,isResponse:vX,isHeaders:wX,isUndefined:Tm,isDate:cX,isFile:uX,isBlob:dX,isRegExp:RX,isFunction:oo,isStream:hX,isURLSearchParams:mX,isTypedArray:CX,isFileList:fX,forEach:Ym,merge:Gw,extend:bX,trim:xX,stripBOM:_X,inherits:SX,toFlatObject:TX,kindOf:yv,kindOfTest:rl,endsWith:EX,toArray:AX,forEachEntry:PX,matchAll:kX,isHTMLForm:NX,hasOwnProperty:PA,hasOwnProp:PA,reduceDescriptors:yI,freezeMethods:LX,toObjectSet:jX,toCamelCase:IX,noop:DX,toFiniteNumber:OX,findKey:mI,global:Xd,isContextDefined:gI,isSpecCompliantForm:MX,toJSONObject:FX,isAsyncFn:VX,isThenable:BX,setImmediate:vI,asap:UX,isIterable:zX};function en(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ve.inherits(en,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ve.toJSONObject(this.config),code:this.code,status:this.status}}});const wI=en.prototype,xI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xI[t]={value:t}});Object.defineProperties(en,xI);Object.defineProperty(wI,"isAxiosError",{value:!0});en.from=(t,e,n,r,i,s)=>{const o=Object.create(wI);return Ve.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),en.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const qX=null;function Kw(t){return Ve.isPlainObject(t)||Ve.isArray(t)}function bI(t){return Ve.endsWith(t,"[]")?t.slice(0,-2):t}function kA(t,e,n){return t?t.concat(e).map(function(i,s){return i=bI(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function WX(t){return Ve.isArray(t)&&!t.some(Kw)}const $X=Ve.toFlatObject(Ve,{},null,function(e){return/^is[A-Z]/.test(e)});function wv(t,e,n){if(!Ve.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ve.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,T){return!Ve.isUndefined(T[S])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ve.isSpecCompliantForm(e);if(!Ve.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(Ve.isDate(b))return b.toISOString();if(Ve.isBoolean(b))return b.toString();if(!c&&Ve.isBlob(b))throw new en("Blob is not supported. Use a Buffer instead.");return Ve.isArrayBuffer(b)||Ve.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,S,T){let E=b;if(b&&!T&&typeof b=="object"){if(Ve.endsWith(S,"{}"))S=r?S:S.slice(0,-2),b=JSON.stringify(b);else if(Ve.isArray(b)&&WX(b)||(Ve.isFileList(b)||Ve.endsWith(S,"[]"))&&(E=Ve.toArray(b)))return S=bI(S),E.forEach(function(I,j){!(Ve.isUndefined(I)||I===null)&&e.append(o===!0?kA([S],j,s):o===null?S:S+"[]",d(I))}),!1}return Kw(b)?!0:(e.append(kA(T,S,s),d(b)),!1)}const h=[],m=Object.assign($X,{defaultVisitor:f,convertValue:d,isVisitable:Kw});function g(b,S){if(!Ve.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+S.join("."));h.push(b),Ve.forEach(b,function(E,C){(!(Ve.isUndefined(E)||E===null)&&i.call(e,E,Ve.isString(C)?C.trim():C,S,m))===!0&&g(E,S?S.concat(C):[C])}),h.pop()}}if(!Ve.isObject(t))throw new TypeError("data must be an object");return g(t),e}function NA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Qb(t,e){this._pairs=[],t&&wv(t,this,e)}const _I=Qb.prototype;_I.append=function(e,n){this._pairs.push([e,n])};_I.toString=function(e){const n=e?function(r){return e.call(this,r,NA)}:NA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function HX(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SI(t,e,n){if(!e)return t;const r=n&&n.encode||HX;Ve.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ve.isURLSearchParams(e)?e.toString():new Qb(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class IA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ve.forEach(this.handlers,function(r){r!==null&&e(r)})}}const TI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GX=typeof URLSearchParams<"u"?URLSearchParams:Qb,KX=typeof FormData<"u"?FormData:null,YX=typeof Blob<"u"?Blob:null,XX={isBrowser:!0,classes:{URLSearchParams:GX,FormData:KX,Blob:YX},protocols:["http","https","file","blob","url","data"]},Jb=typeof window<"u"&&typeof document<"u",Yw=typeof navigator=="object"&&navigator||void 0,QX=Jb&&(!Yw||["ReactNative","NativeScript","NS"].indexOf(Yw.product)<0),JX=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZX=Jb&&window.location.href||"http://localhost",eQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jb,hasStandardBrowserEnv:QX,hasStandardBrowserWebWorkerEnv:JX,navigator:Yw,origin:ZX},Symbol.toStringTag,{value:"Module"})),hs={...eQ,...XX};function tQ(t,e){return wv(t,new hs.classes.URLSearchParams,{visitor:function(n,r,i,s){return hs.isNode&&Ve.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function nQ(t){return Ve.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rQ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function EI(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=n.length;return o=!o&&Ve.isArray(i)?i.length:o,c?(Ve.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ve.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ve.isArray(i[o])&&(i[o]=rQ(i[o])),!a)}if(Ve.isFormData(t)&&Ve.isFunction(t.entries)){const n={};return Ve.forEachEntry(t,(r,i)=>{e(nQ(r),i,n,0)}),n}return null}function iQ(t,e,n){if(Ve.isString(t))try{return(e||JSON.parse)(t),Ve.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Xm={transitional:TI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ve.isObject(e);if(s&&Ve.isHTMLForm(e)&&(e=new FormData(e)),Ve.isFormData(e))return i?JSON.stringify(EI(e)):e;if(Ve.isArrayBuffer(e)||Ve.isBuffer(e)||Ve.isStream(e)||Ve.isFile(e)||Ve.isBlob(e)||Ve.isReadableStream(e))return e;if(Ve.isArrayBufferView(e))return e.buffer;if(Ve.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return tQ(e,this.formSerializer).toString();if((a=Ve.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return wv(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),iQ(e)):e}],transformResponse:[function(e){const n=this.transitional||Xm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ve.isResponse(e)||Ve.isReadableStream(e))return e;if(e&&Ve.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?en.from(a,en.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ve.forEach(["delete","get","head","post","put","patch"],t=>{Xm.headers[t]={}});const sQ=Ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oQ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&sQ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},RA=Symbol("internals");function Rp(t){return t&&String(t).trim().toLowerCase()}function S0(t){return t===!1||t==null?t:Ve.isArray(t)?t.map(S0):String(t)}function aQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const lQ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function v2(t,e,n,r,i){if(Ve.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ve.isString(e)){if(Ve.isString(r))return e.indexOf(r)!==-1;if(Ve.isRegExp(r))return r.test(e)}}function cQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function uQ(t,e){const n=Ve.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let ao=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,c,d){const f=Rp(c);if(!f)throw new Error("header name must be a non-empty string");const h=Ve.findKey(i,f);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=S0(a))}const o=(a,c)=>Ve.forEach(a,(d,f)=>s(d,f,c));if(Ve.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ve.isString(e)&&(e=e.trim())&&!lQ(e))o(oQ(e),n);else if(Ve.isObject(e)&&Ve.isIterable(e)){let a={},c,d;for(const f of e){if(!Ve.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[d=f[0]]=(c=a[d])?Ve.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Rp(e),e){const r=Ve.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return aQ(i);if(Ve.isFunction(n))return n.call(this,i,r);if(Ve.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Rp(e),e){const r=Ve.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||v2(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Rp(o),o){const a=Ve.findKey(r,o);a&&(!n||v2(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ve.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||v2(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ve.forEach(this,(i,s)=>{const o=Ve.findKey(r,s);if(o){n[o]=S0(i),delete n[s];return}const a=e?cQ(s):String(s).trim();a!==s&&delete n[s],n[a]=S0(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ve.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ve.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[RA]=this[RA]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Rp(o);r[a]||(uQ(i,o),r[a]=!0)}return Ve.isArray(e)?e.forEach(s):s(e),this}};ao.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ve.reduceDescriptors(ao.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ve.freezeMethods(ao);function w2(t,e){const n=this||Xm,r=e||n,i=ao.from(r.headers);let s=r.data;return Ve.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function AI(t){return!!(t&&t.__CANCEL__)}function Zh(t,e,n){en.call(this,t??"canceled",en.ERR_CANCELED,e,n),this.name="CanceledError"}Ve.inherits(Zh,en,{__CANCEL__:!0});function CI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new en("Request failed with status code "+n.status,[en.ERR_BAD_REQUEST,en.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function dQ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fQ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=r[s];o||(o=d),n[i]=c,r[i]=d;let h=s,m=0;for(;h!==i;)m+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const g=f&&d-f;return g?Math.round(m*1e3/g):void 0}}function hQ(t,e){let n=0,r=1e3/e,i,s;const o=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t(...d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const py=(t,e,n=3)=>{let r=0;const i=fQ(50,250);return hQ(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),f=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:d||void 0,estimated:d&&a&&f?(a-o)/d:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},LA=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},jA=t=>(...e)=>Ve.asap(()=>t(...e)),pQ=hs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,hs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(hs.origin),hs.navigator&&/(msie|trident)/i.test(hs.navigator.userAgent)):()=>!0,mQ=hs.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ve.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ve.isString(r)&&o.push("path="+r),Ve.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gQ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function yQ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function PI(t,e,n){let r=!gQ(e);return t&&(r||n==!1)?yQ(t,e):e}const DA=t=>t instanceof ao?{...t}:t;function gf(t,e){e=e||{};const n={};function r(d,f,h,m){return Ve.isPlainObject(d)&&Ve.isPlainObject(f)?Ve.merge.call({caseless:m},d,f):Ve.isPlainObject(f)?Ve.merge({},f):Ve.isArray(f)?f.slice():f}function i(d,f,h,m){if(Ve.isUndefined(f)){if(!Ve.isUndefined(d))return r(void 0,d,h,m)}else return r(d,f,h,m)}function s(d,f){if(!Ve.isUndefined(f))return r(void 0,f)}function o(d,f){if(Ve.isUndefined(f)){if(!Ve.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function a(d,f,h){if(h in e)return r(d,f);if(h in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,f,h)=>i(DA(d),DA(f),h,!0)};return Ve.forEach(Object.keys({...t,...e}),function(f){const h=c[f]||i,m=h(t[f],e[f],f);Ve.isUndefined(m)&&h!==a||(n[f]=m)}),n}const kI=t=>{const e=gf({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=ao.from(o),e.url=SI(PI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(Ve.isFormData(n)){if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...f]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(hs.hasStandardBrowserEnv&&(r&&Ve.isFunction(r)&&(r=r(e)),r||r!==!1&&pQ(e.url))){const d=i&&s&&mQ.read(s);d&&o.set(i,d)}return e},vQ=typeof XMLHttpRequest<"u",wQ=vQ&&function(t){return new Promise(function(n,r){const i=kI(t);let s=i.data;const o=ao.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:d}=i,f,h,m,g,b;function S(){g&&g(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function E(){if(!T)return;const I=ao.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),K={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:I,config:t,request:T};CI(function(F){n(F),S()},function(F){r(F),S()},K),T=null}"onloadend"in T?T.onloadend=E:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(E)},T.onabort=function(){T&&(r(new en("Request aborted",en.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new en("Network Error",en.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const K=i.transitional||TI;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new en(j,K.clarifyTimeoutError?en.ETIMEDOUT:en.ECONNABORTED,t,T)),T=null},s===void 0&&o.setContentType(null),"setRequestHeader"in T&&Ve.forEach(o.toJSON(),function(j,K){T.setRequestHeader(K,j)}),Ve.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),a&&a!=="json"&&(T.responseType=i.responseType),d&&([m,b]=py(d,!0),T.addEventListener("progress",m)),c&&T.upload&&([h,g]=py(c),T.upload.addEventListener("progress",h),T.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(f=I=>{T&&(r(!I||I.type?new Zh(null,t,T):I),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=dQ(i.url);if(C&&hs.protocols.indexOf(C)===-1){r(new en("Unsupported protocol "+C+":",en.ERR_BAD_REQUEST,t));return}T.send(s||null)})},xQ=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,a();const f=d instanceof Error?d:this.reason;r.abort(f instanceof en?f:new Zh(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new en(`timeout ${e} of ms exceeded`,en.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Ve.asap(a),c}},bQ=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},_Q=async function*(t,e){for await(const n of SQ(t))yield*bQ(n,e)},SQ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},OA=(t,e,n,r)=>{const i=_Q(t,e);let s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){a(),c.close();return}let h=f.byteLength;if(n){let m=s+=h;n(m)}c.enqueue(new Uint8Array(f))}catch(d){throw a(d),d}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},xv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",NI=xv&&typeof ReadableStream=="function",TQ=xv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),II=(t,...e)=>{try{return!!t(...e)}catch{return!1}},EQ=NI&&II(()=>{let t=!1;const e=new Request(hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),MA=64*1024,Xw=NI&&II(()=>Ve.isReadableStream(new Response("").body)),my={stream:Xw&&(t=>t.body)};xv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!my[e]&&(my[e]=Ve.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new en(`Response type '${e}' is not supported`,en.ERR_NOT_SUPPORT,r)})})})(new Response);const AQ=async t=>{if(t==null)return 0;if(Ve.isBlob(t))return t.size;if(Ve.isSpecCompliantForm(t))return(await new Request(hs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ve.isArrayBufferView(t)||Ve.isArrayBuffer(t))return t.byteLength;if(Ve.isURLSearchParams(t)&&(t=t+""),Ve.isString(t))return(await TQ(t)).byteLength},CQ=async(t,e)=>{const n=Ve.toFiniteNumber(t.getContentLength());return n??AQ(e)},PQ=xv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:d,headers:f,withCredentials:h="same-origin",fetchOptions:m}=kI(t);d=d?(d+"").toLowerCase():"text";let g=xQ([i,s&&s.toAbortSignal()],o),b;const S=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let T;try{if(c&&EQ&&n!=="get"&&n!=="head"&&(T=await CQ(f,r))!==0){let K=new Request(e,{method:"POST",body:r,duplex:"half"}),ae;if(Ve.isFormData(r)&&(ae=K.headers.get("content-type"))&&f.setContentType(ae),K.body){const[F,L]=LA(T,py(jA(c)));r=OA(K.body,MA,F,L)}}Ve.isString(h)||(h=h?"include":"omit");const E="credentials"in Request.prototype;b=new Request(e,{...m,signal:g,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:E?h:void 0});let C=await fetch(b,m);const I=Xw&&(d==="stream"||d==="response");if(Xw&&(a||I&&S)){const K={};["status","statusText","headers"].forEach(B=>{K[B]=C[B]});const ae=Ve.toFiniteNumber(C.headers.get("content-length")),[F,L]=a&&LA(ae,py(jA(a),!0))||[];C=new Response(OA(C.body,MA,F,()=>{L&&L(),S&&S()}),K)}d=d||"text";let j=await my[Ve.findKey(my,d)||"text"](C,t);return!I&&S&&S(),await new Promise((K,ae)=>{CI(K,ae,{data:j,headers:ao.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:b})})}catch(E){throw S&&S(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new en("Network Error",en.ERR_NETWORK,t,b),{cause:E.cause||E}):en.from(E,E&&E.code,t,b)}}),Qw={http:qX,xhr:wQ,fetch:PQ};Ve.forEach(Qw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const FA=t=>`- ${t}`,kQ=t=>Ve.isFunction(t)||t===null||t===!1,RI={getAdapter:t=>{t=Ve.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!kQ(n)&&(r=Qw[(o=String(n)).toLowerCase()],r===void 0))throw new en(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(FA).join(`
`):" "+FA(s[0]):"as no adapter specified";throw new en("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Qw};function x2(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zh(null,t)}function VA(t){return x2(t),t.headers=ao.from(t.headers),t.data=w2.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),RI.getAdapter(t.adapter||Xm.adapter)(t).then(function(r){return x2(t),r.data=w2.call(t,t.transformResponse,r),r.headers=ao.from(r.headers),r},function(r){return AI(r)||(x2(t),r&&r.response&&(r.response.data=w2.call(t,t.transformResponse,r.response),r.response.headers=ao.from(r.response.headers))),Promise.reject(r)})}const LI="1.11.0",bv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const BA={};bv.transitional=function(e,n,r){function i(s,o){return"[Axios v"+LI+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new en(i(o," has been removed"+(n?" in "+n:"")),en.ERR_DEPRECATED);return n&&!BA[o]&&(BA[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};bv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function NQ(t,e,n){if(typeof t!="object")throw new en("options must be an object",en.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new en("option "+s+" must be "+c,en.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new en("Unknown option "+s,en.ERR_BAD_OPTION)}}const T0={assertOptions:NQ,validators:bv},_l=T0.validators;let rf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new IA,response:new IA}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=gf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&T0.assertOptions(r,{silentJSONParsing:_l.transitional(_l.boolean),forcedJSONParsing:_l.transitional(_l.boolean),clarifyTimeoutError:_l.transitional(_l.boolean)},!1),i!=null&&(Ve.isFunction(i)?n.paramsSerializer={serialize:i}:T0.assertOptions(i,{encode:_l.function,serialize:_l.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),T0.assertOptions(n,{baseUrl:_l.spelling("baseURL"),withXsrfToken:_l.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ve.merge(s.common,s[n.method]);s&&Ve.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),n.headers=ao.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(c=c&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let f,h=0,m;if(!c){const b=[VA.bind(this),void 0];for(b.unshift(...a),b.push(...d),m=b.length,f=Promise.resolve(n);h<m;)f=f.then(b[h++],b[h++]);return f}m=a.length;let g=n;for(h=0;h<m;){const b=a[h++],S=a[h++];try{g=b(g)}catch(T){S.call(this,T);break}}try{f=VA.call(this,g)}catch(b){return Promise.reject(b)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(e){e=gf(this.defaults,e);const n=PI(e.baseURL,e.url,e.allowAbsoluteUrls);return SI(n,e.params,e.paramsSerializer)}};Ve.forEach(["delete","get","head","options"],function(e){rf.prototype[e]=function(n,r){return this.request(gf(r||{},{method:e,url:n,data:(r||{}).data}))}});Ve.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(gf(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}rf.prototype[e]=n(),rf.prototype[e+"Form"]=n(!0)});let IQ=class jI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Zh(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new jI(function(i){e=i}),cancel:e}}};function RQ(t){return function(n){return t.apply(null,n)}}function LQ(t){return Ve.isObject(t)&&t.isAxiosError===!0}const Jw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jw).forEach(([t,e])=>{Jw[e]=t});function DI(t){const e=new rf(t),n=dI(rf.prototype.request,e);return Ve.extend(n,rf.prototype,e,{allOwnKeys:!0}),Ve.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return DI(gf(t,i))},n}const Fr=DI(Xm);Fr.Axios=rf;Fr.CanceledError=Zh;Fr.CancelToken=IQ;Fr.isCancel=AI;Fr.VERSION=LI;Fr.toFormData=wv;Fr.AxiosError=en;Fr.Cancel=Fr.CanceledError;Fr.all=function(e){return Promise.all(e)};Fr.spread=RQ;Fr.isAxiosError=LQ;Fr.mergeConfig=gf;Fr.AxiosHeaders=ao;Fr.formToJSON=t=>EI(Ve.isHTMLForm(t)?new FormData(t):t);Fr.getAdapter=RI.getAdapter;Fr.HttpStatusCode=Jw;Fr.default=Fr;const{Axios:ete,AxiosError:tte,CanceledError:nte,isCancel:rte,CancelToken:ite,VERSION:ste,all:ote,Cancel:ate,isAxiosError:lte,spread:cte,toFormData:ute,AxiosHeaders:dte,HttpStatusCode:fte,formToJSON:hte,getAdapter:pte,mergeConfig:mte}=Fr,UA={id:null,fullName:"",streetAddress:"",city:"",postalCode:"",country:"",phone:"",isDefault:!1};function jQ(){const{cartItems:t,clearCart:e,getTotalValue:n,couponApplied:r,couponDiscountPercent:i,applyCoupon:s}=Xh(),{user:o}=Fo(),{toast:a}=co(),c=Za(),{coupons:d,loyaltyPoints:f,markCouponUsed:h,appliedCoupon:m,applyCoupon:g}=uv(),[b,S]=z.useState([]),[T,E]=z.useState(null),[C,I]=z.useState(!1),[j,K]=z.useState({...UA}),[ae,F]=z.useState(!1),[L,B]=z.useState({}),[$,k]=z.useState("razorpay"),[D,q]=z.useState(null),se="https://wishlist2cart-backend-671248690215.asia-south1.run.app",we="rzp_test_cTYjfnIYCIJ8eV",fe=z.useMemo(()=>{const oe=n;return m&&m.value?Math.max(0,oe-m.value):oe},[n,m]);z.useEffect(()=>{if(!o)return;async function oe(){try{const he=await hf(Hn(ln,"users",o.uid));if(he.exists()){const ie=he.data()?.addresses||[];S(ie);const ge=ie.find(Re=>Re.isDefault);E(ge?ge.id:ie[0]?.id||null)}}catch(he){a({title:"Failed to load addresses",description:he.message,variant:"destructive"})}}oe()},[o,a]);const ve=z.useMemo(()=>{const oe=new Date;return d.filter(he=>!he.used&&(!he.expiry||new Date(he.expiry)>=oe))},[d]),ce=(oe,he)=>{K(ie=>({...ie,[oe]:he})),L[oe]&&B(ie=>({...ie,[oe]:null}))},ne=()=>{const oe={};return j.fullName?.trim()||(oe.fullName="Full Name is required"),j.streetAddress?.trim()||(oe.streetAddress="Street Address is required"),j.city?.trim()||(oe.city="City is required"),j.postalCode?.trim()||(oe.postalCode="Postal Code is required"),j.country?.trim()||(oe.country="Country is required"),B(oe),Object.keys(oe).length===0},Y=async()=>{if(!ne())return a({title:"Please fill all required fields",variant:"destructive"}),null;F(!0);try{const oe=crypto.randomUUID(),he={...j,id:oe,isDefault:b.length===0},ie=[...b,he];return await Ga(Hn(ln,"users",o.uid),{addresses:ie}),S(ie),E(oe),K(UA),I(!1),B({}),a({title:"Address added successfully!"}),he}catch(oe){return a({title:"Failed to add address",description:oe.message,variant:"destructive"}),null}finally{F(!1)}},W=()=>new Promise(oe=>{if(window.Razorpay)return oe(!0);const he=document.createElement("script");he.src="https://checkout.razorpay.com/v1/checkout.js",he.onload=()=>oe(!0),he.onerror=()=>{a({title:"Razorpay SDK failed to load.",variant:"destructive"}),oe(!1)},document.body.appendChild(he)}),V=(oe,he)=>new Promise(async(ie,ge)=>{if(!await W())return ge(new Error("Could not load Razorpay."));const{data:De}=await Fr.post(`${se}/create-order`,{amount:oe,receipt:`rcpt_${Date.now()}`,notes:{userId:he.userId,address:`${he.address.streetAddress}, ${he.address.city}`}}),$e={key:we,amount:De.amount,currency:De.currency,name:"Wishlist2Cart",description:"Order Payment",order_id:De.id,handler:async tt=>{e(),a({title:"Payment Successful!"}),await X({id:De.id,...he,paymentId:tt.razorpay_payment_id},o.email),c(`/order-success?payment_id=${tt.razorpay_payment_id}&order_id=${De.id}`),D&&h(D),ie(tt)},prefill:{name:he.address.fullName,email:o.email,contact:he.address.phone},theme:{color:"#7c3aed"}},Ye=new window.Razorpay($e);Ye.on("payment.failed",tt=>{a({title:"Payment Failed",description:tt.error.description,variant:"destructive"}),ge(new Error(tt.error.description))}),Ye.open()}),X=async(oe,he)=>{try{await Fr.post(`${se}/send-invoice`,{order:oe,email:he}),a({title:"Invoice email sent successfully"})}catch(ie){console.error("Failed to send invoice email:",ie),a({title:"Failed to send invoice email",variant:"destructive"})}},le=async()=>{if(!o||t.length===0||ae)return;let oe=b.find(ie=>ie.id===T);if(C){const ie=await Y();if(!ie)return;oe=ie}if(!oe){a({title:"Please select or add a shipping address",variant:"destructive"});return}F(!0);const he={userId:o.uid,userName:o.displayName||o.email,items:t.map(({addedAt:ie,...ge})=>ge),address:oe,total:fe,paymentMethod:$,estimatedDelivery:new Date(Date.now()+5*864e5),status:"Pending Payment",createdAt:jc(),couponApplied:!!m,couponDiscountPercent:m?m.value:0,appliedCouponId:D||null};try{if($==="cod"){const ie={...he,status:"Processing",paymentId:"COD"},ge=await ov(so(ln,"orders"),ie);e(),a({title:"Order placed successfully"}),await X({id:ge.id,...ie},o.email),c(`/order-success?order_id=${ge.id}`),D&&h(D)}else $==="razorpay"&&await V(fe,he)}catch(ie){a({title:"Order Failed",description:ie.message,variant:"destructive"})}finally{F(!1)}},de=oe=>{if(oe.used){a({title:"Coupon Used",description:"This coupon has already been used.",variant:"destructive"});return}if(m){a({title:"Coupon Already Applied",description:"You already have a coupon applied."});return}g(oe),q(oe.id),a({title:"Coupon Applied!",description:`You saved ${oe.value}!`,variant:"success"})};return o?t.length===0?v.jsx("div",{className:"container mx-auto py-20 text-center",children:"Your cart is empty."}):v.jsxs("div",{className:"container mx-auto max-w-6xl p-6 bg-white dark:bg-gray-900 rounded-lg shadow-md text-gray-800 dark:text-gray-100",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Checkout"}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[v.jsxs("section",{children:[v.jsx("h2",{className:"font-semibold mb-4",children:"Shipping Address"}),!C&&b.length>0?v.jsxs("div",{className:"space-y-4",children:[b.map(oe=>v.jsxs("div",{onClick:()=>E(oe.id),className:`p-4 border-2 rounded cursor-pointer transition ${T===oe.id?"border-violet-600 bg-violet-50 dark:bg-violet-900/30":"border-gray-200 hover:border-violet-300 dark:border-gray-700 dark:hover:border-violet-400"}`,role:"button",tabIndex:0,onKeyDown:he=>he.key==="Enter"&&E(oe.id),children:[v.jsx("p",{className:"font-medium text-lg",children:oe.fullName}),v.jsx("p",{children:`${oe.streetAddress}, ${oe.city}, ${oe.postalCode}, ${oe.country}`}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Phone: ",oe.phone||"N/A"]}),oe.isDefault&&v.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-violet-600 text-white rounded-full",children:"Default Address"})]},oe.id)),v.jsx(Et,{onClick:()=>I(!0),disabled:ae,className:"mt-4",children:"+ Add New Address"})]}):v.jsxs("div",{className:"space-y-3 mt-4",children:[["fullName","streetAddress","city","postalCode","country"].map(oe=>v.jsx(Jn,{placeholder:oe.replace(/([A-Z])/g," $1"),value:j[oe],onChange:he=>ce(oe,he.target.value),disabled:ae,className:"dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400"},oe)),v.jsx(Jn,{placeholder:"Phone (optional)",value:j.phone,onChange:oe=>ce("phone",oe.target.value),disabled:ae,className:"dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400"}),v.jsxs("div",{className:"flex gap-3 mt-3",children:[v.jsx(Et,{variant:"secondary",onClick:()=>I(!1),disabled:ae,children:"Cancel"}),v.jsx(Et,{onClick:Y,disabled:ae,children:"Save Address"})]})]})]}),v.jsxs("section",{className:"space-y-6",children:[v.jsxs("div",{className:"p-6 bg-yellow-100 dark:bg-yellow-900 rounded-lg shadow-inner text-center",children:[v.jsx("h2",{className:"text-lg font-semibold mb-2 text-yellow-800 dark:text-yellow-300",children:"Your Loyalty Points"}),v.jsx("p",{className:"text-4xl font-bold",children:f}),v.jsx("p",{className:"text-sm",children:"Use these points on your order"})]}),ve.length>0&&v.jsxs("div",{className:"p-6 bg-blue-100 dark:bg-blue-900 rounded-lg max-h-56 overflow-auto text-gray-900 dark:text-gray-100",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4 text-blue-800 dark:text-blue-400",children:"Available Coupons"}),v.jsx("ul",{children:ve.map(oe=>v.jsxs("li",{className:"flex justify-between bg-white dark:bg-gray-800 p-4 rounded shadow mb-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:oe.code||"COUPON"}),v.jsx("p",{className:"text-sm",children:`${oe.value} off${oe.expiry?` (Expires: ${new Date(oe.expiry).toLocaleDateString()})`:""}`})]}),v.jsx(Et,{size:"sm",onClick:()=>de(oe),disabled:!!m||oe.used,children:"Apply"})]},oe.id))})]}),v.jsxs("div",{className:"p-6 bg-white dark:bg-gray-900 rounded-lg shadow border border-gray-200 dark:border-gray-700 max-w-sm mx-auto lg:mx-0",children:[v.jsx("h2",{className:"mb-4 text-2xl font-semibold dark:text-white",children:"Summary"}),v.jsxs("div",{className:"text-lg space-y-2 dark:text-white",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Subtotal"}),v.jsxs("span",{children:["",t.reduce((oe,he)=>oe+he.price*he.quantity,0).toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between text-gray-500 dark:text-gray-400",children:[v.jsx("span",{children:"Shipping"}),v.jsx("span",{children:"Calculated at checkout"})]}),!!m&&v.jsxs("div",{className:"flex justify-between font-semibold text-green-600 dark:text-green-400",children:[v.jsx("span",{children:"Coupon Discount"}),v.jsxs("span",{children:["-",m.value]})]}),v.jsxs("div",{className:"border-t border-gray-300 dark:border-gray-700 pt-4 flex justify-between font-extrabold text-xl",children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:["",fe.toFixed(2)]})]})]}),v.jsxs("div",{className:"mt-6 space-y-4",children:[v.jsxs("section",{children:[v.jsx("h3",{className:"font-semibold mb-2 dark:text-white",children:"Payment Method"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 dark:text-white",children:[v.jsx("input",{type:"radio",value:"razorpay",checked:$==="razorpay",onChange:()=>k("razorpay")}),"Pay Online (UPI / Card / Netbanking)"]}),v.jsxs("label",{className:"flex items-center gap-2 dark:text-white",children:[v.jsx("input",{type:"radio",value:"cod",checked:$==="cod",onChange:()=>k("cod")}),"Cash on Delivery (COD)"]})]})]}),v.jsx(Et,{size:"lg",onClick:le,disabled:ae,className:"w-full",children:ae?"Placing Order...":$==="cod"?"Place Order":`Pay ${fe.toFixed(2)}`})]})]})]})]})]}):v.jsx("div",{className:"container mx-auto py-20 text-center",children:"Please log in to checkout."})}function DQ({title:t,titleId:e,...n},r){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?z.createElement("title",{id:e},t):null,z.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const OQ=z.forwardRef(DQ),MQ=()=>{const{addPoints:t}=uv();return z.useEffect(()=>{t(100)},[t]),v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#e0f6ff] via-[#f3f7ff] to-[#c0e3ff]",children:v.jsxs("div",{className:"max-w-md w-full mx-auto p-8 bg-white shadow-2xl rounded-2xl relative",children:[v.jsx("div",{className:"flex justify-center mb-5",children:v.jsx(OQ,{className:"w-16 h-16 text-green-500 animate-bounce"})}),v.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 text-center mb-3 tracking-tight",children:"Order Placed Successfully!"}),v.jsxs("p",{className:"text-center text-gray-600 mb-7 text-lg",children:["Thank you for shopping with us.",v.jsx("br",{}),"Youll shortly receive your order details by email."]}),v.jsxs("div",{className:"flex gap-4 justify-center mt-6",children:[v.jsxs(Er,{to:"/orders",className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition-all text-base",children:[v.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[v.jsx("path",{d:"M3 3h2l.357 2.01M7 13h10l4-8H5.793"}),v.jsx("circle",{cx:"9",cy:"20",r:"1"}),v.jsx("circle",{cx:"17",cy:"20",r:"1"})]}),"My Orders"]}),v.jsxs(Er,{to:"/dashboard",className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-gray-100 text-blue-600 font-semibold shadow hover:bg-blue-200 transition-all border border-blue-100 text-base",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:v.jsx("path",{d:"M4 4h16v16H4z"})}),"Dashboard"]})]}),v.jsx("div",{className:"absolute -top-4 right-4 bg-green-100 text-green-700 px-4 py-1 rounded-full font-medium text-xs shadow",children:" Success"})]})})},Lp={priceDropAlerts:!0,personalizedRecommendations:!0,weeklyNewsletter:!1},b2={id:null,fullName:"",streetAddress:"",city:"",postalCode:"",country:"",phone:"",isDefault:!1};function zA(){const{user:t,logout:e}=Fo(),{toast:n}=co(),{coupons:r}=uv(),[i,s]=z.useState("profile"),[o,a]=z.useState({name:"",email:""}),[c,d]=z.useState(Lp),[f,h]=z.useState([]),[m,g]=z.useState(!0),[b,S]=z.useState(b2),[T,E]=z.useState(!1),[C,I]=z.useState(null),[j,K]=z.useState({}),ae=async ne=>{try{const W=await(await fetch(`https://api.postalpincode.in/pincode/${ne}`)).json();if(W[0].Status==="Success"&&W[0].PostOffice?.length>0){const V=W[0].PostOffice[0];S(X=>({...X,city:V.District,country:"India"}))}else n({title:"Invalid PIN code",description:"No matching location found.",variant:"destructive"})}catch{n({title:"Network Error",description:"Could not fetch city for PIN.",variant:"destructive"})}};z.useEffect(()=>{if(!t)return;async function ne(){g(!0);try{const Y=Hn(ln,"users",t.uid),W=await hf(Y);if(W.exists()){const V=W.data();a({name:V.name||"",email:V.email||t.email||""}),d({priceDropAlerts:V.priceDropAlerts??Lp.priceDropAlerts,personalizedRecommendations:V.personalizedRecommendations??Lp.personalizedRecommendations,weeklyNewsletter:V.weeklyNewsletter??Lp.weeklyNewsletter}),h(V.addresses||[])}else a({name:t.displayName||"",email:t.email||""}),d(Lp),h([])}catch(Y){n({title:"Failed to load settings",description:Y.message,variant:"destructive"})}g(!1)}ne()},[t,n]);const F=async ne=>{if(ne.preventDefault(),!t){n({title:"Not logged in",description:"Please log in.",variant:"destructive"});return}g(!0);try{const Y=Hn(ln,"users",t.uid);await Ga(Y,{name:o.name,email:o.email,priceDropAlerts:c.priceDropAlerts,personalizedRecommendations:c.personalizedRecommendations,weeklyNewsletter:c.weeklyNewsletter,updatedAt:jc()},{merge:!0}),n({title:"Settings saved!"})}catch(Y){n({title:"Save failed",description:Y.message,variant:"destructive"})}g(!1)},L=()=>{e(),n({title:"Logged out",description:"You have been logged out."})},B=(ne,Y)=>{a(W=>({...W,[ne]:Y}))},$=ne=>{d(Y=>({...Y,[ne]:!Y[ne]}))},k=(ne,Y)=>{S(W=>({...W,[ne]:Y})),ne==="postalCode"&&Y.length===6&&/^[1-9][0-9]{5}$/.test(Y)&&ae(Y),j[ne]&&K(W=>({...W,[ne]:null}))},D=()=>{const ne={};return b.fullName.trim()||(ne.fullName="Full Name required"),b.streetAddress.trim()||(ne.streetAddress="Street Address required"),b.city.trim()||(ne.city="City required"),b.postalCode.trim()?/^[1-9][0-9]{5}$/.test(b.postalCode)||(ne.postalCode="Enter a valid 6-digit Indian PIN code"):ne.postalCode="Postal Code required",b.country.trim()||(ne.country="Country required"),b.phone.trim()?/^[6-9]\d{9}$/.test(b.phone)||(ne.phone="Enter a valid 10-digit Indian phone number"):ne.phone="Phone number is required",K(ne),Object.keys(ne).length===0},q=()=>{S({...b2,id:Date.now().toString()}),E(!0),I(null)},se=ne=>{S(ne),I(ne),E(!0)},we=()=>{S(b2),E(!1),I(null),K({})},fe=async()=>{if(!D())return;let ne;C?ne=f.map(Y=>Y.id===C.id?b:Y):ne=[...f,b],!ne.some(Y=>Y.isDefault)&&ne.length>0&&(ne[0].isDefault=!0),g(!0);try{const Y=Hn(ln,"users",t.uid);await Ga(Y,{addresses:ne}),h(ne),n({title:"Address saved"}),we(),s("addresses")}catch(Y){n({title:"Save failed",description:Y.message,variant:"destructive"})}g(!1)},ve=async ne=>{if(!window.confirm("Are you sure you want to delete this address?"))return;const Y=f.filter(W=>W.id!==ne);!Y.some(W=>W.isDefault)&&Y.length>0&&(Y[0].isDefault=!0),g(!0);try{const W=Hn(ln,"users",t.uid);await Ga(W,{addresses:Y}),h(Y),n({title:"Address deleted"}),C?.id===ne&&we()}catch(W){n({title:"Delete failed",description:W.message,variant:"destructive"})}g(!1)},ce=async ne=>{const Y=f.map(W=>({...W,isDefault:W.id===ne}));g(!0);try{const W=Hn(ln,"users",t.uid);await Ga(W,{addresses:Y}),h(Y),n({title:"Default address updated"})}catch(W){n({title:"Update failed",description:W.message,variant:"destructive"})}g(!1)};return m?v.jsx("div",{className:"container mx-auto py-20 text-center",children:"Loading..."}):t?v.jsxs(v.Fragment,{children:[v.jsxs(ad,{children:[v.jsx("title",{children:"Settings - Wishlist"}),v.jsx("meta",{name:"description",content:"Manage your profile, notifications, addresses, and coupons."})]}),v.jsx(cv,{}),v.jsxs(Yt.div,{className:"container mx-auto max-w-5xl px-4 py-12",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[v.jsx("div",{className:"flex flex-wrap gap-4 border-b border-gray-300 dark:border-gray-700 mb-8 overflow-x-auto no-scrollbar",children:["profile","notifications","addresses","coupons"].map(ne=>v.jsx("button",{className:`px-4 py-2 rounded-t-md font-semibold whitespace-nowrap ${i===ne?"border-b-2 border-violet-600 text-violet-600":"text-gray-500 hover:text-violet-600"}`,onClick:()=>s(ne),type:"button",children:ne.charAt(0).toUpperCase()+ne.slice(1)},ne))}),v.jsxs("form",{onSubmit:F,className:"space-y-8",children:[i==="profile"&&v.jsxs("section",{className:"bg-white dark:bg-gray-900/40 rounded-xl shadow p-6 border border-gray-300 dark:border-gray-700",children:[v.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold mb-6",children:[v.jsx(Ry,{className:"text-violet-600"}),"Profile Settings"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"name",children:"Full Name"}),v.jsx(Jn,{id:"name",value:o.name,onChange:ne=>B("name",ne.target.value),required:!0,disabled:m,className:"bg-white text-black dark:bg-gray-900 dark:text-white dark:placeholder-gray-400"})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"email",className:"text-black dark:text-white",children:"Email Address"}),v.jsx(Jn,{id:"email",type:"email",value:o.email,onChange:ne=>B("email",ne.target.value),required:!0,disabled:m})]})]}),v.jsx("div",{className:"mt-6 flex justify-start flex-wrap gap-2",children:v.jsxs(Et,{type:"button",variant:"outline","aria-label":"Logout",className:"text-red-600 border-red-600 hover:bg-red-600 hover:text-white min-w-[120px]",onClick:L,disabled:m,children:[v.jsx(W4,{className:"inline-block mr-2 h-5 w-5"})," Logout"]})})]}),i==="notifications"&&v.jsxs("section",{className:"bg-white dark:bg-gray-900/40 rounded-xl shadow p-6 border border-gray-300 dark:border-gray-700",children:[v.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold mb-6",children:[v.jsx(GM,{className:"text-violet-600"}),"Notifications"]}),v.jsx("div",{className:"space-y-4 max-w-md",children:["priceDropAlerts","personalizedRecommendations","weeklyNewsletter"].map(ne=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs(Sn,{htmlFor:ne,children:[ne==="priceDropAlerts"&&"Price Drop Alerts",ne==="personalizedRecommendations"&&"Personalized Recommendations",ne==="weeklyNewsletter"&&"Weekly Newsletter"]}),v.jsx("input",{id:ne,type:"checkbox",className:ne==="weeklyNewsletter"?"accent-violet-600 dark:accent-violet-400":void 0,checked:c[ne],onChange:()=>$(ne)})]},ne))})]}),i==="addresses"&&v.jsxs("section",{className:"bg-white dark:bg-gray-900/40 rounded-xl shadow p-6 border border-gray-300 dark:border-gray-700 max-w-full",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-2",children:[v.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold",children:[v.jsx(n8,{className:"text-violet-600"}),"Addresses"]}),!T&&v.jsx(Et,{variant:"primary",onClick:q,disabled:m,className:"whitespace-nowrap",children:"+ Add New"})]}),T?v.jsxs("div",{className:"space-y-4 mb-6 max-w-full",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"fullName",children:"Full Name"}),v.jsx(Jn,{id:"fullName",value:b.fullName,onChange:ne=>k("fullName",ne.target.value),disabled:m}),j.fullName&&v.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:j.fullName})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"phone",children:"Phone"}),v.jsx(Jn,{id:"phone",value:b.phone,onChange:ne=>k("phone",ne.target.value),placeholder:"Optional",disabled:m}),j.phone&&v.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:j.phone})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx(Sn,{htmlFor:"streetAddress",children:"Street Address"}),v.jsx(Jn,{id:"streetAddress",value:b.streetAddress,onChange:ne=>k("streetAddress",ne.target.value),disabled:m}),j.streetAddress&&v.jsx("p",{className:"text-red-600 text-sm",children:j.streetAddress})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"city",children:"City"}),v.jsx(Jn,{id:"city",value:b.city,onChange:ne=>k("city",ne.target.value),disabled:m}),j.city&&v.jsx("p",{className:"text-red-600 text-sm",children:j.city})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"postalCode",children:"Postal Code"}),v.jsx(Jn,{id:"postalCode",value:b.postalCode,onChange:ne=>k("postalCode",ne.target.value),disabled:m}),j.postalCode&&v.jsx("p",{className:"text-red-600 text-sm",children:j.postalCode})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"country",children:"Country"}),v.jsxs("select",{id:"country",className:"w-full border border-gray-300 text-black bg-white dark:border-gray-700 rounded px-3 py-2 dark:bg-gray-900 dark:text-white dark:placeholder-gray-400",value:b.country,onChange:ne=>k("country",ne.target.value),disabled:m,children:[v.jsx("option",{value:"",children:"Select Country"}),v.jsx("option",{value:"India",children:"India"})]}),j.country&&v.jsx("p",{className:"text-red-600 text-sm",children:j.country})]})]}),v.jsxs("div",{className:"flex gap-4 flex-wrap mt-4",children:[v.jsx(Et,{variant:"primary",onClick:fe,disabled:m,className:"min-w-[140px]",children:C?"Update Address":"Save Address"}),v.jsx(Et,{onClick:we,disabled:m,className:"border border-gray-400 text-gray-800 hover:bg-gray-100 dark:border-gray-600 dark:text-white dark:hover:bg-gray-800 min-w-[100px]",children:"Cancel"})]})]}):f.length===0?v.jsx("p",{children:'No saved addresses. Click "+ Add New" to add one.'}):v.jsx("div",{className:"max-h-[400px] overflow-auto space-y-4 pr-2",children:f.map(ne=>v.jsxs("div",{className:"border border-gray-300 dark:border-gray-700 rounded p-4 flex flex-col sm:flex-row justify-between items-start sm:items-center",role:"region","aria-label":`Address of ${ne.fullName}`,children:[v.jsxs("div",{className:"mb-4 sm:mb-0",children:[v.jsx("p",{className:"font-semibold",children:ne.fullName}),v.jsxs("p",{children:[ne.streetAddress,", ",ne.city,", ",ne.postalCode,", ",ne.country]}),v.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Phone: ",ne.phone||"N/A"]}),ne.isDefault&&v.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-violet-600 text-white rounded",children:"Default"})]}),v.jsxs("div",{className:"flex items-center space-x-2 flex-wrap gap-2 sm:gap-0",children:[!ne.isDefault&&v.jsx(Et,{size:"sm",onClick:()=>ce(ne.id),className:"border border-gray-400 text-gray-800 hover:bg-gray-100 dark:border-gray-600 dark:text-white dark:hover:bg-gray-800 whitespace-nowrap",children:"Set Default"}),v.jsx(Et,{variant:"ghost",size:"sm",onClick:()=>se(ne),"aria-label":`Edit address for ${ne.fullName}`,children:"Edit"}),v.jsx(Et,{variant:"destructive",size:"sm",onClick:()=>ve(ne.id),"aria-label":`Delete address for ${ne.fullName}`,children:v.jsx(H4,{className:"h-4 w-4"})})]})]},ne.id))})]}),i==="coupons"&&v.jsxs("section",{className:"bg-white dark:bg-gray-900/40 rounded-xl shadow p-6 border border-gray-300 dark:border-gray-700 max-w-full",children:[v.jsx("h2",{className:"flex items-center gap-2 text-xl font-semibold mb-6 text-violet-600",children:"Your Coupons"}),r.length===0?v.jsx("p",{children:"You have no available coupons earned yet."}):v.jsx("ul",{className:"space-y-4 max-h-[400px] overflow-auto pr-2",children:r.map(ne=>v.jsxs("li",{className:`p-4 rounded border ${ne.used?"bg-gray-200 dark:bg-gray-700 border-gray-400 dark:border-gray-600 line-through opacity-60":"bg-violet-50 dark:bg-violet-900 border-violet-300 dark:border-violet-700"} flex flex-col sm:flex-row justify-between items-start sm:items-center`,children:[v.jsxs("div",{className:"mb-4 sm:mb-0",children:[v.jsx("p",{className:"font-semibold text-lg",children:ne.code||"COUPON CODE"}),v.jsxs("p",{children:["",ne.value," off"," ",ne.expiry?`(Expires: ${new Date(ne.expiry).toLocaleDateString()})`:""]})]}),v.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ne.code),n({title:"Coupon code copied to clipboard!"})},disabled:ne.used,className:`px-3 py-1 rounded bg-violet-600 text-white font-semibold hover:bg-violet-700 transition min-w-[80px] text-center ${ne.used?"opacity-50 cursor-not-allowed":""}`,"aria-label":`Copy coupon code ${ne.code||ne.id}`,children:"Copy"})]},ne.id))})]}),(i==="profile"||i==="notifications")&&v.jsx("div",{className:"mt-6 flex justify-start",children:v.jsx(Et,{type:"submit",disabled:m,className:"min-w-[140px]",children:"Save Changes"})})]})]}),v.jsx("style",{jsx:!0,children:`
        /* Make containers max width 100% on small screens */
        @media (max-width: 640px) {
          .container {
            padding-left: 1rem !important;
            padding-right: 1rem !important;
          }
          form > section {
            padding: 1rem !important;
          }
          .grid {
            grid-template-columns: 1fr !important;
          }
          /* Tabs scroll horizontally on small width */
          .flex.flex-wrap {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
          }
          .flex.flex-wrap button {
            flex-shrink: 0;
          }
        }
      `})]}):v.jsx("div",{className:"container mx-auto py-20 text-center",children:"Please log in to manage your settings."})}function FQ({rating:t,setRating:e,disabled:n=!1}){const r=[1,2,3,4,5];return v.jsx("div",{className:"flex gap-1 select-none",role:"radiogroup","aria-label":"Rating",children:r.map(i=>v.jsx(VQ,{filled:i<=t,onClick:()=>!n&&e(i),onKeyDown:s=>{!n&&(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),e(i))},tabIndex:n?-1:0,ariaChecked:i===t,ariaLabel:`${i} star${i>1?"s":""}`,role:"radio"},i))})}function VQ({filled:t,onClick:e,onKeyDown:n,tabIndex:r,ariaChecked:i,ariaLabel:s,role:o}){return v.jsx(lm,{size:28,fill:t?"currentColor":"none",stroke:"currentColor",className:`cursor-pointer transition-colors 
        ${t?"text-yellow-400":"text-gray-400 dark:text-gray-600"}
        hover:text-yellow-300 dark:hover:text-yellow-500`,onClick:e,onKeyDown:n,tabIndex:r,"aria-checked":i,"aria-label":s,role:o,style:{display:"inline-block",verticalAlign:"middle"}})}function BQ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}BQ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Qm=t=>typeof t=="number"&&!isNaN(t),yf=t=>typeof t=="string",Fc=t=>typeof t=="function",UQ=t=>yf(t)||Qm(t),Zw=t=>yf(t)||Fc(t)?t:null,zQ=(t,e)=>t===!1||Qm(t)&&t>0?t:e,ex=t=>z.isValidElement(t)||yf(t)||Fc(t)||Qm(t);function qQ(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function WQ({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:c,nodeRef:d,isIn:f,playToast:h}){let m=n?`${t}--${o}`:t,g=n?`${e}--${o}`:e,b=z.useRef(0);return z.useLayoutEffect(()=>{let S=d.current,T=m.split(" "),E=C=>{C.target===d.current&&(h(),S.removeEventListener("animationend",E),S.removeEventListener("animationcancel",E),b.current===0&&C.type!=="animationcancel"&&S.classList.remove(...T))};S.classList.add(...T),S.addEventListener("animationend",E),S.addEventListener("animationcancel",E)},[]),z.useEffect(()=>{let S=d.current,T=()=>{S.removeEventListener("animationend",T),r?qQ(S,c,i):c()};f||(a?T():(b.current=1,S.className+=` ${g}`,S.addEventListener("animationend",T)))},[f]),rt.createElement(rt.Fragment,null,s)}}function qA(t,e){return{content:OI(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function OI(t,e,n=!1){return z.isValidElement(t)&&!yf(t.type)?z.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Fc(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function $Q({closeToast:t,theme:e,ariaLabel:n="close"}){return rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function HQ({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:c,isIn:d,theme:f}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let g=Ac("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),b=Fc(s)?s({rtl:c,type:r,defaultClassName:g}):Ac(g,s),S={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{d&&n()}};return rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),rt.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:b,style:m,...S}))}var GQ=1,MI=()=>`${GQ++}`;function KQ(t,e,n){let r=1,i=0,s=[],o=[],a=e,c=new Map,d=new Set,f=C=>(d.add(C),()=>d.delete(C)),h=()=>{o=Array.from(c.values()),d.forEach(C=>C())},m=({containerId:C,toastId:I,updateId:j})=>{let K=C?C!==t:t!==1,ae=c.has(I)&&j==null;return K||ae},g=(C,I)=>{c.forEach(j=>{var K;(I==null||I===j.props.toastId)&&((K=j.toggle)==null||K.call(j,C))})},b=C=>{var I,j;(j=(I=C.props)==null?void 0:I.onClose)==null||j.call(I,C.removalReason),C.isActive=!1},S=C=>{if(C==null)c.forEach(b);else{let I=c.get(C);I&&b(I)}h()},T=()=>{i-=s.length,s=[]},E=C=>{var I,j;let{toastId:K,updateId:ae}=C.props,F=ae==null;C.staleId&&c.delete(C.staleId),C.isActive=!0,c.set(K,C),h(),n(qA(C,F?"added":"updated")),F&&((j=(I=C.props).onOpen)==null||j.call(I))};return{id:t,props:a,observe:f,toggle:g,removeToast:S,toasts:c,clearQueue:T,buildToast:(C,I)=>{if(m(I))return;let{toastId:j,updateId:K,data:ae,staleId:F,delay:L}=I,B=K==null;B&&i++;let $={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(I).filter(([D,q])=>q!=null)),toastId:j,updateId:K,data:ae,isIn:!1,className:Zw(I.className||a.toastClassName),progressClassName:Zw(I.progressClassName||a.progressClassName),autoClose:I.isLoading?!1:zQ(I.autoClose,a.autoClose),closeToast(D){c.get(j).removalReason=D,S(j)},deleteToast(){let D=c.get(j);if(D!=null){if(n(qA(D,"removed")),c.delete(j),i--,i<0&&(i=0),s.length>0){E(s.shift());return}h()}}};$.closeButton=a.closeButton,I.closeButton===!1||ex(I.closeButton)?$.closeButton=I.closeButton:I.closeButton===!0&&($.closeButton=ex(a.closeButton)?a.closeButton:!0);let k={content:C,props:$,staleId:F};a.limit&&a.limit>0&&i>a.limit&&B?s.push(k):Qm(L)?setTimeout(()=>{E(k)},L):E(k)},setProps(C){a=C},setToggle:(C,I)=>{let j=c.get(C);j&&(j.toggle=I)},isToastActive:C=>{var I;return(I=c.get(C))==null?void 0:I.isActive},getSnapshot:()=>o}}var js=new Map,Em=[],tx=new Set,YQ=t=>tx.forEach(e=>e(t)),FI=()=>js.size>0;function XQ(){Em.forEach(t=>BI(t.content,t.options)),Em=[]}var QQ=(t,{containerId:e})=>{var n;return(n=js.get(e||1))==null?void 0:n.toasts.get(t)};function VI(t,e){var n;if(e)return!!((n=js.get(e))!=null&&n.isToastActive(t));let r=!1;return js.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function JQ(t){if(!FI()){Em=Em.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||UQ(t))js.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=js.get(t.containerId);e?e.removeToast(t.id):js.forEach(n=>{n.removeToast(t.id)})}}var ZQ=(t={})=>{js.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function BI(t,e){ex(t)&&(FI()||Em.push({content:t,options:e}),js.forEach(n=>{n.buildToast(t,e)}))}function eJ(t){var e;(e=js.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function UI(t,e){js.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function tJ(t){let e=t.containerId||1;return{subscribe(n){let r=KQ(e,t,YQ);js.set(e,r);let i=r.observe(n);return XQ(),()=>{i(),js.delete(e)}},setProps(n){var r;(r=js.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=js.get(e))==null?void 0:n.getSnapshot()}}}function nJ(t){return tx.add(t),()=>{tx.delete(t)}}function rJ(t){return t&&(yf(t.toastId)||Qm(t.toastId))?t.toastId:MI()}function Jm(t,e){return BI(t,e),e.toastId}function _v(t,e){return{...e,type:e&&e.type||t,toastId:rJ(e)}}function Sv(t){return(e,n)=>Jm(e,_v(t,n))}function mn(t,e){return Jm(t,_v("default",e))}mn.loading=(t,e)=>Jm(t,_v("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function iJ(t,{pending:e,error:n,success:r},i){let s;e&&(s=yf(e)?mn.loading(e,i):mn.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(d,f,h)=>{if(f==null){mn.dismiss(s);return}let m={type:d,...o,...i,data:h},g=yf(f)?{render:f}:f;return s?mn.update(s,{...m,...g}):mn(g.render,{...m,...g}),h},c=Fc(t)?t():t;return c.then(d=>a("success",r,d)).catch(d=>a("error",n,d)),c}mn.promise=iJ;mn.success=Sv("success");mn.info=Sv("info");mn.error=Sv("error");mn.warning=Sv("warning");mn.warn=mn.warning;mn.dark=(t,e)=>Jm(t,_v("default",{theme:"dark",...e}));function sJ(t){JQ(t)}mn.dismiss=sJ;mn.clearWaitingQueue=ZQ;mn.isActive=VI;mn.update=(t,e={})=>{let n=QQ(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:MI()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,Jm(o,s)}};mn.done=t=>{mn.update(t,{progress:1})};mn.onChange=nJ;mn.play=t=>UI(!0,t);mn.pause=t=>UI(!1,t);function oJ(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=z.useRef(tJ(t)).current;i(t);let s=(e=z.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let c=new Map;return t.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:f}=d.props;c.has(f)||c.set(f,[]),c.get(f).push(d)}),Array.from(c,d=>a(d[0],d[1]))}return{getToastToRender:o,isToastActive:VI,count:s?.length}}function aJ(t){let[e,n]=z.useState(!1),[r,i]=z.useState(!1),s=z.useRef(null),o=z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:d,onClick:f,closeOnClick:h}=t;eJ({id:t.toastId,containerId:t.containerId,fn:n}),z.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{g()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||E(),window.addEventListener("focus",T),window.addEventListener("blur",E)}function g(){window.removeEventListener("focus",T),window.removeEventListener("blur",E)}function b(F){if(t.draggable===!0||t.draggable===F.pointerType){C();let L=s.current;o.canCloseOnClick=!0,o.canDrag=!0,L.style.transition="none",t.draggableDirection==="x"?(o.start=F.clientX,o.removalDistance=L.offsetWidth*(t.draggablePercent/100)):(o.start=F.clientY,o.removalDistance=L.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function S(F){let{top:L,bottom:B,left:$,right:k}=s.current.getBoundingClientRect();F.nativeEvent.type!=="touchend"&&t.pauseOnHover&&F.clientX>=$&&F.clientX<=k&&F.clientY>=L&&F.clientY<=B?E():T()}function T(){n(!0)}function E(){n(!1)}function C(){o.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",K)}function I(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",K)}function j(F){let L=s.current;if(o.canDrag&&L){o.didMove=!0,e&&E(),t.draggableDirection==="x"?o.delta=F.clientX-o.start:o.delta=F.clientY-o.start,o.start!==F.clientX&&(o.canCloseOnClick=!1);let B=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;L.style.transform=`translate3d(${B},0)`,L.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function K(){I();let F=s.current;if(o.canDrag&&o.didMove&&F){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}F.style.transition="transform 0.2s, opacity 0.2s",F.style.removeProperty("transform"),F.style.removeProperty("opacity")}}let ae={onPointerDown:b,onPointerUp:S};return a&&c&&(ae.onMouseEnter=E,t.stacked||(ae.onMouseLeave=T)),h&&(ae.onClick=F=>{f&&f(F),o.canCloseOnClick&&d(!0)}),{playToast:T,pauseToast:E,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:ae}}var lJ=typeof window<"u"?z.useLayoutEffect:z.useEffect,Tv=({theme:t,type:e,isLoading:n,...r})=>rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function cJ(t){return rt.createElement(Tv,{...t},rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function uJ(t){return rt.createElement(Tv,{...t},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function dJ(t){return rt.createElement(Tv,{...t},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function fJ(t){return rt.createElement(Tv,{...t},rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function hJ(){return rt.createElement("div",{className:"Toastify__spinner"})}var nx={info:uJ,warning:cJ,success:dJ,error:fJ,spinner:hJ},pJ=t=>t in nx;function mJ({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Fc(r)?i=r({...s,isLoading:n}):z.isValidElement(r)?i=z.cloneElement(r,s):n?i=nx.spinner():pJ(e)&&(i=nx[e](s))),i}var gJ=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=aJ(t),{closeButton:o,children:a,autoClose:c,onClick:d,type:f,hideProgressBar:h,closeToast:m,transition:g,position:b,className:S,style:T,progressClassName:E,updateId:C,role:I,progress:j,rtl:K,toastId:ae,deleteToast:F,isIn:L,isLoading:B,closeOnClick:$,theme:k,ariaLabel:D}=t,q=Ac("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":K},{"Toastify__toast--close-on-click":$}),se=Fc(S)?S({rtl:K,position:b,type:f,defaultClassName:q}):Ac(q,S),we=mJ(t),fe=!!j||!c,ve={closeToast:m,type:f,theme:k},ce=null;return o===!1||(Fc(o)?ce=o(ve):z.isValidElement(o)?ce=z.cloneElement(o,ve):ce=$Q(ve)),rt.createElement(g,{isIn:L,done:F,position:b,preventExitTransition:n,nodeRef:r,playToast:s},rt.createElement("div",{id:ae,tabIndex:0,onClick:d,"data-in":L,className:se,...i,style:T,ref:r,...L&&{role:I,"aria-label":D}},we!=null&&rt.createElement("div",{className:Ac("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},we),OI(a,t,!e),ce,!t.customProgressBar&&rt.createElement(HQ,{...C&&!fe?{key:`p-${C}`}:{},rtl:K,theme:k,delay:c,isRunning:e,isIn:L,closeToast:m,hide:h,type:f,className:E,controlledProgress:fe,progress:j||0})))},yJ=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),vJ=WQ(yJ("bounce",!0)),wJ={position:"top-right",transition:vJ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function xJ(t){let e={...wJ,...t},n=t.stacked,[r,i]=z.useState(!0),s=z.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=oJ(e),{className:d,style:f,rtl:h,containerId:m,hotKeys:g}=e;function b(T){let E=Ac("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":h});return Fc(d)?d({position:T,rtl:h,defaultClassName:E}):Ac(E,Zw(d))}function S(){n&&(i(!0),mn.play())}return lJ(()=>{var T;if(n){let E=s.current.querySelectorAll('[data-in="true"]'),C=12,I=(T=e.position)==null?void 0:T.includes("top"),j=0,K=0;Array.from(E).reverse().forEach((ae,F)=>{let L=ae;L.classList.add("Toastify__toast--stacked"),F>0&&(L.dataset.collapsed=`${r}`),L.dataset.pos||(L.dataset.pos=I?"top":"bot");let B=j*(r?.2:1)+(r?0:C*F);L.style.setProperty("--y",`${I?B:B*-1}px`),L.style.setProperty("--g",`${C}`),L.style.setProperty("--s",`${1-(r?K:0)}`),j+=L.offsetHeight,K+=.025})}},[r,c,n]),z.useEffect(()=>{function T(E){var C;let I=s.current;g(E)&&((C=I.querySelector('[tabIndex="0"]'))==null||C.focus(),i(!1),mn.pause()),E.key==="Escape"&&(document.activeElement===I||I!=null&&I.contains(document.activeElement))&&(i(!0),mn.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[g]),rt.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),mn.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((T,E)=>{let C=E.length?{...f}:{...f,pointerEvents:"none"};return rt.createElement("div",{tabIndex:-1,className:b(T),"data-stacked":n,style:C,key:`c-${T}`},E.map(({content:I,props:j})=>rt.createElement(gJ,{...j,stacked:n,collapseAll:S,isIn:a(j.toastId,j.containerId),key:`t-${j.key}`},I)))}))}function WA(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Zb(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:WA(e[r])&&WA(t[r])&&Object.keys(e[r]).length>0&&Zb(t[r],e[r])})}const zI={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function md(){const t=typeof document<"u"?document:{};return Zb(t,zI),t}const bJ={document:zI,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ds(){const t=typeof window<"u"?window:{};return Zb(t,bJ),t}function _J(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function SJ(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function qI(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function gy(){return Date.now()}function TJ(t){const e=Ds();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function EJ(t,e){e===void 0&&(e="x");const n=Ds();let r,i,s;const o=TJ(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function zp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function AJ(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function No(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!AJ(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],c=Object.getOwnPropertyDescriptor(r,a);c!==void 0&&c.enumerable&&(zp(t[a])&&zp(r[a])?r[a].__swiper__?t[a]=r[a]:No(t[a],r[a]):!zp(t[a])&&zp(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:No(t[a],r[a])):t[a]=r[a])}}}return t}function n0(t,e,n){t.style.setProperty(e,n)}function WI(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Ds(),s=-e.translate;let o=null,a;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const d=n>s?"next":"prev",f=(m,g)=>d==="next"&&m>=g||d==="prev"&&m<=g,h=()=>{a=new Date().getTime(),o===null&&(o=a);const m=Math.max(Math.min((a-o)/c,1),0),g=.5-Math.cos(m*Math.PI)/2;let b=s+g*(n-s);if(f(b,n)&&(b=n),e.wrapperEl.scrollTo({[r]:b}),f(b,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:b})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function Ya(t,e){e===void 0&&(e="");const n=Ds(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function CJ(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function PJ(t,e){const n=Ds();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=CJ(t,e))),r}function yy(t){try{console.warn(t);return}catch{}}function vy(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:_J(e)),n}function kJ(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function NJ(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Wu(t,e){return Ds().getComputedStyle(t,null).getPropertyValue(e)}function $A(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function IJ(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function HA(t,e,n){const r=Ds();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function gc(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function GA(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let _2;function RJ(){const t=Ds(),e=md();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function $I(){return _2||(_2=RJ()),_2}let S2;function LJ(t){let{userAgent:e}=t===void 0?{}:t;const n=$I(),r=Ds(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,c=r.screen.height,d=s.match(/(Android);?[\s\/]+([\d.]+)?/);let f=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),m=!f&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=i==="Win32";let b=i==="MacIntel";const S=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!f&&b&&n.touch&&S.indexOf(`${a}x${c}`)>=0&&(f=s.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),b=!1),d&&!g&&(o.os="android",o.android=!0),(f||m||h)&&(o.os="ios",o.ios=!0),o}function HI(t){return t===void 0&&(t={}),S2||(S2=LJ(t)),S2}let T2;function jJ(){const t=Ds(),e=HI();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[c,d]=a.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));n=c<16||c===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function GI(){return T2||(T2=jJ()),T2}function DJ(t){let{swiper:e,on:n,emit:r}=t;const i=Ds();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{const{width:m,height:g}=e;let b=m,S=g;h.forEach(T=>{let{contentBoxSize:E,contentRect:C,target:I}=T;I&&I!==e.el||(b=C?C.width:(E[0]||E).inlineSize,S=C?C.height:(E[0]||E).blockSize)}),(b!==m||S!==g)&&a()})}),s.observe(e.el))},d=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},f=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",f)}),n("destroy",()=>{d(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",f)})}function OJ(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Ds(),a=function(f,h){h===void 0&&(h={});const m=o.MutationObserver||o.WebkitMutationObserver,g=new m(b=>{if(e.__preventObserver__)return;if(b.length===1){i("observerUpdate",b[0]);return}const S=function(){i("observerUpdate",b[0])};o.requestAnimationFrame?o.requestAnimationFrame(S):o.setTimeout(S,0)});g.observe(f,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(g)},c=()=>{if(e.params.observer){if(e.params.observeParents){const f=IJ(e.hostEl);for(let h=0;h<f.length;h+=1)a(f[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},d=()=>{s.forEach(f=>{f.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var MJ={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(r,n)})}),t}};function FJ(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Wu(r,"padding-left")||0,10)-parseInt(Wu(r,"padding-right")||0,10),n=n-parseInt(Wu(r,"padding-top")||0,10)-parseInt(Wu(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function VJ(){const t=this;function e($,k){return parseFloat($.getPropertyValue(t.getDirectionLabel(k))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,c=t.virtual&&n.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,f=Ya(i,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:f.length;let m=[];const g=[],b=[];let S=n.slidesOffsetBefore;typeof S=="function"&&(S=n.slidesOffsetBefore.call(t));let T=n.slidesOffsetAfter;typeof T=="function"&&(T=n.slidesOffsetAfter.call(t));const E=t.snapGrid.length,C=t.slidesGrid.length;let I=n.spaceBetween,j=-S,K=0,ae=0;if(typeof s>"u")return;typeof I=="string"&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*s:typeof I=="string"&&(I=parseFloat(I)),t.virtualSize=-I,f.forEach($=>{o?$.style.marginLeft="":$.style.marginRight="",$.style.marginBottom="",$.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(n0(r,"--swiper-centered-offset-before",""),n0(r,"--swiper-centered-offset-after",""));const F=n.grid&&n.grid.rows>1&&t.grid;F?t.grid.initSlides(f):t.grid&&t.grid.unsetSlides();let L;const B=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter($=>typeof n.breakpoints[$].slidesPerView<"u").length>0;for(let $=0;$<h;$+=1){L=0;let k;if(f[$]&&(k=f[$]),F&&t.grid.updateSlide($,k,f),!(f[$]&&Wu(k,"display")==="none")){if(n.slidesPerView==="auto"){B&&(f[$].style[t.getDirectionLabel("width")]="");const D=getComputedStyle(k),q=k.style.transform,se=k.style.webkitTransform;if(q&&(k.style.transform="none"),se&&(k.style.webkitTransform="none"),n.roundLengths)L=t.isHorizontal()?HA(k,"width"):HA(k,"height");else{const we=e(D,"width"),fe=e(D,"padding-left"),ve=e(D,"padding-right"),ce=e(D,"margin-left"),ne=e(D,"margin-right"),Y=D.getPropertyValue("box-sizing");if(Y&&Y==="border-box")L=we+ce+ne;else{const{clientWidth:W,offsetWidth:V}=k;L=we+fe+ve+ce+ne+(V-W)}}q&&(k.style.transform=q),se&&(k.style.webkitTransform=se),n.roundLengths&&(L=Math.floor(L))}else L=(s-(n.slidesPerView-1)*I)/n.slidesPerView,n.roundLengths&&(L=Math.floor(L)),f[$]&&(f[$].style[t.getDirectionLabel("width")]=`${L}px`);f[$]&&(f[$].swiperSlideSize=L),b.push(L),n.centeredSlides?(j=j+L/2+K/2+I,K===0&&$!==0&&(j=j-s/2-I),$===0&&(j=j-s/2-I),Math.abs(j)<1/1e3&&(j=0),n.roundLengths&&(j=Math.floor(j)),ae%n.slidesPerGroup===0&&m.push(j),g.push(j)):(n.roundLengths&&(j=Math.floor(j)),(ae-Math.min(t.params.slidesPerGroupSkip,ae))%t.params.slidesPerGroup===0&&m.push(j),g.push(j),j=j+L+I),t.virtualSize+=L+I,K=L,ae+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+T,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+I}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+I}px`),F&&t.grid.updateWrapperSize(L,m),!n.centeredSlides){const $=[];for(let k=0;k<m.length;k+=1){let D=m[k];n.roundLengths&&(D=Math.floor(D)),m[k]<=t.virtualSize-s&&$.push(D)}m=$,Math.floor(t.virtualSize-s)-Math.floor(m[m.length-1])>1&&m.push(t.virtualSize-s)}if(c&&n.loop){const $=b[0]+I;if(n.slidesPerGroup>1){const k=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=$*n.slidesPerGroup;for(let q=0;q<k;q+=1)m.push(m[m.length-1]+D)}for(let k=0;k<t.virtual.slidesBefore+t.virtual.slidesAfter;k+=1)n.slidesPerGroup===1&&m.push(m[m.length-1]+$),g.push(g[g.length-1]+$),t.virtualSize+=$}if(m.length===0&&(m=[0]),I!==0){const $=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");f.filter((k,D)=>!n.cssMode||n.loop?!0:D!==f.length-1).forEach(k=>{k.style[$]=`${I}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let $=0;b.forEach(D=>{$+=D+(I||0)}),$-=I;const k=$>s?$-s:0;m=m.map(D=>D<=0?-S:D>k?k+T:D)}if(n.centerInsufficientSlides){let $=0;b.forEach(D=>{$+=D+(I||0)}),$-=I;const k=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if($+k<s){const D=(s-$-k)/2;m.forEach((q,se)=>{m[se]=q-D}),g.forEach((q,se)=>{g[se]=q+D})}}if(Object.assign(t,{slides:f,snapGrid:m,slidesGrid:g,slidesSizesGrid:b}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){n0(r,"--swiper-centered-offset-before",`${-m[0]}px`),n0(r,"--swiper-centered-offset-after",`${t.size/2-b[b.length-1]/2}px`);const $=-t.snapGrid[0],k=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+$),t.slidesGrid=t.slidesGrid.map(D=>D+k)}if(h!==d&&t.emit("slidesLengthChange"),m.length!==E&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==C&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const $=`${n.containerModifierClass}backface-hidden`,k=t.el.classList.contains($);h<=n.maxBackfaceHiddenSlides?k||t.el.classList.add($):k&&t.el.classList.remove($)}}function BJ(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function UJ(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const KA=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function zJ(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let c=0;c<r.length;c+=1){const d=r[c];let f=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(f-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+a),m=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+a),g=-(o-f),b=g+e.slidesSizesGrid[c],S=g>=0&&g<=e.size-e.slidesSizesGrid[c],T=g>=0&&g<e.size-1||b>1&&b<=e.size||g<=0&&b>=e.size;T&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c)),KA(d,T,n.slideVisibleClass),KA(d,S,n.slideFullyVisibleClass),d.progress=i?-h:h,d.originalProgress=i?-m:m}}function qJ(t){const e=this;if(typeof t>"u"){const f=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*f||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const c=s,d=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const f=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=f||i<=0,o=h||i>=1,f&&(i=0),h&&(i=1)}if(n.loop){const f=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),m=e.slidesGrid[f],g=e.slidesGrid[h],b=e.slidesGrid[e.slidesGrid.length-1],S=Math.abs(t);S>=m?a=(S-m)/b:a=(S+b-g)/b,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!c&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(c&&!s||d&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const E2=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function WJ(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>Ya(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let c,d,f;if(s)if(n.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=a(`[data-swiper-slide-index="${h}"]`)}else c=a(`[data-swiper-slide-index="${i}"]`);else o?(c=e.find(h=>h.column===i),f=e.find(h=>h.column===i+1),d=e.find(h=>h.column===i-1)):c=e[i];c&&(o||(f=NJ(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f&&(f=e[0]),d=kJ(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(h=>{E2(h,h===c,n.slideActiveClass),E2(h,h===f,n.slideNextClass),E2(h,h===d,n.slidePrevClass)}),t.emitSlidesClasses()}const E0=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},A2=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},rx=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((c,d)=>o+r+d)),t.slides.forEach((c,d)=>{a.includes(c.column)&&A2(t,d)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&A2(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&A2(t,o)};function $J(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function HJ(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let c=t,d;const f=g=>{let b=g-e.virtual.slidesBefore;return b<0&&(b=e.virtual.slides.length+b),b>=e.virtual.slides.length&&(b-=e.virtual.slides.length),b};if(typeof c>"u"&&(c=$J(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const g=Math.min(i.slidesPerGroupSkip,c);d=g+Math.floor((c-g)/i.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===s&&!e.params.loop){d!==a&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=f(c);return}const h=e.grid&&i.grid&&i.grid.rows>1;let m;if(e.virtual&&i.virtual.enabled&&i.loop)m=f(c);else if(h){const g=e.slides.find(S=>S.column===c);let b=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(b)&&(b=Math.max(e.slides.indexOf(g),0)),m=Math.floor(b/i.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?m=parseInt(g,10):m=c}else m=c;Object.assign(e,{previousSnapIndex:a,snapIndex:d,previousRealIndex:o,realIndex:m,previousIndex:s,activeIndex:c}),e.initialized&&rx(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==m&&e.emit("realIndexChange"),e.emit("slideChange"))}function GJ(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var KJ={updateSize:FJ,updateSlides:VJ,updateAutoHeight:BJ,updateSlidesOffset:UJ,updateSlidesProgress:zJ,updateProgress:qJ,updateSlidesClasses:WJ,updateActiveIndex:HJ,updateClickedSlide:GJ};function YJ(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=EJ(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function XJ(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,c=0;const d=0;n.isHorizontal()?a=r?-t:t:c=t,i.roundLengths&&(a=Math.floor(a),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-c:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${c}px, ${d}px)`);let f;const h=n.maxTranslate()-n.minTranslate();h===0?f=0:f=(t-n.minTranslate())/h,f!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function QJ(){return-this.snapGrid[0]}function JJ(){return-this.snapGrid[this.snapGrid.length-1]}function ZJ(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const c=s.minTranslate(),d=s.maxTranslate();let f;if(r&&t>c?f=c:r&&t<d?f=d:f=t,s.updateProgress(f),o.cssMode){const h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-f;else{if(!s.support.smoothScroll)return WI({swiper:s,targetPosition:-f,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(m){!s||s.destroyed||m.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var eZ={getTranslate:YJ,setTranslate:XJ,minTranslate:QJ,maxTranslate:JJ,translateTo:ZJ};function tZ(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function KI(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&a==="reset"?e.emit(`slideResetTransition${i}`):n&&s!==o&&(e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function nZ(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),KI({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function rZ(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),KI({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var iZ={setTransition:tZ,transitionStart:nZ,transitionEnd:rZ};function sZ(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:c,slidesGrid:d,previousIndex:f,activeIndex:h,rtlTranslate:m,wrapperEl:g,enabled:b}=s;if(!b&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const S=Math.min(s.params.slidesPerGroupSkip,o);let T=S+Math.floor((o-S)/s.params.slidesPerGroup);T>=c.length&&(T=c.length-1);const E=-c[T];if(a.normalizeSlideIndex)for(let F=0;F<d.length;F+=1){const L=-Math.floor(E*100),B=Math.floor(d[F]*100),$=Math.floor(d[F+1]*100);typeof d[F+1]<"u"?L>=B&&L<$-($-B)/2?o=F:L>=B&&L<$&&(o=F+1):L>=B&&(o=F)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(m?E>s.translate&&E>s.minTranslate():E<s.translate&&E<s.minTranslate())||!s.allowSlidePrev&&E>s.translate&&E>s.maxTranslate()&&(h||0)!==o))return!1;o!==(f||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(E);let C;o>h?C="next":o<h?C="prev":C="reset";const I=s.virtual&&s.params.virtual.enabled;if(!(I&&i)&&(m&&-E===s.translate||!m&&E===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(E),C!=="reset"&&(s.transitionStart(n,C),s.transitionEnd(n,C)),!1;if(a.cssMode){const F=s.isHorizontal(),L=m?E:-E;if(e===0)I&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),I&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[F?"scrollLeft":"scrollTop"]=L})):g[F?"scrollLeft":"scrollTop"]=L,I&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return WI({swiper:s,targetPosition:L,side:F?"left":"top"}),!0;g.scrollTo({[F?"left":"top"]:L,behavior:"smooth"})}return!0}const ae=GI().isSafari;return I&&!i&&ae&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(E),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,C),e===0?s.transitionEnd(n,C):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(L){!s||s.destroyed||L.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,C))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function oZ(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const m=o*i.params.grid.rows;a=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===m).column}else a=i.getSlideIndexByData(o);const c=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let f=i.params.slidesPerView;f==="auto"?f=i.slidesPerViewDynamic():(f=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&f%2===0&&(f=f+1));let h=c-a<f;if(d&&(h=h||a<Math.ceil(f/2)),r&&d&&i.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const m=d?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?a+1:a-c+1,slideRealIndex:m==="next"?i.realIndex:void 0})}if(s){const m=o*i.params.grid.rows;o=i.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===m).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function aZ(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:a,d=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!d&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function lZ(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:c,animating:d}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const f=r.virtual&&i.virtual.enabled;if(i.loop){if(d&&!f&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=a?r.translate:-r.translate;function m(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const g=m(h),b=s.map(C=>m(C)),S=i.freeMode&&i.freeMode.enabled;let T=s[b.indexOf(g)-1];if(typeof T>"u"&&(i.cssMode||S)){let C;s.forEach((I,j)=>{g>=I&&(C=j)}),typeof C<"u"&&(T=S?s[C]:s[C>0?C-1:C])}let E=0;if(typeof T<"u"&&(E=o.indexOf(T),E<0&&(E=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(E=E-r.slidesPerViewDynamic("previous",!0)+1,E=Math.max(E,0))),i.rewind&&r.isBeginning){const C=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(C,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(E,t,e,n)}),!0;return r.slideTo(E,t,e,n)}function cZ(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function uZ(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[a]){const d=i.snapGrid[a],f=i.snapGrid[a+1];c-d>(f-d)*r&&(s+=i.params.slidesPerGroup)}else{const d=i.snapGrid[a-1],f=i.snapGrid[a];c-d<=(f-d)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function dZ(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):i>(a?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(Ya(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),qI(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var fZ={slideTo:sZ,slideToLoop:oZ,slideNext:aZ,slidePrev:lZ,slideReset:cZ,slideToClosest:uZ,slideToClickedSlide:dZ};function hZ(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Ya(i,`.${r.slideClass}, swiper-slide`).forEach((g,b)=>{g.setAttribute("data-swiper-slide-index",b)})},o=()=>{const m=Ya(i,`.${r.slideBlankClass}`);m.forEach(g=>{g.remove()}),m.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&o();const c=r.slidesPerGroup*(a?r.grid.rows:1),d=n.slides.length%c!==0,f=a&&n.slides.length%r.grid.rows!==0,h=m=>{for(let g=0;g<m;g+=1){const b=n.isElement?vy("swiper-slide",[r.slideBlankClass]):vy("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(b)}};if(d){if(r.loopAddBlankSlides){const m=c-n.slides.length%c;h(m),n.recalcSlides(),n.updateSlides()}else yy("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(f){if(r.loopAddBlankSlides){const m=r.grid.rows-n.slides.length%r.grid.rows;h(m),n.recalcSlides(),n.updateSlides()}else yy("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function pZ(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:c}=t===void 0?{}:t;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:f,allowSlidePrev:h,allowSlideNext:m,slidesEl:g,params:b}=d,{centeredSlides:S,initialSlide:T}=b;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&b.virtual.enabled){n&&(!b.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):b.centeredSlides&&d.snapIndex<b.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=h,d.allowSlideNext=m,d.emit("loopFix");return}let E=b.slidesPerView;E==="auto"?E=d.slidesPerViewDynamic():(E=Math.ceil(parseFloat(b.slidesPerView,10)),S&&E%2===0&&(E=E+1));const C=b.slidesPerGroupAuto?E:b.slidesPerGroup;let I=S?Math.max(C,Math.ceil(E/2)):C;I%C!==0&&(I+=C-I%C),I+=b.loopAdditionalSlides,d.loopedSlides=I;const j=d.grid&&b.grid&&b.grid.rows>1;f.length<E+I||d.params.effect==="cards"&&f.length<E+I*2?yy("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):j&&b.grid.fill==="row"&&yy("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const K=[],ae=[],F=j?Math.ceil(f.length/b.grid.rows):f.length,L=o&&F-T<E&&!S;let B=L?T:d.activeIndex;typeof s>"u"?s=d.getSlideIndex(f.find(fe=>fe.classList.contains(b.slideActiveClass))):B=s;const $=r==="next"||!r,k=r==="prev"||!r;let D=0,q=0;const we=(j?f[s].column:s)+(S&&typeof i>"u"?-E/2+.5:0);if(we<I){D=Math.max(I-we,C);for(let fe=0;fe<I-we;fe+=1){const ve=fe-Math.floor(fe/F)*F;if(j){const ce=F-ve-1;for(let ne=f.length-1;ne>=0;ne-=1)f[ne].column===ce&&K.push(ne)}else K.push(F-ve-1)}}else if(we+E>F-I){q=Math.max(we-(F-I*2),C),L&&(q=Math.max(q,E-F+T+1));for(let fe=0;fe<q;fe+=1){const ve=fe-Math.floor(fe/F)*F;j?f.forEach((ce,ne)=>{ce.column===ve&&ae.push(ne)}):ae.push(ve)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&f.length<E+I*2&&(ae.includes(s)&&ae.splice(ae.indexOf(s),1),K.includes(s)&&K.splice(K.indexOf(s),1)),k&&K.forEach(fe=>{f[fe].swiperLoopMoveDOM=!0,g.prepend(f[fe]),f[fe].swiperLoopMoveDOM=!1}),$&&ae.forEach(fe=>{f[fe].swiperLoopMoveDOM=!0,g.append(f[fe]),f[fe].swiperLoopMoveDOM=!1}),d.recalcSlides(),b.slidesPerView==="auto"?d.updateSlides():j&&(K.length>0&&k||ae.length>0&&$)&&d.slides.forEach((fe,ve)=>{d.grid.updateSlide(ve,fe,d.slides)}),b.watchSlidesProgress&&d.updateSlidesOffset(),n){if(K.length>0&&k){if(typeof e>"u"){const fe=d.slidesGrid[B],ce=d.slidesGrid[B+D]-fe;c?d.setTranslate(d.translate-ce):(d.slideTo(B+Math.ceil(D),0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-ce,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-ce))}else if(i){const fe=j?K.length/b.grid.rows:K.length;d.slideTo(d.activeIndex+fe,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(ae.length>0&&$)if(typeof e>"u"){const fe=d.slidesGrid[B],ce=d.slidesGrid[B-q]-fe;c?d.setTranslate(d.translate-ce):(d.slideTo(B-q,0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-ce,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-ce))}else{const fe=j?ae.length/b.grid.rows:ae.length;d.slideTo(d.activeIndex-fe,0,!1,!0)}}if(d.allowSlidePrev=h,d.allowSlideNext=m,d.controller&&d.controller.control&&!a){const fe={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(ve=>{!ve.destroyed&&ve.params.loop&&ve.loopFix({...fe,slideTo:ve.params.slidesPerView===b.slidesPerView?n:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...fe,slideTo:d.controller.control.params.slidesPerView===b.slidesPerView?n:!1})}d.emit("loopFix")}function mZ(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var gZ={loopCreate:hZ,loopFix:pZ,loopDestroy:mZ};function yZ(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function vZ(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var wZ={setGrabCursor:yZ,unsetGrabCursor:vZ};function xZ(t,e){e===void 0&&(e=this);function n(r){if(!r||r===md()||r===Ds())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function YA(t,e,n){const r=Ds(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function bZ(t){const e=this,n=md();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){YA(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!PJ(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const d=!!s.noSwipingClass&&s.noSwipingClass!=="",f=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&f&&(c=f[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,m=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(m?xZ(h,c):c.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const g=o.currentX,b=o.currentY;if(!YA(e,r,g))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=b,i.touchStartTime=gy(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let S=!0;c.matches(i.focusableElements)&&(S=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&n.activeElement.blur();const T=S&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||T)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function _Z(t){const e=md(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].find(K=>K.identifier===r.touchId),!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const f=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){s.startX=f,s.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:f,startY:h,currentX:f,currentY:h}),r.touchStartTime=gy());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(f>s.startX&&-n.translate<=n.maxTranslate()||f<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(f<s.startX&&n.translate<=n.maxTranslate()||f>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=f,s.currentY=h;const m=s.currentX-s.startX,g=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(m**2+g**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let K;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:m*m+g*g>=25&&(K=Math.atan2(Math.abs(g),Math.abs(m))*180/Math.PI,r.isScrolling=n.isHorizontal()?K>i.touchAngle:90-K>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let b=n.isHorizontal()?m:g,S=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(b=Math.abs(b)*(o?1:-1),S=Math.abs(S)*(o?1:-1)),s.diff=b,b*=i.touchRatio,o&&(b=-b,S=-S);const T=n.touchesDirection;n.swipeDirection=b>0?"prev":"next",n.touchesDirection=S>0?"prev":"next";const E=n.params.loop&&!i.cssMode,C=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(E&&C&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const K=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(K)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&T!==n.touchesDirection&&E&&C&&Math.abs(b)>=1){Object.assign(s,{startX:f,startY:h,currentX:f,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=b+r.startTranslate;let I=!0,j=i.resistanceRatio;if(i.touchReleaseOnEdges&&(j=0),b>0?(E&&C&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(I=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+b)**j))):b<0&&(E&&C&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(I=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-b)**j))),I&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(b)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function SZ(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(K=>K.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:c,slidesGrid:d,enabled:f}=e;if(!f||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=gy(),m=h-n.touchStartTime;if(e.allowClick){const K=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(K&&K[0]||r.target,K),e.emit("tap click",r),m<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=gy(),qI(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let g;if(o.followFinger?g=c?e.translate:-e.translate:g=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const b=g>=-e.maxTranslate()&&!e.params.loop;let S=0,T=e.slidesSizesGrid[0];for(let K=0;K<d.length;K+=K<o.slidesPerGroupSkip?1:o.slidesPerGroup){const ae=K<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[K+ae]<"u"?(b||g>=d[K]&&g<d[K+ae])&&(S=K,T=d[K+ae]-d[K]):(b||g>=d[K])&&(S=K,T=d[d.length-1]-d[d.length-2])}let E=null,C=null;o.rewind&&(e.isBeginning?C=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(E=0));const I=(g-d[S])/T,j=S<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(m>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(I>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?E:S+j):e.slideTo(S)),e.swipeDirection==="prev"&&(I>1-o.longSwipesRatio?e.slideTo(S+j):C!==null&&I<0&&Math.abs(I)>o.longSwipesRatio?e.slideTo(C):e.slideTo(S))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(S+j):e.slideTo(S):(e.swipeDirection==="next"&&e.slideTo(E!==null?E:S+j),e.swipeDirection==="prev"&&e.slideTo(C!==null?C:S))}}function XA(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function TZ(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function EZ(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function AZ(t){const e=this;E0(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function CZ(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const YI=(t,e)=>{const n=md(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;!i||typeof i=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&s[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",XA,!0):t[d]("observerUpdate",XA,!0),i[c]("load",t.onLoad,{capture:!0}))};function PZ(){const t=this,{params:e}=t;t.onTouchStart=bZ.bind(t),t.onTouchMove=_Z.bind(t),t.onTouchEnd=SZ.bind(t),t.onDocumentTouchStart=CZ.bind(t),e.cssMode&&(t.onScroll=EZ.bind(t)),t.onClick=TZ.bind(t),t.onLoad=AZ.bind(t),YI(t,"on")}function kZ(){YI(this,"off")}var NZ={attachEvents:PZ,detachEvents:kZ};const QA=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function IZ(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=md(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),d=t.getBreakpoint(s,a,c);if(!d||t.currentBreakpoint===d)return;const h=(d in s?s[d]:void 0)||t.originalParams,m=QA(t,r),g=QA(t,h),b=t.params.grabCursor,S=h.grabCursor,T=r.enabled;m&&!g?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!m&&g&&(i.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),b&&!S?t.unsetGrabCursor():!b&&S&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ae=>{if(typeof h[ae]>"u")return;const F=r[ae]&&r[ae].enabled,L=h[ae]&&h[ae].enabled;F&&!L&&t[ae].disable(),!F&&L&&t[ae].enable()});const E=h.direction&&h.direction!==r.direction,C=r.loop&&(h.slidesPerView!==r.slidesPerView||E),I=r.loop;E&&n&&t.changeDirection(),No(t.params,h);const j=t.params.enabled,K=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),T&&!j?t.disable():!T&&j&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",h),n&&(C?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!I&&K?(t.loopCreate(e),t.updateSlides()):I&&!K&&t.loopDestroy()),t.emit("breakpoint",h)}function RZ(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Ds(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const c=parseFloat(a.substr(1));return{value:s*c,point:a}}return{value:a,point:a}});o.sort((a,c)=>parseInt(a.value,10)-parseInt(c.value,10));for(let a=0;a<o.length;a+=1){const{point:c,value:d}=o[a];e==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=n.clientWidth&&(r=c)}return r||"max"}var LZ={setBreakpoint:IZ,getBreakpoint:RZ};function jZ(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function DZ(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=jZ(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function OZ(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var MZ={addClasses:DZ,removeClasses:OZ};function FZ(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var VZ={checkOverflow:FZ},ix={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function BZ(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){No(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){No(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),No(e,r)}}const C2={eventsEmitter:MJ,update:KJ,translate:eZ,transition:iZ,slide:fZ,loop:gZ,grabCursor:wZ,events:NZ,breakpoints:LZ,checkOverflow:VZ,classes:MZ},P2={};let e5=class yc{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=No({},n),e&&!n.el&&(n.el=e);const o=md();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const f=[];return o.querySelectorAll(n.el).forEach(h=>{const m=No({},n,{el:h});f.push(new yc(m))}),f}const a=this;a.__swiper__=!0,a.support=$I(),a.device=HI({userAgent:n.userAgent}),a.browser=GI(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const c={};a.modules.forEach(f=>{f({params:n,swiper:a,extendParams:BZ(n,c),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const d=No({},ix,c);return a.params=No({},d,P2,n),a.originalParams=No({},a.params),a.passedParams=No({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(f=>{a.on(f,a.params.on[f])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=Ya(n,`.${r.slideClass}, swiper-slide`),s=$A(i[0]);return $A(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Ya(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:c,activeIndex:d}=r;let f=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=s[d]?Math.ceil(s[d].swiperSlideSize):0,m;for(let g=d+1;g<s.length;g+=1)s[g]&&!m&&(h+=Math.ceil(s[g].swiperSlideSize),f+=1,h>c&&(m=!0));for(let g=d-1;g>=0;g-=1)s[g]&&!m&&(h+=s[g].swiperSlideSize,f+=1,h>c&&(m=!0))}else if(e==="current")for(let h=d+1;h<s.length;h+=1)(n?o[h]+a[h]-o[d]<c:o[h]-o[d]<c)&&(f+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<c&&(f+=1);return f}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&E0(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Ya(r,i())[0];return!o&&n.params.createElements&&(o=vy("div",n.params.wrapperClass),r.append(o),Ya(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Wu(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Wu(r,"direction")==="rtl"),wrongRTL:Wu(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?E0(n,s):s.addEventListener("load",o=>{E0(n,o.target)})}),rx(n),n.initialized=!0,rx(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),SJ(r)),r.destroyed=!0),null}static extendDefaults(e){No(P2,e)}static get extendedDefaults(){return P2}static get defaults(){return ix}static installModule(e){yc.prototype.__modules__||(yc.prototype.__modules__=[]);const n=yc.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>yc.installModule(n)),yc):(yc.installModule(e),yc)}};Object.keys(C2).forEach(t=>{Object.keys(C2[t]).forEach(e=>{e5.prototype[e]=C2[t][e]})});e5.use([DJ,OJ]);const XI=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function vf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Nh(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:vf(e[r])&&vf(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Nh(t[r],e[r]):t[r]=e[r]})}function QI(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function JI(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function ZI(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function eR(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function UZ(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function zZ(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:c}=t;const d=i.filter(B=>B!=="children"&&B!=="direction"&&B!=="wrapperClass"),{params:f,pagination:h,navigation:m,scrollbar:g,virtual:b,thumbs:S}=e;let T,E,C,I,j,K,ae,F;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&f.thumbs&&(!f.thumbs.swiper||f.thumbs.swiper.destroyed)&&(T=!0),i.includes("controller")&&r.controller&&r.controller.control&&f.controller&&!f.controller.control&&(E=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(f.pagination||f.pagination===!1)&&h&&!h.el&&(C=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(f.scrollbar||f.scrollbar===!1)&&g&&!g.el&&(I=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(f.navigation||f.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(j=!0);const L=B=>{e[B]&&(e[B].destroy(),B==="navigation"?(e.isElement&&(e[B].prevEl.remove(),e[B].nextEl.remove()),f[B].prevEl=void 0,f[B].nextEl=void 0,e[B].prevEl=void 0,e[B].nextEl=void 0):(e.isElement&&e[B].el.remove(),f[B].el=void 0,e[B].el=void 0))};i.includes("loop")&&e.isElement&&(f.loop&&!r.loop?K=!0:!f.loop&&r.loop?ae=!0:F=!0),d.forEach(B=>{if(vf(f[B])&&vf(r[B]))Object.assign(f[B],r[B]),(B==="navigation"||B==="pagination"||B==="scrollbar")&&"enabled"in r[B]&&!r[B].enabled&&L(B);else{const $=r[B];($===!0||$===!1)&&(B==="navigation"||B==="pagination"||B==="scrollbar")?$===!1&&L(B):f[B]=r[B]}}),d.includes("controller")&&!E&&e.controller&&e.controller.control&&f.controller&&f.controller.control&&(e.controller.control=f.controller.control),i.includes("children")&&n&&b&&f.virtual.enabled?(b.slides=n,b.update(!0)):i.includes("virtual")&&b&&f.virtual.enabled&&(n&&(b.slides=n),b.update(!0)),i.includes("children")&&n&&f.loop&&(F=!0),T&&S.init()&&S.update(!0),E&&(e.controller.control=f.controller.control),C&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(f.pagination.el=c),h.init(),h.render(),h.update()),I&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(f.scrollbar.el=a),g.init(),g.updateSize(),g.setTranslate()),j&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),GA(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),GA(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),s&&(f.navigation.nextEl=s),o&&(f.navigation.prevEl=o),m.init(),m.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(K||F)&&e.loopDestroy(),(ae||F)&&e.loopCreate(),e.update()}function qZ(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};Nh(n,ix),n._emitClasses=!0,n.init=!1;const s={},o=XI.map(c=>c.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?vf(t[c])?(n[c]={},i[c]={},Nh(n[c],t[c]),Nh(i[c],t[c])):(n[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:s[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:s,events:r}}function WZ(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;QI(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),JI(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),ZI(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function $Z(t,e,n,r,i){const s=[];if(!e)return s;const o=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(i),d=n.map(i);c.join("")!==d.join("")&&o("children"),r.length!==n.length&&o("children")}return XI.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(vf(t[c])&&vf(e[c])){const d=Object.keys(t[c]),f=Object.keys(e[c]);d.length!==f.length?o(c):(d.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}),f.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}))}else t[c]!==e[c]&&o(c)}),s}const HZ=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wy.apply(this,arguments)}function tR(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function nR(t){const e=[];return rt.Children.toArray(t).forEach(n=>{tR(n)?e.push(n):n.props&&n.props.children&&nR(n.props.children).forEach(r=>e.push(r))}),e}function GZ(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return rt.Children.toArray(t).forEach(r=>{if(tR(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=nR(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function KZ(t,e,n){if(!n)return null;const r=f=>{let h=f;return f<0?h=e.length+f:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let f=a;f<c;f+=1)f>=s&&f<=o&&d.push(e[r(f)]);return d.map((f,h)=>rt.cloneElement(f,{swiper:t,style:i,key:f.props.virtualIndex||f.key||`slide-${h}`}))}function nm(t,e){return typeof window>"u"?z.useEffect(t,e):z.useLayoutEffect(t,e)}const JA=z.createContext(null),YZ=z.createContext(null),sx=z.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,c=!1;const[d,f]=z.useState("swiper"),[h,m]=z.useState(null),[g,b]=z.useState(!1),S=z.useRef(!1),T=z.useRef(null),E=z.useRef(null),C=z.useRef(null),I=z.useRef(null),j=z.useRef(null),K=z.useRef(null),ae=z.useRef(null),F=z.useRef(null),{params:L,passedParams:B,rest:$,events:k}=qZ(a),{slides:D,slots:q}=GZ(s),se=()=>{b(!g)};Object.assign(L.on,{_containerClasses(ne,Y){f(Y)}});const we=()=>{Object.assign(L.on,k),c=!0;const ne={...L};if(delete ne.wrapperClass,E.current=new e5(ne),E.current.virtual&&E.current.params.virtual.enabled){E.current.virtual.slides=D;const Y={cache:!1,slides:D,renderExternal:m,renderExternalUpdate:!1};Nh(E.current.params.virtual,Y),Nh(E.current.originalParams.virtual,Y)}};T.current||we(),E.current&&E.current.on("_beforeBreakpoint",se);const fe=()=>{c||!k||!E.current||Object.keys(k).forEach(ne=>{E.current.on(ne,k[ne])})},ve=()=>{!k||!E.current||Object.keys(k).forEach(ne=>{E.current.off(ne,k[ne])})};z.useEffect(()=>()=>{E.current&&E.current.off("_beforeBreakpoint",se)}),z.useEffect(()=>{!S.current&&E.current&&(E.current.emitSlidesClasses(),S.current=!0)}),nm(()=>{if(e&&(e.current=T.current),!!T.current)return E.current.destroyed&&we(),WZ({el:T.current,nextEl:j.current,prevEl:K.current,paginationEl:ae.current,scrollbarEl:F.current,swiper:E.current},L),o&&!E.current.destroyed&&o(E.current),()=>{E.current&&!E.current.destroyed&&E.current.destroy(!0,!1)}},[]),nm(()=>{fe();const ne=$Z(B,C.current,D,I.current,Y=>Y.key);return C.current=B,I.current=D,ne.length&&E.current&&!E.current.destroyed&&zZ({swiper:E.current,slides:D,passedParams:B,changedParams:ne,nextEl:j.current,prevEl:K.current,scrollbarEl:F.current,paginationEl:ae.current}),()=>{ve()}}),nm(()=>{HZ(E.current)},[h]);function ce(){return L.virtual?KZ(E.current,D,h):D.map((ne,Y)=>rt.cloneElement(ne,{swiper:E.current,swiperSlideIndex:Y}))}return rt.createElement(r,wy({ref:T,className:eR(`${d}${n?` ${n}`:""}`)},$),rt.createElement(YZ.Provider,{value:E.current},q["container-start"],rt.createElement(i,{className:UZ(L.wrapperClass)},q["wrapper-start"],ce(),q["wrapper-end"]),QI(L)&&rt.createElement(rt.Fragment,null,rt.createElement("div",{ref:K,className:"swiper-button-prev"}),rt.createElement("div",{ref:j,className:"swiper-button-next"})),ZI(L)&&rt.createElement("div",{ref:F,className:"swiper-scrollbar"}),JI(L)&&rt.createElement("div",{ref:ae,className:"swiper-pagination"}),q["container-end"]))});sx.displayName="Swiper";const ox=z.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:c,swiperSlideIndex:d,...f}=t===void 0?{}:t;const h=z.useRef(null),[m,g]=z.useState("swiper-slide"),[b,S]=z.useState(!1);function T(j,K,ae){K===h.current&&g(ae)}nm(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){m!=="swiper-slide"&&g("swiper-slide");return}return s.on("_slideClass",T),()=>{s&&s.off("_slideClass",T)}}}),nm(()=>{s&&h.current&&!s.destroyed&&g(s.getSlideClasses(h.current))},[s]);const E={isActive:m.indexOf("swiper-slide-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0},C=()=>typeof r=="function"?r(E):r,I=()=>{S(!0)};return rt.createElement(n,wy({ref:h,className:eR(`${m}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:I},f),o&&rt.createElement(JA.Provider,{value:E},rt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},C(),a&&!b&&rt.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&rt.createElement(JA.Provider,{value:E},C(),a&&!b&&rt.createElement("div",{className:"swiper-lazy-preloader"})))});ox.displayName="SwiperSlide";function XZ(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Ya(t.el,`.${r[i]}`)[0];s||(s=vy("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function QZ(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(b){let S;return b&&typeof b=="string"&&e.isElement&&(S=e.el.querySelector(b)||e.hostEl.querySelector(b),S)?S:(b&&(typeof b=="string"&&(S=[...document.querySelectorAll(b)]),e.params.uniqueNavElements&&typeof b=="string"&&S&&S.length>1&&e.el.querySelectorAll(b).length===1?S=e.el.querySelector(b):S&&S.length===1&&(S=S[0])),b&&!S?b:S)}function o(b,S){const T=e.params.navigation;b=gc(b),b.forEach(E=>{E&&(E.classList[S?"add":"remove"](...T.disabledClass.split(" ")),E.tagName==="BUTTON"&&(E.disabled=S),e.params.watchOverflow&&e.enabled&&E.classList[e.isLocked?"add":"remove"](T.lockClass))})}function a(){const{nextEl:b,prevEl:S}=e.navigation;if(e.params.loop){o(S,!1),o(b,!1);return}o(S,e.isBeginning&&!e.params.rewind),o(b,e.isEnd&&!e.params.rewind)}function c(b){b.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function d(b){b.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function f(){const b=e.params.navigation;if(e.params.navigation=XZ(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(b.nextEl||b.prevEl))return;let S=s(b.nextEl),T=s(b.prevEl);Object.assign(e.navigation,{nextEl:S,prevEl:T}),S=gc(S),T=gc(T);const E=(C,I)=>{C&&C.addEventListener("click",I==="next"?d:c),!e.enabled&&C&&C.classList.add(...b.lockClass.split(" "))};S.forEach(C=>E(C,"next")),T.forEach(C=>E(C,"prev"))}function h(){let{nextEl:b,prevEl:S}=e.navigation;b=gc(b),S=gc(S);const T=(E,C)=>{E.removeEventListener("click",C==="next"?d:c),E.classList.remove(...e.params.navigation.disabledClass.split(" "))};b.forEach(E=>T(E,"next")),S.forEach(E=>T(E,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?g():(f(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:b,prevEl:S}=e.navigation;if(b=gc(b),S=gc(S),e.enabled){a();return}[...b,...S].filter(T=>!!T).forEach(T=>T.classList.add(e.params.navigation.lockClass))}),r("click",(b,S)=>{let{nextEl:T,prevEl:E}=e.navigation;T=gc(T),E=gc(E);const C=S.target;let I=E.includes(C)||T.includes(C);if(e.isElement&&!I){const j=S.path||S.composedPath&&S.composedPath();j&&(I=j.find(K=>T.includes(K)||E.includes(K)))}if(e.params.navigation.hideOnClick&&!I){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===C||e.pagination.el.contains(C)))return;let j;T.length?j=T[0].classList.contains(e.params.navigation.hiddenClass):E.length&&(j=E[0].classList.contains(e.params.navigation.hiddenClass)),i(j===!0?"navigationShow":"navigationHide"),[...T,...E].filter(K=>!!K).forEach(K=>K.classList.toggle(e.params.navigation.hiddenClass))}});const m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),f(),a()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:m,disable:g,update:a,init:f,destroy:h})}function ZA(t){let{swiper:e,extendParams:n,on:r}=t;n({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,s=!1;e.thumbs={swiper:null};function o(){const d=e.thumbs.swiper;if(!d||d.destroyed)return;const f=d.clickedIndex,h=d.clickedSlide;if(h&&h.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof f>"u"||f===null)return;let m;d.params.loop?m=parseInt(d.clickedSlide.getAttribute("data-swiper-slide-index"),10):m=f,e.params.loop?e.slideToLoop(m):e.slideTo(m)}function a(){const{thumbs:d}=e.params;if(i)return!1;i=!0;const f=e.constructor;if(d.swiper instanceof f){if(d.swiper.destroyed)return i=!1,!1;e.thumbs.swiper=d.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(zp(d.swiper)){const h=Object.assign({},d.swiper);Object.assign(h,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new f(h),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function c(d){const f=e.thumbs.swiper;if(!f||f.destroyed)return;const h=f.params.slidesPerView==="auto"?f.slidesPerViewDynamic():f.params.slidesPerView;let m=1;const g=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(m=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(m=1),m=Math.floor(m),f.slides.forEach(T=>T.classList.remove(g)),f.params.loop||f.params.virtual&&f.params.virtual.enabled)for(let T=0;T<m;T+=1)Ya(f.slidesEl,`[data-swiper-slide-index="${e.realIndex+T}"]`).forEach(E=>{E.classList.add(g)});else for(let T=0;T<m;T+=1)f.slides[e.realIndex+T]&&f.slides[e.realIndex+T].classList.add(g);const b=e.params.thumbs.autoScrollOffset,S=b&&!f.params.loop;if(e.realIndex!==f.realIndex||S){const T=f.activeIndex;let E,C;if(f.params.loop){const I=f.slides.find(j=>j.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);E=f.slides.indexOf(I),C=e.activeIndex>e.previousIndex?"next":"prev"}else E=e.realIndex,C=E>e.previousIndex?"next":"prev";S&&(E+=C==="next"?b:-1*b),f.visibleSlidesIndexes&&f.visibleSlidesIndexes.indexOf(E)<0&&(f.params.centeredSlides?E>T?E=E-Math.floor(h/2)+1:E=E+Math.floor(h/2)-1:E>T&&f.params.slidesPerGroup,f.slideTo(E,d?0:void 0))}}r("beforeInit",()=>{const{thumbs:d}=e.params;if(!(!d||!d.swiper))if(typeof d.swiper=="string"||d.swiper instanceof HTMLElement){const f=md(),h=()=>{const g=typeof d.swiper=="string"?f.querySelector(d.swiper):d.swiper;if(g&&g.swiper)d.swiper=g.swiper,a(),c(!0);else if(g){const b=`${e.params.eventsPrefix}init`,S=T=>{d.swiper=T.detail[0],g.removeEventListener(b,S),a(),c(!0),d.swiper.update(),e.update()};g.addEventListener(b,S)}return g},m=()=>{if(e.destroyed)return;h()||requestAnimationFrame(m)};requestAnimationFrame(m)}else a(),c(!0)}),r("slideChange update resize observerUpdate",()=>{c()}),r("setTransition",(d,f)=>{const h=e.thumbs.swiper;!h||h.destroyed||h.setTransition(f)}),r("beforeDestroy",()=>{const d=e.thumbs.swiper;!d||d.destroyed||s&&d.destroy()}),Object.assign(e.thumbs,{init:a,update:c})}const JZ=[{id:1,label:"Special Price",details:"Get extra 20% off upto 40 on 2 items",code:"W2C20"},{id:2,label:"Bank Offer",details:"5% cashback on Flipkart Axis Bank Credit Card",code:"FLPKT5"},{id:3,label:"Bank Offer",details:"10% off up to 1000 on ICICI Bank Credit Card on orders above 1000",code:"ICICI10"}];function ZZ({offers:t,onCopy:e}){return v.jsxs(Yt.section,{className:"rounded-xl p-4 md:p-6 mb-6",style:{background:"var(--offer-bg)",border:"1.5px solid var(--offer-border)",boxShadow:"0 2px 16px 0 var(--offer-shadow)",transition:"background 0.4s,border 0.4s"},initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},children:[v.jsx("style",{children:`
        :root {
          --offer-bg: #fff6fa;
          --offer-border: #ffdce8;
          --offer-shadow: #ff3f6c12;
          --offer-label: #ff3f6c;
          --offer-desc: #1a1a1a;
          --offer-pill-bg: #ffe5ef;
          --offer-pill-color: #ff3f6c;
        }
        @media (prefers-color-scheme: dark) {
          :root {
            --offer-bg: #23182a;
            --offer-border: #39213d;
            --offer-shadow: #a03c5b2e;
            --offer-label: #ff87aa;
            --offer-desc: #fff1f0;
            --offer-pill-bg: #401d2b;
            --offer-pill-color: #ffb2c8;
            }
          }
        `}),v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(AS,{size:24,className:"text-[color:var(--offer-label)]"}),v.jsx("span",{className:"text-lg md:text-xl font-bold tracking-tight text-[color:var(--offer-label)]",children:"Offers & Coupons"})]}),v.jsx("ul",{className:"space-y-3 mt-2",children:t.map(n=>v.jsxs("li",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3 py-3 rounded group",children:[v.jsx("span",{className:"w-1.5 h-7 rounded-full bg-[color:var(--offer-label)] opacity-80 hidden sm:block mr-2"}),v.jsxs("span",{className:"inline-flex items-center gap-1.5 text-[color:var(--offer-label)] font-semibold",children:[v.jsx(AS,{size:18,className:"opacity-80"}),n.label]}),v.jsx("span",{className:"text-[color:var(--offer-desc)] dark:text-[color:var(--offer-desc)] text-base font-medium break-words",children:n.details}),v.jsxs("span",{className:"ml-auto flex items-center gap-2 max-w-full",children:[v.jsx("span",{className:"rounded-full px-3 text-xs md:text-sm py-1 bg-[color:var(--offer-pill-bg)] text-[color:var(--offer-pill-color)] font-bold font-mono shadow-sm tracking-wider border truncate",style:{borderColor:"var(--offer-border)",userSelect:"all"},children:n.code}),v.jsx("button",{className:"group-hover:scale-110 transition p-1 rounded text-[color:var(--offer-label)] hover:bg-[color:var(--offer-pill-bg)]",onClick:()=>e(n.code),"aria-label":"Copy coupon code",type:"button",children:v.jsx(XM,{size:18})})]})]},n.id))})]})}function Iu({label:t,value:e}){return v.jsxs("div",{className:"flex flex-wrap gap-y-2 gap-x-5",children:[v.jsxs("div",{className:"w-full sm:w-32 text-gray-600 dark:text-gray-300 font-semibold",children:[t,":"]}),v.jsx("div",{className:"flex-1 text-gray-900 dark:text-white font-medium break-words",children:e})]})}function eC(){const{productId:t}=hC(),e=Za(),{addToCart:n}=Xh(),[r,i]=z.useState(null),[s,o]=z.useState(null),[a,c]=z.useState(!1),[d,f]=z.useState([]),[h,m]=z.useState(!0),[g,b]=z.useState(""),[S,T]=z.useState(5),[E,C]=z.useState(null),[I,j]=z.useState(""),[K,ae]=z.useState(""),[F,L]=z.useState(!1),B=z.useRef(null),{user:$}=Fo();z.useEffect(()=>{m(!0);async function we(){try{const fe=Hn(ln,"wishlist2cart_brands",t),ve=await hf(fe);if(ve.exists()){const ce=ve.data();i({id:ve.id,...ce,createdAt:ce.createdAt?ce.createdAt.toDate():null}),c(!1)}else e("/404")}catch(fe){mn.error("Failed to load product details: "+fe.message)}finally{m(!1)}}we()},[t,e]),z.useEffect(()=>{if(!t)return;async function we(){try{const fe=ff(so(ln,"product_reviews"),_c("productId","==",t),sv("createdAt","desc")),ce=(await pf(fe)).docs.map(ne=>({id:ne.id,...ne.data(),createdAt:ne.data().createdAt?.toDate?.()||new Date}));f(ce)}catch{mn.error("Failed to load reviews")}}we()},[t]);const k=we=>{navigator.clipboard.writeText(we),mn.success("Copied!")},D=()=>{Uu({particleCount:120,spread:120,origin:{y:.6}})},q=()=>{r&&(n(r,1),D(),mn.success("Added to cart!"),setTimeout(()=>e("/cart"),800))},se=async we=>{if(we.preventDefault(),!g.trim()){mn.error("Please add some text to your review.");return}if(!$){mn.error("Please login to submit a review.");return}L(!0);try{await ov(so(ln,"product_reviews"),{productId:t,name:$.displayName||$.email||"Anonymous",rating:S,comment:g.trim(),media:"",mediaType:K,createdAt:jc()}),f(fe=>[{id:Date.now().toString(),productId:t,name:$.displayName||$.email||"Anonymous",rating:S,comment:g.trim(),createdAt:new Date,media:"",mediaType:K},...fe]),b(""),T(5),C(null),j(""),ae(""),mn.success("Review submitted!"),D()}catch(fe){mn.error("Failed to submit review."),console.error(fe)}L(!1)};return h||!r?v.jsx("div",{className:"max-w-6xl mx-auto px-3 font-poppins",children:v.jsx(Th,{height:500})}):v.jsxs(v.Fragment,{children:[v.jsx(xJ,{}),v.jsx("div",{className:"overflow-x-hidden min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 md:px-8 py-6 max-w-7xl",children:[v.jsx(Et,{variant:"ghost",onClick:()=>e(-1),className:"mb-4 text-gray-900 dark:text-gray-100 hover:text-pink-600 dark:hover:text-pink-400 transition-colors font-semibold text-base sm:text-lg",children:" Back"}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-12",children:[v.jsxs("section",{className:"w-full md:w-6/12 flex flex-col space-y-5",children:[v.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-white tracking-tight break-words",children:r.title}),v.jsxs("div",{className:"text-xl sm:text-2xl font-extrabold flex items-center gap-2 text-blue-700 dark:text-blue-400 flex-wrap",children:[v.jsxs("span",{children:["",r.price?.toLocaleString("en-IN")]}),r.sourcePrice&&v.jsxs("span",{className:"text-base sm:text-lg font-medium line-through text-gray-400 dark:text-gray-500",children:["",r.sourcePrice.toLocaleString("en-IN")]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 mb-3 max-w-full overflow-hidden",children:[(r.tags||[]).map(we=>v.jsx("span",{className:"truncate block max-w-[150px] bg-pink-100 dark:bg-pink-900 text-pink-700 dark:text-pink-200 px-3 py-1 rounded-full text-xs sm:text-sm uppercase font-semibold tracking-wide",title:we,children:we},we)),r.brand&&v.jsx("span",{className:"ml-auto bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200 px-3 py-1 rounded-full text-xs sm:text-sm font-medium tracking-wide truncate max-w-[150px]",title:r.brand,children:r.brand})]}),v.jsx(ZZ,{offers:JZ,onCopy:k}),v.jsx(Et,{size:"lg",className:"bg-blue-700 dark:bg-blue-500 hover:bg-blue-600 dark:hover:bg-blue-400 text-white font-bold rounded-full px-6 py-3 shadow-lg transition-colors w-full max-w-xs",onClick:q,"aria-label":"Add product to cart",children:"Add to Cart"}),v.jsxs("div",{className:"p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-2xl shadow border border-gray-200 dark:border-gray-700 mt-6",children:[v.jsx("div",{className:"text-pink-600 dark:text-pink-300 font-bold text-lg mb-3",children:"Product Details"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm sm:text-base",children:[v.jsx(Iu,{label:"Brand",value:r.brand||"-"}),v.jsx(Iu,{label:"Fit",value:r.fit||"-"}),v.jsx(Iu,{label:"Material",value:r.material||r.fabric||"-"}),v.jsx(Iu,{label:"Color",value:r.color||"-"}),v.jsx(Iu,{label:"Occasion",value:r.occasion||"-"}),v.jsx(Iu,{label:"Category",value:r.category||"-"}),v.jsx(Iu,{label:"Return Policy",value:r.returnPolicy||"10 days"}),v.jsx(Iu,{label:"Shipping",value:r.shipping||"Usually delivered in 2-5 days"})]})]})]}),v.jsxs("section",{className:"w-full md:w-6/12 flex flex-col items-center gap-3 max-w-full",children:[v.jsx("div",{className:"w-full max-w-full md:max-w-[420px] rounded-3xl overflow-hidden shadow-lg bg-gradient-to-br from-gray-100 to-white dark:from-gray-900 dark:to-gray-800 border border-gray-300 dark:border-gray-700",children:v.jsx(sx,{style:{"--swiper-navigation-color":"#ff3f6c",borderRadius:"inherit"},modules:[QZ,ZA],spaceBetween:10,navigation:!0,thumbs:{swiper:s},className:"w-full max-w-full overflow-hidden",children:r.images?.map((we,fe)=>v.jsxs(ox,{children:[!a&&v.jsx(Th,{height:320,width:"100%"}),v.jsx(Yt.img,{src:we,alt:`${r.title} image ${fe+1}`,className:`w-full aspect-[4/3] object-cover rounded-3xl transition-opacity duration-500 ${a?"opacity-100":"opacity-0"}`,loading:"lazy",onLoad:()=>c(!0),initial:{scale:.95},animate:{scale:a?1:.95,opacity:a?1:0},transition:{duration:.45}})]},fe))})}),v.jsx(sx,{onSwiper:o,modules:[ZA],spaceBetween:10,slidesPerView:Math.min(r.images?.length||0,4),watchSlidesProgress:!0,className:"mt-2 max-w-full overflow-x-auto",style:{maxWidth:350},children:r.images?.map((we,fe)=>v.jsx(ox,{className:"cursor-pointer rounded-lg overflow-hidden border-2 border-white hover:border-pink-400 transition",children:v.jsx("img",{src:we,alt:`Thumbnail ${fe+1}`,className:"w-full h-20 object-cover rounded-lg",loading:"lazy"})},fe))})]})]}),v.jsxs("section",{className:"max-w-3xl mx-auto mt-12 px-4 sm:px-2",children:[v.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-5 flex-wrap",children:[v.jsx("h2",{className:"text-xl sm:text-2xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:"User Reviews"}),d.length>0&&v.jsxs("div",{className:"text-lg flex items-center gap-1 sm:gap-2 text-yellow-400 ml-1 sm:ml-2",children:[v.jsx(lm,{size:20,className:"mt-0.5"}),v.jsx("span",{className:"font-semibold text-base sm:text-lg",children:(d.reduce((we,fe)=>we+(fe.rating||0),0)/d.length).toFixed(1)}),v.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm",children:["(",d.length,")"]})]})]}),v.jsxs(Yt.ul,{layout:!0,className:"space-y-4 max-h-72 sm:max-h-96 overflow-y-auto pr-2 mb-7",children:[d.length===0&&v.jsx(Yt.div,{className:"text-gray-400 italic text-lg py-8 text-center",children:"No reviews yet. Be the first to review!"}),d.map(({id:we,name:fe,rating:ve,comment:ce,createdAt:ne,media:Y,mediaType:W})=>v.jsxs(Yt.li,{layout:!0,initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-white dark:bg-gray-800 px-5 py-4 rounded-xl shadow border border-gray-200 dark:border-gray-700 break-words",style:{fontFamily:"'Poppins',sans-serif",fontSize:16},children:[v.jsxs("div",{className:"flex justify-between items-center mb-1 flex-wrap gap-2",children:[v.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:fe}),v.jsx("div",{className:"flex items-center space-x-1 text-yellow-400","aria-label":`Rating: ${ve} out of 5`,role:"img",children:[...Array(5)].map((V,X)=>v.jsx(lm,{size:16,fill:X<ve?"currentColor":"none",stroke:X<ve?"currentColor":"#a0aec0",className:X<ve?"fill-current":"text-gray-300 dark:text-gray-600"},X))}),v.jsx("span",{className:"ml-auto text-xs text-gray-400 font-mono truncate max-w-[120px]",children:new Date(ne).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})})]}),v.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-1 break-words",children:ce}),Y&&v.jsx("div",{className:"mt-2 rounded overflow-hidden max-h-64",children:W==="image"?v.jsx("img",{src:Y,alt:"Review media",className:"max-h-56 rounded border shadow"}):v.jsx("video",{controls:!0,src:Y,className:"max-h-56 rounded border shadow bg-black"})})]},we))]}),v.jsxs("form",{onSubmit:se,className:"rounded-2xl py-6 px-5 sm:px-6 bg-gradient-to-tr from-pink-50 via-pink-100 to-white dark:from-pink-900 dark:via-pink-800 dark:to-pink-900 border border-pink-300 dark:border-pink-700 shadow flex flex-col gap-4",children:[v.jsx("label",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm sm:text-base",children:"Your Rating"}),v.jsx(FQ,{rating:S,setRating:T}),v.jsx("label",{htmlFor:"comment",className:"font-semibold text-gray-900 dark:text-gray-100 mt-3 text-sm sm:text-base",children:"Your Review"}),v.jsx("textarea",{id:"comment",value:g,onChange:we=>b(we.target.value),disabled:F,rows:4,placeholder:"Write your review here...",className:"w-full max-w-full p-3 rounded border border-pink-300 dark:border-pink-600 bg-white dark:bg-pink-900 text-gray-900 dark:text-pink-100 focus:ring-2 focus:ring-pink-400 transition-colors resize-none",minLength:3,maxLength:400,required:!0,ref:B}),v.jsx(Et,{type:"submit",disabled:F||!$,className:"self-end px-6 py-2 rounded-full shadow-sm bg-pink-600 hover:bg-pink-700 dark:bg-pink-500 dark:hover:bg-pink-400 text-white font-bold transition",children:F?"Submitting...":v.jsxs("span",{className:"flex items-center gap-2 text-sm sm:text-base",children:["Submit Review ",v.jsx(p8,{size:18})]})}),!$&&v.jsx("p",{className:"text-red-500 mt-2 text-center text-sm sm:text-base",children:"Please sign in to add a review."})]})]})]})})]})}const jp=["Mobiles","Fashion","Home Essentials","Sports & Fitness"],Wd=["Amazon","Flipkart","Myntra","Alibaba","Meesho","Other"],r0=[{value:"affiliate",label:"Affiliate (Redirect)"},{value:"dropship",label:"Dropship (You fulfill)"}];async function eee(t){return await new Promise(e=>setTimeout(e,1e3)),{title:"Auto-fetched Product Title",description:"Description fetched from product URL.",image:"https://via.placeholder.com/300x300?text=Product+Image",price:1299.99,category:"Mobiles",platform:Wd.find(e=>t.toLowerCase().includes(e.toLowerCase()))||Wd[0]}}function tee({user:t,existingProduct:e=null,onSaved:n=()=>{}}){const{toast:r}=co(),[i,s]=z.useState({title:"",description:"",image:"",price:"",sourcePrice:"",category:jp[0],platform:Wd[0],url:"",type:r0[0].value,tags:""}),[o,a]=z.useState(!1),[c,d]=z.useState(!1),[f,h]=z.useState(!1),[m,g]=z.useState({});z.useEffect(()=>{e&&s({title:e.title||"",description:e.description||"",image:e.image||"",price:e.price?.toString()||"",sourcePrice:e.sourcePrice?.toString()||"",category:e.category||jp[0],platform:e.platform||Wd[0],url:e.url||"",type:e.type||r0[0].value,tags:e.tags?.join(", ")||""})},[e]);const b=()=>{const j={};return i.type==="dropship"?(i.title.trim()||(j.title="Title required."),(!i.price.trim()||isNaN(Number(i.price))||Number(i.price)<=0)&&(j.price="Valid price required."),i.category||(j.category="Category required."),i.platform||(j.platform="Platform required."),i.url.trim()||(j.url="Product URL required.")):i.type==="affiliate"&&(i.url.trim()||(j.url="Affiliate product URL required.")),i.type||(j.type="Product type required."),g(j),Object.keys(j).length===0},S=(j,K)=>{s(ae=>({...ae,[j]:K}))},T=async()=>{const j=i.url.trim();if(j){h(!0);try{const K=await eee(j);s(ae=>({...ae,title:ae.title||K.title||"",description:ae.description||K.description||"",image:ae.image||K.image||"",price:ae.price||(K.price?K.price.toString():""),category:ae.category||K.category||jp[0],platform:ae.platform||K.platform||Wd[0]})),r({title:"Product info auto-filled from URL"})}catch{r({title:"Failed to fetch product info from URL",variant:"destructive"})}finally{h(!1)}}},E=j=>{if(!j)return;d(!0);const K=X3(J3,`product-images/${Date.now()}-${j.name}`),ae=K3(K,j);ae.on("state_changed",null,F=>{r({title:"Upload failed",description:F.message,variant:"destructive"}),d(!1)},()=>{Y3(ae.snapshot.ref).then(F=>{s(L=>({...L,image:F})),r({title:"Image uploaded successfully."}),d(!1)})})},C=async()=>{if(!(!e||!e.id)&&window.confirm("Are you sure you want to delete this product? This action cannot be undone.")){a(!0);try{const j=Hn(ln,"products",e.id);await xm(j),r({title:"Product deleted successfully."}),n()}catch(j){r({title:"Delete failed",description:j.message,variant:"destructive"})}finally{a(!1)}}},I=async j=>{if(j.preventDefault(),!b())return;a(!0);const K=i.tags?i.tags.split(",").map(F=>F.trim()).filter(Boolean):[],ae={title:i.title.trim(),description:i.description.trim(),image:i.image.trim(),price:i.price.trim()?Number(i.price):void 0,sourcePrice:i.sourcePrice.trim()?Number(i.sourcePrice):void 0,category:i.category,platform:i.platform,url:i.url.trim(),type:i.type,tags:K,isCustom:i.type==="dropship",createdAt:e?.createdAt||jc()};Object.keys(ae).forEach(F=>{ae[F]===void 0&&delete ae[F]});try{if(e&&e.id){const F=Hn(ln,"products",e.id);await Ga(F,ae),r({title:"Product updated!"})}else await ov(so(ln,"products"),{...ae,createdAt:jc()}),r({title:"Product added!"});s({title:"",description:"",image:"",price:"",sourcePrice:"",category:jp[0],platform:Wd[0],url:"",type:r0[0].value,tags:""}),g({}),n()}catch(F){r({title:"Error",description:F.message||"Failed to save product",variant:"destructive"})}finally{a(!1)}};return v.jsxs("form",{onSubmit:I,className:"bg-white dark:bg-gray-900 rounded-lg p-8 max-w-xl mx-auto shadow space-y-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:e?"Edit Product":"Add New Product"}),v.jsxs("div",{children:[v.jsx(Sn,{children:"Product Type *"}),v.jsx("select",{disabled:o||c||f,value:i.type,onChange:j=>S("type",j.target.value),className:"w-full border border-gray-300 dark:border-gray-700 rounded px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:r0.map(j=>v.jsx("option",{value:j.value,children:j.label},j.value))}),m.type&&v.jsx("span",{className:"text-red-500 text-xs",children:m.type})]}),v.jsxs("div",{children:[v.jsx(Sn,{children:"Product URL *"}),v.jsx(Jn,{disabled:o||c||f,value:i.url,onChange:j=>S("url",j.target.value),onBlur:T,placeholder:"Paste full affiliate or dropship product URL",required:!0}),m.url&&v.jsx("span",{className:"text-red-500 text-xs",children:m.url})]}),v.jsxs("div",{children:[v.jsxs(Sn,{children:["Product Title ",i.type==="dropship"?"*":"(optional)"]}),v.jsx(Jn,{disabled:o||c||f,value:i.title,onChange:j=>S("title",j.target.value),placeholder:i.type==="affiliate"?"Optional - enter or auto-filled":""}),m.title&&v.jsx("span",{className:"text-red-500 text-xs",children:m.title})]}),v.jsxs("div",{children:[v.jsx(Sn,{children:"Description"}),v.jsx("textarea",{disabled:o||c||f,value:i.description,onChange:j=>S("description",j.target.value),className:"w-full border border-gray-300 dark:border-gray-700 rounded px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500",rows:3,placeholder:"Enter product description (optional)"})]}),v.jsxs("div",{children:[v.jsxs(Sn,{children:["Product Image URL ",i.type==="dropship"?"*":"(optional)"]}),v.jsx(Jn,{disabled:o||c||f,value:i.image,onChange:j=>S("image",j.target.value),placeholder:"Paste image URL or upload below"}),v.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[v.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer inline-flex items-center gap-2 rounded-md border border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 ${c?"opacity-60 cursor-wait":""}`,children:["Upload Image",v.jsx("input",{id:"image-upload",type:"file",accept:"image/*",disabled:o||c||f,className:"hidden",onChange:j=>{j.target.files&&j.target.files[0]&&(E(j.target.files[0]),j.target.value=null)}})]}),c&&v.jsx("span",{className:"text-sm text-gray-500",children:"Uploading..."}),i.image&&!c&&v.jsx("img",{src:i.image,alt:"Preview",className:"h-12 w-12 rounded object-cover border"})]}),m.image&&v.jsx("span",{className:"text-red-500 text-xs",children:m.image})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsxs(Sn,{children:["Your Price ",i.type==="dropship"?"*":"(optional)"]}),v.jsx(Jn,{type:"number",min:"0",step:"0.01",disabled:o||c||f,value:i.price,onChange:j=>S("price",j.target.value)}),m.price&&v.jsx("span",{className:"text-red-500 text-xs",children:m.price})]}),v.jsxs("div",{children:[v.jsx(Sn,{children:"Source Price (optional)"}),v.jsx(Jn,{type:"number",min:"0",step:"0.01",disabled:o||c||f,value:i.sourcePrice,onChange:j=>S("sourcePrice",j.target.value)})]})]}),v.jsxs("div",{children:[v.jsx(Sn,{children:"Tags (comma separated)"}),v.jsx(Jn,{disabled:o||c||f,value:i.tags,onChange:j=>S("tags",j.target.value)})]}),v.jsxs("div",{children:[v.jsx(Sn,{children:"Platform *"}),v.jsx("select",{disabled:o||c||f,value:i.platform,onChange:j=>S("platform",j.target.value),className:"w-full border border-gray-300 dark:border-gray-700 rounded px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0,children:Wd.map(j=>v.jsx("option",{value:j,children:j},j))}),m.platform&&v.jsx("span",{className:"text-red-500 text-xs",children:m.platform})]}),v.jsxs("div",{children:[v.jsx(Sn,{children:"Category *"}),v.jsx("select",{disabled:o||c||f,value:i.category,onChange:j=>S("category",j.target.value),className:"w-full border border-gray-300 dark:border-gray-700 rounded px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",required:!0,children:jp.map(j=>v.jsx("option",{value:j,children:j},j))}),m.category&&v.jsx("span",{className:"text-red-500 text-xs",children:m.category})]}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsx(Et,{type:"submit",size:"lg",variant:"default",disabled:o||c||f||!1,className:"flex-1",children:e?"Update Product":f?"Fetching data...":"Add Product"}),e&&v.jsx(Et,{type:"button",size:"lg",variant:"destructive",disabled:o||c||f||!1,onClick:C,className:"flex-1",children:"Delete Product"})]}),!1]})}const k2=["Mobiles","Fashion","Home Essentials","Sports & Fitness"],N2=["Amazon","Flipkart","Myntra","Alibaba","Meesho","Other"];function nee({user:t,onSaved:e=()=>{}}){const{toast:n}=co(),[r,i]=z.useState({title:"",description:"",image:"",price:"",sourcePrice:"",category:k2[0],platform:N2[0],url:"",tags:""}),[s,o]=z.useState(!1),[a,c]=z.useState(!1),[d,f]=z.useState({}),h=()=>{const S={};return r.title.trim()||(S.title="Title is required."),r.image.trim()||(S.image="Product image URL or upload is required."),(!r.price.trim()||isNaN(Number(r.price))||Number(r.price)<=0)&&(S.price="Valid price is required."),r.category||(S.category="Category is required."),r.platform||(S.platform="Platform is required."),f(S),Object.keys(S).length===0},m=(S,T)=>{i(E=>({...E,[S]:T}))},g=S=>{if(!S)return;c(!0);const T=X3(J3,`custom-product-images/${Date.now()}-${S.name}`),E=K3(T,S);E.on("state_changed",()=>{},C=>{n({title:"Upload failed",description:C.message,variant:"destructive"}),c(!1)},()=>{Y3(E.snapshot.ref).then(C=>{i(I=>({...I,image:C})),n({title:"Image uploaded successfully."}),c(!1)})})},b=async S=>{if(S.preventDefault(),!h())return;o(!0);const T=r.tags?r.tags.split(",").map(C=>C.trim()).filter(Boolean):[],E={title:r.title.trim(),description:r.description.trim(),image:r.image.trim(),price:Number(r.price),sourcePrice:r.sourcePrice.trim()?Number(r.sourcePrice):null,category:r.category,platform:r.platform,url:r.url.trim()||null,tags:T,type:"custom",isCustom:!0,createdAt:jc()};Object.keys(E).forEach(C=>{E[C]===null&&delete E[C]});try{await ov(so(ln,"wishlist2cart_brands"),E),n({title:"Custom product added successfully."}),i({title:"",description:"",image:"",price:"",sourcePrice:"",category:k2[0],platform:N2[0],url:"",tags:""}),f({}),e()}catch(C){n({title:"Failed to add product",description:C.message||"Unknown error",variant:"destructive"})}finally{o(!1)}};return v.jsxs("form",{onSubmit:b,className:"max-w-xl mx-auto p-6 bg-white rounded shadow space-y-6 dark:bg-gray-900",noValidate:!0,children:[v.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Add New Custom Product"}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"title",children:"Product Title *"}),v.jsx(Jn,{id:"title",value:r.title,onChange:S=>m("title",S.target.value),disabled:s||a,required:!0,"aria-invalid":!!d.title,"aria-describedby":d.title?"title-error":void 0}),d.title&&v.jsx("p",{id:"title-error",className:"text-red-500 text-sm mt-1",children:d.title})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"description",children:"Description"}),v.jsx("textarea",{id:"description",value:r.description,onChange:S=>m("description",S.target.value),disabled:s||a,className:"w-full border rounded p-2 dark:bg-gray-800 dark:text-white",rows:4,placeholder:"Optional"})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"image",children:"Product Image URL *"}),v.jsx(Jn,{id:"image",value:r.image,onChange:S=>m("image",S.target.value),disabled:s||a,placeholder:"Paste image URL or upload below",required:!0,"aria-invalid":!!d.image,"aria-describedby":d.image?"image-error":void 0}),v.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[v.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer inline-flex items-center gap-2 rounded border border-gray-300 bg-gray-100 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 ${a?"opacity-60 cursor-wait":""}`,children:["Upload Image",v.jsx("input",{id:"image-upload",type:"file",accept:"image/*",disabled:s||a,className:"hidden",onChange:S=>{S.target.files&&S.target.files[0]&&(g(S.target.files[0]),S.target.value=null)}})]}),a&&v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Uploading..."}),r.image&&!a&&v.jsx("img",{src:r.image,alt:"Preview",className:"h-12 w-12 rounded object-cover border"})]}),d.image&&v.jsx("p",{id:"image-error",className:"text-red-500 text-sm mt-1",children:d.image})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"price",children:"Your Price *"}),v.jsx(Jn,{id:"price",type:"number",min:"0",step:"0.01",value:r.price,onChange:S=>m("price",S.target.value),disabled:s||a,required:!0,"aria-invalid":!!d.price,"aria-describedby":d.price?"price-error":void 0}),d.price&&v.jsx("p",{id:"price-error",className:"text-red-500 text-sm mt-1",children:d.price})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"sourcePrice",children:"Source Price (optional)"}),v.jsx(Jn,{id:"sourcePrice",type:"number",min:"0",step:"0.01",value:r.sourcePrice,onChange:S=>m("sourcePrice",S.target.value),disabled:s||a,placeholder:"Optional"})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"category",children:"Category *"}),v.jsx("select",{id:"category",value:r.category,onChange:S=>m("category",S.target.value),disabled:s||a,required:!0,className:"w-full border rounded px-3 py-2 dark:bg-gray-800 dark:text-white","aria-invalid":!!d.category,"aria-describedby":d.category?"category-error":void 0,children:k2.map(S=>v.jsx("option",{value:S,children:S},S))}),d.category&&v.jsx("p",{id:"category-error",className:"text-red-500 text-sm mt-1",children:d.category})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"platform",children:"Platform *"}),v.jsx("select",{id:"platform",value:r.platform,onChange:S=>m("platform",S.target.value),disabled:s||a,required:!0,className:"w-full border rounded px-3 py-2 dark:bg-gray-800 dark:text-white","aria-invalid":!!d.platform,"aria-describedby":d.platform?"platform-error":void 0,children:N2.map(S=>v.jsx("option",{value:S,children:S},S))}),d.platform&&v.jsx("p",{id:"platform-error",className:"text-red-500 text-sm mt-1",children:d.platform})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"url",children:"Product URL (optional)"}),v.jsx(Jn,{id:"url",value:r.url,onChange:S=>m("url",S.target.value),disabled:s||a,placeholder:"Optional",type:"url"})]}),v.jsxs("div",{children:[v.jsx(Sn,{htmlFor:"tags",children:"Tags (comma separated)"}),v.jsx(Jn,{id:"tags",value:r.tags,onChange:S=>m("tags",S.target.value),disabled:s||a,placeholder:"e.g. electronics, mobile, 5G"})]}),v.jsx("div",{className:"flex justify-end space-x-4 pt-4",children:v.jsx(Et,{type:"submit",disabled:s||a,size:"lg",variant:"default","aria-disabled":s||a,children:s?"Saving...":"Add Custom Product"})})]})}const Ru=({children:t})=>{const{user:e,loading:n}=Fo();return n?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-purple-500 border-t-transparent animate-spin"})}):e?t:v.jsx(yC,{to:"/login",replace:!0})};function ree(){const t=Bl();return v.jsx(LW,{children:v.jsx(Zu,{mode:"wait",children:v.jsxs(hL,{location:t,children:[v.jsx($n,{path:"/login",element:v.jsx(I$,{})}),v.jsxs($n,{element:v.jsx(BW,{}),children:[v.jsx($n,{path:"/",element:v.jsx(C$,{})}),v.jsx($n,{path:"/about",element:v.jsx(R$,{})}),v.jsx($n,{path:"/contact",element:v.jsx(L$,{})}),v.jsx($n,{path:"/careers",element:v.jsx(j$,{})}),v.jsx($n,{path:"/privacy-policy",element:v.jsx(D$,{})}),v.jsx($n,{path:"/terms-of-service",element:v.jsx(O$,{})}),v.jsx($n,{path:"/add-wishlist",element:v.jsx(Ru,{children:v.jsx(rX,{})})}),v.jsx($n,{path:"/checkout",element:v.jsx(Ru,{children:v.jsx(jQ,{})})}),v.jsx($n,{path:"/orders",element:v.jsx(Ru,{children:v.jsx(CA,{})})}),v.jsx($n,{path:"/cart",element:v.jsx(Ru,{children:v.jsx(qE,{})})}),v.jsx($n,{path:"/order-success",element:v.jsx(Ru,{children:v.jsx(MQ,{})})}),v.jsx($n,{path:"/products/:productId",element:v.jsx(Ru,{children:v.jsx(eC,{})})}),v.jsx($n,{path:"/settings",element:v.jsx(Ru,{children:v.jsx(zA,{})})}),v.jsx($n,{path:"/admin",element:v.jsx(Sw,{requiredRole:"admin",children:v.jsx(tee,{})})}),v.jsx($n,{path:"/custom-admin",element:v.jsx(Sw,{requiredRole:"admin",children:v.jsx(nee,{})})}),v.jsxs($n,{path:"/dashboard/*",element:v.jsx(Ru,{children:v.jsx(qW,{})}),children:[v.jsx($n,{index:!0,element:v.jsx(z$,{})}),v.jsx($n,{path:"brands",element:v.jsx(VH,{})}),v.jsx($n,{path:"marketplace",element:v.jsx(UH,{})}),v.jsx($n,{path:"cart",element:v.jsx(qE,{})}),v.jsx($n,{path:"orders",element:v.jsx(CA,{})}),v.jsx($n,{path:"orders/:orderId",element:v.jsx(QY,{})}),v.jsx($n,{path:"rewards",element:v.jsx(FW,{})}),v.jsx($n,{path:"products/:productId",element:v.jsx(eC,{})}),v.jsx($n,{path:"settings",element:v.jsx(zA,{})})]})]})]},t.pathname)})})}function Ro(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function rR(t,e=[]){let n=[];function r(s,o){const a=z.createContext(o),c=n.length;n=[...n,o];const d=h=>{const{scope:m,children:g,...b}=h,S=m?.[t]?.[c]||a,T=z.useMemo(()=>b,Object.values(b));return v.jsx(S.Provider,{value:T,children:g})};d.displayName=s+"Provider";function f(h,m){const g=m?.[t]?.[c]||a,b=z.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=n.map(o=>z.createContext(o));return function(a){const c=a?.[t]||s;return z.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,iee(i,...e)]}function iee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const h=c(s)[`__scope${d}`];return{...a,...h}},{});return z.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function see(t){const e=t+"CollectionProvider",[n,r]=rR(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:T,children:E}=S,C=rt.useRef(null),I=rt.useRef(new Map).current;return v.jsx(i,{scope:T,itemMap:I,collectionRef:C,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=O0(a),d=rt.forwardRef((S,T)=>{const{scope:E,children:C}=S,I=s(a,E),j=sf(T,I.collectionRef);return v.jsx(c,{ref:j,children:C})});d.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=O0(f),g=rt.forwardRef((S,T)=>{const{scope:E,children:C,...I}=S,j=rt.useRef(null),K=sf(T,j),ae=s(f,E);return rt.useEffect(()=>(ae.itemMap.set(j,{ref:j,...I}),()=>void ae.itemMap.delete(j))),v.jsx(m,{[h]:"",ref:K,children:C})});g.displayName=f;function b(S){const T=s(t+"CollectionConsumer",S);return rt.useCallback(()=>{const C=T.collectionRef.current;if(!C)return[];const I=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((ae,F)=>I.indexOf(ae.ref.current)-I.indexOf(F.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},b,r]}function wf(t){const e=z.useRef(t);return z.useEffect(()=>{e.current=t}),z.useMemo(()=>(...n)=>e.current?.(...n),[])}function oee(t,e=globalThis?.document){const n=wf(t);z.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var aee="DismissableLayer",ax="dismissableLayer.update",lee="dismissableLayer.pointerDownOutside",cee="dismissableLayer.focusOutside",tC,iR=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sR=z.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,d=z.useContext(iR),[f,h]=z.useState(null),m=f?.ownerDocument??globalThis?.document,[,g]=z.useState({}),b=sf(e,F=>h(F)),S=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=S.indexOf(T),C=f?S.indexOf(f):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,j=C>=E,K=dee(F=>{const L=F.target,B=[...d.branches].some($=>$.contains(L));!j||B||(i?.(F),o?.(F),F.defaultPrevented||a?.())},m),ae=fee(F=>{const L=F.target;[...d.branches].some($=>$.contains(L))||(s?.(F),o?.(F),F.defaultPrevented||a?.())},m);return oee(F=>{C===d.layers.size-1&&(r?.(F),!F.defaultPrevented&&a&&(F.preventDefault(),a()))},m),z.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(tC=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),nC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=tC)}},[f,m,n,d]),z.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),nC())},[f,d]),z.useEffect(()=>{const F=()=>g({});return document.addEventListener(ax,F),()=>document.removeEventListener(ax,F)},[]),v.jsx(el.div,{...c,ref:b,style:{pointerEvents:I?j?"auto":"none":void 0,...t.style},onFocusCapture:Ro(t.onFocusCapture,ae.onFocusCapture),onBlurCapture:Ro(t.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:Ro(t.onPointerDownCapture,K.onPointerDownCapture)})});sR.displayName=aee;var uee="DismissableLayerBranch",oR=z.forwardRef((t,e)=>{const n=z.useContext(iR),r=z.useRef(null),i=sf(e,r);return z.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),v.jsx(el.div,{...t,ref:i})});oR.displayName=uee;function dee(t,e=globalThis?.document){const n=wf(t),r=z.useRef(!1),i=z.useRef(()=>{});return z.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){aR(lee,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fee(t,e=globalThis?.document){const n=wf(t),r=z.useRef(!1);return z.useEffect(()=>{const i=s=>{s.target&&!r.current&&aR(cee,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function nC(){const t=new CustomEvent(ax);document.dispatchEvent(t)}function aR(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?aN(i,s):i.dispatchEvent(s)}var hee=sR,pee=oR,Am=globalThis?.document?z.useLayoutEffect:()=>{},mee="Portal",lR=z.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=z.useState(!1);Am(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?_6.createPortal(v.jsx(el.div,{...r,ref:e}),o):null});lR.displayName=mee;function gee(t,e){return z.useReducer((n,r)=>e[n][r]??n,t)}var cR=t=>{const{present:e,children:n}=t,r=yee(e),i=typeof n=="function"?n({present:r.isPresent}):z.Children.only(n),s=sf(r.ref,vee(i));return typeof n=="function"||r.isPresent?z.cloneElement(i,{ref:s}):null};cR.displayName="Presence";function yee(t){const[e,n]=z.useState(),r=z.useRef(null),i=z.useRef(t),s=z.useRef("none"),o=t?"mounted":"unmounted",[a,c]=gee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const d=i0(r.current);s.current=a==="mounted"?d:"none"},[a]),Am(()=>{const d=r.current,f=i.current;if(f!==t){const m=s.current,g=i0(d);t?c("MOUNT"):g==="none"||d?.display==="none"?c("UNMOUNT"):c(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Am(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,h=g=>{const S=i0(r.current).includes(g.animationName);if(g.target===e&&S&&(c("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},m=g=>{g.target===e&&(s.current=i0(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:z.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function i0(t){return t?.animationName||"none"}function vee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wee=iC[" useInsertionEffect ".trim().toString()]||Am;function xee({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=bee({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const f=z.useRef(t!==void 0);z.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const d=z.useCallback(f=>{if(a){const h=_ee(f)?f(t):f;h!==t&&o.current?.(h)}else s(f)},[a,t,s,o]);return[c,d]}function bee({defaultProp:t,onChange:e}){const[n,r]=z.useState(t),i=z.useRef(n),s=z.useRef(e);return wee(()=>{s.current=e},[e]),z.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function _ee(t){return typeof t=="function"}var See=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Tee="VisuallyHidden",t5=z.forwardRef((t,e)=>v.jsx(el.span,{...t,ref:e,style:{...See,...t.style}}));t5.displayName=Tee;var n5="ToastProvider",[r5,Eee,Aee]=see("Toast"),[uR,gte]=rR("Toast",[Aee]),[Cee,Ev]=uR(n5),dR=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,c]=z.useState(null),[d,f]=z.useState(0),h=z.useRef(!1),m=z.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${n5}\`. Expected non-empty \`string\`.`),v.jsx(r5.Provider,{scope:e,children:v.jsx(Cee,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:z.useCallback(()=>f(g=>g+1),[]),onToastRemove:z.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};dR.displayName=n5;var fR="ToastViewport",Pee=["F8"],lx="toast.viewportPause",cx="toast.viewportResume",hR=z.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Pee,label:i="Notifications ({hotkey})",...s}=t,o=Ev(fR,n),a=Eee(n),c=z.useRef(null),d=z.useRef(null),f=z.useRef(null),h=z.useRef(null),m=sf(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;z.useEffect(()=>{const T=E=>{r.length!==0&&r.every(I=>E[I]||E.code===I)&&h.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),z.useEffect(()=>{const T=c.current,E=h.current;if(b&&T&&E){const C=()=>{if(!o.isClosePausedRef.current){const ae=new CustomEvent(lx);E.dispatchEvent(ae),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const ae=new CustomEvent(cx);E.dispatchEvent(ae),o.isClosePausedRef.current=!1}},j=ae=>{!T.contains(ae.relatedTarget)&&I()},K=()=>{T.contains(document.activeElement)||I()};return T.addEventListener("focusin",C),T.addEventListener("focusout",j),T.addEventListener("pointermove",C),T.addEventListener("pointerleave",K),window.addEventListener("blur",C),window.addEventListener("focus",I),()=>{T.removeEventListener("focusin",C),T.removeEventListener("focusout",j),T.removeEventListener("pointermove",C),T.removeEventListener("pointerleave",K),window.removeEventListener("blur",C),window.removeEventListener("focus",I)}}},[b,o.isClosePausedRef]);const S=z.useCallback(({tabbingDirection:T})=>{const C=a().map(I=>{const j=I.ref.current,K=[j,...Uee(j)];return T==="forwards"?K:K.reverse()});return(T==="forwards"?C.reverse():C).flat()},[a]);return z.useEffect(()=>{const T=h.current;if(T){const E=C=>{const I=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!I){const K=document.activeElement,ae=C.shiftKey;if(C.target===T&&ae){d.current?.focus();return}const B=S({tabbingDirection:ae?"backwards":"forwards"}),$=B.findIndex(k=>k===K);I2(B.slice($+1))?C.preventDefault():ae?d.current?.focus():f.current?.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[a,S]),v.jsxs(pee,{ref:c,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&v.jsx(ux,{ref:d,onFocusFromOutsideViewport:()=>{const T=S({tabbingDirection:"forwards"});I2(T)}}),v.jsx(r5.Slot,{scope:n,children:v.jsx(el.ol,{tabIndex:-1,...s,ref:m})}),b&&v.jsx(ux,{ref:f,onFocusFromOutsideViewport:()=>{const T=S({tabbingDirection:"backwards"});I2(T)}})]})});hR.displayName=fR;var pR="ToastFocusProxy",ux=z.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Ev(pR,n);return v.jsx(t5,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const a=o.relatedTarget;!s.viewport?.contains(a)&&r()}})});ux.displayName=pR;var Zm="Toast",kee="toast.swipeStart",Nee="toast.swipeMove",Iee="toast.swipeCancel",Ree="toast.swipeEnd",mR=z.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,c]=xee({prop:r,defaultProp:i??!0,onChange:s,caller:Zm});return v.jsx(cR,{present:n||a,children:v.jsx(Dee,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:wf(t.onPause),onResume:wf(t.onResume),onSwipeStart:Ro(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ro(t.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ro(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ro(t.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});mR.displayName=Zm;var[Lee,jee]=uR(Zm,{onClose(){}}),Dee=z.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...b}=t,S=Ev(Zm,n),[T,E]=z.useState(null),C=sf(e,se=>E(se)),I=z.useRef(null),j=z.useRef(null),K=i||S.duration,ae=z.useRef(0),F=z.useRef(K),L=z.useRef(0),{onToastAdd:B,onToastRemove:$}=S,k=wf(()=>{T?.contains(document.activeElement)&&S.viewport?.focus(),o()}),D=z.useCallback(se=>{!se||se===1/0||(window.clearTimeout(L.current),ae.current=new Date().getTime(),L.current=window.setTimeout(k,se))},[k]);z.useEffect(()=>{const se=S.viewport;if(se){const we=()=>{D(F.current),d?.()},fe=()=>{const ve=new Date().getTime()-ae.current;F.current=F.current-ve,window.clearTimeout(L.current),c?.()};return se.addEventListener(lx,fe),se.addEventListener(cx,we),()=>{se.removeEventListener(lx,fe),se.removeEventListener(cx,we)}}},[S.viewport,K,c,d,D]),z.useEffect(()=>{s&&!S.isClosePausedRef.current&&D(K)},[s,K,S.isClosePausedRef,D]),z.useEffect(()=>(B(),()=>$()),[B,$]);const q=z.useMemo(()=>T?_R(T):null,[T]);return S.viewport?v.jsxs(v.Fragment,{children:[q&&v.jsx(Oee,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),v.jsx(Lee,{scope:n,onClose:k,children:dx.createPortal(v.jsx(r5.ItemSlot,{scope:n,children:v.jsx(hee,{asChild:!0,onEscapeKeyDown:Ro(a,()=>{S.isFocusedToastEscapeKeyDownRef.current||k(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(el.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":S.swipeDirection,...b,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ro(t.onKeyDown,se=>{se.key==="Escape"&&(a?.(se.nativeEvent),se.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ro(t.onPointerDown,se=>{se.button===0&&(I.current={x:se.clientX,y:se.clientY})}),onPointerMove:Ro(t.onPointerMove,se=>{if(!I.current)return;const we=se.clientX-I.current.x,fe=se.clientY-I.current.y,ve=!!j.current,ce=["left","right"].includes(S.swipeDirection),ne=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,Y=ce?ne(0,we):0,W=ce?0:ne(0,fe),V=se.pointerType==="touch"?10:2,X={x:Y,y:W},le={originalEvent:se,delta:X};ve?(j.current=X,s0(Nee,h,le,{discrete:!1})):rC(X,S.swipeDirection,V)?(j.current=X,s0(kee,f,le,{discrete:!1}),se.target.setPointerCapture(se.pointerId)):(Math.abs(we)>V||Math.abs(fe)>V)&&(I.current=null)}),onPointerUp:Ro(t.onPointerUp,se=>{const we=j.current,fe=se.target;if(fe.hasPointerCapture(se.pointerId)&&fe.releasePointerCapture(se.pointerId),j.current=null,I.current=null,we){const ve=se.currentTarget,ce={originalEvent:se,delta:we};rC(we,S.swipeDirection,S.swipeThreshold)?s0(Ree,g,ce,{discrete:!0}):s0(Iee,m,ce,{discrete:!0}),ve.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),Oee=t=>{const{__scopeToast:e,children:n,...r}=t,i=Ev(Zm,e),[s,o]=z.useState(!1),[a,c]=z.useState(!1);return Vee(()=>o(!0)),z.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:v.jsx(lR,{asChild:!0,children:v.jsx(t5,{...r,children:s&&v.jsxs(v.Fragment,{children:[i.label," ",n]})})})},Mee="ToastTitle",gR=z.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(el.div,{...r,ref:e})});gR.displayName=Mee;var Fee="ToastDescription",yR=z.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(el.div,{...r,ref:e})});yR.displayName=Fee;var vR="ToastAction",wR=z.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx(bR,{altText:n,asChild:!0,children:v.jsx(i5,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vR}\`. Expected non-empty \`string\`.`),null)});wR.displayName=vR;var xR="ToastClose",i5=z.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=jee(xR,n);return v.jsx(bR,{asChild:!0,children:v.jsx(el.button,{type:"button",...r,ref:e,onClick:Ro(t.onClick,i.onClose)})})});i5.displayName=xR;var bR=z.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return v.jsx(el.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function _R(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Bee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(..._R(r))}}),e}function s0(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?aN(i,s):i.dispatchEvent(s)}var rC=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Vee(t=()=>{}){const e=wf(t);Am(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Bee(t){return t.nodeType===t.ELEMENT_NODE}function Uee(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function I2(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var zee=dR,SR=hR,TR=mR,ER=gR,AR=yR,CR=wR,PR=i5;const qee=zee,kR=rt.forwardRef(({className:t,...e},n)=>v.jsx(SR,{ref:n,className:Bc("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));kR.displayName=SR.displayName;const Wee=Bx("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border border-border text-foreground dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-100",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground dark:bg-red-900 dark:border-red-800 dark:text-red-100"}},defaultVariants:{variant:"default"}}),NR=rt.forwardRef(({className:t,variant:e,...n},r)=>v.jsx(TR,{ref:r,className:Bc(Wee({variant:e}),t),...n}));NR.displayName=TR.displayName;const $ee=rt.forwardRef(({className:t,...e},n)=>v.jsx(CR,{ref:n,className:Bc("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive dark:hover:bg-neutral-800 dark:focus:ring-neutral-600 dark:group-[.destructive]:hover:bg-red-800 dark:group-[.destructive]:hover:text-white",t),...e}));$ee.displayName=CR.displayName;const IR=rt.forwardRef(({className:t,...e},n)=>v.jsx(PR,{ref:n,className:Bc("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-neutral-400 dark:hover:text-white dark:group-[.destructive]:text-red-400 dark:group-[.destructive]:hover:text-red-100",t),"toast-close":"",...e,children:v.jsx(Mx,{className:"h-4 w-4"})}));IR.displayName=PR.displayName;const RR=rt.forwardRef(({className:t,...e},n)=>v.jsx(ER,{ref:n,className:Bc("text-sm font-semibold dark:text-white",t),...e}));RR.displayName=ER.displayName;const LR=rt.forwardRef(({className:t,...e},n)=>v.jsx(AR,{ref:n,className:Bc("text-sm opacity-90 dark:text-neutral-300",t),...e}));LR.displayName=AR.displayName;function Hee(){const{toasts:t}=co();return v.jsxs(qee,{children:[t.map(({id:e,title:n,description:r,action:i,...s})=>v.jsxs(NR,{...s,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(RR,{children:n}),r&&v.jsx(LR,{children:r})]}),i,v.jsx(IR,{})]},e)),v.jsx(kR,{})]})}b6.createRoot(document.getElementById("root")).render(v.jsx(rt.StrictMode,{children:v.jsx(bL,{children:v.jsx(CW,{children:v.jsx(kW,{children:v.jsxs(PW,{children:[v.jsx(ree,{}),v.jsx(Hee,{})]})})})})}));export{Wn as _,Gee as c,xf as g};
