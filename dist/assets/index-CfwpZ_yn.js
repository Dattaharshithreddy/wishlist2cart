function ZR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var bee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d1={exports:{}},dp={},f1={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function e6(){if(a_)return on;a_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=h&&q[h]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function T(q,V,W){this.props=q,this.context=V,this.refs=_,this.updater=W||y}T.prototype.isReactComponent={},T.prototype.setState=function(q,V){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,V,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function E(){}E.prototype=T.prototype;function C(q,V,W){this.props=q,this.context=V,this.refs=_,this.updater=W||y}var I=C.prototype=new E;I.constructor=C,S(I,T.prototype),I.isPureReactComponent=!0;var D=Array.isArray,K=Object.prototype.hasOwnProperty,ae={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function L(q,V,W){var ee,ce={},fe=null,ye=null;if(V!=null)for(ee in V.ref!==void 0&&(ye=V.ref),V.key!==void 0&&(fe=""+V.key),V)K.call(V,ee)&&!F.hasOwnProperty(ee)&&(ce[ee]=V[ee]);var we=arguments.length-2;if(we===1)ce.children=W;else if(1<we){for(var Te=Array(we),Ve=0;Ve<we;Ve++)Te[Ve]=arguments[Ve+2];ce.children=Te}if(q&&q.defaultProps)for(ee in we=q.defaultProps,we)ce[ee]===void 0&&(ce[ee]=we[ee]);return{$$typeof:t,type:q,key:fe,ref:ye,props:ce,_owner:ae.current}}function B(q,V){return{$$typeof:t,type:q.type,key:V,ref:q.ref,props:q.props,_owner:q._owner}}function H(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function k(q){var V={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(W){return V[W]})}var j=/\/+/g;function z(q,V){return typeof q=="object"&&q!==null&&q.key!=null?k(""+q.key):V.toString(36)}function oe(q,V,W,ee,ce){var fe=typeof q;(fe==="undefined"||fe==="boolean")&&(q=null);var ye=!1;if(q===null)ye=!0;else switch(fe){case"string":case"number":ye=!0;break;case"object":switch(q.$$typeof){case t:case e:ye=!0}}if(ye)return ye=q,ce=ce(ye),q=ee===""?"."+z(ye,0):ee,D(ce)?(W="",q!=null&&(W=q.replace(j,"$&/")+"/"),oe(ce,V,W,"",function(Ve){return Ve})):ce!=null&&(H(ce)&&(ce=B(ce,W+(!ce.key||ye&&ye.key===ce.key?"":(""+ce.key).replace(j,"$&/")+"/")+q)),V.push(ce)),1;if(ye=0,ee=ee===""?".":ee+":",D(q))for(var we=0;we<q.length;we++){fe=q[we];var Te=ee+z(fe,we);ye+=oe(fe,V,W,Te,ce)}else if(Te=g(q),typeof Te=="function")for(q=Te.call(q),we=0;!(fe=q.next()).done;)fe=fe.value,Te=ee+z(fe,we++),ye+=oe(fe,V,W,Te,ce);else if(fe==="object")throw V=String(q),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ye}function de(q,V,W){if(q==null)return q;var ee=[],ce=0;return oe(q,ee,"","",function(fe){return V.call(W,fe,ce++)}),ee}function se(q){if(q._status===-1){var V=q._result;V=V(),V.then(function(W){(q._status===0||q._status===-1)&&(q._status=1,q._result=W)},function(W){(q._status===0||q._status===-1)&&(q._status=2,q._result=W)}),q._status===-1&&(q._status=0,q._result=V)}if(q._status===1)return q._result.default;throw q._result}var le={current:null},re={transition:null},pe={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:re,ReactCurrentOwner:ae};function Z(){throw Error("act(...) is not supported in production builds of React.")}return on.Children={map:de,forEach:function(q,V,W){de(q,function(){V.apply(this,arguments)},W)},count:function(q){var V=0;return de(q,function(){V++}),V},toArray:function(q){return de(q,function(V){return V})||[]},only:function(q){if(!H(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},on.Component=T,on.Fragment=n,on.Profiler=i,on.PureComponent=C,on.StrictMode=r,on.Suspense=c,on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,on.act=Z,on.cloneElement=function(q,V,W){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ee=S({},q.props),ce=q.key,fe=q.ref,ye=q._owner;if(V!=null){if(V.ref!==void 0&&(fe=V.ref,ye=ae.current),V.key!==void 0&&(ce=""+V.key),q.type&&q.type.defaultProps)var we=q.type.defaultProps;for(Te in V)K.call(V,Te)&&!F.hasOwnProperty(Te)&&(ee[Te]=V[Te]===void 0&&we!==void 0?we[Te]:V[Te])}var Te=arguments.length-2;if(Te===1)ee.children=W;else if(1<Te){we=Array(Te);for(var Ve=0;Ve<Te;Ve++)we[Ve]=arguments[Ve+2];ee.children=we}return{$$typeof:t,type:q.type,key:ce,ref:fe,props:ee,_owner:ye}},on.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},on.createElement=L,on.createFactory=function(q){var V=L.bind(null,q);return V.type=q,V},on.createRef=function(){return{current:null}},on.forwardRef=function(q){return{$$typeof:a,render:q}},on.isValidElement=H,on.lazy=function(q){return{$$typeof:f,_payload:{_status:-1,_result:q},_init:se}},on.memo=function(q,V){return{$$typeof:d,type:q,compare:V===void 0?null:V}},on.startTransition=function(q){var V=re.transition;re.transition={};try{q()}finally{re.transition=V}},on.unstable_act=Z,on.useCallback=function(q,V){return le.current.useCallback(q,V)},on.useContext=function(q){return le.current.useContext(q)},on.useDebugValue=function(){},on.useDeferredValue=function(q){return le.current.useDeferredValue(q)},on.useEffect=function(q,V){return le.current.useEffect(q,V)},on.useId=function(){return le.current.useId()},on.useImperativeHandle=function(q,V,W){return le.current.useImperativeHandle(q,V,W)},on.useInsertionEffect=function(q,V){return le.current.useInsertionEffect(q,V)},on.useLayoutEffect=function(q,V){return le.current.useLayoutEffect(q,V)},on.useMemo=function(q,V){return le.current.useMemo(q,V)},on.useReducer=function(q,V,W){return le.current.useReducer(q,V,W)},on.useRef=function(q){return le.current.useRef(q)},on.useState=function(q){return le.current.useState(q)},on.useSyncExternalStore=function(q,V,W){return le.current.useSyncExternalStore(q,V,W)},on.useTransition=function(){return le.current.useTransition()},on.version="18.3.1",on}var l_;function vy(){return l_||(l_=1,f1.exports=e6()),f1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function t6(){if(c_)return dp;c_=1;var t=vy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,d){var f,h={},g=null,y=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(h[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:a,key:g,ref:y,props:h,_owner:i.current}}return dp.Fragment=n,dp.jsx=o,dp.jsxs=o,dp}var u_;function n6(){return u_||(u_=1,d1.exports=t6()),d1.exports}var w=n6(),$=vy();const it=vf($),KA=ZR({__proto__:null,default:it},[$]);var kg={},h1={exports:{}},eo={},p1={exports:{}},m1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function r6(){return d_||(d_=1,function(t){function e(re,pe){var Z=re.length;re.push(pe);e:for(;0<Z;){var q=Z-1>>>1,V=re[q];if(0<i(V,pe))re[q]=pe,re[Z]=V,Z=q;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var pe=re[0],Z=re.pop();if(Z!==pe){re[0]=Z;e:for(var q=0,V=re.length,W=V>>>1;q<W;){var ee=2*(q+1)-1,ce=re[ee],fe=ee+1,ye=re[fe];if(0>i(ce,Z))fe<V&&0>i(ye,ce)?(re[q]=ye,re[fe]=Z,q=fe):(re[q]=ce,re[ee]=Z,q=ee);else if(fe<V&&0>i(ye,Z))re[q]=ye,re[fe]=Z,q=fe;else break e}}return pe}function i(re,pe){var Z=re.sortIndex-pe.sortIndex;return Z!==0?Z:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],f=1,h=null,g=3,y=!1,S=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(re){for(var pe=n(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=re)r(d),pe.sortIndex=pe.expirationTime,e(c,pe);else break;pe=n(d)}}function D(re){if(_=!1,I(re),!S)if(n(c)!==null)S=!0,se(K);else{var pe=n(d);pe!==null&&le(D,pe.startTime-re)}}function K(re,pe){S=!1,_&&(_=!1,E(L),L=-1),y=!0;var Z=g;try{for(I(pe),h=n(c);h!==null&&(!(h.expirationTime>pe)||re&&!k());){var q=h.callback;if(typeof q=="function"){h.callback=null,g=h.priorityLevel;var V=q(h.expirationTime<=pe);pe=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&r(c),I(pe)}else r(c);h=n(c)}if(h!==null)var W=!0;else{var ee=n(d);ee!==null&&le(D,ee.startTime-pe),W=!1}return W}finally{h=null,g=Z,y=!1}}var ae=!1,F=null,L=-1,B=5,H=-1;function k(){return!(t.unstable_now()-H<B)}function j(){if(F!==null){var re=t.unstable_now();H=re;var pe=!0;try{pe=F(!0,re)}finally{pe?z():(ae=!1,F=null)}}else ae=!1}var z;if(typeof C=="function")z=function(){C(j)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,de=oe.port2;oe.port1.onmessage=j,z=function(){de.postMessage(null)}}else z=function(){T(j,0)};function se(re){F=re,ae||(ae=!0,z())}function le(re,pe){L=T(function(){re(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,se(K))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(re){switch(g){case 1:case 2:case 3:var pe=3;break;default:pe=g}var Z=g;g=pe;try{return re()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Z=g;g=re;try{return pe()}finally{g=Z}},t.unstable_scheduleCallback=function(re,pe,Z){var q=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?q+Z:q):Z=q,re){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Z+V,re={id:f++,callback:pe,priorityLevel:re,startTime:Z,expirationTime:V,sortIndex:-1},Z>q?(re.sortIndex=Z,e(d,re),n(c)===null&&re===n(d)&&(_?(E(L),L=-1):_=!0,le(D,Z-q))):(re.sortIndex=V,e(c,re),S||y||(S=!0,se(K))),re},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(re){var pe=g;return function(){var Z=g;g=pe;try{return re.apply(this,arguments)}finally{g=Z}}}}(m1)),m1}var f_;function i6(){return f_||(f_=1,p1.exports=r6()),p1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function s6(){if(h_)return eo;h_=1;var t=vy(),e=i6();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function g(l){return c.call(h,l)?!0:c.call(f,l)?!1:d.test(l)?h[l]=!0:(f[l]=!0,!1)}function y(l,u,p,b){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function S(l,u,p,b){if(u===null||typeof u>"u"||y(l,u,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function _(l,u,p,b,P,O,Q){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=P,this.mustUseProperty=p,this.propertyName=l,this.type=u,this.sanitizeURL=O,this.removeEmptyString=Q}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){T[l]=new _(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];T[u]=new _(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){T[l]=new _(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){T[l]=new _(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){T[l]=new _(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){T[l]=new _(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){T[l]=new _(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){T[l]=new _(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){T[l]=new _(l,5,!1,l.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(E,C);T[u]=new _(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(E,C);T[u]=new _(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(E,C);T[u]=new _(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){T[l]=new _(l,1,!1,l.toLowerCase(),null,!1,!1)}),T.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){T[l]=new _(l,1,!1,l.toLowerCase(),null,!0,!0)});function I(l,u,p,b){var P=T.hasOwnProperty(u)?T[u]:null;(P!==null?P.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,p,P,b)&&(p=null),b||P===null?g(u)&&(p===null?l.removeAttribute(u):l.setAttribute(u,""+p)):P.mustUseProperty?l[P.propertyName]=p===null?P.type===3?!1:"":p:(u=P.attributeName,b=P.attributeNamespace,p===null?l.removeAttribute(u):(P=P.type,p=P===3||P===4&&p===!0?"":""+p,b?l.setAttributeNS(b,u,p):l.setAttribute(u,p))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),ae=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(l){return l===null||typeof l!="object"?null:(l=re&&l[re]||l["@@iterator"],typeof l=="function"?l:null)}var Z=Object.assign,q;function V(l){if(q===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);q=u&&u[1]||""}return`
`+q+l}var W=!1;function ee(l,u){if(!l||W)return"";W=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Oe){var b=Oe}Reflect.construct(l,[],u)}else{try{u.call()}catch(Oe){b=Oe}l.call(u.prototype)}else{try{throw Error()}catch(Oe){b=Oe}l()}}catch(Oe){if(Oe&&b&&typeof Oe.stack=="string"){for(var P=Oe.stack.split(`
`),O=b.stack.split(`
`),Q=P.length-1,ge=O.length-1;1<=Q&&0<=ge&&P[Q]!==O[ge];)ge--;for(;1<=Q&&0<=ge;Q--,ge--)if(P[Q]!==O[ge]){if(Q!==1||ge!==1)do if(Q--,ge--,0>ge||P[Q]!==O[ge]){var xe=`
`+P[Q].replace(" at new "," at ");return l.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",l.displayName)),xe}while(1<=Q&&0<=ge);break}}}finally{W=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?V(l):""}function ce(l){switch(l.tag){case 5:return V(l.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return l=ee(l.type,!1),l;case 11:return l=ee(l.type.render,!1),l;case 1:return l=ee(l.type,!0),l;default:return""}}function fe(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case F:return"Fragment";case ae:return"Portal";case B:return"Profiler";case L:return"StrictMode";case z:return"Suspense";case oe:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case k:return(l.displayName||"Context")+".Consumer";case H:return(l._context.displayName||"Context")+".Provider";case j:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case de:return u=l.displayName||null,u!==null?u:fe(l.type)||"Memo";case se:u=l._payload,l=l._init;try{return fe(l(u))}catch{}}return null}function ye(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(u);case 8:return u===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function we(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Te(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ve(l){var u=Te(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),b=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var P=p.get,O=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return P.call(this)},set:function(Q){b=""+Q,O.call(this,Q)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(Q){b=""+Q},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Fe(l){l._valueTracker||(l._valueTracker=Ve(l))}function Ye(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),b="";return l&&(b=Te(l)?l.checked?"true":"false":l.value),l=b,l!==p?(u.setValue(l),!0):!1}function Qe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function nt(l,u){var p=u.checked;return Z({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function De(l,u){var p=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;p=we(u.value!=null?u.value:p),l._wrapperState={initialChecked:b,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function me(l,u){u=u.checked,u!=null&&I(l,"checked",u,!1)}function _t(l,u){me(l,u);var p=we(u.value),b=u.type;if(p!=null)b==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(b==="submit"||b==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Ge(l,u.type,p):u.hasOwnProperty("defaultValue")&&Ge(l,u.type,we(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function ft(l,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,p||u===l.value||(l.value=u),l.defaultValue=u}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function Ge(l,u,p){(u!=="number"||Qe(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var et=Array.isArray;function st(l,u,p,b){if(l=l.options,u){u={};for(var P=0;P<p.length;P++)u["$"+p[P]]=!0;for(p=0;p<l.length;p++)P=u.hasOwnProperty("$"+l[p].value),l[p].selected!==P&&(l[p].selected=P),P&&b&&(l[p].defaultSelected=!0)}else{for(p=""+we(p),u=null,P=0;P<l.length;P++){if(l[P].value===p){l[P].selected=!0,b&&(l[P].defaultSelected=!0);return}u!==null||l[P].disabled||(u=l[P])}u!==null&&(u.selected=!0)}}function at(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function vt(l,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(et(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}l._wrapperState={initialValue:we(p)}}function It(l,u){var p=we(u.value),b=we(u.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),u.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),b!=null&&(l.defaultValue=""+b)}function jt(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function St(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pt(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?St(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var en,At=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,b,P){MSApp.execUnsafeLocalFunction(function(){return l(u,p,b,P)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(en=en||document.createElement("div"),en.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=en.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Mt(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(l){er.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),ot[u]=ot[l]})});function tn(l,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||ot.hasOwnProperty(l)&&ot[l]?(""+u).trim():u+"px"}function Pi(l,u){l=l.style;for(var p in u)if(u.hasOwnProperty(p)){var b=p.indexOf("--")===0,P=tn(p,u[p],b);p==="float"&&(p="cssFloat"),b?l.setProperty(p,P):l[p]=P}}var bn=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dn(l,u){if(u){if(bn[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Wi(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rn=null;function js(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Vn=null,fr=null,Kr=null;function Bn(l){if(l=hu(l)){if(typeof Vn!="function")throw Error(n(280));var u=l.stateNode;u&&(u=xd(u),Vn(l.stateNode,l.type,u))}}function Nt(l){fr?Kr?Kr.push(l):Kr=[l]:fr=l}function ln(){if(fr){var l=fr,u=Kr;if(Kr=fr=null,Bn(l),u)for(l=0;l<u.length;l++)Bn(u[l])}}function ms(l,u){return l(u)}function xr(){}var Yr=!1;function $i(l,u,p){if(Yr)return l(u,p);Yr=!0;try{return ms(l,u,p)}finally{Yr=!1,(fr!==null||Kr!==null)&&(xr(),ln())}}function pt(l,u){var p=l.stateNode;if(p===null)return null;var b=xd(p);if(b===null)return null;p=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var fi=!1;if(a)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){fi=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{fi=!1}function Ir(l,u,p,b,P,O,Q,ge,xe){var Oe=Array.prototype.slice.call(arguments,3);try{u.apply(p,Oe)}catch(Ze){this.onError(Ze)}}var Gn=!1,Kn=null,ir=!1,Fo=null,uo={onError:function(l){Gn=!0,Kn=l}};function hi(l,u,p,b,P,O,Q,ge,xe){Gn=!1,Kn=null,Ir.apply(uo,arguments)}function Hi(l,u,p,b,P,O,Q,ge,xe){if(hi.apply(this,arguments),Gn){if(Gn){var Oe=Kn;Gn=!1,Kn=null}else throw Error(n(198));ir||(ir=!0,Fo=Oe)}}function _r(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function pi(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function hr(l){if(_r(l)!==l)throw Error(n(188))}function gs(l){var u=l.alternate;if(!u){if(u=_r(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,b=u;;){var P=p.return;if(P===null)break;var O=P.alternate;if(O===null){if(b=P.return,b!==null){p=b;continue}break}if(P.child===O.child){for(O=P.child;O;){if(O===p)return hr(P),l;if(O===b)return hr(P),u;O=O.sibling}throw Error(n(188))}if(p.return!==b.return)p=P,b=O;else{for(var Q=!1,ge=P.child;ge;){if(ge===p){Q=!0,p=P,b=O;break}if(ge===b){Q=!0,b=P,p=O;break}ge=ge.sibling}if(!Q){for(ge=O.child;ge;){if(ge===p){Q=!0,p=O,b=P;break}if(ge===b){Q=!0,b=O,p=P;break}ge=ge.sibling}if(!Q)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function fo(l){return l=gs(l),l!==null?ho(l):null}function ho(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=ho(l);if(u!==null)return u;l=l.sibling}return null}var po=e.unstable_scheduleCallback,Vo=e.unstable_cancelCallback,pa=e.unstable_shouldYield,Hc=e.unstable_requestPaint,On=e.unstable_now,Gc=e.unstable_getCurrentPriorityLevel,Ms=e.unstable_ImmediatePriority,mo=e.unstable_UserBlockingPriority,Gi=e.unstable_NormalPriority,ma=e.unstable_LowPriority,Kc=e.unstable_IdlePriority,Bo=null,Ni=null;function ga(l){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(Bo,l,void 0,(l.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:Wl,Yn=Math.log,ql=Math.LN2;function Wl(l){return l>>>=0,l===0?32:31-(Yn(l)/ql|0)|0}var ya=64,Uo=4194304;function zo(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ni(l,u){var p=l.pendingLanes;if(p===0)return 0;var b=0,P=l.suspendedLanes,O=l.pingedLanes,Q=p&268435455;if(Q!==0){var ge=Q&~P;ge!==0?b=zo(ge):(O&=Q,O!==0&&(b=zo(O)))}else Q=p&~P,Q!==0?b=zo(Q):O!==0&&(b=zo(O));if(b===0)return 0;if(u!==0&&u!==b&&(u&P)===0&&(P=b&-b,O=u&-u,P>=O||P===16&&(O&4194240)!==0))return u;if((b&4)!==0&&(b|=p&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=b;0<u;)p=31-ti(u),P=1<<p,b|=l[p],u&=~P;return b}function rl(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(l,u){for(var p=l.suspendedLanes,b=l.pingedLanes,P=l.expirationTimes,O=l.pendingLanes;0<O;){var Q=31-ti(O),ge=1<<Q,xe=P[Q];xe===-1?((ge&p)===0||(ge&b)!==0)&&(P[Q]=rl(ge,u)):xe<=u&&(l.expiredLanes|=ge),O&=~ge}}function ri(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function qo(){var l=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),l}function Wo(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function go(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-ti(u),l[u]=p}function Nn(l,u){var p=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var b=l.eventTimes;for(l=l.expirationTimes;0<p;){var P=31-ti(p),O=1<<P;u[P]=0,b[P]=-1,l[P]=-1,p&=~O}}function yo(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var b=31-ti(p),P=1<<b;P&u|l[b]&u&&(l[b]|=u),p&=~P}}var nn=0;function Fs(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Yc,il,Xc,Vs,va,$o=!1,ys=[],gn=null,vs=null,Ki=null,kt=new Map,Yi=new Map,Bs=[],Us="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(l,u){switch(l){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":kt.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yi.delete(u.pointerId)}}function ii(l,u,p,b,P,O){return l===null||l.nativeEvent!==O?(l={blockedOn:u,domEventName:p,eventSystemFlags:b,nativeEvent:O,targetContainers:[P]},u!==null&&(u=hu(u),u!==null&&il(u)),l):(l.eventSystemFlags|=b,u=l.targetContainers,P!==null&&u.indexOf(P)===-1&&u.push(P),l)}function sl(l,u,p,b,P){switch(u){case"focusin":return gn=ii(gn,l,u,p,b,P),!0;case"dragenter":return vs=ii(vs,l,u,p,b,P),!0;case"mouseover":return Ki=ii(Ki,l,u,p,b,P),!0;case"pointerover":var O=P.pointerId;return kt.set(O,ii(kt.get(O)||null,l,u,p,b,P)),!0;case"gotpointercapture":return O=P.pointerId,Yi.set(O,ii(Yi.get(O)||null,l,u,p,b,P)),!0}return!1}function ol(l){var u=ml(l.target);if(u!==null){var p=_r(u);if(p!==null){if(u=p.tag,u===13){if(u=pi(p),u!==null){l.blockedOn=u,va(l.priority,function(){Xc(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function vo(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=ba(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);rn=b,p.target.dispatchEvent(b),rn=null}else return u=hu(p),u!==null&&il(u),l.blockedOn=p,!1;u.shift()}return!0}function wa(l,u,p){vo(l)&&p.delete(u)}function Qc(){$o=!1,gn!==null&&vo(gn)&&(gn=null),vs!==null&&vo(vs)&&(vs=null),Ki!==null&&vo(Ki)&&(Ki=null),kt.forEach(wa),Yi.forEach(wa)}function Ii(l,u){l.blockedOn===u&&(l.blockedOn=null,$o||($o=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qc)))}function si(l){function u(P){return Ii(P,l)}if(0<ys.length){Ii(ys[0],l);for(var p=1;p<ys.length;p++){var b=ys[p];b.blockedOn===l&&(b.blockedOn=null)}}for(gn!==null&&Ii(gn,l),vs!==null&&Ii(vs,l),Ki!==null&&Ii(Ki,l),kt.forEach(u),Yi.forEach(u),p=0;p<Bs.length;p++)b=Bs[p],b.blockedOn===l&&(b.blockedOn=null);for(;0<Bs.length&&(p=Bs[0],p.blockedOn===null);)ol(p),p.blockedOn===null&&Bs.shift()}var mi=D.ReactCurrentBatchConfig,Ho=!0;function Tn(l,u,p,b){var P=nn,O=mi.transition;mi.transition=null;try{nn=1,Go(l,u,p,b)}finally{nn=P,mi.transition=O}}function Hl(l,u,p,b){var P=nn,O=mi.transition;mi.transition=null;try{nn=4,Go(l,u,p,b)}finally{nn=P,mi.transition=O}}function Go(l,u,p,b){if(Ho){var P=ba(l,u,p,b);if(P===null)vd(l,u,b,Ko,p),$l(l,b);else if(sl(P,l,u,p,b))b.stopPropagation();else if($l(l,b),u&4&&-1<Us.indexOf(l)){for(;P!==null;){var O=hu(P);if(O!==null&&Yc(O),O=ba(l,u,p,b),O===null&&vd(l,u,b,Ko,p),O===P)break;P=O}P!==null&&b.stopPropagation()}else vd(l,u,b,null,p)}}var Ko=null;function ba(l,u,p,b){if(Ko=null,l=js(b),l=ml(l),l!==null)if(u=_r(l),u===null)l=null;else if(p=u.tag,p===13){if(l=pi(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Ko=l,null}function al(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gc()){case Ms:return 1;case mo:return 4;case Gi:case ma:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var gi=null,ki=null,mr=null;function Gl(){if(mr)return mr;var l,u=ki,p=u.length,b,P="value"in gi?gi.value:gi.textContent,O=P.length;for(l=0;l<p&&u[l]===P[l];l++);var Q=p-l;for(b=1;b<=Q&&u[p-b]===P[O-b];b++);return mr=P.slice(l,1<b?1-b:void 0)}function ws(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function kr(){return!0}function xa(){return!1}function sr(l){function u(p,b,P,O,Q){this._reactName=p,this._targetInst=P,this.type=b,this.nativeEvent=O,this.target=Q,this.currentTarget=null;for(var ge in l)l.hasOwnProperty(ge)&&(p=l[ge],this[ge]=p?p(O):O[ge]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?kr:xa,this.isPropagationStopped=xa,this}return Z(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=kr)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=kr)},persist:function(){},isPersistent:kr}),u}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=sr(bs),zs=Z({},bs,{view:0,detail:0}),Kl=sr(zs),Yo,qs,xs,bo=Z({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lt,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==xs&&(xs&&l.type==="mousemove"?(Yo=l.screenX-xs.screenX,qs=l.screenY-xs.screenY):qs=Yo=0,xs=l),Yo)},movementY:function(l){return"movementY"in l?l.movementY:qs}}),Xo=sr(bo),ll=Z({},bo,{dataTransfer:0}),Jc=sr(ll),xo=Z({},zs,{relatedTarget:0}),Ws=sr(xo),cl=Z({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=sr(cl),ul=Z({},bs,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),A=sr(ul),Y=Z({},bs,{data:0}),he=sr(Y),ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Be={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ke(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Be[l])?!!u[l]:!1}function lt(){return Ke}var v=Z({},zs,{key:function(l){if(l.key){var u=ve[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=ws(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Pe[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lt,charCode:function(l){return l.type==="keypress"?ws(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ws(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),R=sr(v),U=Z({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ne=sr(U),Ae=Z({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lt}),Re=sr(Ae),Xe=Z({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$t=sr(Xe),sn=Z({},bo,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Ht=sr(sn),En=[9,13,27,32],In=a&&"CompositionEvent"in window,Ri=null;a&&"documentMode"in document&&(Ri=document.documentMode);var oi=a&&"TextEvent"in window&&!Ri,_o=a&&(!In||Ri&&8<Ri&&11>=Ri),So=" ",Zc=!1;function eu(l,u){switch(l){case"keyup":return En.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yl(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var gr=!1;function tu(l,u){switch(l){case"compositionend":return Yl(u);case"keypress":return u.which!==32?null:(Zc=!0,So);case"textInput":return l=u.data,l===So&&Zc?null:l;default:return null}}function nu(l,u){if(gr)return l==="compositionend"||!In&&eu(l,u)?(l=Gl(),mr=ki=gi=null,gr=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return _o&&u.locale!=="ko"?null:u.data;default:return null}}var ru={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iu(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!ru[l.type]:u==="textarea"}function Li(l,u,p,b){Nt(b),u=Rf(u,"onChange"),0<u.length&&(p=new wo("onChange","change",null,p,b),l.push({event:p,listeners:u}))}var Xl=null,_a=null;function Nf(l){gd(l,0)}function Di(l){var u=sc(l);if(Ye(u))return l}function su(l,u){if(l==="change")return u}var fd=!1;if(a){var ou;if(a){var Qo="oninput"in document;if(!Qo){var dl=document.createElement("div");dl.setAttribute("oninput","return;"),Qo=typeof dl.oninput=="function"}ou=Qo}else ou=!1;fd=ou&&(!document.documentMode||9<document.documentMode)}function Oi(){Xl&&(Xl.detachEvent("onpropertychange",vi),_a=Xl=null)}function vi(l){if(l.propertyName==="value"&&Di(_a)){var u=[];Li(u,_a,l,js(l)),$i(Nf,u)}}function fl(l,u,p){l==="focusin"?(Oi(),Xl=u,_a=p,Xl.attachEvent("onpropertychange",vi)):l==="focusout"&&Oi()}function Sa(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Di(_a)}function Ta(l,u){if(l==="click")return Di(u)}function au(l,u){if(l==="input"||l==="change")return Di(u)}function Ea(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var xn=typeof Object.is=="function"?Object.is:Ea;function Aa(l,u){if(xn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),b=Object.keys(u);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var P=p[b];if(!c.call(u,P)||!xn(l[P],u[P]))return!1}return!0}function wi(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function _s(l,u){var p=wi(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=u&&b>=u)return{node:p,offset:u-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=wi(p)}}function Ql(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Ql(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function hd(){for(var l=window,u=Qe();u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Qe(l.document)}return u}function Jl(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function Zl(l){var u=hd(),p=l.focusedElem,b=l.selectionRange;if(u!==p&&p&&p.ownerDocument&&Ql(p.ownerDocument.documentElement,p)){if(b!==null&&Jl(p)){if(u=b.start,l=b.end,l===void 0&&(l=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(l,p.value.length);else if(l=(u=p.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var P=p.textContent.length,O=Math.min(b.start,P);b=b.end===void 0?O:Math.min(b.end,P),!l.extend&&O>b&&(P=b,b=O,O=P),P=_s(p,O);var Q=_s(p,b);P&&Q&&(l.rangeCount!==1||l.anchorNode!==P.node||l.anchorOffset!==P.offset||l.focusNode!==Q.node||l.focusOffset!==Q.offset)&&(u=u.createRange(),u.setStart(P.node,P.offset),l.removeAllRanges(),O>b?(l.addRange(u),l.extend(Q.node,Q.offset)):(u.setEnd(Q.node,Q.offset),l.addRange(u)))}}for(u=[],l=p;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)l=u[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var ec=a&&"documentMode"in document&&11>=document.documentMode,Ss=null,Ca=null,Jo=null,Pa=!1;function Na(l,u,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Pa||Ss==null||Ss!==Qe(b)||(b=Ss,"selectionStart"in b&&Jl(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Jo&&Aa(Jo,b)||(Jo=b,b=Rf(Ca,"onSelect"),0<b.length&&(u=new wo("onSelect","select",null,u,p),l.push({event:u,listeners:b}),u.target=Ss)))}function hl(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var ai={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},Xi={},Un={};a&&(Un=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function kn(l){if(Xi[l])return Xi[l];if(!ai[l])return l;var u=ai[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in Un)return Xi[l]=u[p];return l}var yr=kn("animationend"),Rr=kn("animationiteration"),Zo=kn("animationstart"),lu=kn("transitionend"),tc=new Map,pd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(l,u){tc.set(l,u),s(u,[l])}for(var cu=0;cu<pd.length;cu++){var ji=pd[cu],$s=ji.toLowerCase(),If=ji[0].toUpperCase()+ji.slice(1);ea($s,"on"+If)}ea(yr,"onAnimationEnd"),ea(Rr,"onAnimationIteration"),ea(Zo,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(lu,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qm=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function md(l,u,p){var b=l.type||"unknown-event";l.currentTarget=p,Hi(b,u,void 0,l),l.currentTarget=null}function gd(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],P=b.event;b=b.listeners;e:{var O=void 0;if(u)for(var Q=b.length-1;0<=Q;Q--){var ge=b[Q],xe=ge.instance,Oe=ge.currentTarget;if(ge=ge.listener,xe!==O&&P.isPropagationStopped())break e;md(P,ge,Oe),O=xe}else for(Q=0;Q<b.length;Q++){if(ge=b[Q],xe=ge.instance,Oe=ge.currentTarget,ge=ge.listener,xe!==O&&P.isPropagationStopped())break e;md(P,ge,Oe),O=xe}}}if(ir)throw l=Fo,ir=!1,Fo=null,l}function zn(l,u){var p=u[Ji];p===void 0&&(p=u[Ji]=new Set);var b=l+"__bubble";p.has(b)||(yd(u,l,2,!1),p.add(b))}function kf(l,u,p){var b=0;u&&(b|=4),yd(p,l,b,u)}var uu="_reactListening"+Math.random().toString(36).slice(2);function nc(l){if(!l[uu]){l[uu]=!0,r.forEach(function(p){p!=="selectionchange"&&(Qm.has(p)||kf(p,!1,l),kf(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[uu]||(u[uu]=!0,kf("selectionchange",!1,u))}}function yd(l,u,p,b){switch(al(u)){case 1:var P=Tn;break;case 4:P=Hl;break;default:P=Go}p=P.bind(null,u,p,l),P=void 0,!fi||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(P=!0),b?P!==void 0?l.addEventListener(u,p,{capture:!0,passive:P}):l.addEventListener(u,p,!0):P!==void 0?l.addEventListener(u,p,{passive:P}):l.addEventListener(u,p,!1)}function vd(l,u,p,b,P){var O=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var Q=b.tag;if(Q===3||Q===4){var ge=b.stateNode.containerInfo;if(ge===P||ge.nodeType===8&&ge.parentNode===P)break;if(Q===4)for(Q=b.return;Q!==null;){var xe=Q.tag;if((xe===3||xe===4)&&(xe=Q.stateNode.containerInfo,xe===P||xe.nodeType===8&&xe.parentNode===P))return;Q=Q.return}for(;ge!==null;){if(Q=ml(ge),Q===null)return;if(xe=Q.tag,xe===5||xe===6){b=O=Q;continue e}ge=ge.parentNode}}b=b.return}$i(function(){var Oe=O,Ze=js(p),tt=[];e:{var Je=tc.get(l);if(Je!==void 0){var mt=wo,wt=l;switch(l){case"keypress":if(ws(p)===0)break e;case"keydown":case"keyup":mt=R;break;case"focusin":wt="focus",mt=Ws;break;case"focusout":wt="blur",mt=Ws;break;case"beforeblur":case"afterblur":mt=Ws;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Re;break;case yr:case Rr:case Zo:mt=yi;break;case lu:mt=$t;break;case"scroll":mt=Kl;break;case"wheel":mt=Ht;break;case"copy":case"cut":case"paste":mt=A;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=ne}var xt=(u&4)!==0,Ur=!xt&&l==="scroll",ke=xt?Je!==null?Je+"Capture":null:Je;xt=[];for(var Ee=Oe,Le;Ee!==null;){Le=Ee;var rt=Le.stateNode;if(Le.tag===5&&rt!==null&&(Le=rt,ke!==null&&(rt=pt(Ee,ke),rt!=null&&xt.push(wd(Ee,rt,Le)))),Ur)break;Ee=Ee.return}0<xt.length&&(Je=new mt(Je,wt,null,p,Ze),tt.push({event:Je,listeners:xt}))}}if((u&7)===0){e:{if(Je=l==="mouseover"||l==="pointerover",mt=l==="mouseout"||l==="pointerout",Je&&p!==rn&&(wt=p.relatedTarget||p.fromElement)&&(ml(wt)||wt[bi]))break e;if((mt||Je)&&(Je=Ze.window===Ze?Ze:(Je=Ze.ownerDocument)?Je.defaultView||Je.parentWindow:window,mt?(wt=p.relatedTarget||p.toElement,mt=Oe,wt=wt?ml(wt):null,wt!==null&&(Ur=_r(wt),wt!==Ur||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(mt=null,wt=Oe),mt!==wt)){if(xt=Xo,rt="onMouseLeave",ke="onMouseEnter",Ee="mouse",(l==="pointerout"||l==="pointerover")&&(xt=ne,rt="onPointerLeave",ke="onPointerEnter",Ee="pointer"),Ur=mt==null?Je:sc(mt),Le=wt==null?Je:sc(wt),Je=new xt(rt,Ee+"leave",mt,p,Ze),Je.target=Ur,Je.relatedTarget=Le,rt=null,ml(Ze)===Oe&&(xt=new xt(ke,Ee+"enter",wt,p,Ze),xt.target=Le,xt.relatedTarget=Ur,rt=xt),Ur=rt,mt&&wt)t:{for(xt=mt,ke=wt,Ee=0,Le=xt;Le;Le=rc(Le))Ee++;for(Le=0,rt=ke;rt;rt=rc(rt))Le++;for(;0<Ee-Le;)xt=rc(xt),Ee--;for(;0<Le-Ee;)ke=rc(ke),Le--;for(;Ee--;){if(xt===ke||ke!==null&&xt===ke.alternate)break t;xt=rc(xt),ke=rc(ke)}xt=null}else xt=null;mt!==null&&Jm(tt,Je,mt,xt,!1),wt!==null&&Ur!==null&&Jm(tt,Ur,wt,xt,!0)}}e:{if(Je=Oe?sc(Oe):window,mt=Je.nodeName&&Je.nodeName.toLowerCase(),mt==="select"||mt==="input"&&Je.type==="file")var Tt=su;else if(iu(Je))if(fd)Tt=au;else{Tt=Sa;var Rt=fl}else(mt=Je.nodeName)&&mt.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Tt=Ta);if(Tt&&(Tt=Tt(l,Oe))){Li(tt,Tt,p,Ze);break e}Rt&&Rt(l,Je,Oe),l==="focusout"&&(Rt=Je._wrapperState)&&Rt.controlled&&Je.type==="number"&&Ge(Je,"number",Je.value)}switch(Rt=Oe?sc(Oe):window,l){case"focusin":(iu(Rt)||Rt.contentEditable==="true")&&(Ss=Rt,Ca=Oe,Jo=null);break;case"focusout":Jo=Ca=Ss=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Na(tt,p,Ze);break;case"selectionchange":if(ec)break;case"keydown":case"keyup":Na(tt,p,Ze)}var Lt;if(In)e:{switch(l){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else gr?eu(l,p)&&(Wt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Wt="onCompositionStart");Wt&&(_o&&p.locale!=="ko"&&(gr||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&gr&&(Lt=Gl()):(gi=Ze,ki="value"in gi?gi.value:gi.textContent,gr=!0)),Rt=Rf(Oe,Wt),0<Rt.length&&(Wt=new he(Wt,l,null,p,Ze),tt.push({event:Wt,listeners:Rt}),Lt?Wt.data=Lt:(Lt=Yl(p),Lt!==null&&(Wt.data=Lt)))),(Lt=oi?tu(l,p):nu(l,p))&&(Oe=Rf(Oe,"onBeforeInput"),0<Oe.length&&(Ze=new he("onBeforeInput","beforeinput",null,p,Ze),tt.push({event:Ze,listeners:Oe}),Ze.data=Lt))}gd(tt,u)})}function wd(l,u,p){return{instance:l,listener:u,currentTarget:p}}function Rf(l,u){for(var p=u+"Capture",b=[];l!==null;){var P=l,O=P.stateNode;P.tag===5&&O!==null&&(P=O,O=pt(l,p),O!=null&&b.unshift(wd(l,O,P)),O=pt(l,u),O!=null&&b.push(wd(l,O,P))),l=l.return}return b}function rc(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Jm(l,u,p,b,P){for(var O=u._reactName,Q=[];p!==null&&p!==b;){var ge=p,xe=ge.alternate,Oe=ge.stateNode;if(xe!==null&&xe===b)break;ge.tag===5&&Oe!==null&&(ge=Oe,P?(xe=pt(p,O),xe!=null&&Q.unshift(wd(p,xe,ge))):P||(xe=pt(p,O),xe!=null&&Q.push(wd(p,xe,ge)))),p=p.return}Q.length!==0&&l.push({event:u,listeners:Q})}var Ev=/\r\n?/g,Av=/\u0000|\uFFFD/g;function Zm(l){return(typeof l=="string"?l:""+l).replace(Ev,`
`).replace(Av,"")}function Lf(l,u,p){if(u=Zm(u),Zm(l)!==u&&p)throw Error(n(425))}function du(){}var bd=null,ic=null;function Kh(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,eg=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,Cv=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(l){return tg.resolve(null).then(l).catch(Pv)}:Yh;function Pv(l){setTimeout(function(){throw l})}function Xh(l,u){var p=u,b=0;do{var P=p.nextSibling;if(l.removeChild(p),P&&P.nodeType===8)if(p=P.data,p==="/$"){if(b===0){l.removeChild(P),si(u);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=P}while(p);si(u)}function Mi(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function Hs(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}var Qi=Math.random().toString(36).slice(2),ta="__reactFiber$"+Qi,fu="__reactProps$"+Qi,bi="__reactContainer$"+Qi,Ji="__reactEvents$"+Qi,Nv="__reactListeners$"+Qi,Iv="__reactHandles$"+Qi;function ml(l){var u=l[ta];if(u)return u;for(var p=l.parentNode;p;){if(u=p[bi]||p[ta]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=Hs(l);l!==null;){if(p=l[ta])return p;l=Hs(l)}return u}l=p,p=l.parentNode}return null}function hu(l){return l=l[ta]||l[bi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function sc(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function xd(l){return l[fu]||null}var Qh=[],Ia=-1;function To(l){return{current:l}}function Rn(l){0>Ia||(l.current=Qh[Ia],Qh[Ia]=null,Ia--)}function jn(l,u){Ia++,Qh[Ia]=l.current,l.current=u}var gl={},li=To(gl),Zi=To(!1),oc=gl;function pu(l,u){var p=l.type.contextTypes;if(!p)return gl;var b=l.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var P={},O;for(O in p)P[O]=u[O];return b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=P),P}function es(l){return l=l.childContextTypes,l!=null}function Df(){Rn(Zi),Rn(li)}function ng(l,u,p){if(li.current!==gl)throw Error(n(168));jn(li,u),jn(Zi,p)}function Jh(l,u,p){var b=l.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var P in b)if(!(P in u))throw Error(n(108,ye(l)||"Unknown",P));return Z({},p,b)}function ac(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||gl,oc=li.current,jn(li,l),jn(Zi,Zi.current),!0}function rg(l,u,p){var b=l.stateNode;if(!b)throw Error(n(169));p?(l=Jh(l,u,oc),b.__reactInternalMemoizedMergedChildContext=l,Rn(Zi),Rn(li),jn(li,l)):Rn(Zi),jn(Zi,p)}var ka=null,_d=!1,m=!1;function x(l){ka===null?ka=[l]:ka.push(l)}function N(l){_d=!0,x(l)}function M(){if(!m&&ka!==null){m=!0;var l=0,u=nn;try{var p=ka;for(nn=1;l<p.length;l++){var b=p[l];do b=b(!0);while(b!==null)}ka=null,_d=!1}catch(P){throw ka!==null&&(ka=ka.slice(l+1)),po(Ms,M),P}finally{nn=u,m=!1}}return null}var G=[],X=0,J=null,te=0,ie=[],ue=0,be=null,Ne=1,Ie="";function Ce(l,u){G[X++]=te,G[X++]=J,J=l,te=u}function $e(l,u,p){ie[ue++]=Ne,ie[ue++]=Ie,ie[ue++]=be,be=l;var b=Ne;l=Ie;var P=32-ti(b)-1;b&=~(1<<P),p+=1;var O=32-ti(u)+P;if(30<O){var Q=P-P%5;O=(b&(1<<Q)-1).toString(32),b>>=Q,P-=Q,Ne=1<<32-ti(u)+P|p<<P|b,Ie=O+l}else Ne=1<<O|p<<P|b,Ie=l}function je(l){l.return!==null&&(Ce(l,1),$e(l,1,0))}function _e(l){for(;l===J;)J=G[--X],G[X]=null,te=G[--X],G[X]=null;for(;l===be;)be=ie[--ue],ie[ue]=null,Ie=ie[--ue],ie[ue]=null,Ne=ie[--ue],ie[ue]=null}var Se=null,ze=null,Ue=!1,qe=null;function ht(l,u){var p=aa(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,u=l.deletions,u===null?(l.deletions=[p],l.flags|=16):u.push(p)}function ct(l,u){switch(l.tag){case 5:var p=l.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Se=l,ze=Mi(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Se=l,ze=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=be!==null?{id:Ne,overflow:Ie}:null,l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=aa(18,null,null,0),p.stateNode=u,p.return=l,l.child=p,Se=l,ze=null,!0):!1;default:return!1}}function Ct(l){return(l.mode&1)!==0&&(l.flags&128)===0}function ut(l){if(Ue){var u=ze;if(u){var p=u;if(!ct(l,u)){if(Ct(l))throw Error(n(418));u=Mi(p.nextSibling);var b=Se;u&&ct(l,u)?ht(b,p):(l.flags=l.flags&-4097|2,Ue=!1,Se=l)}}else{if(Ct(l))throw Error(n(418));l.flags=l.flags&-4097|2,Ue=!1,Se=l}}}function yn(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Se=l}function vn(l){if(l!==Se)return!1;if(!Ue)return yn(l),Ue=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!Kh(l.type,l.memoizedProps)),u&&(u=ze)){if(Ct(l))throw cn(),Error(n(418));for(;u;)ht(l,u),u=Mi(u.nextSibling)}if(yn(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(u===0){ze=Mi(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}l=l.nextSibling}ze=null}}else ze=Se?Mi(l.stateNode.nextSibling):null;return!0}function cn(){for(var l=ze;l;)l=Mi(l.nextSibling)}function Xt(){ze=Se=null,Ue=!1}function Ln(l){qe===null?qe=[l]:qe.push(l)}var Mn=D.ReactCurrentBatchConfig;function zt(l,u,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var b=p.stateNode}if(!b)throw Error(n(147,l));var P=b,O=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===O?u.ref:(u=function(Q){var ge=P.refs;Q===null?delete ge[O]:ge[O]=Q},u._stringRef=O,u)}if(typeof l!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,l))}return l}function or(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Fi(l){var u=l._init;return u(l._payload)}function Sr(l){function u(ke,Ee){if(l){var Le=ke.deletions;Le===null?(ke.deletions=[Ee],ke.flags|=16):Le.push(Ee)}}function p(ke,Ee){if(!l)return null;for(;Ee!==null;)u(ke,Ee),Ee=Ee.sibling;return null}function b(ke,Ee){for(ke=new Map;Ee!==null;)Ee.key!==null?ke.set(Ee.key,Ee):ke.set(Ee.index,Ee),Ee=Ee.sibling;return ke}function P(ke,Ee){return ke=Au(ke,Ee),ke.index=0,ke.sibling=null,ke}function O(ke,Ee,Le){return ke.index=Le,l?(Le=ke.alternate,Le!==null?(Le=Le.index,Le<Ee?(ke.flags|=2,Ee):Le):(ke.flags|=2,Ee)):(ke.flags|=1048576,Ee)}function Q(ke){return l&&ke.alternate===null&&(ke.flags|=2),ke}function ge(ke,Ee,Le,rt){return Ee===null||Ee.tag!==6?(Ee=s1(Le,ke.mode,rt),Ee.return=ke,Ee):(Ee=P(Ee,Le),Ee.return=ke,Ee)}function xe(ke,Ee,Le,rt){var Tt=Le.type;return Tt===F?Ze(ke,Ee,Le.props.children,rt,Le.key):Ee!==null&&(Ee.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===se&&Fi(Tt)===Ee.type)?(rt=P(Ee,Le.props),rt.ref=zt(ke,Ee,Le),rt.return=ke,rt):(rt=Sg(Le.type,Le.key,Le.props,null,ke.mode,rt),rt.ref=zt(ke,Ee,Le),rt.return=ke,rt)}function Oe(ke,Ee,Le,rt){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Le.containerInfo||Ee.stateNode.implementation!==Le.implementation?(Ee=o1(Le,ke.mode,rt),Ee.return=ke,Ee):(Ee=P(Ee,Le.children||[]),Ee.return=ke,Ee)}function Ze(ke,Ee,Le,rt,Tt){return Ee===null||Ee.tag!==7?(Ee=Id(Le,ke.mode,rt,Tt),Ee.return=ke,Ee):(Ee=P(Ee,Le),Ee.return=ke,Ee)}function tt(ke,Ee,Le){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=s1(""+Ee,ke.mode,Le),Ee.return=ke,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case K:return Le=Sg(Ee.type,Ee.key,Ee.props,null,ke.mode,Le),Le.ref=zt(ke,null,Ee),Le.return=ke,Le;case ae:return Ee=o1(Ee,ke.mode,Le),Ee.return=ke,Ee;case se:var rt=Ee._init;return tt(ke,rt(Ee._payload),Le)}if(et(Ee)||pe(Ee))return Ee=Id(Ee,ke.mode,Le,null),Ee.return=ke,Ee;or(ke,Ee)}return null}function Je(ke,Ee,Le,rt){var Tt=Ee!==null?Ee.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Tt!==null?null:ge(ke,Ee,""+Le,rt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case K:return Le.key===Tt?xe(ke,Ee,Le,rt):null;case ae:return Le.key===Tt?Oe(ke,Ee,Le,rt):null;case se:return Tt=Le._init,Je(ke,Ee,Tt(Le._payload),rt)}if(et(Le)||pe(Le))return Tt!==null?null:Ze(ke,Ee,Le,rt,null);or(ke,Le)}return null}function mt(ke,Ee,Le,rt,Tt){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return ke=ke.get(Le)||null,ge(Ee,ke,""+rt,Tt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case K:return ke=ke.get(rt.key===null?Le:rt.key)||null,xe(Ee,ke,rt,Tt);case ae:return ke=ke.get(rt.key===null?Le:rt.key)||null,Oe(Ee,ke,rt,Tt);case se:var Rt=rt._init;return mt(ke,Ee,Le,Rt(rt._payload),Tt)}if(et(rt)||pe(rt))return ke=ke.get(Le)||null,Ze(Ee,ke,rt,Tt,null);or(Ee,rt)}return null}function wt(ke,Ee,Le,rt){for(var Tt=null,Rt=null,Lt=Ee,Wt=Ee=0,Ti=null;Lt!==null&&Wt<Le.length;Wt++){Lt.index>Wt?(Ti=Lt,Lt=null):Ti=Lt.sibling;var Pn=Je(ke,Lt,Le[Wt],rt);if(Pn===null){Lt===null&&(Lt=Ti);break}l&&Lt&&Pn.alternate===null&&u(ke,Lt),Ee=O(Pn,Ee,Wt),Rt===null?Tt=Pn:Rt.sibling=Pn,Rt=Pn,Lt=Ti}if(Wt===Le.length)return p(ke,Lt),Ue&&Ce(ke,Wt),Tt;if(Lt===null){for(;Wt<Le.length;Wt++)Lt=tt(ke,Le[Wt],rt),Lt!==null&&(Ee=O(Lt,Ee,Wt),Rt===null?Tt=Lt:Rt.sibling=Lt,Rt=Lt);return Ue&&Ce(ke,Wt),Tt}for(Lt=b(ke,Lt);Wt<Le.length;Wt++)Ti=mt(Lt,ke,Wt,Le[Wt],rt),Ti!==null&&(l&&Ti.alternate!==null&&Lt.delete(Ti.key===null?Wt:Ti.key),Ee=O(Ti,Ee,Wt),Rt===null?Tt=Ti:Rt.sibling=Ti,Rt=Ti);return l&&Lt.forEach(function(Cu){return u(ke,Cu)}),Ue&&Ce(ke,Wt),Tt}function xt(ke,Ee,Le,rt){var Tt=pe(Le);if(typeof Tt!="function")throw Error(n(150));if(Le=Tt.call(Le),Le==null)throw Error(n(151));for(var Rt=Tt=null,Lt=Ee,Wt=Ee=0,Ti=null,Pn=Le.next();Lt!==null&&!Pn.done;Wt++,Pn=Le.next()){Lt.index>Wt?(Ti=Lt,Lt=null):Ti=Lt.sibling;var Cu=Je(ke,Lt,Pn.value,rt);if(Cu===null){Lt===null&&(Lt=Ti);break}l&&Lt&&Cu.alternate===null&&u(ke,Lt),Ee=O(Cu,Ee,Wt),Rt===null?Tt=Cu:Rt.sibling=Cu,Rt=Cu,Lt=Ti}if(Pn.done)return p(ke,Lt),Ue&&Ce(ke,Wt),Tt;if(Lt===null){for(;!Pn.done;Wt++,Pn=Le.next())Pn=tt(ke,Pn.value,rt),Pn!==null&&(Ee=O(Pn,Ee,Wt),Rt===null?Tt=Pn:Rt.sibling=Pn,Rt=Pn);return Ue&&Ce(ke,Wt),Tt}for(Lt=b(ke,Lt);!Pn.done;Wt++,Pn=Le.next())Pn=mt(Lt,ke,Wt,Pn.value,rt),Pn!==null&&(l&&Pn.alternate!==null&&Lt.delete(Pn.key===null?Wt:Pn.key),Ee=O(Pn,Ee,Wt),Rt===null?Tt=Pn:Rt.sibling=Pn,Rt=Pn);return l&&Lt.forEach(function(JR){return u(ke,JR)}),Ue&&Ce(ke,Wt),Tt}function Ur(ke,Ee,Le,rt){if(typeof Le=="object"&&Le!==null&&Le.type===F&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case K:e:{for(var Tt=Le.key,Rt=Ee;Rt!==null;){if(Rt.key===Tt){if(Tt=Le.type,Tt===F){if(Rt.tag===7){p(ke,Rt.sibling),Ee=P(Rt,Le.props.children),Ee.return=ke,ke=Ee;break e}}else if(Rt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===se&&Fi(Tt)===Rt.type){p(ke,Rt.sibling),Ee=P(Rt,Le.props),Ee.ref=zt(ke,Rt,Le),Ee.return=ke,ke=Ee;break e}p(ke,Rt);break}else u(ke,Rt);Rt=Rt.sibling}Le.type===F?(Ee=Id(Le.props.children,ke.mode,rt,Le.key),Ee.return=ke,ke=Ee):(rt=Sg(Le.type,Le.key,Le.props,null,ke.mode,rt),rt.ref=zt(ke,Ee,Le),rt.return=ke,ke=rt)}return Q(ke);case ae:e:{for(Rt=Le.key;Ee!==null;){if(Ee.key===Rt)if(Ee.tag===4&&Ee.stateNode.containerInfo===Le.containerInfo&&Ee.stateNode.implementation===Le.implementation){p(ke,Ee.sibling),Ee=P(Ee,Le.children||[]),Ee.return=ke,ke=Ee;break e}else{p(ke,Ee);break}else u(ke,Ee);Ee=Ee.sibling}Ee=o1(Le,ke.mode,rt),Ee.return=ke,ke=Ee}return Q(ke);case se:return Rt=Le._init,Ur(ke,Ee,Rt(Le._payload),rt)}if(et(Le))return wt(ke,Ee,Le,rt);if(pe(Le))return xt(ke,Ee,Le,rt);or(ke,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"?(Le=""+Le,Ee!==null&&Ee.tag===6?(p(ke,Ee.sibling),Ee=P(Ee,Le),Ee.return=ke,ke=Ee):(p(ke,Ee),Ee=s1(Le,ke.mode,rt),Ee.return=ke,ke=Ee),Q(ke)):p(ke,Ee)}return Ur}var Fr=Sr(!0),An=Sr(!1),xi=To(null),_i=null,ar=null,Vr=null;function ci(){Vr=ar=_i=null}function ts(l){var u=xi.current;Rn(xi),l._currentValue=u}function Gs(l,u,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),l===p)break;l=l.return}}function lr(l,u){_i=l,Vr=ar=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Qs=!0),l.firstContext=null)}function Lr(l){var u=l._currentValue;if(Vr!==l)if(l={context:l,memoizedValue:u,next:null},ar===null){if(_i===null)throw Error(n(308));ar=l,_i.dependencies={lanes:0,firstContext:l}}else ar=ar.next=l;return u}var Ts=null;function yl(l){Ts===null?Ts=[l]:Ts.push(l)}function Ra(l,u,p,b){var P=u.interleaved;return P===null?(p.next=p,yl(u)):(p.next=P.next,P.next=p),u.interleaved=p,Cn(l,b)}function Cn(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,p=l.alternate,p!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var na=!1;function Of(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zh(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ks(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Ys(l,u,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(_n&2)!==0){var P=b.pending;return P===null?u.next=u:(u.next=P.next,P.next=u),b.pending=u,Cn(l,p)}return P=b.interleaved,P===null?(u.next=u,yl(b)):(u.next=P.next,P.next=u),b.interleaved=u,Cn(l,p)}function lc(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,yo(l,p)}}function Xs(l,u){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var P=null,O=null;if(p=p.firstBaseUpdate,p!==null){do{var Q={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};O===null?P=O=Q:O=O.next=Q,p=p.next}while(p!==null);O===null?P=O=u:O=O.next=u}else P=O=u;p={baseState:b.baseState,firstBaseUpdate:P,lastBaseUpdate:O,shared:b.shared,effects:b.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function La(l,u,p,b){var P=l.updateQueue;na=!1;var O=P.firstBaseUpdate,Q=P.lastBaseUpdate,ge=P.shared.pending;if(ge!==null){P.shared.pending=null;var xe=ge,Oe=xe.next;xe.next=null,Q===null?O=Oe:Q.next=Oe,Q=xe;var Ze=l.alternate;Ze!==null&&(Ze=Ze.updateQueue,ge=Ze.lastBaseUpdate,ge!==Q&&(ge===null?Ze.firstBaseUpdate=Oe:ge.next=Oe,Ze.lastBaseUpdate=xe))}if(O!==null){var tt=P.baseState;Q=0,Ze=Oe=xe=null,ge=O;do{var Je=ge.lane,mt=ge.eventTime;if((b&Je)===Je){Ze!==null&&(Ze=Ze.next={eventTime:mt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var wt=l,xt=ge;switch(Je=u,mt=p,xt.tag){case 1:if(wt=xt.payload,typeof wt=="function"){tt=wt.call(mt,tt,Je);break e}tt=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=xt.payload,Je=typeof wt=="function"?wt.call(mt,tt,Je):wt,Je==null)break e;tt=Z({},tt,Je);break e;case 2:na=!0}}ge.callback!==null&&ge.lane!==0&&(l.flags|=64,Je=P.effects,Je===null?P.effects=[ge]:Je.push(ge))}else mt={eventTime:mt,lane:Je,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},Ze===null?(Oe=Ze=mt,xe=tt):Ze=Ze.next=mt,Q|=Je;if(ge=ge.next,ge===null){if(ge=P.shared.pending,ge===null)break;Je=ge,ge=Je.next,Je.next=null,P.lastBaseUpdate=Je,P.shared.pending=null}}while(!0);if(Ze===null&&(xe=tt),P.baseState=xe,P.firstBaseUpdate=Oe,P.lastBaseUpdate=Ze,u=P.shared.interleaved,u!==null){P=u;do Q|=P.lane,P=P.next;while(P!==u)}else O===null&&(P.shared.lanes=0);Ad|=Q,l.lanes=Q,l.memoizedState=tt}}function cc(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var b=l[u],P=b.callback;if(P!==null){if(b.callback=null,b=p,typeof P!="function")throw Error(n(191,P));P.call(b)}}}var mu={},Es=To(mu),gu=To(mu),vl=To(mu);function Da(l){if(l===mu)throw Error(n(174));return l}function yu(l,u){switch(jn(vl,u),jn(gu,l),jn(Es,mu),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Pt(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Pt(u,l)}Rn(Es),jn(Es,u)}function ra(){Rn(Es),Rn(gu),Rn(vl)}function ig(l){Da(vl.current);var u=Da(Es.current),p=Pt(u,l.type);u!==p&&(jn(gu,l),jn(Es,p))}function ep(l){gu.current===l&&(Rn(Es),Rn(gu))}var Xn=To(0);function Eo(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var tp=[];function np(){for(var l=0;l<tp.length;l++)tp[l]._workInProgressVersionPrimary=null;tp.length=0}var jf=D.ReactCurrentDispatcher,Mf=D.ReactCurrentBatchConfig,ia=0,tr=null,Dr=null,Tr=null,vu=!1,Oa=!1,wu=0,kv=0;function Br(){throw Error(n(321))}function Ff(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!xn(l[p],u[p]))return!1;return!0}function Sd(l,u,p,b,P,O){if(ia=O,tr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,jf.current=l===null||l.memoizedState===null?TR:ER,l=p(b,P),Oa){O=0;do{if(Oa=!1,wu=0,25<=O)throw Error(n(301));O+=1,Tr=Dr=null,u.updateQueue=null,jf.current=AR,l=p(b,P)}while(Oa)}if(jf.current=cg,u=Dr!==null&&Dr.next!==null,ia=0,Tr=Dr=tr=null,vu=!1,u)throw Error(n(300));return l}function sa(){var l=wu!==0;return wu=0,l}function Ao(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?tr.memoizedState=Tr=l:Tr=Tr.next=l,Tr}function As(){if(Dr===null){var l=tr.alternate;l=l!==null?l.memoizedState:null}else l=Dr.next;var u=Tr===null?tr.memoizedState:Tr.next;if(u!==null)Tr=u,Dr=l;else{if(l===null)throw Error(n(310));Dr=l,l={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Tr===null?tr.memoizedState=Tr=l:Tr=Tr.next=l}return Tr}function Td(l,u){return typeof u=="function"?u(l):u}function Vf(l){var u=As(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=Dr,P=b.baseQueue,O=p.pending;if(O!==null){if(P!==null){var Q=P.next;P.next=O.next,O.next=Q}b.baseQueue=P=O,p.pending=null}if(P!==null){O=P.next,b=b.baseState;var ge=Q=null,xe=null,Oe=O;do{var Ze=Oe.lane;if((ia&Ze)===Ze)xe!==null&&(xe=xe.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),b=Oe.hasEagerState?Oe.eagerState:l(b,Oe.action);else{var tt={lane:Ze,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};xe===null?(ge=xe=tt,Q=b):xe=xe.next=tt,tr.lanes|=Ze,Ad|=Ze}Oe=Oe.next}while(Oe!==null&&Oe!==O);xe===null?Q=b:xe.next=ge,xn(b,u.memoizedState)||(Qs=!0),u.memoizedState=b,u.baseState=Q,u.baseQueue=xe,p.lastRenderedState=b}if(l=p.interleaved,l!==null){P=l;do O=P.lane,tr.lanes|=O,Ad|=O,P=P.next;while(P!==l)}else P===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function wl(l){var u=As(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var b=p.dispatch,P=p.pending,O=u.memoizedState;if(P!==null){p.pending=null;var Q=P=P.next;do O=l(O,Q.action),Q=Q.next;while(Q!==P);xn(O,u.memoizedState)||(Qs=!0),u.memoizedState=O,u.baseQueue===null&&(u.baseState=O),p.lastRenderedState=O}return[O,b]}function sg(){}function rp(l,u){var p=tr,b=As(),P=u(),O=!xn(b.memoizedState,P);if(O&&(b.memoizedState=P,Qs=!0),b=b.queue,zf(ag.bind(null,p,b,l),[l]),b.getSnapshot!==u||O||Tr!==null&&Tr.memoizedState.tag&1){if(p.flags|=2048,Cs(9,ip.bind(null,p,b,P,u),void 0,null),Si===null)throw Error(n(349));(ia&30)!==0||og(p,u,P)}return P}function og(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=tr.updateQueue,u===null?(u={lastEffect:null,stores:null},tr.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function ip(l,u,p,b){u.value=p,u.getSnapshot=b,bu(u)&&Bf(l)}function ag(l,u,p){return p(function(){bu(u)&&Bf(l)})}function bu(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!xn(l,p)}catch{return!0}}function Bf(l){var u=Cn(l,1);u!==null&&Ba(u,l,1,-1)}function Ed(l){var u=Ao();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Td,lastRenderedState:l},u.queue=l,l=l.dispatch=SR.bind(null,tr,l),[u.memoizedState,l]}function Cs(l,u,p,b){return l={tag:l,create:u,destroy:p,deps:b,next:null},u=tr.updateQueue,u===null?(u={lastEffect:null,stores:null},tr.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect,p===null?u.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,u.lastEffect=l)),l}function ja(){return As().memoizedState}function Co(l,u,p,b){var P=Ao();tr.flags|=l,P.memoizedState=Cs(1|u,p,void 0,b===void 0?null:b)}function uc(l,u,p,b){var P=As();b=b===void 0?null:b;var O=void 0;if(Dr!==null){var Q=Dr.memoizedState;if(O=Q.destroy,b!==null&&Ff(b,Q.deps)){P.memoizedState=Cs(u,p,O,b);return}}tr.flags|=l,P.memoizedState=Cs(1|u,p,O,b)}function Uf(l,u){return Co(8390656,8,l,u)}function zf(l,u){return uc(2048,8,l,u)}function lg(l,u){return uc(4,2,l,u)}function qf(l,u){return uc(4,4,l,u)}function Wf(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function sx(l,u,p){return p=p!=null?p.concat([l]):null,uc(4,4,Wf.bind(null,u,l),p)}function Rv(){}function ox(l,u){var p=As();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&Ff(u,b[1])?b[0]:(p.memoizedState=[l,u],l)}function ax(l,u){var p=As();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&Ff(u,b[1])?b[0]:(l=l(),p.memoizedState=[l,u],l)}function lx(l,u,p){return(ia&21)===0?(l.baseState&&(l.baseState=!1,Qs=!0),l.memoizedState=p):(xn(p,u)||(p=qo(),tr.lanes|=p,Ad|=p,l.baseState=!0),u)}function xR(l,u){var p=nn;nn=p!==0&&4>p?p:4,l(!0);var b=Mf.transition;Mf.transition={};try{l(!1),u()}finally{nn=p,Mf.transition=b}}function cx(){return As().memoizedState}function _R(l,u,p){var b=Tu(l);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},ux(l))dx(u,p);else if(p=Ra(l,u,p,b),p!==null){var P=Ns();Ba(p,l,b,P),fx(p,u,b)}}function SR(l,u,p){var b=Tu(l),P={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(ux(l))dx(u,P);else{var O=l.alternate;if(l.lanes===0&&(O===null||O.lanes===0)&&(O=u.lastRenderedReducer,O!==null))try{var Q=u.lastRenderedState,ge=O(Q,p);if(P.hasEagerState=!0,P.eagerState=ge,xn(ge,Q)){var xe=u.interleaved;xe===null?(P.next=P,yl(u)):(P.next=xe.next,xe.next=P),u.interleaved=P;return}}catch{}finally{}p=Ra(l,u,P,b),p!==null&&(P=Ns(),Ba(p,l,b,P),fx(p,u,b))}}function ux(l){var u=l.alternate;return l===tr||u!==null&&u===tr}function dx(l,u){Oa=vu=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function fx(l,u,p){if((p&4194240)!==0){var b=u.lanes;b&=l.pendingLanes,p|=b,u.lanes=p,yo(l,p)}}var cg={readContext:Lr,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},TR={readContext:Lr,useCallback:function(l,u){return Ao().memoizedState=[l,u===void 0?null:u],l},useContext:Lr,useEffect:Uf,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,Co(4194308,4,Wf.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Co(4194308,4,l,u)},useInsertionEffect:function(l,u){return Co(4,2,l,u)},useMemo:function(l,u){var p=Ao();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var b=Ao();return u=p!==void 0?p(u):u,b.memoizedState=b.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},b.queue=l,l=l.dispatch=_R.bind(null,tr,l),[b.memoizedState,l]},useRef:function(l){var u=Ao();return l={current:l},u.memoizedState=l},useState:Ed,useDebugValue:Rv,useDeferredValue:function(l){return Ao().memoizedState=l},useTransition:function(){var l=Ed(!1),u=l[0];return l=xR.bind(null,l[1]),Ao().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var b=tr,P=Ao();if(Ue){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),Si===null)throw Error(n(349));(ia&30)!==0||og(b,u,p)}P.memoizedState=p;var O={value:p,getSnapshot:u};return P.queue=O,Uf(ag.bind(null,b,O,l),[l]),b.flags|=2048,Cs(9,ip.bind(null,b,O,p,u),void 0,null),p},useId:function(){var l=Ao(),u=Si.identifierPrefix;if(Ue){var p=Ie,b=Ne;p=(b&~(1<<32-ti(b)-1)).toString(32)+p,u=":"+u+"R"+p,p=wu++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=kv++,u=":"+u+"r"+p.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},ER={readContext:Lr,useCallback:ox,useContext:Lr,useEffect:zf,useImperativeHandle:sx,useInsertionEffect:lg,useLayoutEffect:qf,useMemo:ax,useReducer:Vf,useRef:ja,useState:function(){return Vf(Td)},useDebugValue:Rv,useDeferredValue:function(l){var u=As();return lx(u,Dr.memoizedState,l)},useTransition:function(){var l=Vf(Td)[0],u=As().memoizedState;return[l,u]},useMutableSource:sg,useSyncExternalStore:rp,useId:cx,unstable_isNewReconciler:!1},AR={readContext:Lr,useCallback:ox,useContext:Lr,useEffect:zf,useImperativeHandle:sx,useInsertionEffect:lg,useLayoutEffect:qf,useMemo:ax,useReducer:wl,useRef:ja,useState:function(){return wl(Td)},useDebugValue:Rv,useDeferredValue:function(l){var u=As();return Dr===null?u.memoizedState=l:lx(u,Dr.memoizedState,l)},useTransition:function(){var l=wl(Td)[0],u=As().memoizedState;return[l,u]},useMutableSource:sg,useSyncExternalStore:rp,useId:cx,unstable_isNewReconciler:!1};function Ma(l,u){if(l&&l.defaultProps){u=Z({},u),l=l.defaultProps;for(var p in l)u[p]===void 0&&(u[p]=l[p]);return u}return u}function Lv(l,u,p,b){u=l.memoizedState,p=p(b,u),p=p==null?u:Z({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var ug={isMounted:function(l){return(l=l._reactInternals)?_r(l)===l:!1},enqueueSetState:function(l,u,p){l=l._reactInternals;var b=Ns(),P=Tu(l),O=Ks(b,P);O.payload=u,p!=null&&(O.callback=p),u=Ys(l,O,P),u!==null&&(Ba(u,l,P,b),lc(u,l,P))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var b=Ns(),P=Tu(l),O=Ks(b,P);O.tag=1,O.payload=u,p!=null&&(O.callback=p),u=Ys(l,O,P),u!==null&&(Ba(u,l,P,b),lc(u,l,P))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Ns(),b=Tu(l),P=Ks(p,b);P.tag=2,u!=null&&(P.callback=u),u=Ys(l,P,b),u!==null&&(Ba(u,l,b,p),lc(u,l,b))}};function hx(l,u,p,b,P,O,Q){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,O,Q):u.prototype&&u.prototype.isPureReactComponent?!Aa(p,b)||!Aa(P,O):!0}function px(l,u,p){var b=!1,P=gl,O=u.contextType;return typeof O=="object"&&O!==null?O=Lr(O):(P=es(u)?oc:li.current,b=u.contextTypes,O=(b=b!=null)?pu(l,P):gl),u=new u(p,O),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ug,l.stateNode=u,u._reactInternals=l,b&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=P,l.__reactInternalMemoizedMaskedChildContext=O),u}function mx(l,u,p,b){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,b),u.state!==l&&ug.enqueueReplaceState(u,u.state,null)}function Dv(l,u,p,b){var P=l.stateNode;P.props=p,P.state=l.memoizedState,P.refs={},Of(l);var O=u.contextType;typeof O=="object"&&O!==null?P.context=Lr(O):(O=es(u)?oc:li.current,P.context=pu(l,O)),P.state=l.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Lv(l,u,O,p),P.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(u=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),u!==P.state&&ug.enqueueReplaceState(P,P.state,null),La(l,p,P,b),P.state=l.memoizedState),typeof P.componentDidMount=="function"&&(l.flags|=4194308)}function $f(l,u){try{var p="",b=u;do p+=ce(b),b=b.return;while(b);var P=p}catch(O){P=`
Error generating stack: `+O.message+`
`+O.stack}return{value:l,source:u,stack:P,digest:null}}function Ov(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function jv(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var CR=typeof WeakMap=="function"?WeakMap:Map;function gx(l,u,p){p=Ks(-1,p),p.tag=3,p.payload={element:null};var b=u.value;return p.callback=function(){yg||(yg=!0,Qv=b),jv(l,u)},p}function yx(l,u,p){p=Ks(-1,p),p.tag=3;var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var P=u.value;p.payload=function(){return b(P)},p.callback=function(){jv(l,u)}}var O=l.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(p.callback=function(){jv(l,u),typeof b!="function"&&(_u===null?_u=new Set([this]):_u.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})}),p}function vx(l,u,p){var b=l.pingCache;if(b===null){b=l.pingCache=new CR;var P=new Set;b.set(u,P)}else P=b.get(u),P===void 0&&(P=new Set,b.set(u,P));P.has(p)||(P.add(p),l=UR.bind(null,l,u,p),u.then(l,l))}function wx(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function bx(l,u,p,b,P){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Ks(-1,1),u.tag=2,Ys(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=P,l)}var PR=D.ReactCurrentOwner,Qs=!1;function Ps(l,u,p,b){u.child=l===null?An(u,null,p,b):Fr(u,l.child,p,b)}function xx(l,u,p,b,P){p=p.render;var O=u.ref;return lr(u,P),b=Sd(l,u,p,b,O,P),p=sa(),l!==null&&!Qs?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~P,dc(l,u,P)):(Ue&&p&&je(u),u.flags|=1,Ps(l,u,b,P),u.child)}function _x(l,u,p,b,P){if(l===null){var O=p.type;return typeof O=="function"&&!i1(O)&&O.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=O,Sx(l,u,O,b,P)):(l=Sg(p.type,null,b,u,u.mode,P),l.ref=u.ref,l.return=u,u.child=l)}if(O=l.child,(l.lanes&P)===0){var Q=O.memoizedProps;if(p=p.compare,p=p!==null?p:Aa,p(Q,b)&&l.ref===u.ref)return dc(l,u,P)}return u.flags|=1,l=Au(O,b),l.ref=u.ref,l.return=u,u.child=l}function Sx(l,u,p,b,P){if(l!==null){var O=l.memoizedProps;if(Aa(O,b)&&l.ref===u.ref)if(Qs=!1,u.pendingProps=b=O,(l.lanes&P)!==0)(l.flags&131072)!==0&&(Qs=!0);else return u.lanes=l.lanes,dc(l,u,P)}return Mv(l,u,p,b,P)}function Tx(l,u,p){var b=u.pendingProps,P=b.children,O=l!==null?l.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(Gf,Po),Po|=p;else{if((p&1073741824)===0)return l=O!==null?O.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,jn(Gf,Po),Po|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=O!==null?O.baseLanes:p,jn(Gf,Po),Po|=b}else O!==null?(b=O.baseLanes|p,u.memoizedState=null):b=p,jn(Gf,Po),Po|=b;return Ps(l,u,P,p),u.child}function Ex(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Mv(l,u,p,b,P){var O=es(p)?oc:li.current;return O=pu(u,O),lr(u,P),p=Sd(l,u,p,b,O,P),b=sa(),l!==null&&!Qs?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~P,dc(l,u,P)):(Ue&&b&&je(u),u.flags|=1,Ps(l,u,p,P),u.child)}function Ax(l,u,p,b,P){if(es(p)){var O=!0;ac(u)}else O=!1;if(lr(u,P),u.stateNode===null)fg(l,u),px(u,p,b),Dv(u,p,b,P),b=!0;else if(l===null){var Q=u.stateNode,ge=u.memoizedProps;Q.props=ge;var xe=Q.context,Oe=p.contextType;typeof Oe=="object"&&Oe!==null?Oe=Lr(Oe):(Oe=es(p)?oc:li.current,Oe=pu(u,Oe));var Ze=p.getDerivedStateFromProps,tt=typeof Ze=="function"||typeof Q.getSnapshotBeforeUpdate=="function";tt||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ge!==b||xe!==Oe)&&mx(u,Q,b,Oe),na=!1;var Je=u.memoizedState;Q.state=Je,La(u,b,Q,P),xe=u.memoizedState,ge!==b||Je!==xe||Zi.current||na?(typeof Ze=="function"&&(Lv(u,p,Ze,b),xe=u.memoizedState),(ge=na||hx(u,p,ge,b,Je,xe,Oe))?(tt||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(u.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=xe),Q.props=b,Q.state=xe,Q.context=Oe,b=ge):(typeof Q.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{Q=u.stateNode,Zh(l,u),ge=u.memoizedProps,Oe=u.type===u.elementType?ge:Ma(u.type,ge),Q.props=Oe,tt=u.pendingProps,Je=Q.context,xe=p.contextType,typeof xe=="object"&&xe!==null?xe=Lr(xe):(xe=es(p)?oc:li.current,xe=pu(u,xe));var mt=p.getDerivedStateFromProps;(Ze=typeof mt=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(ge!==tt||Je!==xe)&&mx(u,Q,b,xe),na=!1,Je=u.memoizedState,Q.state=Je,La(u,b,Q,P);var wt=u.memoizedState;ge!==tt||Je!==wt||Zi.current||na?(typeof mt=="function"&&(Lv(u,p,mt,b),wt=u.memoizedState),(Oe=na||hx(u,p,Oe,b,Je,wt,xe)||!1)?(Ze||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(b,wt,xe),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(b,wt,xe)),typeof Q.componentDidUpdate=="function"&&(u.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof Q.componentDidUpdate!="function"||ge===l.memoizedProps&&Je===l.memoizedState||(u.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ge===l.memoizedProps&&Je===l.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=wt),Q.props=b,Q.state=wt,Q.context=xe,b=Oe):(typeof Q.componentDidUpdate!="function"||ge===l.memoizedProps&&Je===l.memoizedState||(u.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||ge===l.memoizedProps&&Je===l.memoizedState||(u.flags|=1024),b=!1)}return Fv(l,u,p,b,O,P)}function Fv(l,u,p,b,P,O){Ex(l,u);var Q=(u.flags&128)!==0;if(!b&&!Q)return P&&rg(u,p,!1),dc(l,u,O);b=u.stateNode,PR.current=u;var ge=Q&&typeof p.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,l!==null&&Q?(u.child=Fr(u,l.child,null,O),u.child=Fr(u,null,ge,O)):Ps(l,u,ge,O),u.memoizedState=b.state,P&&rg(u,p,!0),u.child}function Cx(l){var u=l.stateNode;u.pendingContext?ng(l,u.pendingContext,u.pendingContext!==u.context):u.context&&ng(l,u.context,!1),yu(l,u.containerInfo)}function Px(l,u,p,b,P){return Xt(),Ln(P),u.flags|=256,Ps(l,u,p,b),u.child}var Vv={dehydrated:null,treeContext:null,retryLane:0};function Bv(l){return{baseLanes:l,cachePool:null,transitions:null}}function Nx(l,u,p){var b=u.pendingProps,P=Xn.current,O=!1,Q=(u.flags&128)!==0,ge;if((ge=Q)||(ge=l!==null&&l.memoizedState===null?!1:(P&2)!==0),ge?(O=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(P|=1),jn(Xn,P&1),l===null)return ut(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(Q=b.children,l=b.fallback,O?(b=u.mode,O=u.child,Q={mode:"hidden",children:Q},(b&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=Q):O=Tg(Q,b,0,null),l=Id(l,b,p,null),O.return=u,l.return=u,O.sibling=l,u.child=O,u.child.memoizedState=Bv(p),u.memoizedState=Vv,l):Uv(u,Q));if(P=l.memoizedState,P!==null&&(ge=P.dehydrated,ge!==null))return NR(l,u,Q,b,ge,P,p);if(O){O=b.fallback,Q=u.mode,P=l.child,ge=P.sibling;var xe={mode:"hidden",children:b.children};return(Q&1)===0&&u.child!==P?(b=u.child,b.childLanes=0,b.pendingProps=xe,u.deletions=null):(b=Au(P,xe),b.subtreeFlags=P.subtreeFlags&14680064),ge!==null?O=Au(ge,O):(O=Id(O,Q,p,null),O.flags|=2),O.return=u,b.return=u,b.sibling=O,u.child=b,b=O,O=u.child,Q=l.child.memoizedState,Q=Q===null?Bv(p):{baseLanes:Q.baseLanes|p,cachePool:null,transitions:Q.transitions},O.memoizedState=Q,O.childLanes=l.childLanes&~p,u.memoizedState=Vv,b}return O=l.child,l=O.sibling,b=Au(O,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=p),b.return=u,b.sibling=null,l!==null&&(p=u.deletions,p===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=b,u.memoizedState=null,b}function Uv(l,u){return u=Tg({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function dg(l,u,p,b){return b!==null&&Ln(b),Fr(u,l.child,null,p),l=Uv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function NR(l,u,p,b,P,O,Q){if(p)return u.flags&256?(u.flags&=-257,b=Ov(Error(n(422))),dg(l,u,Q,b)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(O=b.fallback,P=u.mode,b=Tg({mode:"visible",children:b.children},P,0,null),O=Id(O,P,Q,null),O.flags|=2,b.return=u,O.return=u,b.sibling=O,u.child=b,(u.mode&1)!==0&&Fr(u,l.child,null,Q),u.child.memoizedState=Bv(Q),u.memoizedState=Vv,O);if((u.mode&1)===0)return dg(l,u,Q,null);if(P.data==="$!"){if(b=P.nextSibling&&P.nextSibling.dataset,b)var ge=b.dgst;return b=ge,O=Error(n(419)),b=Ov(O,b,void 0),dg(l,u,Q,b)}if(ge=(Q&l.childLanes)!==0,Qs||ge){if(b=Si,b!==null){switch(Q&-Q){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(b.suspendedLanes|Q))!==0?0:P,P!==0&&P!==O.retryLane&&(O.retryLane=P,Cn(l,P),Ba(b,l,P,-1))}return r1(),b=Ov(Error(n(421))),dg(l,u,Q,b)}return P.data==="$?"?(u.flags|=128,u.child=l.child,u=zR.bind(null,l),P._reactRetry=u,null):(l=O.treeContext,ze=Mi(P.nextSibling),Se=u,Ue=!0,qe=null,l!==null&&(ie[ue++]=Ne,ie[ue++]=Ie,ie[ue++]=be,Ne=l.id,Ie=l.overflow,be=u),u=Uv(u,b.children),u.flags|=4096,u)}function Ix(l,u,p){l.lanes|=u;var b=l.alternate;b!==null&&(b.lanes|=u),Gs(l.return,u,p)}function zv(l,u,p,b,P){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:P}:(O.isBackwards=u,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=p,O.tailMode=P)}function kx(l,u,p){var b=u.pendingProps,P=b.revealOrder,O=b.tail;if(Ps(l,u,b.children,p),b=Xn.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Ix(l,p,u);else if(l.tag===19)Ix(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}if(jn(Xn,b),(u.mode&1)===0)u.memoizedState=null;else switch(P){case"forwards":for(p=u.child,P=null;p!==null;)l=p.alternate,l!==null&&Eo(l)===null&&(P=p),p=p.sibling;p=P,p===null?(P=u.child,u.child=null):(P=p.sibling,p.sibling=null),zv(u,!1,P,p,O);break;case"backwards":for(p=null,P=u.child,u.child=null;P!==null;){if(l=P.alternate,l!==null&&Eo(l)===null){u.child=P;break}l=P.sibling,P.sibling=p,p=P,P=l}zv(u,!0,p,null,O);break;case"together":zv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function fg(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function dc(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),Ad|=u.lanes,(p&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=Au(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=Au(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function IR(l,u,p){switch(u.tag){case 3:Cx(u),Xt();break;case 5:ig(u);break;case 1:es(u.type)&&ac(u);break;case 4:yu(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,P=u.memoizedProps.value;jn(xi,b._currentValue),b._currentValue=P;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(jn(Xn,Xn.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?Nx(l,u,p):(jn(Xn,Xn.current&1),l=dc(l,u,p),l!==null?l.sibling:null);jn(Xn,Xn.current&1);break;case 19:if(b=(p&u.childLanes)!==0,(l.flags&128)!==0){if(b)return kx(l,u,p);u.flags|=128}if(P=u.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),jn(Xn,Xn.current),b)break;return null;case 22:case 23:return u.lanes=0,Tx(l,u,p)}return dc(l,u,p)}var Rx,qv,Lx,Dx;Rx=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},qv=function(){},Lx=function(l,u,p,b){var P=l.memoizedProps;if(P!==b){l=u.stateNode,Da(Es.current);var O=null;switch(p){case"input":P=nt(l,P),b=nt(l,b),O=[];break;case"select":P=Z({},P,{value:void 0}),b=Z({},b,{value:void 0}),O=[];break;case"textarea":P=at(l,P),b=at(l,b),O=[];break;default:typeof P.onClick!="function"&&typeof b.onClick=="function"&&(l.onclick=du)}Dn(p,b);var Q;p=null;for(Oe in P)if(!b.hasOwnProperty(Oe)&&P.hasOwnProperty(Oe)&&P[Oe]!=null)if(Oe==="style"){var ge=P[Oe];for(Q in ge)ge.hasOwnProperty(Q)&&(p||(p={}),p[Q]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(i.hasOwnProperty(Oe)?O||(O=[]):(O=O||[]).push(Oe,null));for(Oe in b){var xe=b[Oe];if(ge=P?.[Oe],b.hasOwnProperty(Oe)&&xe!==ge&&(xe!=null||ge!=null))if(Oe==="style")if(ge){for(Q in ge)!ge.hasOwnProperty(Q)||xe&&xe.hasOwnProperty(Q)||(p||(p={}),p[Q]="");for(Q in xe)xe.hasOwnProperty(Q)&&ge[Q]!==xe[Q]&&(p||(p={}),p[Q]=xe[Q])}else p||(O||(O=[]),O.push(Oe,p)),p=xe;else Oe==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,ge=ge?ge.__html:void 0,xe!=null&&ge!==xe&&(O=O||[]).push(Oe,xe)):Oe==="children"?typeof xe!="string"&&typeof xe!="number"||(O=O||[]).push(Oe,""+xe):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Oe)?(xe!=null&&Oe==="onScroll"&&zn("scroll",l),O||ge===xe||(O=[])):(O=O||[]).push(Oe,xe))}p&&(O=O||[]).push("style",p);var Oe=O;(u.updateQueue=Oe)&&(u.flags|=4)}},Dx=function(l,u,p,b){p!==b&&(u.flags|=4)};function sp(l,u){if(!Ue)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function ns(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(u)for(var P=l.child;P!==null;)p|=P.lanes|P.childLanes,b|=P.subtreeFlags&14680064,b|=P.flags&14680064,P.return=l,P=P.sibling;else for(P=l.child;P!==null;)p|=P.lanes|P.childLanes,b|=P.subtreeFlags,b|=P.flags,P.return=l,P=P.sibling;return l.subtreeFlags|=b,l.childLanes=p,u}function kR(l,u,p){var b=u.pendingProps;switch(_e(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ns(u),null;case 1:return es(u.type)&&Df(),ns(u),null;case 3:return b=u.stateNode,ra(),Rn(Zi),Rn(li),np(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(l===null||l.child===null)&&(vn(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,qe!==null&&(e1(qe),qe=null))),qv(l,u),ns(u),null;case 5:ep(u);var P=Da(vl.current);if(p=u.type,l!==null&&u.stateNode!=null)Lx(l,u,p,b,P),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(n(166));return ns(u),null}if(l=Da(Es.current),vn(u)){b=u.stateNode,p=u.type;var O=u.memoizedProps;switch(b[ta]=u,b[fu]=O,l=(u.mode&1)!==0,p){case"dialog":zn("cancel",b),zn("close",b);break;case"iframe":case"object":case"embed":zn("load",b);break;case"video":case"audio":for(P=0;P<pl.length;P++)zn(pl[P],b);break;case"source":zn("error",b);break;case"img":case"image":case"link":zn("error",b),zn("load",b);break;case"details":zn("toggle",b);break;case"input":De(b,O),zn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!O.multiple},zn("invalid",b);break;case"textarea":vt(b,O),zn("invalid",b)}Dn(p,O),P=null;for(var Q in O)if(O.hasOwnProperty(Q)){var ge=O[Q];Q==="children"?typeof ge=="string"?b.textContent!==ge&&(O.suppressHydrationWarning!==!0&&Lf(b.textContent,ge,l),P=["children",ge]):typeof ge=="number"&&b.textContent!==""+ge&&(O.suppressHydrationWarning!==!0&&Lf(b.textContent,ge,l),P=["children",""+ge]):i.hasOwnProperty(Q)&&ge!=null&&Q==="onScroll"&&zn("scroll",b)}switch(p){case"input":Fe(b),ft(b,O,!0);break;case"textarea":Fe(b),jt(b);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(b.onclick=du)}b=P,u.updateQueue=b,b!==null&&(u.flags|=4)}else{Q=P.nodeType===9?P:P.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=St(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=Q.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof b.is=="string"?l=Q.createElement(p,{is:b.is}):(l=Q.createElement(p),p==="select"&&(Q=l,b.multiple?Q.multiple=!0:b.size&&(Q.size=b.size))):l=Q.createElementNS(l,p),l[ta]=u,l[fu]=b,Rx(l,u,!1,!1),u.stateNode=l;e:{switch(Q=Wi(p,b),p){case"dialog":zn("cancel",l),zn("close",l),P=b;break;case"iframe":case"object":case"embed":zn("load",l),P=b;break;case"video":case"audio":for(P=0;P<pl.length;P++)zn(pl[P],l);P=b;break;case"source":zn("error",l),P=b;break;case"img":case"image":case"link":zn("error",l),zn("load",l),P=b;break;case"details":zn("toggle",l),P=b;break;case"input":De(l,b),P=nt(l,b),zn("invalid",l);break;case"option":P=b;break;case"select":l._wrapperState={wasMultiple:!!b.multiple},P=Z({},b,{value:void 0}),zn("invalid",l);break;case"textarea":vt(l,b),P=at(l,b),zn("invalid",l);break;default:P=b}Dn(p,P),ge=P;for(O in ge)if(ge.hasOwnProperty(O)){var xe=ge[O];O==="style"?Pi(l,xe):O==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&At(l,xe)):O==="children"?typeof xe=="string"?(p!=="textarea"||xe!=="")&&Mt(l,xe):typeof xe=="number"&&Mt(l,""+xe):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?xe!=null&&O==="onScroll"&&zn("scroll",l):xe!=null&&I(l,O,xe,Q))}switch(p){case"input":Fe(l),ft(l,b,!1);break;case"textarea":Fe(l),jt(l);break;case"option":b.value!=null&&l.setAttribute("value",""+we(b.value));break;case"select":l.multiple=!!b.multiple,O=b.value,O!=null?st(l,!!b.multiple,O,!1):b.defaultValue!=null&&st(l,!!b.multiple,b.defaultValue,!0);break;default:typeof P.onClick=="function"&&(l.onclick=du)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ns(u),null;case 6:if(l&&u.stateNode!=null)Dx(l,u,l.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(n(166));if(p=Da(vl.current),Da(Es.current),vn(u)){if(b=u.stateNode,p=u.memoizedProps,b[ta]=u,(O=b.nodeValue!==p)&&(l=Se,l!==null))switch(l.tag){case 3:Lf(b.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Lf(b.nodeValue,p,(l.mode&1)!==0)}O&&(u.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[ta]=u,u.stateNode=b}return ns(u),null;case 13:if(Rn(Xn),b=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ue&&ze!==null&&(u.mode&1)!==0&&(u.flags&128)===0)cn(),Xt(),u.flags|=98560,O=!1;else if(O=vn(u),b!==null&&b.dehydrated!==null){if(l===null){if(!O)throw Error(n(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[ta]=u}else Xt(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ns(u),O=!1}else qe!==null&&(e1(qe),qe=null),O=!0;if(!O)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(b=b!==null,b!==(l!==null&&l.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Xn.current&1)!==0?ui===0&&(ui=3):r1())),u.updateQueue!==null&&(u.flags|=4),ns(u),null);case 4:return ra(),qv(l,u),l===null&&nc(u.stateNode.containerInfo),ns(u),null;case 10:return ts(u.type._context),ns(u),null;case 17:return es(u.type)&&Df(),ns(u),null;case 19:if(Rn(Xn),O=u.memoizedState,O===null)return ns(u),null;if(b=(u.flags&128)!==0,Q=O.rendering,Q===null)if(b)sp(O,!1);else{if(ui!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(Q=Eo(l),Q!==null){for(u.flags|=128,sp(O,!1),b=Q.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=p,p=u.child;p!==null;)O=p,l=b,O.flags&=14680066,Q=O.alternate,Q===null?(O.childLanes=0,O.lanes=l,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=Q.childLanes,O.lanes=Q.lanes,O.child=Q.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=Q.memoizedProps,O.memoizedState=Q.memoizedState,O.updateQueue=Q.updateQueue,O.type=Q.type,l=Q.dependencies,O.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return jn(Xn,Xn.current&1|2),u.child}l=l.sibling}O.tail!==null&&On()>Kf&&(u.flags|=128,b=!0,sp(O,!1),u.lanes=4194304)}else{if(!b)if(l=Eo(Q),l!==null){if(u.flags|=128,b=!0,p=l.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),sp(O,!0),O.tail===null&&O.tailMode==="hidden"&&!Q.alternate&&!Ue)return ns(u),null}else 2*On()-O.renderingStartTime>Kf&&p!==1073741824&&(u.flags|=128,b=!0,sp(O,!1),u.lanes=4194304);O.isBackwards?(Q.sibling=u.child,u.child=Q):(p=O.last,p!==null?p.sibling=Q:u.child=Q,O.last=Q)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=On(),u.sibling=null,p=Xn.current,jn(Xn,b?p&1|2:p&1),u):(ns(u),null);case 22:case 23:return n1(),b=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?(Po&1073741824)!==0&&(ns(u),u.subtreeFlags&6&&(u.flags|=8192)):ns(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function RR(l,u){switch(_e(u),u.tag){case 1:return es(u.type)&&Df(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ra(),Rn(Zi),Rn(li),np(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return ep(u),null;case 13:if(Rn(Xn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Xt()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Rn(Xn),null;case 4:return ra(),null;case 10:return ts(u.type._context),null;case 22:case 23:return n1(),null;case 24:return null;default:return null}}var hg=!1,rs=!1,LR=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Hf(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){Or(l,u,b)}else p.current=null}function Wv(l,u,p){try{p()}catch(b){Or(l,u,b)}}var Ox=!1;function DR(l,u){if(bd=Ho,l=hd(),Jl(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var P=b.anchorOffset,O=b.focusNode;b=b.focusOffset;try{p.nodeType,O.nodeType}catch{p=null;break e}var Q=0,ge=-1,xe=-1,Oe=0,Ze=0,tt=l,Je=null;t:for(;;){for(var mt;tt!==p||P!==0&&tt.nodeType!==3||(ge=Q+P),tt!==O||b!==0&&tt.nodeType!==3||(xe=Q+b),tt.nodeType===3&&(Q+=tt.nodeValue.length),(mt=tt.firstChild)!==null;)Je=tt,tt=mt;for(;;){if(tt===l)break t;if(Je===p&&++Oe===P&&(ge=Q),Je===O&&++Ze===b&&(xe=Q),(mt=tt.nextSibling)!==null)break;tt=Je,Je=tt.parentNode}tt=mt}p=ge===-1||xe===-1?null:{start:ge,end:xe}}else p=null}p=p||{start:0,end:0}}else p=null;for(ic={focusedElem:l,selectionRange:p},Ho=!1,yt=u;yt!==null;)if(u=yt,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,yt=l;else for(;yt!==null;){u=yt;try{var wt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var xt=wt.memoizedProps,Ur=wt.memoizedState,ke=u.stateNode,Ee=ke.getSnapshotBeforeUpdate(u.elementType===u.type?xt:Ma(u.type,xt),Ur);ke.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:var Le=u.stateNode.containerInfo;Le.nodeType===1?Le.textContent="":Le.nodeType===9&&Le.documentElement&&Le.removeChild(Le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(rt){Or(u,u.return,rt)}if(l=u.sibling,l!==null){l.return=u.return,yt=l;break}yt=u.return}return wt=Ox,Ox=!1,wt}function op(l,u,p){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var P=b=b.next;do{if((P.tag&l)===l){var O=P.destroy;P.destroy=void 0,O!==void 0&&Wv(u,p,O)}P=P.next}while(P!==b)}}function pg(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&l)===l){var b=p.create;p.destroy=b()}p=p.next}while(p!==u)}}function $v(l){var u=l.ref;if(u!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof u=="function"?u(l):u.current=l}}function jx(l){var u=l.alternate;u!==null&&(l.alternate=null,jx(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[ta],delete u[fu],delete u[Ji],delete u[Nv],delete u[Iv])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Mx(l){return l.tag===5||l.tag===3||l.tag===4}function Fx(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Mx(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Hv(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(l,u):p.insertBefore(l,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(l,p)):(u=p,u.appendChild(l)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=du));else if(b!==4&&(l=l.child,l!==null))for(Hv(l,u,p),l=l.sibling;l!==null;)Hv(l,u,p),l=l.sibling}function Gv(l,u,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(b!==4&&(l=l.child,l!==null))for(Gv(l,u,p),l=l.sibling;l!==null;)Gv(l,u,p),l=l.sibling}var Vi=null,Fa=!1;function xu(l,u,p){for(p=p.child;p!==null;)Vx(l,u,p),p=p.sibling}function Vx(l,u,p){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(Bo,p)}catch{}switch(p.tag){case 5:rs||Hf(p,u);case 6:var b=Vi,P=Fa;Vi=null,xu(l,u,p),Vi=b,Fa=P,Vi!==null&&(Fa?(l=Vi,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):Vi.removeChild(p.stateNode));break;case 18:Vi!==null&&(Fa?(l=Vi,p=p.stateNode,l.nodeType===8?Xh(l.parentNode,p):l.nodeType===1&&Xh(l,p),si(l)):Xh(Vi,p.stateNode));break;case 4:b=Vi,P=Fa,Vi=p.stateNode.containerInfo,Fa=!0,xu(l,u,p),Vi=b,Fa=P;break;case 0:case 11:case 14:case 15:if(!rs&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){P=b=b.next;do{var O=P,Q=O.destroy;O=O.tag,Q!==void 0&&((O&2)!==0||(O&4)!==0)&&Wv(p,u,Q),P=P.next}while(P!==b)}xu(l,u,p);break;case 1:if(!rs&&(Hf(p,u),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(ge){Or(p,u,ge)}xu(l,u,p);break;case 21:xu(l,u,p);break;case 22:p.mode&1?(rs=(b=rs)||p.memoizedState!==null,xu(l,u,p),rs=b):xu(l,u,p);break;default:xu(l,u,p)}}function Bx(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new LR),u.forEach(function(b){var P=qR.bind(null,l,b);p.has(b)||(p.add(b),b.then(P,P))})}}function Va(l,u){var p=u.deletions;if(p!==null)for(var b=0;b<p.length;b++){var P=p[b];try{var O=l,Q=u,ge=Q;e:for(;ge!==null;){switch(ge.tag){case 5:Vi=ge.stateNode,Fa=!1;break e;case 3:Vi=ge.stateNode.containerInfo,Fa=!0;break e;case 4:Vi=ge.stateNode.containerInfo,Fa=!0;break e}ge=ge.return}if(Vi===null)throw Error(n(160));Vx(O,Q,P),Vi=null,Fa=!1;var xe=P.alternate;xe!==null&&(xe.return=null),P.return=null}catch(Oe){Or(P,u,Oe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Ux(u,l),u=u.sibling}function Ux(l,u){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Va(u,l),bl(l),b&4){try{op(3,l,l.return),pg(3,l)}catch(xt){Or(l,l.return,xt)}try{op(5,l,l.return)}catch(xt){Or(l,l.return,xt)}}break;case 1:Va(u,l),bl(l),b&512&&p!==null&&Hf(p,p.return);break;case 5:if(Va(u,l),bl(l),b&512&&p!==null&&Hf(p,p.return),l.flags&32){var P=l.stateNode;try{Mt(P,"")}catch(xt){Or(l,l.return,xt)}}if(b&4&&(P=l.stateNode,P!=null)){var O=l.memoizedProps,Q=p!==null?p.memoizedProps:O,ge=l.type,xe=l.updateQueue;if(l.updateQueue=null,xe!==null)try{ge==="input"&&O.type==="radio"&&O.name!=null&&me(P,O),Wi(ge,Q);var Oe=Wi(ge,O);for(Q=0;Q<xe.length;Q+=2){var Ze=xe[Q],tt=xe[Q+1];Ze==="style"?Pi(P,tt):Ze==="dangerouslySetInnerHTML"?At(P,tt):Ze==="children"?Mt(P,tt):I(P,Ze,tt,Oe)}switch(ge){case"input":_t(P,O);break;case"textarea":It(P,O);break;case"select":var Je=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!O.multiple;var mt=O.value;mt!=null?st(P,!!O.multiple,mt,!1):Je!==!!O.multiple&&(O.defaultValue!=null?st(P,!!O.multiple,O.defaultValue,!0):st(P,!!O.multiple,O.multiple?[]:"",!1))}P[fu]=O}catch(xt){Or(l,l.return,xt)}}break;case 6:if(Va(u,l),bl(l),b&4){if(l.stateNode===null)throw Error(n(162));P=l.stateNode,O=l.memoizedProps;try{P.nodeValue=O}catch(xt){Or(l,l.return,xt)}}break;case 3:if(Va(u,l),bl(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{si(u.containerInfo)}catch(xt){Or(l,l.return,xt)}break;case 4:Va(u,l),bl(l);break;case 13:Va(u,l),bl(l),P=l.child,P.flags&8192&&(O=P.memoizedState!==null,P.stateNode.isHidden=O,!O||P.alternate!==null&&P.alternate.memoizedState!==null||(Xv=On())),b&4&&Bx(l);break;case 22:if(Ze=p!==null&&p.memoizedState!==null,l.mode&1?(rs=(Oe=rs)||Ze,Va(u,l),rs=Oe):Va(u,l),bl(l),b&8192){if(Oe=l.memoizedState!==null,(l.stateNode.isHidden=Oe)&&!Ze&&(l.mode&1)!==0)for(yt=l,Ze=l.child;Ze!==null;){for(tt=yt=Ze;yt!==null;){switch(Je=yt,mt=Je.child,Je.tag){case 0:case 11:case 14:case 15:op(4,Je,Je.return);break;case 1:Hf(Je,Je.return);var wt=Je.stateNode;if(typeof wt.componentWillUnmount=="function"){b=Je,p=Je.return;try{u=b,wt.props=u.memoizedProps,wt.state=u.memoizedState,wt.componentWillUnmount()}catch(xt){Or(b,p,xt)}}break;case 5:Hf(Je,Je.return);break;case 22:if(Je.memoizedState!==null){Wx(tt);continue}}mt!==null?(mt.return=Je,yt=mt):Wx(tt)}Ze=Ze.sibling}e:for(Ze=null,tt=l;;){if(tt.tag===5){if(Ze===null){Ze=tt;try{P=tt.stateNode,Oe?(O=P.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(ge=tt.stateNode,xe=tt.memoizedProps.style,Q=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,ge.style.display=tn("display",Q))}catch(xt){Or(l,l.return,xt)}}}else if(tt.tag===6){if(Ze===null)try{tt.stateNode.nodeValue=Oe?"":tt.memoizedProps}catch(xt){Or(l,l.return,xt)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===l)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===l)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===l)break e;Ze===tt&&(Ze=null),tt=tt.return}Ze===tt&&(Ze=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:Va(u,l),bl(l),b&4&&Bx(l);break;case 21:break;default:Va(u,l),bl(l)}}function bl(l){var u=l.flags;if(u&2){try{e:{for(var p=l.return;p!==null;){if(Mx(p)){var b=p;break e}p=p.return}throw Error(n(160))}switch(b.tag){case 5:var P=b.stateNode;b.flags&32&&(Mt(P,""),b.flags&=-33);var O=Fx(l);Gv(l,O,P);break;case 3:case 4:var Q=b.stateNode.containerInfo,ge=Fx(l);Hv(l,ge,Q);break;default:throw Error(n(161))}}catch(xe){Or(l,l.return,xe)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function OR(l,u,p){yt=l,zx(l)}function zx(l,u,p){for(var b=(l.mode&1)!==0;yt!==null;){var P=yt,O=P.child;if(P.tag===22&&b){var Q=P.memoizedState!==null||hg;if(!Q){var ge=P.alternate,xe=ge!==null&&ge.memoizedState!==null||rs;ge=hg;var Oe=rs;if(hg=Q,(rs=xe)&&!Oe)for(yt=P;yt!==null;)Q=yt,xe=Q.child,Q.tag===22&&Q.memoizedState!==null?$x(P):xe!==null?(xe.return=Q,yt=xe):$x(P);for(;O!==null;)yt=O,zx(O),O=O.sibling;yt=P,hg=ge,rs=Oe}qx(l)}else(P.subtreeFlags&8772)!==0&&O!==null?(O.return=P,yt=O):qx(l)}}function qx(l){for(;yt!==null;){var u=yt;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:rs||pg(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!rs)if(p===null)b.componentDidMount();else{var P=u.elementType===u.type?p.memoizedProps:Ma(u.type,p.memoizedProps);b.componentDidUpdate(P,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var O=u.updateQueue;O!==null&&cc(u,O,b);break;case 3:var Q=u.updateQueue;if(Q!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}cc(u,Q,p)}break;case 5:var ge=u.stateNode;if(p===null&&u.flags&4){p=ge;var xe=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&p.focus();break;case"img":xe.src&&(p.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Oe=u.alternate;if(Oe!==null){var Ze=Oe.memoizedState;if(Ze!==null){var tt=Ze.dehydrated;tt!==null&&si(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rs||u.flags&512&&$v(u)}catch(Je){Or(u,u.return,Je)}}if(u===l){yt=null;break}if(p=u.sibling,p!==null){p.return=u.return,yt=p;break}yt=u.return}}function Wx(l){for(;yt!==null;){var u=yt;if(u===l){yt=null;break}var p=u.sibling;if(p!==null){p.return=u.return,yt=p;break}yt=u.return}}function $x(l){for(;yt!==null;){var u=yt;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{pg(4,u)}catch(xe){Or(u,p,xe)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var P=u.return;try{b.componentDidMount()}catch(xe){Or(u,P,xe)}}var O=u.return;try{$v(u)}catch(xe){Or(u,O,xe)}break;case 5:var Q=u.return;try{$v(u)}catch(xe){Or(u,Q,xe)}}}catch(xe){Or(u,u.return,xe)}if(u===l){yt=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,yt=ge;break}yt=u.return}}var jR=Math.ceil,mg=D.ReactCurrentDispatcher,Kv=D.ReactCurrentOwner,oa=D.ReactCurrentBatchConfig,_n=0,Si=null,Xr=null,Bi=0,Po=0,Gf=To(0),ui=0,ap=null,Ad=0,gg=0,Yv=0,lp=null,Js=null,Xv=0,Kf=1/0,fc=null,yg=!1,Qv=null,_u=null,vg=!1,Su=null,wg=0,cp=0,Jv=null,bg=-1,xg=0;function Ns(){return(_n&6)!==0?On():bg!==-1?bg:bg=On()}function Tu(l){return(l.mode&1)===0?1:(_n&2)!==0&&Bi!==0?Bi&-Bi:Mn.transition!==null?(xg===0&&(xg=qo()),xg):(l=nn,l!==0||(l=window.event,l=l===void 0?16:al(l.type)),l)}function Ba(l,u,p,b){if(50<cp)throw cp=0,Jv=null,Error(n(185));go(l,p,b),((_n&2)===0||l!==Si)&&(l===Si&&((_n&2)===0&&(gg|=p),ui===4&&Eu(l,Bi)),Zs(l,b),p===1&&_n===0&&(u.mode&1)===0&&(Kf=On()+500,_d&&M()))}function Zs(l,u){var p=l.callbackNode;pr(l,u);var b=ni(l,l===Si?Bi:0);if(b===0)p!==null&&Vo(p),l.callbackNode=null,l.callbackPriority=0;else if(u=b&-b,l.callbackPriority!==u){if(p!=null&&Vo(p),u===1)l.tag===0?N(Gx.bind(null,l)):x(Gx.bind(null,l)),Cv(function(){(_n&6)===0&&M()}),p=null;else{switch(Fs(b)){case 1:p=Ms;break;case 4:p=mo;break;case 16:p=Gi;break;case 536870912:p=Kc;break;default:p=Gi}p=t_(p,Hx.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function Hx(l,u){if(bg=-1,xg=0,(_n&6)!==0)throw Error(n(327));var p=l.callbackNode;if(Yf()&&l.callbackNode!==p)return null;var b=ni(l,l===Si?Bi:0);if(b===0)return null;if((b&30)!==0||(b&l.expiredLanes)!==0||u)u=_g(l,b);else{u=b;var P=_n;_n|=2;var O=Yx();(Si!==l||Bi!==u)&&(fc=null,Kf=On()+500,Pd(l,u));do try{VR();break}catch(ge){Kx(l,ge)}while(!0);ci(),mg.current=O,_n=P,Xr!==null?u=0:(Si=null,Bi=0,u=ui)}if(u!==0){if(u===2&&(P=ri(l),P!==0&&(b=P,u=Zv(l,P))),u===1)throw p=ap,Pd(l,0),Eu(l,b),Zs(l,On()),p;if(u===6)Eu(l,b);else{if(P=l.current.alternate,(b&30)===0&&!MR(P)&&(u=_g(l,b),u===2&&(O=ri(l),O!==0&&(b=O,u=Zv(l,O))),u===1))throw p=ap,Pd(l,0),Eu(l,b),Zs(l,On()),p;switch(l.finishedWork=P,l.finishedLanes=b,u){case 0:case 1:throw Error(n(345));case 2:Nd(l,Js,fc);break;case 3:if(Eu(l,b),(b&130023424)===b&&(u=Xv+500-On(),10<u)){if(ni(l,0)!==0)break;if(P=l.suspendedLanes,(P&b)!==b){Ns(),l.pingedLanes|=l.suspendedLanes&P;break}l.timeoutHandle=Yh(Nd.bind(null,l,Js,fc),u);break}Nd(l,Js,fc);break;case 4:if(Eu(l,b),(b&4194240)===b)break;for(u=l.eventTimes,P=-1;0<b;){var Q=31-ti(b);O=1<<Q,Q=u[Q],Q>P&&(P=Q),b&=~O}if(b=P,b=On()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*jR(b/1960))-b,10<b){l.timeoutHandle=Yh(Nd.bind(null,l,Js,fc),b);break}Nd(l,Js,fc);break;case 5:Nd(l,Js,fc);break;default:throw Error(n(329))}}}return Zs(l,On()),l.callbackNode===p?Hx.bind(null,l):null}function Zv(l,u){var p=lp;return l.current.memoizedState.isDehydrated&&(Pd(l,u).flags|=256),l=_g(l,u),l!==2&&(u=Js,Js=p,u!==null&&e1(u)),l}function e1(l){Js===null?Js=l:Js.push.apply(Js,l)}function MR(l){for(var u=l;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var P=p[b],O=P.getSnapshot;P=P.value;try{if(!xn(O(),P))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Eu(l,u){for(u&=~Yv,u&=~gg,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-ti(u),b=1<<p;l[p]=-1,u&=~b}}function Gx(l){if((_n&6)!==0)throw Error(n(327));Yf();var u=ni(l,0);if((u&1)===0)return Zs(l,On()),null;var p=_g(l,u);if(l.tag!==0&&p===2){var b=ri(l);b!==0&&(u=b,p=Zv(l,b))}if(p===1)throw p=ap,Pd(l,0),Eu(l,u),Zs(l,On()),p;if(p===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Nd(l,Js,fc),Zs(l,On()),null}function t1(l,u){var p=_n;_n|=1;try{return l(u)}finally{_n=p,_n===0&&(Kf=On()+500,_d&&M())}}function Cd(l){Su!==null&&Su.tag===0&&(_n&6)===0&&Yf();var u=_n;_n|=1;var p=oa.transition,b=nn;try{if(oa.transition=null,nn=1,l)return l()}finally{nn=b,oa.transition=p,_n=u,(_n&6)===0&&M()}}function n1(){Po=Gf.current,Rn(Gf)}function Pd(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,eg(p)),Xr!==null)for(p=Xr.return;p!==null;){var b=p;switch(_e(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Df();break;case 3:ra(),Rn(Zi),Rn(li),np();break;case 5:ep(b);break;case 4:ra();break;case 13:Rn(Xn);break;case 19:Rn(Xn);break;case 10:ts(b.type._context);break;case 22:case 23:n1()}p=p.return}if(Si=l,Xr=l=Au(l.current,null),Bi=Po=u,ui=0,ap=null,Yv=gg=Ad=0,Js=lp=null,Ts!==null){for(u=0;u<Ts.length;u++)if(p=Ts[u],b=p.interleaved,b!==null){p.interleaved=null;var P=b.next,O=p.pending;if(O!==null){var Q=O.next;O.next=P,b.next=Q}p.pending=b}Ts=null}return l}function Kx(l,u){do{var p=Xr;try{if(ci(),jf.current=cg,vu){for(var b=tr.memoizedState;b!==null;){var P=b.queue;P!==null&&(P.pending=null),b=b.next}vu=!1}if(ia=0,Tr=Dr=tr=null,Oa=!1,wu=0,Kv.current=null,p===null||p.return===null){ui=1,ap=u,Xr=null;break}e:{var O=l,Q=p.return,ge=p,xe=u;if(u=Bi,ge.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Oe=xe,Ze=ge,tt=Ze.tag;if((Ze.mode&1)===0&&(tt===0||tt===11||tt===15)){var Je=Ze.alternate;Je?(Ze.updateQueue=Je.updateQueue,Ze.memoizedState=Je.memoizedState,Ze.lanes=Je.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var mt=wx(Q);if(mt!==null){mt.flags&=-257,bx(mt,Q,ge,O,u),mt.mode&1&&vx(O,Oe,u),u=mt,xe=Oe;var wt=u.updateQueue;if(wt===null){var xt=new Set;xt.add(xe),u.updateQueue=xt}else wt.add(xe);break e}else{if((u&1)===0){vx(O,Oe,u),r1();break e}xe=Error(n(426))}}else if(Ue&&ge.mode&1){var Ur=wx(Q);if(Ur!==null){(Ur.flags&65536)===0&&(Ur.flags|=256),bx(Ur,Q,ge,O,u),Ln($f(xe,ge));break e}}O=xe=$f(xe,ge),ui!==4&&(ui=2),lp===null?lp=[O]:lp.push(O),O=Q;do{switch(O.tag){case 3:O.flags|=65536,u&=-u,O.lanes|=u;var ke=gx(O,xe,u);Xs(O,ke);break e;case 1:ge=xe;var Ee=O.type,Le=O.stateNode;if((O.flags&128)===0&&(typeof Ee.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&(_u===null||!_u.has(Le)))){O.flags|=65536,u&=-u,O.lanes|=u;var rt=yx(O,ge,u);Xs(O,rt);break e}}O=O.return}while(O!==null)}Qx(p)}catch(Tt){u=Tt,Xr===p&&p!==null&&(Xr=p=p.return);continue}break}while(!0)}function Yx(){var l=mg.current;return mg.current=cg,l===null?cg:l}function r1(){(ui===0||ui===3||ui===2)&&(ui=4),Si===null||(Ad&268435455)===0&&(gg&268435455)===0||Eu(Si,Bi)}function _g(l,u){var p=_n;_n|=2;var b=Yx();(Si!==l||Bi!==u)&&(fc=null,Pd(l,u));do try{FR();break}catch(P){Kx(l,P)}while(!0);if(ci(),_n=p,mg.current=b,Xr!==null)throw Error(n(261));return Si=null,Bi=0,ui}function FR(){for(;Xr!==null;)Xx(Xr)}function VR(){for(;Xr!==null&&!pa();)Xx(Xr)}function Xx(l){var u=e_(l.alternate,l,Po);l.memoizedProps=l.pendingProps,u===null?Qx(l):Xr=u,Kv.current=null}function Qx(l){var u=l;do{var p=u.alternate;if(l=u.return,(u.flags&32768)===0){if(p=kR(p,u,Po),p!==null){Xr=p;return}}else{if(p=RR(p,u),p!==null){p.flags&=32767,Xr=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ui=6,Xr=null;return}}if(u=u.sibling,u!==null){Xr=u;return}Xr=u=l}while(u!==null);ui===0&&(ui=5)}function Nd(l,u,p){var b=nn,P=oa.transition;try{oa.transition=null,nn=1,BR(l,u,p,b)}finally{oa.transition=P,nn=b}return null}function BR(l,u,p,b){do Yf();while(Su!==null);if((_n&6)!==0)throw Error(n(327));p=l.finishedWork;var P=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var O=p.lanes|p.childLanes;if(Nn(l,O),l===Si&&(Xr=Si=null,Bi=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||vg||(vg=!0,t_(Gi,function(){return Yf(),null})),O=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||O){O=oa.transition,oa.transition=null;var Q=nn;nn=1;var ge=_n;_n|=4,Kv.current=null,DR(l,p),Ux(p,l),Zl(ic),Ho=!!bd,ic=bd=null,l.current=p,OR(p),Hc(),_n=ge,nn=Q,oa.transition=O}else l.current=p;if(vg&&(vg=!1,Su=l,wg=P),O=l.pendingLanes,O===0&&(_u=null),ga(p.stateNode),Zs(l,On()),u!==null)for(b=l.onRecoverableError,p=0;p<u.length;p++)P=u[p],b(P.value,{componentStack:P.stack,digest:P.digest});if(yg)throw yg=!1,l=Qv,Qv=null,l;return(wg&1)!==0&&l.tag!==0&&Yf(),O=l.pendingLanes,(O&1)!==0?l===Jv?cp++:(cp=0,Jv=l):cp=0,M(),null}function Yf(){if(Su!==null){var l=Fs(wg),u=oa.transition,p=nn;try{if(oa.transition=null,nn=16>l?16:l,Su===null)var b=!1;else{if(l=Su,Su=null,wg=0,(_n&6)!==0)throw Error(n(331));var P=_n;for(_n|=4,yt=l.current;yt!==null;){var O=yt,Q=O.child;if((yt.flags&16)!==0){var ge=O.deletions;if(ge!==null){for(var xe=0;xe<ge.length;xe++){var Oe=ge[xe];for(yt=Oe;yt!==null;){var Ze=yt;switch(Ze.tag){case 0:case 11:case 15:op(8,Ze,O)}var tt=Ze.child;if(tt!==null)tt.return=Ze,yt=tt;else for(;yt!==null;){Ze=yt;var Je=Ze.sibling,mt=Ze.return;if(jx(Ze),Ze===Oe){yt=null;break}if(Je!==null){Je.return=mt,yt=Je;break}yt=mt}}}var wt=O.alternate;if(wt!==null){var xt=wt.child;if(xt!==null){wt.child=null;do{var Ur=xt.sibling;xt.sibling=null,xt=Ur}while(xt!==null)}}yt=O}}if((O.subtreeFlags&2064)!==0&&Q!==null)Q.return=O,yt=Q;else e:for(;yt!==null;){if(O=yt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:op(9,O,O.return)}var ke=O.sibling;if(ke!==null){ke.return=O.return,yt=ke;break e}yt=O.return}}var Ee=l.current;for(yt=Ee;yt!==null;){Q=yt;var Le=Q.child;if((Q.subtreeFlags&2064)!==0&&Le!==null)Le.return=Q,yt=Le;else e:for(Q=Ee;yt!==null;){if(ge=yt,(ge.flags&2048)!==0)try{switch(ge.tag){case 0:case 11:case 15:pg(9,ge)}}catch(Tt){Or(ge,ge.return,Tt)}if(ge===Q){yt=null;break e}var rt=ge.sibling;if(rt!==null){rt.return=ge.return,yt=rt;break e}yt=ge.return}}if(_n=P,M(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(Bo,l)}catch{}b=!0}return b}finally{nn=p,oa.transition=u}}return!1}function Jx(l,u,p){u=$f(p,u),u=gx(l,u,1),l=Ys(l,u,1),u=Ns(),l!==null&&(go(l,1,u),Zs(l,u))}function Or(l,u,p){if(l.tag===3)Jx(l,l,p);else for(;u!==null;){if(u.tag===3){Jx(u,l,p);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(_u===null||!_u.has(b))){l=$f(p,l),l=yx(u,l,1),u=Ys(u,l,1),l=Ns(),u!==null&&(go(u,1,l),Zs(u,l));break}}u=u.return}}function UR(l,u,p){var b=l.pingCache;b!==null&&b.delete(u),u=Ns(),l.pingedLanes|=l.suspendedLanes&p,Si===l&&(Bi&p)===p&&(ui===4||ui===3&&(Bi&130023424)===Bi&&500>On()-Xv?Pd(l,0):Yv|=p),Zs(l,u)}function Zx(l,u){u===0&&((l.mode&1)===0?u=1:(u=Uo,Uo<<=1,(Uo&130023424)===0&&(Uo=4194304)));var p=Ns();l=Cn(l,u),l!==null&&(go(l,u,p),Zs(l,p))}function zR(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),Zx(l,p)}function qR(l,u){var p=0;switch(l.tag){case 13:var b=l.stateNode,P=l.memoizedState;P!==null&&(p=P.retryLane);break;case 19:b=l.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(u),Zx(l,p)}var e_;e_=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||Zi.current)Qs=!0;else{if((l.lanes&p)===0&&(u.flags&128)===0)return Qs=!1,IR(l,u,p);Qs=(l.flags&131072)!==0}else Qs=!1,Ue&&(u.flags&1048576)!==0&&$e(u,te,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;fg(l,u),l=u.pendingProps;var P=pu(u,li.current);lr(u,p),P=Sd(null,u,b,l,P,p);var O=sa();return u.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,es(b)?(O=!0,ac(u)):O=!1,u.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Of(u),P.updater=ug,u.stateNode=P,P._reactInternals=u,Dv(u,b,l,p),u=Fv(null,u,b,!0,O,p)):(u.tag=0,Ue&&O&&je(u),Ps(null,u,P,p),u=u.child),u;case 16:b=u.elementType;e:{switch(fg(l,u),l=u.pendingProps,P=b._init,b=P(b._payload),u.type=b,P=u.tag=$R(b),l=Ma(b,l),P){case 0:u=Mv(null,u,b,l,p);break e;case 1:u=Ax(null,u,b,l,p);break e;case 11:u=xx(null,u,b,l,p);break e;case 14:u=_x(null,u,b,Ma(b.type,l),p);break e}throw Error(n(306,b,""))}return u;case 0:return b=u.type,P=u.pendingProps,P=u.elementType===b?P:Ma(b,P),Mv(l,u,b,P,p);case 1:return b=u.type,P=u.pendingProps,P=u.elementType===b?P:Ma(b,P),Ax(l,u,b,P,p);case 3:e:{if(Cx(u),l===null)throw Error(n(387));b=u.pendingProps,O=u.memoizedState,P=O.element,Zh(l,u),La(u,b,null,p);var Q=u.memoizedState;if(b=Q.element,O.isDehydrated)if(O={element:b,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},u.updateQueue.baseState=O,u.memoizedState=O,u.flags&256){P=$f(Error(n(423)),u),u=Px(l,u,b,p,P);break e}else if(b!==P){P=$f(Error(n(424)),u),u=Px(l,u,b,p,P);break e}else for(ze=Mi(u.stateNode.containerInfo.firstChild),Se=u,Ue=!0,qe=null,p=An(u,null,b,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Xt(),b===P){u=dc(l,u,p);break e}Ps(l,u,b,p)}u=u.child}return u;case 5:return ig(u),l===null&&ut(u),b=u.type,P=u.pendingProps,O=l!==null?l.memoizedProps:null,Q=P.children,Kh(b,P)?Q=null:O!==null&&Kh(b,O)&&(u.flags|=32),Ex(l,u),Ps(l,u,Q,p),u.child;case 6:return l===null&&ut(u),null;case 13:return Nx(l,u,p);case 4:return yu(u,u.stateNode.containerInfo),b=u.pendingProps,l===null?u.child=Fr(u,null,b,p):Ps(l,u,b,p),u.child;case 11:return b=u.type,P=u.pendingProps,P=u.elementType===b?P:Ma(b,P),xx(l,u,b,P,p);case 7:return Ps(l,u,u.pendingProps,p),u.child;case 8:return Ps(l,u,u.pendingProps.children,p),u.child;case 12:return Ps(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(b=u.type._context,P=u.pendingProps,O=u.memoizedProps,Q=P.value,jn(xi,b._currentValue),b._currentValue=Q,O!==null)if(xn(O.value,Q)){if(O.children===P.children&&!Zi.current){u=dc(l,u,p);break e}}else for(O=u.child,O!==null&&(O.return=u);O!==null;){var ge=O.dependencies;if(ge!==null){Q=O.child;for(var xe=ge.firstContext;xe!==null;){if(xe.context===b){if(O.tag===1){xe=Ks(-1,p&-p),xe.tag=2;var Oe=O.updateQueue;if(Oe!==null){Oe=Oe.shared;var Ze=Oe.pending;Ze===null?xe.next=xe:(xe.next=Ze.next,Ze.next=xe),Oe.pending=xe}}O.lanes|=p,xe=O.alternate,xe!==null&&(xe.lanes|=p),Gs(O.return,p,u),ge.lanes|=p;break}xe=xe.next}}else if(O.tag===10)Q=O.type===u.type?null:O.child;else if(O.tag===18){if(Q=O.return,Q===null)throw Error(n(341));Q.lanes|=p,ge=Q.alternate,ge!==null&&(ge.lanes|=p),Gs(Q,p,u),Q=O.sibling}else Q=O.child;if(Q!==null)Q.return=O;else for(Q=O;Q!==null;){if(Q===u){Q=null;break}if(O=Q.sibling,O!==null){O.return=Q.return,Q=O;break}Q=Q.return}O=Q}Ps(l,u,P.children,p),u=u.child}return u;case 9:return P=u.type,b=u.pendingProps.children,lr(u,p),P=Lr(P),b=b(P),u.flags|=1,Ps(l,u,b,p),u.child;case 14:return b=u.type,P=Ma(b,u.pendingProps),P=Ma(b.type,P),_x(l,u,b,P,p);case 15:return Sx(l,u,u.type,u.pendingProps,p);case 17:return b=u.type,P=u.pendingProps,P=u.elementType===b?P:Ma(b,P),fg(l,u),u.tag=1,es(b)?(l=!0,ac(u)):l=!1,lr(u,p),px(u,b,P),Dv(u,b,P,p),Fv(null,u,b,!0,l,p);case 19:return kx(l,u,p);case 22:return Tx(l,u,p)}throw Error(n(156,u.tag))};function t_(l,u){return po(l,u)}function WR(l,u,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(l,u,p,b){return new WR(l,u,p,b)}function i1(l){return l=l.prototype,!(!l||!l.isReactComponent)}function $R(l){if(typeof l=="function")return i1(l)?1:0;if(l!=null){if(l=l.$$typeof,l===j)return 11;if(l===de)return 14}return 2}function Au(l,u){var p=l.alternate;return p===null?(p=aa(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function Sg(l,u,p,b,P,O){var Q=2;if(b=l,typeof l=="function")i1(l)&&(Q=1);else if(typeof l=="string")Q=5;else e:switch(l){case F:return Id(p.children,P,O,u);case L:Q=8,P|=8;break;case B:return l=aa(12,p,u,P|2),l.elementType=B,l.lanes=O,l;case z:return l=aa(13,p,u,P),l.elementType=z,l.lanes=O,l;case oe:return l=aa(19,p,u,P),l.elementType=oe,l.lanes=O,l;case le:return Tg(p,P,O,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case H:Q=10;break e;case k:Q=9;break e;case j:Q=11;break e;case de:Q=14;break e;case se:Q=16,b=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=aa(Q,p,u,P),u.elementType=l,u.type=b,u.lanes=O,u}function Id(l,u,p,b){return l=aa(7,l,b,u),l.lanes=p,l}function Tg(l,u,p,b){return l=aa(22,l,b,u),l.elementType=le,l.lanes=p,l.stateNode={isHidden:!1},l}function s1(l,u,p){return l=aa(6,l,null,u),l.lanes=p,l}function o1(l,u,p){return u=aa(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function HR(l,u,p,b,P){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wo(0),this.expirationTimes=Wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.identifierPrefix=b,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function a1(l,u,p,b,P,O,Q,ge,xe){return l=new HR(l,u,p,ge,xe),u===1?(u=1,O===!0&&(u|=8)):u=0,O=aa(3,null,null,u),l.current=O,O.stateNode=l,O.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(O),l}function GR(l,u,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:b==null?null:""+b,children:l,containerInfo:u,implementation:p}}function n_(l){if(!l)return gl;l=l._reactInternals;e:{if(_r(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(es(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var p=l.type;if(es(p))return Jh(l,p,u)}return u}function r_(l,u,p,b,P,O,Q,ge,xe){return l=a1(p,b,!0,l,P,O,Q,ge,xe),l.context=n_(null),p=l.current,b=Ns(),P=Tu(p),O=Ks(b,P),O.callback=u??null,Ys(p,O,P),l.current.lanes=P,go(l,P,b),Zs(l,b),l}function Eg(l,u,p,b){var P=u.current,O=Ns(),Q=Tu(P);return p=n_(p),u.context===null?u.context=p:u.pendingContext=p,u=Ks(O,Q),u.payload={element:l},b=b===void 0?null:b,b!==null&&(u.callback=b),l=Ys(P,u,Q),l!==null&&(Ba(l,P,Q,O),lc(l,P,Q)),Q}function Ag(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function i_(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function l1(l,u){i_(l,u),(l=l.alternate)&&i_(l,u)}function KR(){return null}var s_=typeof reportError=="function"?reportError:function(l){console.error(l)};function c1(l){this._internalRoot=l}Cg.prototype.render=c1.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));Eg(l,u,null,null)},Cg.prototype.unmount=c1.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Cd(function(){Eg(null,l,null,null)}),u[bi]=null}};function Cg(l){this._internalRoot=l}Cg.prototype.unstable_scheduleHydration=function(l){if(l){var u=Vs();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Bs.length&&u!==0&&u<Bs[p].priority;p++);Bs.splice(p,0,l),p===0&&ol(l)}};function u1(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Pg(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function o_(){}function YR(l,u,p,b,P){if(P){if(typeof b=="function"){var O=b;b=function(){var Oe=Ag(Q);O.call(Oe)}}var Q=r_(u,b,l,0,null,!1,!1,"",o_);return l._reactRootContainer=Q,l[bi]=Q.current,nc(l.nodeType===8?l.parentNode:l),Cd(),Q}for(;P=l.lastChild;)l.removeChild(P);if(typeof b=="function"){var ge=b;b=function(){var Oe=Ag(xe);ge.call(Oe)}}var xe=a1(l,0,!1,null,null,!1,!1,"",o_);return l._reactRootContainer=xe,l[bi]=xe.current,nc(l.nodeType===8?l.parentNode:l),Cd(function(){Eg(u,xe,p,b)}),xe}function Ng(l,u,p,b,P){var O=p._reactRootContainer;if(O){var Q=O;if(typeof P=="function"){var ge=P;P=function(){var xe=Ag(Q);ge.call(xe)}}Eg(u,Q,l,P)}else Q=YR(p,u,l,P,b);return Ag(Q)}Yc=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=zo(u.pendingLanes);p!==0&&(yo(u,p|1),Zs(u,On()),(_n&6)===0&&(Kf=On()+500,M()))}break;case 13:Cd(function(){var b=Cn(l,1);if(b!==null){var P=Ns();Ba(b,l,1,P)}}),l1(l,1)}},il=function(l){if(l.tag===13){var u=Cn(l,134217728);if(u!==null){var p=Ns();Ba(u,l,134217728,p)}l1(l,134217728)}},Xc=function(l){if(l.tag===13){var u=Tu(l),p=Cn(l,u);if(p!==null){var b=Ns();Ba(p,l,u,b)}l1(l,u)}},Vs=function(){return nn},va=function(l,u){var p=nn;try{return nn=l,u()}finally{nn=p}},Vn=function(l,u,p){switch(u){case"input":if(_t(l,p),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var b=p[u];if(b!==l&&b.form===l.form){var P=xd(b);if(!P)throw Error(n(90));Ye(b),_t(b,P)}}}break;case"textarea":It(l,p);break;case"select":u=p.value,u!=null&&st(l,!!p.multiple,u,!1)}},ms=t1,xr=Cd;var XR={usingClientEntryPoint:!1,Events:[hu,sc,xd,Nt,ln,t1]},up={findFiberByHostInstance:ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QR={bundleType:up.bundleType,version:up.version,rendererPackageName:up.rendererPackageName,rendererConfig:up.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=fo(l),l===null?null:l.stateNode},findFiberByHostInstance:up.findFiberByHostInstance||KR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ig.isDisabled&&Ig.supportsFiber)try{Bo=Ig.inject(QR),Ni=Ig}catch{}}return eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR,eo.createPortal=function(l,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u1(u))throw Error(n(200));return GR(l,u,null,p)},eo.createRoot=function(l,u){if(!u1(l))throw Error(n(299));var p=!1,b="",P=s_;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(P=u.onRecoverableError)),u=a1(l,1,!1,null,null,p,!1,b,P),l[bi]=u.current,nc(l.nodeType===8?l.parentNode:l),new c1(u)},eo.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=fo(u),l=l===null?null:l.stateNode,l},eo.flushSync=function(l){return Cd(l)},eo.hydrate=function(l,u,p){if(!Pg(u))throw Error(n(200));return Ng(null,l,u,!0,p)},eo.hydrateRoot=function(l,u,p){if(!u1(l))throw Error(n(405));var b=p!=null&&p.hydratedSources||null,P=!1,O="",Q=s_;if(p!=null&&(p.unstable_strictMode===!0&&(P=!0),p.identifierPrefix!==void 0&&(O=p.identifierPrefix),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError)),u=r_(u,null,l,1,p??null,P,!1,O,Q),l[bi]=u.current,nc(l),b)for(l=0;l<b.length;l++)p=b[l],P=p._getVersion,P=P(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,P]:u.mutableSourceEagerHydrationData.push(p,P);return new Cg(u)},eo.render=function(l,u,p){if(!Pg(u))throw Error(n(200));return Ng(null,l,u,!1,p)},eo.unmountComponentAtNode=function(l){if(!Pg(l))throw Error(n(40));return l._reactRootContainer?(Cd(function(){Ng(null,null,l,!1,function(){l._reactRootContainer=null,l[bi]=null})}),!0):!1},eo.unstable_batchedUpdates=t1,eo.unstable_renderSubtreeIntoContainer=function(l,u,p,b){if(!Pg(p))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return Ng(l,u,p,!1,b)},eo.version="18.3.1-next-f1338f8080-20240426",eo}var p_;function YA(){if(p_)return h1.exports;p_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h1.exports=s6(),h1.exports}var m_;function o6(){if(m_)return kg;m_=1;var t=YA();return kg.createRoot=t.createRoot,kg.hydrateRoot=t.hydrateRoot,kg}var a6=o6();const l6=vf(a6);var ub=YA();const c6=vf(ub);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jp.apply(this,arguments)}var Vu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vu||(Vu={}));const g_="popstate";function u6(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return k2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:S0(i)}return f6(e,n,null,t)}function Ar(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d6(){return Math.random().toString(36).substr(2,8)}function y_(t,e){return{usr:t.state,key:t.key,idx:e}}function k2(t,e,n,r){return n===void 0&&(n=null),Jp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fh(e):e,{state:n,key:e&&e.key||r||d6()})}function S0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Vu.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(Jp({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=Vu.Pop;let T=f(),E=T==null?null:T-d;d=T,c&&c({action:a,location:_.location,delta:E})}function g(T,E){a=Vu.Push;let C=k2(_.location,T,E);d=f()+1;let I=y_(C,d),D=_.createHref(C);try{o.pushState(I,"",D)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(D)}s&&c&&c({action:a,location:_.location,delta:1})}function y(T,E){a=Vu.Replace;let C=k2(_.location,T,E);d=f();let I=y_(C,d),D=_.createHref(C);o.replaceState(I,"",D),s&&c&&c({action:a,location:_.location,delta:0})}function S(T){let E=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof T=="string"?T:S0(T);return C=C.replace(/ $/,"%20"),Ar(E,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,E)}let _={get action(){return a},get location(){return t(i,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(g_,h),c=T,()=>{i.removeEventListener(g_,h),c=null}},createHref(T){return e(i,T)},createURL:S,encodeLocation(T){let E=S(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(T){return o.go(T)}};return _}var v_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(v_||(v_={}));function h6(t,e,n){return n===void 0&&(n="/"),p6(t,e,n)}function p6(t,e,n,r){let i=typeof e=="string"?Fh(e):e,s=Ph(i.pathname||"/",n);if(s==null)return null;let o=QA(t);m6(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=A6(s);a=T6(o[c],d)}return a}function QA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ar(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=qu([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Ar(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),QA(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:_6(d,s.index),routesMeta:f})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of JA(s.path))i(s,o,c)}),e}function JA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JA(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function m6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:S6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const g6=/^:[\w-]+$/,y6=3,v6=2,w6=1,b6=10,x6=-2,w_=t=>t==="*";function _6(t,e){let n=t.split("/"),r=n.length;return n.some(w_)&&(r+=x6),e&&(r+=v6),n.filter(i=>!w_(i)).reduce((i,s)=>i+(g6.test(s)?y6:s===""?w6:b6),r)}function S6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function T6(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=R2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:qu([s,h.pathname]),pathnameBase:I6(qu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=qu([s,h.pathnameBase]))}return o}function R2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=E6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((d,f,h)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const S=a[h];return y&&!S?d[g]=void 0:d[g]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:t}}function E6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),XA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function A6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ph(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function C6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fh(t):t;return{pathname:n?n.startsWith("/")?n:P6(n,e):e,search:k6(r),hash:R6(i)}}function P6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function g1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function db(t,e){let n=N6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fh(t):(i=Jp({},t),Ar(!i.pathname||!i.pathname.includes("?"),g1("?","pathname","search",i)),Ar(!i.pathname||!i.pathname.includes("#"),g1("#","pathname","hash",i)),Ar(!i.search||!i.search.includes("#"),g1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}a=h>=0?e[h]:"/"}let c=C6(i,a),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const qu=t=>t.join("/").replace(/\/\/+/g,"/"),I6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),k6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZA=["post","put","patch","delete"];new Set(ZA);const D6=["get",...ZA];new Set(D6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(this,arguments)}const wy=$.createContext(null),eC=$.createContext(null),Bc=$.createContext(null),by=$.createContext(null),Vl=$.createContext({outlet:null,matches:[],isDataRoute:!1}),tC=$.createContext(null);function O6(t,e){let{relative:n}=e===void 0?{}:e;Vh()||Ar(!1);let{basename:r,navigator:i}=$.useContext(Bc),{hash:s,pathname:o,search:a}=xy(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:qu([r,o])),i.createHref({pathname:c,search:a,hash:s})}function Vh(){return $.useContext(by)!=null}function Uc(){return Vh()||Ar(!1),$.useContext(by).location}function nC(t){$.useContext(Bc).static||$.useLayoutEffect(t)}function Ja(){let{isDataRoute:t}=$.useContext(Vl);return t?X6():j6()}function j6(){Vh()||Ar(!1);let t=$.useContext(wy),{basename:e,future:n,navigator:r}=$.useContext(Bc),{matches:i}=$.useContext(Vl),{pathname:s}=Uc(),o=JSON.stringify(db(i,n.v7_relativeSplatPath)),a=$.useRef(!1);return nC(()=>{a.current=!0}),$.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let h=fb(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qu([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}const M6=$.createContext(null);function F6(t){let e=$.useContext(Vl).outlet;return e&&$.createElement(M6.Provider,{value:t},e)}function rC(){let{matches:t}=$.useContext(Vl),e=t[t.length-1];return e?e.params:{}}function xy(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(Bc),{matches:i}=$.useContext(Vl),{pathname:s}=Uc(),o=JSON.stringify(db(i,r.v7_relativeSplatPath));return $.useMemo(()=>fb(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function V6(t,e){return B6(t,e)}function B6(t,e,n,r){Vh()||Ar(!1);let{navigator:i}=$.useContext(Bc),{matches:s}=$.useContext(Vl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Uc(),f;if(e){var h;let T=typeof e=="string"?Fh(e):e;c==="/"||(h=T.pathname)!=null&&h.startsWith(c)||Ar(!1),f=T}else f=d;let g=f.pathname||"/",y=g;if(c!=="/"){let T=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=h6(t,{pathname:y}),_=$6(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:qu([c,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:qu([c,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&_?$.createElement(by.Provider,{value:{location:Zp({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Vu.Pop}},_):_}function U6(){let t=Y6(),e=L6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const z6=$.createElement(U6,null);class q6 extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(Vl.Provider,{value:this.props.routeContext},$.createElement(tC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W6(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(wy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(Vl.Provider,{value:e},r)}function $6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);f>=0||Ar(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:g,errors:y}=n,S=h.route.loader&&g[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,g)=>{let y,S=!1,_=null,T=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||z6,c&&(d<0&&g===0?(Q6("route-fallback"),S=!0,T=null):d===g&&(S=!0,T=h.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),C=()=>{let I;return y?I=_:S?I=T:h.route.Component?I=$.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=f,$.createElement(W6,{match:h,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?$.createElement(q6,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}var iC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iC||{}),sC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sC||{});function H6(t){let e=$.useContext(wy);return e||Ar(!1),e}function G6(t){let e=$.useContext(eC);return e||Ar(!1),e}function K6(t){let e=$.useContext(Vl);return e||Ar(!1),e}function oC(t){let e=K6(),n=e.matches[e.matches.length-1];return n.route.id||Ar(!1),n.route.id}function Y6(){var t;let e=$.useContext(tC),n=G6(),r=oC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function X6(){let{router:t}=H6(iC.UseNavigateStable),e=oC(sC.UseNavigateStable),n=$.useRef(!1);return nC(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zp({fromRouteId:e},s)))},[t,e])}const b_={};function Q6(t,e,n){b_[t]||(b_[t]=!0)}function J6(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function aC(t){let{to:e,replace:n,state:r,relative:i}=t;Vh()||Ar(!1);let{future:s,static:o}=$.useContext(Bc),{matches:a}=$.useContext(Vl),{pathname:c}=Uc(),d=Ja(),f=fb(e,db(a,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(f);return $.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:i}),[d,h,i,n,r]),null}function lC(t){return F6(t.context)}function nr(t){Ar(!1)}function Z6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vu.Pop,navigator:s,static:o=!1,future:a}=t;Vh()&&Ar(!1);let c=e.replace(/^\/*/,"/"),d=$.useMemo(()=>({basename:c,navigator:s,static:o,future:Zp({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=Fh(r));let{pathname:f="/",search:h="",hash:g="",state:y=null,key:S="default"}=r,_=$.useMemo(()=>{let T=Ph(f,c);return T==null?null:{location:{pathname:T,search:h,hash:g,state:y,key:S},navigationType:i}},[c,f,h,g,y,S,i]);return _==null?null:$.createElement(Bc.Provider,{value:d},$.createElement(by.Provider,{children:n,value:_}))}function eL(t){let{children:e,location:n}=t;return V6(L2(e),n)}new Promise(()=>{});function L2(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,L2(r.props.children,s));return}r.type!==nr&&Ar(!1),!r.props.index||!r.props.children||Ar(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=L2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(this,arguments)}function cC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nL(t,e){return t.button===0&&(!e||e==="_self")&&!tL(t)}const rL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iL=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],sL="6";try{window.__reactRouterVersion=sL}catch{}const oL=$.createContext({isTransitioning:!1}),aL="startTransition",x_=KA[aL];function lL(t){let{basename:e,children:n,future:r,window:i}=t,s=$.useRef();s.current==null&&(s.current=u6({window:i,v5Compat:!0}));let o=s.current,[a,c]=$.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=$.useCallback(h=>{d&&x_?x_(()=>c(h)):c(h)},[c,d]);return $.useLayoutEffect(()=>o.listen(f),[o,f]),$.useEffect(()=>J6(r),[r]),$.createElement(Z6,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const cL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ci=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:d,preventScrollReset:f,viewTransition:h}=e,g=cC(e,rL),{basename:y}=$.useContext(Bc),S,_=!1;if(typeof d=="string"&&uL.test(d)&&(S=d,cL))try{let I=new URL(window.location.href),D=d.startsWith("//")?new URL(I.protocol+d):new URL(d),K=Ph(D.pathname,y);D.origin===I.origin&&K!=null?d=K+D.search+D.hash:_=!0}catch{}let T=O6(d,{relative:i}),E=fL(d,{replace:o,state:a,target:c,preventScrollReset:f,relative:i,viewTransition:h});function C(I){r&&r(I),I.defaultPrevented||E(I)}return $.createElement("a",T0({},g,{href:S||T,onClick:_||s?r:C,ref:n,target:c}))}),nh=$.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:c,viewTransition:d,children:f}=e,h=cC(e,iL),g=xy(c,{relative:h.relative}),y=Uc(),S=$.useContext(eC),{navigator:_,basename:T}=$.useContext(Bc),E=S!=null&&hL(g)&&d===!0,C=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,I=y.pathname,D=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(I=I.toLowerCase(),D=D?D.toLowerCase():null,C=C.toLowerCase()),D&&T&&(D=Ph(D,T)||D);const K=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let ae=I===C||!o&&I.startsWith(C)&&I.charAt(K)==="/",F=D!=null&&(D===C||!o&&D.startsWith(C)&&D.charAt(C.length)==="/"),L={isActive:ae,isPending:F,isTransitioning:E},B=ae?r:void 0,H;typeof s=="function"?H=s(L):H=[s,ae?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(L):a;return $.createElement(Ci,T0({},h,{"aria-current":B,className:H,ref:n,style:k,to:c,viewTransition:d}),typeof f=="function"?f(L):f)});var D2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(D2||(D2={}));var __;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(__||(__={}));function dL(t){let e=$.useContext(wy);return e||Ar(!1),e}function fL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=Ja(),d=Uc(),f=xy(t,{relative:o});return $.useCallback(h=>{if(nL(h,n)){h.preventDefault();let g=r!==void 0?r:S0(d)===S0(f);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[d,c,f,r,i,n,t,s,o,a])}function hL(t,e){e===void 0&&(e={});let n=$.useContext(oL);n==null&&Ar(!1);let{basename:r}=dL(D2.useViewTransitionState),i=xy(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ph(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ph(n.nextLocation.pathname,r)||n.nextLocation.pathname;return R2(i.pathname,o)!=null||R2(i.pathname,s)!=null}const uC=$.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),_y=$.createContext({}),Sy=$.createContext(null),Ty=typeof document<"u",hb=Ty?$.useLayoutEffect:$.useEffect,dC=$.createContext({strict:!1}),pb=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),pL="framerAppearId",fC="data-"+pb(pL);function mL(t,e,n,r){const{visualElement:i}=$.useContext(_y),s=$.useContext(dC),o=$.useContext(Sy),a=$.useContext(uC).reducedMotion,c=$.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const d=c.current;$.useInsertionEffect(()=>{d&&d.update(n,o)});const f=$.useRef(!!(n[fC]&&!window.HandoffComplete));return hb(()=>{d&&(d.render(),f.current&&d.animationState&&d.animationState.animateChanges())}),$.useEffect(()=>{d&&(d.updateFeatures(),!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),d}function uh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gL(t,e,n){return $.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):uh(n)&&(n.current=r))},[e])}function em(t){return typeof t=="string"||Array.isArray(t)}function Ey(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const mb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gb=["initial",...mb];function Ay(t){return Ey(t.animate)||gb.some(e=>em(t[e]))}function hC(t){return!!(Ay(t)||t.variants)}function yL(t,e){if(Ay(t)){const{initial:n,animate:r}=t;return{initial:n===!1||em(n)?n:void 0,animate:em(r)?r:void 0}}return t.inherit!==!1?e:{}}function vL(t){const{initial:e,animate:n}=yL(t,$.useContext(_y));return $.useMemo(()=>({initial:e,animate:n}),[S_(e),S_(n)])}function S_(t){return Array.isArray(t)?t.join(" "):t}const T_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tm={};for(const t in T_)tm[t]={isEnabled:e=>T_[t].some(n=>!!e[n])};function wL(t){for(const e in t)tm[e]={...tm[e],...t[e]}}const yb=$.createContext({}),pC=$.createContext({}),bL=Symbol.for("motionComponentSymbol");function xL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&wL(t);function s(a,c){let d;const f={...$.useContext(uC),...a,layoutId:_L(a)},{isStatic:h}=f,g=vL(a),y=r(a,h);if(!h&&Ty){g.visualElement=mL(i,y,f,e);const S=$.useContext(pC),_=$.useContext(dC).strict;g.visualElement&&(d=g.visualElement.loadFeatures(f,_,t,S))}return $.createElement(_y.Provider,{value:g},d&&g.visualElement?$.createElement(d,{visualElement:g.visualElement,...f}):null,n(i,a,gL(y,g.visualElement,c),y,h,g.visualElement))}const o=$.forwardRef(s);return o[bL]=i,o}function _L({layoutId:t}){const e=$.useContext(yb).id;return e&&t!==void 0?e+"-"+t:t}function SL(t){function e(r,i={}){return xL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const TL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vb(t){return typeof t!="string"||t.includes("-")?!1:!!(TL.indexOf(t)>-1||/[A-Z]/.test(t))}const E0={};function EL(t){Object.assign(E0,t)}const Sm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wf=new Set(Sm);function mC(t,{layout:e,layoutId:n}){return wf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!E0[t]||t==="opacity")}const lo=t=>!!(t&&t.getVelocity),AL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CL=Sm.length;function PL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<CL;o++){const a=Sm[o];if(t[a]!==void 0){const c=AL[a]||a;s+=`${c}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const gC=t=>e=>typeof e=="string"&&e.startsWith(t),yC=gC("--"),O2=gC("var(--"),NL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,IL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Yu=(t,e,n)=>Math.min(Math.max(n,t),e),bf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Vp={...bf,transform:t=>Yu(0,1,t)},Rg={...bf,default:1},Bp=t=>Math.round(t*1e5)/1e5,Cy=/(-)?([\d]*\.?[\d])+/g,vC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,kL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Tm(t){return typeof t=="string"}const Em=t=>({test:e=>Tm(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Lu=Em("deg"),Pl=Em("%"),Ft=Em("px"),RL=Em("vh"),LL=Em("vw"),E_={...Pl,parse:t=>Pl.parse(t)/100,transform:t=>Pl.transform(t*100)},A_={...bf,transform:Math.round},wC={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,size:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,rotate:Lu,rotateX:Lu,rotateY:Lu,rotateZ:Lu,scale:Rg,scaleX:Rg,scaleY:Rg,scaleZ:Rg,skew:Lu,skewX:Lu,skewY:Lu,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:Vp,originX:E_,originY:E_,originZ:Ft,zIndex:A_,fillOpacity:Vp,strokeOpacity:Vp,numOctaves:A_};function wb(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let c=!1,d=!1,f=!0;for(const h in e){const g=e[h];if(yC(h)){s[h]=g;continue}const y=wC[h],S=IL(g,y);if(wf.has(h)){if(c=!0,o[h]=S,!f)continue;g!==(y.default||0)&&(f=!1)}else h.startsWith("origin")?(d=!0,a[h]=S):i[h]=S}if(e.transform||(c||r?i.transform=PL(t.transform,n,f,r):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:g="50%",originZ:y=0}=a;i.transformOrigin=`${h} ${g} ${y}`}}const bb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bC(t,e,n){for(const r in e)!lo(e[r])&&!mC(r,n)&&(t[r]=e[r])}function DL({transformTemplate:t},e,n){return $.useMemo(()=>{const r=bb();return wb(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function OL(t,e,n){const r=t.style||{},i={};return bC(i,r,t),Object.assign(i,DL(t,e,n)),t.transformValues?t.transformValues(i):i}function jL(t,e,n){const r={},i=OL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const ML=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function A0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ML.has(t)}let xC=t=>!A0(t);function FL(t){t&&(xC=e=>e.startsWith("on")?!A0(e):t(e))}try{FL(require("@emotion/is-prop-valid").default)}catch{}function VL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(xC(i)||n===!0&&A0(i)||!e&&!A0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function C_(t,e,n){return typeof t=="string"?t:Ft.transform(e+n*t)}function BL(t,e,n){const r=C_(e,t.x,t.width),i=C_(n,t.y,t.height);return`${r} ${i}`}const UL={offset:"stroke-dashoffset",array:"stroke-dasharray"},zL={offset:"strokeDashoffset",array:"strokeDasharray"};function qL(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?UL:zL;t[s.offset]=Ft.transform(-r);const o=Ft.transform(e),a=Ft.transform(n);t[s.array]=`${o} ${a}`}function xb(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...d},f,h,g){if(wb(t,d,f,g),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:S,dimensions:_}=t;y.transform&&(_&&(S.transform=y.transform),delete y.transform),_&&(i!==void 0||s!==void 0||S.transform)&&(S.transformOrigin=BL(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&qL(y,o,a,c,!1)}const _C=()=>({...bb(),attrs:{}}),_b=t=>typeof t=="string"&&t.toLowerCase()==="svg";function WL(t,e,n,r){const i=$.useMemo(()=>{const s=_C();return xb(s,e,{enableHardwareAcceleration:!1},_b(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};bC(s,t.style,t),i.style={...s,...i.style}}return i}function $L(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(vb(n)?WL:jL)(r,s,o,n),f={...VL(r,typeof n=="string",t),...c,ref:i},{children:h}=r,g=$.useMemo(()=>lo(h)?h.get():h,[h]);return $.createElement(n,{...f,children:g})}}function SC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const TC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EC(t,e,n,r){SC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(TC.has(i)?i:pb(i),e.attrs[i])}function Sb(t,e){const{style:n}=t,r={};for(const i in n)(lo(n[i])||e.style&&lo(e.style[i])||mC(i,t))&&(r[i]=n[i]);return r}function AC(t,e){const n=Sb(t,e);for(const r in t)if(lo(t[r])||lo(e[r])){const i=Sm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Tb(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function CC(t){const e=$.useRef(null);return e.current===null&&(e.current=t()),e.current}const C0=t=>Array.isArray(t),HL=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),GL=t=>C0(t)?t[t.length-1]||0:t;function r0(t){const e=lo(t)?t.get():t;return HL(e)?e.toValue():e}function KL({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:YL(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const PC=t=>(e,n)=>{const r=$.useContext(_y),i=$.useContext(Sy),s=()=>KL(t,e,r,i);return n?s():CC(s)};function YL(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=r0(s[g]);let{initial:o,animate:a}=t;const c=Ay(t),d=hC(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const h=f?a:o;return h&&typeof h!="boolean"&&!Ey(h)&&(Array.isArray(h)?h:[h]).forEach(y=>{const S=Tb(t,y);if(!S)return;const{transitionEnd:_,transition:T,...E}=S;for(const C in E){let I=E[C];if(Array.isArray(I)){const D=f?I.length-1:0;I=I[D]}I!==null&&(i[C]=I)}for(const C in _)i[C]=_[C]}),i}const Hr=t=>t;class P_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function XL(t){let e=new P_,n=new P_,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(c,d=!1,f=!1)=>{const h=f&&i,g=h?e:n;return d&&o.add(c),g.add(c)&&h&&i&&(r=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const f=e.order[d];f(c),o.has(f)&&(a.schedule(f),t())}i=!1,s&&(s=!1,a.process(c))}};return a}const Lg=["prepare","read","update","preRender","render","postRender"],QL=40;function JL(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Lg.reduce((h,g)=>(h[g]=XL(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,QL),1),i.timestamp=h,i.isProcessing=!0,Lg.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},c=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:Lg.reduce((h,g)=>{const y=s[g];return h[g]=(S,_=!1,T=!1)=>(n||c(),y.schedule(S,_,T)),h},{}),cancel:h=>Lg.forEach(g=>s[g].cancel(h)),state:i,steps:s}}const{schedule:rr,cancel:Nc,state:cs,steps:y1}=JL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0),ZL={useVisualState:PC({scrapeMotionValuesFromProps:AC,createRenderState:_C,onMount:(t,e,{renderState:n,latestValues:r})=>{rr.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),rr.render(()=>{xb(n,r,{enableHardwareAcceleration:!1},_b(e.tagName),t.transformTemplate),EC(e,n)})}})},eD={useVisualState:PC({scrapeMotionValuesFromProps:Sb,createRenderState:bb})};function tD(t,{forwardMotionProps:e=!1},n,r){return{...vb(t)?ZL:eD,preloadedFeatures:n,useRender:$L(e),createVisualElement:r,Component:t}}function wc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const NC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Py(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const nD=t=>e=>NC(e)&&t(e,Py(e));function Tc(t,e,n,r){return wc(t,e,nD(n),r)}const rD=(t,e)=>n=>e(t(n)),Wu=(...t)=>t.reduce(rD);function IC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const N_=IC("dragHorizontal"),I_=IC("dragVertical");function kC(t){let e=!1;if(t==="y")e=I_();else if(t==="x")e=N_();else{const n=N_(),r=I_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function RC(){const t=kC(!0);return t?(t(),!1):!0}class od{constructor(e){this.isMounted=!1,this.node=e}update(){}}function k_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||RC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&rr.update(()=>a[r](s,o))};return Tc(t.current,n,i,{passive:!t.getProps()[r]})}class iD extends od{mount(){this.unmount=Wu(k_(this.node,!0),k_(this.node,!1))}unmount(){}}class sD extends od{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wu(wc(this.node.current,"focus",()=>this.onFocus()),wc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const LC=(t,e)=>e?t===e?!0:LC(t,e.parentElement):!1;function v1(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Py(n))}class oD extends od{constructor(){super(...arguments),this.removeStartListeners=Hr,this.removeEndListeners=Hr,this.removeAccessibleListeners=Hr,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Tc(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:f,globalTapTarget:h}=this.node.getProps();rr.update(()=>{!h&&!LC(this.node.current,a.target)?f&&f(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Tc(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Wu(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||v1("up",(c,d)=>{const{onTap:f}=this.node.getProps();f&&rr.update(()=>f(c,d))})};this.removeEndListeners(),this.removeEndListeners=wc(this.node.current,"keyup",o),v1("down",(a,c)=>{this.startPress(a,c)})},n=wc(this.node.current,"keydown",e),r=()=>{this.isPressing&&v1("cancel",(s,o)=>this.cancelPress(s,o))},i=wc(this.node.current,"blur",r);this.removeAccessibleListeners=Wu(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&rr.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!RC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&rr.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Tc(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=wc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Wu(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const j2=new WeakMap,w1=new WeakMap,aD=t=>{const e=j2.get(t.target);e&&e(t)},lD=t=>{t.forEach(aD)};function cD({root:t,...e}){const n=t||document;w1.has(n)||w1.set(n,{});const r=w1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(lD,{root:t,...e})),r[i]}function uD(t,e,n){const r=cD(e);return j2.set(t,n),r.observe(t),()=>{j2.delete(t),r.unobserve(t)}}const dD={some:0,all:1};class fD extends od{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:dD[i]},a=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),g=d?f:h;g&&g(c)};return uD(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hD(e,n))&&this.startObserver()}unmount(){}}function hD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pD={inView:{Feature:fD},tap:{Feature:oD},focus:{Feature:sD},hover:{Feature:iD}};function DC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function mD(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function gD(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Ny(t,e,n){const r=t.getProps();return Tb(r,e,n!==void 0?n:r.custom,mD(t),gD(t))}let Eb=Hr;const Yd=t=>t*1e3,Ec=t=>t/1e3,yD={current:!1},OC=t=>Array.isArray(t)&&typeof t[0]=="number";function jC(t){return!!(!t||typeof t=="string"&&MC[t]||OC(t)||Array.isArray(t)&&t.every(jC))}const kp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,MC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kp([0,.65,.55,1]),circOut:kp([.55,0,1,.45]),backIn:kp([.31,.01,.66,-.59]),backOut:kp([.33,1.53,.69,.99])};function FC(t){if(t)return OC(t)?kp(t):Array.isArray(t)?t.map(FC):MC[t]}function vD(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:c}={}){const d={[e]:n};c&&(d.offset=c);const f=FC(a);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function wD(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const VC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bD=1e-7,xD=12;function _D(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=VC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>bD&&++a<xD);return o}function Am(t,e,n,r){if(t===e&&n===r)return Hr;const i=s=>_D(s,0,1,t,n);return s=>s===0||s===1?s:VC(i(s),e,r)}const SD=Am(.42,0,1,1),TD=Am(0,0,.58,1),BC=Am(.42,0,.58,1),ED=t=>Array.isArray(t)&&typeof t[0]!="number",UC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zC=t=>e=>1-t(1-e),Ab=t=>1-Math.sin(Math.acos(t)),qC=zC(Ab),AD=UC(Ab),WC=Am(.33,1.53,.69,.99),Cb=zC(WC),CD=UC(Cb),PD=t=>(t*=2)<1?.5*Cb(t):.5*(2-Math.pow(2,-10*(t-1))),ND={linear:Hr,easeIn:SD,easeInOut:BC,easeOut:TD,circIn:Ab,circInOut:AD,circOut:qC,backIn:Cb,backInOut:CD,backOut:WC,anticipate:PD},R_=t=>{if(Array.isArray(t)){Eb(t.length===4);const[e,n,r,i]=t;return Am(e,n,r,i)}else if(typeof t=="string")return ND[t];return t},Pb=(t,e)=>n=>!!(Tm(n)&&kL.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),$C=(t,e,n)=>r=>{if(!Tm(r))return r;const[i,s,o,a]=r.match(Cy);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ID=t=>Yu(0,255,t),b1={...bf,transform:t=>Math.round(ID(t))},qd={test:Pb("rgb","red"),parse:$C("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+b1.transform(t)+", "+b1.transform(e)+", "+b1.transform(n)+", "+Bp(Vp.transform(r))+")"};function kD(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const M2={test:Pb("#"),parse:kD,transform:qd.transform},dh={test:Pb("hsl","hue"),parse:$C("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pl.transform(Bp(e))+", "+Pl.transform(Bp(n))+", "+Bp(Vp.transform(r))+")"},ks={test:t=>qd.test(t)||M2.test(t)||dh.test(t),parse:t=>qd.test(t)?qd.parse(t):dh.test(t)?dh.parse(t):M2.parse(t),transform:t=>Tm(t)?t:t.hasOwnProperty("red")?qd.transform(t):dh.transform(t)},Er=(t,e,n)=>-n*t+n*e+t;function x1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=x1(c,a,t+1/3),s=x1(c,a,t),o=x1(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const _1=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},LD=[M2,qd,dh],DD=t=>LD.find(e=>e.test(t));function L_(t){const e=DD(t);let n=e.parse(t);return e===dh&&(n=RD(n)),n}const HC=(t,e)=>{const n=L_(t),r=L_(e),i={...n};return s=>(i.red=_1(n.red,r.red,s),i.green=_1(n.green,r.green,s),i.blue=_1(n.blue,r.blue,s),i.alpha=Er(n.alpha,r.alpha,s),qd.transform(i))};function OD(t){var e,n;return isNaN(t)&&Tm(t)&&(((e=t.match(Cy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(vC))===null||n===void 0?void 0:n.length)||0)>0}const GC={regex:NL,countKey:"Vars",token:"${v}",parse:Hr},KC={regex:vC,countKey:"Colors",token:"${c}",parse:ks.parse},YC={regex:Cy,countKey:"Numbers",token:"${n}",parse:bf.parse};function S1(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function P0(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&S1(n,GC),S1(n,KC),S1(n,YC),n}function XC(t){return P0(t).values}function QC(t){const{values:e,numColors:n,numVars:r,tokenised:i}=P0(t),s=e.length;return o=>{let a=i;for(let c=0;c<s;c++)c<r?a=a.replace(GC.token,o[c]):c<r+n?a=a.replace(KC.token,ks.transform(o[c])):a=a.replace(YC.token,Bp(o[c]));return a}}const jD=t=>typeof t=="number"?0:t;function MD(t){const e=XC(t);return QC(t)(e.map(jD))}const Xu={test:OD,parse:XC,createTransformer:QC,getAnimatableNone:MD},JC=(t,e)=>n=>`${n>0?e:t}`;function ZC(t,e){return typeof t=="number"?n=>Er(t,e,n):ks.test(t)?HC(t,e):t.startsWith("var(")?JC(t,e):tP(t,e)}const eP=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>ZC(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},FD=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ZC(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},tP=(t,e)=>{const n=Xu.createTransformer(e),r=P0(t),i=P0(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Wu(eP(r.values,i.values),n):JC(t,e)},nm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},D_=(t,e)=>n=>Er(t,e,n);function VD(t){return typeof t=="number"?D_:typeof t=="string"?ks.test(t)?HC:tP:Array.isArray(t)?eP:typeof t=="object"?FD:D_}function BD(t,e,n){const r=[],i=n||VD(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Hr:e;a=Wu(c,a)}r.push(a)}return r}function nP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Eb(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=BD(e,r,i),a=o.length,c=d=>{let f=0;if(a>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=nm(t[f],t[f+1],d);return o[f](h)};return n?d=>c(Yu(t[0],t[s-1],d)):c}function UD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=nm(0,e,r);t.push(Er(n,1,i))}}function zD(t){const e=[0];return UD(e,t.length-1),e}function qD(t,e){return t.map(n=>n*e)}function WD(t,e){return t.map(()=>e||BC).splice(0,t.length-1)}function N0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ED(r)?r.map(R_):R_(r),s={done:!1,value:e[0]},o=qD(n&&n.length===e.length?n:zD(e),t),a=nP(o,e,{ease:Array.isArray(i)?i:WD(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}function rP(t,e){return e?t*(1e3/e):0}const $D=5;function iP(t,e,n){const r=Math.max(e-$D,0);return rP(n-t(r),e-r)}const T1=.001,HD=.01,GD=10,KD=.05,YD=1;function XD({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Yu(KD,YD,o),t=Yu(HD,GD,Ec(t)),o<1?(i=d=>{const f=d*o,h=f*t,g=f-n,y=F2(d,o),S=Math.exp(-h);return T1-g/y*S},s=d=>{const h=d*o*t,g=h*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,S=Math.exp(-h),_=F2(Math.pow(d,2),o);return(-i(d)+T1>0?-1:1)*((g-y)*S)/_}):(i=d=>{const f=Math.exp(-d*t),h=(d-n)*t+1;return-T1+f*h},s=d=>{const f=Math.exp(-d*t),h=(n-d)*(t*t);return f*h});const a=5/t,c=JD(i,s,a);if(t=Yd(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const QD=12;function JD(t,e,n){let r=n;for(let i=1;i<QD;i++)r=r-t(r)/e(r);return r}function F2(t,e){return t*Math.sqrt(1-e*e)}const ZD=["duration","bounce"],eO=["stiffness","damping","mass"];function O_(t,e){return e.some(n=>t[n]!==void 0)}function tO(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!O_(t,eO)&&O_(t,ZD)){const n=XD(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function sP({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:g}=tO({...r,velocity:-Ec(r.velocity||0)}),y=h||0,S=c/(2*Math.sqrt(a*d)),_=s-i,T=Ec(Math.sqrt(a/d)),E=Math.abs(_)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let C;if(S<1){const I=F2(T,S);C=D=>{const K=Math.exp(-S*T*D);return s-K*((y+S*T*_)/I*Math.sin(I*D)+_*Math.cos(I*D))}}else if(S===1)C=I=>s-Math.exp(-T*I)*(_+(y+T*_)*I);else{const I=T*Math.sqrt(S*S-1);C=D=>{const K=Math.exp(-S*T*D),ae=Math.min(I*D,300);return s-K*((y+S*T*_)*Math.sinh(ae)+I*_*Math.cosh(ae))/I}}return{calculatedDuration:g&&f||null,next:I=>{const D=C(I);if(g)o.done=I>=f;else{let K=y;I!==0&&(S<1?K=iP(C,I,D):K=0);const ae=Math.abs(K)<=n,F=Math.abs(s-D)<=e;o.done=ae&&F}return o.value=o.done?s:D,o}}}function j_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:d=.5,restSpeed:f}){const h=t[0],g={done:!1,value:h},y=L=>a!==void 0&&L<a||c!==void 0&&L>c,S=L=>a===void 0?c:c===void 0||Math.abs(a-L)<Math.abs(c-L)?a:c;let _=n*e;const T=h+_,E=o===void 0?T:o(T);E!==T&&(_=E-h);const C=L=>-_*Math.exp(-L/r),I=L=>E+C(L),D=L=>{const B=C(L),H=I(L);g.done=Math.abs(B)<=d,g.value=g.done?E:H};let K,ae;const F=L=>{y(g.value)&&(K=L,ae=sP({keyframes:[g.value,S(g.value)],velocity:iP(I,L,g.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return F(0),{calculatedDuration:null,next:L=>{let B=!1;return!ae&&K===void 0&&(B=!0,D(L),F(L)),K!==void 0&&L>K?ae.next(L-K):(!B&&D(L),g)}}}const nO=t=>{const e=({timestamp:n})=>t(n);return{start:()=>rr.update(e,!0),stop:()=>Nc(e),now:()=>cs.isProcessing?cs.timestamp:performance.now()}},M_=2e4;function F_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<M_;)e+=n,r=t.next(e);return e>=M_?1/0:e}const rO={decay:j_,inertia:j_,tween:N0,keyframes:N0,spring:sP};function I0({autoplay:t=!0,delay:e=0,driver:n=nO,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:d,onComplete:f,onUpdate:h,...g}){let y=1,S=!1,_,T;const E=()=>{T=new Promise(q=>{_=q})};E();let C;const I=rO[i]||N0;let D;I!==N0&&typeof r[0]!="number"&&(D=nP([0,100],r,{clamp:!1}),r=[0,100]);const K=I({...g,keyframes:r});let ae;a==="mirror"&&(ae=I({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let F="idle",L=null,B=null,H=null;K.calculatedDuration===null&&s&&(K.calculatedDuration=F_(K));const{calculatedDuration:k}=K;let j=1/0,z=1/0;k!==null&&(j=k+o,z=j*(s+1)-o);let oe=0;const de=q=>{if(B===null)return;y>0&&(B=Math.min(B,q)),y<0&&(B=Math.min(q-z/y,B)),L!==null?oe=L:oe=Math.round(q-B)*y;const V=oe-e*(y>=0?1:-1),W=y>=0?V<0:V>z;oe=Math.max(V,0),F==="finished"&&L===null&&(oe=z);let ee=oe,ce=K;if(s){const Te=Math.min(oe,z)/j;let Ve=Math.floor(Te),Fe=Te%1;!Fe&&Te>=1&&(Fe=1),Fe===1&&Ve--,Ve=Math.min(Ve,s+1),!!(Ve%2)&&(a==="reverse"?(Fe=1-Fe,o&&(Fe-=o/j)):a==="mirror"&&(ce=ae)),ee=Yu(0,1,Fe)*j}const fe=W?{done:!1,value:r[0]}:ce.next(ee);D&&(fe.value=D(fe.value));let{done:ye}=fe;!W&&k!==null&&(ye=y>=0?oe>=z:oe<=0);const we=L===null&&(F==="finished"||F==="running"&&ye);return h&&h(fe.value),we&&re(),fe},se=()=>{C&&C.stop(),C=void 0},le=()=>{F="idle",se(),_(),E(),B=H=null},re=()=>{F="finished",f&&f(),se(),_()},pe=()=>{if(S)return;C||(C=n(de));const q=C.now();c&&c(),L!==null?B=q-L:(!B||F==="finished")&&(B=q),F==="finished"&&E(),H=B,L=null,F="running",C.start()};t&&pe();const Z={then(q,V){return T.then(q,V)},get time(){return Ec(oe)},set time(q){q=Yd(q),oe=q,L!==null||!C||y===0?L=q:B=C.now()-q/y},get duration(){const q=K.calculatedDuration===null?F_(K):K.calculatedDuration;return Ec(q)},get speed(){return y},set speed(q){q===y||!C||(y=q,Z.time=Ec(oe))},get state(){return F},play:pe,pause:()=>{F="paused",L=oe},stop:()=>{S=!0,F!=="idle"&&(F="idle",d&&d(),le())},cancel:()=>{H!==null&&de(H),le()},complete:()=>{F="finished"},sample:q=>(B=0,de(q))};return Z}function iO(t){let e;return()=>(e===void 0&&(e=t()),e)}const sO=iO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),oO=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dg=10,aO=2e4,lO=(t,e)=>e.type==="spring"||t==="backgroundColor"||!jC(e.ease);function cO(t,e,{onUpdate:n,onComplete:r,...i}){if(!(sO()&&oO.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,c,d=!1;const f=()=>{c=new Promise(I=>{a=I})};f();let{keyframes:h,duration:g=300,ease:y,times:S}=i;if(lO(e,i)){const I=I0({...i,repeat:0,delay:0});let D={done:!1,value:h[0]};const K=[];let ae=0;for(;!D.done&&ae<aO;)D=I.sample(ae),K.push(D.value),ae+=Dg;S=void 0,h=K,g=ae-Dg,y="linear"}const _=vD(t.owner.current,e,h,{...i,duration:g,ease:y,times:S}),T=()=>{d=!1,_.cancel()},E=()=>{d=!0,rr.update(T),a(),f()};return _.onfinish=()=>{d||(t.set(wD(h,i)),r&&r(),E())},{then(I,D){return c.then(I,D)},attachTimeline(I){return _.timeline=I,_.onfinish=null,Hr},get time(){return Ec(_.currentTime||0)},set time(I){_.currentTime=Yd(I)},get speed(){return _.playbackRate},set speed(I){_.playbackRate=I},get duration(){return Ec(g)},play:()=>{o||(_.play(),Nc(T))},pause:()=>_.pause(),stop:()=>{if(o=!0,_.playState==="idle")return;const{currentTime:I}=_;if(I){const D=I0({...i,autoplay:!1});t.setWithVelocity(D.sample(I-Dg).value,D.sample(I).value,Dg)}E()},complete:()=>{d||_.finish()},cancel:E}}function uO({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Hr,pause:Hr,stop:Hr,then:s=>(s(),Promise.resolve()),cancel:Hr,complete:Hr});return e?I0({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const dO={type:"spring",stiffness:500,damping:25,restSpeed:10},fO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hO={type:"keyframes",duration:.8},pO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mO=(t,{keyframes:e})=>e.length>2?hO:wf.has(t)?t.startsWith("scale")?fO(e[1]):dO:pO,V2=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xu.test(e)||e==="0")&&!e.startsWith("url(")),gO=new Set(["brightness","contrast","saturate","opacity"]);function yO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Cy)||[];if(!r)return t;const i=n.replace(r,"");let s=gO.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const vO=/([a-z-]*)\(.*?\)/g,B2={...Xu,getAnimatableNone:t=>{const e=t.match(vO);return e?e.map(yO).join(" "):t}},wO={...wC,color:ks,backgroundColor:ks,outlineColor:ks,fill:ks,stroke:ks,borderColor:ks,borderTopColor:ks,borderRightColor:ks,borderBottomColor:ks,borderLeftColor:ks,filter:B2,WebkitFilter:B2},Nb=t=>wO[t];function oP(t,e){let n=Nb(t);return n!==B2&&(n=Xu),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aP=t=>/^0[^.\s]+$/.test(t);function bO(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||aP(t)}function xO(t,e,n,r){const i=V2(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const c=[];for(let d=0;d<s.length;d++)s[d]===null&&(s[d]=d===0?o:s[d-1]),bO(s[d])&&c.push(d),typeof s[d]=="string"&&s[d]!=="none"&&s[d]!=="0"&&(a=s[d]);if(i&&c.length&&a)for(let d=0;d<c.length;d++){const f=c[d];s[f]=oP(e,a)}return s}function _O({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:d,...f}){return!!Object.keys(f).length}function Ib(t,e){return t[e]||t.default||t}const SO={skipAnimations:!1},kb=(t,e,n,r={})=>i=>{const s=Ib(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Yd(o);const c=xO(e,t,n,s),d=c[0],f=c[c.length-1],h=V2(t,d),g=V2(t,f);let y={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:S=>{e.set(S),s.onUpdate&&s.onUpdate(S)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(_O(s)||(y={...y,...mO(t,y)}),y.duration&&(y.duration=Yd(y.duration)),y.repeatDelay&&(y.repeatDelay=Yd(y.repeatDelay)),!h||!g||yD.current||s.type===!1||SO.skipAnimations)return uO(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=cO(e,t,y);if(S)return S}return I0(y)};function k0(t){return!!(lo(t)&&t.add)}const lP=t=>/^\-?\d*\.?\d+$/.test(t);function Rb(t,e){t.indexOf(e)===-1&&t.push(e)}function Lb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Db{constructor(){this.subscriptions=[]}add(e){return Rb(this.subscriptions,e),()=>Lb(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const TO=t=>!isNaN(parseFloat(t));class EO{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=cs;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,rr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>rr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=TO(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Db);const r=this.events[e].add(n);return e==="change"?()=>{r(),rr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?rP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nh(t,e){return new EO(t,e)}const cP=t=>e=>e.test(t),AO={test:t=>t==="auto",parse:t=>t},uP=[bf,Ft,Pl,Lu,LL,RL,AO],fp=t=>uP.find(cP(t)),CO=[...uP,ks,Xu],PO=t=>CO.find(cP(t));function NO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nh(n))}function IO(t,e){const n=Ny(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=GL(s[o]);NO(t,o,a)}}function kO(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const c=s[a],d=e[c];let f=null;Array.isArray(d)&&(f=d[0]),f===null&&(f=(i=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&i!==void 0?i:e[c]),f!=null&&(typeof f=="string"&&(lP(f)||aP(f))?f=parseFloat(f):!PO(f)&&Xu.test(d)&&(f=oP(c,d)),t.addValue(c,Nh(f,{owner:t})),n[c]===void 0&&(n[c]=f),f!==null&&t.setBaseTarget(c,f))}}function RO(t,e){return e?(e[t]||e.default||e).from:void 0}function LO(t,e,n){const r={};for(const i in t){const s=RO(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function DO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function OO(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function dP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(s=r);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const g=t.getValue(h),y=a[h];if(!g||y===void 0||f&&DO(f,h))continue;const S={delay:n,elapsed:0,...Ib(s||{},h)};if(window.HandoffAppearAnimations){const E=t.getProps()[fC];if(E){const C=window.HandoffAppearAnimations(E,h,g,rr);C!==null&&(S.elapsed=C,S.isHandoff=!0)}}let _=!S.isHandoff&&!OO(g,y);if(S.type==="spring"&&(g.getVelocity()||S.velocity)&&(_=!1),g.animation&&(_=!1),_)continue;g.start(kb(h,g,y,t.shouldReduceMotion&&wf.has(h)?{type:!1}:S));const T=g.animation;k0(c)&&(c.add(h),T.then(()=>c.remove(h))),d.push(T)}return o&&Promise.all(d).then(()=>{o&&IO(t,o)}),d}function U2(t,e,n={}){const r=Ny(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(dP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return jO(t,e,d+c,f,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,d]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(n.delay)])}function jO(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=i===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(t.variantChildren).sort(MO).forEach((d,f)=>{d.notify("AnimationStart",e),o.push(U2(d,e,{...s,delay:n+c(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function MO(t,e){return t.sortNodePosition(e)}function FO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>U2(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=U2(t,e,n);else{const i=typeof e=="function"?Ny(t,e,n.custom):e;r=Promise.all(dP(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const VO=[...mb].reverse(),BO=mb.length;function UO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>FO(t,n,r)))}function zO(t){let e=UO(t);const n=WO();let r=!0;const i=(c,d)=>{const f=Ny(t,d);if(f){const{transition:h,transitionEnd:g,...y}=f;c={...c,...y,...g}}return c};function s(c){e=c(t)}function o(c,d){const f=t.getProps(),h=t.getVariantContext(!0)||{},g=[],y=new Set;let S={},_=1/0;for(let E=0;E<BO;E++){const C=VO[E],I=n[C],D=f[C]!==void 0?f[C]:h[C],K=em(D),ae=C===d?I.isActive:null;ae===!1&&(_=E);let F=D===h[C]&&D!==f[C]&&K;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),I.protectedKeys={...S},!I.isActive&&ae===null||!D&&!I.prevProp||Ey(D)||typeof D=="boolean")continue;let B=qO(I.prevProp,D)||C===d&&I.isActive&&!F&&K||E>_&&K,H=!1;const k=Array.isArray(D)?D:[D];let j=k.reduce(i,{});ae===!1&&(j={});const{prevResolvedValues:z={}}=I,oe={...z,...j},de=se=>{B=!0,y.has(se)&&(H=!0,y.delete(se)),I.needsAnimating[se]=!0};for(const se in oe){const le=j[se],re=z[se];if(S.hasOwnProperty(se))continue;let pe=!1;C0(le)&&C0(re)?pe=!DC(le,re):pe=le!==re,pe?le!==void 0?de(se):y.add(se):le!==void 0&&y.has(se)?de(se):I.protectedKeys[se]=!0}I.prevProp=D,I.prevResolvedValues=j,I.isActive&&(S={...S,...j}),r&&t.blockInitialAnimation&&(B=!1),B&&(!F||H)&&g.push(...k.map(se=>({animation:se,options:{type:C,...c}})))}if(y.size){const E={};y.forEach(C=>{const I=t.getBaseTarget(C);I!==void 0&&(E[C]=I)}),g.push({animation:E})}let T=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function a(c,d,f){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(y=>{var S;return(S=y.animationState)===null||S===void 0?void 0:S.setActive(c,d)}),n[c].isActive=d;const g=o(f,c);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function qO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!DC(e,t):!1}function kd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WO(){return{animate:kd(!0),whileInView:kd(),whileHover:kd(),whileTap:kd(),whileDrag:kd(),whileFocus:kd(),exit:kd()}}class $O extends od{constructor(e){super(e),e.animationState||(e.animationState=zO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ey(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let HO=0;class GO extends od{constructor(){super(...arguments),this.id=HO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KO={animation:{Feature:$O},exit:{Feature:GO}},V_=(t,e)=>Math.abs(t-e);function YO(t,e){const n=V_(t.x,e.x),r=V_(t.y,e.y);return Math.sqrt(n**2+r**2)}class fP{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=A1(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=YO(h.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:S}=h,{timestamp:_}=cs;this.history.push({...S,timestamp:_});const{onStart:T,onMove:E}=this.handlers;g||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=E1(g,this.transformPagePoint),rr.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:y,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=A1(h.type==="pointercancel"?this.lastMoveEventInfo:E1(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,T),S&&S(h,T)},!NC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Py(e),a=E1(o,this.transformPagePoint),{point:c}=a,{timestamp:d}=cs;this.history=[{...c,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,A1(a,this.history)),this.removeListeners=Wu(Tc(this.contextWindow,"pointermove",this.handlePointerMove),Tc(this.contextWindow,"pointerup",this.handlePointerUp),Tc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nc(this.updatePoint)}}function E1(t,e){return e?{point:e(t.point)}:t}function B_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function A1({point:t},e){return{point:t,delta:B_(t,hP(e)),offset:B_(t,XO(e)),velocity:QO(e,.1)}}function XO(t){return t[0]}function hP(t){return t[t.length-1]}function QO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=hP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Yd(e)));)n--;if(!r)return{x:0,y:0};const s=Ec(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Oo(t){return t.max-t.min}function z2(t,e=0,n=.01){return Math.abs(t-e)<=n}function U_(t,e,n,r=.5){t.origin=r,t.originPoint=Er(e.min,e.max,t.origin),t.scale=Oo(n)/Oo(e),(z2(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Er(n.min,n.max,t.origin)-t.originPoint,(z2(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Up(t,e,n,r){U_(t.x,e.x,n.x,r?r.originX:void 0),U_(t.y,e.y,n.y,r?r.originY:void 0)}function z_(t,e,n){t.min=n.min+e.min,t.max=t.min+Oo(e)}function JO(t,e,n){z_(t.x,e.x,n.x),z_(t.y,e.y,n.y)}function q_(t,e,n){t.min=e.min-n.min,t.max=t.min+Oo(e)}function zp(t,e,n){q_(t.x,e.x,n.x),q_(t.y,e.y,n.y)}function ZO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Er(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Er(n,t,r.max):Math.min(t,n)),t}function W_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ej(t,{top:e,left:n,bottom:r,right:i}){return{x:W_(t.x,n,i),y:W_(t.y,e,r)}}function $_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tj(t,e){return{x:$_(t.x,e.x),y:$_(t.y,e.y)}}function nj(t,e){let n=.5;const r=Oo(t),i=Oo(e);return i>r?n=nm(e.min,e.max-r,t.min):r>i&&(n=nm(t.min,t.max-i,e.min)),Yu(0,1,n)}function rj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const q2=.35;function ij(t=q2){return t===!1?t=0:t===!0&&(t=q2),{x:H_(t,"left","right"),y:H_(t,"top","bottom")}}function H_(t,e,n){return{min:G_(t,e),max:G_(t,n)}}function G_(t,e){return typeof t=="number"?t:t[e]||0}const K_=()=>({translate:0,scale:1,origin:0,originPoint:0}),fh=()=>({x:K_(),y:K_()}),Y_=()=>({min:0,max:0}),Jr=()=>({x:Y_(),y:Y_()});function ca(t){return[t("x"),t("y")]}function pP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function sj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function C1(t){return t===void 0||t===1}function W2({scale:t,scaleX:e,scaleY:n}){return!C1(t)||!C1(e)||!C1(n)}function Ld(t){return W2(t)||mP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function mP(t){return X_(t.x)||X_(t.y)}function X_(t){return t&&t!=="0%"}function R0(t,e,n){const r=t-n,i=e*r;return n+i}function Q_(t,e,n,r,i){return i!==void 0&&(t=R0(t,i,r)),R0(t,n,r)+e}function $2(t,e=0,n=1,r,i){t.min=Q_(t.min,e,n,r,i),t.max=Q_(t.max,e,n,r,i)}function gP(t,{x:e,y:n}){$2(t.x,e.translate,e.scale,e.originPoint),$2(t.y,n.translate,n.scale,n.originPoint)}function aj(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,gP(t,o)),r&&Ld(s.latestValues)&&hh(t,s.latestValues))}e.x=J_(e.x),e.y=J_(e.y)}function J_(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Du(t,e){t.min=t.min+e,t.max=t.max+e}function Z_(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Er(t.min,t.max,s);$2(t,e[n],e[r],o,e.scale)}const lj=["x","scaleX","originX"],cj=["y","scaleY","originY"];function hh(t,e){Z_(t.x,e,lj),Z_(t.y,e,cj)}function yP(t,e){return pP(oj(t.getBoundingClientRect(),e))}function uj(t,e,n){const r=yP(t,n),{scroll:i}=e;return i&&(Du(r.x,i.offset.x),Du(r.y,i.offset.y)),r}const vP=({current:t})=>t?t.ownerDocument.defaultView:null,dj=new WeakMap;class fj{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Py(f,"page").point)},s=(f,h)=>{const{drag:g,dragPropagation:y,onDragStart:S}=this.getProps();if(g&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=kC(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ca(T=>{let E=this.getAxisMotionValue(T).get()||0;if(Pl.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const I=C.layout.layoutBox[T];I&&(E=Oo(I)*(parseFloat(E)/100))}}this.originPoint[T]=E}),S&&rr.update(()=>S(f,h),!1,!0);const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:S,onDrag:_}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:T}=h;if(y&&this.currentDirection===null){this.currentDirection=hj(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),_&&_(f,h)},a=(f,h)=>this.stop(f,h),c=()=>ca(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new fP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:vP(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&rr.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Og(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=ZO(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&uh(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ej(i.layoutBox,n):this.constraints=!1,this.elastic=ij(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ca(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=rj(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!uh(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=uj(r,i.root,this.visualElement.getTransformPagePoint());let o=tj(i.layout.layoutBox,s);if(n){const a=n(sj(o));this.hasMutatedConstraints=!!a,a&&(o=pP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},d=ca(f=>{if(!Og(f,n,this.currentDirection))return;let h=c&&c[f]||{};o&&(h={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,S={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,S)});return Promise.all(d).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(kb(e,r,0,n))}stopAnimation(){ca(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ca(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ca(n=>{const{drag:r}=this.getProps();if(!Og(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Er(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!uh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ca(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();i[o]=nj({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ca(o=>{if(!Og(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];a.set(Er(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;dj.set(this.visualElement,this);const e=this.visualElement.current,n=Tc(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();uh(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=wc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ca(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=q2,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Og(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pj extends od{constructor(e){super(e),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new fj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const eS=t=>(e,n)=>{t&&rr.update(()=>t(e,n))};class mj extends od{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(e){this.session=new fP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:eS(e),onStart:eS(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&rr.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Tc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gj(){const t=$.useContext(Sy);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=$.useId();return $.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const i0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ft.test(t))t=parseFloat(t);else return t;const n=tS(t,e.target.x),r=tS(t,e.target.y);return`${n}% ${r}%`}},yj={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Xu.parse(t);if(i.length>5)return r;const s=Xu.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const d=Er(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class vj extends it.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;EL(wj),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),i0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||rr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wP(t){const[e,n]=gj(),r=$.useContext(yb);return it.createElement(vj,{...t,layoutGroup:r,switchLayoutGroup:$.useContext(pC),isPresent:e,safeToRemove:n})}const wj={borderRadius:{...hp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hp,borderTopRightRadius:hp,borderBottomLeftRadius:hp,borderBottomRightRadius:hp,boxShadow:yj},bP=["TopLeft","TopRight","BottomLeft","BottomRight"],bj=bP.length,nS=t=>typeof t=="string"?parseFloat(t):t,rS=t=>typeof t=="number"||Ft.test(t);function xj(t,e,n,r,i,s){i?(t.opacity=Er(0,n.opacity!==void 0?n.opacity:1,_j(r)),t.opacityExit=Er(e.opacity!==void 0?e.opacity:1,0,Sj(r))):s&&(t.opacity=Er(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<bj;o++){const a=`border${bP[o]}Radius`;let c=iS(e,a),d=iS(n,a);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||rS(c)===rS(d)?(t[a]=Math.max(Er(nS(c),nS(d),r),0),(Pl.test(d)||Pl.test(c))&&(t[a]+="%")):t[a]=d}(e.rotate||n.rotate)&&(t.rotate=Er(e.rotate||0,n.rotate||0,r))}function iS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _j=xP(0,.5,qC),Sj=xP(.5,.95,Hr);function xP(t,e,n){return r=>r<t?0:r>e?1:n(nm(t,e,r))}function sS(t,e){t.min=e.min,t.max=e.max}function la(t,e){sS(t.x,e.x),sS(t.y,e.y)}function oS(t,e,n,r,i){return t-=e,t=R0(t,1/n,r),i!==void 0&&(t=R0(t,1/i,r)),t}function Tj(t,e=0,n=1,r=.5,i,s=t,o=t){if(Pl.test(e)&&(e=parseFloat(e),e=Er(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Er(s.min,s.max,r);t===s&&(a-=e),t.min=oS(t.min,e,n,a,i),t.max=oS(t.max,e,n,a,i)}function aS(t,e,[n,r,i],s,o){Tj(t,e[n],e[r],e[i],e.scale,s,o)}const Ej=["x","scaleX","originX"],Aj=["y","scaleY","originY"];function lS(t,e,n,r){aS(t.x,e,Ej,n?n.x:void 0,r?r.x:void 0),aS(t.y,e,Aj,n?n.y:void 0,r?r.y:void 0)}function cS(t){return t.translate===0&&t.scale===1}function _P(t){return cS(t.x)&&cS(t.y)}function Cj(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function SP(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function uS(t){return Oo(t.x)/Oo(t.y)}class Pj{constructor(){this.members=[]}add(e){Rb(this.members,e),e.scheduleRender()}remove(e){if(Lb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dS(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:f}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Nj=(t,e)=>t.depth-e.depth;class Ij{constructor(){this.children=[],this.isDirty=!1}add(e){Rb(this.children,e),this.isDirty=!0}remove(e){Lb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Nj),this.isDirty=!1,this.children.forEach(e)}}function kj(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Nc(r),t(s-e))};return rr.read(r,!0),()=>Nc(r)}function Rj(t){window.MotionDebug&&window.MotionDebug.record(t)}function Lj(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Dj(t,e,n){const r=lo(t)?t:Nh(t);return r.start(kb("",r,e,n)),r.animation}const fS=["","X","Y","Z"],Oj={visibility:"hidden"},hS=1e3;let jj=0;const Dd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function TP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e?.()){this.id=jj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Dd.totalNodes=Dd.resolvedTargetDeltas=Dd.recalculatedProjection=0,this.nodes.forEach(Vj),this.nodes.forEach(Wj),this.nodes.forEach($j),this.nodes.forEach(Bj),Rj(Dd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ij)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Db),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Lj(o),this.instance=o;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||c)&&(this.isLayoutDirty=!0),t){let h;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=kj(g,250),i0.hasAnimatedSinceResize&&(i0.hasAnimatedSinceResize=!1,this.nodes.forEach(mS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||Xj,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=f.getProps(),C=!this.targetLayout||!SP(this.targetLayout,S)||y,I=!g&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,I);const D={...Ib(_,"layout"),onPlay:T,onComplete:E};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D)}else g||mS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pS);return}this.isUpdating||this.nodes.forEach(zj),this.isUpdating=!1,this.nodes.forEach(qj),this.nodes.forEach(Mj),this.nodes.forEach(Fj),this.clearAllSnapshots();const a=performance.now();cs.delta=Yu(0,1e3/60,a-cs.timestamp),cs.timestamp=a,cs.isProcessing=!0,y1.update.process(cs),y1.preRender.process(cs),y1.render.process(cs),cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Uj),this.sharedNodes.forEach(Gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!_P(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&(a||Ld(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),Qj(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Jr();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Du(a.x,c.offset.x),Du(a.y,c.offset.y)),a}removeElementScroll(o){const a=Jr();la(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;if(d!==this.root&&f&&h.layoutScroll){if(f.isRoot){la(a,o);const{scroll:g}=this.root;g&&(Du(a.x,-g.offset.x),Du(a.y,-g.offset.y))}Du(a.x,f.offset.x),Du(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const c=Jr();la(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&hh(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ld(f.latestValues)&&hh(c,f.latestValues)}return Ld(this.latestValues)&&hh(c,this.latestValues),c}removeTransform(o){const a=Jr();la(a,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ld(d.latestValues))continue;W2(d.latestValues)&&d.updateSnapshot();const f=Jr(),h=d.measurePageBox();la(f,h),lS(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Ld(this.latestValues)&&lS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=cs.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),zp(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),la(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Jr(),this.targetWithTransforms=Jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):la(this.target,this.layout.layoutBox),gP(this.target,this.targetDelta)):la(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),zp(this.relativeTargetOrigin,this.target,y.target),la(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||W2(this.parent.latestValues)||mP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===cs.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;la(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;aj(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:S}=a;if(!S){this.projectionTransform&&(this.projectionDelta=fh(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=fh(),this.projectionDeltaWithTransform=fh());const _=this.projectionTransform;Up(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=dS(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==g||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Dd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},h=fh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Jr(),y=c?c.source:void 0,S=this.layout?this.layout.source:void 0,_=y!==S,T=this.getStack(),E=!T||T.members.length<=1,C=!!(_&&!E&&this.options.crossfade===!0&&!this.path.some(Yj));this.animationProgress=0;let I;this.mixTargetDelta=D=>{const K=D/1e3;gS(h.x,o.x,K),gS(h.y,o.y,K),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zp(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kj(this.relativeTarget,this.relativeTargetOrigin,g,K),I&&Cj(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Jr()),la(I,this.relativeTarget)),_&&(this.animationValues=f,xj(f,d,this.latestValues,K,C,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rr.update(()=>{i0.hasAnimatedSinceResize=!0,this.currentAnimation=Dj(0,hS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:d,latestValues:f}=o;if(!(!a||!c||!d)){if(this!==o&&this.layout&&d&&EP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Jr();const h=Oo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const g=Oo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}la(a,c),hh(a,f),Up(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Pj),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const d={};for(let f=0;f<fS.length;f++){const h="rotate"+fS[f];c[h]&&(d[h]=c[h],o.setStaticValue(h,0))}o.render();for(const f in d)o.setStaticValue(f,d[f]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Oj;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=r0(o?.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=r0(o?.pointerEvents)||""),this.hasProjected&&!Ld(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=dS(this.projectionDeltaWithTransform,this.treeScale,g),f&&(d.transform=f(g,d.transform));const{x:y,y:S}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${S.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in E0){if(g[_]===void 0)continue;const{correct:T,applyTo:E}=E0[_],C=d.transform==="none"?g[_]:T(g[_],h);if(E){const I=E.length;for(let D=0;D<I;D++)d[E[D]]=C}else d[_]=C}return this.options.layoutId&&(d.pointerEvents=h===this?r0(o?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(pS),this.root.sharedNodes.clear()}}}function Mj(t){t.updateLayout()}function Fj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ca(h=>{const g=o?n.measuredBox[h]:n.layoutBox[h],y=Oo(g);g.min=r[h].min,g.max=g.min+y}):EP(s,n.layoutBox,r)&&ca(h=>{const g=o?n.measuredBox[h]:n.layoutBox[h],y=Oo(r[h]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=fh();Up(a,r,n.layoutBox);const c=fh();o?Up(c,t.applyTransform(i,!0),n.measuredBox):Up(c,r,n.layoutBox);const d=!_P(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:y}=h;if(g&&y){const S=Jr();zp(S,n.layoutBox,g.layoutBox);const _=Jr();zp(_,r,y.layoutBox),SP(S,_)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=S,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Vj(t){Dd.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Bj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Uj(t){t.clearSnapshot()}function pS(t){t.clearMeasurements()}function zj(t){t.isLayoutDirty=!1}function qj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Wj(t){t.resolveTargetDelta()}function $j(t){t.calcProjection()}function Hj(t){t.resetRotation()}function Gj(t){t.removeLeadSnapshot()}function gS(t,e,n){t.translate=Er(e.translate,0,n),t.scale=Er(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yS(t,e,n,r){t.min=Er(e.min,n.min,r),t.max=Er(e.max,n.max,r)}function Kj(t,e,n,r){yS(t.x,e.x,n.x,r),yS(t.y,e.y,n.y,r)}function Yj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Xj={duration:.45,ease:[.4,0,.1,1]},vS=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),wS=vS("applewebkit/")&&!vS("chrome/")?Math.round:Hr;function bS(t){t.min=wS(t.min),t.max=wS(t.max)}function Qj(t){bS(t.x),bS(t.y)}function EP(t,e,n){return t==="position"||t==="preserve-aspect"&&!z2(uS(e),uS(n),.2)}const Jj=TP({attachResizeListener:(t,e)=>wc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),P1={current:void 0},AP=TP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!P1.current){const t=new Jj({});t.mount(window),t.setOptions({layoutScroll:!0}),P1.current=t}return P1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zj={pan:{Feature:mj},drag:{Feature:pj,ProjectionNode:AP,MeasureLayout:wP}},eM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tM(t){const e=eM.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function H2(t,e,n=1){const[r,i]=tM(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return lP(o)?parseFloat(o):o}else return O2(i)?H2(i,e,n+1):i}function nM(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!O2(s))return;const o=H2(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!O2(s))continue;const o=H2(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const rM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),CP=t=>rM.has(t),iM=t=>Object.keys(t).some(CP),xS=t=>t===bf||t===Ft,_S=(t,e)=>parseFloat(t.split(", ")[e]),SS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return _S(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?_S(s[1],t):0}},sM=new Set(["x","y","z"]),oM=Sm.filter(t=>!sM.has(t));function aM(t){const e=[];return oM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ih={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:SS(4,13),y:SS(5,14)};Ih.translateX=Ih.x;Ih.translateY=Ih.y;const lM=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{a[d]=Ih[d](r,s)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const f=e.getValue(d);f&&f.jump(a[d]),t[d]=Ih[d](c,s)}),t},cM=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(CP);let s=[],o=!1;const a=[];if(i.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let f=n[c],h=fp(f);const g=e[c];let y;if(C0(g)){const S=g.length,_=g[0]===null?1:0;f=g[_],h=fp(f);for(let T=_;T<S&&g[T]!==null;T++)y?Eb(fp(g[T])===y):y=fp(g[T])}else y=fp(g);if(h!==y)if(xS(h)&&xS(y)){const S=d.get();typeof S=="string"&&d.set(parseFloat(S)),typeof g=="string"?e[c]=parseFloat(g):Array.isArray(g)&&y===Ft&&(e[c]=g.map(parseFloat))}else h?.transform&&y?.transform&&(f===0||g===0)?f===0?d.set(y.transform(f)):e[c]=h.transform(g):(o||(s=aM(t),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:e[c],d.jump(g))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,d=lM(e,t,a);return s.length&&s.forEach(([f,h])=>{t.getValue(f).set(h)}),t.render(),Ty&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function uM(t,e,n,r){return iM(e)?cM(t,e,n,r):{target:e,transitionEnd:r}}const dM=(t,e,n,r)=>{const i=nM(t,e,r);return e=i.target,r=i.transitionEnd,uM(t,e,n,r)},G2={current:null},PP={current:!1};function fM(){if(PP.current=!0,!!Ty)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>G2.current=t.matches;t.addListener(e),e()}else G2.current=!1}function hM(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(lo(s))t.addValue(i,s),k0(r)&&r.add(i);else if(lo(o))t.addValue(i,Nh(s,{owner:t})),k0(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Nh(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const TS=new WeakMap,NP=Object.keys(tm),pM=NP.length,ES=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],mM=gb.length;class gM{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>rr.render(this.render,!1,!0);const{latestValues:a,renderState:c}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Ay(n),this.isVariantNode=hC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{});for(const h in f){const g=f[h];a[h]!==void 0&&lo(g)&&(g.set(a[h],!1),k0(d)&&d.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,TS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),PP.current||fM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:G2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TS.delete(this.current),this.projection&&this.projection.unmount(),Nc(this.notifyUpdate),Nc(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=wf.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&rr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let c=0;c<pM;c++){const d=NP[c],{isEnabled:f,Feature:h,ProjectionNode:g,MeasureLayout:y}=tm[d];g&&(o=g),f(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:f,dragConstraints:h,layoutScroll:g,layoutRoot:y}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!f||h&&uh(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ES.length;r++){const i=ES[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=hM(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<mM;r++){const i=gb[r],s=this.props[i];(em(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Nh(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Tb(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!lo(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Db),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class IP extends gM{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=LO(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){kO(this,r,o);const a=dM(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function yM(t){return window.getComputedStyle(t)}class vM extends IP{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(wf.has(n)){const r=Nb(n);return r&&r.default||0}else{const r=yM(e),i=(yC(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yP(e,n)}build(e,n,r,i){wb(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Sb(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lo(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){SC(e,n,r,i)}}class wM extends IP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wf.has(n)){const r=Nb(n);return r&&r.default||0}return n=TC.has(n)?n:pb(n),e.getAttribute(n)}measureInstanceViewportBox(){return Jr()}scrapeMotionValuesFromProps(e,n){return AC(e,n)}build(e,n,r,i){xb(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){EC(e,n,r,i)}mount(e){this.isSVGTag=_b(e.tagName),super.mount(e)}}const bM=(t,e)=>vb(t)?new wM(e,{enableHardwareAcceleration:!1}):new vM(e,{enableHardwareAcceleration:!0}),xM={layout:{ProjectionNode:AP,MeasureLayout:wP}},_M={...KO,...pD,...Zj,...xM},Sn=SL((t,e)=>tD(t,e,_M,bM));function kP(){const t=$.useRef(!1);return hb(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function SM(){const t=kP(),[e,n]=$.useState(0),r=$.useCallback(()=>{t.current&&n(e+1)},[e]);return[$.useCallback(()=>rr.postRender(r),[r]),e]}class TM extends $.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function EM({children:t,isPresent:e}){const n=$.useId(),r=$.useRef(null),i=$.useRef({width:0,height:0,top:0,left:0});return $.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),$.createElement(TM,{isPresent:e,childRef:r,sizeRef:i},$.cloneElement(t,{ref:r}))}const N1=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=CC(AM),c=$.useId(),d=$.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:f=>{a.set(f,!0);for(const h of a.values())if(!h)return;r&&r()},register:f=>(a.set(f,!1),()=>a.delete(f))}),s?void 0:[n]);return $.useMemo(()=>{a.forEach((f,h)=>a.set(h,!1))},[n]),$.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=$.createElement(EM,{isPresent:n},t)),$.createElement(Sy.Provider,{value:d},t)};function AM(){return new Map}function CM(t){return $.useEffect(()=>()=>t(),[])}const Od=t=>t.key||"";function PM(t,e){t.forEach(n=>{const r=Od(n);e.set(r,n)})}function NM(t){const e=[];return $.Children.forEach(t,n=>{$.isValidElement(n)&&e.push(n)}),e}const Iy=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=$.useContext(yb).forceRender||SM()[0],c=kP(),d=NM(t);let f=d;const h=$.useRef(new Map).current,g=$.useRef(f),y=$.useRef(new Map).current,S=$.useRef(!0);if(hb(()=>{S.current=!1,PM(d,y),g.current=f}),CM(()=>{S.current=!0,y.clear(),h.clear()}),S.current)return $.createElement($.Fragment,null,f.map(C=>$.createElement(N1,{key:Od(C),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},C)));f=[...f];const _=g.current.map(Od),T=d.map(Od),E=_.length;for(let C=0;C<E;C++){const I=_[C];T.indexOf(I)===-1&&!h.has(I)&&h.set(I,void 0)}return o==="wait"&&h.size&&(f=[]),h.forEach((C,I)=>{if(T.indexOf(I)!==-1)return;const D=y.get(I);if(!D)return;const K=_.indexOf(I);let ae=C;if(!ae){const F=()=>{h.delete(I);const L=Array.from(y.keys()).filter(B=>!T.includes(B));if(L.forEach(B=>y.delete(B)),g.current=d.filter(B=>{const H=Od(B);return H===I||L.includes(H)}),!h.size){if(c.current===!1)return;a(),r&&r()}};ae=$.createElement(N1,{key:Od(D),isPresent:!1,onExitComplete:F,custom:e,presenceAffectsLayout:s,mode:o},D),h.set(I,ae)}f.splice(K,0,ae)}),f=f.map(C=>{const I=C.key;return h.has(I)?C:$.createElement(N1,{key:Od(C),isPresent:!0,presenceAffectsLayout:s,mode:o},C)}),$.createElement($.Fragment,null,h.size?f:f.map(C=>$.cloneElement(C)))};var IM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zt=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...c},d)=>$.createElement("svg",{ref:d,...IM,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${kM(t)}`,...c},[...e.map(([f,h])=>$.createElement(f,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},RM=Zt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),RP=Zt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),LM=Zt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),DM=Zt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),OM=Zt("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),LP=Zt("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]),jM=Zt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ob=Zt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),MM=Zt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),FM=Zt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),VM=Zt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),BM=Zt("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]),Cm=Zt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),UM=Zt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),zM=Zt("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),qM=Zt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),WM=Zt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),$M=Zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),HM=Zt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),GM=Zt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),KM=Zt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),YM=Zt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),XM=Zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),QM=Zt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),JM=Zt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),ZM=Zt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),DP=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),AS=Zt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),e8=Zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),t8=Zt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),n8=Zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),CS=Zt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Nl=Zt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),L0=Zt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Pm=Zt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),jb=Zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),r8=Zt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),i8=Zt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),ky=Zt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Mb=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),s8=Zt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function OP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=OP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ac(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=OP(t))&&(r&&(r+=" "),r+=e);return r}function o8(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=jP(e))&&(r&&(r+=" "),r+=n);return r}function jP(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=jP(t[r]))&&(n&&(n+=" "),n+=e);return n}var Fb="-";function a8(t){var e=c8(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var c=a.split(Fb);return c[0]===""&&c.length!==1&&c.shift(),MP(c,e)||l8(a)}function o(a,c){var d=n[a]||[];return c&&i[a]?[].concat(d,i[a]):d}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function MP(t,e){if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?MP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(Fb);return e.validators.find(function(o){var a=o.validator;return a(s)})?.classGroupId}}var PS=/^\[(.+)\]$/;function l8(t){if(PS.test(t)){var e=PS.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function c8(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=d8(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];K2(a,r,o,e)}),r}function K2(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:NS(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(u8(i)){K2(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],c=o[1];K2(c,NS(e,a),n,r)})})}function NS(t,e){var n=t;return e.split(Fb).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function u8(t){return t.isThemeGetter}function d8(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],d=a[1];return[e+c,d]})):o});return[r,s]}):t}function f8(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var FP="!";function h8(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],c=0,d=0,f,h=0;h<o.length;h++){var g=o[h];if(c===0){if(g===r&&(n||o.slice(h,h+i)===e)){a.push(o.slice(d,h)),d=h+i;continue}if(g==="/"){f=h;continue}}g==="["?c++:g==="]"&&c--}var y=a.length===0?o:o.substring(d),S=y.startsWith(FP),_=S?y.substring(1):y,T=f&&f>d?f-d:void 0;return{modifiers:a,hasImportantModifier:S,baseClassName:_,maybePostfixModifierPosition:T}}}function p8(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function m8(t){return{cache:f8(t.cacheSize),splitModifiers:h8(t),...a8(t)}}var g8=/\s+/;function y8(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(g8).map(function(o){var a=n(o),c=a.modifiers,d=a.hasImportantModifier,f=a.baseClassName,h=a.maybePostfixModifierPosition,g=r(h?f.substring(0,h):f),y=!!h;if(!g){if(!h)return{isTailwindClass:!1,originalClassName:o};if(g=r(f),!g)return{isTailwindClass:!1,originalClassName:o};y=!1}var S=p8(c).join(":"),_=d?S+FP:S;return{isTailwindClass:!0,modifierId:_,classGroupId:g,originalClassName:o,hasPostfixModifier:y}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,d=o.hasPostfixModifier,f=a+c;return s.has(f)?!1:(s.add(f),i(c,d).forEach(function(h){return s.add(a+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function v8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(d){var f=e[0],h=e.slice(1),g=h.reduce(function(y,S){return S(y)},f());return r=m8(g),i=r.cache.get,s=r.cache.set,o=c,c(d)}function c(d){var f=i(d);if(f)return f;var h=y8(d,r);return s(d,h),h}return function(){return o(o8.apply(null,arguments))}}function cr(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var VP=/^\[(?:([a-z-]+):)?(.+)\]$/i,w8=/^\d+\/\d+$/,b8=new Set(["px","full","screen"]),x8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S8=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Ua(t){return Wd(t)||b8.has(t)||w8.test(t)||Y2(t)}function Y2(t){return xf(t,"length",N8)}function T8(t){return xf(t,"size",BP)}function E8(t){return xf(t,"position",BP)}function A8(t){return xf(t,"url",I8)}function jg(t){return xf(t,"number",Wd)}function Wd(t){return!Number.isNaN(Number(t))}function C8(t){return t.endsWith("%")&&Wd(t.slice(0,-1))}function pp(t){return IS(t)||xf(t,"number",IS)}function un(t){return VP.test(t)}function mp(){return!0}function Pu(t){return x8.test(t)}function P8(t){return xf(t,"",k8)}function xf(t,e,n){var r=VP.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function N8(t){return _8.test(t)}function BP(){return!1}function I8(t){return t.startsWith("url(")}function IS(t){return Number.isInteger(Number(t))}function k8(t){return S8.test(t)}function R8(){var t=cr("colors"),e=cr("spacing"),n=cr("blur"),r=cr("brightness"),i=cr("borderColor"),s=cr("borderRadius"),o=cr("borderSpacing"),a=cr("borderWidth"),c=cr("contrast"),d=cr("grayscale"),f=cr("hueRotate"),h=cr("invert"),g=cr("gap"),y=cr("gradientColorStops"),S=cr("gradientColorStopPositions"),_=cr("inset"),T=cr("margin"),E=cr("opacity"),C=cr("padding"),I=cr("saturate"),D=cr("scale"),K=cr("sepia"),ae=cr("skew"),F=cr("space"),L=cr("translate"),B=function(){return["auto","contain","none"]},H=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",un,e]},j=function(){return[un,e]},z=function(){return["",Ua]},oe=function(){return["auto",Wd,un]},de=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},se=function(){return["solid","dashed","dotted","double","none"]},le=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},re=function(){return["start","end","center","between","around","evenly","stretch"]},pe=function(){return["","0",un]},Z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},q=function(){return[Wd,jg]},V=function(){return[Wd,un]};return{cacheSize:500,theme:{colors:[mp],spacing:[Ua],blur:["none","",Pu,un],brightness:q(),borderColor:[t],borderRadius:["none","","full",Pu,un],borderSpacing:j(),borderWidth:z(),contrast:q(),grayscale:pe(),hueRotate:V(),invert:pe(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[C8,Y2],inset:k(),margin:k(),opacity:q(),padding:j(),saturate:q(),scale:q(),sepia:pe(),skew:V(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",un]}],container:["container"],columns:[{columns:[Pu]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(de(),[un])}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pp]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",un]}],grow:[{grow:pe()}],shrink:[{shrink:pe()}],order:[{order:["first","last","none",pp]}],"grid-cols":[{"grid-cols":[mp]}],"col-start-end":[{col:["auto",{span:["full",pp]},un]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[mp]}],"row-start-end":[{row:["auto",{span:[pp]},un]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",un]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",un]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal"].concat(re())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(re(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(re(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",un,e]}],"min-w":[{"min-w":["min","max","fit",un,Ua]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Pu]},Pu,un]}],h:[{h:[un,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",un,Ua]}],"max-h":[{"max-h":[un,e,"min","max","fit"]}],"font-size":[{text:["base",Pu,Y2]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jg]}],"font-family":[{font:[mp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",un]}],"line-clamp":[{"line-clamp":["none",Wd,jg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",un,Ua]}],"list-image":[{"list-image":["none",un]}],"list-style-type":[{list:["none","disc","decimal",un]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(se(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Ua]}],"underline-offset":[{"underline-offset":["auto",un,Ua]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",un]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",un]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(de(),[E8])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},A8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[].concat(se(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(se())}],"outline-offset":[{"outline-offset":[un,Ua]}],"outline-w":[{outline:[Ua]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ua]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pu,P8]}],"shadow-color":[{shadow:[mp]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":le()}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pu,un]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[I]}],sepia:[{sepia:[K]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[K]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",un]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",un]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",un]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[pp,un]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[ae]}],"skew-y":[{"skew-y":[ae]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",un]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",un]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",un]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ua,jg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var L8=v8(R8),Vb={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var Z=new OffscreenCanvas(1,1),q=Z.getContext("2d");q.fillRect(0,0,1,1);var V=Z.transferToImageBitmap();try{q.createPattern(V,"no-repeat")}catch{return!1}return!0}();function c(){}function d(Z){var q=n.exports.Promise,V=q!==void 0?q:e.Promise;return typeof V=="function"?new V(Z):(Z(c,c),null)}var f=function(Z,q){return{transform:function(V){if(Z)return V;if(q.has(V))return q.get(V);var W=new OffscreenCanvas(V.width,V.height),ee=W.getContext("2d");return ee.drawImage(V,0,0),q.set(V,W),W},clear:function(){q.clear()}}}(a,new Map),h=function(){var Z=Math.floor(16.666666666666668),q,V,W={},ee=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(q=function(ce){var fe=Math.random();return W[fe]=requestAnimationFrame(function ye(we){ee===we||ee+Z-1<we?(ee=we,delete W[fe],ce()):W[fe]=requestAnimationFrame(ye)}),fe},V=function(ce){W[ce]&&cancelAnimationFrame(W[ce])}):(q=function(ce){return setTimeout(ce,Z)},V=function(ce){return clearTimeout(ce)}),{frame:q,cancel:V}}(),g=function(){var Z,q,V={};function W(ee){function ce(fe,ye){ee.postMessage({options:fe||{},callback:ye})}ee.init=function(ye){var we=ye.transferControlToOffscreen();ee.postMessage({canvas:we},[we])},ee.fire=function(ye,we,Te){if(q)return ce(ye,null),q;var Ve=Math.random().toString(36).slice(2);return q=d(function(Fe){function Ye(Qe){Qe.data.callback===Ve&&(delete V[Ve],ee.removeEventListener("message",Ye),q=null,f.clear(),Te(),Fe())}ee.addEventListener("message",Ye),ce(ye,Ve),V[Ve]=Ye.bind(null,{data:{callback:Ve}})}),q},ee.reset=function(){ee.postMessage({reset:!0});for(var ye in V)V[ye](),delete V[ye]}}return function(){if(Z)return Z;if(!r&&s){var ee=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Z=new Worker(URL.createObjectURL(new Blob([ee])))}catch(ce){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",ce),null}W(Z)}return Z}}(),y={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(Z,q){return q?q(Z):Z}function _(Z){return Z!=null}function T(Z,q,V){return S(Z&&_(Z[q])?Z[q]:y[q],V)}function E(Z){return Z<0?0:Math.floor(Z)}function C(Z,q){return Math.floor(Math.random()*(q-Z))+Z}function I(Z){return parseInt(Z,16)}function D(Z){return Z.map(K)}function K(Z){var q=String(Z).replace(/[^0-9a-f]/gi,"");return q.length<6&&(q=q[0]+q[0]+q[1]+q[1]+q[2]+q[2]),{r:I(q.substring(0,2)),g:I(q.substring(2,4)),b:I(q.substring(4,6))}}function ae(Z){var q=T(Z,"origin",Object);return q.x=T(q,"x",Number),q.y=T(q,"y",Number),q}function F(Z){Z.width=document.documentElement.clientWidth,Z.height=document.documentElement.clientHeight}function L(Z){var q=Z.getBoundingClientRect();Z.width=q.width,Z.height=q.height}function B(Z){var q=document.createElement("canvas");return q.style.position="fixed",q.style.top="0px",q.style.left="0px",q.style.pointerEvents="none",q.style.zIndex=Z,q}function H(Z,q,V,W,ee,ce,fe,ye,we){Z.save(),Z.translate(q,V),Z.rotate(ce),Z.scale(W,ee),Z.arc(0,0,1,fe,ye,we),Z.restore()}function k(Z){var q=Z.angle*(Math.PI/180),V=Z.spread*(Math.PI/180);return{x:Z.x,y:Z.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Z.startVelocity*.5+Math.random()*Z.startVelocity,angle2D:-q+(.5*V-Math.random()*V),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Z.color,shape:Z.shape,tick:0,totalTicks:Z.ticks,decay:Z.decay,drift:Z.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Z.gravity*3,ovalScalar:.6,scalar:Z.scalar,flat:Z.flat}}function j(Z,q){q.x+=Math.cos(q.angle2D)*q.velocity+q.drift,q.y+=Math.sin(q.angle2D)*q.velocity+q.gravity,q.velocity*=q.decay,q.flat?(q.wobble=0,q.wobbleX=q.x+10*q.scalar,q.wobbleY=q.y+10*q.scalar,q.tiltSin=0,q.tiltCos=0,q.random=1):(q.wobble+=q.wobbleSpeed,q.wobbleX=q.x+10*q.scalar*Math.cos(q.wobble),q.wobbleY=q.y+10*q.scalar*Math.sin(q.wobble),q.tiltAngle+=.1,q.tiltSin=Math.sin(q.tiltAngle),q.tiltCos=Math.cos(q.tiltAngle),q.random=Math.random()+2);var V=q.tick++/q.totalTicks,W=q.x+q.random*q.tiltCos,ee=q.y+q.random*q.tiltSin,ce=q.wobbleX+q.random*q.tiltCos,fe=q.wobbleY+q.random*q.tiltSin;if(Z.fillStyle="rgba("+q.color.r+", "+q.color.g+", "+q.color.b+", "+(1-V)+")",Z.beginPath(),o&&q.shape.type==="path"&&typeof q.shape.path=="string"&&Array.isArray(q.shape.matrix))Z.fill(le(q.shape.path,q.shape.matrix,q.x,q.y,Math.abs(ce-W)*.1,Math.abs(fe-ee)*.1,Math.PI/10*q.wobble));else if(q.shape.type==="bitmap"){var ye=Math.PI/10*q.wobble,we=Math.abs(ce-W)*.1,Te=Math.abs(fe-ee)*.1,Ve=q.shape.bitmap.width*q.scalar,Fe=q.shape.bitmap.height*q.scalar,Ye=new DOMMatrix([Math.cos(ye)*we,Math.sin(ye)*we,-Math.sin(ye)*Te,Math.cos(ye)*Te,q.x,q.y]);Ye.multiplySelf(new DOMMatrix(q.shape.matrix));var Qe=Z.createPattern(f.transform(q.shape.bitmap),"no-repeat");Qe.setTransform(Ye),Z.globalAlpha=1-V,Z.fillStyle=Qe,Z.fillRect(q.x-Ve/2,q.y-Fe/2,Ve,Fe),Z.globalAlpha=1}else if(q.shape==="circle")Z.ellipse?Z.ellipse(q.x,q.y,Math.abs(ce-W)*q.ovalScalar,Math.abs(fe-ee)*q.ovalScalar,Math.PI/10*q.wobble,0,2*Math.PI):H(Z,q.x,q.y,Math.abs(ce-W)*q.ovalScalar,Math.abs(fe-ee)*q.ovalScalar,Math.PI/10*q.wobble,0,2*Math.PI);else if(q.shape==="star")for(var nt=Math.PI/2*3,De=4*q.scalar,me=8*q.scalar,_t=q.x,ft=q.y,Ge=5,et=Math.PI/Ge;Ge--;)_t=q.x+Math.cos(nt)*me,ft=q.y+Math.sin(nt)*me,Z.lineTo(_t,ft),nt+=et,_t=q.x+Math.cos(nt)*De,ft=q.y+Math.sin(nt)*De,Z.lineTo(_t,ft),nt+=et;else Z.moveTo(Math.floor(q.x),Math.floor(q.y)),Z.lineTo(Math.floor(q.wobbleX),Math.floor(ee)),Z.lineTo(Math.floor(ce),Math.floor(fe)),Z.lineTo(Math.floor(W),Math.floor(q.wobbleY));return Z.closePath(),Z.fill(),q.tick<q.totalTicks}function z(Z,q,V,W,ee){var ce=q.slice(),fe=Z.getContext("2d"),ye,we,Te=d(function(Ve){function Fe(){ye=we=null,fe.clearRect(0,0,W.width,W.height),f.clear(),ee(),Ve()}function Ye(){r&&!(W.width===i.width&&W.height===i.height)&&(W.width=Z.width=i.width,W.height=Z.height=i.height),!W.width&&!W.height&&(V(Z),W.width=Z.width,W.height=Z.height),fe.clearRect(0,0,W.width,W.height),ce=ce.filter(function(Qe){return j(fe,Qe)}),ce.length?ye=h.frame(Ye):Fe()}ye=h.frame(Ye),we=Fe});return{addFettis:function(Ve){return ce=ce.concat(Ve),Te},canvas:Z,promise:Te,reset:function(){ye&&h.cancel(ye),we&&we()}}}function oe(Z,q){var V=!Z,W=!!T(q||{},"resize"),ee=!1,ce=T(q,"disableForReducedMotion",Boolean),fe=s&&!!T(q||{},"useWorker"),ye=fe?g():null,we=V?F:L,Te=Z&&ye?!!Z.__confetti_initialized:!1,Ve=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Fe;function Ye(nt,De,me){for(var _t=T(nt,"particleCount",E),ft=T(nt,"angle",Number),Ge=T(nt,"spread",Number),et=T(nt,"startVelocity",Number),st=T(nt,"decay",Number),at=T(nt,"gravity",Number),vt=T(nt,"drift",Number),It=T(nt,"colors",D),jt=T(nt,"ticks",Number),St=T(nt,"shapes"),Pt=T(nt,"scalar"),en=!!T(nt,"flat"),At=ae(nt),Mt=_t,ot=[],er=Z.width*At.x,tn=Z.height*At.y;Mt--;)ot.push(k({x:er,y:tn,angle:ft,spread:Ge,startVelocity:et,color:It[Mt%It.length],shape:St[C(0,St.length)],ticks:jt,decay:st,gravity:at,drift:vt,scalar:Pt,flat:en}));return Fe?Fe.addFettis(ot):(Fe=z(Z,ot,we,De,me),Fe.promise)}function Qe(nt){var De=ce||T(nt,"disableForReducedMotion",Boolean),me=T(nt,"zIndex",Number);if(De&&Ve)return d(function(et){et()});V&&Fe?Z=Fe.canvas:V&&!Z&&(Z=B(me),document.body.appendChild(Z)),W&&!Te&&we(Z);var _t={width:Z.width,height:Z.height};ye&&!Te&&ye.init(Z),Te=!0,ye&&(Z.__confetti_initialized=!0);function ft(){if(ye){var et={getBoundingClientRect:function(){if(!V)return Z.getBoundingClientRect()}};we(et),ye.postMessage({resize:{width:et.width,height:et.height}});return}_t.width=_t.height=null}function Ge(){Fe=null,W&&(ee=!1,e.removeEventListener("resize",ft)),V&&Z&&(document.body.contains(Z)&&document.body.removeChild(Z),Z=null,Te=!1)}return W&&!ee&&(ee=!0,e.addEventListener("resize",ft,!1)),ye?ye.fire(nt,_t,Ge):Ye(nt,_t,Ge)}return Qe.reset=function(){ye&&ye.reset(),Fe&&Fe.reset()},Qe}var de;function se(){return de||(de=oe(null,{useWorker:!0,resize:!0})),de}function le(Z,q,V,W,ee,ce,fe){var ye=new Path2D(Z),we=new Path2D;we.addPath(ye,new DOMMatrix(q));var Te=new Path2D;return Te.addPath(we,new DOMMatrix([Math.cos(fe)*ee,Math.sin(fe)*ee,-Math.sin(fe)*ce,Math.cos(fe)*ce,V,W])),Te}function re(Z){if(!o)throw new Error("path confetti are not supported in this browser");var q,V;typeof Z=="string"?q=Z:(q=Z.path,V=Z.matrix);var W=new Path2D(q),ee=document.createElement("canvas"),ce=ee.getContext("2d");if(!V){for(var fe=1e3,ye=fe,we=fe,Te=0,Ve=0,Fe,Ye,Qe=0;Qe<fe;Qe+=2)for(var nt=0;nt<fe;nt+=2)ce.isPointInPath(W,Qe,nt,"nonzero")&&(ye=Math.min(ye,Qe),we=Math.min(we,nt),Te=Math.max(Te,Qe),Ve=Math.max(Ve,nt));Fe=Te-ye,Ye=Ve-we;var De=10,me=Math.min(De/Fe,De/Ye);V=[me,0,0,me,-Math.round(Fe/2+ye)*me,-Math.round(Ye/2+we)*me]}return{type:"path",path:q,matrix:V}}function pe(Z){var q,V=1,W="#000000",ee='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Z=="string"?q=Z:(q=Z.text,V="scalar"in Z?Z.scalar:V,ee="fontFamily"in Z?Z.fontFamily:ee,W="color"in Z?Z.color:W);var ce=10*V,fe=""+ce+"px "+ee,ye=new OffscreenCanvas(ce,ce),we=ye.getContext("2d");we.font=fe;var Te=we.measureText(q),Ve=Math.ceil(Te.actualBoundingBoxRight+Te.actualBoundingBoxLeft),Fe=Math.ceil(Te.actualBoundingBoxAscent+Te.actualBoundingBoxDescent),Ye=2,Qe=Te.actualBoundingBoxLeft+Ye,nt=Te.actualBoundingBoxAscent+Ye;Ve+=Ye+Ye,Fe+=Ye+Ye,ye=new OffscreenCanvas(Ve,Fe),we=ye.getContext("2d"),we.font=fe,we.fillStyle=W,we.fillText(q,Qe,nt);var De=1/V;return{type:"bitmap",bitmap:ye.transferToImageBitmap(),matrix:[De,0,0,De,-Ve*De/2,-Fe*De/2]}}n.exports=function(){return se().apply(this,arguments)},n.exports.reset=function(){se().reset()},n.exports.create=oe,n.exports.shapeFromPath=re,n.exports.shapeFromText=pe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Vb,!1);const rm=Vb.exports;Vb.exports.create;function zc(...t){return L8(Ac(t))}function D8(){rm({particleCount:80,spread:70,origin:{y:.72},zIndex:9999,angle:90,colors:["#8b5cf6","#6366f1","#f472b6","#34d399","#fbbf24","#fff"]})}function kS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function UP(...t){return e=>{let n=!1;const r=t.map(i=>{const s=kS(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():kS(t[i],null)}}}}function nf(...t){return $.useCallback(UP(...t),t)}function D0(t){const e=j8(t),n=$.forwardRef((r,i)=>{const{children:s,...o}=r,a=$.Children.toArray(s),c=a.find(F8);if(c){const d=c.props.children,f=a.map(h=>h===c?$.Children.count(d)>1?$.Children.only(null):$.isValidElement(d)?d.props.children:null:h);return w.jsx(e,{...o,ref:i,children:$.isValidElement(d)?$.cloneElement(d,void 0,f):null})}return w.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var O8=D0("Slot");function j8(t){const e=$.forwardRef((n,r)=>{const{children:i,...s}=n;if($.isValidElement(i)){const o=B8(i),a=V8(s,i.props);return i.type!==$.Fragment&&(a.ref=r?UP(r,o):o),$.cloneElement(i,a)}return $.Children.count(i)>1?$.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var M8=Symbol("radix.slottable");function F8(t){return $.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===M8}function V8(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function B8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const RS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,LS=Ac,Bb=(t,e)=>n=>{var r;if(e?.variants==null)return LS(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(d=>{const f=n?.[d],h=s?.[d];if(f===null)return null;const g=RS(f)||RS(h);return i[d][g]}),a=n&&Object.entries(n).reduce((d,f)=>{let[h,g]=f;return g===void 0||(d[h]=g),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:h,className:g,...y}=f;return Object.entries(y).every(S=>{let[_,T]=S;return Array.isArray(T)?T.includes({...s,...a}[_]):{...s,...a}[_]===T})?[...d,h,g]:d},[]);return LS(t,o,c,n?.class,n?.className)},U8=Bb("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ot=it.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?O8:"button";return w.jsx(o,{className:zc(U8({variant:e,size:n,className:t})),ref:s,...i})});Ot.displayName="Button";const z8=()=>{};var DS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},q8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,h=(s&3)<<4|a>>4;let g=(a&15)<<2|d>>6,y=d&63;c||(y=64,o||(g=64)),r.push(n[f],n[h],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||h==null)throw new W8;const g=s<<2|a>>4;if(r.push(g),d!==64){const y=a<<4&240|d>>2;if(r.push(y),h!==64){const S=d<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $8=function(t){const e=zP(t);return qP.encodeByteArray(e,!0)},O0=function(t){return $8(t).replace(/\./g,"")},WP=function(t){try{return qP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=()=>H8().__FIREBASE_DEFAULTS__,K8=()=>{if(typeof process>"u"||typeof DS>"u")return;const t=DS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WP(t[1]);return e&&JSON.parse(e)},Ry=()=>{try{return z8()||G8()||K8()||Y8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$P=t=>Ry()?.emulatorHosts?.[t],HP=t=>{const e=$P(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GP=()=>Ry()?.config,KP=t=>Ry()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ub(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[O0(JSON.stringify(n)),O0(JSON.stringify(o)),""].join(".")}const qp={};function Q8(){const t={prod:[],emulator:[]};for(const e of Object.keys(qp))qp[e]?t.emulator.push(e):t.prod.push(e);return t}function J8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let OS=!1;function zb(t,e){if(typeof window>"u"||typeof document>"u"||!ad(window.location.host)||qp[t]===e||qp[t]||OS)return;qp[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=Q8().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{OS=!0,o()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function h(){const g=J8(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),_=n("learnmore"),T=document.getElementById(_)||document.createElement("a"),E=n("preprendIcon"),C=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const I=g.element;a(I),f(T,_);const D=d();c(C,E),I.append(C,S,T,D),document.body.appendChild(I)}s?(S.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ps())}function e7(){const t=Ry()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i7(){const t=ps();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s7(){return!e7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o7(){try{return typeof indexedDB=="object"}catch{return!1}}function a7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7="FirebaseError";class Bl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=l7,Object.setPrototypeOf(this,Bl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nm.prototype.create)}}class Nm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?c7(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bl(i,a,r)}}function c7(t,e){return t.replace(u7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const u7=/\{\$([^}]+)}/g;function d7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(jS(s)&&jS(o)){if(!rf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rp(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function f7(t,e){const n=new h7(t,e);return n.subscribe.bind(n)}class h7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");p7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=I1),i.error===void 0&&(i.error=I1),i.complete===void 0&&(i.complete=I1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function I1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){return t&&t._delegate?t._delegate:t}class Qu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y7(e))try{this.getOrInitializeService({instanceIdentifier:jd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jd){return this.instances.has(e)}getOptions(e=jd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:g7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jd){return this.component?this.component.multipleInstances?e:jd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function g7(t){return t===jd?void 0:t}function y7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dn||(dn={}));const w7={debug:dn.DEBUG,verbose:dn.VERBOSE,info:dn.INFO,warn:dn.WARN,error:dn.ERROR,silent:dn.SILENT},b7=dn.INFO,x7={[dn.DEBUG]:"log",[dn.VERBOSE]:"log",[dn.INFO]:"info",[dn.WARN]:"warn",[dn.ERROR]:"error"},_7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=x7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qb{constructor(e){this.name=e,this._logLevel=b7,this._logHandler=_7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dn.DEBUG,...e),this._logHandler(this,dn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dn.VERBOSE,...e),this._logHandler(this,dn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dn.INFO,...e),this._logHandler(this,dn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dn.WARN,...e),this._logHandler(this,dn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dn.ERROR,...e),this._logHandler(this,dn.ERROR,...e)}}const S7=(t,e)=>e.some(n=>t instanceof n);let MS,FS;function T7(){return MS||(MS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E7(){return FS||(FS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XP=new WeakMap,X2=new WeakMap,QP=new WeakMap,k1=new WeakMap,Wb=new WeakMap;function A7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($u(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XP.set(n,t)}).catch(()=>{}),Wb.set(e,t),e}function C7(t){if(X2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});X2.set(t,e)}let Q2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return X2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $u(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P7(t){Q2=t(Q2)}function N7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(R1(this),e,...n);return QP.set(r,e.sort?e.sort():[e]),$u(r)}:E7().includes(t)?function(...e){return t.apply(R1(this),e),$u(XP.get(this))}:function(...e){return $u(t.apply(R1(this),e))}}function I7(t){return typeof t=="function"?N7(t):(t instanceof IDBTransaction&&C7(t),S7(t,T7())?new Proxy(t,Q2):t)}function $u(t){if(t instanceof IDBRequest)return A7(t);if(k1.has(t))return k1.get(t);const e=I7(t);return e!==t&&(k1.set(t,e),Wb.set(e,t)),e}const R1=t=>Wb.get(t);function k7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$u(o);return r&&o.addEventListener("upgradeneeded",c=>{r($u(o.result),c.oldVersion,c.newVersion,$u(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const R7=["get","getKey","getAll","getAllKeys","count"],L7=["put","add","delete","clear"],L1=new Map;function VS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(L1.get(e))return L1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R7.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),i&&c.done]))[0]};return L1.set(e,s),s}P7(t=>({...t,get:(e,n,r)=>VS(e,n)||t.get(e,n,r),has:(e,n)=>!!VS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O7(t){return t.getComponent()?.type==="VERSION"}const J2="@firebase/app",BS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new qb("@firebase/app"),j7="@firebase/app-compat",M7="@firebase/analytics-compat",F7="@firebase/analytics",V7="@firebase/app-check-compat",B7="@firebase/app-check",U7="@firebase/auth",z7="@firebase/auth-compat",q7="@firebase/database",W7="@firebase/data-connect",$7="@firebase/database-compat",H7="@firebase/functions",G7="@firebase/functions-compat",K7="@firebase/installations",Y7="@firebase/installations-compat",X7="@firebase/messaging",Q7="@firebase/messaging-compat",J7="@firebase/performance",Z7="@firebase/performance-compat",eF="@firebase/remote-config",tF="@firebase/remote-config-compat",nF="@firebase/storage",rF="@firebase/storage-compat",iF="@firebase/firestore",sF="@firebase/ai",oF="@firebase/firestore-compat",aF="firebase",lF="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="[DEFAULT]",cF={[J2]:"fire-core",[j7]:"fire-core-compat",[F7]:"fire-analytics",[M7]:"fire-analytics-compat",[B7]:"fire-app-check",[V7]:"fire-app-check-compat",[U7]:"fire-auth",[z7]:"fire-auth-compat",[q7]:"fire-rtdb",[W7]:"fire-data-connect",[$7]:"fire-rtdb-compat",[H7]:"fire-fn",[G7]:"fire-fn-compat",[K7]:"fire-iid",[Y7]:"fire-iid-compat",[X7]:"fire-fcm",[Q7]:"fire-fcm-compat",[J7]:"fire-perf",[Z7]:"fire-perf-compat",[eF]:"fire-rc",[tF]:"fire-rc-compat",[nF]:"fire-gcs",[rF]:"fire-gcs-compat",[iF]:"fire-fst",[oF]:"fire-fst-compat",[sF]:"fire-vertex","fire-js":"fire-js",[aF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map,uF=new Map,ew=new Map;function US(t,e){try{t.container.addComponent(e)}catch(n){Ic.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sf(t){const e=t.name;if(ew.has(e))return Ic.debug(`There were multiple attempts to register component ${e}.`),!1;ew.set(e,t);for(const n of j0.values())US(n,t);for(const n of uF.values())US(n,t);return!0}function Ly(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ls(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hu=new Nm("app","Firebase",dF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=lF;function JP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Z2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Hu.create("bad-app-name",{appName:String(i)});if(n||(n=GP()),!n)throw Hu.create("no-options");const s=j0.get(i);if(s){if(rf(n,s.options)&&rf(r,s.config))return s;throw Hu.create("duplicate-app",{appName:i})}const o=new v7(i);for(const c of ew.values())o.addComponent(c);const a=new fF(n,r,o);return j0.set(i,a),a}function $b(t=Z2){const e=j0.get(t);if(!e&&t===Z2&&GP())return JP();if(!e)throw Hu.create("no-app",{appName:t});return e}function Il(t,e,n){let r=cF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ic.warn(o.join(" "));return}sf(new Qu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="firebase-heartbeat-database",pF=1,im="firebase-heartbeat-store";let D1=null;function ZP(){return D1||(D1=k7(hF,pF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(im)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hu.create("idb-open",{originalErrorMessage:t.message})})),D1}async function mF(t){try{const n=(await ZP()).transaction(im),r=await n.objectStore(im).get(e4(t));return await n.done,r}catch(e){if(e instanceof Bl)Ic.warn(e.message);else{const n=Hu.create("idb-get",{originalErrorMessage:e?.message});Ic.warn(n.message)}}}async function zS(t,e){try{const r=(await ZP()).transaction(im,"readwrite");await r.objectStore(im).put(e,e4(t)),await r.done}catch(n){if(n instanceof Bl)Ic.warn(n.message);else{const r=Hu.create("idb-set",{originalErrorMessage:n?.message});Ic.warn(r.message)}}}function e4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=1024,yF=30;class vF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>yF){const i=xF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ic.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qS(),{heartbeatsToSend:n,unsentEntries:r}=wF(this._heartbeatsCache.heartbeats),i=O0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ic.warn(e),""}}}function qS(){return new Date().toISOString().substring(0,10)}function wF(t,e=gF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),WS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o7()?a7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function WS(t){return O0(JSON.stringify({version:2,heartbeats:t})).length}function xF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){sf(new Qu("platform-logger",e=>new D7(e),"PRIVATE")),sf(new Qu("heartbeat",e=>new vF(e),"PRIVATE")),Il(J2,BS,t),Il(J2,BS,"esm2020"),Il("fire-js","")}_F("");var SF="firebase",TF="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Il(SF,TF,"app");function t4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EF=t4,n4=new Nm("auth","Firebase",t4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new qb("@firebase/auth");function AF(t,...e){M0.logLevel<=dn.WARN&&M0.warn(`Auth (${_f}): ${t}`,...e)}function s0(t,...e){M0.logLevel<=dn.ERROR&&M0.error(`Auth (${_f}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t,...e){throw Gb(t,...e)}function Ya(t,...e){return Gb(t,...e)}function Hb(t,e,n){const r={...EF(),[e]:n};return new Nm("auth","Firebase",r).create(e,{appName:t.name})}function kl(t){return Hb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fa(t,"argument-error"),Hb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n4.create(t,...e)}function Bt(t,e,...n){if(!t)throw Gb(e,...n)}function bc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw s0(e),new Error(e)}function kc(t,e){t||bc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof self<"u"&&self.location?.href||""}function i4(){return $S()==="http:"||$S()==="https:"}function $S(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i4()||n7()||"connection"in navigator)?navigator.onLine:!0}function PF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.shortDelay=e,this.longDelay=n,kc(n>e,"Short delay should be less than long delay!"),this.isMobile=Z8()||r7()}get(){return CF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t,e){kc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kF=new km(3e4,6e4);function qc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wc(t,e,n,r,i={}){return o4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Im({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return t7()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ad(t.emulatorConfig.host)&&(d.credentials="include"),s4.fetch()(await a4(t,t.config.apiHost,n,a),d)})}async function o4(t,e,n){t._canInitEmulator=!1;const r={...NF,...e};try{const i=new LF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Mg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mg(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Mg(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Mg(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Hb(t,f,d);fa(t,f)}}catch(i){if(i instanceof Bl)throw i;fa(t,"network-request-failed",{message:String(i)})}}async function Rm(t,e,n,r,i={}){const s=await Wc(t,e,n,r,i);return"mfaPendingCredential"in s&&fa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function a4(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Kb(t.config,i):`${t.config.apiScheme}://${i}`;return IF.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function RF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ya(this.auth,"network-request-failed")),kF.get())})}}function Mg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ya(t,e,r);return i.customData._tokenResponse=n,i}function HS(t){return t!==void 0&&t.enterprise!==void 0}class DF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OF(t,e){return Wc(t,"GET","/v2/recaptchaConfig",qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t,e){return Wc(t,"POST","/v1/accounts:delete",e)}async function V0(t,e){return Wc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MF(t,e=!1){const n=br(t),r=await n.getIdToken(e),i=Yb(r);Bt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Wp(O1(i.auth_time)),issuedAtTime:Wp(O1(i.iat)),expirationTime:Wp(O1(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function O1(t){return Number(t)*1e3}function Yb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return s0("JWT malformed, contained fewer than 3 sections"),null;try{const i=WP(n);return i?JSON.parse(i):(s0("Failed to decode base64 JWT payload"),null)}catch(i){return s0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function GS(t){const e=Yb(t);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bl&&FF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wp(this.lastLoginAt),this.creationTime=Wp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B0(t){const e=t.auth,n=await t.getIdToken(),r=await sm(t,V0(e,{idToken:n}));Bt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?l4(i.providerUserInfo):[],o=UF(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,d=a?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function BF(t){const e=br(t);await B0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e){const n=await o4(t,{},async()=>{const r=Im({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await a4(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&ad(t.emulatorConfig.host)&&(c.credentials="include"),s4.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qF(t,e){return Wc(t,"POST","/v2/accounts:revokeToken",qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Bt(e.length!==0,"internal-error");const n=GS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await zF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new mh;return r&&(Bt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Bt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Bt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mh,this.toJSON())}_performRefresh(){return bc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e){Bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $a{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new VF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await sm(this,this.stsTokenManager.getToken(this.auth,e));return Bt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MF(this,e)}reload(){return BF(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $a({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await B0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject(kl(this.auth));const e=await this.getIdToken();return await sm(this,jF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:g,isAnonymous:y,providerData:S,stsTokenManager:_}=n;Bt(h&&_,e,"internal-error");const T=mh.fromJSON(this.name,_);Bt(typeof h=="string",e,"internal-error"),Nu(r,e.name),Nu(i,e.name),Bt(typeof g=="boolean",e,"internal-error"),Bt(typeof y=="boolean",e,"internal-error"),Nu(s,e.name),Nu(o,e.name),Nu(a,e.name),Nu(c,e.name),Nu(d,e.name),Nu(f,e.name);const E=new $a({uid:h,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:T,createdAt:d,lastLoginAt:f});return S&&Array.isArray(S)&&(E.providerData=S.map(C=>({...C}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new mh;i.updateFromServerResponse(n);const s=new $a({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await B0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Bt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?l4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new mh;a.updateFromIdToken(r);const c=new $a({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Map;function xc(t){kc(t instanceof Function,"Expected a class definition");let e=KS.get(t);return e?(kc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c4.type="NONE";const YS=c4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e,n){return`firebase:${t}:${e}:${n}`}class gh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=o0(this.userKey,i.apiKey,s),this.fullPersistenceKey=o0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await V0(this.auth,{idToken:e}).catch(()=>{});return n?$a._fromGetAccountInfoResponse(this.auth,n,e):null}return $a._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gh(xc(YS),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||xc(YS);const o=o0(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const f=await d._get(o);if(f){let h;if(typeof f=="string"){const g=await V0(e,{idToken:f}).catch(()=>{});if(!g)break;h=await $a._fromGetAccountInfoResponse(e,g,f)}else h=$a._fromJSON(e,f);d!==s&&(a=h),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new gh(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new gh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m4(e))return"Blackberry";if(g4(e))return"Webos";if(d4(e))return"Safari";if((e.includes("chrome/")||f4(e))&&!e.includes("edge/"))return"Chrome";if(p4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function u4(t=ps()){return/firefox\//i.test(t)}function d4(t=ps()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f4(t=ps()){return/crios\//i.test(t)}function h4(t=ps()){return/iemobile/i.test(t)}function p4(t=ps()){return/android/i.test(t)}function m4(t=ps()){return/blackberry/i.test(t)}function g4(t=ps()){return/webos/i.test(t)}function Xb(t=ps()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WF(t=ps()){return Xb(t)&&!!window.navigator?.standalone}function $F(){return i7()&&document.documentMode===10}function y4(t=ps()){return Xb(t)||p4(t)||g4(t)||m4(t)||/windows phone/i.test(t)||h4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e=[]){let n;switch(t){case"Browser":n=XS(ps());break;case"Worker":n=`${XS(ps())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_f}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e={}){return Wc(t,"GET","/v2/passwordPolicy",qc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=6;class YF{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QS(this),this.idTokenSubscription=new QS(this),this.beforeStateQueue=new HF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xc(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await V0(this,{idToken:e}),r=await $a._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ls(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await B0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ls(this.app))return Promise.reject(kl(this));const n=e?br(e):null;return n&&Bt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject(kl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ls(this.app)?Promise.reject(kl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GF(this),n=new YF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qF(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xc(e)||this._popupRedirectResolver;Bt(n,this,"argument-error"),this.redirectPersistenceManager=await gh.create(this,[xc(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=v4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AF(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ul(t){return br(t)}class QS{constructor(e){this.auth=e,this.observer=null,this.addObserver=f7(n=>this.observer=n)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QF(t){Dy=t}function w4(t){return Dy.loadJS(t)}function JF(){return Dy.recaptchaEnterpriseScript}function ZF(){return Dy.gapiScript}function e9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class t9{constructor(){this.enterprise=new n9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class n9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r9="recaptcha-enterprise",b4="NO_RECAPTCHA";class i9{constructor(e){this.type=r9,this.auth=Ul(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{OF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new DF(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;HS(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(b4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t9().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&HS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=JF();c.length!==0&&(c+=a),w4(c).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function JS(t,e,n,r=!1,i=!1){const s=new i9(t);let o;if(i)o=b4;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function nw(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await JS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await JS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t,e){const n=Ly(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(rf(s,e??{}))return i;fa(i,"already-initialized")}return n.initialize({options:e})}function o9(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xc);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function a9(t,e,n){const r=Ul(t);Bt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=x4(e),{host:o,port:a}=l9(e),c=a===null?"":`:${a}`,d={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Bt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Bt(rf(d,r.config.emulator)&&rf(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,ad(o)?(Ub(`${s}//${o}${c}`),zb("Auth",!0)):c9()}function x4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l9(t){const e=x4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ZS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ZS(o)}}}function ZS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bc("not implemented")}_getIdTokenResponse(e){return bc("not implemented")}_linkToIdToken(e,n){return bc("not implemented")}_getReauthenticationResolver(e){return bc("not implemented")}}async function u9(t,e){return Wc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e){return Rm(t,"POST","/v1/accounts:signInWithPassword",qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){return Rm(t,"POST","/v1/accounts:signInWithEmailLink",qc(t,e))}async function h9(t,e){return Rm(t,"POST","/v1/accounts:signInWithEmailLink",qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends Qb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new om(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new om(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nw(e,n,"signInWithPassword",d9);case"emailLink":return f9(e,{email:this._email,oobCode:this._password});default:fa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nw(e,r,"signUpPassword",u9);case"emailLink":return h9(e,{idToken:n,email:this._email,oobCode:this._password});default:fa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t,e){return Rm(t,"POST","/v1/accounts:signInWithIdp",qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="http://localhost";class of extends Qb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new of(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new of(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yh(e,n)}buildRequest(){const e={requestUri:p9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Im(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g9(t){const e=Rp(Lp(t)).link,n=e?Rp(Lp(e)).deep_link_id:null,r=Rp(Lp(t)).deep_link_id;return(r?Rp(Lp(r)).link:null)||r||n||e||t}class Jb{constructor(e){const n=Rp(Lp(e)),r=n.apiKey??null,i=n.oobCode??null,s=m9(n.mode??null);Bt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=g9(e);try{return new Jb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.providerId=Bh.PROVIDER_ID}static credential(e,n){return om._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jb.parseLink(n);return Bt(r,"argument-error"),om._fromEmailAndCode(e,r.code,r.tenantId)}}Bh.PROVIDER_ID="password";Bh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends Oy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Lm{constructor(){super("facebook.com")}static credential(e){return of._fromParams({providerId:Ou.PROVIDER_ID,signInMethod:Ou.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ou.credentialFromTaggedObject(e)}static credentialFromError(e){return Ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ou.credential(e.oauthAccessToken)}catch{return null}}}Ou.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ou.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Lm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return of._fromParams({providerId:vc.PROVIDER_ID,signInMethod:vc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vc.credentialFromTaggedObject(e)}static credentialFromError(e){return vc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vc.credential(n,r)}catch{return null}}}vc.GOOGLE_SIGN_IN_METHOD="google.com";vc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Lm{constructor(){super("github.com")}static credential(e){return of._fromParams({providerId:ju.PROVIDER_ID,signInMethod:ju.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ju.credentialFromTaggedObject(e)}static credentialFromError(e){return ju.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ju.credential(e.oauthAccessToken)}catch{return null}}}ju.GITHUB_SIGN_IN_METHOD="github.com";ju.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Lm{constructor(){super("twitter.com")}static credential(e,n){return of._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mu.credentialFromTaggedObject(e)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mu.credential(n,r)}catch{return null}}}Mu.TWITTER_SIGN_IN_METHOD="twitter.com";Mu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t,e){return Rm(t,"POST","/v1/accounts:signUp",qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $a._fromIdTokenResponse(e,r,i),o=eT(r);return new af({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eT(r);return new af({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends Bl{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,U0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new U0(e,n,r,i)}}function _4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?U0._fromErrorAndOperation(t,s,e,r):s})}async function v9(t,e,n=!1){const r=await sm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return af._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e,n=!1){const{auth:r}=t;if(Ls(r.app))return Promise.reject(kl(r));const i="reauthenticate";try{const s=await sm(t,_4(r,i,e,t),n);Bt(s.idToken,r,"internal-error");const o=Yb(s.idToken);Bt(o,r,"internal-error");const{sub:a}=o;return Bt(t.uid===a,r,"user-mismatch"),af._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&fa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e,n=!1){if(Ls(t.app))return Promise.reject(kl(t));const r="signIn",i=await _4(t,r,e),s=await af._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function b9(t,e){return S4(Ul(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t){const e=Ul(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x9(t,e,n){if(Ls(t.app))return Promise.reject(kl(t));const r=Ul(t),o=await nw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y9).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&T4(t),c}),a=await af._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function _9(t,e,n){return Ls(t.app)?Promise.reject(kl(t)):b9(br(t),Bh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&T4(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e){return Wc(t,"POST","/v1/accounts:createAuthUri",qc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e){const n=i4()?F0():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await S9(br(t),r);return i||[]}function E9(t,e,n,r){return br(t).onIdTokenChanged(e,n,r)}function A9(t,e,n){return br(t).beforeAuthStateChanged(e,n)}function C9(t,e,n,r){return br(t).onAuthStateChanged(e,n,r)}function tT(t){return br(t).signOut()}const z0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(z0,"1"),this.storage.removeItem(z0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=1e3,N9=10;class A4 extends E4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);$F()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,N9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}A4.type="LOCAL";const I9=A4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4 extends E4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C4.type="SESSION";const P4=C4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async d=>d(n.origin,s)),c=await k9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const d=Zb("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const g=h;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(){return window}function L9(t){Rl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){return typeof Rl().WorkerGlobalScope<"u"&&typeof Rl().importScripts=="function"}async function D9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O9(){return navigator?.serviceWorker?.controller||null}function j9(){return N4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="firebaseLocalStorageDb",M9=1,q0="firebaseLocalStorage",k4="fbase_key";class Dm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function My(t,e){return t.transaction([q0],e?"readwrite":"readonly").objectStore(q0)}function F9(){const t=indexedDB.deleteDatabase(I4);return new Dm(t).toPromise()}function rw(){const t=indexedDB.open(I4,M9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(q0,{keyPath:k4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(q0)?e(r):(r.close(),await F9(),e(await rw()))})})}async function nT(t,e,n){const r=My(t,!0).put({[k4]:e,value:n});return new Dm(r).toPromise()}async function V9(t,e){const n=My(t,!1).get(e),r=await new Dm(n).toPromise();return r===void 0?null:r.value}function rT(t,e){const n=My(t,!0).delete(e);return new Dm(n).toPromise()}const B9=800,U9=3;class R4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jy._getInstance(j9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D9(),!this.activeServiceWorker)return;this.sender=new R9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rw();return await nT(e,z0,"1"),await rT(e,z0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>V9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=My(i,!1).getAll();return new Dm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R4.type="LOCAL";const z9=R4;new km(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t,e){return e?xc(e):(Bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5 extends Qb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function q9(t){return S4(t.auth,new t5(t),t.bypassAuthState)}function W9(t){const{auth:e,user:n}=t;return Bt(n,e,"internal-error"),w9(n,new t5(t),t.bypassAuthState)}async function $9(t){const{auth:e,user:n}=t;return Bt(n,e,"internal-error"),v9(n,new t5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q9;case"linkViaPopup":case"linkViaRedirect":return $9;case"reauthViaPopup":case"reauthViaRedirect":return W9;default:fa(this.auth,"internal-error")}}resolve(e){kc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new km(2e3,1e4);async function G9(t,e,n){if(Ls(t.app))return Promise.reject(Ya(t,"operation-not-supported-in-this-environment"));const r=Ul(t);r4(t,e,Oy);const i=e5(r,n);return new $d(r,"signInViaPopup",e,i).executeNotNull()}class $d extends L4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$d.currentPopupAction&&$d.currentPopupAction.cancel(),$d.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bt(e,this.auth,"internal-error"),e}async onExecution(){kc(this.filter.length===1,"Popup operations only handle one event");const e=Zb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ya(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ya(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$d.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ya(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H9.get())};e()}}$d.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="pendingRedirect",a0=new Map;class Y9 extends L4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=a0.get(this.auth._key());if(!e){try{const r=await X9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}a0.set(this.auth._key(),e)}return this.bypassAuthState||a0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X9(t,e){const n=O4(e),r=D4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Q9(t,e){return D4(t)._set(O4(e),"true")}function J9(t,e){a0.set(t._key(),e)}function D4(t){return xc(t._redirectPersistence)}function O4(t){return o0(K9,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e,n){return eV(t,e,n)}async function eV(t,e,n){if(Ls(t.app))return Promise.reject(kl(t));const r=Ul(t);r4(t,e,Oy),await r._initializationPromise;const i=e5(r,n);return await Q9(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function tV(t,e){return await Ul(t)._initializationPromise,j4(t,e,!1)}async function j4(t,e,n=!1){if(Ls(t.app))return Promise.reject(kl(t));const r=Ul(t),i=e5(r,e),o=await new Y9(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=600*1e3;class rV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!M4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ya(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nV&&this.cachedEventUids.clear(),this.cachedEventUids.has(iT(e))}saveEventToCache(e){this.cachedEventUids.add(iT(e)),this.lastProcessedEventTime=Date.now()}}function iT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function iV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e={}){return Wc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aV=/^https?/;async function lV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sV(t);for(const n of e)try{if(cV(n))return}catch{}fa(t,"unauthorized-domain")}function cV(t){const e=F0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aV.test(n))return!1;if(oV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new km(3e4,6e4);function sT(){const t=Rl().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dV(t){return new Promise((e,n)=>{function r(){sT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sT(),n(Ya(t,"network-request-failed"))},timeout:uV.get()})}if(Rl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Rl().gapi?.load)r();else{const i=e9("iframefcb");return Rl()[i]=()=>{gapi.load?r():n(Ya(t,"network-request-failed"))},w4(`${ZF()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw l0=null,e})}let l0=null;function fV(t){return l0=l0||dV(t),l0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new km(5e3,15e3),pV="__/auth/iframe",mV="emulator/auth/iframe",gV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vV(t){const e=t.config;Bt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kb(e,mV):`https://${t.config.authDomain}/${pV}`,r={apiKey:e.apiKey,appName:t.name,v:_f},i=yV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Im(r).slice(1)}`}async function wV(t){const e=await fV(t),n=Rl().gapi;return Bt(n,t,"internal-error"),e.open({where:document.body,url:vV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ya(t,"network-request-failed"),a=Rl().setTimeout(()=>{s(o)},hV.get());function c(){Rl().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xV=500,_V=600,SV="_blank",TV="http://localhost";class oT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EV(t,e,n,r=xV,i=_V){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...bV,width:r.toString(),height:i.toString(),top:s,left:o},d=ps().toLowerCase();n&&(a=f4(d)?SV:n),u4(d)&&(e=e||TV,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[y,S])=>`${g}${y}=${S},`,"");if(WF(d)&&a!=="_self")return AV(e||"",a),new oT(null);const h=window.open(e||"",a,f);Bt(h,t,"popup-blocked");try{h.focus()}catch{}return new oT(h)}function AV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="__/auth/handler",PV="emulator/auth/handler",NV=encodeURIComponent("fac");async function aT(t,e,n,r,i,s){Bt(t.config.authDomain,t,"auth-domain-config-required"),Bt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_f,eventId:i};if(e instanceof Oy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",d7(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof Lm){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),d=c?`#${NV}=${encodeURIComponent(c)}`:"";return`${IV(t)}?${Im(a).slice(1)}${d}`}function IV({config:t}){return t.emulator?Kb(t,PV):`https://${t.authDomain}/${CV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="webStorageSupport";class kV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P4,this._completeRedirectFn=j4,this._overrideRedirectResult=J9}async _openPopup(e,n,r,i){kc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await aT(e,n,r,F0(),i);return EV(e,s,Zb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await aT(e,n,r,F0(),i);return L9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(kc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wV(e),r=new rV(e);return n.register("authEvent",i=>(Bt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(j1,{type:j1},i=>{const s=i?.[0]?.[j1];s!==void 0&&n(!!s),fa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return y4()||d4()||Xb()}}const RV=kV;var lT="@firebase/auth",cT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OV(t){sf(new Qu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Bt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:v4(t)},d=new XF(r,i,s,c);return o9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sf(new Qu("auth-internal",e=>{const n=Ul(e.getProvider("auth").getImmediate());return(r=>new LV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Il(lT,cT,DV(t)),Il(lT,cT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=300,MV=KP("authIdTokenMaxAge")||jV;let uT=null;const FV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MV)return;const i=n?.token;uT!==i&&(uT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function VV(t=$b()){const e=Ly(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s9(t,{popupRedirectResolver:RV,persistence:[z9,I9,P4]}),r=KP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=FV(s.toString());A9(n,o,()=>o(n.currentUser)),E9(n,a=>o(a))}}const i=$P("auth");return i&&a9(n,`http://${i}`),n}function BV(){return document.getElementsByTagName("head")?.[0]??document}QF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ya("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",BV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OV("Browser");var dT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gu,F4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,L){function B(){}B.prototype=L.prototype,F.D=L.prototype,F.prototype=new B,F.prototype.constructor=F,F.C=function(H,k,j){for(var z=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)z[oe-2]=arguments[oe];return L.prototype[k].apply(H,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,L,B){B||(B=0);var H=Array(16);if(typeof L=="string")for(var k=0;16>k;++k)H[k]=L.charCodeAt(B++)|L.charCodeAt(B++)<<8|L.charCodeAt(B++)<<16|L.charCodeAt(B++)<<24;else for(k=0;16>k;++k)H[k]=L[B++]|L[B++]<<8|L[B++]<<16|L[B++]<<24;L=F.g[0],B=F.g[1],k=F.g[2];var j=F.g[3],z=L+(j^B&(k^j))+H[0]+3614090360&4294967295;L=B+(z<<7&4294967295|z>>>25),z=j+(k^L&(B^k))+H[1]+3905402710&4294967295,j=L+(z<<12&4294967295|z>>>20),z=k+(B^j&(L^B))+H[2]+606105819&4294967295,k=j+(z<<17&4294967295|z>>>15),z=B+(L^k&(j^L))+H[3]+3250441966&4294967295,B=k+(z<<22&4294967295|z>>>10),z=L+(j^B&(k^j))+H[4]+4118548399&4294967295,L=B+(z<<7&4294967295|z>>>25),z=j+(k^L&(B^k))+H[5]+1200080426&4294967295,j=L+(z<<12&4294967295|z>>>20),z=k+(B^j&(L^B))+H[6]+2821735955&4294967295,k=j+(z<<17&4294967295|z>>>15),z=B+(L^k&(j^L))+H[7]+4249261313&4294967295,B=k+(z<<22&4294967295|z>>>10),z=L+(j^B&(k^j))+H[8]+1770035416&4294967295,L=B+(z<<7&4294967295|z>>>25),z=j+(k^L&(B^k))+H[9]+2336552879&4294967295,j=L+(z<<12&4294967295|z>>>20),z=k+(B^j&(L^B))+H[10]+4294925233&4294967295,k=j+(z<<17&4294967295|z>>>15),z=B+(L^k&(j^L))+H[11]+2304563134&4294967295,B=k+(z<<22&4294967295|z>>>10),z=L+(j^B&(k^j))+H[12]+1804603682&4294967295,L=B+(z<<7&4294967295|z>>>25),z=j+(k^L&(B^k))+H[13]+4254626195&4294967295,j=L+(z<<12&4294967295|z>>>20),z=k+(B^j&(L^B))+H[14]+2792965006&4294967295,k=j+(z<<17&4294967295|z>>>15),z=B+(L^k&(j^L))+H[15]+1236535329&4294967295,B=k+(z<<22&4294967295|z>>>10),z=L+(k^j&(B^k))+H[1]+4129170786&4294967295,L=B+(z<<5&4294967295|z>>>27),z=j+(B^k&(L^B))+H[6]+3225465664&4294967295,j=L+(z<<9&4294967295|z>>>23),z=k+(L^B&(j^L))+H[11]+643717713&4294967295,k=j+(z<<14&4294967295|z>>>18),z=B+(j^L&(k^j))+H[0]+3921069994&4294967295,B=k+(z<<20&4294967295|z>>>12),z=L+(k^j&(B^k))+H[5]+3593408605&4294967295,L=B+(z<<5&4294967295|z>>>27),z=j+(B^k&(L^B))+H[10]+38016083&4294967295,j=L+(z<<9&4294967295|z>>>23),z=k+(L^B&(j^L))+H[15]+3634488961&4294967295,k=j+(z<<14&4294967295|z>>>18),z=B+(j^L&(k^j))+H[4]+3889429448&4294967295,B=k+(z<<20&4294967295|z>>>12),z=L+(k^j&(B^k))+H[9]+568446438&4294967295,L=B+(z<<5&4294967295|z>>>27),z=j+(B^k&(L^B))+H[14]+3275163606&4294967295,j=L+(z<<9&4294967295|z>>>23),z=k+(L^B&(j^L))+H[3]+4107603335&4294967295,k=j+(z<<14&4294967295|z>>>18),z=B+(j^L&(k^j))+H[8]+1163531501&4294967295,B=k+(z<<20&4294967295|z>>>12),z=L+(k^j&(B^k))+H[13]+2850285829&4294967295,L=B+(z<<5&4294967295|z>>>27),z=j+(B^k&(L^B))+H[2]+4243563512&4294967295,j=L+(z<<9&4294967295|z>>>23),z=k+(L^B&(j^L))+H[7]+1735328473&4294967295,k=j+(z<<14&4294967295|z>>>18),z=B+(j^L&(k^j))+H[12]+2368359562&4294967295,B=k+(z<<20&4294967295|z>>>12),z=L+(B^k^j)+H[5]+4294588738&4294967295,L=B+(z<<4&4294967295|z>>>28),z=j+(L^B^k)+H[8]+2272392833&4294967295,j=L+(z<<11&4294967295|z>>>21),z=k+(j^L^B)+H[11]+1839030562&4294967295,k=j+(z<<16&4294967295|z>>>16),z=B+(k^j^L)+H[14]+4259657740&4294967295,B=k+(z<<23&4294967295|z>>>9),z=L+(B^k^j)+H[1]+2763975236&4294967295,L=B+(z<<4&4294967295|z>>>28),z=j+(L^B^k)+H[4]+1272893353&4294967295,j=L+(z<<11&4294967295|z>>>21),z=k+(j^L^B)+H[7]+4139469664&4294967295,k=j+(z<<16&4294967295|z>>>16),z=B+(k^j^L)+H[10]+3200236656&4294967295,B=k+(z<<23&4294967295|z>>>9),z=L+(B^k^j)+H[13]+681279174&4294967295,L=B+(z<<4&4294967295|z>>>28),z=j+(L^B^k)+H[0]+3936430074&4294967295,j=L+(z<<11&4294967295|z>>>21),z=k+(j^L^B)+H[3]+3572445317&4294967295,k=j+(z<<16&4294967295|z>>>16),z=B+(k^j^L)+H[6]+76029189&4294967295,B=k+(z<<23&4294967295|z>>>9),z=L+(B^k^j)+H[9]+3654602809&4294967295,L=B+(z<<4&4294967295|z>>>28),z=j+(L^B^k)+H[12]+3873151461&4294967295,j=L+(z<<11&4294967295|z>>>21),z=k+(j^L^B)+H[15]+530742520&4294967295,k=j+(z<<16&4294967295|z>>>16),z=B+(k^j^L)+H[2]+3299628645&4294967295,B=k+(z<<23&4294967295|z>>>9),z=L+(k^(B|~j))+H[0]+4096336452&4294967295,L=B+(z<<6&4294967295|z>>>26),z=j+(B^(L|~k))+H[7]+1126891415&4294967295,j=L+(z<<10&4294967295|z>>>22),z=k+(L^(j|~B))+H[14]+2878612391&4294967295,k=j+(z<<15&4294967295|z>>>17),z=B+(j^(k|~L))+H[5]+4237533241&4294967295,B=k+(z<<21&4294967295|z>>>11),z=L+(k^(B|~j))+H[12]+1700485571&4294967295,L=B+(z<<6&4294967295|z>>>26),z=j+(B^(L|~k))+H[3]+2399980690&4294967295,j=L+(z<<10&4294967295|z>>>22),z=k+(L^(j|~B))+H[10]+4293915773&4294967295,k=j+(z<<15&4294967295|z>>>17),z=B+(j^(k|~L))+H[1]+2240044497&4294967295,B=k+(z<<21&4294967295|z>>>11),z=L+(k^(B|~j))+H[8]+1873313359&4294967295,L=B+(z<<6&4294967295|z>>>26),z=j+(B^(L|~k))+H[15]+4264355552&4294967295,j=L+(z<<10&4294967295|z>>>22),z=k+(L^(j|~B))+H[6]+2734768916&4294967295,k=j+(z<<15&4294967295|z>>>17),z=B+(j^(k|~L))+H[13]+1309151649&4294967295,B=k+(z<<21&4294967295|z>>>11),z=L+(k^(B|~j))+H[4]+4149444226&4294967295,L=B+(z<<6&4294967295|z>>>26),z=j+(B^(L|~k))+H[11]+3174756917&4294967295,j=L+(z<<10&4294967295|z>>>22),z=k+(L^(j|~B))+H[2]+718787259&4294967295,k=j+(z<<15&4294967295|z>>>17),z=B+(j^(k|~L))+H[9]+3951481745&4294967295,F.g[0]=F.g[0]+L&4294967295,F.g[1]=F.g[1]+(k+(z<<21&4294967295|z>>>11))&4294967295,F.g[2]=F.g[2]+k&4294967295,F.g[3]=F.g[3]+j&4294967295}r.prototype.u=function(F,L){L===void 0&&(L=F.length);for(var B=L-this.blockSize,H=this.B,k=this.h,j=0;j<L;){if(k==0)for(;j<=B;)i(this,F,j),j+=this.blockSize;if(typeof F=="string"){for(;j<L;)if(H[k++]=F.charCodeAt(j++),k==this.blockSize){i(this,H),k=0;break}}else for(;j<L;)if(H[k++]=F[j++],k==this.blockSize){i(this,H),k=0;break}}this.h=k,this.o+=L},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var L=1;L<F.length-8;++L)F[L]=0;var B=8*this.o;for(L=F.length-8;L<F.length;++L)F[L]=B&255,B/=256;for(this.u(F),F=Array(16),L=B=0;4>L;++L)for(var H=0;32>H;H+=8)F[B++]=this.g[L]>>>H&255;return F};function s(F,L){var B=a;return Object.prototype.hasOwnProperty.call(B,F)?B[F]:B[F]=L(F)}function o(F,L){this.h=L;for(var B=[],H=!0,k=F.length-1;0<=k;k--){var j=F[k]|0;H&&j==L||(B[k]=j,H=!1)}this.g=B}var a={};function c(F){return-128<=F&&128>F?s(F,function(L){return new o([L|0],0>L?-1:0)}):new o([F|0],0>F?-1:0)}function d(F){if(isNaN(F)||!isFinite(F))return h;if(0>F)return T(d(-F));for(var L=[],B=1,H=0;F>=B;H++)L[H]=F/B|0,B*=4294967296;return new o(L,0)}function f(F,L){if(F.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(F.charAt(0)=="-")return T(f(F.substring(1),L));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var B=d(Math.pow(L,8)),H=h,k=0;k<F.length;k+=8){var j=Math.min(8,F.length-k),z=parseInt(F.substring(k,k+j),L);8>j?(j=d(Math.pow(L,j)),H=H.j(j).add(d(z))):(H=H.j(B),H=H.add(d(z)))}return H}var h=c(0),g=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-T(this).m();for(var F=0,L=1,B=0;B<this.g.length;B++){var H=this.i(B);F+=(0<=H?H:4294967296+H)*L,L*=4294967296}return F},t.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(S(this))return"0";if(_(this))return"-"+T(this).toString(F);for(var L=d(Math.pow(F,6)),B=this,H="";;){var k=D(B,L).g;B=E(B,k.j(L));var j=((0<B.g.length?B.g[0]:B.h)>>>0).toString(F);if(B=k,S(B))return j+H;for(;6>j.length;)j="0"+j;H=j+H}},t.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function S(F){if(F.h!=0)return!1;for(var L=0;L<F.g.length;L++)if(F.g[L]!=0)return!1;return!0}function _(F){return F.h==-1}t.l=function(F){return F=E(this,F),_(F)?-1:S(F)?0:1};function T(F){for(var L=F.g.length,B=[],H=0;H<L;H++)B[H]=~F.g[H];return new o(B,~F.h).add(g)}t.abs=function(){return _(this)?T(this):this},t.add=function(F){for(var L=Math.max(this.g.length,F.g.length),B=[],H=0,k=0;k<=L;k++){var j=H+(this.i(k)&65535)+(F.i(k)&65535),z=(j>>>16)+(this.i(k)>>>16)+(F.i(k)>>>16);H=z>>>16,j&=65535,z&=65535,B[k]=z<<16|j}return new o(B,B[B.length-1]&-2147483648?-1:0)};function E(F,L){return F.add(T(L))}t.j=function(F){if(S(this)||S(F))return h;if(_(this))return _(F)?T(this).j(T(F)):T(T(this).j(F));if(_(F))return T(this.j(T(F)));if(0>this.l(y)&&0>F.l(y))return d(this.m()*F.m());for(var L=this.g.length+F.g.length,B=[],H=0;H<2*L;H++)B[H]=0;for(H=0;H<this.g.length;H++)for(var k=0;k<F.g.length;k++){var j=this.i(H)>>>16,z=this.i(H)&65535,oe=F.i(k)>>>16,de=F.i(k)&65535;B[2*H+2*k]+=z*de,C(B,2*H+2*k),B[2*H+2*k+1]+=j*de,C(B,2*H+2*k+1),B[2*H+2*k+1]+=z*oe,C(B,2*H+2*k+1),B[2*H+2*k+2]+=j*oe,C(B,2*H+2*k+2)}for(H=0;H<L;H++)B[H]=B[2*H+1]<<16|B[2*H];for(H=L;H<2*L;H++)B[H]=0;return new o(B,0)};function C(F,L){for(;(F[L]&65535)!=F[L];)F[L+1]+=F[L]>>>16,F[L]&=65535,L++}function I(F,L){this.g=F,this.h=L}function D(F,L){if(S(L))throw Error("division by zero");if(S(F))return new I(h,h);if(_(F))return L=D(T(F),L),new I(T(L.g),T(L.h));if(_(L))return L=D(F,T(L)),new I(T(L.g),L.h);if(30<F.g.length){if(_(F)||_(L))throw Error("slowDivide_ only works with positive integers.");for(var B=g,H=L;0>=H.l(F);)B=K(B),H=K(H);var k=ae(B,1),j=ae(H,1);for(H=ae(H,2),B=ae(B,2);!S(H);){var z=j.add(H);0>=z.l(F)&&(k=k.add(B),j=z),H=ae(H,1),B=ae(B,1)}return L=E(F,k.j(L)),new I(k,L)}for(k=h;0<=F.l(L);){for(B=Math.max(1,Math.floor(F.m()/L.m())),H=Math.ceil(Math.log(B)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),j=d(B),z=j.j(L);_(z)||0<z.l(F);)B-=H,j=d(B),z=j.j(L);S(j)&&(j=g),k=k.add(j),F=E(F,z)}return new I(k,F)}t.A=function(F){return D(this,F).h},t.and=function(F){for(var L=Math.max(this.g.length,F.g.length),B=[],H=0;H<L;H++)B[H]=this.i(H)&F.i(H);return new o(B,this.h&F.h)},t.or=function(F){for(var L=Math.max(this.g.length,F.g.length),B=[],H=0;H<L;H++)B[H]=this.i(H)|F.i(H);return new o(B,this.h|F.h)},t.xor=function(F){for(var L=Math.max(this.g.length,F.g.length),B=[],H=0;H<L;H++)B[H]=this.i(H)^F.i(H);return new o(B,this.h^F.h)};function K(F){for(var L=F.g.length+1,B=[],H=0;H<L;H++)B[H]=F.i(H)<<1|F.i(H-1)>>>31;return new o(B,F.h)}function ae(F,L){var B=L>>5;L%=32;for(var H=F.g.length-B,k=[],j=0;j<H;j++)k[j]=0<L?F.i(j+B)>>>L|F.i(j+B+1)<<32-L:F.i(j+B);return new o(k,F.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,F4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Gu=o}).apply(typeof dT<"u"?dT:typeof self<"u"?self:typeof window<"u"?window:{});var Fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V4,Dp,B4,c0,iw,U4,z4,q4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,R,U){return v==Array.prototype||v==Object.prototype||(v[R]=U.value),v};function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fg=="object"&&Fg];for(var R=0;R<v.length;++R){var U=v[R];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(v,R){if(R)e:{var U=r;v=v.split(".");for(var ne=0;ne<v.length-1;ne++){var Ae=v[ne];if(!(Ae in U))break e;U=U[Ae]}v=v[v.length-1],ne=U[v],R=R(ne),R!=ne&&R!=null&&e(U,v,{configurable:!0,writable:!0,value:R})}}function s(v,R){v instanceof String&&(v+="");var U=0,ne=!1,Ae={next:function(){if(!ne&&U<v.length){var Re=U++;return{value:R(Re,v[Re]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}i("Array.prototype.values",function(v){return v||function(){return s(this,function(R,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(v){var R=typeof v;return R=R!="object"?R:v?Array.isArray(v)?"array":R:"null",R=="array"||R=="object"&&typeof v.length=="number"}function d(v){var R=typeof v;return R=="object"&&v!=null||R=="function"}function f(v,R,U){return v.call.apply(v.bind,arguments)}function h(v,R,U){if(!v)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,ne),v.apply(R,Ae)}}return function(){return v.apply(R,arguments)}}function g(v,R,U){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,g.apply(null,arguments)}function y(v,R){var U=Array.prototype.slice.call(arguments,1);return function(){var ne=U.slice();return ne.push.apply(ne,arguments),v.apply(this,ne)}}function S(v,R){function U(){}U.prototype=R.prototype,v.aa=R.prototype,v.prototype=new U,v.prototype.constructor=v,v.Qb=function(ne,Ae,Re){for(var Xe=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)Xe[$t-2]=arguments[$t];return R.prototype[Ae].apply(ne,Xe)}}function _(v){const R=v.length;if(0<R){const U=Array(R);for(let ne=0;ne<R;ne++)U[ne]=v[ne];return U}return[]}function T(v,R){for(let U=1;U<arguments.length;U++){const ne=arguments[U];if(c(ne)){const Ae=v.length||0,Re=ne.length||0;v.length=Ae+Re;for(let Xe=0;Xe<Re;Xe++)v[Ae+Xe]=ne[Xe]}else v.push(ne)}}class E{constructor(R,U){this.i=R,this.j=U,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function C(v){return/^[\s\xa0]*$/.test(v)}function I(){var v=a.navigator;return v&&(v=v.userAgent)?v:""}function D(v){return D[" "](v),v}D[" "]=function(){};var K=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function ae(v,R,U){for(const ne in v)R.call(U,v[ne],ne,v)}function F(v,R){for(const U in v)R.call(void 0,v[U],U,v)}function L(v){const R={};for(const U in v)R[U]=v[U];return R}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(v,R){let U,ne;for(let Ae=1;Ae<arguments.length;Ae++){ne=arguments[Ae];for(U in ne)v[U]=ne[U];for(let Re=0;Re<B.length;Re++)U=B[Re],Object.prototype.hasOwnProperty.call(ne,U)&&(v[U]=ne[U])}}function k(v){var R=1;v=v.split(":");const U=[];for(;0<R&&v.length;)U.push(v.shift()),R--;return v.length&&U.push(v.join(":")),U}function j(v){a.setTimeout(()=>{throw v},0)}function z(){var v=pe;let R=null;return v.g&&(R=v.g,v.g=v.g.next,v.g||(v.h=null),R.next=null),R}class oe{constructor(){this.h=this.g=null}add(R,U){const ne=de.get();ne.set(R,U),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var de=new E(()=>new se,v=>v.reset());class se{constructor(){this.next=this.g=this.h=null}set(R,U){this.h=R,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let le,re=!1,pe=new oe,Z=()=>{const v=a.Promise.resolve(void 0);le=()=>{v.then(q)}};var q=()=>{for(var v;v=z();){try{v.h.call(v.g)}catch(U){j(U)}var R=de;R.j(v),100>R.h&&(R.h++,v.next=R.g,R.g=v)}re=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(v,R){this.type=v,this.g=this.target=R,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,R=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const U=()=>{};a.addEventListener("test",U,R),a.removeEventListener("test",U,R)}catch{}return v}();function ce(v,R){if(W.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var U=this.type=v.type,ne=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=R,R=v.relatedTarget){if(K){e:{try{D(R.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(R=null)}}else U=="mouseover"?R=v.fromElement:U=="mouseout"&&(R=v.toElement);this.relatedTarget=R,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:fe[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ce.aa.h.call(this)}}S(ce,W);var fe={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),we=0;function Te(v,R,U,ne,Ae){this.listener=v,this.proxy=null,this.src=R,this.type=U,this.capture=!!ne,this.ha=Ae,this.key=++we,this.da=this.fa=!1}function Ve(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Fe(v){this.src=v,this.g={},this.h=0}Fe.prototype.add=function(v,R,U,ne,Ae){var Re=v.toString();v=this.g[Re],v||(v=this.g[Re]=[],this.h++);var Xe=Qe(v,R,ne,Ae);return-1<Xe?(R=v[Xe],U||(R.fa=!1)):(R=new Te(R,this.src,Re,!!ne,Ae),R.fa=U,v.push(R)),R};function Ye(v,R){var U=R.type;if(U in v.g){var ne=v.g[U],Ae=Array.prototype.indexOf.call(ne,R,void 0),Re;(Re=0<=Ae)&&Array.prototype.splice.call(ne,Ae,1),Re&&(Ve(R),v.g[U].length==0&&(delete v.g[U],v.h--))}}function Qe(v,R,U,ne){for(var Ae=0;Ae<v.length;++Ae){var Re=v[Ae];if(!Re.da&&Re.listener==R&&Re.capture==!!U&&Re.ha==ne)return Ae}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),De={};function me(v,R,U,ne,Ae){if(Array.isArray(R)){for(var Re=0;Re<R.length;Re++)me(v,R[Re],U,ne,Ae);return null}return U=jt(U),v&&v[ye]?v.K(R,U,d(ne)?!!ne.capture:!1,Ae):_t(v,R,U,!1,ne,Ae)}function _t(v,R,U,ne,Ae,Re){if(!R)throw Error("Invalid event type");var Xe=d(Ae)?!!Ae.capture:!!Ae,$t=vt(v);if($t||(v[nt]=$t=new Fe(v)),U=$t.add(R,U,ne,Xe,Re),U.proxy)return U;if(ne=ft(),U.proxy=ne,ne.src=v,ne.listener=U,v.addEventListener)ee||(Ae=Xe),Ae===void 0&&(Ae=!1),v.addEventListener(R.toString(),ne,Ae);else if(v.attachEvent)v.attachEvent(st(R.toString()),ne);else if(v.addListener&&v.removeListener)v.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return U}function ft(){function v(U){return R.call(v.src,v.listener,U)}const R=at;return v}function Ge(v,R,U,ne,Ae){if(Array.isArray(R))for(var Re=0;Re<R.length;Re++)Ge(v,R[Re],U,ne,Ae);else ne=d(ne)?!!ne.capture:!!ne,U=jt(U),v&&v[ye]?(v=v.i,R=String(R).toString(),R in v.g&&(Re=v.g[R],U=Qe(Re,U,ne,Ae),-1<U&&(Ve(Re[U]),Array.prototype.splice.call(Re,U,1),Re.length==0&&(delete v.g[R],v.h--)))):v&&(v=vt(v))&&(R=v.g[R.toString()],v=-1,R&&(v=Qe(R,U,ne,Ae)),(U=-1<v?R[v]:null)&&et(U))}function et(v){if(typeof v!="number"&&v&&!v.da){var R=v.src;if(R&&R[ye])Ye(R.i,v);else{var U=v.type,ne=v.proxy;R.removeEventListener?R.removeEventListener(U,ne,v.capture):R.detachEvent?R.detachEvent(st(U),ne):R.addListener&&R.removeListener&&R.removeListener(ne),(U=vt(R))?(Ye(U,v),U.h==0&&(U.src=null,R[nt]=null)):Ve(v)}}}function st(v){return v in De?De[v]:De[v]="on"+v}function at(v,R){if(v.da)v=!0;else{R=new ce(R,this);var U=v.listener,ne=v.ha||v.src;v.fa&&et(v),v=U.call(ne,R)}return v}function vt(v){return v=v[nt],v instanceof Fe?v:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function jt(v){return typeof v=="function"?v:(v[It]||(v[It]=function(R){return v.handleEvent(R)}),v[It])}function St(){V.call(this),this.i=new Fe(this),this.M=this,this.F=null}S(St,V),St.prototype[ye]=!0,St.prototype.removeEventListener=function(v,R,U,ne){Ge(this,v,R,U,ne)};function Pt(v,R){var U,ne=v.F;if(ne)for(U=[];ne;ne=ne.F)U.push(ne);if(v=v.M,ne=R.type||R,typeof R=="string")R=new W(R,v);else if(R instanceof W)R.target=R.target||v;else{var Ae=R;R=new W(ne,v),H(R,Ae)}if(Ae=!0,U)for(var Re=U.length-1;0<=Re;Re--){var Xe=R.g=U[Re];Ae=en(Xe,ne,!0,R)&&Ae}if(Xe=R.g=v,Ae=en(Xe,ne,!0,R)&&Ae,Ae=en(Xe,ne,!1,R)&&Ae,U)for(Re=0;Re<U.length;Re++)Xe=R.g=U[Re],Ae=en(Xe,ne,!1,R)&&Ae}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var v=this.i,R;for(R in v.g){for(var U=v.g[R],ne=0;ne<U.length;ne++)Ve(U[ne]);delete v.g[R],v.h--}}this.F=null},St.prototype.K=function(v,R,U,ne){return this.i.add(String(v),R,!1,U,ne)},St.prototype.L=function(v,R,U,ne){return this.i.add(String(v),R,!0,U,ne)};function en(v,R,U,ne){if(R=v.i.g[String(R)],!R)return!0;R=R.concat();for(var Ae=!0,Re=0;Re<R.length;++Re){var Xe=R[Re];if(Xe&&!Xe.da&&Xe.capture==U){var $t=Xe.listener,sn=Xe.ha||Xe.src;Xe.fa&&Ye(v.i,Xe),Ae=$t.call(sn,ne)!==!1&&Ae}}return Ae&&!ne.defaultPrevented}function At(v,R,U){if(typeof v=="function")U&&(v=g(v,U));else if(v&&typeof v.handleEvent=="function")v=g(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:a.setTimeout(v,R||0)}function Mt(v){v.g=At(()=>{v.g=null,v.i&&(v.i=!1,Mt(v))},v.l);const R=v.h;v.h=null,v.m.apply(null,R)}class ot extends V{constructor(R,U){super(),this.m=R,this.l=U,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Mt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(v){V.call(this),this.h=v,this.g={}}S(er,V);var tn=[];function Pi(v){ae(v.g,function(R,U){this.g.hasOwnProperty(U)&&et(R)},v),v.g={}}er.prototype.N=function(){er.aa.N.call(this),Pi(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bn=a.JSON.stringify,Dn=a.JSON.parse,Wi=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function rn(){}rn.prototype.h=null;function js(v){return v.h||(v.h=v.i())}function Vn(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){W.call(this,"d")}S(Kr,W);function Bn(){W.call(this,"c")}S(Bn,W);var Nt={},ln=null;function ms(){return ln=ln||new St}Nt.La="serverreachability";function xr(v){W.call(this,Nt.La,v)}S(xr,W);function Yr(v){const R=ms();Pt(R,new xr(R))}Nt.STAT_EVENT="statevent";function $i(v,R){W.call(this,Nt.STAT_EVENT,v),this.stat=R}S($i,W);function pt(v){const R=ms();Pt(R,new $i(R,v))}Nt.Ma="timingevent";function fi(v,R){W.call(this,Nt.Ma,v),this.size=R}S(fi,W);function Nr(v,R){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},R)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function Gn(v,R,U,ne,Ae,Re){v.info(function(){if(v.g)if(Re)for(var Xe="",$t=Re.split("&"),sn=0;sn<$t.length;sn++){var Ht=$t[sn].split("=");if(1<Ht.length){var En=Ht[0];Ht=Ht[1];var In=En.split("_");Xe=2<=In.length&&In[1]=="type"?Xe+(En+"="+Ht+"&"):Xe+(En+"=redacted&")}}else Xe=null;else Xe=Re;return"XMLHTTP REQ ("+ne+") [attempt "+Ae+"]: "+R+`
`+U+`
`+Xe})}function Kn(v,R,U,ne,Ae,Re,Xe){v.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+Ae+"]: "+R+`
`+U+`
`+Re+" "+Xe})}function ir(v,R,U,ne){v.info(function(){return"XMLHTTP TEXT ("+R+"): "+uo(v,U)+(ne?" "+ne:"")})}function Fo(v,R){v.info(function(){return"TIMEOUT: "+R})}Ir.prototype.info=function(){};function uo(v,R){if(!v.g)return R;if(!R)return null;try{var U=JSON.parse(R);if(U){for(v=0;v<U.length;v++)if(Array.isArray(U[v])){var ne=U[v];if(!(2>ne.length)){var Ae=ne[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var Re=Ae[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(var Xe=1;Xe<Ae.length;Xe++)Ae[Xe]=""}}}}return bn(U)}catch{return R}}var hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_r;function pi(){}S(pi,rn),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},_r=new pi;function hr(v,R,U,ne){this.j=v,this.i=R,this.l=U,this.R=ne||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gs}function gs(){this.i=null,this.g="",this.h=!1}var fo={},ho={};function po(v,R,U){v.L=1,v.v=yo(ri(R)),v.m=U,v.P=!0,Vo(v,null)}function Vo(v,R){v.F=Date.now(),On(v),v.A=ri(v.v);var U=v.A,ne=v.R;Array.isArray(ne)||(ne=[String(ne)]),kt(U.i,"t",ne),v.C=0,U=v.j.J,v.h=new gs,v.g=Y(v.j,U?R:null,!v.m),0<v.O&&(v.M=new ot(g(v.Y,v,v.g),v.O)),R=v.U,U=v.g,ne=v.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(tn[0]=Ae.toString()),Ae=tn);for(var Re=0;Re<Ae.length;Re++){var Xe=me(U,Ae[Re],ne||R.handleEvent,!1,R.h||R);if(!Xe)break;R.g[Xe.key]=Xe}R=v.H?L(v.H):{},v.m?(v.u||(v.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,R)):(v.u="GET",v.g.ea(v.A,v.u,null,R)),Yr(),Gn(v.i,v.u,v.A,v.l,v.R,v.m)}hr.prototype.ca=function(v){v=v.target;const R=this.M;R&&mr(v)==3?R.j():this.Y(v)},hr.prototype.Y=function(v){try{if(v==this.g)e:{const In=mr(this.g);var R=this.g.Ba();const Ri=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||Gl(this.g)))){this.J||In!=4||R==7||(R==8||0>=Ri?Yr(3):Yr(2)),Ms(this);var U=this.g.Z();this.X=U;t:if(pa(this)){var ne=Gl(this.g);v="";var Ae=ne.length,Re=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),mo(this);var Xe="";break t}this.h.i=new a.TextDecoder}for(R=0;R<Ae;R++)this.h.h=!0,v+=this.h.i.decode(ne[R],{stream:!(Re&&R==Ae-1)});ne.length=0,this.h.g+=v,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=U==200,Kn(this.i,this.u,this.A,this.l,this.R,In,U),this.o){if(this.T&&!this.K){t:{if(this.g){var $t,sn=this.g;if(($t=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C($t)){var Ht=$t;break t}}Ht=null}if(U=Ht)ir(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ma(this,U);else{this.o=!1,this.s=3,pt(12),Gi(this),mo(this);break e}}if(this.P){U=!0;let oi;for(;!this.J&&this.C<Xe.length;)if(oi=Hc(this,Xe),oi==ho){In==4&&(this.s=4,pt(14),U=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==fo){this.s=4,pt(15),ir(this.i,this.l,Xe,"[Invalid Chunk]"),U=!1;break}else ir(this.i,this.l,oi,null),ma(this,oi);if(pa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Xe.length!=0||this.h.h||(this.s=1,pt(16),U=!1),this.o=this.o&&U,!U)ir(this.i,this.l,Xe,"[Invalid Chunked Response]"),Gi(this),mo(this);else if(0<Xe.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),ll(En),En.M=!0,pt(11))}}else ir(this.i,this.l,Xe,null),ma(this,Xe);In==4&&Gi(this),this.o&&!this.J&&(In==4?Ws(this.j,this):(this.o=!1,On(this)))}else ws(this.g),U==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Gi(this),mo(this)}}}catch{}finally{}};function pa(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Hc(v,R){var U=v.C,ne=R.indexOf(`
`,U);return ne==-1?ho:(U=Number(R.substring(U,ne)),isNaN(U)?fo:(ne+=1,ne+U>R.length?ho:(R=R.slice(ne,ne+U),v.C=ne+U,R)))}hr.prototype.cancel=function(){this.J=!0,Gi(this)};function On(v){v.S=Date.now()+v.I,Gc(v,v.I)}function Gc(v,R){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Nr(g(v.ba,v),R)}function Ms(v){v.B&&(a.clearTimeout(v.B),v.B=null)}hr.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Fo(this.i,this.A),this.L!=2&&(Yr(),pt(17)),Gi(this),this.s=2,mo(this)):Gc(this,this.S-v)};function mo(v){v.j.G==0||v.J||Ws(v.j,v)}function Gi(v){Ms(v);var R=v.M;R&&typeof R.ma=="function"&&R.ma(),v.M=null,Pi(v.U),v.g&&(R=v.g,v.g=null,R.abort(),R.ma())}function ma(v,R){try{var U=v.j;if(U.G!=0&&(U.g==v||ti(U.h,v))){if(!v.K&&ti(U.h,v)&&U.G==3){try{var ne=U.Da.g.parse(R)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var Ae=ne;if(Ae[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<v.F)xo(U),bs(U);else break e;Xo(U),pt(18)}}else U.za=Ae[1],0<U.za-U.T&&37500>Ae[2]&&U.F&&U.v==0&&!U.C&&(U.C=Nr(g(U.Za,U),6e3));if(1>=ga(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else yi(U,11)}else if((v.K||U.g==v)&&xo(U),!C(R))for(Ae=U.Da.g.parse(R),R=0;R<Ae.length;R++){let Ht=Ae[R];if(U.T=Ht[0],Ht=Ht[1],U.G==2)if(Ht[0]=="c"){U.K=Ht[1],U.ia=Ht[2];const En=Ht[3];En!=null&&(U.la=En,U.j.info("VER="+U.la));const In=Ht[4];In!=null&&(U.Aa=In,U.j.info("SVER="+U.Aa));const Ri=Ht[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(ne=1.5*Ri,U.L=ne,U.j.info("backChannelRequestTimeoutMs_="+ne)),ne=U;const oi=v.g;if(oi){const _o=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_o){var Re=ne.h;Re.g||_o.indexOf("spdy")==-1&&_o.indexOf("quic")==-1&&_o.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(Yn(Re,Re.h),Re.h=null))}if(ne.D){const So=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(ne.ya=So,Nn(ne.I,ne.D,So))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-v.F,U.j.info("Handshake RTT: "+U.R+"ms")),ne=U;var Xe=v;if(ne.qa=A(ne,ne.J?ne.ia:null,ne.W),Xe.K){ql(ne.h,Xe);var $t=Xe,sn=ne.L;sn&&($t.I=sn),$t.B&&(Ms($t),On($t)),ne.g=Xe}else bo(ne);0<U.i.length&&zs(U)}else Ht[0]!="stop"&&Ht[0]!="close"||yi(U,7);else U.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?yi(U,7):sr(U):Ht[0]!="noop"&&U.l&&U.l.ta(Ht),U.v=0)}}Yr(4)}catch{}}var Kc=class{constructor(v,R){this.g=v,this.map=R}};function Bo(v){this.l=v||10,a.PerformanceNavigationTiming?(v=a.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ni(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function ga(v){return v.h?1:v.g?v.g.size:0}function ti(v,R){return v.h?v.h==R:v.g?v.g.has(R):!1}function Yn(v,R){v.g?v.g.add(R):v.h=R}function ql(v,R){v.h&&v.h==R?v.h=null:v.g&&v.g.has(R)&&v.g.delete(R)}Bo.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Wl(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let R=v.i;for(const U of v.g.values())R=R.concat(U.D);return R}return _(v.i)}function ya(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(c(v)){for(var R=[],U=v.length,ne=0;ne<U;ne++)R.push(v[ne]);return R}R=[],U=0;for(ne in v)R[U++]=v[ne];return R}function Uo(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(c(v)||typeof v=="string"){var R=[];v=v.length;for(var U=0;U<v;U++)R.push(U);return R}R=[],U=0;for(const ne in v)R[U++]=ne;return R}}}function zo(v,R){if(v.forEach&&typeof v.forEach=="function")v.forEach(R,void 0);else if(c(v)||typeof v=="string")Array.prototype.forEach.call(v,R,void 0);else for(var U=Uo(v),ne=ya(v),Ae=ne.length,Re=0;Re<Ae;Re++)R.call(void 0,ne[Re],U&&U[Re],v)}var ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rl(v,R){if(v){v=v.split("&");for(var U=0;U<v.length;U++){var ne=v[U].indexOf("="),Ae=null;if(0<=ne){var Re=v[U].substring(0,ne);Ae=v[U].substring(ne+1)}else Re=v[U];R(Re,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function pr(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof pr){this.h=v.h,qo(this,v.j),this.o=v.o,this.g=v.g,Wo(this,v.s),this.l=v.l;var R=v.i,U=new ys;U.i=R.i,R.g&&(U.g=new Map(R.g),U.h=R.h),go(this,U),this.m=v.m}else v&&(R=String(v).match(ni))?(this.h=!1,qo(this,R[1]||"",!0),this.o=nn(R[2]||""),this.g=nn(R[3]||"",!0),Wo(this,R[4]),this.l=nn(R[5]||"",!0),go(this,R[6]||"",!0),this.m=nn(R[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}pr.prototype.toString=function(){var v=[],R=this.j;R&&v.push(Fs(R,il,!0),":");var U=this.g;return(U||R=="file")&&(v.push("//"),(R=this.o)&&v.push(Fs(R,il,!0),"@"),v.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&v.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&v.push("/"),v.push(Fs(U,U.charAt(0)=="/"?Vs:Xc,!0))),(U=this.i.toString())&&v.push("?",U),(U=this.m)&&v.push("#",Fs(U,$o)),v.join("")};function ri(v){return new pr(v)}function qo(v,R,U){v.j=U?nn(R,!0):R,v.j&&(v.j=v.j.replace(/:$/,""))}function Wo(v,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);v.s=R}else v.s=null}function go(v,R,U){R instanceof ys?(v.i=R,Bs(v.i,v.h)):(U||(R=Fs(R,va)),v.i=new ys(R,v.h))}function Nn(v,R,U){v.i.set(R,U)}function yo(v){return Nn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function nn(v,R){return v?R?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Fs(v,R,U){return typeof v=="string"?(v=encodeURI(v).replace(R,Yc),U&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Yc(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var il=/[#\/\?@]/g,Xc=/[#\?:]/g,Vs=/[#\?]/g,va=/[#\?@]/g,$o=/#/g;function ys(v,R){this.h=this.g=null,this.i=v||null,this.j=!!R}function gn(v){v.g||(v.g=new Map,v.h=0,v.i&&rl(v.i,function(R,U){v.add(decodeURIComponent(R.replace(/\+/g," ")),U)}))}t=ys.prototype,t.add=function(v,R){gn(this),this.i=null,v=Yi(this,v);var U=this.g.get(v);return U||this.g.set(v,U=[]),U.push(R),this.h+=1,this};function vs(v,R){gn(v),R=Yi(v,R),v.g.has(R)&&(v.i=null,v.h-=v.g.get(R).length,v.g.delete(R))}function Ki(v,R){return gn(v),R=Yi(v,R),v.g.has(R)}t.forEach=function(v,R){gn(this),this.g.forEach(function(U,ne){U.forEach(function(Ae){v.call(R,Ae,ne,this)},this)},this)},t.na=function(){gn(this);const v=Array.from(this.g.values()),R=Array.from(this.g.keys()),U=[];for(let ne=0;ne<R.length;ne++){const Ae=v[ne];for(let Re=0;Re<Ae.length;Re++)U.push(R[ne])}return U},t.V=function(v){gn(this);let R=[];if(typeof v=="string")Ki(this,v)&&(R=R.concat(this.g.get(Yi(this,v))));else{v=Array.from(this.g.values());for(let U=0;U<v.length;U++)R=R.concat(v[U])}return R},t.set=function(v,R){return gn(this),this.i=null,v=Yi(this,v),Ki(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[R]),this.h+=1,this},t.get=function(v,R){return v?(v=this.V(v),0<v.length?String(v[0]):R):R};function kt(v,R,U){vs(v,R),0<U.length&&(v.i=null,v.g.set(Yi(v,R),_(U)),v.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],R=Array.from(this.g.keys());for(var U=0;U<R.length;U++){var ne=R[U];const Re=encodeURIComponent(String(ne)),Xe=this.V(ne);for(ne=0;ne<Xe.length;ne++){var Ae=Re;Xe[ne]!==""&&(Ae+="="+encodeURIComponent(String(Xe[ne]))),v.push(Ae)}}return this.i=v.join("&")};function Yi(v,R){return R=String(R),v.j&&(R=R.toLowerCase()),R}function Bs(v,R){R&&!v.j&&(gn(v),v.i=null,v.g.forEach(function(U,ne){var Ae=ne.toLowerCase();ne!=Ae&&(vs(this,ne),kt(this,Ae,U))},v)),v.j=R}function Us(v,R){const U=new Ir;if(a.Image){const ne=new Image;ne.onload=y(ii,U,"TestLoadImage: loaded",!0,R,ne),ne.onerror=y(ii,U,"TestLoadImage: error",!1,R,ne),ne.onabort=y(ii,U,"TestLoadImage: abort",!1,R,ne),ne.ontimeout=y(ii,U,"TestLoadImage: timeout",!1,R,ne),a.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=v}else R(!1)}function $l(v,R){const U=new Ir,ne=new AbortController,Ae=setTimeout(()=>{ne.abort(),ii(U,"TestPingServer: timeout",!1,R)},1e4);fetch(v,{signal:ne.signal}).then(Re=>{clearTimeout(Ae),Re.ok?ii(U,"TestPingServer: ok",!0,R):ii(U,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Ae),ii(U,"TestPingServer: error",!1,R)})}function ii(v,R,U,ne,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),ne(U)}catch{}}function sl(){this.g=new Wi}function ol(v,R,U){const ne=U||"";try{zo(v,function(Ae,Re){let Xe=Ae;d(Ae)&&(Xe=bn(Ae)),R.push(ne+Re+"="+encodeURIComponent(Xe))})}catch(Ae){throw R.push(ne+"type="+encodeURIComponent("_badmap")),Ae}}function vo(v){this.l=v.Ub||null,this.j=v.eb||!1}S(vo,rn),vo.prototype.g=function(){return new wa(this.l,this.j)},vo.prototype.i=function(v){return function(){return v}}({});function wa(v,R){St.call(this),this.D=v,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(wa,St),t=wa.prototype,t.open=function(v,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=R,this.readyState=1,si(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(R.body=v),(this.D||a).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qc(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qc(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var R=v.value?v.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!v.done}))&&(this.response=this.responseText+=R)}v.done?Ii(this):si(this),this.readyState==3&&Qc(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,Ii(this))},t.Qa=function(v){this.g&&(this.response=v,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(v){v.readyState=4,v.l=null,v.j=null,v.v=null,si(v)}t.setRequestHeader=function(v,R){this.u.append(v,R)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],R=this.h.entries();for(var U=R.next();!U.done;)U=U.value,v.push(U[0]+": "+U[1]),U=R.next();return v.join(`\r
`)};function si(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function mi(v){let R="";return ae(v,function(U,ne){R+=ne,R+=":",R+=U,R+=`\r
`}),R}function Ho(v,R,U){e:{for(ne in U){var ne=!1;break e}ne=!0}ne||(U=mi(U),typeof v=="string"?U!=null&&encodeURIComponent(String(U)):Nn(v,R,U))}function Tn(v){St.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Tn,St);var Hl=/^https?$/i,Go=["POST","PUT"];t=Tn.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,R,U,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);R=R?R.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_r.g(),this.v=this.o?js(this.o):js(_r),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(R,String(v),!0),this.B=!1}catch(Re){Ko(this,Re);return}if(v=U||"",U=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var Ae in ne)U.set(Ae,ne[Ae]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Re of ne.keys())U.set(Re,ne.get(Re));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(U.keys()).find(Re=>Re.toLowerCase()=="content-type"),Ae=a.FormData&&v instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Go,R,void 0))||ne||Ae||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Xe]of U)this.g.setRequestHeader(Re,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ki(this),this.u=!0,this.g.send(v),this.u=!1}catch(Re){Ko(this,Re)}};function Ko(v,R){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=R,v.m=5,ba(v),gi(v)}function ba(v){v.A||(v.A=!0,Pt(v,"complete"),Pt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Pt(this,"complete"),Pt(this,"abort"),gi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?al(this):this.bb())},t.bb=function(){al(this)};function al(v){if(v.h&&typeof o<"u"&&(!v.v[1]||mr(v)!=4||v.Z()!=2)){if(v.u&&mr(v)==4)At(v.Ea,0,v);else if(Pt(v,"readystatechange"),mr(v)==4){v.h=!1;try{const Xe=v.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var U;if(!(U=R)){var ne;if(ne=Xe===0){var Ae=String(v.D).match(ni)[1]||null;!Ae&&a.self&&a.self.location&&(Ae=a.self.location.protocol.slice(0,-1)),ne=!Hl.test(Ae?Ae.toLowerCase():"")}U=ne}if(U)Pt(v,"complete"),Pt(v,"success");else{v.m=6;try{var Re=2<mr(v)?v.g.statusText:""}catch{Re=""}v.l=Re+" ["+v.Z()+"]",ba(v)}}finally{gi(v)}}}}function gi(v,R){if(v.g){ki(v);const U=v.g,ne=v.v[0]?()=>{}:null;v.g=null,v.v=null,R||Pt(v,"ready");try{U.onreadystatechange=ne}catch{}}}function ki(v){v.I&&(a.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function mr(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var R=this.g.responseText;return v&&R.indexOf(v)==0&&(R=R.substring(v.length)),Dn(R)}};function Gl(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(v){const R={};v=(v.g&&2<=mr(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<v.length;ne++){if(C(v[ne]))continue;var U=k(v[ne]);const Ae=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Re=R[Ae]||[];R[Ae]=Re,Re.push(U)}F(R,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(v,R,U){return U&&U.internalChannelParams&&U.internalChannelParams[v]||R}function xa(v){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kr("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kr("baseRetryDelayMs",5e3,v),this.cb=kr("retryDelaySeedMs",1e4,v),this.Wa=kr("forwardChannelMaxRetries",2,v),this.wa=kr("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(v&&v.concurrentRequestLimit),this.Da=new sl,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xa.prototype,t.la=8,t.G=1,t.connect=function(v,R,U,ne){pt(0),this.W=v,this.H=R||{},U&&ne!==void 0&&(this.H.OSID=U,this.H.OAID=ne),this.F=this.X,this.I=A(this,null,this.W),zs(this)};function sr(v){if(wo(v),v.G==3){var R=v.U++,U=ri(v.I);if(Nn(U,"SID",v.K),Nn(U,"RID",R),Nn(U,"TYPE","terminate"),qs(v,U),R=new hr(v,v.j,R),R.L=2,R.v=yo(ri(U)),U=!1,a.navigator&&a.navigator.sendBeacon)try{U=a.navigator.sendBeacon(R.v.toString(),"")}catch{}!U&&a.Image&&(new Image().src=R.v,U=!0),U||(R.g=Y(R.j,null),R.g.ea(R.v)),R.F=Date.now(),On(R)}ul(v)}function bs(v){v.g&&(ll(v),v.g.cancel(),v.g=null)}function wo(v){bs(v),v.u&&(a.clearTimeout(v.u),v.u=null),xo(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&a.clearTimeout(v.s),v.s=null)}function zs(v){if(!Ni(v.h)&&!v.s){v.s=!0;var R=v.Ga;le||Z(),re||(le(),re=!0),pe.add(R,v),v.B=0}}function Kl(v,R){return ga(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=R.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Nr(g(v.Ga,v,R),cl(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Ae=new hr(this,this.j,v);let Re=this.o;if(this.S&&(Re?(Re=L(Re),H(Re,this.S)):Re=this.S),this.m!==null||this.O||(Ae.H=Re,Re=null),this.P)e:{for(var R=0,U=0;U<this.i.length;U++){t:{var ne=this.i[U];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(R+=ne,4096<R){R=U;break e}if(R===4096||U===this.i.length-1){R=U+1;break e}}R=1e3}else R=1e3;R=xs(this,Ae,R),U=ri(this.I),Nn(U,"RID",v),Nn(U,"CVER",22),this.D&&Nn(U,"X-HTTP-Session-Id",this.D),qs(this,U),Re&&(this.O?R="headers="+encodeURIComponent(String(mi(Re)))+"&"+R:this.m&&Ho(U,this.m,Re)),Yn(this.h,Ae),this.Ua&&Nn(U,"TYPE","init"),this.P?(Nn(U,"$req",R),Nn(U,"SID","null"),Ae.T=!0,po(Ae,U,null)):po(Ae,U,R),this.G=2}}else this.G==3&&(v?Yo(this,v):this.i.length==0||Ni(this.h)||Yo(this))};function Yo(v,R){var U;R?U=R.l:U=v.U++;const ne=ri(v.I);Nn(ne,"SID",v.K),Nn(ne,"RID",U),Nn(ne,"AID",v.T),qs(v,ne),v.m&&v.o&&Ho(ne,v.m,v.o),U=new hr(v,v.j,U,v.B+1),v.m===null&&(U.H=v.o),R&&(v.i=R.D.concat(v.i)),R=xs(v,U,1e3),U.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Yn(v.h,U),po(U,ne,R)}function qs(v,R){v.H&&ae(v.H,function(U,ne){Nn(R,ne,U)}),v.l&&zo({},function(U,ne){Nn(R,ne,U)})}function xs(v,R,U){U=Math.min(v.i.length,U);var ne=v.l?g(v.l.Na,v.l,v):null;e:{var Ae=v.i;let Re=-1;for(;;){const Xe=["count="+U];Re==-1?0<U?(Re=Ae[0].g,Xe.push("ofs="+Re)):Re=0:Xe.push("ofs="+Re);let $t=!0;for(let sn=0;sn<U;sn++){let Ht=Ae[sn].g;const En=Ae[sn].map;if(Ht-=Re,0>Ht)Re=Math.max(0,Ae[sn].g-100),$t=!1;else try{ol(En,Xe,"req"+Ht+"_")}catch{ne&&ne(En)}}if($t){ne=Xe.join("&");break e}}}return v=v.i.splice(0,U),R.D=v,ne}function bo(v){if(!v.g&&!v.u){v.Y=1;var R=v.Fa;le||Z(),re||(le(),re=!0),pe.add(R,v),v.v=0}}function Xo(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Nr(g(v.Fa,v),cl(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,Jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Nr(g(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),bs(this),Jc(this))};function ll(v){v.A!=null&&(a.clearTimeout(v.A),v.A=null)}function Jc(v){v.g=new hr(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var R=ri(v.qa);Nn(R,"RID","rpc"),Nn(R,"SID",v.K),Nn(R,"AID",v.T),Nn(R,"CI",v.F?"0":"1"),!v.F&&v.ja&&Nn(R,"TO",v.ja),Nn(R,"TYPE","xmlhttp"),qs(v,R),v.m&&v.o&&Ho(R,v.m,v.o),v.L&&(v.g.I=v.L);var U=v.g;v=v.ia,U.L=1,U.v=yo(ri(R)),U.m=null,U.P=!0,Vo(U,v)}t.Za=function(){this.C!=null&&(this.C=null,bs(this),Xo(this),pt(19))};function xo(v){v.C!=null&&(a.clearTimeout(v.C),v.C=null)}function Ws(v,R){var U=null;if(v.g==R){xo(v),ll(v),v.g=null;var ne=2}else if(ti(v.h,R))U=R.D,ql(v.h,R),ne=1;else return;if(v.G!=0){if(R.o)if(ne==1){U=R.m?R.m.length:0,R=Date.now()-R.F;var Ae=v.B;ne=ms(),Pt(ne,new fi(ne,U)),zs(v)}else bo(v);else if(Ae=R.s,Ae==3||Ae==0&&0<R.X||!(ne==1&&Kl(v,R)||ne==2&&Xo(v)))switch(U&&0<U.length&&(R=v.h,R.i=R.i.concat(U)),Ae){case 1:yi(v,5);break;case 4:yi(v,10);break;case 3:yi(v,6);break;default:yi(v,2)}}}function cl(v,R){let U=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(U*=2),U*R}function yi(v,R){if(v.j.info("Error code "+R),R==2){var U=g(v.fb,v),ne=v.Xa;const Ae=!ne;ne=new pr(ne||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qo(ne,"https"),yo(ne),Ae?Us(ne.toString(),U):$l(ne.toString(),U)}else pt(2);v.G=0,v.l&&v.l.sa(R),ul(v),wo(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function ul(v){if(v.G=0,v.ka=[],v.l){const R=Wl(v.h);(R.length!=0||v.i.length!=0)&&(T(v.ka,R),T(v.ka,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.ra()}}function A(v,R,U){var ne=U instanceof pr?ri(U):new pr(U);if(ne.g!="")R&&(ne.g=R+"."+ne.g),Wo(ne,ne.s);else{var Ae=a.location;ne=Ae.protocol,R=R?R+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var Re=new pr(null);ne&&qo(Re,ne),R&&(Re.g=R),Ae&&Wo(Re,Ae),U&&(Re.l=U),ne=Re}return U=v.D,R=v.ya,U&&R&&Nn(ne,U,R),Nn(ne,"VER",v.la),qs(v,ne),ne}function Y(v,R,U){if(R&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=v.Ca&&!v.pa?new Tn(new vo({eb:U})):new Tn(v.pa),R.Ha(v.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function he(){}t=he.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ve(){}ve.prototype.g=function(v,R){return new Pe(v,R)};function Pe(v,R){St.call(this),this.g=new xa(R),this.l=v,this.h=R&&R.messageUrlParams||null,v=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(v?v["X-WebChannel-Content-Type"]=R.messageContentType:v={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(v?v["X-WebChannel-Client-Profile"]=R.va:v={"X-WebChannel-Client-Profile":R.va}),this.g.S=v,(v=R&&R.Sb)&&!C(v)&&(this.g.m=v),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!C(R)&&(this.g.D=R,v=this.h,v!==null&&R in v&&(v=this.h,R in v&&delete v[R])),this.j=new lt(this)}S(Pe,St),Pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pe.prototype.close=function(){sr(this.g)},Pe.prototype.o=function(v){var R=this.g;if(typeof v=="string"){var U={};U.__data__=v,v=U}else this.u&&(U={},U.__data__=bn(v),v=U);R.i.push(new Kc(R.Ya++,v)),R.G==3&&zs(R)},Pe.prototype.N=function(){this.g.l=null,delete this.j,sr(this.g),delete this.g,Pe.aa.N.call(this)};function Be(v){Kr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var R=v.__sm__;if(R){e:{for(const U in R){v=U;break e}v=void 0}(this.i=v)&&(v=this.i,R=R!==null&&v in R?R[v]:void 0),this.data=R}else this.data=v}S(Be,Kr);function Ke(){Bn.call(this),this.status=1}S(Ke,Bn);function lt(v){this.g=v}S(lt,he),lt.prototype.ua=function(){Pt(this.g,"a")},lt.prototype.ta=function(v){Pt(this.g,new Be(v))},lt.prototype.sa=function(v){Pt(this.g,new Ke)},lt.prototype.ra=function(){Pt(this.g,"b")},ve.prototype.createWebChannel=ve.prototype.g,Pe.prototype.send=Pe.prototype.o,Pe.prototype.open=Pe.prototype.m,Pe.prototype.close=Pe.prototype.close,q4=function(){return new ve},z4=function(){return ms()},U4=Nt,iw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,c0=hi,Hi.COMPLETE="complete",B4=Hi,Vn.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",St.prototype.listen=St.prototype.K,Dp=Vn,Tn.prototype.listenOnce=Tn.prototype.L,Tn.prototype.getLastError=Tn.prototype.Ka,Tn.prototype.getLastErrorCode=Tn.prototype.Ba,Tn.prototype.getStatus=Tn.prototype.Z,Tn.prototype.getResponseJson=Tn.prototype.Oa,Tn.prototype.getResponseText=Tn.prototype.oa,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Ha,V4=Tn}).apply(typeof Fg<"u"?Fg:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",hT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}us.UNAUTHENTICATED=new us(null),us.GOOGLE_CREDENTIALS=new us("google-credentials-uid"),us.FIRST_PARTY=new us("first-party-uid"),us.MOCK_USER=new us("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new qb("@firebase/firestore");function rh(){return lf.logLevel}function gt(t,...e){if(lf.logLevel<=dn.DEBUG){const n=e.map(n5);lf.debug(`Firestore (${Uh}): ${t}`,...n)}}function Rc(t,...e){if(lf.logLevel<=dn.ERROR){const n=e.map(n5);lf.error(`Firestore (${Uh}): ${t}`,...n)}}function kh(t,...e){if(lf.logLevel<=dn.WARN){const n=e.map(n5);lf.warn(`Firestore (${Uh}): ${t}`,...n)}}function n5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,W4(t,r,n)}function W4(t,e,n){let r=`FIRESTORE (${Uh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rc(r),new Error(r)}function Fn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||W4(e,i,r)}function Yt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Bl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(us.UNAUTHENTICATED))}shutdown(){}}class zV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qV{constructor(e){this.t=e,this.currentUser=us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Cc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Cc,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Cc)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fn(typeof r.accessToken=="string",31837,{l:r}),new $4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fn(e===null||typeof e=="string",2055,{h:e}),new us(e)}}class WV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=us.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $V{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ls(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fn(this.o===void 0,3512);const r=s=>{s.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,gt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=GV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function hn(t,e){return t<e?-1:t>e?1:0}function sw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return M1(i)===M1(s)?hn(i,s):M1(i)?1:-1}return hn(t.length,e.length)}const KV=55296,YV=57343;function M1(t){const e=t.charCodeAt(0);return e>=KV&&e<=YV}function Rh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__name__";class Tl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ut(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ut(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Tl.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return hn(e.length,n.length)}static compareSegments(e,n){const r=Tl.isNumericId(e),i=Tl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Tl.extractNumericId(e).compare(Tl.extractNumericId(n)):sw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gu.fromString(e.substring(4,e.length-2))}}class Jn extends Tl{construct(e,n,r){return new Jn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new dt(We.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Jn(n)}static emptyPath(){return new Jn([])}}const XV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends Tl{construct(e,n,r){return new zi(e,n,r)}static isValidIdentifier(e){return XV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mT}static keyField(){return new zi([mT])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new dt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new dt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new dt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new dt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zi(n)}static emptyPath(){return new zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.path=e}static fromPath(e){return new Et(Jn.fromString(e))}static fromName(e){return new Et(Jn.fromString(e).popFirst(5))}static empty(){return new Et(Jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new Jn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e,n){if(!n)throw new dt(We.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QV(t,e,n,r){if(e===!0&&r===!0)throw new dt(We.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gT(t){if(!Et.isDocumentKey(t))throw new dt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yT(t){if(Et.isDocumentKey(t))throw new dt(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function G4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ut(12329,{type:typeof t})}function Xa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new dt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fy(t);throw new dt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,e){const n={typeString:t};return e&&(n.value=e),n}function Om(t,e){if(!G4(t))throw new dt(We.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new dt(We.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=-62135596800,wT=1e6;class Zn{static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wT);return new Zn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new dt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vT)throw new dt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wT}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Om(e,Zn._jsonSchema))return new Zn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zn._jsonSchemaVersion="firestore/timestamp/1.0",Zn._jsonSchema={type:ei("string",Zn._jsonSchemaVersion),seconds:ei("number"),nanoseconds:ei("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new Zn(0,0))}static max(){return new Gt(new Zn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=-1;function JV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Gt.fromTimestamp(r===1e9?new Zn(n+1,0):new Zn(n,r));return new Ju(i,Et.empty(),e)}function ZV(t){return new Ju(t.readTime,t.key,am)}class Ju{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ju(Gt.min(),Et.empty(),am)}static max(){return new Ju(Gt.max(),Et.empty(),am)}}function eB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Et.comparator(t.documentKey,e.documentKey),n!==0?n:hn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){if(t.code!==We.FAILED_PRECONDITION||t.message!==tB)throw t;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new He((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof He?n:He.resolve(n)}catch(n){return He.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):He.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):He.reject(n)}static resolve(e){return new He((n,r)=>{n(e)})}static reject(e){return new He((n,r)=>{r(e)})}static waitFor(e){return new He((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=He.resolve(!1);for(const r of e)n=n.next(i=>i?He.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new He((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(f=>{o[d]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new He((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function rB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=-1;function By(t){return t==null}function W0(t){return t===0&&1/t==-1/0}function iB(t){return typeof t=="number"&&Number.isInteger(t)&&!W0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="";function sB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bT(e)),e=oB(t.get(n),e);return bT(e)}function oB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case K4:n+="";break;default:n+=s}}return n}function bT(t){return t+K4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ld(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.comparator=e,this.root=n||Ui.EMPTY}insert(e,n){return new Cr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new Cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vg(this.root,e,this.comparator,!0)}}class Vg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ui.RED,this.left=i??Ui.EMPTY,this.right=s??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ui(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ut(27949);return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1;Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ui(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.comparator=e,this.data=new Cr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(e){return new _T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof di)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new di(this.comparator);return n.data=e,n}}class _T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.fields=e,e.sort(zi.comparator)}static empty(){return new Ro([])}unionWith(e){let n=new di(zi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ro(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new X4("Invalid base64 string: "+s):s}}(e);return new qi(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const aB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zu(t){if(Fn(!!t,39018),typeof t=="string"){let e=0;const n=aB.exec(t);if(Fn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zr(t.seconds),nanos:zr(t.nanos)}}function zr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ed(t){return typeof t=="string"?qi.fromBase64String(t):qi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="server_timestamp",J4="__type__",Z4="__previous_value__",e3="__local_write_time__";function Uy(t){return(t?.mapValue?.fields||{})[J4]?.stringValue===Q4}function zy(t){const e=t.mapValue.fields[Z4];return Uy(e)?zy(e):e}function lm(t){const e=Zu(t.mapValue.fields[e3].timestampValue);return new Zn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n,r,i,s,o,a,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f}}const $0="(default)";class cm{constructor(e,n){this.projectId=e,this.database=n||$0}static empty(){return new cm("","")}get isDefaultDatabase(){return this.database===$0}isEqual(e){return e instanceof cm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="__type__",cB="__max__",Bg={mapValue:{}},n3="__vector__",H0="value";function td(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uy(t)?4:dB(t)?9007199254740991:uB(t)?10:11:Ut(28295,{value:t})}function Fl(t,e){if(t===e)return!0;const n=td(t);if(n!==td(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lm(t).isEqual(lm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zu(i.timestampValue),a=Zu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ed(i.bytesValue).isEqual(ed(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return zr(i.geoPointValue.latitude)===zr(s.geoPointValue.latitude)&&zr(i.geoPointValue.longitude)===zr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return zr(i.integerValue)===zr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=zr(i.doubleValue),a=zr(s.doubleValue);return o===a?W0(o)===W0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rh(t.arrayValue.values||[],e.arrayValue.values||[],Fl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xT(o)!==xT(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Fl(o[c],a[c])))return!1;return!0}(t,e);default:return Ut(52216,{left:t})}}function um(t,e){return(t.values||[]).find(n=>Fl(n,e))!==void 0}function Lh(t,e){if(t===e)return 0;const n=td(t),r=td(e);if(n!==r)return hn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hn(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=zr(s.integerValue||s.doubleValue),c=zr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ST(t.timestampValue,e.timestampValue);case 4:return ST(lm(t),lm(e));case 5:return sw(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ed(s),c=ed(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const f=hn(a[d],c[d]);if(f!==0)return f}return hn(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=hn(zr(s.latitude),zr(o.latitude));return a!==0?a:hn(zr(s.longitude),zr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TT(t.arrayValue,e.arrayValue);case 10:return function(s,o){const a=s.fields||{},c=o.fields||{},d=a[H0]?.arrayValue,f=c[H0]?.arrayValue,h=hn(d?.values?.length||0,f?.values?.length||0);return h!==0?h:TT(d,f)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Bg.mapValue&&o===Bg.mapValue)return 0;if(s===Bg.mapValue)return 1;if(o===Bg.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),d=o.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const g=sw(c[h],f[h]);if(g!==0)return g;const y=Lh(a[c[h]],d[f[h]]);if(y!==0)return y}return hn(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ut(23264,{he:n})}}function ST(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return hn(t,e);const n=Zu(t),r=Zu(e),i=hn(n.seconds,r.seconds);return i!==0?i:hn(n.nanos,r.nanos)}function TT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Lh(n[i],r[i]);if(s)return s}return hn(n.length,r.length)}function Dh(t){return ow(t)}function ow(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ed(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Et.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ow(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ow(n.fields[o])}`;return i+"}"}(t.mapValue):Ut(61005,{value:t})}function u0(t){switch(td(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zy(t);return e?16+u0(e):16;case 5:return 2*t.stringValue.length;case 6:return ed(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+u0(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ld(r.fields,(s,o)=>{i+=s.length+u0(o)}),i}(t.mapValue);default:throw Ut(13486,{value:t})}}function G0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aw(t){return!!t&&"integerValue"in t}function s5(t){return!!t&&"arrayValue"in t}function ET(t){return!!t&&"nullValue"in t}function AT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function d0(t){return!!t&&"mapValue"in t}function uB(t){return(t?.mapValue?.fields||{})[t3]?.stringValue===n3}function $p(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ld(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$p(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$p(t.arrayValue.values[n]);return e}return{...t}}function dB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!d0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$p(n)}setAll(e){let n=zi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$p(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());d0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];d0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ld(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new io($p(this.value))}}function r3(t){const e=[];return ld(t.fields,(n,r)=>{const i=new zi([n]);if(d0(r)){const s=r3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ro(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ds(e,0,Gt.min(),Gt.min(),Gt.min(),io.empty(),0)}static newFoundDocument(e,n,r,i){return new ds(e,1,n,Gt.min(),r,i,0)}static newNoDocument(e,n){return new ds(e,2,n,Gt.min(),Gt.min(),io.empty(),0)}static newUnknownDocument(e,n){return new ds(e,3,n,Gt.min(),Gt.min(),io.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ds&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ds(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function CT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Et.comparator(Et.fromName(o.referenceValue),n.key):r=Lh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n="asc"){this.field=e,this.dir=n}}function fB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{}class Zr extends i3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pB(e,n,r):n==="array-contains"?new yB(e,r):n==="in"?new vB(e,r):n==="not-in"?new wB(e,r):n==="array-contains-any"?new bB(e,r):new Zr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mB(e,r):new gB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lh(n,this.value)):n!==null&&td(this.value)===td(n)&&this.matchesComparison(Lh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qa extends i3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qa(e,n)}matches(e){return s3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s3(t){return t.op==="and"}function o3(t){return hB(t)&&s3(t)}function hB(t){for(const e of t.filters)if(e instanceof Qa)return!1;return!0}function lw(t){if(t instanceof Zr)return t.field.canonicalString()+t.op.toString()+Dh(t.value);if(o3(t))return t.filters.map(e=>lw(e)).join(",");{const e=t.filters.map(n=>lw(n)).join(",");return`${t.op}(${e})`}}function a3(t,e){return t instanceof Zr?function(r,i){return i instanceof Zr&&r.op===i.op&&r.field.isEqual(i.field)&&Fl(r.value,i.value)}(t,e):t instanceof Qa?function(r,i){return i instanceof Qa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&a3(o,i.filters[a]),!0):!1}(t,e):void Ut(19439)}function l3(t){return t instanceof Zr?function(n){return`${n.field.canonicalString()} ${n.op} ${Dh(n.value)}`}(t):t instanceof Qa?function(n){return n.op.toString()+" {"+n.getFilters().map(l3).join(" ,")+"}"}(t):"Filter"}class pB extends Zr{constructor(e,n,r){super(e,n,r),this.key=Et.fromName(r.referenceValue)}matches(e){const n=Et.comparator(e.key,this.key);return this.matchesComparison(n)}}class mB extends Zr{constructor(e,n){super(e,"in",n),this.keys=c3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gB extends Zr{constructor(e,n){super(e,"not-in",n),this.keys=c3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function c3(t,e){return(e.arrayValue?.values||[]).map(n=>Et.fromName(n.referenceValue))}class yB extends Zr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s5(n)&&um(n.arrayValue,this.value)}}class vB extends Zr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&um(this.value.arrayValue,n)}}class wB extends Zr{constructor(e,n){super(e,"not-in",n)}matches(e){if(um(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!um(this.value.arrayValue,n)}}class bB extends Zr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>um(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function NT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xB(t,e,n,r,i,s,o)}function o5(t){const e=Yt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),By(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Dh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Dh(r)).join(",")),e.Te=n}return e.Te}function a5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!a3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PT(t.startAt,e.startAt)&&PT(t.endAt,e.endAt)}function cw(t){return Et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _B(t,e,n,r,i,s,o,a){return new Sf(t,e,n,r,i,s,o,a)}function l5(t){return new Sf(t)}function IT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c5(t){return t.collectionGroup!==null}function vh(t){const e=Yt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new di(zi.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new dm(s,r))}),n.has(zi.keyField().canonicalString())||e.Ie.push(new dm(zi.keyField(),r))}return e.Ie}function Ll(t){const e=Yt(t);return e.Ee||(e.Ee=SB(e,vh(t))),e.Ee}function SB(t,e){if(t.limitType==="F")return NT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new dm(i.field,s)});const n=t.endAt?new Oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oh(t.startAt.position,t.startAt.inclusive):null;return NT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uw(t,e){const n=t.filters.concat([e]);return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function K0(t,e,n){return new Sf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qy(t,e){return a5(Ll(t),Ll(e))&&t.limitType===e.limitType}function u3(t){return`${o5(Ll(t))}|lt:${t.limitType}`}function ih(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>l3(i)).join(", ")}]`),By(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Dh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Dh(i)).join(",")),`Target(${r})`}(Ll(t))}; limitType=${t.limitType})`}function Wy(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of vh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const d=CT(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,vh(r),i)||r.endAt&&!function(o,a,c){const d=CT(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,vh(r),i))}(t,e)}function TB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function d3(t){return(e,n)=>{let r=!1;for(const i of vh(t)){const s=EB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function EB(t,e,n){const r=t.field.isKeyField()?Et.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),d=a.data.field(s);return c!==null&&d!==null?Lh(c,d):Ut(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ut(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ld(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Y4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=new Cr(Et.comparator);function Lc(){return AB}const f3=new Cr(Et.comparator);function Op(...t){let e=f3;for(const n of t)e=e.insert(n.key,n);return e}function h3(t){let e=f3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hd(){return Hp()}function p3(){return Hp()}function Hp(){return new Tf(t=>t.toString(),(t,e)=>t.isEqual(e))}const CB=new Cr(Et.comparator),PB=new di(Et.comparator);function pn(...t){let e=PB;for(const n of t)e=e.add(n);return e}const NB=new di(hn);function IB(){return NB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W0(e)?"-0":e}}function m3(t){return{integerValue:""+t}}function kB(t,e){return iB(e)?m3(e):u5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this._=void 0}}function RB(t,e,n){return t instanceof fm?function(i,s){const o={fields:{[J4]:{stringValue:Q4},[e3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Uy(s)&&(s=zy(s)),s&&(o.fields[Z4]=s),{mapValue:o}}(n,e):t instanceof hm?y3(t,e):t instanceof pm?v3(t,e):function(i,s){const o=g3(i,s),a=kT(o)+kT(i.Ae);return aw(o)&&aw(i.Ae)?m3(a):u5(i.serializer,a)}(t,e)}function LB(t,e,n){return t instanceof hm?y3(t,e):t instanceof pm?v3(t,e):n}function g3(t,e){return t instanceof Y0?function(r){return aw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fm extends $y{}class hm extends $y{constructor(e){super(),this.elements=e}}function y3(t,e){const n=w3(e);for(const r of t.elements)n.some(i=>Fl(i,r))||n.push(r);return{arrayValue:{values:n}}}class pm extends $y{constructor(e){super(),this.elements=e}}function v3(t,e){let n=w3(e);for(const r of t.elements)n=n.filter(i=>!Fl(i,r));return{arrayValue:{values:n}}}class Y0 extends $y{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kT(t){return zr(t.integerValue||t.doubleValue)}function w3(t){return s5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n){this.field=e,this.transform=n}}function OB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hm&&i instanceof hm||r instanceof pm&&i instanceof pm?Rh(r.elements,i.elements,Fl):r instanceof Y0&&i instanceof Y0?Fl(r.Ae,i.Ae):r instanceof fm&&i instanceof fm}(t.transform,e.transform)}class jB{constructor(e,n){this.version=e,this.transformResults=n}}class da{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new da}static exists(e){return new da(void 0,e)}static updateTime(e){return new da(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function f0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hy{}function b3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d5(t.key,da.none()):new jm(t.key,t.data,da.none());{const n=t.data,r=io.empty();let i=new di(zi.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new cd(t.key,r,new Ro(i.toArray()),da.none())}}function MB(t,e,n){t instanceof jm?function(i,s,o){const a=i.value.clone(),c=LT(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof cd?function(i,s,o){if(!f0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=LT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(x3(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gp(t,e,n,r){return t instanceof jm?function(s,o,a,c){if(!f0(s.precondition,o))return a;const d=s.value.clone(),f=DT(s.fieldTransforms,c,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof cd?function(s,o,a,c){if(!f0(s.precondition,o))return a;const d=DT(s.fieldTransforms,c,o),f=o.data;return f.setAll(x3(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return f0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function FB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=g3(r.transform,i||null);s!=null&&(n===null&&(n=io.empty()),n.set(r.field,s))}return n||null}function RT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rh(r,i,(s,o)=>OB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jm extends Hy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cd extends Hy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function x3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function LT(t,e,n){const r=new Map;Fn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,LB(o,a,n[i]))}return r}function DT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,RB(s,o,e))}return r}class d5 extends Hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VB extends Hy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&MB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=p3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=b3(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pn())}isEqual(e){return this.batchId===e.batchId&&Rh(this.mutations,e.mutations,(n,r)=>RT(n,r))&&Rh(this.baseMutations,e.baseMutations,(n,r)=>RT(n,r))}}class f5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return CB}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new f5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr,wn;function qB(t){switch(t){case We.OK:return Ut(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return Ut(15467,{code:t})}}function _3(t){if(t===void 0)return Rc("GRPC error has no .code"),We.UNKNOWN;switch(t){case Qr.OK:return We.OK;case Qr.CANCELLED:return We.CANCELLED;case Qr.UNKNOWN:return We.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return We.INTERNAL;case Qr.UNAVAILABLE:return We.UNAVAILABLE;case Qr.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Qr.NOT_FOUND:return We.NOT_FOUND;case Qr.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Qr.ABORTED:return We.ABORTED;case Qr.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Qr.DATA_LOSS:return We.DATA_LOSS;default:return Ut(39323,{code:t})}}(wn=Qr||(Qr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=new Gu([4294967295,4294967295],0);function OT(t){const e=WB().encode(t),n=new F4;return n.update(e),new Uint8Array(n.digest())}function jT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gu([n,r],0),new Gu([i,s],0)]}class h5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jp(`Invalid padding: ${n}`);if(r<0)throw new jp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jp(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jp(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gu.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Gu.fromNumber(r)));return i.compare($B)===1&&(i=new Gu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OT(e),[r,i]=jT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new h5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=OT(e),[r,i]=jT(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Mm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gy(Gt.min(),i,new Cr(hn),Lc(),pn())}}class Mm{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Mm(r,n,pn(),pn(),pn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class S3{constructor(e,n){this.targetId=e,this.Ce=n}}class T3{constructor(e,n,r=qi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class MT{constructor(){this.ve=0,this.Fe=FT(),this.Me=qi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pn(),n=pn(),r=pn();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ut(38017,{changeType:s})}}),new Mm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lc(),this.Je=Ug(),this.He=Ug(),this.Ye=new Cr(hn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ut(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(cw(s))if(r===0){const o=new Et(s.path);this.et(n,o,ds.newNoDocument(o,Gt.min()))}else Fn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ed(r).toUint8Array()}catch(c){if(c instanceof X4)return kh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new h5(o,i,s)}catch(c){return kh(c instanceof jp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&cw(a.target)){const c=new Et(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ds.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=pn();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Gy(e,n,this.Ye,this.je,r);return this.je=Lc(),this.Je=Ug(),this.He=Ug(),this.Ye=new Cr(hn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new MT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new di(hn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new di(hn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||gt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new MT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ug(){return new Cr(Et.comparator)}function FT(){return new Cr(Et.comparator)}const GB={asc:"ASCENDING",desc:"DESCENDING"},KB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YB={and:"AND",or:"OR"};class XB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dw(t,e){return t.useProto3Json||By(e)?e:{value:e}}function X0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QB(t,e){return X0(t,e.toTimestamp())}function Dl(t){return Fn(!!t,49232),Gt.fromTimestamp(function(n){const r=Zu(n);return new Zn(r.seconds,r.nanos)}(t))}function p5(t,e){return fw(t,e).canonicalString()}function fw(t,e){const n=function(i){return new Jn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function A3(t){const e=Jn.fromString(t);return Fn(k3(e),10190,{key:e.toString()}),e}function hw(t,e){return p5(t.databaseId,e.path)}function F1(t,e){const n=A3(e);if(n.get(1)!==t.databaseId.projectId)throw new dt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new dt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Et(P3(n))}function C3(t,e){return p5(t.databaseId,e)}function JB(t){const e=A3(t);return e.length===4?Jn.emptyPath():P3(e)}function pw(t){return new Jn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function P3(t){return Fn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function VT(t,e,n){return{name:hw(t,e),fields:n.value.mapValue.fields}}function ZB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ut(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(Fn(f===void 0||typeof f=="string",58123),qi.fromBase64String(f||"")):(Fn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),qi.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const f=d.code===void 0?We.UNKNOWN:_3(d.code);return new dt(f,d.message||"")}(o);n=new T3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=F1(t,r.document.name),s=Dl(r.document.updateTime),o=r.document.createTime?Dl(r.document.createTime):Gt.min(),a=new io({mapValue:{fields:r.document.fields}}),c=ds.newFoundDocument(i,s,o,a),d=r.targetIds||[],f=r.removedTargetIds||[];n=new h0(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=F1(t,r.document),s=r.readTime?Dl(r.readTime):Gt.min(),o=ds.newNoDocument(i,s),a=r.removedTargetIds||[];n=new h0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=F1(t,r.document),s=r.removedTargetIds||[];n=new h0([],s,i,null)}else{if(!("filter"in e))return Ut(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zB(i,s),a=r.targetId;n=new S3(a,o)}}return n}function eU(t,e){let n;if(e instanceof jm)n={update:VT(t,e.key,e.value)};else if(e instanceof d5)n={delete:hw(t,e.key)};else if(e instanceof cd)n={update:VT(t,e.key,e.data),updateMask:cU(e.fieldMask)};else{if(!(e instanceof VB))return Ut(16599,{Vt:e.type});n={verify:hw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof fm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Y0)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Ut(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ut(27497)}(t,e.precondition)),n}function tU(t,e){return t&&t.length>0?(Fn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Dl(i.updateTime):Dl(s);return o.isEqual(Gt.min())&&(o=Dl(s)),new jB(o,i.transformResults||[])}(n,e))):[]}function nU(t,e){return{documents:[C3(t,e.path)]}}function rU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=C3(t,i);const s=function(d){if(d.length!==0)return I3(Qa.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:sh(g.field),direction:oU(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:i}}function iU(t){let e=JB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fn(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const g=N3(h);return g instanceof Qa&&o3(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(g=>function(S){return new dm(oh(S.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(h){let g;return g=typeof h=="object"?h.value:h,By(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(h){const g=!!h.before,y=h.values||[];return new Oh(y,g)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const g=!h.before,y=h.values||[];return new Oh(y,g)}(n.endAt)),_B(e,i,o,s,a,"F",c,d)}function sU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oh(n.unaryFilter.field);return Zr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oh(n.unaryFilter.field);return Zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oh(n.unaryFilter.field);return Zr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oh(n.unaryFilter.field);return Zr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(t):t.fieldFilter!==void 0?function(n){return Zr.create(oh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qa.create(n.compositeFilter.filters.map(r=>N3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(n.compositeFilter.op))}(t):Ut(30097,{filter:t})}function oU(t){return GB[t]}function aU(t){return KB[t]}function lU(t){return YB[t]}function sh(t){return{fieldPath:t.canonicalString()}}function oh(t){return zi.fromServerFormat(t.fieldPath)}function I3(t){return t instanceof Zr?function(n){if(n.op==="=="){if(AT(n.value))return{unaryFilter:{field:sh(n.field),op:"IS_NAN"}};if(ET(n.value))return{unaryFilter:{field:sh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AT(n.value))return{unaryFilter:{field:sh(n.field),op:"IS_NOT_NAN"}};if(ET(n.value))return{unaryFilter:{field:sh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sh(n.field),op:aU(n.op),value:n.value}}}(t):t instanceof Qa?function(n){const r=n.getFilters().map(i=>I3(i));return r.length===1?r[0]:{compositeFilter:{op:lU(n.op),filters:r}}}(t):Ut(54877,{filter:t})}function cU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function k3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r,i,s=Gt.min(),o=Gt.min(),a=qi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.yt=e}}function dU(t){const e=iU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?K0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(){this.Cn=new hU}addToCollectionParentIndex(e,n){return this.Cn.add(n),He.resolve()}getCollectionParents(e,n){return He.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return He.resolve()}deleteFieldIndex(e,n){return He.resolve()}deleteAllFieldIndexes(e){return He.resolve()}createTargetIndexes(e,n){return He.resolve()}getDocumentsMatchingTarget(e,n){return He.resolve(null)}getIndexType(e,n){return He.resolve(0)}getFieldIndexes(e,n){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,n){return He.resolve(Ju.min())}getMinOffsetFromCollectionGroup(e,n){return He.resolve(Ju.min())}updateCollectionGroup(e,n,r){return He.resolve()}updateIndexEntries(e,n){return He.resolve()}}class hU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new di(Jn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new di(Jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R3=41943040;class no{static withCacheSize(e){return new no(e,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no.DEFAULT_COLLECTION_PERCENTILE=10,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,no.DEFAULT=new no(R3,no.DEFAULT_COLLECTION_PERCENTILE,no.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),no.DISABLED=new no(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jh(0)}static cr(){return new jh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="LruGarbageCollector",pU=1048576;function zT([t,e],[n,r]){const i=hn(t,n);return i===0?hn(e,r):i}class mU{constructor(e){this.Ir=e,this.buffer=new di(zT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){gt(UT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qh(n)?gt(UT,"Ignoring IndexedDB error during garbage collection: ",n):await zh(n)}await this.Vr(3e5)})}}class yU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return He.resolve(Vy.ce);const r=new mU(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(BT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(d=Date.now(),rh()<=dn.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function vU(t,e){return new yU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.changes=new Tf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ds.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?He.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gp(r.mutation,i,Ro.empty(),Zn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pn()){const i=Hd();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Op();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hd();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Lc();const o=Hp(),a=function(){return Hp()}();return n.forEach((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof cd)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Gp(f.mutation,d,f.mutation.getFieldMask(),Zn.now())):o.set(d.key,Ro.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>a.set(d,new bU(f,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Hp();let i=new Cr((o,a)=>o-a),s=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||Ro.empty();f=a.applyToLocalView(d,f),r.set(c,f);const h=(i.get(a.batchId)||pn()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,f=c.value,h=p3();f.forEach(g=>{if(!s.has(g)){const y=b3(n.get(g),r.get(g));y!==null&&h.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,h))}return He.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Et.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):He.resolve(Hd());let a=am,c=s;return o.next(d=>He.forEach(d,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(f)?He.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,pn())).next(f=>({batchId:a,changes:h3(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Et(n)).next(r=>{let i=Op();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Op();return this.indexManager.getCollectionParents(e,s).next(a=>He.forEach(a,c=>{const d=function(h,g){return new Sf(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((h,g)=>{o=o.insert(h,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ds.newInvalidDocument(f)))});let a=Op();return o.forEach((c,d)=>{const f=s.get(c);f!==void 0&&Gp(f.mutation,d,Ro.empty(),Zn.now()),Wy(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return He.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Dl(i.createTime)}}(n)),He.resolve()}getNamedQuery(e,n){return He.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:dU(i.bundledQuery),readTime:Dl(i.readTime)}}(n)),He.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.overlays=new Cr(Et.comparator),this.qr=new Map}getOverlay(e,n){return He.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hd();return He.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),He.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),He.resolve()}getOverlaysForCollection(e,n,r){const i=Hd(),s=n.length+1,o=new Et(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return He.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Cr((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Hd(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const a=Hd(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=i)););return He.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UB(n,r));let s=this.qr.get(n);s===void 0&&(s=pn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(e){return He.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,He.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.Qr=new di(Ei.$r),this.Ur=new di(Ei.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ei(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ei(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Et(new Jn([])),r=new Ei(n,e),i=new Ei(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Et(new Jn([])),r=new Ei(n,e),i=new Ei(n,e+1);let s=pn();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ei(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ei{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Et.comparator(e.key,n.key)||hn(e.Yr,n.Yr)}static Kr(e,n){return hn(e.Yr,n.Yr)||Et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new di(Ei.$r)}checkEmpty(e){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BB(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Ei(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return He.resolve(o)}lookupMutationBatch(e,n){return He.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return He.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?i5:this.tr-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ei(n,0),i=new Ei(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),He.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new di(hn);return n.forEach(i=>{const s=new Ei(i,0),o=new Ei(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),He.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Et.isDocumentKey(s)||(s=s.child(""));const o=new Ei(new Et(s),0);let a=new di(hn);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(c.Yr)),!0)},o),He.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return He.forEach(n.mutations,i=>{const s=new Ei(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ei(n,0),i=this.Zr.firstAfterOrEqual(r);return He.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,He.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e){this.ri=e,this.docs=function(){return new Cr(Et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return He.resolve(r?r.document.mutableCopy():ds.newInvalidDocument(n))}getEntries(e,n){let r=Lc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ds.newInvalidDocument(i))}),He.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Lc();const o=n.path,a=new Et(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||eB(ZV(f),r)<=0||(i.has(f.key)||Wy(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return He.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ut(9500)}ii(e,n){return He.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CU(this)}getSize(e){return He.resolve(this.size)}}class CU extends wU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),He.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.persistence=e,this.si=new Tf(n=>o5(n),a5),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.oi=0,this._i=new m5,this.targetCount=0,this.ai=jh.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),He.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,He.resolve()}updateTargetData(e,n){return this.Pr(n),He.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),He.waitFor(s).next(()=>i)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return He.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),He.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),He.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),He.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return He.resolve(r)}containsKey(e,n){return He.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vy(0),this.li=!1,this.li=!0,this.hi=new TU,this.referenceDelegate=e(this),this.Pi=new PU(this),this.indexManager=new fU,this.remoteDocumentCache=function(i){return new AU(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new uU(n),this.Ii=new _U(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new EU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){gt("MemoryPersistence","Starting transaction:",e);const i=new NU(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return He.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class NU extends nB{constructor(e){super(),this.currentSequenceNumber=e}}class g5{constructor(e){this.persistence=e,this.Ri=new m5,this.Vi=null}static mi(e){return new g5(e)}get fi(){if(this.Vi)return this.Vi;throw Ut(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),He.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),He.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),He.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.fi,r=>{const i=Et.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Gt.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return He.or([()=>He.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Q0{constructor(e,n){this.persistence=e,this.pi=new Tf(r=>sB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vU(this,n)}static mi(e,n){return new Q0(e,n)}Ei(){}di(e){return He.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return He.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?He.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Gt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),He.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),He.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),He.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),He.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=u0(e.data.value)),n}br(e,n,r){return He.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return He.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=pn(),i=pn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new y5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return s7()?8:rB(ps())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new IU;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(rh()<=dn.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",ih(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),He.resolve()):(rh()<=dn.DEBUG&&gt("QueryEngine","Query:",ih(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(rh()<=dn.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",ih(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ll(n))):He.resolve())}ys(e,n){if(IT(n))return He.resolve(null);let r=Ll(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=K0(n,null,"F"),r=Ll(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=pn(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,K0(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,i){return IT(n)||i.isEqual(Gt.min())?He.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?He.resolve(null):(rh()<=dn.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ih(n)),this.vs(e,o,n,JV(i,am)).next(a=>a))})}Ds(e,n){let r=new di(d3(e));return n.forEach((i,s)=>{Wy(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return rh()<=dn.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",ih(n)),this.ps.getDocumentsMatchingQuery(e,n,Ju.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="LocalStore",RU=3e8;class LU{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Cr(hn),this.xs=new Tf(s=>o5(s),a5),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function DU(t,e,n,r){return new LU(t,e,n,r)}async function D3(t,e){const n=Yt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=pn();for(const d of i){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function OU(t,e){const n=Yt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,f){const h=d.batch,g=h.keys();let y=He.resolve();return g.forEach(S=>{y=y.next(()=>f.getEntry(c,S)).next(_=>{const T=d.docVersions.get(S);Fn(T!==null,48541),_.version.compareTo(T)<0&&(h.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),f.addEntry(_)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=pn();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function O3(t){const e=Yt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function jU(t,e){const n=Yt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((f,h)=>{const g=i.get(h);if(!g)return;a.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,h)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(qi.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(h,y),function(_,T,E){return _.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=RU?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,y,f)&&a.push(n.Pi.updateTargetData(s,y))});let c=Lc(),d=pn();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(MU(s,o,e.documentUpdates).next(f=>{c=f.ks,d=f.qs})),!r.isEqual(Gt.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return He.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.Ms=i,s))}function MU(t,e,n){let r=pn(),i=pn();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Lc();return n.forEach((a,c)=>{const d=s.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Gt.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):gt(v5,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:i}})}function FU(t,e){const n=Yt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=i5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VU(t,e){const n=Yt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,He.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Bu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function mw(t,e,n){const r=Yt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!qh(o))throw o;gt(v5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function qT(t,e,n){const r=Yt(t);let i=Gt.min(),s=pn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,f){const h=Yt(c),g=h.xs.get(f);return g!==void 0?He.resolve(h.Ms.get(g)):h.Pi.getTargetData(d,f)}(r,o,Ll(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Gt.min(),n?s:pn())).next(a=>(BU(r,TB(e),a),{documents:a,Qs:s})))}function BU(t,e,n){let r=t.Os.get(e)||Gt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class WT{constructor(){this.activeTargetIds=IB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UU{constructor(){this.Mo=new WT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new WT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="ConnectivityMonitor";class HT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gt($T,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){gt($T,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg=null;function gw(){return zg===null?zg=function(){return 268435456+Math.round(2147483648*Math.random())}():zg++,"0x"+zg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="RestConnection",qU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=gw(),a=this.zo(e,n.toUriEncodedString());gt(V1,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:d}=new URL(a),f=ad(d);return this.Jo(e,a,c,r,f).then(h=>(gt(V1,`Received RPC '${e}' ${o}: `,h),h),h=>{throw kh(V1,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=qU[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="WebChannelConnection";class HU extends WU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=gw();return new Promise((a,c)=>{const d=new V4;d.setWithCredentials(!0),d.listenOnce(B4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case c0.NO_ERROR:const h=d.getResponseJson();gt(is,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case c0.TIMEOUT:gt(is,`RPC '${e}' ${o} timed out`),c(new dt(We.DEADLINE_EXCEEDED,"Request time out"));break;case c0.HTTP_ERROR:const g=d.getStatus();if(gt(is,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y?.error;if(S&&S.status&&S.message){const _=function(E){const C=E.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(C)>=0?C:We.UNKNOWN}(S.status);c(new dt(_,S.message))}else c(new dt(We.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new dt(We.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{gt(is,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);gt(is,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",f,r,15)})}T_(e,n,r){const i=gw(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=q4(),a=z4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");gt(is,`Creating RPC '${e}' stream ${i}: ${f}`,c);const h=o.createWebChannel(f,c);this.I_(h);let g=!1,y=!1;const S=new $U({Yo:T=>{y?gt(is,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(g||(gt(is,`Opening RPC '${e}' stream ${i} transport.`),h.open(),g=!0),gt(is,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},Zo:()=>h.close()}),_=(T,E,C)=>{T.listen(E,I=>{try{C(I)}catch(D){setTimeout(()=>{throw D},0)}})};return _(h,Dp.EventType.OPEN,()=>{y||(gt(is,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),_(h,Dp.EventType.CLOSE,()=>{y||(y=!0,gt(is,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(h))}),_(h,Dp.EventType.ERROR,T=>{y||(y=!0,kh(is,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),S.a_(new dt(We.UNAVAILABLE,"The operation could not be completed")))}),_(h,Dp.EventType.MESSAGE,T=>{if(!y){const E=T.data[0];Fn(!!E,16349);const C=E,I=C?.error||C[0]?.error;if(I){gt(is,`RPC '${e}' stream ${i} received error:`,I);const D=I.status;let K=function(L){const B=Qr[L];if(B!==void 0)return _3(B)}(D),ae=I.message;K===void 0&&(K=We.INTERNAL,ae="Unknown error status: "+D+" with message "+I.message),y=!0,S.a_(new dt(K,ae)),h.close()}else gt(is,`RPC '${e}' stream ${i} received:`,E),S.u_(E)}}),_(a,U4.STAT_EVENT,T=>{T.stat===iw.PROXY?gt(is,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===iw.NOPROXY&&gt(is,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function B1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){return new XB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&gt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="PersistentStream";class M3{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===We.RESOURCE_EXHAUSTED?(Rc(n.toString()),Rc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new dt(We.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return gt(GT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(gt(GT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GU extends M3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZB(this.serializer,e),r=function(s){if(!("targetChange"in s))return Gt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Gt.min():o.readTime?Dl(o.readTime):Gt.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pw(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=cw(c)?{documents:nU(s,c)}:{query:rU(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=E3(s,o.resumeToken);const d=dw(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Gt.min())>0){a.readTime=X0(s,o.snapshotVersion.toTimestamp());const d=dw(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=sU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pw(this.serializer),n.removeTarget=e,this.q_(n)}}class KU extends M3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tU(e.writeResults,e.commitTime),r=Dl(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{}class XU extends YU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new dt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,fw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new dt(We.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,fw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(We.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class QU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rc(n),this.aa=!1):gt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="RemoteStore";class JU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ef(this)&&(gt(cf,"Restarting streams for network reachability change."),await async function(c){const d=Yt(c);d.Ea.add(4),await Fm(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Yy(d)}(this))})}),this.Ra=new QU(r,i)}}async function Yy(t){if(Ef(t))for(const e of t.da)await e(!0)}async function Fm(t){for(const e of t.da)await e(!1)}function F3(t,e){const n=Yt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_5(n)?x5(n):Wh(n).O_()&&b5(n,e))}function w5(t,e){const n=Yt(t),r=Wh(n);n.Ia.delete(e),r.O_()&&V3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ef(n)&&n.Ra.set("Unknown"))}function b5(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wh(t).Y_(e)}function V3(t,e){t.Va.Ue(e),Wh(t).Z_(e)}function x5(t){t.Va=new HB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Wh(t).start(),t.Ra.ua()}function _5(t){return Ef(t)&&!Wh(t).x_()&&t.Ia.size>0}function Ef(t){return Yt(t).Ea.size===0}function B3(t){t.Va=void 0}async function ZU(t){t.Ra.set("Online")}async function ez(t){t.Ia.forEach((e,n)=>{b5(t,e)})}async function tz(t,e){B3(t),_5(t)?(t.Ra.ha(e),x5(t)):t.Ra.set("Unknown")}async function nz(t,e,n){if(t.Ra.set("Online"),e instanceof T3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){gt(cf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await J0(t,r)}else if(e instanceof h0?t.Va.Ze(e):e instanceof S3?t.Va.st(e):t.Va.tt(e),!n.isEqual(Gt.min()))try{const r=await O3(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(qi.EMPTY_BYTE_STRING,f.snapshotVersion)),V3(s,c);const h=new Bu(f.target,c,d,f.sequenceNumber);b5(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){gt(cf,"Failed to raise snapshot:",r),await J0(t,r)}}async function J0(t,e,n){if(!qh(e))throw e;t.Ea.add(1),await Fm(t),t.Ra.set("Offline"),n||(n=()=>O3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{gt(cf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yy(t)})}function U3(t,e){return e().catch(n=>J0(t,n,e))}async function Xy(t){const e=Yt(t),n=nd(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:i5;for(;rz(e);)try{const i=await FU(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,iz(e,i)}catch(i){await J0(e,i)}z3(e)&&q3(e)}function rz(t){return Ef(t)&&t.Ta.length<10}function iz(t,e){t.Ta.push(e);const n=nd(t);n.O_()&&n.X_&&n.ea(e.mutations)}function z3(t){return Ef(t)&&!nd(t).x_()&&t.Ta.length>0}function q3(t){nd(t).start()}async function sz(t){nd(t).ra()}async function oz(t){const e=nd(t);for(const n of t.Ta)e.ea(n.mutations)}async function az(t,e,n){const r=t.Ta.shift(),i=f5.from(r,e,n);await U3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xy(t)}async function lz(t,e){e&&nd(t).X_&&await async function(r,i){if(function(o){return qB(o)&&o!==We.ABORTED}(i.code)){const s=r.Ta.shift();nd(r).B_(),await U3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xy(r)}}(t,e),z3(t)&&q3(t)}async function KT(t,e){const n=Yt(t);n.asyncQueue.verifyOperationInProgress(),gt(cf,"RemoteStore received new credentials");const r=Ef(n);n.Ea.add(3),await Fm(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yy(n)}async function cz(t,e){const n=Yt(t);e?(n.Ea.delete(2),await Yy(n)):e||(n.Ea.add(2),await Fm(n),n.Ra.set("Unknown"))}function Wh(t){return t.ma||(t.ma=function(n,r,i){const s=Yt(n);return s.sa(),new GU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:ZU.bind(null,t),t_:ez.bind(null,t),r_:tz.bind(null,t),H_:nz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),_5(t)?x5(t):t.Ra.set("Unknown")):(await t.ma.stop(),B3(t))})),t.ma}function nd(t){return t.fa||(t.fa=function(n,r,i){const s=Yt(n);return s.sa(),new KU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sz.bind(null,t),r_:lz.bind(null,t),ta:oz.bind(null,t),na:az.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Xy(t)):(await t.fa.stop(),t.Ta.length>0&&(gt(cf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Cc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new S5(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T5(t,e){if(Rc("AsyncQueue",`${e}: ${t}`),qh(t))return new dt(We.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{static emptySet(e){return new wh(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Et.comparator(n.key,r.key):(n,r)=>Et.comparator(n.key,r.key),this.keyedMap=Op(),this.sortedSet=new Cr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.ga=new Cr(Et.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ut(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mh{constructor(e,n,r,i,s,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Mh(e,n,wh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dz{constructor(){this.queries=XT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Yt(n),s=i.queries;i.queries=XT(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new dt(We.ABORTED,"Firestore shutting down"))}}function XT(){return new Tf(t=>u3(t),qy)}async function W3(t,e){const n=Yt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new uz,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=T5(o,`Initialization of query '${ih(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&E5(n)}async function $3(t,e){const n=Yt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fz(t,e){const n=Yt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&E5(n)}function hz(t,e,n){const r=Yt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function E5(t){t.Ca.forEach(e=>{e.next()})}var yw,QT;(QT=yw||(yw={})).Ma="default",QT.Cache="cache";class H3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.key=e}}class K3{constructor(e){this.key=e}}class pz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pn(),this.mutatedKeys=pn(),this.eu=d3(e),this.tu=new wh(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new YT,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const g=i.get(f),y=Wy(this.query,h)?h:null,S=!!g&&this.mutatedKeys.has(g.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let T=!1;g&&y?g.data.isEqual(y.data)?S!==_&&(r.track({type:3,doc:y}),T=!0):this.su(g,y)||(r.track({type:2,doc:y}),T=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),T=!0):g&&!y&&(r.track({type:1,doc:g}),T=!0,(c||d)&&(a=!0)),T&&(y?(o=o.add(y),s=_?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,h)=>function(y,S){const _=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Rt:T})}};return _(y)-_(S)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Mh(this.query,e.tu,s,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new K3(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new G3(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const A5="SyncEngine";class mz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gz{constructor(e){this.key=e,this.hu=!1}}class yz{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Tf(a=>u3(a),qy),this.Iu=new Map,this.Eu=new Set,this.du=new Cr(Et.comparator),this.Au=new Map,this.Ru=new m5,this.Vu={},this.mu=new Map,this.fu=jh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vz(t,e,n=!0){const r=eN(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Y3(r,e,n,!0),i}async function wz(t,e){const n=eN(t);await Y3(n,e,!0,!1)}async function Y3(t,e,n,r){const i=await VU(t.localStore,Ll(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await bz(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&F3(t.remoteStore,i),a}async function bz(t,e,n,r,i){t.pu=(h,g,y)=>async function(_,T,E,C){let I=T.view.ru(E);I.Cs&&(I=await qT(_.localStore,T.query,!1).then(({documents:F})=>T.view.ru(F,I)));const D=C&&C.targetChanges.get(T.targetId),K=C&&C.targetMismatches.get(T.targetId)!=null,ae=T.view.applyChanges(I,_.isPrimaryClient,D,K);return ZT(_,T.targetId,ae.au),ae.snapshot}(t,h,g,y);const s=await qT(t.localStore,e,!0),o=new pz(e,s.Qs),a=o.ru(s.documents),c=Mm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,c);ZT(t,n,d.au);const f=new mz(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function xz(t,e,n){const r=Yt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!qy(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&w5(r.remoteStore,i.targetId),vw(r,i.targetId)}).catch(zh)):(vw(r,i.targetId),await mw(r.localStore,i.targetId,!0))}async function _z(t,e){const n=Yt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),w5(n.remoteStore,r.targetId))}async function Sz(t,e,n){const r=Iz(t);try{const i=await function(o,a){const c=Yt(o),d=Zn.now(),f=a.reduce((y,S)=>y.add(S.key),pn());let h,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Lc(),_=pn();return c.Ns.getEntries(y,f).next(T=>{S=T,S.forEach((E,C)=>{C.isValidDocument()||(_=_.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,S)).next(T=>{h=T;const E=[];for(const C of a){const I=FB(C,h.get(C.key).overlayedDocument);I!=null&&E.push(new cd(C.key,I,r3(I.value.mapValue),da.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,E,a)}).next(T=>{g=T;const E=T.applyToLocalDocumentSet(h,_);return c.documentOverlayCache.saveOverlays(y,T.batchId,E)})}).then(()=>({batchId:g.batchId,changes:h3(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new Cr(hn)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,i.batchId,n),await Vm(r,i.changes),await Xy(r.remoteStore)}catch(i){const s=T5(i,"Failed to persist write");n.reject(s)}}async function X3(t,e){const n=Yt(t);try{const r=await jU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Fn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Fn(o.hu,14607):i.removedDocuments.size>0&&(Fn(o.hu,42227),o.hu=!1))}),await Vm(n,r,e)}catch(r){await zh(r)}}function JT(t,e,n){const r=Yt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Yt(o);c.onlineState=a;let d=!1;c.queries.forEach((f,h)=>{for(const g of h.Sa)g.va(a)&&(d=!0)}),d&&E5(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tz(t,e,n){const r=Yt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Cr(Et.comparator);o=o.insert(s,ds.newNoDocument(s,Gt.min()));const a=pn().add(s),c=new Gy(Gt.min(),new Map,new Cr(hn),o,a);await X3(r,c),r.du=r.du.remove(s),r.Au.delete(e),C5(r)}else await mw(r.localStore,e,!1).then(()=>vw(r,e,n)).catch(zh)}async function Ez(t,e){const n=Yt(t),r=e.batch.batchId;try{const i=await OU(n.localStore,e);J3(n,r,null),Q3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vm(n,i)}catch(i){await zh(i)}}async function Az(t,e,n){const r=Yt(t);try{const i=await function(o,a){const c=Yt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return c.mutationQueue.lookupMutationBatch(d,a).next(h=>(Fn(h!==null,37113),f=h.keys(),c.mutationQueue.removeMutationBatch(d,h))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>c.localDocuments.getDocuments(d,f))})}(r.localStore,e);J3(r,e,n),Q3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vm(r,i)}catch(i){await zh(i)}}function Q3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function J3(t,e,n){const r=Yt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function vw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Z3(t,r)})}function Z3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(w5(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),C5(t))}function ZT(t,e,n){for(const r of n)r instanceof G3?(t.Ru.addReference(r.key,e),Cz(t,r)):r instanceof K3?(gt(A5,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Z3(t,r.key)):Ut(19791,{wu:r})}function Cz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(gt(A5,"New document in limbo: "+n),t.Eu.add(r),C5(t))}function C5(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Et(Jn.fromString(e)),r=t.fu.next();t.Au.set(r,new gz(n)),t.du=t.du.insert(n,r),F3(t.remoteStore,new Bu(Ll(l5(n.path)),r,"TargetPurposeLimboResolution",Vy.ce))}}async function Vm(t,e,n){const r=Yt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=y5.As(c.targetId,d);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,d){const f=Yt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>He.forEach(d,g=>He.forEach(g.Es,y=>f.persistence.referenceDelegate.addReference(h,g.targetId,y)).next(()=>He.forEach(g.ds,y=>f.persistence.referenceDelegate.removeReference(h,g.targetId,y)))))}catch(h){if(!qh(h))throw h;gt(v5,"Failed to update sequence numbers: "+h)}for(const h of d){const g=h.targetId;if(!h.fromCache){const y=f.Ms.get(g),S=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(S);f.Ms=f.Ms.insert(g,_)}}}(r.localStore,s))}async function Pz(t,e){const n=Yt(t);if(!n.currentUser.isEqual(e)){gt(A5,"User change. New user:",e.toKey());const r=await D3(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new dt(We.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vm(n,r.Ls)}}function Nz(t,e){const n=Yt(t),r=n.Au.get(e);if(r&&r.hu)return pn().add(r.key);{let i=pn();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function eN(t){const e=Yt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tz.bind(null,e),e.Pu.H_=fz.bind(null,e.eventManager),e.Pu.yu=hz.bind(null,e.eventManager),e}function Iz(t){const e=Yt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ez.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Az.bind(null,e),e}class Z0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ky(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return DU(this.persistence,new kU,e.initialUser,this.serializer)}Cu(e){return new L3(g5.mi,this.serializer)}Du(e){return new UU}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Z0.provider={build:()=>new Z0};class kz extends Z0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fn(this.persistence.referenceDelegate instanceof Q0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?no.withCacheSize(this.cacheSizeBytes):no.DEFAULT;return new L3(r=>Q0.mi(r,n),this.serializer)}}class ww{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pz.bind(null,this.syncEngine),await cz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dz}()}createDatastore(e){const n=Ky(e.databaseInfo.databaseId),r=function(s){return new HU(s)}(e.databaseInfo);return function(s,o,a,c){return new XU(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new JU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>JT(this.syncEngine,n,0),function(){return HT.v()?new HT:new zU}())}createSyncEngine(e,n){return function(i,s,o,a,c,d,f){const h=new yz(i,s,o,a,c,d);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Yt(n);gt(cf,"RemoteStore shutting down."),r.Ea.add(5),await Fm(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ww.provider={build:()=>new ww};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="FirestoreClient";class Rz{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=us.UNAUTHENTICATED,this.clientId=r5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{gt(rd,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(gt(rd,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=T5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function U1(t,e){t.asyncQueue.verifyOperationInProgress(),gt(rd,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await D3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lz(t);gt(rd,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>KT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>KT(e.remoteStore,i)),t._onlineComponents=e}async function Lz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){gt(rd,"Using user provided OfflineComponentProvider");try{await U1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;kh("Error using user provided cache. Falling back to memory cache: "+n),await U1(t,new Z0)}}else gt(rd,"Using default OfflineComponentProvider"),await U1(t,new kz(void 0));return t._offlineComponents}async function nN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(gt(rd,"Using user provided OnlineComponentProvider"),await eE(t,t._uninitializedComponentsProvider._online)):(gt(rd,"Using default OnlineComponentProvider"),await eE(t,new ww))),t._onlineComponents}function Dz(t){return nN(t).then(e=>e.syncEngine)}async function rN(t){const e=await nN(t),n=e.eventManager;return n.onListen=vz.bind(null,e.syncEngine),n.onUnlisten=xz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_z.bind(null,e.syncEngine),n}function Oz(t,e,n={}){const r=new Cc;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,d){const f=new tN({next:g=>{f.Nu(),o.enqueueAndForget(()=>$3(s,h));const y=g.docs.has(a);!y&&g.fromCache?d.reject(new dt(We.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?d.reject(new dt(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),h=new H3(l5(a.path),f,{includeMetadataChanges:!0,qa:!0});return W3(s,h)}(await rN(t),t.asyncQueue,e,n,r)),r.promise}function jz(t,e,n={}){const r=new Cc;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,d){const f=new tN({next:g=>{f.Nu(),o.enqueueAndForget(()=>$3(s,h)),g.fromCache&&c.source==="server"?d.reject(new dt(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),h=new H3(a,f,{includeMetadataChanges:!0,qa:!0});return W3(s,h)}(await rN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firestore.googleapis.com",nE=!0;class rE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new dt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sN,this.ssl=nE}else this.host=e.host,this.ssl=e.ssl??nE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pU)throw new dt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new dt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UV;switch(r.type){case"firstParty":return new $V(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tE.get(n);r&&(gt("ComponentProvider","Removing Datastore"),tE.delete(n),r.terminate())}(this),Promise.resolve()}}function Mz(t,e,n,r={}){t=Xa(t,Qy);const i=ad(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Ub(`https://${a}`),zb("Firestore",!0)),s.host!==sN&&s.host!==a&&kh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!rf(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=us.MOCK_USER;else{d=YP(r.mockUserToken,t._app?.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new dt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new us(h)}t._authCredentials=new zV(new $4(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $c(this.firestore,e,this._query)}}class Gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}toJSON(){return{type:Gr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Om(n,Gr._jsonSchema))return new Gr(e,r||null,new Et(Jn.fromString(n.referencePath)))}}Gr._jsonSchemaVersion="firestore/documentReference/1.0",Gr._jsonSchema={type:ei("string",Gr._jsonSchemaVersion),referencePath:ei("string")};class Ku extends $c{constructor(e,n,r){super(e,n,l5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new Et(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function so(t,e,...n){if(t=br(t),H4("collection","path",e),t instanceof Qy){const r=Jn.fromString(e,...n);return yT(r),new Ku(t,null,r)}{if(!(t instanceof Gr||t instanceof Ku))throw new dt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jn.fromString(e,...n));return yT(r),new Ku(t.firestore,null,r)}}function Hn(t,e,...n){if(t=br(t),arguments.length===1&&(e=r5.newId()),H4("doc","path",e),t instanceof Qy){const r=Jn.fromString(e,...n);return gT(r),new Gr(t,null,new Et(r))}{if(!(t instanceof Gr||t instanceof Ku))throw new dt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jn.fromString(e,...n));return gT(r),new Gr(t.firestore,t instanceof Ku?t.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class sE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j3(this,"async_queue_retry"),this._c=()=>{const r=B1();r&&gt(iE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=B1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=B1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Cc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qh(e))throw e;gt(iE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Rc("INTERNAL UNHANDLED ERROR: ",oE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=S5.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Ut(47125,{Pc:oE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function oE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Af extends Qy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function Fz(t,e){const n=typeof t=="object"?t:$b(),r=typeof t=="string"?t:$0,i=Ly(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=HP("firestore");s&&Mz(i,...s)}return i}function P5(t){if(t._terminated)throw new dt(We.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Vz(t),t._firestoreClient}function Vz(t){const e=t._freezeSettings(),n=function(i,s,o,a){return new lB(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,iN(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Rz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(qi.fromBase64String(e))}catch(n){throw new dt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ua._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Om(e,ua._jsonSchema))return ua.fromBase64String(e.bytes)}}ua._jsonSchemaVersion="firestore/bytes/1.0",ua._jsonSchema={type:ei("string",ua._jsonSchemaVersion),bytes:ei("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new dt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new dt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new dt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ol._jsonSchemaVersion}}static fromJSON(e){if(Om(e,Ol._jsonSchema))return new Ol(e.latitude,e.longitude)}}Ol._jsonSchemaVersion="firestore/geoPoint/1.0",Ol._jsonSchema={type:ei("string",Ol._jsonSchemaVersion),latitude:ei("number"),longitude:ei("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:jl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Om(e,jl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new jl(e.vectorValues);throw new dt(We.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}jl._jsonSchemaVersion="firestore/vectorValue/1.0",jl._jsonSchema={type:ei("string",jl._jsonSchemaVersion),vectorValues:ei("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=/^__.*__$/;class Uz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cd(e,this.data,this.fieldMask,n,this.fieldTransforms):new jm(e,this.data,n,this.fieldTransforms)}}class oN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cd(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ac:t})}}class N5{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new N5({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ey(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aN(this.Ac)&&Bz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ky(e)}Cc(e,n,r,i=!1){return new N5({Ac:e,methodName:n,Dc:r,path:zi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bm(t){const e=t._freezeSettings(),n=Ky(t._databaseId);return new zz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lN(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);k5("Data must be an object, but it was:",o,r);const a=uN(r,o);let c,d;if(s.merge)c=new Ro(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const g=bw(e,h,n);if(!o.contains(g))throw new dt(We.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);fN(f,g)||f.push(g)}c=new Ro(f),d=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,d=o.fieldTransforms;return new Uz(new io(a),c,d)}class ev extends Zy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ev}}class I5 extends Zy{_toFieldTransform(e){return new DB(e.path,new fm)}isEqual(e){return e instanceof I5}}function qz(t,e,n,r){const i=t.Cc(1,e,n);k5("Data must be an object, but it was:",i,r);const s=[],o=io.empty();ld(r,(c,d)=>{const f=R5(e,c,n);d=br(d);const h=i.yc(f);if(d instanceof ev)s.push(f);else{const g=Um(d,h);g!=null&&(s.push(f),o.set(f,g))}});const a=new Ro(s);return new oN(o,a,i.fieldTransforms)}function Wz(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[bw(e,r,n)],c=[i];if(s.length%2!=0)throw new dt(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(bw(e,s[g])),c.push(s[g+1]);const d=[],f=io.empty();for(let g=a.length-1;g>=0;--g)if(!fN(d,a[g])){const y=a[g];let S=c[g];S=br(S);const _=o.yc(y);if(S instanceof ev)d.push(y);else{const T=Um(S,_);T!=null&&(d.push(y),f.set(y,T))}}const h=new Ro(d);return new oN(f,h,o.fieldTransforms)}function cN(t,e,n,r=!1){return Um(n,t.Cc(r?4:3,e))}function Um(t,e){if(dN(t=br(t)))return k5("Unsupported field value:",e,t),uN(t,e);if(t instanceof Zy)return function(r,i){if(!aN(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Um(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=br(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zn.fromDate(r);return{timestampValue:X0(i.serializer,s)}}if(r instanceof Zn){const s=new Zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:X0(i.serializer,s)}}if(r instanceof Ol)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:E3(i.serializer,r._byteString)};if(r instanceof Gr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:p5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jl)return function(o,a){return{mapValue:{fields:{[t3]:{stringValue:n3},[H0]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return u5(a.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Fy(r)}`)}(t,e)}function uN(t,e){const n={};return Y4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ld(t,(r,i)=>{const s=Um(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function dN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zn||t instanceof Ol||t instanceof ua||t instanceof Gr||t instanceof Zy||t instanceof jl)}function k5(t,e,n){if(!dN(n)||!G4(n)){const r=Fy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function bw(t,e,n){if((e=br(e))instanceof Jy)return e._internalPath;if(typeof e=="string")return R5(t,e);throw ey("Field path arguments must be of type string or ",t,!1,void 0,n)}const $z=new RegExp("[~\\*/\\[\\]]");function R5(t,e,n){if(e.search($z)>=0)throw ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jy(...e.split("."))._internalPath}catch{throw ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ey(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new dt(We.INVALID_ARGUMENT,a+t+c)}function fN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Hz extends L5{data(){return super.data()}}function tv(t,e){return typeof e=="string"?R5(t,e):e instanceof Jy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new dt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D5{}class nv extends D5{}function uf(t,e,...n){let r=[];e instanceof D5&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof O5).length,a=s.filter(c=>c instanceof rv).length;if(o>1||o>0&&a>0)throw new dt(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class rv extends nv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rv(e,n,r)}_apply(e){const n=this._parse(e);return hN(e._query,n),new $c(e.firestore,e.converter,uw(e._query,n))}_parse(e){const n=Bm(e.firestore);return function(s,o,a,c,d,f,h){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new dt(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){lE(h,f);const S=[];for(const _ of h)S.push(aE(c,s,_));g={arrayValue:{values:S}}}else g=aE(c,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||lE(h,f),g=cN(a,o,h,f==="in"||f==="not-in");return Zr.create(d,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _c(t,e,n){const r=e,i=tv("where",t);return rv._create(i,r,n)}class O5 extends D5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new O5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)hN(o,c),o=uw(o,c)}(e._query,n),new $c(e.firestore,e.converter,uw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j5 extends nv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new j5(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new dt(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new dt(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dm(s,o)}(e._query,this._field,this._direction);return new $c(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Sf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function iv(t,e="asc"){const n=e,r=tv("orderBy",t);return j5._create(r,n)}class M5 extends nv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new M5(e,n,r)}_apply(e){return new $c(e.firestore,e.converter,K0(e._query,this._limit,this._limitType))}}function Kz(t){return M5._create("limit",t,"F")}class F5 extends nv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new F5(e,n,r)}_apply(e){const n=Xz(e,this.type,this._docOrFields,this._inclusive);return new $c(e.firestore,e.converter,function(i,s){return new Sf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function Yz(...t){return F5._create("startAfter",t,!1)}function Xz(t,e,n,r){if(n[0]=br(n[0]),n[0]instanceof L5)return function(s,o,a,c,d){if(!c)throw new dt(We.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const h of vh(s))if(h.field.isKeyField())f.push(G0(o,c.key));else{const g=c.data.field(h.field);if(Uy(g))throw new dt(We.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const y=h.field.canonicalString();throw new dt(We.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(g)}return new Oh(f,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Bm(t.firestore);return function(o,a,c,d,f,h){const g=o.explicitOrderBy;if(f.length>g.length)throw new dt(We.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let S=0;S<f.length;S++){const _=f[S];if(g[S].field.isKeyField()){if(typeof _!="string")throw new dt(We.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof _}`);if(!c5(o)&&_.indexOf("/")!==-1)throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${_}' contains a slash.`);const T=o.path.child(Jn.fromString(_));if(!Et.isDocumentKey(T))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const E=new Et(T);y.push(G0(a,E))}else{const T=cN(c,d,_);y.push(T)}}return new Oh(y,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function aE(t,e,n){if(typeof(n=br(n))=="string"){if(n==="")throw new dt(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c5(e)&&n.indexOf("/")!==-1)throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Jn.fromString(n));if(!Et.isDocumentKey(r))throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G0(t,new Et(r))}if(n instanceof Gr)return G0(t,n._key);throw new dt(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fy(n)}.`)}function lE(t,e){if(!Array.isArray(t)||t.length===0)throw new dt(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hN(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new dt(We.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new dt(We.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qz{convertValue(e,n="none"){switch(td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ed(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ut(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ld(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){const n=e.fields?.[H0].arrayValue?.values?.map(r=>zr(r.doubleValue));return new jl(n)}convertGeoPoint(e){return new Ol(zr(e.latitude),zr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lm(e));default:return null}}convertTimestamp(e){const n=Zu(e);return new Zn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Jn.fromString(e);Fn(k3(r),9688,{name:e});const i=new cm(r.get(1),r.get(3)),s=new Et(r.popFirst(5));return i.isEqual(n)||Rc(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Mp{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xd extends L5{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new p0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(We.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xd._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xd._jsonSchema={type:ei("string",Xd._jsonSchemaVersion),bundleSource:ei("string","DocumentSnapshot"),bundleName:ei("string"),bundle:ei("string")};class p0 extends Xd{data(e={}){return super.data(e)}}class bh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new p0(this._firestore,this._userDataWriter,r.key,r,new Mp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new dt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new p0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new p0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:Jz(a.type),doc:c,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(We.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=r5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Jz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){t=Xa(t,Gr);const e=Xa(t.firestore,Af);return Oz(P5(e),t._key).then(n=>Zz(e,t,n))}bh._jsonSchemaVersion="firestore/querySnapshot/1.0",bh._jsonSchema={type:ei("string",bh._jsonSchemaVersion),bundleSource:ei("string","QuerySnapshot"),bundleName:ei("string"),bundle:ei("string")};class mN extends Qz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,n)}}function ff(t){t=Xa(t,$c);const e=Xa(t.firestore,Af),n=P5(e),r=new mN(e);return Gz(t._query),jz(n,t._query).then(i=>new bh(e,r,t,i))}function Qd(t,e,n){t=Xa(t,Gr);const r=Xa(t.firestore,Af),i=pN(t.converter,e);return ov(r,[lN(Bm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,da.none())])}function Ha(t,e,n,...r){t=Xa(t,Gr);const i=Xa(t.firestore,Af),s=Bm(i);let o;return o=typeof(e=br(e))=="string"||e instanceof Jy?Wz(s,"updateDoc",t._key,e,n,r):qz(s,"updateDoc",t._key,e),ov(i,[o.toMutation(t._key,da.exists(!0))])}function mm(t){return ov(Xa(t.firestore,Af),[new d5(t._key,da.none())])}function sv(t,e){const n=Xa(t.firestore,Af),r=Hn(t),i=pN(t.converter,e);return ov(n,[lN(Bm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,da.exists(!1))]).then(()=>r)}function ov(t,e){return function(r,i){const s=new Cc;return r.asyncQueue.enqueueAndForget(async()=>Sz(await Dz(r),i,s)),s.promise}(P5(t),e)}function Zz(t,e,n){const r=n.docs.get(e._key),i=new mN(t);return new Xd(t,i,e._key,r,new Mp(n.hasPendingWrites,n.fromCache),e.converter)}function Dc(){return new I5("serverTimestamp")}(function(e,n=!0){(function(i){Uh=i})(_f),sf(new Qu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Af(new qV(r.getProvider("auth-internal")),new HV(o,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new dt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cm(d.options.projectId,f)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Il(fT,hT,e),Il(fT,hT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="firebasestorage.googleapis.com",yN="storageBucket",eq=120*1e3,tq=600*1e3,nq=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Bl{constructor(e,n,r=0){super(z1(e),`Firebase Storage: ${n} (${z1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return z1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dr||(dr={}));function z1(t){return"storage/"+t}function V5(){const t="An unknown error occurred, please check the error payload for server response.";return new Pr(dr.UNKNOWN,t)}function rq(t){return new Pr(dr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iq(t){return new Pr(dr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pr(dr.UNAUTHENTICATED,t)}function oq(){return new Pr(dr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aq(t){return new Pr(dr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function vN(){return new Pr(dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wN(){return new Pr(dr.CANCELED,"User canceled the upload/download.")}function lq(t){return new Pr(dr.INVALID_URL,"Invalid URL '"+t+"'.")}function cq(t){return new Pr(dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uq(){return new Pr(dr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yN+"' property when initializing the app?")}function bN(){return new Pr(dr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dq(){return new Pr(dr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function fq(){return new Pr(dr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hq(t){return new Pr(dr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xw(t){return new Pr(dr.INVALID_ARGUMENT,t)}function xN(){return new Pr(dr.APP_DELETED,"The Firebase app was deleted.")}function pq(t){return new Pr(dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kp(t,e){return new Pr(dr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gp(t){throw new Pr(dr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Lo.makeFromUrl(e,n)}catch{return new Lo(e,"")}if(r.path==="")return r;throw cq(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function d(D){D.path_=decodeURIComponent(D.path)}const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${f}/b/${i}/o${g}`,"i"),S={bucket:1,path:3},_=n===gN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",E=new RegExp(`^https?://${_}/${i}/${T}`,"i"),I=[{regex:a,indices:c,postModify:s},{regex:y,indices:S,postModify:d},{regex:E,indices:{bucket:1,path:2},postModify:d}];for(let D=0;D<I.length;D++){const K=I[D],ae=K.regex.exec(e);if(ae){const F=ae[K.indices.bucket];let L=ae[K.indices.path];L||(L=""),r=new Lo(F,L),K.postModify(r);break}}if(r==null)throw lq(e);return r}}class mq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let d=!1;function f(...T){d||(d=!0,e.apply(null,T))}function h(T){i=setTimeout(()=>{i=null,t(y,c())},T)}function g(){s&&clearTimeout(s)}function y(T,...E){if(d){g();return}if(T){g(),f.call(null,T,...E);return}if(c()||o){g(),f.call(null,T,...E);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,h(I)}let S=!1;function _(T){S||(S=!0,g(),!d&&(i!==null?(T||(a=2),clearTimeout(i),h(0)):T||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function yq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t){return t!==void 0}function wq(t){return typeof t=="function"}function bq(t){return typeof t=="object"&&!Array.isArray(t)}function av(t){return typeof t=="string"||t instanceof String}function cE(t){return B5()&&t instanceof Blob}function B5(){return typeof Blob<"u"}function uE(t,e,n,r){if(r<e)throw xw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _N(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Jd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jd||(Jd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,n,r,i,s,o,a,c,d,f,h,g=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=h,this.retry=g,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,_)=>{this.resolve_=S,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new qg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Jd.NO_ERROR,c=s.getStatus();if(!a||SN(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Jd.ABORT;r(!1,new qg(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new qg(d,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());vq(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=V5();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?xN():wN();o(c)}else{const c=vN();o(c)}};this.canceled_?n(!1,new qg(!1,null,!0)):this.backoffId_=gq(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function _q(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Sq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Tq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Eq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Aq(t,e,n,r,i,s,o=!0,a=!1){const c=_N(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return Tq(f,e),_q(f,n),Sq(f,s),Eq(f,r),new xq(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Pq(...t){const e=Cq();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(B5())return new Blob(t);throw new Pr(dr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Nq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){if(typeof atob>"u")throw hq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class q1{constructor(e,n){this.data=e,this.contentType=n||null}}function kq(t,e){switch(t){case El.RAW:return new q1(TN(e));case El.BASE64:case El.BASE64URL:return new q1(EN(t,e));case El.DATA_URL:return new q1(Lq(e),Dq(e))}throw V5()}function TN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Rq(t){let e;try{e=decodeURIComponent(t)}catch{throw Kp(El.DATA_URL,"Malformed data URL.")}return TN(e)}function EN(t,e){switch(t){case El.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Kp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case El.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Kp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Iq(e)}catch(i){throw i.message.includes("polyfill")?i:Kp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class AN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kp(El.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Oq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Lq(t){const e=new AN(t);return e.base64?EN(El.BASE64,e.rest):Rq(e.rest)}function Dq(t){return new AN(t).contentType}function Oq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){let r=0,i="";cE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(cE(this.data_)){const r=this.data_,i=Nq(r,e,n);return i===null?null:new Fu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fu(r,!0)}}static getBlob(...e){if(B5()){const n=e.map(r=>r instanceof Fu?r.data_:r);return new Fu(Pq.apply(null,n))}else{const n=e.map(o=>av(o)?kq(El.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Fu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){let e;try{e=JSON.parse(t)}catch{return null}return bq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Mq(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function PN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t,e){return e}class Is{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Fq}}let Wg=null;function Vq(t){return!av(t)||t.length<2?t:PN(t)}function NN(){if(Wg)return Wg;const t=[];t.push(new Is("bucket")),t.push(new Is("generation")),t.push(new Is("metageneration")),t.push(new Is("name","fullPath",!0));function e(s,o){return Vq(o)}const n=new Is("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Is("size");return i.xform=r,t.push(i),t.push(new Is("timeCreated")),t.push(new Is("updated")),t.push(new Is("md5Hash",null,!0)),t.push(new Is("cacheControl",null,!0)),t.push(new Is("contentDisposition",null,!0)),t.push(new Is("contentEncoding",null,!0)),t.push(new Is("contentLanguage",null,!0)),t.push(new Is("contentType",null,!0)),t.push(new Is("metadata","customMetadata",!0)),Wg=t,Wg}function Bq(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Lo(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Uq(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Bq(r,t),r}function IN(t,e,n){const r=CN(e);return r===null?null:Uq(t,r,n)}function zq(t,e,n,r){const i=CN(e);if(i===null||!av(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(d=>{const f=t.bucket,h=t.fullPath,g="/b/"+o(f)+"/o/"+o(h),y=zm(g,n,r),S=_N({alt:"media",token:d});return y+S})[0]}function kN(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class $h{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){if(!t)throw V5()}function U5(t,e){function n(r,i){const s=IN(t,i,e);return Pc(s!==null),s}return n}function qq(t,e){function n(r,i){const s=IN(t,i,e);return Pc(s!==null),zq(s,i,t.host,t._protocol)}return n}function qm(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oq():i=sq():n.getStatus()===402?i=iq(t.bucket):n.getStatus()===403?i=aq(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function RN(t){const e=qm(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=rq(t.path)),s.serverResponse=i.serverResponse,s}return n}function Wq(t,e,n){const r=e.fullServerUrl(),i=zm(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new $h(i,s,U5(t,n),o);return a.errorHandler=RN(e),a}function $q(t,e,n){const r=e.fullServerUrl(),i=zm(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new $h(i,s,qq(t,n),o);return a.errorHandler=RN(e),a}function Hq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function LN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Hq(null,e)),r}function Gq(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let I="";for(let D=0;D<2;D++)I=I+Math.random().toString().slice(2);return I}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const d=LN(e,r,i),f=kN(d,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=Fu.getBlob(h,r,g);if(y===null)throw bN();const S={name:d.fullPath},_=zm(s,t.host,t._protocol),T="POST",E=t.maxUploadRetryTime,C=new $h(_,T,U5(t,n),E);return C.urlParams=S,C.headers=o,C.body=y.uploadData(),C.errorHandler=qm(e),C}class ty{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function z5(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Pc(!1)}return Pc(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Kq(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=LN(e,r,i),a={name:o.fullPath},c=zm(s,t.host,t._protocol),d="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=kN(o,n),g=t.maxUploadRetryTime;function y(_){z5(_);let T;try{T=_.getResponseHeader("X-Goog-Upload-URL")}catch{Pc(!1)}return Pc(av(T)),T}const S=new $h(c,d,y,g);return S.urlParams=a,S.headers=f,S.body=h,S.errorHandler=qm(e),S}function Yq(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(d){const f=z5(d,["active","final"]);let h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Pc(!1)}h||Pc(!1);const g=Number(h);return Pc(!isNaN(g)),new ty(g,r.size(),f==="final")}const o="POST",a=t.maxUploadRetryTime,c=new $h(n,o,s,a);return c.headers=i,c.errorHandler=qm(e),c}const dE=256*1024;function Xq(t,e,n,r,i,s,o,a){const c=new ty(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw dq();const d=c.total-c.current;let f=d;i>0&&(f=Math.min(f,i));const h=c.current,g=h+f;let y="";f===0?y="finalize":d===f?y="upload, finalize":y="upload";const S={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${c.current}`},_=r.slice(h,g);if(_===null)throw bN();function T(D,K){const ae=z5(D,["active","final"]),F=c.current+f,L=r.size();let B;return ae==="final"?B=U5(e,s)(D,K):B=null,new ty(F,L,ae==="final",B)}const E="POST",C=e.maxUploadRetryTime,I=new $h(n,E,T,C);return I.headers=S,I.body=_.uploadData(),I.progressCallback=a||null,I.errorHandler=qm(t),I}const ro={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function W1(t){switch(t){case"running":case"pausing":case"canceling":return ro.RUNNING;case"paused":return ro.PAUSED;case"success":return ro.SUCCESS;case"canceled":return ro.CANCELED;case"error":return ro.ERROR;default:return ro.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qq=class{constructor(e,n,r){if(wq(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Jq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw gp("cannot .send() more than once");if(ad(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Zq extends Jq{initXhr(){this.xhr_.responseType="text"}}function ah(){return new Zq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=NN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(dr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(SN(i.status,[]))if(s)i=vN();else{this.sleepTime=Math.max(this.sleepTime*2,nq),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(dr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Kq(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ah,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Yq(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ah,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=dE*this._chunkMultiplier,n=new ty(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Xq(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ah,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){dE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Wq(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ah,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Gq(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ah,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=wN(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=W1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Qq(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(W1(this._state)){case ro.SUCCESS:Xf(this._resolve.bind(null,this.snapshot))();break;case ro.CANCELED:case ro.ERROR:const n=this._reject;Xf(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(W1(this._state)){case ro.RUNNING:case ro.PAUSED:e.next&&Xf(e.next.bind(e,this.snapshot))();break;case ro.SUCCESS:e.complete&&Xf(e.complete.bind(e))();break;case ro.CANCELED:case ro.ERROR:e.error&&Xf(e.error.bind(e,this._error))();break;default:e.error&&Xf(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this._service=e,n instanceof Lo?this._location=n:this._location=Lo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new hf(e,n)}get root(){const e=new Lo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PN(this._location.path)}get storage(){return this._service}get parent(){const e=jq(this._location.path);if(e===null)return null;const n=new Lo(this._location.bucket,e);return new hf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw pq(e)}}function tW(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new eW(t,new Fu(e),n)}function nW(t){t._throwIfRoot("getDownloadURL");const e=$q(t.storage,t._location,NN());return t.storage.makeRequestWithTokens(e,ah).then(n=>{if(n===null)throw fq();return n})}function rW(t,e){const n=Mq(t._location.path,e),r=new Lo(t._location.bucket,n);return new hf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(t){return/^[A-Za-z]+:\/\//.test(t)}function sW(t,e){return new hf(t,e)}function DN(t,e){if(t instanceof q5){const n=t;if(n._bucket==null)throw uq();const r=new hf(n,n._bucket);return e!=null?DN(r,e):r}else return e!==void 0?rW(t,e):t}function oW(t,e){if(e&&iW(e)){if(t instanceof q5)return sW(t,e);throw xw("To use ref(service, url), the first argument must be a Storage instance.")}else return DN(t,e)}function fE(t,e){const n=e?.[yN];return n==null?null:Lo.makeFromBucketSpec(n,t)}function aW(t,e,n,r={}){t.host=`${e}:${n}`;const i=ad(e);i&&(Ub(`https://${t.host}/b`),zb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:YP(s,t.app.options.projectId))}class q5{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=gN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eq,this._maxUploadRetryTime=tq,this._requests=new Set,i!=null?this._bucket=Lo.makeFromBucketSpec(i,this._host):this._bucket=fE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Lo.makeFromBucketSpec(this._url,e):this._bucket=fE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new mq(xN());{const o=Aq(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const hE="@firebase/storage",pE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="storage";function jN(t,e,n){return t=br(t),tW(t,e,n)}function MN(t){return t=br(t),nW(t)}function FN(t,e){return t=br(t),oW(t,e)}function lW(t=$b(),e){t=br(t);const r=Ly(t,ON).getImmediate({identifier:e}),i=HP("storage");return i&&cW(r,...i),r}function cW(t,e,n,r={}){aW(t,e,n,r)}function uW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new q5(n,r,i,e,_f)}function dW(){sf(new Qu(ON,uW,"PUBLIC").setMultipleInstances(!0)),Il(hE,pE,""),Il(hE,pE,"esm2020")}dW();const fW={apiKey:"AIzaSyAi5sO9YJAhy_x6nMbJWNif96N_JJQC8LU",authDomain:"wishlist2cart-web.firebaseapp.com",projectId:"wishlist2cart-web",storageBucket:"wishlist2cart-web.appspot.com",messagingSenderId:"671248690215",appId:"1:671248690215:web:425a8e80ed464ad6877202"},W5=JP(fW),_l=VV(W5),VN=new vc,an=Fz(W5),BN=lW(W5),UN=$.createContext(),hW=({children:t})=>{const[e,n]=$.useState(null),[r,i]=$.useState(!0),s=Ja(),o=async h=>{const g=Hn(an,"users",h),y=await df(g);if(y.exists()){const S=y.data();return n(S),localStorage.setItem("wishlist2cart_user",JSON.stringify(S)),S}else{const S=_l.currentUser;if(S?.email){const _={uid:S.uid,name:S.displayName||"User",email:S.email,avatar:S.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(S.email)}`};return await Qd(g,_),n(_),localStorage.setItem("wishlist2cart_user",JSON.stringify(_)),_}else throw await tT(_l),n(null),localStorage.removeItem("wishlist2cart_user"),new Error("User not found in Firestore.")}},a=async(h,g,y)=>{const S=h.toLowerCase().trim();if((await T9(_l,S)).length>0)throw new Error("Email already in use.");const E=(await x9(_l,S,g)).user,C={uid:E.uid,name:y,email:E.email,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(E.email)}`};return await Qd(Hn(an,"users",E.uid),C),n(C),localStorage.setItem("wishlist2cart_user",JSON.stringify(C)),C},c=async(h,g)=>{const y=await _9(_l,h,g);return await o(y.user.uid)},d=()=>Z9(_l,VN),f=async()=>{await tT(_l),n(null),localStorage.removeItem("wishlist2cart_user")};return $.useEffect(()=>{tV(_l).then(async h=>{if(h?.user){const g=h.user,y=Hn(an,"users",g.uid);if((await df(y)).exists())await o(g.uid);else{const _={uid:g.uid,name:g.displayName||"Guest",email:g.email,avatar:g.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(g.email)}`};await Qd(y,_),n(_),localStorage.setItem("wishlist2cart_user",JSON.stringify(_))}s("/dashboard",{replace:!0})}}).catch(h=>{console.error("Redirect login error:",h)})},[s]),$.useEffect(()=>{const h=C9(_l,async g=>{if(g)try{await o(g.uid)}catch(y){console.error("Sync error:",y),n(null),localStorage.removeItem("wishlist2cart_user")}else n(null),localStorage.removeItem("wishlist2cart_user");i(!1)});return()=>h()},[]),w.jsx(UN.Provider,{value:{user:e,loading:r,loginWithEmail:c,register:a,loginWithGoogle:d,logout:f},children:!r&&t})},ha=()=>$.useContext(UN),yp="text-sm font-semibold tracking-wide transition-colors",vp="text-violet-600 dark:text-violet-400 font-bold",pW=({onHamburgerClick:t})=>{const{user:e}=ha(),n=e?.role==="admin";return w.jsx("header",{className:"sticky top-0 z-50 w-full transition-all duration-300 backdrop-blur-md bg-white/70 dark:bg-gray-900/70 shadow-md",children:w.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex h-16 items-center justify-between",children:[w.jsxs(Ci,{to:"/dashboard",className:"flex items-center gap-3 select-none",children:[w.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg","aria-label":"Dashboard Home",children:w.jsx(Nl,{className:"w-6 h-6 text-white"})}),w.jsx("span",{className:"text-2xl font-extrabold font-poppins tracking-wide bg-clip-text text-transparent bg-gradient-to-r from-violet-700 to-blue-700 dark:from-violet-400 dark:to-blue-400 select-none",children:"Wishlist2Cart"})]}),e&&w.jsxs("nav",{className:"hidden md:flex items-center gap-8","aria-label":"Primary Navigation",children:[w.jsx(nh,{to:"/dashboard",end:!0,className:({isActive:r})=>`${yp} ${r?vp:"text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400"}`,children:"Home"}),w.jsx(nh,{to:"/about",className:({isActive:r})=>`${yp} ${r?vp:"text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400"}`,children:"About"}),w.jsx(nh,{to:"/contact",className:({isActive:r})=>`${yp} ${r?vp:"text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400"}`,children:"Contact"}),n&&w.jsxs(w.Fragment,{children:[w.jsx(nh,{to:"/admin",className:({isActive:r})=>`${yp} ${r?vp:"text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400"}`,children:"Admin Panel"}),w.jsx(nh,{to:"/custom-admin",className:({isActive:r})=>`${yp} ${r?vp:"text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400"}`,children:"Custom Product Admin"})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[e?w.jsx(Ot,{variant:"ghost",size:"icon",asChild:!0,"aria-label":"User Settings",children:w.jsx(Ci,{to:"/settings",children:w.jsx(ky,{className:"h-6 w-6 text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400"})})}):w.jsx(Ot,{asChild:!0,size:"sm",children:w.jsx(Ci,{to:"/login",children:"Login"})}),w.jsx("button",{type:"button",className:"md:hidden ml-1 p-2 rounded-md text-gray-700 dark:text-gray-300 hover:text-violet-600 dark:hover:text-violet-400 focus:outline-none focus:ring-2 focus:ring-violet-600","aria-label":"Open menu",onClick:t,children:w.jsx(XM,{className:"h-6 w-6"})})]})]})})})},mW=1;let $1=0;function gW(){return $1=($1+1)%Number.MAX_VALUE,$1.toString()}const Rs={state:{toasts:[]},listeners:[],getState:()=>Rs.state,setState:t=>{typeof t=="function"?Rs.state=t(Rs.state):Rs.state={...Rs.state,...t},Rs.listeners.forEach(e=>e(Rs.state))},subscribe:t=>(Rs.listeners.push(t),()=>{Rs.listeners=Rs.listeners.filter(e=>e!==t)})},Md=({...t})=>{const e=gW(),n=i=>Rs.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>Rs.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return Rs.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,mW)})),{id:e,dismiss:r,update:n}};function Mo(){const[t,e]=$.useState(Rs.getState());return $.useEffect(()=>Rs.subscribe(r=>{e(r)}),[]),$.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:Md,toasts:t.toasts}}const yW=()=>(Mo(),w.jsx("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:w.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[w.jsxs("div",{className:"flex flex-col items-start",children:[w.jsxs(Ci,{to:"/",className:"flex items-center gap-3 mb-6",children:[w.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:w.jsx(Nl,{className:"w-6 h-6 text-white"})}),w.jsx("span",{className:"text-2xl font-extrabold font-poppins tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-violet-700 to-blue-700 dark:from-violet-400 dark:to-blue-400",children:"Wishlist2Cart"})]}),w.jsx("p",{className:"max-w-xs text-gray-600 dark:text-gray-300 font-medium leading-relaxed",children:"Transform Your Desires Into Deliveries."})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 font-poppins tracking-wide",children:"Company"}),w.jsxs("ul",{className:"space-y-3",children:[w.jsx("li",{children:w.jsx(Ci,{to:"/about",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"About"})}),w.jsx("li",{children:w.jsx(Ci,{to:"/contact",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"Contact"})}),w.jsx("li",{children:w.jsx(Ci,{to:"/careers",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"Careers"})})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 font-poppins tracking-wide",children:"Legal"}),w.jsxs("ul",{className:"space-y-3",children:[w.jsx("li",{children:w.jsx(Ci,{to:"/privacy-policy",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"Privacy Policy"})}),w.jsx("li",{children:w.jsx(Ci,{to:"/terms-of-service",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors font-medium text-sm",children:"Terms of Service"})})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6 font-poppins tracking-wide",children:"Follow Us"}),w.jsxs("div",{className:"flex space-x-6",children:[w.jsx("a",{href:"https://x.com/dattaharshith",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors",children:w.jsx(i8,{size:24})}),w.jsx("a",{href:"https://github.com/Dattaharshithreddy",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors",children:w.jsx(VM,{size:24})}),w.jsx("a",{href:"https://www.linkedin.com/in/datta-harshith-reddy-83901b15b/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"text-gray-600 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors",children:w.jsx(WM,{size:24})})]})]})]}),w.jsx("div",{className:"mt-16 border-t border-gray-200 dark:border-gray-800 pt-8 text-center",children:w.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-poppins",children:["© ",new Date().getFullYear()," Wishlist2Cart. All rights reserved."]})})]})})),mE=({children:t,className:e,type:n="button",...r})=>w.jsx("button",{type:n,className:`inline-flex items-center justify-center rounded-lg p-2 text-sm font-medium transition-colors hover:bg-gray-500/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500 disabled:pointer-events-none disabled:opacity-50 ${e}`,...r,children:t}),vW=({isMobileMenuOpen:t,setIsMobileMenuOpen:e})=>{const[n,r]=$.useState(!1),{user:i}=ha(),s=i?.role==="admin",{pathname:o}=Uc(),a=$.useRef(null),c=$.useRef(null),d=$.useRef(null),f=[{label:"My Wishlist",to:"/dashboard",Icon:Cm},{label:"Originals",to:"/dashboard/brands",Icon:L0},{label:"Discover",to:"/dashboard/marketplace",Icon:LP},{label:"My Cart",to:"/dashboard/cart",Icon:Nl},{label:"My Orders",to:"/dashboard/orders",Icon:JM},{label:"Settings",to:"/dashboard/settings",Icon:n8}],h=s?[{label:"Admin Panel",to:"/admin",Icon:CS},{label:"Custom Product Admin",to:"/custom-admin",Icon:CS}]:[],g=[...f,...h];$.useEffect(()=>{t&&e(!1)},[o]),$.useEffect(()=>{if(!t)return;function _(T){if(T.key==="Escape"&&e(!1),T.key==="Tab"){if(!c.current||!d.current)return;T.shiftKey?document.activeElement===c.current&&(T.preventDefault(),d.current.focus()):document.activeElement===d.current&&(T.preventDefault(),c.current.focus())}}return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[t,e]),$.useEffect(()=>{t&&c.current?.focus()},[t]);function y({to:_,Icon:T,label:E,isActive:C,isCollapsed:I,refForFocus:D}){return w.jsxs(Ci,{to:_,ref:D,title:I?E:void 0,className:`flex w-full items-center gap-4 rounded-lg py-3 transition-colors duration-200 ${I?"justify-center px-2":"justify-start px-4"} ${C?"bg-gray-100 dark:bg-gray-700/50 text-gray-900 dark:text-gray-300 font-semibold":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/30"}`,"aria-current":C?"page":void 0,tabIndex:0,children:[w.jsx(T,{className:"h-5 w-5 flex-shrink-0","aria-hidden":"true"}),!I&&w.jsx("span",{className:"truncate font-medium",children:E})]})}const S=_=>w.jsx("nav",{className:"flex flex-col gap-2",role:"navigation","aria-label":"Dashboard Sidebar",children:g.map((T,E)=>{let C=null;return E===0&&(C=c),E===g.length-1&&(C=d),w.jsx(y,{...T,isActive:T.to==="/dashboard"?o==="/dashboard":o.startsWith(T.to),isCollapsed:_,refForFocus:C},T.to)})});return w.jsxs(w.Fragment,{children:[w.jsxs("aside",{id:"dashboard-sidebar",ref:a,tabIndex:t?0:-1,"aria-modal":"true","aria-label":"Dashboard Sidebar",role:"dialog",className:`md:hidden fixed inset-y-0 left-0 z-50 flex h-full w-64 transform flex-col border-r bg-white/95 backdrop-blur-sm transition-transform duration-300 ease-in-out dark:border-gray-800 dark:bg-gray-950/90 ${t?"translate-x-0":"-translate-x-full"}`,children:[w.jsxs("div",{className:"flex items-center justify-between border-b p-4 dark:border-gray-800",children:[w.jsx("h2",{className:"text-lg font-bold",children:"Menu"}),w.jsx(mE,{onClick:()=>e(!1),"aria-label":"Close menu",children:w.jsx(Mb,{className:"h-5 w-5"})})]}),w.jsx("div",{className:"flex-1 p-4",children:S(!1)})]}),t&&w.jsx("div",{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm md:hidden",onClick:()=>e(!1),"aria-hidden":"true"}),w.jsx("aside",{"aria-label":"Dashboard Sidebar",className:`hidden md:sticky md:top-6 md:flex h-[calc(100vh-3rem)] flex-col rounded-2xl border bg-white/80 backdrop-blur-md transition-all duration-300 dark:border-gray-800 dark:bg-gray-950/70 ${n?"w-24":"w-64"}`,children:w.jsxs("div",{className:"flex h-full flex-col p-2",children:[w.jsx(mE,{onClick:()=>r(!n),"aria-label":n?"Expand sidebar":"Collapse sidebar",className:"mb-4 self-end",children:w.jsx(OM,{className:`h-5 w-5 transition-transform duration-300 ${n?"rotate-180":""}`})}),w.jsx("div",{className:"flex-1 overflow-y-auto",children:S(n)})]})})]})},wW=()=>{const t=Uc(),[e,n]=$.useState(!1),i=["/login"].includes(t.pathname);return $.useEffect(()=>{e&&n(!1)},[t]),w.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 font-sans flex flex-col overflow-x-hidden",children:[!i&&w.jsx(pW,{onHamburgerClick:()=>n(!0)}),w.jsxs("div",{className:"flex flex-1",children:[!i&&w.jsx(vW,{isMobileMenuOpen:e,setIsMobileMenuOpen:n}),w.jsx("main",{className:"flex-grow",children:w.jsx(lC,{})})]}),!i&&w.jsx(yW,{})]})};function _w({children:t,requiredRole:e=null}){const{user:n}=ha();return n?e&&!(Array.isArray(n.roles)?n.roles.includes(e):n.role===e)?w.jsx("div",{className:"container mx-auto py-20 text-center text-red-600",children:"You do not have permission to access this page."}):t:w.jsx(aC,{to:"/login",replace:!0})}const bW=[{to:"/dashboard/brands",icon:w.jsx(L0,{}),label:"Originals"},{to:"/dashboard/marketplace",icon:w.jsx(LP,{}),label:"Discover"},{to:"/dashboard/cart",icon:w.jsx(Nl,{}),label:"Cart"},{to:"/dashboard/settings",icon:w.jsx(ky,{}),label:"Account"}],xW=()=>w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white/90 dark:bg-gray-950/95 shadow-t flex md:hidden justify-around border-t border-gray-300 dark:border-gray-700","aria-label":"Dashboard bottom navigation",children:bW.map(({to:t,icon:e,label:n})=>w.jsxs(nh,{to:t,className:({isActive:r})=>`flex flex-col items-center py-2 pt-3 px-4 text-xs font-semibold select-none transition-colors ${r?"text-violet-600 dark:text-violet-400":"text-gray-500 dark:text-gray-400 hover:text-violet-600 dark:hover:text-violet-400"}`,"aria-current":({isActive:r})=>r?"page":void 0,children:[w.jsx("span",{className:"h-6 w-6 mb-0.5",children:e}),n]},t))}),_W=()=>w.jsx(_w,{children:w.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 font-poppins overflow-x-hidden",children:[w.jsx("div",{className:"flex-grow p-4 sm:p-6 lg:p-8 pb-24 md:pb-6",children:w.jsx(lC,{})}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden",children:w.jsx(xW,{})})]})});var H1={exports:{}},G1,gE;function SW(){if(gE)return G1;gE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G1=t,G1}var K1,yE;function TW(){if(yE)return K1;yE=1;var t=SW();function e(){}function n(){}return n.resetWarningCache=e,K1=function(){function r(o,a,c,d,f,h){if(h!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},K1}var vE;function EW(){return vE||(vE=1,H1.exports=TW()()),H1.exports}var AW=EW();const vr=vf(AW);var Y1,wE;function CW(){if(wE)return Y1;wE=1;function t(a){return a&&typeof a=="object"&&"default"in a?a.default:a}var e=vy(),n=t(e);function r(a,c,d){return c in a?Object.defineProperty(a,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[c]=d,a}function i(a,c){a.prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(a,c,d){if(typeof a!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof d<"u"&&typeof d!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(h){return h.displayName||h.name||"Component"}return function(g){if(typeof g!="function")throw new Error("Expected WrappedComponent to be a React component.");var y=[],S;function _(){S=a(y.map(function(E){return E.props})),T.canUseDOM?c(S):d&&(S=d(S))}var T=function(E){i(C,E);function C(){return E.apply(this,arguments)||this}C.peek=function(){return S},C.rewind=function(){if(C.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var K=S;return S=void 0,y=[],K};var I=C.prototype;return I.UNSAFE_componentWillMount=function(){y.push(this),_()},I.componentDidUpdate=function(){_()},I.componentWillUnmount=function(){var K=y.indexOf(this);y.splice(K,1),_()},I.render=function(){return n.createElement(g,this.props)},C}(e.PureComponent);return r(T,"displayName","SideEffect("+f(g)+")"),r(T,"canUseDOM",s),T}}return Y1=o,Y1}var PW=CW();const NW=vf(PW);var X1,bE;function IW(){if(bE)return X1;bE=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,c,d;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(c=a;c--!==0;)if(!i(s[c],o[c]))return!1;return!0}var f;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(c=f.next()).done;)if(!o.has(c.value[0]))return!1;for(f=s.entries();!(c=f.next()).done;)if(!i(c.value[1],o.get(c.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(c=f.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(c=a;c--!==0;)if(s[c]!==o[c])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(d=Object.keys(s),a=d.length,a!==Object.keys(o).length)return!1;for(c=a;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[c]))return!1;if(t&&s instanceof Element)return!1;for(c=a;c--!==0;)if(!((d[c]==="_owner"||d[c]==="__v"||d[c]==="__o")&&s.$$typeof)&&!i(s[d[c]],o[d[c]]))return!1;return!0}return s!==s&&o!==o}return X1=function(o,a){try{return i(o,a)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},X1}var kW=IW();const RW=vf(kW);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Q1,xE;function LW(){if(xE)return Q1;xE=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},a=0;a<10;a++)o["_"+String.fromCharCode(a)]=a;var c=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(c.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Q1=i()?Object.assign:function(s,o){for(var a,c=r(s),d,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var h in a)e.call(a,h)&&(c[h]=a[h]);if(t){d=t(a);for(var g=0;g<d.length;g++)n.call(a,d[g])&&(c[d[g]]=a[d[g]])}}return c},Q1}var DW=LW();const OW=vf(DW);var Zd={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Qt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Qt).map(function(t){return Qt[t]});var wr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},ny={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},gm={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},jW=Object.keys(ny).reduce(function(t,e){return t[ny[e]]=e,t},{}),MW=[Qt.NOSCRIPT,Qt.SCRIPT,Qt.STYLE],Ga="data-react-helmet",FW=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VW=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},BW=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),to=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UW=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},_E=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},zW=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Sw=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},qW=function(e){var n=xh(e,Qt.TITLE),r=xh(e,gm.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=xh(e,gm.DEFAULT_TITLE);return n||i||void 0},WW=function(e){return xh(e,gm.ON_CHANGE_CLIENT_STATE)||function(){}},J1=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return to({},r,i)},{})},$W=function(e,n){return n.filter(function(r){return typeof r[Qt.BASE]<"u"}).map(function(r){return r[Qt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],c=a.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},wp=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&YW("Helmet: "+e+' should be of type "Array". Instead found type "'+FW(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(g){for(var y=void 0,S=Object.keys(g),_=0;_<S.length;_++){var T=S[_],E=T.toLowerCase();n.indexOf(E)!==-1&&!(y===wr.REL&&g[y].toLowerCase()==="canonical")&&!(E===wr.REL&&g[E].toLowerCase()==="stylesheet")&&(y=E),n.indexOf(T)!==-1&&(T===wr.INNER_HTML||T===wr.CSS_TEXT||T===wr.ITEM_PROP)&&(y=T)}if(!y||!g[y])return!1;var C=g[y].toLowerCase();return i[y]||(i[y]={}),a[y]||(a[y]={}),i[y][C]?!1:(a[y][C]=!0,!0)}).reverse().forEach(function(g){return s.push(g)});for(var c=Object.keys(a),d=0;d<c.length;d++){var f=c[d],h=OW({},i[f],a[f]);i[f]=h}return s},[]).reverse()},xh=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},HW=function(e){return{baseTag:$W([wr.HREF,wr.TARGET],e),bodyAttributes:J1(Zd.BODY,e),defer:xh(e,gm.DEFER),encode:xh(e,gm.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:J1(Zd.HTML,e),linkTags:wp(Qt.LINK,[wr.REL,wr.HREF],e),metaTags:wp(Qt.META,[wr.NAME,wr.CHARSET,wr.HTTPEQUIV,wr.PROPERTY,wr.ITEM_PROP],e),noscriptTags:wp(Qt.NOSCRIPT,[wr.INNER_HTML],e),onChangeClientState:WW(e),scriptTags:wp(Qt.SCRIPT,[wr.SRC,wr.INNER_HTML],e),styleTags:wp(Qt.STYLE,[wr.CSS_TEXT],e),title:qW(e),titleAttributes:J1(Zd.TITLE,e)}},Tw=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Tw(e)},0)}}(),SE=function(e){return clearTimeout(e)},GW=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Tw:global.requestAnimationFrame||Tw,KW=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||SE:global.cancelAnimationFrame||SE,YW=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},bp=null,XW=function(e){bp&&KW(bp),e.defer?bp=GW(function(){TE(e,function(){bp=null})}):(TE(e),bp=null)},TE=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,c=e.noscriptTags,d=e.onChangeClientState,f=e.scriptTags,h=e.styleTags,g=e.title,y=e.titleAttributes;Ew(Qt.BODY,i),Ew(Qt.HTML,s),QW(g,y);var S={baseTag:Qf(Qt.BASE,r),linkTags:Qf(Qt.LINK,o),metaTags:Qf(Qt.META,a),noscriptTags:Qf(Qt.NOSCRIPT,c),scriptTags:Qf(Qt.SCRIPT,f),styleTags:Qf(Qt.STYLE,h)},_={},T={};Object.keys(S).forEach(function(E){var C=S[E],I=C.newTags,D=C.oldTags;I.length&&(_[E]=I),D.length&&(T[E]=S[E].oldTags)}),n&&n(),d(e,_,T)},zN=function(e){return Array.isArray(e)?e.join(""):e},QW=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=zN(e)),Ew(Qt.TITLE,n)},Ew=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Ga),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),c=0;c<a.length;c++){var d=a[c],f=n[d]||"";r.getAttribute(d)!==f&&r.setAttribute(d,f),s.indexOf(d)===-1&&s.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var g=o.length-1;g>=0;g--)r.removeAttribute(o[g]);s.length===o.length?r.removeAttribute(Ga):r.getAttribute(Ga)!==a.join(",")&&r.setAttribute(Ga,a.join(","))}},Qf=function(e,n){var r=document.head||document.querySelector(Qt.HEAD),i=r.querySelectorAll(e+"["+Ga+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(c){var d=document.createElement(e);for(var f in c)if(c.hasOwnProperty(f))if(f===wr.INNER_HTML)d.innerHTML=c.innerHTML;else if(f===wr.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[f]>"u"?"":c[f];d.setAttribute(f,h)}d.setAttribute(Ga,"true"),s.some(function(g,y){return a=y,d.isEqualNode(g)})?s.splice(a,1):o.push(d)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:s,newTags:o}},qN=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},JW=function(e,n,r,i){var s=qN(r),o=zN(n);return s?"<"+e+" "+Ga+'="true" '+s+">"+Sw(o,i)+"</"+e+">":"<"+e+" "+Ga+'="true">'+Sw(o,i)+"</"+e+">"},ZW=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(d){return!(d===wr.INNER_HTML||d===wr.CSS_TEXT)}).reduce(function(d,f){var h=typeof s[f]>"u"?f:f+'="'+Sw(s[f],r)+'"';return d?d+" "+h:h},""),a=s.innerHTML||s.cssText||"",c=MW.indexOf(e)===-1;return i+"<"+e+" "+Ga+'="true" '+o+(c?"/>":">"+a+"</"+e+">")},"")},WN=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[ny[i]||i]=e[i],r},n)},e$=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[jW[i]||i]=e[i],r},n)},t$=function(e,n,r){var i,s=(i={key:n},i[Ga]=!0,i),o=WN(r,s);return[it.createElement(Qt.TITLE,o,n)]},n$=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[Ga]=!0,s);return Object.keys(r).forEach(function(a){var c=ny[a]||a;if(c===wr.INNER_HTML||c===wr.CSS_TEXT){var d=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=r[a]}),it.createElement(e,o)})},hc=function(e,n,r){switch(e){case Qt.TITLE:return{toComponent:function(){return t$(e,n.title,n.titleAttributes)},toString:function(){return JW(e,n.title,n.titleAttributes,r)}};case Zd.BODY:case Zd.HTML:return{toComponent:function(){return WN(n)},toString:function(){return qN(n)}};default:return{toComponent:function(){return n$(e,n)},toString:function(){return ZW(e,n,r)}}}},$N=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,c=e.noscriptTags,d=e.scriptTags,f=e.styleTags,h=e.title,g=h===void 0?"":h,y=e.titleAttributes;return{base:hc(Qt.BASE,n,i),bodyAttributes:hc(Zd.BODY,r,i),htmlAttributes:hc(Zd.HTML,s,i),link:hc(Qt.LINK,o,i),meta:hc(Qt.META,a,i),noscript:hc(Qt.NOSCRIPT,c,i),script:hc(Qt.SCRIPT,d,i),style:hc(Qt.STYLE,f,i),title:hc(Qt.TITLE,{title:g,titleAttributes:y},i)}},r$=function(e){var n,r;return r=n=function(i){UW(s,i);function s(){return VW(this,s),zW(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!RW(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,c){if(!c)return null;switch(a.type){case Qt.SCRIPT:case Qt.NOSCRIPT:return{innerHTML:c};case Qt.STYLE:return{cssText:c}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var c,d=a.child,f=a.arrayTypeChildren,h=a.newChildProps,g=a.nestedChildren;return to({},f,(c={},c[d.type]=[].concat(f[d.type]||[],[to({},h,this.mapNestedChildrenToProps(d,g))]),c))},s.prototype.mapObjectTypeChildren=function(a){var c,d,f=a.child,h=a.newProps,g=a.newChildProps,y=a.nestedChildren;switch(f.type){case Qt.TITLE:return to({},h,(c={},c[f.type]=y,c.titleAttributes=to({},g),c));case Qt.BODY:return to({},h,{bodyAttributes:to({},g)});case Qt.HTML:return to({},h,{htmlAttributes:to({},g)})}return to({},h,(d={},d[f.type]=to({},g),d))},s.prototype.mapArrayTypeChildrenToProps=function(a,c){var d=to({},c);return Object.keys(a).forEach(function(f){var h;d=to({},d,(h={},h[f]=a[f],h))}),d},s.prototype.warnOnInvalidChildren=function(a,c){return!0},s.prototype.mapChildrenToProps=function(a,c){var d=this,f={};return it.Children.forEach(a,function(h){if(!(!h||!h.props)){var g=h.props,y=g.children,S=_E(g,["children"]),_=e$(S);switch(d.warnOnInvalidChildren(h,y),h.type){case Qt.LINK:case Qt.META:case Qt.NOSCRIPT:case Qt.SCRIPT:case Qt.STYLE:f=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:f,newChildProps:_,nestedChildren:y});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:_,nestedChildren:y});break}}}),c=this.mapArrayTypeChildrenToProps(f,c),c},s.prototype.render=function(){var a=this.props,c=a.children,d=_E(a,["children"]),f=to({},d);return c&&(f=this.mapChildrenToProps(c,f)),it.createElement(e,f)},BW(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(it.Component),n.propTypes={base:vr.object,bodyAttributes:vr.object,children:vr.oneOfType([vr.arrayOf(vr.node),vr.node]),defaultTitle:vr.string,defer:vr.bool,encodeSpecialCharacters:vr.bool,htmlAttributes:vr.object,link:vr.arrayOf(vr.object),meta:vr.arrayOf(vr.object),noscript:vr.arrayOf(vr.object),onChangeClientState:vr.func,script:vr.arrayOf(vr.object),style:vr.arrayOf(vr.object),title:vr.string,titleAttributes:vr.object,titleTemplate:vr.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=$N({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},i$=function(){return null},s$=NW(HW,XW,$N)(i$),Oc=r$(s$);Oc.renderStatic=Oc.rewind;const Z1=({icon:t,title:e,description:n,delay:r})=>w.jsxs(Sn.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:r},className:"bg-white dark:bg-gray-800/50 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-violet-500",children:[w.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-br from-violet-500 to-blue-500 text-white mb-4",children:t}),w.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:e}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n})]}),e2=({quote:t,author:e,role:n,delay:r})=>w.jsxs(Sn.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:r},className:"bg-white dark:bg-gray-800/50 p-8 rounded-2xl shadow-lg text-center",children:[w.jsxs("p",{className:"text-gray-700 dark:text-gray-300 italic mb-4",children:['"',t,'"']}),w.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:e}),w.jsx("p",{className:"text-sm text-violet-500 dark:text-violet-400",children:n})]}),o$=()=>w.jsxs(w.Fragment,{children:[w.jsxs(Oc,{children:[w.jsx("title",{children:"Wishlist2Cart - Transform Your Desires Into Deliveries"}),w.jsx("meta",{name:"description",content:"Wishlist2Cart helps you consolidate wishlists from all your favorite stores and turn them into purchases."})]}),w.jsxs(Sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"overflow-x-hidden",children:[w.jsx("header",{className:"w-full fixed top-0 left-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm border-b border-gray-200 dark:border-gray-800",children:w.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[w.jsxs(Ci,{to:"/",className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:w.jsx(Nl,{className:"text-white h-5 w-5"})}),w.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-violet-600 to-blue-500 bg-clip-text text-transparent",children:"Wishlist2Cart"})]}),w.jsx(Ci,{to:"/login",children:w.jsxs(Ot,{variant:"ghost",size:"sm",className:"text-sm",children:[w.jsx(GM,{className:"h-4 w-4 mr-1"}),"Login"]})})]})}),w.jsx("section",{className:"pt-28 pb-20 md:py-32 bg-gradient-to-br from-white to-gray-100 dark:from-gray-900 dark:to-black",children:w.jsxs("div",{className:"container mx-auto px-4 text-center",children:[w.jsx(Sn.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"text-4xl md:text-6xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-br from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 mb-4",children:"Transform Your Desires"}),w.jsx(Sn.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2,ease:"easeOut"},className:"text-4xl md:text-6xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-br from-violet-600 to-blue-500",children:"Into Deliveries"}),w.jsx(Sn.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4,ease:"easeOut"},className:"max-w-2xl mx-auto text-lg md:text-xl text-gray-600 dark:text-gray-400 mb-10",children:"Consolidate wishlists from all your favorite stores. One place to track, manage, and purchase everything you love."}),w.jsxs(Sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6,ease:"easeOut"},className:"flex justify-center gap-4 flex-wrap",children:[w.jsx(Ot,{size:"lg",asChild:!0,children:w.jsxs(Ci,{to:"/add-wishlist",children:["Add Wishlist ",w.jsx(RP,{className:"ml-2 h-5 w-5"})]})}),w.jsx(Ot,{size:"lg",variant:"outline",asChild:!0,children:w.jsxs(Ci,{to:"/cart",children:["View Cart ",w.jsx(Nl,{className:"ml-2 h-5 w-5"})]})})]})]})}),w.jsx("section",{className:"py-20 md:py-28 bg-gray-50 dark:bg-gray-950",children:w.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:"How It Works"}),w.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Simple steps to shopping bliss."})]}),w.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[w.jsx(Z1,{icon:w.jsx(s8,{size:24}),title:"1. Add Wishlist URLs",description:"Paste URLs from any store. We'll fetch the product details for you.",delay:.1}),w.jsx(Z1,{icon:w.jsx(DM,{size:24}),title:"2. Organize Everything",description:"Your items stay in one unified dashboard. Tag, sort, prioritize.",delay:.2}),w.jsx(Z1,{icon:w.jsx(Nl,{size:24}),title:"3. Move to Cart & Buy",description:"Ready to shop? Move to cart and we'll take you to buy from the original site.",delay:.3})]})]})}),w.jsx("section",{className:"py-20 md:py-28 bg-white dark:bg-gray-900",children:w.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:"Loved by Shoppers Worldwide"}),w.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Don’t just take our word for it."})]}),w.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[w.jsx(e2,{quote:"Wishlist2Cart has revolutionized my online shopping. I can finally keep track of everything in one place!",author:"Sarah J.",role:"Avid Online Shopper",delay:.1}),w.jsx(e2,{quote:"This app has saved me so much time and money. Highly recommended!",author:"Mike R.",role:"Bargain Hunter",delay:.2}),w.jsx(e2,{quote:"My friends and I use this for birthdays and holidays. It’s amazing!",author:"Emily C.",role:"Gift Planner",delay:.3})]})]})})]})]}),$n=$.forwardRef(({className:t,type:e,...n},r)=>w.jsx("input",{type:e,className:zc("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder:text-gray-500 dark:focus-visible:ring-violet-500",t),ref:r,...n}));$n.displayName="Input";var a$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Za=a$.reduce((t,e)=>{const n=D0(`Primitive.${e}`),r=$.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function HN(t,e){t&&ub.flushSync(()=>t.dispatchEvent(e))}var l$="Label",GN=$.forwardRef((t,e)=>w.jsx(Za.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));GN.displayName=l$;var KN=GN;const c$=Bb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70","dark:text-gray-300"),mn=$.forwardRef(({className:t,...e},n)=>w.jsx(KN,{ref:n,className:zc(c$(),t),...e}));mn.displayName=KN.displayName;const u$=()=>{const[t,e]=$.useState(!0),[n,r]=$.useState(!1),[i,s]=$.useState(""),[o,a]=$.useState(""),[c,d]=$.useState(""),[f,h]=$.useState(!1),{loginWithEmail:g,register:y}=ha(),S=Ja(),_=async E=>{E.preventDefault(),h(!0);try{t?(await g(i.trim(),o),Md({title:"Login successful!"}),S("/dashboard")):(await y(i.trim(),o,c),Md({title:"Account created!",description:"Now log in using your credentials."}),e(!0),s(""),a(""),d(""))}catch(C){Md({title:"Auth Error",description:C.message,variant:"destructive"})}finally{h(!1)}},T=async()=>{h(!0);try{const C=(await G9(_l,VN)).user,I=Hn(an,"users",C.uid),D=await df(I),K={uid:C.uid,name:C.displayName||"Google User",email:C.email,avatar:C.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(C.email)}`};D.exists()||await Qd(I,K),localStorage.setItem("wishlist2cart_user",JSON.stringify(K)),Md({title:"Google Sign-In Success",description:`Welcome ${K.name}`}),S("/dashboard")}catch(E){E.code==="auth/popup-closed-by-user"?Md({title:"Popup Closed",description:"You closed the sign-in popup.",variant:"destructive"}):Md({title:"Google Sign-In Failed",description:E.message,variant:"destructive"})}finally{h(!1)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100 dark:bg-gray-900",children:w.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-950/50 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-xl shadow-2xl p-6 space-y-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsxs("div",{className:"inline-flex items-center gap-2 mb-3",children:[w.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:w.jsx(Nl,{className:"w-6 h-6 text-white"})}),w.jsx("span",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-violet-600 to-blue-600 text-transparent bg-clip-text",children:"Wishlist2Cart"})]}),w.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:t?"Welcome Back!":"Create an Account"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:t?"Sign in to manage your wishlist":"Start saving and sharing your favorite items"})]}),w.jsxs("form",{onSubmit:_,className:"space-y-5",children:[!t&&w.jsxs("div",{className:"relative",children:[w.jsx(mn,{htmlFor:"name",children:"Full Name"}),w.jsx($n,{id:"name",value:c,onChange:E=>d(E.target.value),required:!0,className:"pl-10"}),w.jsx(ky,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"})]}),w.jsxs("div",{className:"relative",children:[w.jsx(mn,{htmlFor:"email",children:"Email"}),w.jsx($n,{id:"email",type:"email",value:i,onChange:E=>s(E.target.value),required:!0,className:"pl-10"}),w.jsx(YM,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"})]}),w.jsxs("div",{className:"relative",children:[w.jsx(mn,{htmlFor:"password",children:"Password"}),w.jsx($n,{id:"password",type:n?"text":"password",value:o,onChange:E=>a(E.target.value),required:!0,className:"pl-10 pr-10"}),w.jsx(HM,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"}),w.jsx("button",{type:"button",onClick:()=>r(E=>!E),className:"absolute right-3 top-9 w-5 h-5 text-gray-400",children:n?w.jsx(MM,{}):w.jsx(FM,{})})]}),w.jsx(Ot,{type:"submit",className:"w-full",disabled:f,children:f?"Please wait...":t?"Log In":"Create Account"})]}),w.jsxs("div",{className:"relative text-center",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),w.jsx("div",{className:"relative bg-white dark:bg-gray-950 px-2 text-gray-500 dark:text-gray-400 text-xs uppercase",children:"Or continue with"})]}),w.jsx(Ot,{variant:"outline",className:"w-full",onClick:T,disabled:f,children:f?"Signing in...":"Continue with Google"}),w.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:[t?"Don’t have an account?":"Already have an account?"," ",w.jsx("button",{className:"text-violet-600 hover:text-blue-600 font-semibold ml-1",onClick:()=>e(E=>!E),children:t?"Sign Up":"Log In"})]})]})})},d$=()=>w.jsxs("main",{className:"max-w-3xl mx-auto py-12 px-6 prose prose-gray dark:prose-invert",children:[w.jsx("h1",{children:"About Wishlist2Cart"}),w.jsxs("p",{children:[w.jsx("strong",{children:"Wishlist2Cart"})," is your all-in-one wishlist and discovery platform designed to simplify and elevate the way you shop online. Whether you're curating favorite finds from across the web or exploring our handpicked in-house collections, we help turn your dream purchases into doorstep deliveries — seamlessly."]}),w.jsx("h2",{children:"Our Mission"}),w.jsx("p",{children:"To empower shoppers with a smart, unified wishlist experience that bridges multiple marketplaces and makes purchasing easier, faster, and more joyful."}),w.jsx("h2",{children:"Our Vision"}),w.jsx("p",{children:"We envision a world where your desires aren’t lost in scattered bookmarks or forgotten tabs — but instead, live in a single space that’s beautiful, intelligent, and action-ready."}),w.jsx("h2",{children:"What Makes Us Different"}),w.jsxs("ul",{children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Universal Wishlist:"})," Save products from any major online store and redirect to buy in one click."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"W2C Wishlist:"})," Discover exclusive deals from our own brands, trusted affiliates, and dropshipping partners."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Modern UX:"})," Enjoy a clean, elegant interface with smart filters, visual organization, and mobile-first design."]})]}),w.jsx("h2",{children:"Why Wishlist2Cart?"}),w.jsx("p",{children:"Because we believe wishlists shouldn't just be about saving — they should be about achieving. From casual window shoppers to power buyers, Wishlist2Cart is built to serve the journey from inspiration to purchase."}),w.jsx("p",{children:"Thank you for choosing Wishlist2Cart. We’re honored to be a part of your shopping story."})]}),f$=()=>w.jsxs("main",{className:"max-w-3xl mx-auto py-16 px-6 prose prose-gray dark:prose-invert",children:[w.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Get in Touch"}),w.jsx("p",{className:"text-lg",children:"We’d love to hear from you! Whether you have questions, suggestions, or need assistance, don’t hesitate to reach out."}),w.jsxs("section",{className:"mt-8",children:[w.jsx("h2",{className:"text-2xl font-semibold",children:"Email"}),w.jsxs("p",{className:"text-md",children:["For support or inquiries, reach us at:"," ",w.jsx("a",{href:"mailto:support@wishlist2cart.com",className:"text-violet-600 hover:underline",children:"support@wishlist2cart.com"})]})]}),w.jsxs("section",{className:"mt-6",children:[w.jsx("h2",{className:"text-2xl font-semibold",children:"Address"}),w.jsxs("address",{className:"not-italic text-md",children:["Sai Nagar",w.jsx("br",{}),"Sullurpeta, 524121",w.jsx("br",{}),"Andhra Pradesh, India"]})]}),w.jsx("p",{className:"mt-8 text-sm text-muted-foreground",children:"We typically respond to emails within 24–48 hours. Thank you for reaching out!"})]}),h$=()=>w.jsxs("main",{className:"max-w-3xl mx-auto py-16 px-6 prose prose-gray dark:prose-invert text-center",children:[w.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Join Our Journey"}),w.jsx("p",{className:"text-lg",children:"At Wishlist2Cart, we’re on a mission to make online shopping smarter and more delightful."}),w.jsx("p",{className:"text-lg mt-6",children:"While we’re not hiring at the moment, we’re always excited to connect with talented individuals who share our vision."}),w.jsxs("p",{className:"text-md italic mt-4",children:["Feel free to drop your resume or portfolio at"," ",w.jsx("a",{href:"mailto:careers@wishlist2cart.com",className:"text-blue-600 dark:text-blue-400",children:"careers@wishlist2cart.com"})," ","so we can keep you in mind for future opportunities."]}),w.jsx("p",{className:"mt-6",children:"Thank you for your interest in growing with us — stay tuned for upcoming roles!"})]}),p$=()=>w.jsxs("main",{className:"max-w-3xl mx-auto py-12 px-4 prose prose-gray dark:prose-invert",children:[w.jsx("h1",{children:"Privacy Policy"}),w.jsx("p",{children:w.jsx("em",{children:"Effective Date: July 27, 2025"})}),w.jsx("h2",{children:"Who We Are"}),w.jsx("p",{children:'Wishlist2Cart ("we", "us", or "our") provides an eCommerce platform that allows users to save products from other websites (Universal Wishlist), add custom or affiliate-based products (W2C Wishlist), and purchase eligible products directly from our platform.'}),w.jsx("h2",{children:"Information We Collect"}),w.jsxs("ul",{children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Account Information:"})," Username, email address, and hashed password."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Wishlist & Cart Data:"})," Items saved to your wishlists or cart, including product info and external links."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Transaction Data:"})," For Wishlist2Cart-branded products, we collect order/payment status. We do not process affiliate or third-party payments."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Technical & Usage Data:"})," Device info, browser type, IP, and analytics via tools like Google Analytics (if enabled)."]})]}),w.jsx("h2",{children:"How We Use Your Information"}),w.jsxs("ul",{children:[w.jsx("li",{children:"To maintain your wishlists and suggest relevant products."}),w.jsx("li",{children:"To process orders of Wishlist2Cart-branded products."}),w.jsx("li",{children:"To contact you about your account, orders, or service updates."}),w.jsx("li",{children:"To analyze platform performance and improve functionality."})]}),w.jsx("h2",{children:"Legal Basis for Processing"}),w.jsx("p",{children:"We process your data based on consent, contractual necessity, legal obligations, or legitimate interest in improving our service."}),w.jsx("h2",{children:"Data Sharing & Disclosure"}),w.jsxs("ul",{children:[w.jsxs("li",{children:["We ",w.jsx("strong",{children:"do not"})," sell your personal data."]}),w.jsx("li",{children:"We may share data with trusted service providers (e.g., Google Firestore, Stripe) to operate Wishlist2Cart."}),w.jsx("li",{children:"Affiliate links take you to external sites — their terms and policies apply once you leave our platform."})]}),w.jsx("h2",{children:"Cookies & Tracking"}),w.jsx("p",{children:"We use cookies and analytics tools to understand usage patterns and personalize your experience. You can control cookies in your browser settings."}),w.jsx("h2",{children:"Data Retention"}),w.jsx("p",{children:"We keep your data while your account is active or as required for our operations. You may request deletion at any time."}),w.jsx("h2",{children:"Children’s Privacy"}),w.jsx("p",{children:"We do not knowingly collect data from users under 13 (or 16 where applicable). If found, such data will be deleted promptly."}),w.jsx("h2",{children:"Security"}),w.jsx("p",{children:"Your data is securely stored using encrypted connections and Google Firestore. While no system is perfectly secure, we follow industry best practices."}),w.jsx("h2",{children:"Your Rights"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Access, correct, or delete your data."}),w.jsx("li",{children:"Unsubscribe from emails (if enabled)."}),w.jsx("li",{children:"Withdraw consent where applicable."})]}),w.jsx("h2",{children:"Policy Updates"}),w.jsx("p",{children:"We may revise this policy from time to time. Major changes will be communicated via email or site notification."}),w.jsx("h2",{children:"Contact Us"}),w.jsxs("p",{children:["Have questions? Email us at:",w.jsx("br",{}),w.jsx("a",{href:"mailto:support@wishlist2cart.com",children:"support@wishlist2cart.com"})]})]}),m$=()=>w.jsxs("main",{className:"max-w-3xl mx-auto py-12 px-4 prose prose-gray dark:prose-invert",children:[w.jsx("h1",{children:"Terms of Service"}),w.jsx("p",{children:w.jsx("em",{children:"Effective Date: July 27, 2025"})}),w.jsx("h2",{children:"1. Acceptance of Terms"}),w.jsx("p",{children:"By using Wishlist2Cart, you agree to be bound by these Terms of Service. If you do not agree, please do not use our platform."}),w.jsx("h2",{children:"2. Service Overview"}),w.jsxs("ul",{children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Universal Wishlist:"})," Save products from external sites (e.g., Amazon, Flipkart). You are redirected to the merchant’s site to complete the transaction. We are not liable for those orders."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"W2C Wishlist:"})," Includes affiliate, dropshipping, or Wishlist2Cart in-house products.",w.jsxs("ul",{children:[w.jsx("li",{children:"Affiliate/dropshipping orders are fulfilled by third parties — we do not manage payments or returns."}),w.jsxs("li",{children:["Orders from ",w.jsx("strong",{children:"Wishlist2Cart Brands"})," are processed via our platform and covered under our internal order/refund policies."]})]})]})]}),w.jsx("h2",{children:"3. User Conduct"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Do not use Wishlist2Cart for unlawful or unauthorized activities."}),w.jsx("li",{children:"Do not attempt to breach, damage, or exploit our infrastructure."}),w.jsx("li",{children:"You are responsible for securing your login credentials."})]}),w.jsx("h2",{children:"4. Payments & External Links"}),w.jsxs("ul",{children:[w.jsx("li",{children:"Payments are processed only for in-house products."}),w.jsx("li",{children:"Wishlist2Cart is not liable for issues on external sites linked through affiliate or universal wishlist items."})]}),w.jsx("h2",{children:"5. Intellectual Property"}),w.jsx("p",{children:"All content and branding on Wishlist2Cart are owned by us. Third-party trademarks/images belong to their respective owners and are used only for reference."}),w.jsx("h2",{children:"6. Account Termination"}),w.jsx("p",{children:"We may suspend or terminate your account at any time for violation of these terms or for any reason, with or without notice."}),w.jsx("h2",{children:"7. Disclaimer of Warranties"}),w.jsx("p",{children:'Wishlist2Cart is provided "as is." We make no guarantees about service availability, product accuracy, or continuous functionality.'}),w.jsx("h2",{children:"8. Limitation of Liability"}),w.jsx("p",{children:"We are not liable for any damages related to your use of our site, especially transactions made on third-party marketplaces."}),w.jsx("h2",{children:"9. Changes to Terms"}),w.jsx("p",{children:"We may update these Terms at any time. Your continued use of the platform means you accept the revised terms."}),w.jsx("h2",{children:"10. Contact"}),w.jsxs("p",{children:["Have questions or concerns? Contact us at:",w.jsx("br",{}),w.jsx("a",{href:"mailto:support@wishlist2cart.com",children:"support@wishlist2cart.com"})]})]}),g$=[{id:"recent",label:"Recently Added"},{id:"price-asc",label:"Price: Low to High"},{id:"price-desc",label:"Price: High to Low"},{id:"store",label:"By Store"},{id:"a-z",label:"A-Z"}],y$=({sortMethod:t,setSortMethod:e})=>w.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[w.jsx("label",{htmlFor:"sort",className:"font-medium text-gray-700 dark:text-gray-300",children:"Sort by:"}),w.jsx("select",{id:"sort",value:t,onChange:n=>e(n.target.value),className:"rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-gray-100 shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-500 transition",children:g$.map(({id:n,label:r})=>w.jsx("option",{value:n,children:r},n))})]}),YN=$.createContext(),Jf="cart_items",v$=({children:t})=>{const{user:e}=ha(),[n,r]=$.useState([]),[i,s]=$.useState(!0),[o,a]=$.useState(!1),[c,d]=$.useState(0);$.useEffect(()=>{if(!e){r([]),s(!1),a(!1),d(0);return}s(!0),(async()=>{try{const C=uf(so(an,Jf),_c("uid","==",e.uid)),D=(await ff(C)).docs.map(K=>({...K.data(),_docId:K.id}));r(D)}catch(C){console.error("[CartContext] Failed to fetch cart:",C),r([])}finally{s(!1)}})()},[e]);const f=$.useCallback(async E=>{if(!e)throw new Error("Not logged in");const C=n.find(I=>I.id===E.id);try{if(C){const I=(C.quantity||1)+1;await Ha(Hn(an,Jf,C._docId),{quantity:I}),r(D=>D.map(K=>K.id===E.id?{...K,quantity:I}:K))}else{const I={...E,uid:e.uid,quantity:E.quantity||1,addedAt:Dc()},D=Hn(so(an,Jf));await Qd(D,I),r(K=>[...K,{...I,_docId:D.id}])}}catch(I){throw console.error("[CartContext] addToCart error:",I),I}},[e,n]),h=$.useCallback(async E=>{if(!e)throw new Error("Not logged in");const C=n.find(I=>I.id===E);if(C)try{await mm(Hn(an,Jf,C._docId)),r(I=>I.filter(D=>D.id!==E))}catch(I){throw console.error("[CartContext] removeFromCart error:",I),I}},[e,n]),g=$.useCallback(async(E,C)=>{if(!e)throw new Error("Not logged in");if(C<1)return;const I=n.find(D=>D.id===E);if(I)try{await Ha(Hn(an,Jf,I._docId),{quantity:C}),r(D=>D.map(K=>K.id===E?{...K,quantity:C}:K))}catch(D){throw console.error("[CartContext] setQuantity error:",D),D}},[e,n]),y=$.useMemo(()=>{const E=n.reduce((C,I)=>C+(I.price??0)*(I.quantity??1),0);return o&&c>0?+(E*(1-c/100)).toFixed(2):E},[n,o,c]),S=$.useCallback(async()=>{if(!e)throw new Error("Not logged in");try{await Promise.all(n.map(E=>mm(Hn(an,Jf,E._docId)))),r([]),a(!1),d(0)}catch(E){console.error("[CartContext] clearCart error:",E)}},[e,n]),_=E=>{o||(a(!0),d(E))},T=$.useMemo(()=>({cartItems:n,addToCart:f,removeFromCart:h,setQuantity:g,getTotalValue:y,clearCart:S,loading:i,couponApplied:o,couponDiscountPercent:c,applyCoupon:_}),[n,f,h,g,y,S,i,o,c,_]);return w.jsx(YN.Provider,{value:T,children:t})},lv=()=>{const t=$.useContext(YN);if(!t)throw new Error("useCart must be used within a CartProvider");return t},EE={Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",Flipkart:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_vector_logo.png",Myntra:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",Other:"https://upload.wikimedia.org/wikipedia/commons/6/6b/Shopping_cart_font_awesome.svg"};function w$({item:t,onDelete:e}){const{toast:n}=Mo(),r=Ja(),{cartItems:i,addToCart:s}=lv(),[o,a]=$.useState(!1),c=["amazon","flipkart","myntra"].includes((t.store||"").toLowerCase())||t.url&&t.sourceType==="universal",d=i.some(g=>g.id===t.id),f=g=>{g.stopPropagation(),t.url?window.open(t.url,"_blank","noopener noreferrer"):n({title:"No marketplace link",description:"Product link is not available",variant:"destructive"})},h=async()=>{if(d)r("/cart");else try{a(!0),await s(t),n({title:"Added to Cart",description:`${t.title} has been added to your cart.`,duration:2500})}catch{n({title:"Error",description:"Could not add item to cart.",variant:"destructive"})}finally{a(!1)}};return w.jsxs(Sn.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},whileHover:{scale:1.03},whileFocus:{scale:1.03},transition:{duration:.35},className:`\r
        relative flex flex-col justify-between rounded-2xl shadow-xl border border-gray-300 dark:border-gray-700\r
        bg-white dark:bg-gray-900 p-6 min-h-[520px] max-w-[440px] w-full\r
        focus:outline-none focus:ring-4 focus:ring-violet-400 dark:focus:ring-violet-600\r
        cursor-pointer\r
      `,tabIndex:0,role:"listitem","aria-label":`Wishlist item: ${t.title}`,children:[w.jsxs("div",{children:[w.jsx("div",{className:"w-full flex justify-center mb-6",children:w.jsx("div",{className:"w-full h-[220px] rounded-xl bg-white dark:bg-gray-800 flex items-center justify-center border border-gray-200 dark:border-gray-700 shadow-inner overflow-hidden mb-6",children:w.jsx("img",{src:t.image||EE[t.store]||EE.Other,alt:t.title,className:"object-contain max-h-full max-w-full",loading:"lazy",draggable:!1})})}),w.jsx("h3",{className:"w-full text-center text-2xl font-extrabold font-poppins text-gray-900 dark:text-white mb-2 break-words truncate",title:t.title,children:t.title}),w.jsx("div",{className:"w-full flex justify-center mb-3",children:w.jsxs("span",{className:"text-xl font-semibold text-green-700 dark:text-green-400",children:["₹",t.price?.toLocaleString()||"N/A"]})}),w.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:(t.tags||[]).map(g=>w.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-200 dark:bg-gray-800 px-3 py-1 text-xs font-semibold text-gray-700 dark:text-gray-300 select-none","aria-label":`Tag: ${g}`,children:[w.jsx(Pm,{className:"w-3 h-3"}),g]},g))})]}),w.jsxs("div",{className:"flex items-center justify-between w-full gap-4 flex-nowrap",children:[w.jsx("div",{className:"flex-grow min-w-0",children:c?w.jsxs(Ot,{onClick:f,variant:"outline",size:"lg",className:"w-full whitespace-nowrap font-semibold text-violet-700 dark:text-violet-300","aria-label":`Buy ${t.title} on Marketplace`,children:["Buy on Marketplace ",w.jsx(Ob,{className:"ml-2"})]}):w.jsxs(Ot,{onClick:h,disabled:o,variant:d?"outline":"default",size:"lg",className:"w-full whitespace-nowrap font-semibold","aria-label":d?`View ${t.title} in cart`:`Move ${t.title} to cart`,children:[w.jsx(Nl,{className:"mr-2 w-5 h-5"}),d?"View Cart":o?"Adding...":"Move to Cart"]})}),w.jsx(Ot,{onClick:()=>e(t.id),variant:"ghost",size:"icon","aria-label":`Remove ${t.title} from wishlist`,className:"text-red-600 dark:text-red-400 flex-shrink-0 hover:bg-red-100 dark:hover:bg-red-900/50 transition",style:{minWidth:44,minHeight:44},children:w.jsx(r8,{className:"w-6 h-6"})})]})]})}const b$={visible:{transition:{staggerChildren:.08}}},x$=({items:t,onToggleCart:e,onDelete:n})=>w.jsx(Sn.div,{className:"grid gap-8 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 px-2 sm:px-0",variants:b$,initial:"hidden",animate:"visible",children:w.jsx(Iy,{children:t.map(r=>w.jsx(w$,{item:r,onToggleCart:e,onDelete:n},r.id))})}),XN=$.createContext(),xp="wishlist_items",_p="wishlist_w2c",_$=({children:t})=>{const{user:e}=ha(),[n,r]=$.useState([]),[i,s]=$.useState([]),[o,a]=$.useState(!0);$.useEffect(()=>{(async()=>{if(!e){r([]),s([]),a(!1);return}a(!0);try{const E=uf(so(an,xp),_c("uid","==",e.uid)),I=(await ff(E)).docs.map(F=>({...F.data(),_docId:F.id})),D=uf(so(an,_p),_c("uid","==",e.uid)),ae=(await ff(D)).docs.map(F=>({...F.data(),_docId:F.id}));r(I),s(ae)}catch(E){console.error("[WishlistProvider] Failed to fetch wishlists:",E),r([]),s([])}finally{a(!1)}})()},[e]);const c=$.useCallback(async T=>{if(!e)throw new Error("Not logged in");r(E=>(E.find(C=>C.id===T.id),E));try{const E={...T,uid:e.uid,quantity:T.quantity||1,addedAt:Dc(),sourceType:"universal"},C=Hn(so(an,xp));await Qd(C,E),r(I=>[...I,{...E,_docId:C.id}])}catch(E){throw console.error("[WishlistProvider] addToWishlist error:",E),E}},[e]),d=$.useCallback(async T=>{if(!e)throw new Error("Not logged in");s(E=>(E.find(C=>C.id===T.id),E));try{const E={...T,uid:e.uid,quantity:T.quantity||1,addedAt:Dc(),sourceType:"w2c"},C=Hn(so(an,_p));await Qd(C,E),s(I=>[...I,{...E,_docId:C.id}])}catch(E){throw console.error("[WishlistProvider] addToW2C error:",E),E}},[e]),f=$.useCallback(async(T,E="universal")=>{if(!e)throw new Error("Not logged in");const I=(E==="universal"?n:i).find(D=>D.id===T);if(I)try{await mm(Hn(an,E==="universal"?xp:_p,I._docId)),E==="universal"?r(K=>K.filter(ae=>ae.id!==T)):s(K=>K.filter(ae=>ae.id!==T))}catch(D){throw console.error(`[WishlistProvider] removeFromWishlist error (${E}):`,D),D}},[e,n,i]),h=$.useCallback(async(T,E,C="universal")=>{if(!e)throw new Error("Not logged in");const D=(C==="universal"?n:i).find(K=>K.id===T);if(D)try{await Ha(Hn(an,C==="universal"?xp:_p,D._docId),E),C==="universal"?r(ae=>ae.map(F=>F.id===T?{...F,...E}:F)):s(ae=>ae.map(F=>F.id===T?{...F,...E}:F))}catch(K){throw console.error(`[WishlistProvider] updateItem error (${C}):`,K),K}},[e,n,i]),g=$.useCallback((T,E,C="universal")=>{E<1||h(T,{quantity:E},C)},[h]),y=$.useCallback(async(T,E="universal")=>{if(!e)throw new Error("Not logged in");const I=(E==="universal"?n:i).find(D=>D.id===T);if(I)try{await h(T,{inCart:!I.inCart},E)}catch(D){throw console.error(`[WishlistProvider] toggleCartStatus error (${E}):`,D),D}},[e,n,i,h]),S=$.useCallback(async(T="universal")=>{if(!e)throw new Error("Not logged in");const E=T==="universal"?xp:_p,C=T==="universal"?n:i;try{await Promise.all(C.map(I=>mm(Hn(an,E,I._docId)))),T==="universal"?r([]):s([])}catch(I){throw console.error(`[WishlistProvider] clearWishlist error (${T}):`,I),I}},[e,n,i]),_=$.useMemo(()=>({wishlistItems:n,w2cItems:i,addToWishlist:c,addToW2C:d,removeFromWishlist:f,updateItem:h,updateQuantity:g,toggleCartStatus:y,clearWishlist:S,loading:o,user:e}),[n,i,c,d,f,h,g,y,S,o,e]);return w.jsx(XN.Provider,{value:_,children:t})},cv=()=>{const t=$.useContext(XN);if(!t)throw new Error("useWishlist must be used within a WishlistProvider");return t},AE={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},S$=()=>{const{w2cItems:t,wishlistItems:e,toggleCartStatus:n,remove:r,loading:i}=cv(),{toast:s}=Mo(),[o,a]=$.useState(!1),[c,d]=$.useState("recent"),f=$.useMemo(()=>o?e??[]:t??[],[o,e,t]),h=$.useMemo(()=>{const _=f??[];return o?_.filter(T=>{const E=(T.sourceType||T.source||"").toLowerCase();return["external","marketplace","universal"].includes(E)}):_.filter(T=>{const E=(T.sourceType||T.source||"").toLowerCase();return["w2c","custom"].includes(E)})},[f,o]),g=$.useMemo(()=>{const _=[...h];switch(c){case"price-asc":return _.sort((T,E)=>(T.price||0)-(E.price||0));case"price-desc":return _.sort((T,E)=>(E.price||0)-(T.price||0));case"store":return _.sort((T,E)=>(T.store||"").localeCompare(E.store||""));case"a-z":return _.sort((T,E)=>(T.title||"").localeCompare(E.title||""));case"recent":default:return _.sort((T,E)=>new Date(E.addedAt||0)-new Date(T.addedAt||0))}},[h,c]),y=_=>{const T=o?"universal":"w2c",C=(o?e:t).find(I=>I.id===_);C&&(n(_,T),s({title:"Item status updated!",description:`${C.title} has been ${C.inCart?"returned to wishlist":"moved to cart"}.`}))},S=_=>{r(_,o?"universal":"w2c"),s({title:"Item removed",description:"Successfully removed from wishlist.",variant:"destructive"})};return i?w.jsx("main",{className:"flex-1 flex items-center justify-center p-20",children:w.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:"Loading your wishlist..."})}):w.jsxs(w.Fragment,{children:[w.jsx(Oc,{children:w.jsx("title",{children:"My Wishlist - Wishlist Dashboard"})}),w.jsxs("main",{children:[w.jsx(Sn.div,{className:"w-full mx-auto mb-10",variants:AE,initial:"hidden",animate:"visible",children:w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsxs("div",{className:"flex items-center justify-center mb-3",children:[w.jsx("span",{className:"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-violet-500 to-blue-500 rounded-full",children:w.jsx(Cm,{className:"w-8 h-8 text-white drop-shadow-md animate-pulse"})}),w.jsx("span",{className:"ml-4 text-4xl font-semibold tracking-wide text-violet-700 dark:text-violet-300 font-poppins select-none",children:"My Wishlist"})]}),w.jsx("p",{className:"max-w-md text-lg text-gray-700 dark:text-gray-300 font-medium",children:"Curate and manage your favorite products — discover, dream, and convert into your cart."}),w.jsx("span",{className:"block mt-5 h-1 w-32 bg-gradient-to-r from-violet-400 via-blue-400 to-violet-400 rounded-full opacity-90 shadow-sm"})]})}),w.jsxs(Sn.div,{className:"flex flex-col sm:flex-row justify-between items-center gap-6 mb-8 px-4 sm:px-0",variants:AE,initial:"hidden",animate:"visible",transition:{delay:.2},children:[w.jsx("div",{children:w.jsxs("label",{className:"flex items-center cursor-pointer select-none text-gray-700 dark:text-gray-300 font-medium",children:[w.jsx("input",{type:"checkbox",checked:o,onChange:_=>a(_.target.checked),className:"form-checkbox h-5 w-5 text-violet-600 hover:text-violet-700"}),w.jsx("span",{className:"ml-2 text-lg",children:"Show External Products Only"})]})}),w.jsx(y$,{sortMethod:c,setSortMethod:d})]}),w.jsx(Iy,{children:g.length===0?w.jsxs(Sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"mt-20 max-w-xl mx-auto p-10 rounded-3xl bg-white dark:bg-gray-800/70 border border-gray-300 dark:border-gray-700 text-center shadow-lg",children:[w.jsx(BM,{className:"mx-auto mb-6 w-24 h-24 text-violet-600 dark:text-violet-400","aria-hidden":"true"}),w.jsx("p",{className:"text-xl font-semibold",children:o?"No external products found. Discover new favorites on the marketplace!":"Your wishlist is empty. Start adding your favorite products!"}),!o&&w.jsx(Ot,{asChild:!0,variant:"violet",className:"mt-6",children:w.jsx(Ci,{to:"/add-wishlist",children:"Create your Universal Wishlist!"})})]},"empty"):w.jsx(x$,{items:g,onToggle:y,onDelete:S,wishlistType:o?"universal":"w2c",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"})})]})]})};function jc(t){return Array.isArray?Array.isArray(t):ZN(t)==="[object Array]"}function T$(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function E$(t){return t==null?"":T$(t)}function Al(t){return typeof t=="string"}function QN(t){return typeof t=="number"}function A$(t){return t===!0||t===!1||C$(t)&&ZN(t)=="[object Boolean]"}function JN(t){return typeof t=="object"}function C$(t){return JN(t)&&t!==null}function Io(t){return t!=null}function t2(t){return!t.trim().length}function ZN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const P$="Incorrect 'index' type",N$=t=>`Invalid value for key ${t}`,I$=t=>`Pattern length exceeds max of ${t}.`,k$=t=>`Missing ${t} property in key`,R$=t=>`Property 'weight' in key '${t}' must be a positive integer`,CE=Object.prototype.hasOwnProperty;class L${constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=eI(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function eI(t){let e=null,n=null,r=null,i=1,s=null;if(Al(t)||jc(t))r=t,e=PE(t),n=Aw(t);else{if(!CE.call(t,"name"))throw new Error(k$("name"));const o=t.name;if(r=o,CE.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(R$(o));e=PE(o),n=Aw(o),s=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:s}}function PE(t){return jc(t)?t:t.split(".")}function Aw(t){return jc(t)?t.join("."):t}function D$(t,e){let n=[],r=!1;const i=(s,o,a)=>{if(Io(s))if(!o[a])n.push(s);else{let c=o[a];const d=s[c];if(!Io(d))return;if(a===o.length-1&&(Al(d)||QN(d)||A$(d)))n.push(E$(d));else if(jc(d)){r=!0;for(let f=0,h=d.length;f<h;f+=1)i(d[f],o,a+1)}else o.length&&i(d,o,a+1)}};return i(t,Al(e)?e.split("."):e,0),r?n:n[0]}const O$={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},j$={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},M$={location:0,threshold:.6,distance:100},F$={useExtendedSearch:!1,getFn:D$,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var qt={...j$,...O$,...M$,...F$};const V$=/[^ ]+/g;function B$(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const s=i.match(V$).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*t),a=parseFloat(Math.round(o*r)/r);return n.set(s,a),a},clear(){n.clear()}}}class $5{constructor({getFn:e=qt.getFn,fieldNormWeight:n=qt.fieldNormWeight}={}){this.norm=B$(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Al(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Al(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Io(e)||t2(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,s)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Io(o)){if(jc(o)){let a=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:d,value:f}=c.pop();if(Io(f))if(Al(f)&&!t2(f)){let h={v:f,i:d,n:this.norm.get(f)};a.push(h)}else jc(f)&&f.forEach((h,g)=>{c.push({nestedArrIndex:g,value:h})})}r.$[s]=a}else if(Al(o)&&!t2(o)){let a={v:o,n:this.norm.get(o)};r.$[s]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function tI(t,e,{getFn:n=qt.getFn,fieldNormWeight:r=qt.fieldNormWeight}={}){const i=new $5({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(eI)),i.setSources(e),i.create(),i}function U$(t,{getFn:e=qt.getFn,fieldNormWeight:n=qt.fieldNormWeight}={}){const{keys:r,records:i}=t,s=new $5({getFn:e,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(i),s}function $g(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=qt.distance,ignoreLocation:s=qt.ignoreLocation}={}){const o=e/t.length;if(s)return o;const a=Math.abs(r-n);return i?o+a/i:a?1:o}function z$(t=[],e=qt.minMatchCharLength){let n=[],r=-1,i=-1,s=0;for(let o=t.length;s<o;s+=1){let a=t[s];a&&r===-1?r=s:!a&&r!==-1&&(i=s-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[s-1]&&s-r>=e&&n.push([r,s-1]),n}const Bd=32;function q$(t,e,n,{location:r=qt.location,distance:i=qt.distance,threshold:s=qt.threshold,findAllMatches:o=qt.findAllMatches,minMatchCharLength:a=qt.minMatchCharLength,includeMatches:c=qt.includeMatches,ignoreLocation:d=qt.ignoreLocation}={}){if(e.length>Bd)throw new Error(I$(Bd));const f=e.length,h=t.length,g=Math.max(0,Math.min(r,h));let y=s,S=g;const _=a>1||c,T=_?Array(h):[];let E;for(;(E=t.indexOf(e,S))>-1;){let F=$g(e,{currentLocation:E,expectedLocation:g,distance:i,ignoreLocation:d});if(y=Math.min(F,y),S=E+f,_){let L=0;for(;L<f;)T[E+L]=1,L+=1}}S=-1;let C=[],I=1,D=f+h;const K=1<<f-1;for(let F=0;F<f;F+=1){let L=0,B=D;for(;L<B;)$g(e,{errors:F,currentLocation:g+B,expectedLocation:g,distance:i,ignoreLocation:d})<=y?L=B:D=B,B=Math.floor((D-L)/2+L);D=B;let H=Math.max(1,g-B+1),k=o?h:Math.min(g+B,h)+f,j=Array(k+2);j[k+1]=(1<<F)-1;for(let oe=k;oe>=H;oe-=1){let de=oe-1,se=n[t.charAt(de)];if(_&&(T[de]=+!!se),j[oe]=(j[oe+1]<<1|1)&se,F&&(j[oe]|=(C[oe+1]|C[oe])<<1|1|C[oe+1]),j[oe]&K&&(I=$g(e,{errors:F,currentLocation:de,expectedLocation:g,distance:i,ignoreLocation:d}),I<=y)){if(y=I,S=de,S<=g)break;H=Math.max(1,2*g-S)}}if($g(e,{errors:F+1,currentLocation:g,expectedLocation:g,distance:i,ignoreLocation:d})>y)break;C=j}const ae={isMatch:S>=0,score:Math.max(.001,I)};if(_){const F=z$(T,a);F.length?c&&(ae.indices=F):ae.isMatch=!1}return ae}function W$(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}const ry=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class nI{constructor(e,{location:n=qt.location,threshold:r=qt.threshold,distance:i=qt.distance,includeMatches:s=qt.includeMatches,findAllMatches:o=qt.findAllMatches,minMatchCharLength:a=qt.minMatchCharLength,isCaseSensitive:c=qt.isCaseSensitive,ignoreDiacritics:d=qt.ignoreDiacritics,ignoreLocation:f=qt.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f},e=c?e:e.toLowerCase(),e=d?ry(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const h=(y,S)=>{this.chunks.push({pattern:y,alphabet:W$(y),startIndex:S})},g=this.pattern.length;if(g>Bd){let y=0;const S=g%Bd,_=g-S;for(;y<_;)h(this.pattern.substr(y,Bd),y),y+=Bd;if(S){const T=g-Bd;h(this.pattern.substr(T),T)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i}=this.options;if(e=n?e:e.toLowerCase(),e=r?ry(e):e,this.pattern===e){let _={isMatch:!0,score:0};return i&&(_.indices=[[0,e.length-1]]),_}const{location:s,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:d,ignoreLocation:f}=this.options;let h=[],g=0,y=!1;this.chunks.forEach(({pattern:_,alphabet:T,startIndex:E})=>{const{isMatch:C,score:I,indices:D}=q$(e,_,T,{location:s+E,distance:o,threshold:a,findAllMatches:c,minMatchCharLength:d,includeMatches:i,ignoreLocation:f});C&&(y=!0),g+=I,C&&D&&(h=[...h,...D])});let S={isMatch:y,score:y?g/this.chunks.length:1};return y&&i&&(S.indices=h),S}}class ud{constructor(e){this.pattern=e}static isMultiMatch(e){return NE(e,this.multiRegex)}static isSingleMatch(e){return NE(e,this.singleRegex)}search(){}}function NE(t,e){const n=t.match(e);return n?n[1]:null}class $$ extends ud{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class H$ extends ud{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class G$ extends ud{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class K$ extends ud{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Y$ extends ud{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class X$ extends ud{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class rI extends ud{constructor(e,{location:n=qt.location,threshold:r=qt.threshold,distance:i=qt.distance,includeMatches:s=qt.includeMatches,findAllMatches:o=qt.findAllMatches,minMatchCharLength:a=qt.minMatchCharLength,isCaseSensitive:c=qt.isCaseSensitive,ignoreDiacritics:d=qt.ignoreDiacritics,ignoreLocation:f=qt.ignoreLocation}={}){super(e),this._bitapSearch=new nI(e,{location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:c,ignoreDiacritics:d,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class iI extends ud{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+s,i.push([r,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const Cw=[$$,iI,G$,K$,X$,Y$,H$,rI],IE=Cw.length,Q$=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,J$="|";function Z$(t,e={}){return t.split(J$).map(n=>{let r=n.trim().split(Q$).filter(s=>s&&!!s.trim()),i=[];for(let s=0,o=r.length;s<o;s+=1){const a=r[s];let c=!1,d=-1;for(;!c&&++d<IE;){const f=Cw[d];let h=f.isMultiMatch(a);h&&(i.push(new f(h,e)),c=!0)}if(!c)for(d=-1;++d<IE;){const f=Cw[d];let h=f.isSingleMatch(a);if(h){i.push(new f(h,e));break}}}return i})}const eH=new Set([rI.type,iI.type]);class tH{constructor(e,{isCaseSensitive:n=qt.isCaseSensitive,ignoreDiacritics:r=qt.ignoreDiacritics,includeMatches:i=qt.includeMatches,minMatchCharLength:s=qt.minMatchCharLength,ignoreLocation:o=qt.ignoreLocation,findAllMatches:a=qt.findAllMatches,location:c=qt.location,threshold:d=qt.threshold,distance:f=qt.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:s,findAllMatches:a,ignoreLocation:o,location:c,threshold:d,distance:f},e=n?e:e.toLowerCase(),e=r?ry(e):e,this.pattern=e,this.query=Z$(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:s}=this.options;e=i?e:e.toLowerCase(),e=s?ry(e):e;let o=0,a=[],c=0;for(let d=0,f=n.length;d<f;d+=1){const h=n[d];a.length=0,o=0;for(let g=0,y=h.length;g<y;g+=1){const S=h[g],{isMatch:_,indices:T,score:E}=S.search(e);if(_){if(o+=1,c+=E,r){const C=S.constructor.type;eH.has(C)?a=[...a,...T]:a.push(T)}}else{c=0,o=0,a.length=0;break}}if(o){let g={isMatch:!0,score:c/o};return r&&(g.indices=a),g}}return{isMatch:!1,score:1}}}const Pw=[];function nH(...t){Pw.push(...t)}function Nw(t,e){for(let n=0,r=Pw.length;n<r;n+=1){let i=Pw[n];if(i.condition(t,e))return new i(t,e)}return new nI(t,e)}const iy={AND:"$and",OR:"$or"},Iw={PATH:"$path",PATTERN:"$val"},kw=t=>!!(t[iy.AND]||t[iy.OR]),rH=t=>!!t[Iw.PATH],iH=t=>!jc(t)&&JN(t)&&!kw(t),kE=t=>({[iy.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function sI(t,e,{auto:n=!0}={}){const r=i=>{let s=Object.keys(i);const o=rH(i);if(!o&&s.length>1&&!kw(i))return r(kE(i));if(iH(i)){const c=o?i[Iw.PATH]:s[0],d=o?i[Iw.PATTERN]:i[c];if(!Al(d))throw new Error(N$(c));const f={keyId:Aw(c),pattern:d};return n&&(f.searcher=Nw(d,e)),f}let a={children:[],operator:s[0]};return s.forEach(c=>{const d=i[c];jc(d)&&d.forEach(f=>{a.children.push(r(f))})}),a};return kw(t)||(t=kE(t)),r(t)}function sH(t,{ignoreFieldNorm:e=qt.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:s,score:o})=>{const a=i?i.weight:null;r*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),n.score=r})}function oH(t,e){const n=t.matches;e.matches=[],Io(n)&&n.forEach(r=>{if(!Io(r.indices)||!r.indices.length)return;const{indices:i,value:s}=r;let o={indices:i,value:s};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),e.matches.push(o)})}function aH(t,e){e.score=t.score}function lH(t,e,{includeMatches:n=qt.includeMatches,includeScore:r=qt.includeScore}={}){const i=[];return n&&i.push(oH),r&&i.push(aH),t.map(s=>{const{idx:o}=s,a={item:e[o],refIndex:o};return i.length&&i.forEach(c=>{c(s,a)}),a})}class Cf{constructor(e,n={},r){this.options={...qt,...n},this.options.useExtendedSearch,this._keyStore=new L$(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof $5))throw new Error(P$);this._myIndex=n||tI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Io(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,i-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options;let c=Al(e)?Al(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return sH(c,{ignoreFieldNorm:a}),s&&c.sort(o),QN(n)&&n>-1&&(c=c.slice(0,n)),lH(c,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=Nw(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:s,i:o,n:a})=>{if(!Io(s))return;const{isMatch:c,score:d,indices:f}=n.searchIn(s);c&&i.push({item:s,idx:o,matches:[{score:d,value:s,norm:a,indices:f}]})}),i}_searchLogical(e){const n=sI(e,this.options),r=(a,c,d)=>{if(!a.children){const{keyId:h,searcher:g}=a,y=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(c,h),searcher:g});return y&&y.length?[{idx:d,item:c,matches:y}]:[]}const f=[];for(let h=0,g=a.children.length;h<g;h+=1){const y=a.children[h],S=r(y,c,d);if(S.length)f.push(...S);else if(a.operator===iy.AND)return[]}return f},i=this._myIndex.records,s={},o=[];return i.forEach(({$:a,i:c})=>{if(Io(a)){let d=r(n,a,c);d.length&&(s[c]||(s[c]={idx:c,item:a,matches:[]},o.push(s[c])),d.forEach(({matches:f})=>{s[c].matches.push(...f)}))}}),o}_searchObjectList(e){const n=Nw(e,this.options),{keys:r,records:i}=this._myIndex,s=[];return i.forEach(({$:o,i:a})=>{if(!Io(o))return;let c=[];r.forEach((d,f)=>{c.push(...this._findMatches({key:d,value:o[f],searcher:n}))}),c.length&&s.push({idx:a,item:o,matches:c})}),s}_findMatches({key:e,value:n,searcher:r}){if(!Io(n))return[];let i=[];if(jc(n))n.forEach(({v:s,i:o,n:a})=>{if(!Io(s))return;const{isMatch:c,score:d,indices:f}=r.searchIn(s);c&&i.push({score:d,key:e,value:s,idx:o,norm:a,indices:f})});else{const{v:s,n:o}=n,{isMatch:a,score:c,indices:d}=r.searchIn(s);a&&i.push({score:c,key:e,value:s,norm:o,indices:d})}return i}}Cf.version="7.1.0";Cf.createIndex=tI;Cf.parseIndex=U$;Cf.config=qt;Cf.parseQuery=sI;nH(tH);const cH=it.createContext({}),oI=!0;function uH({baseColor:t,highlightColor:e,width:n,height:r,borderRadius:i,circle:s,direction:o,duration:a,enableAnimation:c=oI,customHighlightBackground:d}){const f={};return o==="rtl"&&(f["--animation-direction"]="reverse"),typeof a=="number"&&(f["--animation-duration"]=`${a}s`),c||(f["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(f.width=n),(typeof r=="string"||typeof r=="number")&&(f.height=r),(typeof i=="string"||typeof i=="number")&&(f.borderRadius=i),s&&(f.borderRadius="50%"),typeof t<"u"&&(f["--base-color"]=t),typeof e<"u"&&(f["--highlight-color"]=e),typeof d=="string"&&(f["--custom-highlight-background"]=d),f}function ym({count:t=1,wrapper:e,className:n,containerClassName:r,containerTestId:i,circle:s=!1,style:o,...a}){var c,d,f;const h=it.useContext(cH),g={...a};for(const[I,D]of Object.entries(a))typeof D>"u"&&delete g[I];const y={...h,...g,circle:s},S={...o,...uH(y)};let _="react-loading-skeleton";n&&(_+=` ${n}`);const T=(c=y.inline)!==null&&c!==void 0?c:!1,E=[],C=Math.ceil(t);for(let I=0;I<C;I++){let D=S;if(C>t&&I===C-1){const ae=(d=D.width)!==null&&d!==void 0?d:"100%",F=t%1,L=typeof ae=="number"?ae*F:`calc(${ae} * ${F})`;D={...D,width:L}}const K=it.createElement("span",{className:_,style:D,key:I},"‌");T?E.push(K):E.push(it.createElement(it.Fragment,{key:I},K,it.createElement("br",null)))}return it.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":(f=y.enableAnimation)!==null&&f!==void 0?f:oI},e?E.map((I,D)=>it.createElement(e,{key:D},I)):E)}function aI({value:t,onChange:e,onClear:n,...r}){return w.jsxs("div",{className:"relative flex w-full max-w-md items-center",children:[w.jsx(e8,{className:"absolute left-3 h-5 w-5 text-gray-400 pointer-events-none"}),w.jsx("input",{type:"search",value:t,onChange:e,placeholder:"Search products by name, tag, or description…",className:"w-full pl-10 pr-10 py-3 text-base rounded-md border border-gray-300 bg-gray-100 focus:bg-white focus:border-violet-500 focus:ring-2 focus:ring-violet-500 shadow transition",...r}),t&&w.jsx("button",{onClick:n,"aria-label":"Clear search",className:"absolute right-3 text-gray-400 hover:text-gray-700 focus:outline-none",children:w.jsx(Mb,{size:18})})]})}function lI({currentPage:t,totalPages:e,onPageChange:n}){if(e<=1)return null;const r=Array.from({length:e},(i,s)=>s+1);return w.jsx("nav",{"aria-label":"Pagination Navigation",className:"flex justify-center gap-2 mt-6",children:r.map(i=>w.jsx("button",{onClick:()=>n(i),className:`px-3 py-1 rounded border text-sm ${i===t?"bg-blue-500 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"}`,"aria-current":i===t?"page":null,"aria-label":`Go to page ${i}`,children:i},i))})}const H5="/assets/success-CiZWBQqg.mp3",dH=["Trending","Fashion","Tech Gadgets","Accessories","Gifting","Home"],fH=["bestseller","new","editor's pick","gift"];async function hH(){const t=so(an,"wishlist2cart_brands"),e=uf(t,_c("isCustom","==",!0),iv("createdAt","desc"));return(await ff(e)).docs.map(r=>({id:r.id,...r.data(),createdAt:r.data().createdAt?r.data().createdAt.toDate():null}))}function pH(){const[t,e]=$.useState("Trending"),[n,r]=$.useState([]),[i,s]=$.useState(""),[o,a]=$.useState("newest"),[c,d]=$.useState([]),[f,h]=$.useState(1),[g,y]=$.useState(!0),S=8,{toast:_}=Mo(),{addToCart:T,cartItems:E}=lv(),{w2cItems:C,addToW2C:I,removeFromWishlist:D,user:K}=cv(),ae=Ja(),F=$.useRef(null);$.useEffect(()=>{F.current=new Audio(H5)},[]);function L(){F.current&&(F.current.currentTime=0,F.current.play())}$.useEffect(()=>{y(!0),hH().then(d).catch(()=>_({title:"Failed to load products",description:"Please try again later.",variant:"destructive"})).finally(()=>y(!1))},[_]);const B=$.useMemo(()=>new Cf(c,{keys:["title","description","tags"],threshold:.32,ignoreLocation:!0}),[c]),H=$.useMemo(()=>t==="Trending"?c:c.filter(W=>W.category===t),[c,t]),k=$.useMemo(()=>n.length===0?H:H.filter(W=>W.tags&&n.every(ee=>W.tags.includes(ee))),[H,n]),j=$.useMemo(()=>i.trim()?B.search(i.trim()).map(W=>W.item).filter(W=>k.includes(W)):k,[i,B,k]),z=$.useMemo(()=>{const W=[...j];switch(o){case"price_asc":W.sort((ee,ce)=>(ee.price??0)-(ce.price??0));break;case"price_desc":W.sort((ee,ce)=>(ce.price??0)-(ee.price??0));break;case"newest":default:W.sort((ee,ce)=>(ce.createdAt?.getTime()??0)-(ee.createdAt?.getTime()??0))}return W},[j,o]),oe=Math.max(1,Math.ceil(z.length/S)),de=$.useMemo(()=>z.slice((f-1)*S,f*S),[f,z]),se=$.useMemo(()=>new Set(C.map(W=>W.id)),[C]),le=$.useMemo(()=>new Set(E.map(W=>W.id)),[E]),[re,pe]=$.useState(new Set);$.useEffect(()=>{pe(W=>{const ee=new Set(W);return E.forEach(ce=>ee.delete(ce.id)),ee})},[E]);const Z=async W=>{if(!K){_({title:"Not logged in",description:"Please log in to manage wishlist.",variant:"destructive"});return}const ee=se.has(W.id);try{ee?(await D(W.id,"w2c"),_({title:"Removed from wishlist",description:`${W.title} removed.`})):(await I({...W,quantity:1}),L(),rm({particleCount:70,spread:70,origin:{y:.6}}),_({title:"Added to wishlist",description:`${W.title} added.`}))}catch(ce){_({title:"Error",description:"Failed to update wishlist. Please try again.",variant:"destructive"}),console.error("Wishlist toggle error:",ce)}},q=async(W,ee)=>{if(ee&&ee.stopPropagation(),!K){_({title:"Not logged in",description:"Please log in to add products to cart.",variant:"destructive"});return}try{await T({...W,quantity:1}),pe(ce=>new Set(ce).add(W.id)),L(),rm({particleCount:80,spread:70,origin:{y:.6}}),_({title:"Added to cart",description:`${W.title} added.`})}catch(ce){_({title:"Error",description:"Failed to add product to cart. Please try again.",variant:"destructive"}),console.error("Add to cart error:",ce)}},V=W=>{W&&W.stopPropagation(),ae("/cart")};return w.jsxs(w.Fragment,{children:[w.jsxs(Oc,{children:[w.jsx("title",{children:"W2C Originals"}),w.jsx("meta",{name:"description",content:"Shop exclusive W2C Originals."})]}),w.jsxs(Sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6},className:"container mx-auto px-4 py-12 max-w-7xl bg-gray-50 dark:bg-gray-900 rounded-xl",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-extrabold font-poppins tracking-wide bg-clip-text text-transparent bg-gradient-to-r from-violet-700 to-blue-700 dark:from-violet-400 dark:to-blue-400 select-none",children:"W2C Originals"}),w.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400 max-w-lg",children:"A curated selection of custom products."})]}),w.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[w.jsx(aI,{value:i,onChange:W=>{s(W.target.value),h(1)},onClear:()=>{s(""),h(1)}}),w.jsxs("select",{"aria-label":"Sort products",className:"rounded border border-gray-300 dark:border-gray-700 px-3 py-2",value:o,onChange:W=>{a(W.target.value),h(1)},children:[w.jsx("option",{value:"newest",children:"Newest"}),w.jsx("option",{value:"price_asc",children:"Price: Low to High"}),w.jsx("option",{value:"price_desc",children:"Price: High to Low"})]})]})]}),w.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:dH.map(W=>w.jsx(Ot,{variant:W===t?"default":"ghost",className:"capitalize",onClick:()=>{e(W),h(1)},"aria-pressed":W===t,type:"button",children:W},W))}),w.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[fH.map(W=>w.jsx(Ot,{size:"sm",variant:n.includes(W)?"default":"ghost",onClick:()=>{h(1),r(ee=>ee.includes(W)?ee.filter(ce=>ce!==W):[...ee,W])},className:`rounded-full px-4 py-1 ${n.includes(W)?"font-bold ring-2 ring-violet-400":""}`,"aria-pressed":n.includes(W),type:"button",children:W},W)),n.length>0&&w.jsx(Ot,{size:"sm",variant:"ghost",onClick:()=>{r([]),h(1)},type:"button",children:"Clear"})]}),g?Array(S).fill(0).map((W,ee)=>w.jsx(ym,{height:420,style:{marginBottom:24}},ee)):de.length===0?w.jsx(Sn.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-24 text-lg text-gray-500 dark:text-gray-400 select-none",children:"No products found."}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8",children:de.map(W=>{const ee=se.has(W.id),ce=le.has(W.id)||re.has(W.id);return w.jsxs(Sn.div,{className:"flex flex-col rounded-2xl bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 p-5 shadow-lg select-none min-h-[420px]",tabIndex:0,role:"button",onClick:()=>ae(`/products/${W.id}`),onKeyDown:fe=>{(fe.key==="Enter"||fe.key===" ")&&(fe.preventDefault(),ae(`/products/${W.id}`))},whileHover:{scale:1.03},transition:{type:"spring",stiffness:300},children:[w.jsxs("div",{className:"relative h-60 w-full rounded-xl overflow-hidden shadow mb-3",children:[W.image?w.jsx("img",{src:W.image,alt:W.title,loading:"lazy",className:"w-full h-full object-cover rounded-xl"}):w.jsx(ym,{height:240}),w.jsx("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:W.tags?.map(fe=>w.jsx("span",{className:"bg-green-600 text-white px-2 py-0.5 rounded text-xs",children:fe},fe))})]}),w.jsx("h3",{className:"font-black text-lg mb-1 truncate text-gray-900 dark:text-white",children:W.title}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:W.description}),w.jsxs("div",{className:"flex items-center justify-between mt-auto mb-4",children:[w.jsxs("span",{className:"flex items-center gap-1 text-gray-400",children:[w.jsx(Pm,{size:18})," ",W.category]}),w.jsxs("div",{className:"font-bold text-lg px-1 rounded select-none",children:["₹",W.price?.toLocaleString()]})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx(Sn.button,{onClick:fe=>{fe.stopPropagation(),Z(W)},"aria-label":ee?"Remove from wishlist":"Add to wishlist",type:"button",className:"p-0 focus:outline-none bg-transparent",children:w.jsx(Cm,{size:28,strokeWidth:2.3,fill:ee?"#dc2626":"none",stroke:ee?"#dc2626":"#737373",style:{transition:"all 0.25s"}})}),ce?w.jsx(Ot,{onClick:V,size:"lg",variant:"outline",className:"flex-1",type:"button",children:"View Cart"}):w.jsxs(Ot,{onClick:fe=>q(W,fe),size:"lg",variant:"default",className:"flex-1",type:"button",children:[w.jsx(Nl,{className:"mr-1"}),"Add to Cart"]})]})]},W.id)})}),w.jsx(lI,{page:f,pages:oe,onPage:h})]})]})]})}const RE=["Mobiles","Fashion","Home Essentials","Sports & Fitness"],mH=["discount","bestseller","limited","new","popular","recommended"];function gH(){const[t,e]=$.useState([]),[n,r]=$.useState(RE[0]),[i,s]=$.useState(""),[o,a]=$.useState([]),[c,d]=$.useState("newest"),[f,h]=$.useState(1),g=12,{toast:y}=Mo(),{wishlistItems:S,addToWishlist:_,removeFromWishlist:T}=cv(),E=$.useRef(null);$.useEffect(()=>{E.current=new Audio(H5)},[]);const C=()=>{E.current&&(E.current.currentTime=0,E.current.play())};$.useEffect(()=>{(async()=>{try{const k=uf(so(an,"products"),iv("createdAt","desc")),j=await ff(k);e(j.docs.map(z=>({id:z.id,...z.data()})))}catch(k){y({title:"Failed to load products",description:k.message,variant:"destructive"})}})()},[y]);const I=$.useMemo(()=>new Cf(t,{keys:["title","description","tags"],threshold:.35}),[t]),D=$.useMemo(()=>t.filter(k=>!n||k.category===n).filter(k=>o.length===0||k.tags&&o.every(j=>k.tags.includes(j))),[t,n,o]),K=$.useMemo(()=>i.trim()?I.search(i.trim()).map(j=>j.item).filter(j=>D.includes(j)):D,[D,i,I]),ae=$.useMemo(()=>{let k=[...K];switch(c){case"price_asc":k.sort((j,z)=>(j.price??0)-(z.price??0));break;case"price_desc":k.sort((j,z)=>(z.price??0)-(j.price??0));break;default:k.sort((j,z)=>new Date(z.createdAt)-new Date(j.createdAt));break}return k},[K,c]),F=Math.max(1,Math.ceil(ae.length/g)),L=$.useMemo(()=>{const k=(f-1)*g;return ae.slice(k,k+g)},[ae,f,g]),B=$.useMemo(()=>new Set(S.map(k=>k.id)),[S]),H=k=>{B.has(k.id)?(T(k.id,"universal"),y({title:"Removed from wishlist",description:`${k.title} removed.`})):(_({...k,sourceType:"marketplace",inCart:!1,id:k.id},"universal"),C(),rm({particleCount:70,spread:70,origin:{y:.6}}),y({title:"Added to wishlist",description:`${k.title} added.`}))};return w.jsxs(w.Fragment,{children:[w.jsx(Oc,{children:w.jsx("title",{children:"Curated Collection"})}),w.jsxs(Sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.7},className:"container mx-auto px-4 py-12 max-w-7xl bg-gray-50 dark:bg-gray-900 rounded-xl",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-extrabold font-poppins tracking-wide bg-clip-text text-transparent bg-gradient-to-r from-violet-700 to-blue-700 dark:from-violet-400 dark:to-blue-400 select-none",children:"Curated Collection"}),w.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-400 max-w-lg",children:"Handpicked trending deals from trusted partners."})]}),w.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[w.jsx(aI,{value:i,onChange:k=>{s(k.target.value),h(1)},onClear:()=>s("")}),w.jsxs("select",{"aria-label":"Sort products",value:c,onChange:k=>{d(k.target.value),h(1)},className:"rounded border border-gray-300 dark:border-gray-700 px-3 py-2",children:[w.jsx("option",{value:"newest",children:"Newest"}),w.jsx("option",{value:"price_asc",children:"Price - Low to High"}),w.jsx("option",{value:"price_desc",children:"Price - High to Low"})]})]})]}),w.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:RE.map(k=>w.jsx(Ot,{variant:k===n?"default":"ghost",className:"capitalize font-semibold",onClick:()=>{r(k),h(1)},children:k},k))}),w.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[mH.map(k=>w.jsx(Ot,{size:"sm",variant:o.includes(k)?"default":"ghost",className:"uppercase font-semibold",onClick:()=>a(o.includes(k)?o.filter(j=>j!==k):[...o,k]),children:k},k)),o.length>0&&w.jsx(Ot,{size:"sm",variant:"ghost",onClick:()=>a([]),children:"Clear"})]}),L.length===0?w.jsx(Sn.div,{initial:{opacity:0},animate:{opacity:1},className:"text-lg py-24 text-center text-gray-500 dark:text-gray-400 select-none",children:"No products found."}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8",children:L.map(k=>{const j=B.has(k.id);return w.jsxs(Sn.div,{className:"flex flex-col rounded-2xl bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 p-5 shadow-lg select-none min-h-[400px]",children:[w.jsxs("div",{className:"relative h-60 w-full rounded-xl overflow-hidden shadow mb-3",children:[k.image?w.jsx("img",{src:k.image,alt:k.title,className:"w-full h-full object-cover rounded-xl",loading:"lazy"}):w.jsx(ym,{height:240}),w.jsx("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:k.tags?.map(z=>w.jsx("span",{className:"bg-green-600 text-white px-2 py-0.5 rounded text-xs",children:z},z))})]}),w.jsx("h3",{className:"font-black text-lg mb-1 truncate text-gray-900 dark:text-white",children:k.title}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:k.description}),w.jsxs("div",{className:"flex items-center justify-between mt-2 mb-4",children:[w.jsxs("span",{className:"flex items-center gap-2 text-gray-400",children:[w.jsx(Pm,{className:"h-4 w-4"}),k.category]}),w.jsxs("span",{className:"font-bold text-lg text-green-700 dark:text-green-400 px-1",children:["₹",k.price?.toLocaleString()]})]}),w.jsxs("div",{className:"flex items-center gap-4 mt-auto",children:[w.jsx(Sn.button,{onClick:z=>{z.stopPropagation(),H(k)},"aria-label":j?"Remove from wishlist":"Add to wishlist",type:"button",className:"focus:outline-none bg-transparent p-0",children:w.jsx(Cm,{size:28,strokeWidth:2.3,fill:j?"#dc2626":"none",stroke:j?"#dc2626":"#737373",style:{transition:"all 0.25s"}})}),w.jsxs(Ot,{size:"lg",onClick:z=>{z.stopPropagation(),k.url&&window.open(k.url,"_blank","noopener noreferrer")},variant:"outline","aria-label":`Buy ${k.title} on Marketplace`,children:["Buy on Marketplace ",w.jsx(Ob,{className:"ml-2 w-4 h-4"})]})]})]},k.id)})}),w.jsx(lI,{page:f,pages:F,onPage:h})]})]})]})}const LE={Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",Flipkart:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_logo_vector.svg",Myntra:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",Default:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Shopping_Cart_Icon.svg/1024px-Shopping_Cart_Icon.svg.png"};function DE(){const{toast:t}=Mo(),{cartItems:e,getTotalValue:n,removeFromCart:r,setQuantity:i,couponApplied:s,applyCoupon:o,couponDiscountPercent:a}=lv(),c=Ja(),d=n,f=_=>{const T=(_.quantity||1)-1;T>=1&&i(_.id,T)},h=_=>{const T=(_.quantity||1)+1;i(_.id,T)},g=_=>{r(_.id),t({title:"Removed from cart",description:`${_.title} was removed.`,variant:"destructive"})},y=_=>{t({title:`Redirecting to ${_}`,description:"This will take you to the checkout page on their site."})},S=()=>{if(e.length===0){t({title:"Cart Empty",description:"Add items before proceeding to payment.",variant:"destructive"});return}c("/checkout")};return w.jsxs(w.Fragment,{children:[w.jsxs(Oc,{children:[w.jsx("title",{children:"My Cart - Wishlist2Cart"}),w.jsx("meta",{name:"description",content:"View your aggregated cart from multiple platforms and get ready to checkout."})]}),w.jsxs(Sn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[w.jsxs("div",{className:"text-center mb-10",children:[w.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"My Aggregated Cart"}),w.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"All your items, ready for checkout."})]}),w.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[w.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.length>0?e.map((_,T)=>w.jsxs(Sn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:T*.1},className:"p-4 rounded-2xl bg-white dark:bg-gray-800/50 shadow-md border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[w.jsx("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0 flex items-center justify-center p-2",children:w.jsx("img",{src:_.image||LE[_.platform]||LE.Default,alt:_.title,className:"max-h-full max-w-full object-contain rounded",loading:"lazy"})}),w.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[w.jsx("h3",{className:"font-semibold text-lg line-clamp-2",children:_.title}),w.jsxs("p",{className:"text-violet-500 dark:text-violet-400 font-bold text-lg mt-1",children:["₹",(_.price*(_.quantity||1)).toFixed(2),_.quantity>1&&w.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400 ml-2",children:["(₹",_.price.toFixed(2)," × ",_.quantity,")"]})]})]}),w.jsxs("div",{className:"flex flex-col items-center gap-2",children:[w.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md overflow-hidden bg-white dark:bg-gray-900",children:[w.jsx("button",{onClick:()=>f(_),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":`Decrease quantity of ${_.title}`,children:w.jsx(QM,{className:"w-4 h-4"})}),w.jsx("span",{className:"px-3 font-semibold select-none",children:_.quantity||1}),w.jsx("button",{onClick:()=>h(_),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":`Increase quantity of ${_.title}`,children:w.jsx(DP,{className:"w-4 h-4"})})]}),w.jsx(Ot,{variant:"ghost",size:"sm",onClick:()=>g(_),className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30","aria-label":`Remove ${_.title} from cart`,children:w.jsx(jb,{className:"w-4 h-4"})})]}),_.affiliateUrl&&w.jsxs(Ot,{variant:"outline",size:"sm",onClick:()=>y(_.platform),className:"ml-4 whitespace-nowrap",children:["Checkout on ",_.platform," ",w.jsx(Ob,{className:"ml-1 w-4 h-4"})]})]},_.id)):w.jsx("div",{className:"text-center py-16 bg-white dark:bg-gray-800/50 rounded-2xl text-gray-500 dark:text-gray-400",children:"Your cart is empty."})}),w.jsx("div",{className:"lg:col-span-1",children:w.jsxs("div",{className:"sticky top-24 bg-white dark:bg-gray-950/30 p-6 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Cart Summary"}),w.jsxs("div",{className:"space-y-2 text-lg",children:[w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{children:"Subtotal"}),w.jsxs("span",{children:["₹",(s?d/.9:d).toFixed(2)]})]}),w.jsxs("div",{className:"flex justify-between text-gray-500 dark:text-gray-400",children:[w.jsx("span",{children:"Shipping"}),w.jsx("span",{children:"Calculated at checkout"})]}),s&&w.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400 font-semibold",children:[w.jsxs("span",{children:["Discount (",a,"%)"]}),w.jsxs("span",{children:["-₹",(d*(a/(100-a))).toFixed(2)]})]}),w.jsxs("div",{className:"flex justify-between font-bold text-xl pt-2 border-t border-gray-200 dark:border-gray-700",children:[w.jsx("span",{children:"Total"}),w.jsxs("span",{children:["₹",d.toFixed(2)]})]})]}),w.jsxs(Ot,{size:"lg",className:"w-full mt-6",onClick:S,disabled:e.length===0,"aria-disabled":e.length===0,children:["Proceed to Payment ",w.jsx(RP,{className:"ml-2 h-5 w-5"})]}),!s&&e.length>0&&w.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[w.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Price Insights"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-100/50 dark:bg-green-900/20 rounded-lg",children:[w.jsx(ZM,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-1 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:"Potential Savings!"}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Apply Coupon to save more!"}),w.jsx(Ot,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>o(10),children:"Apply Coupon"})]})]}),w.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-100/50 dark:bg-blue-900/20 rounded-lg",children:[w.jsx(Pm,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:"Coupon Available"}),w.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Use code ",w.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"SAVE10"})," for 10% off on Flipkart."]})]})]})]})]})]})})]})]})]})}const OE=5;function yH(t,e){const[n,r]=$.useState([]),[i,s]=$.useState(!0),[o,a]=$.useState(null),[c,d]=$.useState(!1),[f,h]=$.useState(!0),[g,y]=$.useState({}),S=$.useRef(null),_=$.useCallback(async(C=!1)=>{if(t)try{C?d(!0):s(!0),a(null);const I=[so(an,"orders"),_c("userId","==",t),iv("createdAt","desc")];e.status&&e.status.toLowerCase()!=="all"&&I.push(_c("status","==",e.status)),e.startDate&&I.push(_c("createdAt",">=",Zn.fromDate(e.startDate))),e.endDate&&I.push(_c("createdAt","<=",Zn.fromDate(e.endDate))),C&&S.current&&I.push(Yz(S.current)),I.push(Kz(OE));const D=uf(...I),K=await ff(D),ae=K.docs.map(F=>({id:F.id,...F.data()}));r(C?F=>[...F,...ae]:ae),S.current=K.docs[K.docs.length-1]||null,h(K.docs.length===OE)}catch(I){a(I.message||"Something went wrong."),console.error(I)}finally{C?d(!1):s(!1)}},[t,e]);$.useEffect(()=>{S.current=null,r([]),_()},[_]);const T=()=>{!c&&f&&_(!0)},E=$.useCallback(async C=>{if(C){y(I=>({...I,[C]:!0}));try{const I=Hn(an,"orders",C);await Ha(I,{status:"Cancelled"}),r(D=>D.map(K=>K.id===C?{...K,status:"Cancelled"}:K))}catch(I){throw console.error("Cancel order failed:",I),I}finally{y(I=>({...I,[C]:!1}))}}},[]);return{orders:n,loading:i,error:o,loadingMore:c,hasMore:f,loadMore:T,cancelOrder:E,cancelLoading:g}}function vH(t="/logo.png"){const[e,n]=$.useState(null);return $.useEffect(()=>{let r=!0;return fetch(t).then(i=>i.blob()).then(i=>{if(!r)return;const s=new FileReader;s.onloadend=()=>{n(s.result)},s.readAsDataURL(i)}).catch(()=>{r&&n(null)}),()=>{r=!1}},[t]),e}const wH="modulepreload",bH=function(t){return"/"+t},jE={},sy=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=c(n.map(d=>{if(d=bH(d),d in jE)return;jE[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":wH,f||(g.as="script"),g.crossOrigin="",g.href=d,a&&g.setAttribute("nonce",a),document.head.appendChild(g),f)return new Promise((y,S)=>{g.addEventListener("load",y),g.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Wn(t){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(t)}var fs=Uint8Array,Do=Uint16Array,G5=Int32Array,uv=new fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dv=new fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rw=new fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cI=function(t,e){for(var n=new Do(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new G5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},uI=cI(uv,2),dI=uI.b,Lw=uI.r;dI[28]=258,Lw[258]=28;var fI=cI(dv,0),xH=fI.b,ME=fI.r,Dw=new Do(32768);for(var ur=0;ur<32768;++ur){var Iu=(ur&43690)>>1|(ur&21845)<<1;Iu=(Iu&52428)>>2|(Iu&13107)<<2,Iu=(Iu&61680)>>4|(Iu&3855)<<4,Dw[ur]=((Iu&65280)>>8|(Iu&255)<<8)>>1}var Ml=function(t,e,n){for(var r=t.length,i=0,s=new Do(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Do(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Do(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var d=i<<4|t[i],f=e-t[i],h=o[t[i]-1]++<<f,g=h|(1<<f)-1;h<=g;++h)a[Dw[h]>>c]=d}else for(a=new Do(r),i=0;i<r;++i)t[i]&&(a[i]=Dw[o[t[i]-1]++]>>15-t[i]);return a},id=new fs(288);for(var ur=0;ur<144;++ur)id[ur]=8;for(var ur=144;ur<256;++ur)id[ur]=9;for(var ur=256;ur<280;++ur)id[ur]=7;for(var ur=280;ur<288;++ur)id[ur]=8;var vm=new fs(32);for(var ur=0;ur<32;++ur)vm[ur]=5;var _H=Ml(id,9,0),SH=Ml(id,9,1),TH=Ml(vm,5,0),EH=Ml(vm,5,1),n2=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},za=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},r2=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},K5=function(t){return(t+7)/8|0},hI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new fs(t.subarray(e,n))},AH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Wa=function(t,e,n){var r=new Error(e||AH[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Wa),!n)throw r;return r},CH=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new fs(0);var o=!n,a=o||e.i!=2,c=e.i;o&&(n=new fs(i*3));var d=function(Fe){var Ye=n.length;if(Fe>Ye){var Qe=new fs(Math.max(Ye*2,Fe));Qe.set(n),n=Qe}},f=e.f||0,h=e.p||0,g=e.b||0,y=e.l,S=e.d,_=e.m,T=e.n,E=i*8;do{if(!y){f=za(t,h,1);var C=za(t,h+1,3);if(h+=3,C)if(C==1)y=SH,S=EH,_=9,T=5;else if(C==2){var ae=za(t,h,31)+257,F=za(t,h+10,15)+4,L=ae+za(t,h+5,31)+1;h+=14;for(var B=new fs(L),H=new fs(19),k=0;k<F;++k)H[Rw[k]]=za(t,h+k*3,7);h+=F*3;for(var j=n2(H),z=(1<<j)-1,oe=Ml(H,j,1),k=0;k<L;){var de=oe[za(t,h,z)];h+=de&15;var I=de>>4;if(I<16)B[k++]=I;else{var se=0,le=0;for(I==16?(le=3+za(t,h,3),h+=2,se=B[k-1]):I==17?(le=3+za(t,h,7),h+=3):I==18&&(le=11+za(t,h,127),h+=7);le--;)B[k++]=se}}var re=B.subarray(0,ae),pe=B.subarray(ae);_=n2(re),T=n2(pe),y=Ml(re,_,1),S=Ml(pe,T,1)}else Wa(1);else{var I=K5(h)+4,D=t[I-4]|t[I-3]<<8,K=I+D;if(K>i){c&&Wa(0);break}a&&d(g+D),n.set(t.subarray(I,K),g),e.b=g+=D,e.p=h=K*8,e.f=f;continue}if(h>E){c&&Wa(0);break}}a&&d(g+131072);for(var Z=(1<<_)-1,q=(1<<T)-1,V=h;;V=h){var se=y[r2(t,h)&Z],W=se>>4;if(h+=se&15,h>E){c&&Wa(0);break}if(se||Wa(2),W<256)n[g++]=W;else if(W==256){V=h,y=null;break}else{var ee=W-254;if(W>264){var k=W-257,ce=uv[k];ee=za(t,h,(1<<ce)-1)+dI[k],h+=ce}var fe=S[r2(t,h)&q],ye=fe>>4;fe||Wa(3),h+=fe&15;var pe=xH[ye];if(ye>3){var ce=dv[ye];pe+=r2(t,h)&(1<<ce)-1,h+=ce}if(h>E){c&&Wa(0);break}a&&d(g+131072);var we=g+ee;if(g<pe){var Te=s-pe,Ve=Math.min(pe,we);for(Te+g<0&&Wa(3);g<Ve;++g)n[g]=r[Te+g]}for(;g<we;++g)n[g]=n[g-pe]}}e.l=y,e.p=V,e.b=g,e.f=f,y&&(f=1,e.m=_,e.d=S,e.n=T)}while(!f);return g!=n.length&&o?hI(n,0,g):n.subarray(0,g)},pc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Sp=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},i2=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:mI,l:0};if(i==1){var o=new fs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(K,ae){return K.f-ae.f}),n.push({s:-1,f:25001});var a=n[0],c=n[1],d=0,f=1,h=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};f!=i-1;)a=n[n[d].f<n[h].f?d++:h++],c=n[d!=f&&n[d].f<n[h].f?d++:h++],n[f++]={s:-1,f:a.f+c.f,l:a,r:c};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var y=new Do(g+1),S=Ow(n[f-1],y,0);if(S>e){var r=0,_=0,T=S-e,E=1<<T;for(s.sort(function(ae,F){return y[F.s]-y[ae.s]||ae.f-F.f});r<i;++r){var C=s[r].s;if(y[C]>e)_+=E-(1<<S-y[C]),y[C]=e;else break}for(_>>=T;_>0;){var I=s[r].s;y[I]<e?_-=1<<e-y[I]++-1:++r}for(;r>=0&&_;--r){var D=s[r].s;y[D]==e&&(--y[D],++_)}S=e}return{t:new fs(y),l:S}},Ow=function(t,e,n){return t.s==-1?Math.max(Ow(t.l,e,n+1),Ow(t.r,e,n+1)):e[t.s]=n},FE=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Do(++e),r=0,i=t[0],s=1,o=function(c){n[r++]=c},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Tp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},pI=function(t,e,n){var r=n.length,i=K5(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},VE=function(t,e,n,r,i,s,o,a,c,d,f){pc(e,f++,n),++i[256];for(var h=i2(i,15),g=h.t,y=h.l,S=i2(s,15),_=S.t,T=S.l,E=FE(g),C=E.c,I=E.n,D=FE(_),K=D.c,ae=D.n,F=new Do(19),L=0;L<C.length;++L)++F[C[L]&31];for(var L=0;L<K.length;++L)++F[K[L]&31];for(var B=i2(F,7),H=B.t,k=B.l,j=19;j>4&&!H[Rw[j-1]];--j);var z=d+5<<3,oe=Tp(i,id)+Tp(s,vm)+o,de=Tp(i,g)+Tp(s,_)+o+14+3*j+Tp(F,H)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&z<=oe&&z<=de)return pI(e,f,t.subarray(c,c+d));var se,le,re,pe;if(pc(e,f,1+(de<oe)),f+=2,de<oe){se=Ml(g,y,0),le=g,re=Ml(_,T,0),pe=_;var Z=Ml(H,k,0);pc(e,f,I-257),pc(e,f+5,ae-1),pc(e,f+10,j-4),f+=14;for(var L=0;L<j;++L)pc(e,f+3*L,H[Rw[L]]);f+=3*j;for(var q=[C,K],V=0;V<2;++V)for(var W=q[V],L=0;L<W.length;++L){var ee=W[L]&31;pc(e,f,Z[ee]),f+=H[ee],ee>15&&(pc(e,f,W[L]>>5&127),f+=W[L]>>12)}}else se=_H,le=id,re=TH,pe=vm;for(var L=0;L<a;++L){var ce=r[L];if(ce>255){var ee=ce>>18&31;Sp(e,f,se[ee+257]),f+=le[ee+257],ee>7&&(pc(e,f,ce>>23&31),f+=uv[ee]);var fe=ce&31;Sp(e,f,re[fe]),f+=pe[fe],fe>3&&(Sp(e,f,ce>>5&8191),f+=dv[fe])}else Sp(e,f,se[ce]),f+=le[ce]}return Sp(e,f,se[256]),f+le[256]},PH=new G5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mI=new fs(0),NH=function(t,e,n,r,i,s){var o=s.z||t.length,a=new fs(r+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(r,a.length-i),d=s.l,f=(s.r||0)&7;if(e){f&&(c[0]=s.r>>3);for(var h=PH[e-1],g=h>>13,y=h&8191,S=(1<<n)-1,_=s.p||new Do(32768),T=s.h||new Do(S+1),E=Math.ceil(n/3),C=2*E,I=function(nt){return(t[nt]^t[nt+1]<<E^t[nt+2]<<C)&S},D=new G5(25e3),K=new Do(288),ae=new Do(32),F=0,L=0,B=s.i||0,H=0,k=s.w||0,j=0;B+2<o;++B){var z=I(B),oe=B&32767,de=T[z];if(_[oe]=de,T[z]=oe,k<=B){var se=o-B;if((F>7e3||H>24576)&&(se>423||!d)){f=VE(t,c,0,D,K,ae,L,H,j,B-j,f),H=F=L=0,j=B;for(var le=0;le<286;++le)K[le]=0;for(var le=0;le<30;++le)ae[le]=0}var re=2,pe=0,Z=y,q=oe-de&32767;if(se>2&&z==I(B-q))for(var V=Math.min(g,se)-1,W=Math.min(32767,B),ee=Math.min(258,se);q<=W&&--Z&&oe!=de;){if(t[B+re]==t[B+re-q]){for(var ce=0;ce<ee&&t[B+ce]==t[B+ce-q];++ce);if(ce>re){if(re=ce,pe=q,ce>V)break;for(var fe=Math.min(q,ce-2),ye=0,le=0;le<fe;++le){var we=B-q+le&32767,Te=_[we],Ve=we-Te&32767;Ve>ye&&(ye=Ve,de=we)}}}oe=de,de=_[oe],q+=oe-de&32767}if(pe){D[H++]=268435456|Lw[re]<<18|ME[pe];var Fe=Lw[re]&31,Ye=ME[pe]&31;L+=uv[Fe]+dv[Ye],++K[257+Fe],++ae[Ye],k=B+re,++F}else D[H++]=t[B],++K[t[B]]}}for(B=Math.max(B,k);B<o;++B)D[H++]=t[B],++K[t[B]];f=VE(t,c,d,D,K,ae,L,H,j,B-j,f),d||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=T,s.p=_,s.i=B,s.w=k)}else{for(var B=s.w||0;B<o+d;B+=65535){var Qe=B+65535;Qe>=o&&(c[f/8|0]=d,Qe=o),f=pI(c,f+1,t.subarray(B,Qe))}s.i=o}return hI(a,0,r+K5(f)+i)},gI=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},IH=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new fs(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return NH(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},yI=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},kH=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=gI();i.p(e.dictionary),yI(t,2,i.d())}},RH=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Wa(6,"invalid zlib data"),(t[1]>>5&1)==1&&Wa(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function jw(t,e){e||(e={});var n=gI();n.p(t);var r=IH(t,e,e.dictionary?6:2,4);return kH(r,e),yI(r,r.length-4,n.d()),r}function LH(t,e){return CH(t.subarray(RH(t),-4),{i:2},e,e)}var DH=typeof TextDecoder<"u"&&new TextDecoder,OH=0;try{DH.decode(mI,{stream:!0}),OH=1}catch{}var Vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function s2(){Vt.console&&typeof Vt.console.log=="function"&&Vt.console.log.apply(Vt.console,arguments)}var Qn={log:s2,warn:function(t){Vt.console&&(typeof Vt.console.warn=="function"?Vt.console.warn.apply(Vt.console,arguments):s2.call(null,arguments))},error:function(t){Vt.console&&(typeof Vt.console.error=="function"?Vt.console.error.apply(Vt.console,arguments):s2(t))}};function o2(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Fd(r.response,e,n)},r.onerror=function(){Qn.error("could not download file")},r.send()}function BE(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Hg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Yp,Mw,Fd=Vt.saveAs||((typeof window>"u"?"undefined":Wn(window))!=="object"||window!==Vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Vt.URL||Vt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?BE(i.href)?o2(t,e,n):Hg(i,i.target="_blank"):Hg(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Hg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(BE(t))o2(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Hg(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Wn(s)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return o2(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Vt.HTMLElement)||Vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Wn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var c=Vt.URL||Vt.webkitURL,d=c.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+a+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function a2(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=ss(n,r,i,s,e[0],7,-680876936),s=ss(s,n,r,i,e[1],12,-389564586),i=ss(i,s,n,r,e[2],17,606105819),r=ss(r,i,s,n,e[3],22,-1044525330),n=ss(n,r,i,s,e[4],7,-176418897),s=ss(s,n,r,i,e[5],12,1200080426),i=ss(i,s,n,r,e[6],17,-1473231341),r=ss(r,i,s,n,e[7],22,-45705983),n=ss(n,r,i,s,e[8],7,1770035416),s=ss(s,n,r,i,e[9],12,-1958414417),i=ss(i,s,n,r,e[10],17,-42063),r=ss(r,i,s,n,e[11],22,-1990404162),n=ss(n,r,i,s,e[12],7,1804603682),s=ss(s,n,r,i,e[13],12,-40341101),i=ss(i,s,n,r,e[14],17,-1502002290),n=os(n,r=ss(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=os(s,n,r,i,e[6],9,-1069501632),i=os(i,s,n,r,e[11],14,643717713),r=os(r,i,s,n,e[0],20,-373897302),n=os(n,r,i,s,e[5],5,-701558691),s=os(s,n,r,i,e[10],9,38016083),i=os(i,s,n,r,e[15],14,-660478335),r=os(r,i,s,n,e[4],20,-405537848),n=os(n,r,i,s,e[9],5,568446438),s=os(s,n,r,i,e[14],9,-1019803690),i=os(i,s,n,r,e[3],14,-187363961),r=os(r,i,s,n,e[8],20,1163531501),n=os(n,r,i,s,e[13],5,-1444681467),s=os(s,n,r,i,e[2],9,-51403784),i=os(i,s,n,r,e[7],14,1735328473),n=as(n,r=os(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=as(s,n,r,i,e[8],11,-2022574463),i=as(i,s,n,r,e[11],16,1839030562),r=as(r,i,s,n,e[14],23,-35309556),n=as(n,r,i,s,e[1],4,-1530992060),s=as(s,n,r,i,e[4],11,1272893353),i=as(i,s,n,r,e[7],16,-155497632),r=as(r,i,s,n,e[10],23,-1094730640),n=as(n,r,i,s,e[13],4,681279174),s=as(s,n,r,i,e[0],11,-358537222),i=as(i,s,n,r,e[3],16,-722521979),r=as(r,i,s,n,e[6],23,76029189),n=as(n,r,i,s,e[9],4,-640364487),s=as(s,n,r,i,e[12],11,-421815835),i=as(i,s,n,r,e[15],16,530742520),n=ls(n,r=as(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ls(s,n,r,i,e[7],10,1126891415),i=ls(i,s,n,r,e[14],15,-1416354905),r=ls(r,i,s,n,e[5],21,-57434055),n=ls(n,r,i,s,e[12],6,1700485571),s=ls(s,n,r,i,e[3],10,-1894986606),i=ls(i,s,n,r,e[10],15,-1051523),r=ls(r,i,s,n,e[1],21,-2054922799),n=ls(n,r,i,s,e[8],6,1873313359),s=ls(s,n,r,i,e[15],10,-30611744),i=ls(i,s,n,r,e[6],15,-1560198380),r=ls(r,i,s,n,e[13],21,1309151649),n=ls(n,r,i,s,e[4],6,-145523070),s=ls(s,n,r,i,e[11],10,-1120210379),i=ls(i,s,n,r,e[2],15,718787259),r=ls(r,i,s,n,e[9],21,-343485551),t[0]=Uu(n,t[0]),t[1]=Uu(r,t[1]),t[2]=Uu(i,t[2]),t[3]=Uu(s,t[3])}function fv(t,e,n,r,i,s){return e=Uu(Uu(e,t),Uu(r,s)),Uu(e<<i|e>>>32-i,n)}function ss(t,e,n,r,i,s,o){return fv(e&n|~e&r,t,e,i,s,o)}function os(t,e,n,r,i,s,o){return fv(e&r|n&~r,t,e,i,s,o)}function as(t,e,n,r,i,s,o){return fv(e^n^r,t,e,i,s,o)}function ls(t,e,n,r,i,s,o){return fv(n^(e|~r),t,e,i,s,o)}function wI(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)a2(r,jH(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(a2(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,a2(r,i),r}function jH(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Yp=Vt.atob.bind(Vt),Mw=Vt.btoa.bind(Vt);var UE="0123456789abcdef".split("");function MH(t){for(var e="",n=0;n<4;n++)e+=UE[t>>8*n+4&15]+UE[t>>8*n&15];return e}function FH(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Fw(t){return wI(t).map(FH).join("")}var VH=function(t){for(var e=0;e<t.length;e++)t[e]=MH(t[e]);return t.join("")}(wI("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uu(t,e){if(VH){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Vw(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var d=0;for(c=0;c<256;c++){var f=a[c];d=(d+f+o.charCodeAt(c))%256,a[c]=a[d],a[d]=f}n=t,r=a}else a=r;var h=e.length,g=0,y=0,S="";for(c=0;c<h;c++)y=(y+(f=a[g=(g+1)%256]))%256,a[g]=a[y],a[y]=f,o=a[(a[g]+a[y])%256],S+=String.fromCharCode(e.charCodeAt(c)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zE={print:4,modify:8,copy:16,"annot-forms":32};function lh(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(zE.perm!==void 0)throw new Error("Invalid permission: "+a);i+=zE[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Fw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Vw(this.encryptionKey,this.padding)}function ch(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function qE(t){if(Wn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Vt.console&&Qn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function oy(t){if(!(this instanceof oy))return new oy(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function bI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ud(t,e,n,r,i){if(!(this instanceof Ud))return new Ud(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,bI.call(this,r,i)}function ph(t,e,n,r,i){if(!(this instanceof ph))return new ph(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,bI.call(this,r,i)}function Dt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,c=16,d="S",f=null;Wn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,g={},y={internal:{},__private__:{}};y.__private__.PubSub=qE;var S="1.3",_=y.__private__.getPdfVersion=function(){return S};y.__private__.setPdfVersion=function(A){S=A};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return T};var E=y.__private__.getPageFormat=function(A){return T[A]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},I=C.COMPAT;function D(){this.saveGraphicsState(),me(new pt(ot,0,0,-ot,0,yi()*ot).toString()+" cm"),this.setFontSize(this.getFontSize()/ot),d="n",I=C.ADVANCED}function K(){this.restoreGraphicsState(),d="S",I=C.COMPAT}var ae=y.__private__.combineFontStyleAndFontWeight=function(A,Y){if(A=="bold"&&Y=="normal"||A=="bold"&&Y==400||A=="normal"&&Y=="italic"||A=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(A=Y==400||Y==="normal"?A==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||A!=="normal"?(Y==700?"bold":Y)+""+A:"bold"),A};y.advancedAPI=function(A){var Y=I===C.COMPAT;return Y&&D.call(this),typeof A!="function"||(A(this),Y&&K.call(this)),this},y.compatAPI=function(A){var Y=I===C.ADVANCED;return Y&&K.call(this),typeof A!="function"||(A(this),Y&&D.call(this)),this},y.isAdvancedAPI=function(){return I===C.ADVANCED};var F,L=function(A){if(I!==C.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=y.roundToPrecision=y.__private__.roundToPrecision=function(A,Y){var he=e||Y;if(isNaN(A)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(he).replace(/0+$/,"")};F=y.hpf=y.__private__.hpf=typeof c=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return B(A,c)}:c==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return B(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return B(A,16)};var H=y.f2=y.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return B(A,2)},k=y.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return B(A,3)},j=y.scale=y.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return I===C.COMPAT?A*ot:I===C.ADVANCED?A:void 0},z=function(A){return I===C.COMPAT?yi()-A:I===C.ADVANCED?A:void 0},oe=function(A){return j(z(A))};y.__private__.setPrecision=y.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var de,se="00000000000000000000000000000000",le=y.__private__.getFileId=function(){return se},re=y.__private__.setFileId=function(A){return se=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(gn=new lh(f.userPermissions,f.userPassword,f.ownerPassword,se)),se};y.setFileId=function(A){return re(A),this},y.getFileId=function(){return le()};var pe=y.__private__.convertDateToPDFDate=function(A){var Y=A.getTimezoneOffset(),he=Y<0?"+":"-",ve=Math.floor(Math.abs(Y/60)),Pe=Math.abs(Y%60),Be=[he,ee(ve),"'",ee(Pe),"'"].join("");return["D:",A.getFullYear(),ee(A.getMonth()+1),ee(A.getDate()),ee(A.getHours()),ee(A.getMinutes()),ee(A.getSeconds()),Be].join("")},Z=y.__private__.convertPDFDateToDate=function(A){var Y=parseInt(A.substr(2,4),10),he=parseInt(A.substr(6,2),10)-1,ve=parseInt(A.substr(8,2),10),Pe=parseInt(A.substr(10,2),10),Be=parseInt(A.substr(12,2),10),Ke=parseInt(A.substr(14,2),10);return new Date(Y,he,ve,Pe,Be,Ke,0)},q=y.__private__.setCreationDate=function(A){var Y;if(A===void 0&&(A=new Date),A instanceof Date)Y=pe(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=A}return de=Y},V=y.__private__.getCreationDate=function(A){var Y=de;return A==="jsDate"&&(Y=Z(de)),Y};y.setCreationDate=function(A){return q(A),this},y.getCreationDate=function(A){return V(A)};var W,ee=y.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ce=y.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},fe=0,ye=[],we=[],Te=0,Ve=[],Fe=[],Ye=!1,Qe=we,nt=function(){fe=0,Te=0,we=[],ye=[],Ve=[],uo=Kn(),hi=Kn()};y.__private__.setCustomOutputDestination=function(A){Ye=!0,Qe=A};var De=function(A){Ye||(Qe=A)};y.__private__.resetCustomOutputDestination=function(){Ye=!1,Qe=we};var me=y.__private__.out=function(A){return A=A.toString(),Te+=A.length+1,Qe.push(A),Qe},_t=y.__private__.write=function(A){return me(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},ft=y.__private__.getArrayBuffer=function(A){for(var Y=A.length,he=new ArrayBuffer(Y),ve=new Uint8Array(he);Y--;)ve[Y]=A.charCodeAt(Y);return he},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Ge};var et=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(A){return et=I===C.ADVANCED?A/ot:A,this};var st,at=y.__private__.getFontSize=y.getFontSize=function(){return I===C.COMPAT?et:et*ot},vt=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(A){return vt=A,this},y.__private__.getR2L=y.getR2L=function(){return vt};var It,jt=y.__private__.setZoomMode=function(A){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))st=A;else if(isNaN(A)){if(Y.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');st=A}else st=parseInt(A,10)};y.__private__.getZoomMode=function(){return st};var St,Pt=y.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');It=A};y.__private__.getPageMode=function(){return It};var en=y.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');St=A};y.__private__.getLayoutMode=function(){return St},y.__private__.setDisplayMode=y.setDisplayMode=function(A,Y,he){return jt(A),en(Y),Pt(he),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(A){if(Object.keys(At).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[A]},y.__private__.getDocumentProperties=function(){return At},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(A){for(var Y in At)At.hasOwnProperty(Y)&&A[Y]&&(At[Y]=A[Y]);return this},y.__private__.setDocumentProperty=function(A,Y){if(Object.keys(At).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[A]=Y};var Mt,ot,er,tn,Pi,bn={},Dn={},Wi=[],rn={},js={},Vn={},fr={},Kr=null,Bn=0,Nt=[],ln=new qE(y),ms=t.hotfixes||[],xr={},Yr={},$i=[],pt=function A(Y,he,ve,Pe,Be,Ke){if(!(this instanceof A))return new A(Y,he,ve,Pe,Be,Ke);isNaN(Y)&&(Y=1),isNaN(he)&&(he=0),isNaN(ve)&&(ve=0),isNaN(Pe)&&(Pe=1),isNaN(Be)&&(Be=0),isNaN(Ke)&&(Ke=0),this._matrix=[Y,he,ve,Pe,Be,Ke]};Object.defineProperty(pt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(pt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(pt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(pt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(pt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(pt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(pt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(pt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(pt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(pt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(pt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(pt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(pt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(A)},pt.prototype.multiply=function(A){var Y=A.sx*this.sx+A.shy*this.shx,he=A.sx*this.shy+A.shy*this.sy,ve=A.shx*this.sx+A.sy*this.shx,Pe=A.shx*this.shy+A.sy*this.sy,Be=A.tx*this.sx+A.ty*this.shx+this.tx,Ke=A.tx*this.shy+A.ty*this.sy+this.ty;return new pt(Y,he,ve,Pe,Be,Ke)},pt.prototype.decompose=function(){var A=this.sx,Y=this.shy,he=this.shx,ve=this.sy,Pe=this.tx,Be=this.ty,Ke=Math.sqrt(A*A+Y*Y),lt=(A/=Ke)*he+(Y/=Ke)*ve;he-=A*lt,ve-=Y*lt;var v=Math.sqrt(he*he+ve*ve);return lt/=v,A*(ve/=v)<Y*(he/=v)&&(A=-A,Y=-Y,lt=-lt,Ke=-Ke),{scale:new pt(Ke,0,0,v,0,0),translate:new pt(1,0,0,1,Pe,Be),rotate:new pt(A,Y,-Y,A,0,0),skew:new pt(1,0,lt,1,0,0)}},pt.prototype.toString=function(A){return this.join(" ")},pt.prototype.inversed=function(){var A=this.sx,Y=this.shy,he=this.shx,ve=this.sy,Pe=this.tx,Be=this.ty,Ke=1/(A*ve-Y*he),lt=ve*Ke,v=-Y*Ke,R=-he*Ke,U=A*Ke;return new pt(lt,v,R,U,-lt*Pe-R*Be,-v*Pe-U*Be)},pt.prototype.applyToPoint=function(A){var Y=A.x*this.sx+A.y*this.shx+this.tx,he=A.x*this.shy+A.y*this.sy+this.ty;return new xs(Y,he)},pt.prototype.applyToRectangle=function(A){var Y=this.applyToPoint(A),he=this.applyToPoint(new xs(A.x+A.w,A.y+A.h));return new bo(Y.x,Y.y,he.x-Y.x,he.y-Y.y)},pt.prototype.clone=function(){var A=this.sx,Y=this.shy,he=this.shx,ve=this.sy,Pe=this.tx,Be=this.ty;return new pt(A,Y,he,ve,Pe,Be)},y.Matrix=pt;var fi=y.matrixMult=function(A,Y){return Y.multiply(A)},Nr=new pt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Nr;var Ir=function(A,Y){if(!js[A]){var he=(Y instanceof Ud?"Sh":"P")+(Object.keys(rn).length+1).toString(10);Y.id=he,js[A]=he,rn[he]=Y,ln.publish("addPattern",Y)}};y.ShadingPattern=Ud,y.TilingPattern=ph,y.addShadingPattern=function(A,Y){return L("addShadingPattern()"),Ir(A,Y),this},y.beginTilingPattern=function(A){L("beginTilingPattern()"),ll(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},y.endTilingPattern=function(A,Y){L("endTilingPattern()"),Y.stream=Fe[W].join(`
`),Ir(A,Y),ln.publish("endTilingPattern",Y),$i.pop().restore()};var Gn=y.__private__.newObject=function(){var A=Kn();return ir(A,!0),A},Kn=y.__private__.newObjectDeferred=function(){return fe++,ye[fe]=function(){return Te},fe},ir=function(A,Y){return Y=typeof Y=="boolean"&&Y,ye[A]=Te,Y&&me(A+" 0 obj"),A},Fo=y.__private__.newAdditionalObject=function(){var A={objId:Kn(),content:""};return Ve.push(A),A},uo=Kn(),hi=Kn(),Hi=y.__private__.decodeColorString=function(A){var Y=A.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var he=parseFloat(Y[0]);Y=[he,he,he,"r"]}for(var ve="#",Pe=0;Pe<3;Pe++)ve+=("0"+Math.floor(255*parseFloat(Y[Pe])).toString(16)).slice(-2);return ve},_r=y.__private__.encodeColorString=function(A){var Y;typeof A=="string"&&(A={ch1:A});var he=A.ch1,ve=A.ch2,Pe=A.ch3,Be=A.ch4,Ke=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var lt=new vI(he);if(lt.ok)he=lt.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var v=parseInt(he.substr(1),16);he=v>>16&255,ve=v>>8&255,Pe=255&v}if(ve===void 0||Be===void 0&&he===ve&&ve===Pe)if(typeof he=="string")Y=he+" "+Ke[0];else switch(A.precision){case 2:Y=H(he/255)+" "+Ke[0];break;case 3:default:Y=k(he/255)+" "+Ke[0]}else if(Be===void 0||Wn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return Y=["1.","1.","1.",Ke[1]].join(" ");if(typeof he=="string")Y=[he,ve,Pe,Ke[1]].join(" ");else switch(A.precision){case 2:Y=[H(he/255),H(ve/255),H(Pe/255),Ke[1]].join(" ");break;default:case 3:Y=[k(he/255),k(ve/255),k(Pe/255),Ke[1]].join(" ")}}else if(typeof he=="string")Y=[he,ve,Pe,Be,Ke[2]].join(" ");else switch(A.precision){case 2:Y=[H(he),H(ve),H(Pe),H(Be),Ke[2]].join(" ");break;case 3:default:Y=[k(he),k(ve),k(Pe),k(Be),Ke[2]].join(" ")}return Y},pi=y.__private__.getFilters=function(){return o},hr=y.__private__.putStream=function(A){var Y=(A=A||{}).data||"",he=A.filters||pi(),ve=A.alreadyAppliedFilters||[],Pe=A.addLength1||!1,Be=Y.length,Ke=A.objectId,lt=function($t){return $t};if(f!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(lt=gn.encryptor(Ke,0));var v={};he===!0&&(he=["FlateEncode"]);var R=A.additionalKeyValues||[],U=(v=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(Y,he):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(v.data.length!==0&&(R.push({key:"Length",value:v.data.length}),Pe===!0&&R.push({key:"Length1",value:Be})),U.length!=0)if(U.split("/").length-1==1)R.push({key:"Filter",value:U});else{R.push({key:"Filter",value:"["+U+"]"});for(var ne=0;ne<R.length;ne+=1)if(R[ne].key==="DecodeParms"){for(var Ae=[],Re=0;Re<v.reverseChain.split("/").length-1;Re+=1)Ae.push("null");Ae.push(R[ne].value),R[ne].value="["+Ae.join(" ")+"]"}}me("<<");for(var Xe=0;Xe<R.length;Xe++)me("/"+R[Xe].key+" "+R[Xe].value);me(">>"),v.data.length!==0&&(me("stream"),me(lt(v.data)),me("endstream"))},gs=y.__private__.putPage=function(A){var Y=A.number,he=A.data,ve=A.objId,Pe=A.contentsObjId;ir(ve,!0),me("<</Type /Page"),me("/Parent "+A.rootDictionaryObjId+" 0 R"),me("/Resources "+A.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(F(A.mediaBox.bottomLeftX))+" "+parseFloat(F(A.mediaBox.bottomLeftY))+" "+F(A.mediaBox.topRightX)+" "+F(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&me("/CropBox ["+F(A.cropBox.bottomLeftX)+" "+F(A.cropBox.bottomLeftY)+" "+F(A.cropBox.topRightX)+" "+F(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&me("/BleedBox ["+F(A.bleedBox.bottomLeftX)+" "+F(A.bleedBox.bottomLeftY)+" "+F(A.bleedBox.topRightX)+" "+F(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&me("/TrimBox ["+F(A.trimBox.bottomLeftX)+" "+F(A.trimBox.bottomLeftY)+" "+F(A.trimBox.topRightX)+" "+F(A.trimBox.topRightY)+"]"),A.artBox!==null&&me("/ArtBox ["+F(A.artBox.bottomLeftX)+" "+F(A.artBox.bottomLeftY)+" "+F(A.artBox.topRightX)+" "+F(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&me("/UserUnit "+A.userUnit),ln.publish("putPage",{objId:ve,pageContext:Nt[Y],pageNumber:Y,page:he}),me("/Contents "+Pe+" 0 R"),me(">>"),me("endobj");var Be=he.join(`
`);return I===C.ADVANCED&&(Be+=`
Q`),ir(Pe,!0),hr({data:Be,filters:pi(),objectId:Pe}),me("endobj"),ve},fo=y.__private__.putPages=function(){var A,Y,he=[];for(A=1;A<=Bn;A++)Nt[A].objId=Kn(),Nt[A].contentsObjId=Kn();for(A=1;A<=Bn;A++)he.push(gs({number:A,data:Fe[A],objId:Nt[A].objId,contentsObjId:Nt[A].contentsObjId,mediaBox:Nt[A].mediaBox,cropBox:Nt[A].cropBox,bleedBox:Nt[A].bleedBox,trimBox:Nt[A].trimBox,artBox:Nt[A].artBox,userUnit:Nt[A].userUnit,rootDictionaryObjId:uo,resourceDictionaryObjId:hi}));ir(uo,!0),me("<</Type /Pages");var ve="/Kids [";for(Y=0;Y<Bn;Y++)ve+=he[Y]+" 0 R ";me(ve+"]"),me("/Count "+Bn),me(">>"),me("endobj"),ln.publish("postPutPages")},ho=function(A){ln.publish("putFont",{font:A,out:me,newObject:Gn,putStream:hr}),A.isAlreadyPutted!==!0&&(A.objectNumber=Gn(),me("<<"),me("/Type /Font"),me("/BaseFont /"+ch(A.postScriptName)),me("/Subtype /Type1"),typeof A.encoding=="string"&&me("/Encoding /"+A.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},po=function(){for(var A in bn)bn.hasOwnProperty(A)&&(h===!1||h===!0&&g.hasOwnProperty(A))&&ho(bn[A])},Vo=function(A){A.objectNumber=Gn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[F(A.x),F(A.y),F(A.x+A.width),F(A.y+A.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var he=A.pages[1].join(`
`);hr({data:he,additionalKeyValues:Y,objectId:A.objectNumber}),me("endobj")},pa=function(){for(var A in xr)xr.hasOwnProperty(A)&&Vo(xr[A])},Hc=function(A,Y){var he,ve=[],Pe=1/(Y-1);for(he=0;he<1;he+=Pe)ve.push(he);if(ve.push(1),A[0].offset!=0){var Be={offset:0,color:A[0].color};A.unshift(Be)}if(A[A.length-1].offset!=1){var Ke={offset:1,color:A[A.length-1].color};A.push(Ke)}for(var lt="",v=0,R=0;R<ve.length;R++){for(he=ve[R];he>A[v+1].offset;)v++;var U=A[v].offset,ne=(he-U)/(A[v+1].offset-U),Ae=A[v].color,Re=A[v+1].color;lt+=ce(Math.round((1-ne)*Ae[0]+ne*Re[0]).toString(16))+ce(Math.round((1-ne)*Ae[1]+ne*Re[1]).toString(16))+ce(Math.round((1-ne)*Ae[2]+ne*Re[2]).toString(16))}return lt.trim()},On=function(A,Y){Y||(Y=21);var he=Gn(),ve=Hc(A.colors,Y),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+Y+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hr({data:ve,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),me("endobj"),A.objectNumber=Gn(),me("<< /ShadingType "+A.type),me("/ColorSpace /DeviceRGB");var Be="/Coords ["+F(parseFloat(A.coords[0]))+" "+F(parseFloat(A.coords[1]))+" ";A.type===2?Be+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3])):Be+=F(parseFloat(A.coords[2]))+" "+F(parseFloat(A.coords[3]))+" "+F(parseFloat(A.coords[4]))+" "+F(parseFloat(A.coords[5])),me(Be+="]"),A.matrix&&me("/Matrix ["+A.matrix.toString()+"]"),me("/Function "+he+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},Gc=function(A,Y){var he=Kn(),ve=Gn();Y.push({resourcesOid:he,objectOid:ve}),A.objectNumber=ve;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+A.boundingBox.map(F).join(" ")+"]"}),Pe.push({key:"XStep",value:F(A.xStep)}),Pe.push({key:"YStep",value:F(A.yStep)}),Pe.push({key:"Resources",value:he+" 0 R"}),A.matrix&&Pe.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),hr({data:A.stream,additionalKeyValues:Pe,objectId:A.objectNumber}),me("endobj")},Ms=function(A){var Y;for(Y in rn)rn.hasOwnProperty(Y)&&(rn[Y]instanceof Ud?On(rn[Y]):rn[Y]instanceof ph&&Gc(rn[Y],A))},mo=function(A){for(var Y in A.objectNumber=Gn(),me("<<"),A)switch(Y){case"opacity":me("/ca "+H(A[Y]));break;case"stroke-opacity":me("/CA "+H(A[Y]))}me(">>"),me("endobj")},Gi=function(){var A;for(A in Vn)Vn.hasOwnProperty(A)&&mo(Vn[A])},ma=function(){for(var A in me("/XObject <<"),xr)xr.hasOwnProperty(A)&&xr[A].objectNumber>=0&&me("/"+A+" "+xr[A].objectNumber+" 0 R");ln.publish("putXobjectDict"),me(">>")},Kc=function(){gn.oid=Gn(),me("<<"),me("/Filter /Standard"),me("/V "+gn.v),me("/R "+gn.r),me("/U <"+gn.toHexString(gn.U)+">"),me("/O <"+gn.toHexString(gn.O)+">"),me("/P "+gn.P),me(">>"),me("endobj")},Bo=function(){for(var A in me("/Font <<"),bn)bn.hasOwnProperty(A)&&(h===!1||h===!0&&g.hasOwnProperty(A))&&me("/"+A+" "+bn[A].objectNumber+" 0 R");me(">>")},Ni=function(){if(Object.keys(rn).length>0){for(var A in me("/Shading <<"),rn)rn.hasOwnProperty(A)&&rn[A]instanceof Ud&&rn[A].objectNumber>=0&&me("/"+A+" "+rn[A].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),me(">>")}},ga=function(A){if(Object.keys(rn).length>0){for(var Y in me("/Pattern <<"),rn)rn.hasOwnProperty(Y)&&rn[Y]instanceof y.TilingPattern&&rn[Y].objectNumber>=0&&rn[Y].objectNumber<A&&me("/"+Y+" "+rn[Y].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),me(">>")}},ti=function(){if(Object.keys(Vn).length>0){var A;for(A in me("/ExtGState <<"),Vn)Vn.hasOwnProperty(A)&&Vn[A].objectNumber>=0&&me("/"+A+" "+Vn[A].objectNumber+" 0 R");ln.publish("putGStateDict"),me(">>")}},Yn=function(A){ir(A.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Bo(),Ni(),ga(A.objectOid),ti(),ma(),me(">>"),me("endobj")},ql=function(){var A=[];po(),Gi(),pa(),Ms(A),ln.publish("putResources"),A.forEach(Yn),Yn({resourcesOid:hi,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources")},Wl=function(){ln.publish("putAdditionalObjects");for(var A=0;A<Ve.length;A++){var Y=Ve[A];ir(Y.objId,!0),me(Y.content),me("endobj")}ln.publish("postPutAdditionalObjects")},ya=function(A){Dn[A.fontName]=Dn[A.fontName]||{},Dn[A.fontName][A.fontStyle]=A.id},Uo=function(A,Y,he,ve,Pe){var Be={id:"F"+(Object.keys(bn).length+1).toString(10),postScriptName:A,fontName:Y,fontStyle:he,encoding:ve,isStandardFont:Pe||!1,metadata:{}};return ln.publish("addFont",{font:Be,instance:this}),bn[Be.id]=Be,ya(Be),Be.id},zo=function(A){for(var Y=0,he=Ge.length;Y<he;Y++){var ve=Uo.call(this,A[Y][0],A[Y][1],A[Y][2],Ge[Y][3],!0);h===!1&&(g[ve]=!0);var Pe=A[Y][0].split("-");ya({id:ve,fontName:Pe[0],fontStyle:Pe[1]||""})}ln.publish("addFonts",{fonts:bn,dictionary:Dn})},ni=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ve){var Y=ve.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var he="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Vt.console)throw new Error(he);Vt.console.error(he,ve),Vt.alert&&alert(he)}},A.foo.bar=A,A.foo},rl=function(A,Y){var he,ve,Pe,Be,Ke,lt,v,R,U;if(Pe=(Y=Y||{}).sourceEncoding||"Unicode",Ke=Y.outputEncoding,(Y.autoencode||Ke)&&bn[Mt].metadata&&bn[Mt].metadata[Pe]&&bn[Mt].metadata[Pe].encoding&&(Be=bn[Mt].metadata[Pe].encoding,!Ke&&bn[Mt].encoding&&(Ke=bn[Mt].encoding),!Ke&&Be.codePages&&(Ke=Be.codePages[0]),typeof Ke=="string"&&(Ke=Be[Ke]),Ke)){for(v=!1,lt=[],he=0,ve=A.length;he<ve;he++)(R=Ke[A.charCodeAt(he)])?lt.push(String.fromCharCode(R)):lt.push(A[he]),lt[he].charCodeAt(0)>>8&&(v=!0);A=lt.join("")}for(he=A.length;v===void 0&&he!==0;)A.charCodeAt(he-1)>>8&&(v=!0),he--;if(!v)return A;for(lt=Y.noBOM?[]:[254,255],he=0,ve=A.length;he<ve;he++){if((U=(R=A.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");lt.push(U),lt.push(R-(U<<8))}return String.fromCharCode.apply(void 0,lt)},pr=y.__private__.pdfEscape=y.pdfEscape=function(A,Y){return rl(A,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ri=y.__private__.beginPage=function(A){Fe[++Bn]=[],Nt[Bn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},go(Bn),De(Fe[W])},qo=function(A,Y){var he,ve,Pe;switch(n=Y||n,typeof A=="string"&&(he=E(A.toLowerCase()),Array.isArray(he)&&(ve=he[0],Pe=he[1])),Array.isArray(A)&&(ve=A[0]*ot,Pe=A[1]*ot),isNaN(ve)&&(ve=i[0],Pe=i[1]),(ve>14400||Pe>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Pe=Math.min(14400,Pe)),i=[ve,Pe],n.substr(0,1)){case"l":Pe>ve&&(i=[Pe,ve]);break;case"p":ve>Pe&&(i=[Pe,ve])}ri(i),Ko(Hl),me(kr),Kl!==0&&me(Kl+" J"),Yo!==0&&me(Yo+" j"),ln.publish("addPage",{pageNumber:Bn})},Wo=function(A){A>0&&A<=Bn&&(Fe.splice(A,1),Nt.splice(A,1),Bn--,W>Bn&&(W=Bn),this.setPage(W))},go=function(A){A>0&&A<=Bn&&(W=A)},Nn=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return Fe.length-1},yo=function(A,Y,he){var ve,Pe=void 0;return he=he||{},A=A!==void 0?A:bn[Mt].fontName,Y=Y!==void 0?Y:bn[Mt].fontStyle,ve=A.toLowerCase(),Dn[ve]!==void 0&&Dn[ve][Y]!==void 0?Pe=Dn[ve][Y]:Dn[A]!==void 0&&Dn[A][Y]!==void 0?Pe=Dn[A][Y]:he.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+A+"', '"+Y+"'. Refer to getFontList() for available fonts."),Pe||he.noFallback||(Pe=Dn.times[Y])==null&&(Pe=Dn.times.normal),Pe},nn=y.__private__.putInfo=function(){var A=Gn(),Y=function(ve){return ve};for(var he in f!==null&&(Y=gn.encryptor(A,0)),me("<<"),me("/Producer ("+pr(Y("jsPDF "+Dt.version))+")"),At)At.hasOwnProperty(he)&&At[he]&&me("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+pr(Y(At[he]))+")");me("/CreationDate ("+pr(Y(de))+")"),me(">>"),me("endobj")},Fs=y.__private__.putCatalog=function(A){var Y=(A=A||{}).rootDictionaryObjId||uo;switch(Gn(),me("<<"),me("/Type /Catalog"),me("/Pages "+Y+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+st;he.substr(he.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&me("/OpenAction [3 0 R /XYZ null null "+H(st)+"]")}switch(St||(St="continuous"),St){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}It&&me("/PageMode /"+It),ln.publish("putCatalog"),me(">>"),me("endobj")},Yc=y.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(fe+1)),me("/Root "+fe+" 0 R"),me("/Info "+(fe-1)+" 0 R"),f!==null&&me("/Encrypt "+gn.oid+" 0 R"),me("/ID [ <"+se+"> <"+se+"> ]"),me(">>")},il=y.__private__.putHeader=function(){me("%PDF-"+S),me("%ºß¬à")},Xc=y.__private__.putXRef=function(){var A="0000000000";me("xref"),me("0 "+(fe+1)),me("0000000000 65535 f ");for(var Y=1;Y<=fe;Y++)typeof ye[Y]=="function"?me((A+ye[Y]()).slice(-10)+" 00000 n "):ye[Y]!==void 0?me((A+ye[Y]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},Vs=y.__private__.buildDocument=function(){nt(),De(we),ln.publish("buildDocument"),il(),fo(),Wl(),ql(),f!==null&&Kc(),nn(),Fs();var A=Te;return Xc(),Yc(),me("startxref"),me(""+A),me("%%EOF"),De(Fe[W]),we.join(`
`)},va=y.__private__.getBlob=function(A){return new Blob([ft(A)],{type:"application/pdf"})},$o=y.output=y.__private__.output=ni(function(A,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",A){case void 0:return Vs();case"save":y.save(Y.filename);break;case"arraybuffer":return ft(Vs());case"blob":return va(Vs());case"bloburi":case"bloburl":if(Vt.URL!==void 0&&typeof Vt.URL.createObjectURL=="function")return Vt.URL&&Vt.URL.createObjectURL(va(Vs()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",ve=Vs();try{he=Mw(ve)}catch{he=Mw(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+Y.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Pe=Y.pdfObjectUrl,Be="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",lt=Vt.open();return lt!==null&&lt.document.write(Ke),lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Vt)==="[object Window]"){var v='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',R=Vt.open();if(R!==null){R.document.write(v);var U=this;R.document.documentElement.querySelector("#pdfViewer").onload=function(){R.document.title=Y.filename,R.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(U.output("bloburl"))}}return R}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Ae=Vt.open();if(Ae!==null&&(Ae.document.write(ne),Ae.document.title=Y.filename),Ae||typeof safari>"u")return Ae;break;case"datauri":case"dataurl":return Vt.document.location.href=this.output("datauristring",Y);default:return null}}),ys=function(A){return Array.isArray(ms)===!0&&ms.indexOf(A)>-1};switch(r){case"pt":ot=1;break;case"mm":ot=72/25.4;break;case"cm":ot=72/2.54;break;case"in":ot=72;break;case"px":ot=ys("px_scaling")==1?.75:96/72;break;case"pc":case"em":ot=12;break;case"ex":ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ot=r}var gn=null;q(),re();var vs=function(A){return f!==null?gn.encryptor(A,0):function(Y){return Y}},Ki=y.__private__.getPageInfo=y.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[A].objId,pageNumber:A,pageContext:Nt[A]}},kt=y.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Nt)if(Nt[Y].objId===A)break;return Ki(Y)},Yi=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Nt[W].objId,pageNumber:W,pageContext:Nt[W]}};y.addPage=function(){return qo.apply(this,arguments),this},y.setPage=function(){return go.apply(this,arguments),De.call(this,Fe[W]),this},y.insertPage=function(A){return this.addPage(),this.movePage(W,A),this},y.movePage=function(A,Y){var he,ve;if(A>Y){he=Fe[A],ve=Nt[A];for(var Pe=A;Pe>Y;Pe--)Fe[Pe]=Fe[Pe-1],Nt[Pe]=Nt[Pe-1];Fe[Y]=he,Nt[Y]=ve,this.setPage(Y)}else if(A<Y){he=Fe[A],ve=Nt[A];for(var Be=A;Be<Y;Be++)Fe[Be]=Fe[Be+1],Nt[Be]=Nt[Be+1];Fe[Y]=he,Nt[Y]=ve,this.setPage(Y)}return this},y.deletePage=function(){return Wo.apply(this,arguments),this},y.__private__.text=y.text=function(A,Y,he,ve,Pe){var Be,Ke,lt,v,R,U,ne,Ae,Re,Xe=(ve=ve||{}).scope||this;if(typeof A=="number"&&typeof Y=="number"&&(typeof he=="string"||Array.isArray(he))){var $t=he;he=Y,Y=A,A=$t}if(arguments[3]instanceof pt?(L("The transform parameter of text() with a Matrix value"),Re=Pe):(lt=arguments[4],v=arguments[5],Wn(ne=arguments[3])==="object"&&ne!==null||(typeof lt=="string"&&(v=lt,lt=null),typeof ne=="string"&&(v=ne,ne=null),typeof ne=="number"&&(lt=ne,ne=null),ve={flags:ne,angle:lt,align:v})),isNaN(Y)||isNaN(he)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Xe;var sn="",Ht=!1,En=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:Tn,In=Xe.internal.scaleFactor;function Ri(Un){return Un=Un.split("	").join(Array(ve.TabLen||9).join(" ")),pr(Un,ne)}function oi(Un){for(var kn,yr=Un.concat(),Rr=[],Zo=yr.length;Zo--;)typeof(kn=yr.shift())=="string"?Rr.push(kn):Array.isArray(Un)&&(kn.length===1||kn[1]===void 0&&kn[2]===void 0)?Rr.push(kn[0]):Rr.push([kn[0],kn[1],kn[2]]);return Rr}function _o(Un,kn){var yr;if(typeof Un=="string")yr=kn(Un)[0];else if(Array.isArray(Un)){for(var Rr,Zo,lu=Un.concat(),tc=[],pd=lu.length;pd--;)typeof(Rr=lu.shift())=="string"?tc.push(kn(Rr)[0]):Array.isArray(Rr)&&typeof Rr[0]=="string"&&(Zo=kn(Rr[0],Rr[1],Rr[2]),tc.push([Zo[0],Zo[1],Zo[2]]));yr=tc}return yr}var So=!1,Zc=!0;if(typeof A=="string")So=!0;else if(Array.isArray(A)){var eu=A.concat();Ke=[];for(var Yl,gr=eu.length;gr--;)(typeof(Yl=eu.shift())!="string"||Array.isArray(Yl)&&typeof Yl[0]!="string")&&(Zc=!1);So=Zc}if(So===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var tu=et/Xe.internal.scaleFactor,nu=tu*(En-1);switch(ve.baseline){case"bottom":he-=nu;break;case"top":he+=tu-nu;break;case"hanging":he+=tu-2*nu;break;case"middle":he+=tu/2-nu}if((U=ve.maxWidth||0)>0&&(typeof A=="string"?A=Xe.splitTextToSize(A,U):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Un,kn){return Un.concat(Xe.splitTextToSize(kn,U))},[]))),Be={text:A,x:Y,y:he,options:ve,mutex:{pdfEscape:pr,activeFontKey:Mt,fonts:bn,activeFontSize:et}},ln.publish("preProcessText",Be),A=Be.text,lt=(ve=Be.options).angle,!(Re instanceof pt)&&lt&&typeof lt=="number"){lt*=Math.PI/180,ve.rotationDirection===0&&(lt=-lt),I===C.ADVANCED&&(lt=-lt);var ru=Math.cos(lt),iu=Math.sin(lt);Re=new pt(ru,iu,-iu,ru,0,0)}else lt&&lt instanceof pt&&(Re=lt);I!==C.ADVANCED||Re||(Re=Nr),(R=ve.charSpace||wo)!==void 0&&(sn+=F(j(R))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ae=ve.horizontalScale)!==void 0&&(sn+=F(100*Ae)+` Tz
`),ve.lang;var Li=-1,Xl=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,_a=Xe.internal.getCurrentPageInfo().pageContext;switch(Xl){case 0:case!1:case"fill":Li=0;break;case 1:case!0:case"stroke":Li=1;break;case 2:case"fillThenStroke":Li=2;break;case 3:case"invisible":Li=3;break;case 4:case"fillAndAddForClipping":Li=4;break;case 5:case"strokeAndAddPathForClipping":Li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Li=6;break;case 7:case"addToPathForClipping":Li=7}var Nf=_a.usedRenderingMode!==void 0?_a.usedRenderingMode:-1;Li!==-1?sn+=Li+` Tr
`:Nf!==-1&&(sn+=`0 Tr
`),Li!==-1&&(_a.usedRenderingMode=Li),v=ve.align||"left";var Di,su=et*En,fd=Xe.internal.pageSize.getWidth(),ou=bn[Mt];R=ve.charSpace||wo,U=ve.maxWidth||0,ne=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Qo=[],dl=function(Un){return Xe.getStringUnitWidth(Un,{font:ou,charSpace:R,fontSize:et,doKerning:!1})*et/In};if(Object.prototype.toString.call(A)==="[object Array]"){var Oi;Ke=oi(A),v!=="left"&&(Di=Ke.map(dl));var vi,fl=0;if(v==="right"){Y-=Di[0],A=[],gr=Ke.length;for(var Sa=0;Sa<gr;Sa++)Sa===0?(vi=ki(Y),Oi=mr(he)):(vi=j(fl-Di[Sa]),Oi=-su),A.push([Ke[Sa],vi,Oi]),fl=Di[Sa]}else if(v==="center"){Y-=Di[0]/2,A=[],gr=Ke.length;for(var Ta=0;Ta<gr;Ta++)Ta===0?(vi=ki(Y),Oi=mr(he)):(vi=j((fl-Di[Ta])/2),Oi=-su),A.push([Ke[Ta],vi,Oi]),fl=Di[Ta]}else if(v==="left"){A=[],gr=Ke.length;for(var au=0;au<gr;au++)A.push(Ke[au])}else if(v==="justify"&&ou.encoding==="Identity-H"){A=[],gr=Ke.length,U=U!==0?U:fd;for(var Ea=0,xn=0;xn<gr;xn++)if(Oi=xn===0?mr(he):-su,vi=xn===0?ki(Y):Ea,xn<gr-1){var Aa=j((U-Di[xn])/(Ke[xn].split(" ").length-1)),wi=Ke[xn].split(" ");A.push([wi[0]+" ",vi,Oi]),Ea=0;for(var _s=1;_s<wi.length;_s++){var Ql=(dl(wi[_s-1]+" "+wi[_s])-dl(wi[_s]))*In+Aa;_s==wi.length-1?A.push([wi[_s],Ql,0]):A.push([wi[_s]+" ",Ql,0]),Ea-=Ql}}else A.push([Ke[xn],vi,Oi]);A.push(["",Ea,0])}else{if(v!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],gr=Ke.length,U=U!==0?U:fd,xn=0;xn<gr;xn++)Oi=xn===0?mr(he):-su,vi=xn===0?ki(Y):0,xn<gr-1?Qo.push(F(j((U-Di[xn])/(Ke[xn].split(" ").length-1)))):Qo.push(0),A.push([Ke[xn],vi,Oi])}}var hd=typeof ve.R2L=="boolean"?ve.R2L:vt;hd===!0&&(A=_o(A,function(Un,kn,yr){return[Un.split("").reverse().join(""),kn,yr]})),Be={text:A,x:Y,y:he,options:ve,mutex:{pdfEscape:pr,activeFontKey:Mt,fonts:bn,activeFontSize:et}},ln.publish("postProcessText",Be),A=Be.text,Ht=Be.mutex.isHex||!1;var Jl=bn[Mt].encoding;Jl!=="WinAnsiEncoding"&&Jl!=="StandardEncoding"||(A=_o(A,function(Un,kn,yr){return[Ri(Un),kn,yr]})),Ke=oi(A),A=[];for(var Zl,ec,Ss,Ca=0,Jo=1,Pa=Array.isArray(Ke[0])?Jo:Ca,Na="",hl=function(Un,kn,yr){var Rr="";return yr instanceof pt?(yr=typeof ve.angle=="number"?fi(yr,new pt(1,0,0,1,Un,kn)):fi(new pt(1,0,0,1,Un,kn),yr),I===C.ADVANCED&&(yr=fi(new pt(1,0,0,-1,0,0),yr)),Rr=yr.join(" ")+` Tm
`):Rr=F(Un)+" "+F(kn)+` Td
`,Rr},ai=0;ai<Ke.length;ai++){switch(Na="",Pa){case Jo:Ss=(Ht?"<":"(")+Ke[ai][0]+(Ht?">":")"),Zl=parseFloat(Ke[ai][1]),ec=parseFloat(Ke[ai][2]);break;case Ca:Ss=(Ht?"<":"(")+Ke[ai]+(Ht?">":")"),Zl=ki(Y),ec=mr(he)}Qo!==void 0&&Qo[ai]!==void 0&&(Na=Qo[ai]+` Tw
`),ai===0?A.push(Na+hl(Zl,ec,Re)+Ss):Pa===Ca?A.push(Na+Ss):Pa===Jo&&A.push(Na+hl(Zl,ec,Re)+Ss)}A=Pa===Ca?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Xi=`BT
/`;return Xi+=Mt+" "+et+` Tf
`,Xi+=F(et*En)+` TL
`,Xi+=sr+`
`,Xi+=sn,Xi+=A,me(Xi+="ET"),g[Mt]=!0,Xe};var Bs=y.__private__.clip=y.clip=function(A){return me(A==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Bs("evenodd")},y.__private__.discardPath=y.discardPath=function(){return me("n"),this};var Us=y.__private__.isValidStyle=function(A){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(Y=!0),Y};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(A){return Us(A)&&(d=A),this};var $l=y.__private__.getStyle=y.getStyle=function(A){var Y=d;switch(A){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=A}return Y},ii=y.close=function(){return me("h"),this};y.stroke=function(){return me("S"),this},y.fill=function(A){return sl("f",A),this},y.fillEvenOdd=function(A){return sl("f*",A),this},y.fillStroke=function(A){return sl("B",A),this},y.fillStrokeEvenOdd=function(A){return sl("B*",A),this};var sl=function(A,Y){Wn(Y)==="object"?wa(Y,A):me(A)},ol=function(A){A===null||I===C.ADVANCED&&A===void 0||(A=$l(A),me(A))};function vo(A,Y,he,ve,Pe){var Be=new ph(Y||this.boundingBox,he||this.xStep,ve||this.yStep,this.gState,Pe||this.matrix);Be.stream=this.stream;var Ke=A+"$$"+this.cloneIndex+++"$$";return Ir(Ke,Be),Be}var wa=function(A,Y){var he=js[A.key],ve=rn[he];if(ve instanceof Ud)me("q"),me(Qc(Y)),ve.gState&&y.setGState(ve.gState),me(A.matrix.toString()+" cm"),me("/"+he+" sh"),me("Q");else if(ve instanceof ph){var Pe=new pt(1,0,0,-1,0,yi());A.matrix&&(Pe=Pe.multiply(A.matrix||Nr),he=vo.call(ve,A.key,A.boundingBox,A.xStep,A.yStep,Pe).id),me("q"),me("/Pattern cs"),me("/"+he+" scn"),ve.gState&&y.setGState(ve.gState),me(Y),me("Q")}},Qc=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ii=y.moveTo=function(A,Y){return me(F(j(A))+" "+F(oe(Y))+" m"),this},si=y.lineTo=function(A,Y){return me(F(j(A))+" "+F(oe(Y))+" l"),this},mi=y.curveTo=function(A,Y,he,ve,Pe,Be){return me([F(j(A)),F(oe(Y)),F(j(he)),F(oe(ve)),F(j(Pe)),F(oe(Be)),"c"].join(" ")),this};y.__private__.line=y.line=function(A,Y,he,ve,Pe){if(isNaN(A)||isNaN(Y)||isNaN(he)||isNaN(ve)||!Us(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return I===C.COMPAT?this.lines([[he-A,ve-Y]],A,Y,[1,1],Pe||"S"):this.lines([[he-A,ve-Y]],A,Y,[1,1]).stroke()},y.__private__.lines=y.lines=function(A,Y,he,ve,Pe,Be){var Ke,lt,v,R,U,ne,Ae,Re,Xe,$t,sn,Ht;if(typeof A=="number"&&(Ht=he,he=Y,Y=A,A=Ht),ve=ve||[1,1],Be=Be||!1,isNaN(Y)||isNaN(he)||!Array.isArray(A)||!Array.isArray(ve)||!Us(Pe)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ii(Y,he),Ke=ve[0],lt=ve[1],R=A.length,$t=Y,sn=he,v=0;v<R;v++)(U=A[v]).length===2?($t=U[0]*Ke+$t,sn=U[1]*lt+sn,si($t,sn)):(ne=U[0]*Ke+$t,Ae=U[1]*lt+sn,Re=U[2]*Ke+$t,Xe=U[3]*lt+sn,$t=U[4]*Ke+$t,sn=U[5]*lt+sn,mi(ne,Ae,Re,Xe,$t,sn));return Be&&ii(),ol(Pe),this},y.path=function(A){for(var Y=0;Y<A.length;Y++){var he=A[Y],ve=he.c;switch(he.op){case"m":Ii(ve[0],ve[1]);break;case"l":si(ve[0],ve[1]);break;case"c":mi.apply(this,ve);break;case"h":ii()}}return this},y.__private__.rect=y.rect=function(A,Y,he,ve,Pe){if(isNaN(A)||isNaN(Y)||isNaN(he)||isNaN(ve)||!Us(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return I===C.COMPAT&&(ve=-ve),me([F(j(A)),F(oe(Y)),F(j(he)),F(j(ve)),"re"].join(" ")),ol(Pe),this},y.__private__.triangle=y.triangle=function(A,Y,he,ve,Pe,Be,Ke){if(isNaN(A)||isNaN(Y)||isNaN(he)||isNaN(ve)||isNaN(Pe)||isNaN(Be)||!Us(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-A,ve-Y],[Pe-he,Be-ve],[A-Pe,Y-Be]],A,Y,[1,1],Ke,!0),this},y.__private__.roundedRect=y.roundedRect=function(A,Y,he,ve,Pe,Be,Ke){if(isNaN(A)||isNaN(Y)||isNaN(he)||isNaN(ve)||isNaN(Pe)||isNaN(Be)||!Us(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var lt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*he),Be=Math.min(Be,.5*ve),this.lines([[he-2*Pe,0],[Pe*lt,0,Pe,Be-Be*lt,Pe,Be],[0,ve-2*Be],[0,Be*lt,-Pe*lt,Be,-Pe,Be],[2*Pe-he,0],[-Pe*lt,0,-Pe,-Be*lt,-Pe,-Be],[0,2*Be-ve],[0,-Be*lt,Pe*lt,-Be,Pe,-Be]],A+Pe,Y,[1,1],Ke,!0),this},y.__private__.ellipse=y.ellipse=function(A,Y,he,ve,Pe){if(isNaN(A)||isNaN(Y)||isNaN(he)||isNaN(ve)||!Us(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*he,Ke=4/3*(Math.SQRT2-1)*ve;return Ii(A+he,Y),mi(A+he,Y-Ke,A+Be,Y-ve,A,Y-ve),mi(A-Be,Y-ve,A-he,Y-Ke,A-he,Y),mi(A-he,Y+Ke,A-Be,Y+ve,A,Y+ve),mi(A+Be,Y+ve,A+he,Y+Ke,A+he,Y),ol(Pe),this},y.__private__.circle=y.circle=function(A,Y,he,ve){if(isNaN(A)||isNaN(Y)||isNaN(he)||!Us(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,Y,he,he,ve)},y.setFont=function(A,Y,he){return he&&(Y=ae(Y,he)),Mt=yo(A,Y,{disableWarning:!1}),this};var Ho=y.__private__.getFont=y.getFont=function(){return bn[yo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var A,Y,he={};for(A in Dn)if(Dn.hasOwnProperty(A))for(Y in he[A]=[],Dn[A])Dn[A].hasOwnProperty(Y)&&he[A].push(Y);return he},y.addFont=function(A,Y,he,ve,Pe){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(he=ae(he,ve)),Pe=Pe||"Identity-H",Uo.call(this,A,Y,he,Pe)};var Tn,Hl=t.lineWidth||.200025,Go=y.__private__.getLineWidth=y.getLineWidth=function(){return Hl},Ko=y.__private__.setLineWidth=y.setLineWidth=function(A){return Hl=A,me(F(j(A))+" w"),this};y.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(A,Y){if(A=A||[],Y=Y||0,isNaN(Y)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(he){return F(j(he))}).join(" "),Y=F(j(Y)),me("["+A+"] "+Y+" d"),this};var ba=y.__private__.getLineHeight=y.getLineHeight=function(){return et*Tn};y.__private__.getLineHeight=y.getLineHeight=function(){return et*Tn};var al=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Tn=A),this},gi=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Tn};al(t.lineHeight);var ki=y.__private__.getHorizontalCoordinate=function(A){return j(A)},mr=y.__private__.getVerticalCoordinate=function(A){return I===C.ADVANCED?A:Nt[W].mediaBox.topRightY-Nt[W].mediaBox.bottomLeftY-j(A)},Gl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(A){return F(ki(A))},ws=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(A){return F(mr(A))},kr=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return Hi(kr)},y.__private__.setStrokeColor=y.setDrawColor=function(A,Y,he,ve){return kr=_r({ch1:A,ch2:Y,ch3:he,ch4:ve,pdfColorType:"draw",precision:2}),me(kr),this};var xa=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return Hi(xa)},y.__private__.setFillColor=y.setFillColor=function(A,Y,he,ve){return xa=_r({ch1:A,ch2:Y,ch3:he,ch4:ve,pdfColorType:"fill",precision:2}),me(xa),this};var sr=t.textColor||"0 g",bs=y.__private__.getTextColor=y.getTextColor=function(){return Hi(sr)};y.__private__.setTextColor=y.setTextColor=function(A,Y,he,ve){return sr=_r({ch1:A,ch2:Y,ch3:he,ch4:ve,pdfColorType:"text",precision:3}),this};var wo=t.charSpace,zs=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(wo||0)};y.__private__.setCharSpace=y.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return wo=A,this};var Kl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(A){var Y=y.CapJoinStyles[A];if(Y===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Kl=Y,me(Y+" J"),this};var Yo=0;y.__private__.setLineJoin=y.setLineJoin=function(A){var Y=y.CapJoinStyles[A];if(Y===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yo=Y,me(Y+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(F(j(A))+" M"),this},y.GState=oy,y.setGState=function(A){(A=typeof A=="string"?Vn[fr[A]]:qs(null,A)).equals(Kr)||(me("/"+A.id+" gs"),Kr=A)};var qs=function(A,Y){if(!A||!fr[A]){var he=!1;for(var ve in Vn)if(Vn.hasOwnProperty(ve)&&Vn[ve].equals(Y)){he=!0;break}if(he)Y=Vn[ve];else{var Pe="GS"+(Object.keys(Vn).length+1).toString(10);Vn[Pe]=Y,Y.id=Pe}return A&&(fr[A]=Y.id),ln.publish("addGState",Y),Y}};y.addGState=function(A,Y){return qs(A,Y),this},y.saveGraphicsState=function(){return me("q"),Wi.push({key:Mt,size:et,color:sr}),this},y.restoreGraphicsState=function(){me("Q");var A=Wi.pop();return Mt=A.key,et=A.size,sr=A.color,Kr=null,this},y.setCurrentTransformationMatrix=function(A){return me(A.toString()+" cm"),this},y.comment=function(A){return me("#"+A),this};var xs=function(A,Y){var he=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Be){isNaN(Be)||(he=parseFloat(Be))}});var ve=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Be){isNaN(Be)||(ve=parseFloat(Be))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Be){Pe=Be.toString()}}),this},bo=function(A,Y,he,ve){xs.call(this,A,Y),this.type="rect";var Pe=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(Ke){isNaN(Ke)||(Pe=parseFloat(Ke))}});var Be=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ke){isNaN(Ke)||(Be=parseFloat(Ke))}}),this},Xo=function(){this.page=Bn,this.currentPage=W,this.pages=Fe.slice(0),this.pagesContext=Nt.slice(0),this.x=er,this.y=tn,this.matrix=Pi,this.width=Ws(W),this.height=yi(W),this.outputDestination=Qe,this.id="",this.objectNumber=-1};Xo.prototype.restore=function(){Bn=this.page,W=this.currentPage,Nt=this.pagesContext,Fe=this.pages,er=this.x,tn=this.y,Pi=this.matrix,cl(W,this.width),ul(W,this.height),Qe=this.outputDestination};var ll=function(A,Y,he,ve,Pe){$i.push(new Xo),Bn=W=0,Fe=[],er=A,tn=Y,Pi=Pe,ri([he,ve])},Jc=function(A){if(Yr[A])$i.pop().restore();else{var Y=new Xo,he="Xo"+(Object.keys(xr).length+1).toString(10);Y.id=he,Yr[A]=he,xr[he]=Y,ln.publish("addFormObject",Y),$i.pop().restore()}};for(var xo in y.beginFormObject=function(A,Y,he,ve,Pe){return ll(A,Y,he,ve,Pe),this},y.endFormObject=function(A){return Jc(A),this},y.doFormObject=function(A,Y){var he=xr[Yr[A]];return me("q"),me(Y.toString()+" cm"),me("/"+he.id+" Do"),me("Q"),this},y.getFormObject=function(A){var Y=xr[Yr[A]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},y.save=function(A,Y){return A=A||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(Fd(va(Vs()),A),typeof Fd.unload=="function"&&Vt.setTimeout&&setTimeout(Fd.unload,911),this):new Promise(function(he,ve){try{var Pe=Fd(va(Vs()),A);typeof Fd.unload=="function"&&Vt.setTimeout&&setTimeout(Fd.unload,911),he(Pe)}catch(Be){ve(Be.message)}})},Dt.API)Dt.API.hasOwnProperty(xo)&&(xo==="events"&&Dt.API.events.length?function(A,Y){var he,ve,Pe;for(Pe=Y.length-1;Pe!==-1;Pe--)he=Y[Pe][0],ve=Y[Pe][1],A.subscribe.apply(A,[he].concat(typeof ve=="function"?[ve]:ve))}(ln,Dt.API.events):y[xo]=Dt.API[xo]);var Ws=y.getPageWidth=function(A){return(Nt[A=A||W].mediaBox.topRightX-Nt[A].mediaBox.bottomLeftX)/ot},cl=y.setPageWidth=function(A,Y){Nt[A].mediaBox.topRightX=Y*ot+Nt[A].mediaBox.bottomLeftX},yi=y.getPageHeight=function(A){return(Nt[A=A||W].mediaBox.topRightY-Nt[A].mediaBox.bottomLeftY)/ot},ul=y.setPageHeight=function(A,Y){Nt[A].mediaBox.topRightY=Y*ot+Nt[A].mediaBox.bottomLeftY};return y.internal={pdfEscape:pr,getStyle:$l,getFont:Ho,getFontSize:at,getCharSpace:zs,getTextColor:bs,getLineHeight:ba,getLineHeightFactor:gi,getLineWidth:Go,write:_t,getHorizontalCoordinate:ki,getVerticalCoordinate:mr,getCoordinateString:Gl,getVerticalCoordinateString:ws,collections:{},newObject:Gn,newAdditionalObject:Fo,newObjectDeferred:Kn,newObjectDeferredBegin:ir,getFilters:pi,putStream:hr,events:ln,scaleFactor:ot,pageSize:{getWidth:function(){return Ws(W)},setWidth:function(A){cl(W,A)},getHeight:function(){return yi(W)},setHeight:function(A){ul(W,A)}},encryptionOptions:f,encryption:gn,getEncryptor:vs,output:$o,getNumberOfPages:Nn,pages:Fe,out:me,f2:H,f3:k,getPageInfo:Ki,getPageInfoByObjId:kt,getCurrentPageInfo:Yi,getPDFVersion:_,Point:xs,Rectangle:bo,Matrix:pt,hasHotfix:ys},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Ws(W)},set:function(A){cl(W,A)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return yi(W)},set:function(A){ul(W,A)},enumerable:!0,configurable:!0}),zo.call(y,Ge),Mt="F1",qo(i,n),ln.publish("initialized"),y}lh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},lh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lh.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},lh.prototype.processOwnerPassword=function(t,e){return Vw(Fw(e).substr(0,5),t)},lh.prototype.encryptor=function(t,e){var n=Fw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Vw(n,r)}},oy.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Wn(t)!==Wn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Dt.API={events:[]},Dt.version="3.0.1";var jr=Dt.API,Y5=1,Pf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kt=function(t){return t.toFixed(2)},ku=function(t){return t.toFixed(5)};jr.__acroform__={};var co=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},WE=function(t){return t*Y5},Sl=function(t){var e=new _I,n=bt.internal.getHeight(t)||0,r=bt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Kt(r)),Number(Kt(n))],e},BH=jr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},UH=jr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},zH=jr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},qr=jr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zH(t,e-1)},Wr=jr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return BH(t,e-1)},$r=jr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return UH(t,e-1)},qH=jr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+a)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(s)||0,[Number(Kt(c.lowerLeft_X)),Number(Kt(c.lowerLeft_Y)),Number(Kt(c.upperRight_X)),Number(Kt(c.upperRight_Y))]},WH=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Bw(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Sl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Bw=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var s=n,o=bt.internal.getHeight(t)||0;o=o<0?-o:o;var a=bt.internal.getWidth(t)||0;a=a<0?-a:a;var c=function(k,j,z){if(k+1<i.length){var oe=j+" "+i[k+1][0];return Gg(oe,t,z).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var d,f,h=Gg("3",t,s).height,g=t.multiline?o-s:(o-h)/2,y=g+=2,S=0,_=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Gg(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var E="",C=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var D=!1;if(i[I].length!==1&&T!==i[I].length-1){if((h+2)*(C+2)+2>o)continue e;E+=i[I][T],D=!0,_=I,I--}else{E=(E+=i[I][T]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var K=parseInt(I),ae=c(K,E,s),F=I>=i.length-1;if(ae&&!F){E+=" ",T=0;continue}if(ae||F){if(F)_=K;else if(t.multiline&&(h+2)*(C+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(C+2)+2>o)continue e;_=K}}for(var L="",B=S;B<=_;B++){var H=i[B];if(t.multiline){if(B===_){L+=H[T]+" ",T=(T+1)%H.length;continue}if(B===S){L+=H[H.length-1]+" ";continue}}L+=H[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=Gg(L,t,s).width,t.textAlign){case"right":d=a-f-2;break;case"center":d=(a-f)/2;break;case"left":default:d=2}e+=Kt(d)+" "+Kt(y)+` Td
`,e+="("+Pf(L)+`) Tj
`,e+=-Kt(d)+` 0 Td
`,y=-(s+2),f=0,S=D?_:_+1,C++,E=""}break}return r.text=e,r.fontSize=s,r},Gg=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},$H={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HH=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},GH=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Wn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},KH=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(el.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify($H)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Y5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new SI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&HH(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],c=[],d=a.Rect;if(a.Rect&&(a.Rect=qH(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=bt.createDefaultAppearanceStream(a),Wn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=d,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=WH(a);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var h="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var y=a.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var o in y)if(y.hasOwnProperty(o)){var S=y[o];typeof S=="function"&&(S=S.call(i,a)),h+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=y)=="function"&&(S=S.call(i,a)),h+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}s&&GH(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},xI=jr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Wn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Pf(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},l2=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Pf(r(t))+")"},Cl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cl.prototype.toString=function(){return this.objId+" 0 R"},Cl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Cl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:xI(i,this.objId,this.scope)}):i instanceof Cl?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var _I=function(){Cl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};co(_I,Cl);var SI=function(){Cl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Pf(n(t))+")"}},set:function(n){t=n}})};co(SI,Cl);var el=function t(){Cl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qr(e,3)},set:function(E){E?this.F=Wr(e,3):this.F=$r(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ay)return;s="FieldObject"+t.FieldNum++}var E=function(C){return C};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Pf(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Y5:d},set:function(E){d=E}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ay||this instanceof ef))return l2(h,this.objId,this.scope)},set:function(E){E=E.toString(),h=E}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ai?g:l2(g,this.objId,this.scope)},set:function(E){E=E.toString(),g=this instanceof Ai?E:E.substr(0,1)==="("?Zf(E.substr(1,E.length-2)):Zf(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ai?Zf(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof Ai?"/"+E:E}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ai?y:l2(y,this.objId,this.scope)},set:function(E){E=E.toString(),y=this instanceof Ai?E:E.substr(0,1)==="("?Zf(E.substr(1,E.length-2)):Zf(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ai?Zf(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof Ai?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(E){E=!!E,_=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(E){S=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,1)},set:function(E){E?this.Ff=Wr(this.Ff,1):this.Ff=$r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,2)},set:function(E){E?this.Ff=Wr(this.Ff,2):this.Ff=$r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,3)},set:function(E){E?this.Ff=Wr(this.Ff,3):this.Ff=$r(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');T=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(T){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};co(el,Cl);var _h=function(){el.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var c,d=[];c=o.exec(s);)d.push(c[a]);return d}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,18)},set:function(n){n?this.Ff=Wr(this.Ff,18):this.Ff=$r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Wr(this.Ff,19):this.Ff=$r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,20)},set:function(n){n?(this.Ff=Wr(this.Ff,20),e.sort()):this.Ff=$r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,22)},set:function(n){n?this.Ff=Wr(this.Ff,22):this.Ff=$r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(n){n?this.Ff=Wr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,27)},set:function(n){n?this.Ff=Wr(this.Ff,27):this.Ff=$r(this.Ff,27)}}),this.hasAppearanceStream=!1};co(_h,el);var Sh=function(){_h.call(this),this.fontName="helvetica",this.combo=!1};co(Sh,_h);var Th=function(){Sh.call(this),this.combo=!0};co(Th,Sh);var m0=function(){Th.call(this),this.edit=!0};co(m0,Th);var Ai=function(){el.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,15)},set:function(n){n?this.Ff=Wr(this.Ff,15):this.Ff=$r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,16)},set:function(n){n?this.Ff=Wr(this.Ff,16):this.Ff=$r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,17)},set:function(n){n?this.Ff=Wr(this.Ff,17):this.Ff=$r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(n){n?this.Ff=Wr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Pf(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Wn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};co(Ai,el);var g0=function(){Ai.call(this),this.pushButton=!0};co(g0,Ai);var Eh=function(){Ai.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};co(Eh,Ai);var ay=function(){var t,e;el.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Pf(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Wn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};co(ay,el),Eh.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Eh.prototype.createOption=function(t){var e=new ay;return e.Parent=this,e.optionName=t,this.Kids.push(e),YH.call(this.scope,e),e};var y0=function(){Ai.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};co(y0,Ai);var ef=function(){el.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,13)},set:function(e){e?this.Ff=Wr(this.Ff,13):this.Ff=$r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,21)},set:function(e){e?this.Ff=Wr(this.Ff,21):this.Ff=$r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(e){e?this.Ff=Wr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,24)},set:function(e){e?this.Ff=Wr(this.Ff,24):this.Ff=$r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,25)},set:function(e){e?this.Ff=Wr(this.Ff,25):this.Ff=$r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(e){e?this.Ff=Wr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};co(ef,el);var v0=function(){ef.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,14)},set:function(t){t?this.Ff=Wr(this.Ff,14):this.Ff=$r(this.Ff,14)}}),this.password=!0};co(v0,ef);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Bw(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Kt(bt.internal.getWidth(t))+" "+Kt(bt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Kt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Sl(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=bt.internal.getHeight(t),o=bt.internal.getWidth(t),a=Bw(t,t.caption);return i.push("1 g"),i.push("0 0 "+Kt(o)+" "+Kt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Kt(o-1)+" "+Kt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Kt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(bt.internal.getWidth(t))+" "+Kt(bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=bt.RadioButton.Circle.YesNormal,e.D[t]=bt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=bt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ku(bt.internal.getWidth(t)/2)+" "+ku(bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*bt.internal.Bezier_C).toFixed(5)),o=Number((r*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ku(bt.internal.getWidth(t)/2)+" "+ku(bt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ku(bt.internal.getWidth(t)/2)+" "+ku(bt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=bt.internal.getWidth(t)<=bt.internal.getHeight(t)?bt.internal.getWidth(t)/4:bt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ku(bt.internal.getWidth(t)/2)+" "+ku(bt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=bt.RadioButton.Cross.YesNormal,e.D[t]=bt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Sl(t);e.scope=t.scope;var n=[],r=bt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Kt(bt.internal.getWidth(t)-2)+" "+Kt(bt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Kt(r.x1.x)+" "+Kt(r.x1.y)+" m"),n.push(Kt(r.x2.x)+" "+Kt(r.x2.y)+" l"),n.push(Kt(r.x4.x)+" "+Kt(r.x4.y)+" m"),n.push(Kt(r.x3.x)+" "+Kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=bt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Kt(bt.internal.getWidth(t))+" "+Kt(bt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Kt(bt.internal.getWidth(t)-2)+" "+Kt(bt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Kt(n.x1.x)+" "+Kt(n.x1.y)+" m"),r.push(Kt(n.x2.x)+" "+Kt(n.x2.y)+" l"),r.push(Kt(n.x4.x)+" "+Kt(n.x4.y)+" m"),r.push(Kt(n.x3.x)+" "+Kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Sl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(bt.internal.getWidth(t))+" "+Kt(bt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};bt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=bt.internal.getWidth(t),n=bt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},bt.internal.getWidth=function(t){var e=0;return Wn(t)==="object"&&(e=WE(t.Rect[2])),e},bt.internal.getHeight=function(t){var e=0;return Wn(t)==="object"&&(e=WE(t.Rect[3])),e};var YH=jr.addField=function(t){if(KH(this,t),!(t instanceof el))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};jr.AcroFormChoiceField=_h,jr.AcroFormListBox=Sh,jr.AcroFormComboBox=Th,jr.AcroFormEditBox=m0,jr.AcroFormButton=Ai,jr.AcroFormPushButton=g0,jr.AcroFormRadioButton=Eh,jr.AcroFormCheckBox=y0,jr.AcroFormTextField=ef,jr.AcroFormPasswordField=v0,jr.AcroFormAppearance=bt,jr.AcroForm={ChoiceField:_h,ListBox:Sh,ComboBox:Th,EditBox:m0,Button:Ai,PushButton:g0,RadioButton:Eh,CheckBox:y0,TextField:ef,PasswordField:v0,Appearance:bt},Dt.AcroForm={ChoiceField:_h,ListBox:Sh,ComboBox:Th,EditBox:m0,Button:Ai,PushButton:g0,RadioButton:Eh,CheckBox:y0,TextField:ef,PasswordField:v0,Appearance:bt};Dt.AcroForm;function TI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(k,j){var z,oe,de,se,le,re=e;if((j=j||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(ae(k))for(le in n)for(de=n[le],z=0;z<de.length;z+=1){for(se=!0,oe=0;oe<de[z].length;oe+=1)if(de[z][oe]!==void 0&&de[z][oe]!==k[oe]){se=!1;break}if(se===!0){re=le;break}}else for(le in n)for(de=n[le],z=0;z<de.length;z+=1){for(se=!0,oe=0;oe<de[z].length;oe+=1)if(de[z][oe]!==void 0&&de[z][oe]!==k.charCodeAt(oe)){se=!1;break}if(se===!0){re=le;break}}return re===e&&j!==e&&(re=j),re},i=function k(j){for(var z=this.internal.write,oe=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:j.width}),se.push({key:"Height",value:j.height}),j.colorSpace===T.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===T.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var le="",re=0,pe=j.transparency.length;re<pe;re++)le+=j.transparency[re]+" "+j.transparency[re]+" ";se.push({key:"Mask",value:"["+le+"]"})}j.sMask!==void 0&&se.push({key:"SMask",value:j.objectId+1+" 0 R"});var Z=j.filter!==void 0?["/"+j.filter]:void 0;if(oe({data:j.data,additionalKeyValues:se,alreadyAppliedFilters:Z,objectId:j.objectId}),z("endobj"),"sMask"in j&&j.sMask!==void 0){var q="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,V={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:q,data:j.sMask};"filter"in j&&(V.filter=j.filter),k.call(this,V)}if(j.colorSpace===T.INDEXED){var W=this.internal.newObject();oe({data:L(new Uint8Array(j.palette)),objectId:W}),z("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var j in k)i.call(this,k[j])},o=function(){var k,j=this.internal.collections.addImage_images,z=this.internal.write;for(var oe in j)z("/I"+(k=j[oe]).index,k.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return a.call(this),k},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(k){return typeof t["process"+k.toUpperCase()]=="function"},h=function(k){return Wn(k)==="object"&&k.nodeType===1},g=function(k,j){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var z=""+k.getAttribute("src");if(z.indexOf("data:image/")===0)return Yp(unescape(z).split("base64,").pop());var oe=t.loadFile(z,!0);if(oe!==void 0)return oe}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var de;switch(j){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return Yp(k.toDataURL(de,1).split("base64,").pop())}},y=function(k){var j=this.internal.collections.addImage_images;if(j){for(var z in j)if(k===j[z].alias)return j[z]}},S=function(k,j,z){return k||j||(k=-96,j=-96),k<0&&(k=-1*z.width*72/k/this.internal.scaleFactor),j<0&&(j=-1*z.height*72/j/this.internal.scaleFactor),k===0&&(k=j*z.width/z.height),j===0&&(j=k*z.height/z.width),[k,j]},_=function(k,j,z,oe,de,se){var le=S.call(this,z,oe,de),re=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,Z=c.call(this);if(z=le[0],oe=le[1],Z[de.index]=de,se){se*=Math.PI/180;var q=Math.cos(se),V=Math.sin(se),W=function(ce){return ce.toFixed(4)},ee=[W(q),W(V),W(-1*V),W(q),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,re(k),pe(j+oe),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([re(z),"0","0",re(oe),"0","0","cm"].join(" "))):this.internal.write([re(z),"0","0",re(oe),re(k),pe(j+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},T=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(k){var j,z,oe=0;if(typeof k=="string")for(z=k.length,j=0;j<z;j++)oe=(oe<<5)-oe+k.charCodeAt(j),oe|=0;else if(ae(k))for(z=k.byteLength/2,j=0;j<z;j++)oe=(oe<<5)-oe+k[j],oe|=0;return oe},I=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var j=!0;return k.length===0&&(j=!1),k.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(j=!1),j},D=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var j=k.indexOf(",");return j<0?null:k.substring(0,j).trim().endsWith("base64")?k.substring(j+1):null},K=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(k){return K()&&k instanceof ArrayBuffer};var ae=t.__addimage__.isArrayBufferView=function(k){return K()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},F=t.__addimage__.binaryStringToUint8Array=function(k){for(var j=k.length,z=new Uint8Array(j),oe=0;oe<j;oe++)z[oe]=k.charCodeAt(oe);return z},L=t.__addimage__.arrayBufferToBinaryString=function(k){for(var j="",z=ae(k)?k:new Uint8Array(k),oe=0;oe<z.length;oe+=8192)j+=String.fromCharCode.apply(null,z.subarray(oe,oe+8192));return j};t.addImage=function(){var k,j,z,oe,de,se,le,re,pe;if(typeof arguments[1]=="number"?(j=e,z=arguments[1],oe=arguments[2],de=arguments[3],se=arguments[4],le=arguments[5],re=arguments[6],pe=arguments[7]):(j=arguments[1],z=arguments[2],oe=arguments[3],de=arguments[4],se=arguments[5],le=arguments[6],re=arguments[7],pe=arguments[8]),Wn(k=arguments[0])==="object"&&!h(k)&&"imageData"in k){var Z=k;k=Z.imageData,j=Z.format||j||e,z=Z.x||z||0,oe=Z.y||oe||0,de=Z.w||Z.width||de,se=Z.h||Z.height||se,le=Z.alias||le,re=Z.compression||re,pe=Z.rotation||Z.angle||pe}var q=this.internal.getFilters();if(re===void 0&&q.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(z)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var V=B.call(this,k,j,le,re);return _.call(this,z,oe,de,se,V,pe),this};var B=function(k,j,z,oe){var de,se,le;if(typeof k=="string"&&r(k)===e){k=unescape(k);var re=H(k,!1);(re!==""||(re=t.loadFile(k,!0))!==void 0)&&(k=re)}if(h(k)&&(k=g(k,j)),j=r(k,j),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((le=z)==null||le.length===0)&&(z=function(pe){return typeof pe=="string"||ae(pe)?C(pe):ae(pe.data)?C(pe.data):null}(k)),(de=y.call(this,z))||(K()&&(k instanceof Uint8Array||j==="RGBA"||(se=k,k=F(k))),de=this["process"+j.toUpperCase()](k,d.call(this),z,function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in t.image_compression?pe:E.NONE}(oe),se)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},H=t.__addimage__.convertBase64ToBinaryString=function(k,j){j=typeof j!="boolean"||j;var z,oe="";if(typeof k=="string"){var de;z=(de=D(k))!==null&&de!==void 0?de:k;try{oe=Yp(z)}catch(se){if(j)throw I(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};t.getImageProperties=function(k){var j,z,oe="";if(h(k)&&(k=g(k)),typeof k=="string"&&r(k)===e&&((oe=H(k,!1))===""&&(oe=t.loadFile(k)||""),k=oe),z=r(k),!f(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!K()||k instanceof Uint8Array||(k=F(k)),!(j=this["process"+z.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=z,j}})(Dt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Dt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,f=!1,h=0;h<d.length&&!f;h++)switch((r=d[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var y=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(_.objId),C=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+y(E(r.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+y(E(C))+") >>",_.content=s;var I=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+I,r.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(_.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var D=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(S(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var K=this.annotations._nameMap[r.options.name];r.options.pageNumber=K.page,r.options.top=K.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ae=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ae+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(n),y:d(r),w:c(n+i),h:d(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,c=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var f=this.splitTextToSize(n,a).length;o=Math.ceil(d*f)}else a=c,o=d;return this.text(n,r,i,s),i+=.2*d,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-d,a,o,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Dt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=t.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(_){var T=0,E=n,C="",I=0;for(T=0;T<_.length;T+=1)E[_.charCodeAt(T)]!==void 0?(I++,typeof(E=E[_.charCodeAt(T)])=="number"&&(C+=String.fromCharCode(E),E=n,I=0),T===_.length-1&&(E=n,C+=_.charAt(T-(I-1)),T-=I-1,I=0)):(E=n,C+=_.charAt(T-I),T-=I,I=0);return C};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(_,T,E){return o(_)?s(_)===!1?-1:!d(_)||!o(T)&&!o(E)||!o(E)&&a(T)||a(_)&&!o(T)||a(_)&&c(T)||a(_)&&a(T)?0:f(_)&&o(T)&&!a(T)&&o(E)&&d(E)?3:a(_)||!o(E)?1:2:-1},y=function(_){var T=0,E=0,C=0,I="",D="",K="",ae=(_=_||"").split("\\s+"),F=[];for(T=0;T<ae.length;T+=1){for(F.push(""),E=0;E<ae[T].length;E+=1)I=ae[T][E],D=ae[T][E-1],K=ae[T][E+1],o(I)?(C=g(I,D,K),F[T]+=C!==-1?String.fromCharCode(e[I.charCodeAt(0)][C]):I):F[T]+=I;F[T]=h(F[T])}return F.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var _,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(T)){var C=0;for(E=[],C=0;C<T.length;C+=1)Array.isArray(T[C])?E.push([y(T[C][0]),T[C][1],T[C][2]]):E.push([y(T[C])]);_=E}else _=y(T);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",S])}(Dt.API),Dt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Dt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(_){S=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,y=0,S=0,_=0,T=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var E=d.maxWidth;E>0?typeof c=="string"?c=this.splitTextToSize(c,E):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(I,D){return I.concat(T.splitTextToSize(D,E))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)y<(_=this.getStringUnitWidth(c[C],{font:h})*f)&&(y=_);return y!==0&&(S=c.length),{w:y/=g,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,y&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,f,h,g){if(r.call(this),!f)throw new Error("No data for PDF table.");var y,S,_,T,E=[],C=[],I=[],D={},K={},ae=[],F=[],L=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,k=g.margins||Object.assign({width:this.getPageWidth()},e),j=typeof g.padding=="number"?g.padding:3,z=g.headerBackgroundColor||"#c8c8c8",oe=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=oe,this.setFontSize(H),h==null)C=E=Object.keys(f[0]),I=E.map(function(){return"left"});else if(Array.isArray(h)&&Wn(h[0])==="object")for(E=h.map(function(Z){return Z.name}),C=h.map(function(Z){return Z.prompt||Z.name||""}),I=h.map(function(Z){return Z.align||"left"}),y=0;y<h.length;y+=1)K[h[y].name]=h[y].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(C=E=h,I=E.map(function(){return"left"}));if(L||Array.isArray(h)&&typeof h[0]=="string")for(y=0;y<E.length;y+=1){for(D[T=E[y]]=f.map(function(Z){return Z[T]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(C[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=D[T],this.setFont(void 0,"normal"),_=0;_<S.length;_+=1)ae.push(this.getTextDimensions(S[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[T]=Math.max.apply(null,ae)+j+j,ae=[]}if(B){var de={};for(y=0;y<E.length;y+=1)de[E[y]]={},de[E[y]].text=C[y],de[E[y]].align=I[y];var se=a.call(this,de,K);F=E.map(function(Z){return new s(c,d,K[Z],se,de[Z].text,void 0,de[Z].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var le=h.reduce(function(Z,q){return Z[q.name]=q.align,Z},{});for(y=0;y<f.length;y+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:y,data:f[y]},this);var re=a.call(this,f[y],K);for(_=0;_<E.length;_+=1){var pe=f[y][E[_]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:y,col:_,data:pe},this),o.call(this,new s(c,d,K[E[_]],re,pe,y+2,le[E[_]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var a=function(c,d){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(y){var S=c[y];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[y]-f-f)},this).map(function(y){return this.getLineHeightFactor()*y.length*h/g+f+f},this).reduce(function(y,S){return Math.max(y,S)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){f=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(S)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(Dt.API);var EI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},AI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Uw=TI(AI),CI=[100,200,300,400,500,600,700,800,900],XH=TI(CI);function zw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return EI[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Uw[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function $E(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var QH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function GE(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function JH(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},QH,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=zw(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+GE(s)+"' and default family '"+r+"'.");if(o=function(c,d){if(d[c])return d[c];var f=Uw[c],h=f<=Uw.normal?-1:1,g=$E(d,AI,f,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g}(s.stretch,o),o=function(c,d){if(d[c])return d[c];for(var f=EI[c],h=0;h<f.length;++h)if(d[f[h]])return d[f[h]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var f=XH[c],h=$E(d,CI,f,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+GE(s)+"'.");return o}function KE(t){return t.trimLeft()}function ZH(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function eG(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Kg,YE,XE,c2=["times"];(function(t){var e,n,r,i,s,o,a,c,d,f=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new c,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,d=new f}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=V;Object.defineProperty(this,"pdf",{get:function(){return W}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(De){ee=!!De}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(De){ce=!!De}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(De){isNaN(De)||(fe=De)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(De){isNaN(De)||(ye=De)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(De){var me;typeof De=="number"?me=[De,De,De,De]:((me=new Array(4))[0]=De[0],me[1]=De.length>=2?De[1]:me[0],me[2]=De.length>=3?De[2]:me[0],me[3]=De.length>=4?De[3]:me[1]),d.margin=me}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(De){we=De}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(De){Te=De}});var Ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ve},set:function(De){Ve=De}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(De){De instanceof f&&(d=De)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(De){d.path=De}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(De){Fe=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var me;me=g(De),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var me=g(De);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var Ye=null;function Qe(De,me){if(Ye===null){var _t=function(ft){var Ge=[];return Object.keys(ft).forEach(function(et){ft[et].forEach(function(st){var at=null;switch(st){case"bold":at={family:et,weight:"bold"};break;case"italic":at={family:et,style:"italic"};break;case"bolditalic":at={family:et,weight:"bold",style:"italic"};break;case"":case"normal":at={family:et}}at!==null&&(at.ref={name:et,style:st},Ge.push(at))})}),Ge}(De.getFontList());Ye=function(ft){for(var Ge={},et=0;et<ft.length;++et){var st=zw(ft[et]),at=st.family,vt=st.stretch,It=st.style,jt=st.weight;Ge[at]=Ge[at]||{},Ge[at][vt]=Ge[at][vt]||{},Ge[at][vt][It]=Ge[at][vt][It]||{},Ge[at][vt][It][jt]=st}return Ge}(_t.concat(me))}return Ye}var nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(De){Ye=null,nt=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var me;if(this.ctx.font=De,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var _t=me[1];me[2];var ft=me[3],Ge=me[4];me[5];var et=me[6],st=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(st==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:st==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var at=function(At){var Mt,ot,er=[],tn=At.trim();if(tn==="")return c2;if(tn in HE)return[HE[tn]];for(;tn!=="";){switch(ot=null,Mt=(tn=KE(tn)).charAt(0)){case'"':case"'":ot=ZH(tn.substring(1),Mt);break;default:ot=eG(tn)}if(ot===null||(er.push(ot[0]),(tn=KE(ot[1]))!==""&&tn.charAt(0)!==","))return c2;tn=tn.replace(/^,/,"")}return er}(et);if(this.fontFaces){var vt=JH(Qe(this.pdf,this.fontFaces),at.map(function(At){return{family:At,stretch:"normal",weight:ft,style:_t}}));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var It="";(ft==="bold"||parseInt(ft,10)>=700||_t==="bold")&&(It="bold"),_t==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var jt="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<at.length;Pt++){if(this.pdf.internal.getFont(at[Pt],It,{noFallback:!0,disableWarning:!0})!==void 0){jt=at[Pt];break}if(It==="bolditalic"&&this.pdf.internal.getFont(at[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)jt=at[Pt],It="bold";else if(this.pdf.internal.getFont(at[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){jt=at[Pt],It="normal";break}}if(jt===""){for(var en=0;en<at.length;en++)if(St[at[en]]){jt=St[at[en]];break}}jt=jt===""?"Times":jt,this.pdf.setFont(jt,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){D.call(this,"fill",!1)},h.prototype.stroke=function(){D.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,W){if(isNaN(V)||isNaN(W))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(V,W)},h.prototype.closePath=function(){var V=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Wn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){V=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.lineTo=function(V,W){if(isNaN(V)||isNaN(W))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,W,ee,ce){if(isNaN(ee)||isNaN(ce)||isNaN(V)||isNaN(W))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new o(ee,ce)),ye=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},h.prototype.bezierCurveTo=function(V,W,ee,ce,fe,ye){if(isNaN(fe)||isNaN(ye)||isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(ce))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(fe,ye)),Te=this.ctx.transform.applyToPoint(new o(V,W)),Ve=this.ctx.transform.applyToPoint(new o(ee,ce));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Ve.x,y2:Ve.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},h.prototype.arc=function(V,W,ee,ce,fe,ye){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(ce)||isNaN(fe))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(V,W));V=we.x,W=we.y;var Te=this.ctx.transform.applyToPoint(new o(0,ee)),Ve=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(Te.x-Ve.x,2)+Math.pow(Te.y-Ve.y,2))}Math.abs(fe-ce)>=2*Math.PI&&(ce=0,fe=2*Math.PI),this.path.push({type:"arc",x:V,y:W,radius:ee,startAngle:ce,endAngle:fe,counterclockwise:ye})},h.prototype.arcTo=function(V,W,ee,ce,fe){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,W,ee,ce){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(ce))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,W),this.lineTo(V+ee,W),this.lineTo(V+ee,W+ce),this.lineTo(V,W+ce),this.lineTo(V,W),this.lineTo(V+ee,W),this.lineTo(V,W)},h.prototype.fillRect=function(V,W,ee,ce){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(ce))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,W,ee,ce),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},h.prototype.strokeRect=function(V,W,ee,ce){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(ce))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(V,W,ee,ce),this.stroke())},h.prototype.clearRect=function(V,W,ee,ce){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(ce))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,W,ee,ce))},h.prototype.save=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},h.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(W),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(V){var W,ee,ce,fe;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))W=0,ee=0,ce=0,fe=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(ye!==null)W=parseInt(ye[1]),ee=parseInt(ye[2]),ce=parseInt(ye[3]),fe=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)W=parseInt(ye[1]),ee=parseInt(ye[2]),ce=parseInt(ye[3]),fe=parseFloat(ye[4]);else{if(fe=1,typeof V=="string"&&V.charAt(0)!=="#"){var we=new vI(V);V=we.ok?we.toHex():"#000000"}V.length===4?(W=V.substring(1,2),W+=W,ee=V.substring(2,3),ee+=ee,ce=V.substring(3,4),ce+=ce):(W=V.substring(1,3),ee=V.substring(3,5),ce=V.substring(5,7)),W=parseInt(W,16),ee=parseInt(ee,16),ce=parseInt(ce,16)}}return{r:W,g:ee,b:ce,a:fe,style:V}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(V,W,ee,ce){if(isNaN(W)||isNaN(ee)||typeof V!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!y.call(this)){var fe=re(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;j.call(this,{text:V,x:W,y:ee,scale:ye,angle:fe,align:this.textAlign,maxWidth:ce})}},h.prototype.strokeText=function(V,W,ee,ce){if(isNaN(W)||isNaN(ee)||typeof V!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ce=isNaN(ce)?void 0:ce;var fe=re(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;j.call(this,{text:V,x:W,y:ee,scale:ye,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ce})}},h.prototype.measureText=function(V){if(typeof V!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,ee=this.pdf.internal.scaleFactor,ce=W.internal.getFontSize(),fe=W.getStringUnitWidth(V)*ce/W.internal.scaleFactor,ye=function(we){var Te=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this};return new ye({width:fe*=Math.round(96*ee/72*1e4)/1e4})},h.prototype.scale=function(V,W){if(isNaN(V)||isNaN(W))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new c(V,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.rotate=function(V){if(isNaN(V))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.translate=function(V,W){if(isNaN(V)||isNaN(W))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new c(1,0,0,1,V,W);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.transform=function(V,W,ee,ce,fe,ye){if(isNaN(V)||isNaN(W)||isNaN(ee)||isNaN(ce)||isNaN(fe)||isNaN(ye))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new c(V,W,ee,ce,fe,ye);this.ctx.transform=this.ctx.transform.multiply(we)},h.prototype.setTransform=function(V,W,ee,ce,fe,ye){V=isNaN(V)?1:V,W=isNaN(W)?0:W,ee=isNaN(ee)?0:ee,ce=isNaN(ce)?1:ce,fe=isNaN(fe)?0:fe,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(V,W,ee,ce,fe,ye)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,W,ee,ce,fe,ye,we,Te,Ve){var Fe=this.pdf.getImageProperties(V),Ye=1,Qe=1,nt=1,De=1;ce!==void 0&&Te!==void 0&&(nt=Te/ce,De=Ve/fe,Ye=Fe.width/ce*Te/ce,Qe=Fe.height/fe*Ve/fe),ye===void 0&&(ye=W,we=ee,W=0,ee=0),ce!==void 0&&Te===void 0&&(Te=ce,Ve=fe),ce===void 0&&Te===void 0&&(Te=Fe.width,Ve=Fe.height);for(var me,_t=this.ctx.transform.decompose(),ft=re(_t.rotate.shx),Ge=new c,et=(Ge=(Ge=(Ge=Ge.multiply(_t.translate)).multiply(_t.skew)).multiply(_t.scale)).applyToRectangle(new a(ye-W*nt,we-ee*De,ce*Ye,fe*Qe)),st=T.call(this,et),at=[],vt=0;vt<st.length;vt+=1)at.indexOf(st[vt])===-1&&at.push(st[vt]);if(I(at),this.autoPaging)for(var It=at[0],jt=at[at.length-1],St=It;St<jt+1;St++){this.pdf.setPage(St);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],en=St===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=St===1?0:At+(St-2)*Mt;if(this.ctx.clip_path.length!==0){var er=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(me,this.posX+this.margin[3],-ot+en+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=er}var tn=JSON.parse(JSON.stringify(et));tn=C([tn],this.posX+this.margin[3],-ot+en+this.ctx.prevPageLastElemOffset)[0];var Pi=(St>It||St<jt)&&_.call(this);Pi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Mt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",tn.x,tn.y,tn.w,tn.h,null,null,ft),Pi&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",et.x,et.y,et.w,et.h,null,null,ft)};var T=function(V,W,ee){var ce=[];W=W||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":ce.push(Math.floor((V.y+fe)/ee)+1);break;case"arc":ce.push(Math.floor((V.y+fe-V.radius)/ee)+1),ce.push(Math.floor((V.y+fe+V.radius)/ee)+1);break;case"qct":var ye=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);ce.push(Math.floor((ye.y+fe)/ee)+1),ce.push(Math.floor((ye.y+ye.h+fe)/ee)+1);break;case"bct":var we=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);ce.push(Math.floor((we.y+fe)/ee)+1),ce.push(Math.floor((we.y+we.h+fe)/ee)+1);break;case"rect":ce.push(Math.floor((V.y+fe)/ee)+1),ce.push(Math.floor((V.y+V.h+fe)/ee)+1)}for(var Te=0;Te<ce.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<ce[Te];)E.call(this);return ce},E=function(){var V=this.fillStyle,W=this.strokeStyle,ee=this.font,ce=this.lineCap,fe=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=W,this.font=ee,this.lineCap=ce,this.lineWidth=fe,this.lineJoin=ye},C=function(V,W,ee){for(var ce=0;ce<V.length;ce++)switch(V[ce].type){case"bct":V[ce].x2+=W,V[ce].y2+=ee;case"qct":V[ce].x1+=W,V[ce].y1+=ee;case"mt":case"lt":case"arc":default:V[ce].x+=W,V[ce].y+=ee}return V},I=function(V){return V.sort(function(W,ee){return W-ee})},D=function(V,W){for(var ee,ce,fe=this.fillStyle,ye=this.strokeStyle,we=this.lineCap,Te=this.lineWidth,Ve=Math.abs(Te*this.ctx.transform.scaleX),Fe=this.lineJoin,Ye=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),nt=[],De=0;De<Qe.length;De++)if(Qe[De].x!==void 0)for(var me=T.call(this,Qe[De]),_t=0;_t<me.length;_t+=1)nt.indexOf(me[_t])===-1&&nt.push(me[_t]);for(var ft=0;ft<nt.length;ft++)for(;this.pdf.internal.getNumberOfPages()<nt[ft];)E.call(this);if(I(nt),this.autoPaging)for(var Ge=nt[0],et=nt[nt.length-1],st=Ge;st<et+1;st++){this.pdf.setPage(st),this.fillStyle=fe,this.strokeStyle=ye,this.lineCap=we,this.lineWidth=Ve,this.lineJoin=Fe;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=st===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=st===1?0:It+(st-2)*jt;if(this.ctx.clip_path.length!==0){var Pt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ee,this.posX+this.margin[3],-St+vt+this.ctx.prevPageLastElemOffset),K.call(this,V,!0),this.path=Pt}if(ce=JSON.parse(JSON.stringify(Ye)),this.path=C(ce,this.posX+this.margin[3],-St+vt+this.ctx.prevPageLastElemOffset),W===!1||st===0){var en=(st>Ge||st<et)&&_.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,jt,null).clip().discardPath()),K.call(this,V,W),en&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=Ve,K.call(this,V,W),this.lineWidth=Te;this.path=Ye},K=function(V,W){if((V!=="stroke"||W||!S.call(this))&&(V==="stroke"||W||!y.call(this))){for(var ee,ce,fe=[],ye=this.path,we=0;we<ye.length;we++){var Te=ye[we];switch(Te.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:Te,deltas:[],abs:[]});break;case"lt":var Ve=fe.length;if(ye[we-1]&&!isNaN(ye[we-1].x)&&(ee=[Te.x-ye[we-1].x,Te.y-ye[we-1].y],Ve>0)){for(;Ve>=0;Ve--)if(fe[Ve-1].close!==!0&&fe[Ve-1].begin!==!0){fe[Ve-1].deltas.push(ee),fe[Ve-1].abs.push(Te);break}}break;case"bct":ee=[Te.x1-ye[we-1].x,Te.y1-ye[we-1].y,Te.x2-ye[we-1].x,Te.y2-ye[we-1].y,Te.x-ye[we-1].x,Te.y-ye[we-1].y],fe[fe.length-1].deltas.push(ee);break;case"qct":var Fe=ye[we-1].x+2/3*(Te.x1-ye[we-1].x),Ye=ye[we-1].y+2/3*(Te.y1-ye[we-1].y),Qe=Te.x+2/3*(Te.x1-Te.x),nt=Te.y+2/3*(Te.y1-Te.y),De=Te.x,me=Te.y;ee=[Fe-ye[we-1].x,Ye-ye[we-1].y,Qe-ye[we-1].x,nt-ye[we-1].y,De-ye[we-1].x,me-ye[we-1].y],fe[fe.length-1].deltas.push(ee);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(Te)}}ce=W?null:V==="stroke"?"stroke":"fill";for(var _t=!1,ft=0;ft<fe.length;ft++)if(fe[ft].arc)for(var Ge=fe[ft].abs,et=0;et<Ge.length;et++){var st=Ge[et];st.type==="arc"?L.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,W,!_t):z.call(this,st.x,st.y),_t=!0}else if(fe[ft].close===!0)this.pdf.internal.out("h"),_t=!1;else if(fe[ft].begin!==!0){var at=fe[ft].start.x,vt=fe[ft].start.y;oe.call(this,fe[ft].deltas,at,vt),_t=!0}ce&&B.call(this,ce),W&&H.call(this)}},ae=function(V){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-ee;case"top":return V+W-ee;case"hanging":return V+W-2*ee;case"middle":return V+W/2-ee;case"ideographic":return V;case"alphabetic":default:return V}},F=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(W,ee){this.colorStops.push([W,ee])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(V,W,ee,ce,fe,ye,we,Te,Ve){for(var Fe=se.call(this,ee,ce,fe,ye),Ye=0;Ye<Fe.length;Ye++){var Qe=Fe[Ye];Ye===0&&(Ve?k.call(this,Qe.x1+V,Qe.y1+W):z.call(this,Qe.x1+V,Qe.y1+W)),de.call(this,V,W,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}Te?H.call(this):B.call(this,we)},B=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(V,W){this.pdf.internal.out(n(V)+" "+r(W)+" m")},j=function(V){var W;switch(V.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var ee=this.pdf.getTextDimensions(V.text),ce=ae.call(this,V.y),fe=F.call(this,ce)-ee.h,ye=this.ctx.transform.applyToPoint(new o(V.x,ce)),we=this.ctx.transform.decompose(),Te=new c;Te=(Te=(Te=Te.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Ve,Fe,Ye,Qe=this.ctx.transform.applyToRectangle(new a(V.x,ce,ee.w,ee.h)),nt=Te.applyToRectangle(new a(V.x,fe,ee.w,ee.h)),De=T.call(this,nt),me=[],_t=0;_t<De.length;_t+=1)me.indexOf(De[_t])===-1&&me.push(De[_t]);if(I(me),this.autoPaging)for(var ft=me[0],Ge=me[me.length-1],et=ft;et<Ge+1;et++){this.pdf.setPage(et);var st=et===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],It=vt-this.margin[0],jt=this.pdf.internal.pageSize.width-this.margin[1],St=jt-this.margin[3],Pt=et===1?0:at+(et-2)*It;if(this.ctx.clip_path.length!==0){var en=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ve,this.posX+this.margin[3],-1*Pt+st),K.call(this,"fill",!0),this.path=en}var At=C([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-Pt+st+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*V.scale),Ye=this.lineWidth,this.lineWidth=Ye*V.scale);var Mt=this.autoPaging!=="text";if(Mt||At.y+At.h<=vt){if(Mt||At.y>=st&&At.x<=jt){var ot=Mt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||jt-At.x)[0],er=C([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-Pt+st+this.ctx.prevPageLastElemOffset)[0],tn=Mt&&(et>ft||et<Ge)&&_.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,It,null).clip().discardPath()),this.pdf.text(ot,er.x,er.y,{angle:V.angle,align:W,renderingMode:V.renderingMode}),tn&&this.pdf.restoreGraphicsState()}}else At.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-At.y);V.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=Ye)}else V.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*V.scale),Ye=this.lineWidth,this.lineWidth=Ye*V.scale),this.pdf.text(V.text,ye.x+this.posX,ye.y+this.posY,{angle:V.angle,align:W,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=Ye)},z=function(V,W,ee,ce){ee=ee||0,ce=ce||0,this.pdf.internal.out(n(V+ee)+" "+r(W+ce)+" l")},oe=function(V,W,ee){return this.pdf.lines(V,W,ee,null,null)},de=function(V,W,ee,ce,fe,ye,we,Te){this.pdf.internal.out([e(i(ee+V)),e(s(ce+W)),e(i(fe+V)),e(s(ye+W)),e(i(we+V)),e(s(Te+W)),"c"].join(" "))},se=function(V,W,ee,ce){for(var fe=2*Math.PI,ye=Math.PI/2;W>ee;)W-=fe;var we=Math.abs(ee-W);we<fe&&ce&&(we=fe-we);for(var Te=[],Ve=ce?-1:1,Fe=W;we>1e-5;){var Ye=Fe+Ve*Math.min(we,ye);Te.push(le.call(this,V,Fe,Ye)),we-=Math.abs(Ye-Fe),Fe=Ye}return Te},le=function(V,W,ee){var ce=(ee-W)/2,fe=V*Math.cos(ce),ye=V*Math.sin(ce),we=fe,Te=-ye,Ve=we*we+Te*Te,Fe=Ve+we*fe+Te*ye,Ye=4/3*(Math.sqrt(2*Ve*Fe)-Fe)/(we*ye-Te*fe),Qe=we-Ye*Te,nt=Te+Ye*we,De=Qe,me=-nt,_t=ce+W,ft=Math.cos(_t),Ge=Math.sin(_t);return{x1:V*Math.cos(W),y1:V*Math.sin(W),x2:Qe*ft-nt*Ge,y2:Qe*Ge+nt*ft,x3:De*ft-me*Ge,y3:De*Ge+me*ft,x4:V*Math.cos(ee),y4:V*Math.sin(ee)}},re=function(V){return 180*V/Math.PI},pe=function(V,W,ee,ce,fe,ye){var we=V+.5*(ee-V),Te=W+.5*(ce-W),Ve=fe+.5*(ee-fe),Fe=ye+.5*(ce-ye),Ye=Math.min(V,fe,we,Ve),Qe=Math.max(V,fe,we,Ve),nt=Math.min(W,ye,Te,Fe),De=Math.max(W,ye,Te,Fe);return new a(Ye,nt,Qe-Ye,De-nt)},Z=function(V,W,ee,ce,fe,ye,we,Te){var Ve,Fe,Ye,Qe,nt,De,me,_t,ft,Ge,et,st,at,vt,It=ee-V,jt=ce-W,St=fe-ee,Pt=ye-ce,en=we-fe,At=Te-ye;for(Fe=0;Fe<41;Fe++)ft=(me=(Ye=V+(Ve=Fe/40)*It)+Ve*((nt=ee+Ve*St)-Ye))+Ve*(nt+Ve*(fe+Ve*en-nt)-me),Ge=(_t=(Qe=W+Ve*jt)+Ve*((De=ce+Ve*Pt)-Qe))+Ve*(De+Ve*(ye+Ve*At-De)-_t),Fe==0?(et=ft,st=Ge,at=ft,vt=Ge):(et=Math.min(et,ft),st=Math.min(st,Ge),at=Math.max(at,ft),vt=Math.max(vt,Ge));return new a(Math.round(et),Math.round(st),Math.round(at-et),Math.round(vt-st))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,W,ee=(V=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:W}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Dt.API),function(t){var e=function(s){var o,a,c,d,f,h,g,y,S,_;for(a=[],c=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(_=f%85))/85)-(S=f%85))/85)-(y=f%85))/85)-(g=f%85))/85)%85,a.push(h+33,g+33,y+33,S+33,_+33)):a.push(122);return function(T,E){for(var C=E;C>0;C--)T.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,c,d,f,h=String,g="length",y=255,S="charCodeAt",_="slice",T="replace";for(s[_](-2),s=s[_](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),c=[],d=0,f=(s+=o="uuuuu"[_](s[g]%5||5))[g];f>d;d+=5)a=52200625*(s[S](d)-33)+614125*(s[S](d+1)-33)+7225*(s[S](d+2)-33)+85*(s[S](d+3)-33)+(s[S](d+4)-33),c.push(y&a>>24,y&a>>16,y&a>>8,y&a);return function(E,C){for(var I=C;I>0;I--)E.pop()}(c,o[g]),h.fromCharCode.apply(h,c)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",c=0;c<s.length;c+=2)a+=String.fromCharCode("0x"+(s[c]+s[c+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=jw(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,o){var a=0,c=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Dt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(c,d,f){var h=new XMLHttpRequest,g=0,y=function(S){var _=S.length,T=[],E=String.fromCharCode;for(g=0;g<_;g+=1)T.push(E(255&S.charCodeAt(g)));return T.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?f(y(this.responseText)):f(void 0)}),h.send(null),d&&h.status===200)return y(h.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Dt.API),function(t){function e(){return(Vt.html2canvas?Promise.resolve(Vt.html2canvas):sy(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Vt.DOMPurify?Promise.resolve(Vt.DOMPurify):sy(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Wn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var c=document.createElement(o);for(var d in a.className&&(c.className=a.className),a.innerHTML&&a.dompurify&&(c.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)c.style[d]=a.style[d];return c},s=function o(a){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function c(d,f){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(c(g,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,a(this.prop.container,c)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var y=d[g],S=y.src.find(function(_){return _.format==="truetype"});S&&c.addFont(S.url,y.ref.name,y.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,c,d){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,c,d){return this.setProgress(o?this.progress.val+o:null,a||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,a){var c=this;return this.thenCore(o,a,function(d,f){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,f).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=c.call(d,o,a);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(c){a=a.thenCore(c)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Dt.getPageSize=function(o,a,c){if(Wn(o)==="object"){var d=o;o=d.orientation,a=d.unit||a,c=d.format||c}a=a||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var y,S=0,_=0;if(g.hasOwnProperty(h))S=g[h][1]/f,_=g[h][0]/f;else try{S=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",_>S&&(y=_,_=S,S=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>_&&(y=_,_=S,S=y)}return{width:_,height:S,unit:a,k:f,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(zw):null;var c=new s(a);return a.worker?c:c.from(o).doCallback()}}(Dt.API),Dt.API.addJS=function(t){return XE=t,this.internal.events.subscribe("postPutResources",function(){Kg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Kg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),YE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+XE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Kg!==void 0&&YE!==void 0&&this.internal.out("/Names <</JavaScript "+Kg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var c=a[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var h=n.internal.newObject();f.push(h);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Dt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var c,d=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(h){for(var g,y=256*h.charCodeAt(4)+h.charCodeAt(5),S=h.length,_={width:0,height:0,numcomponents:1},T=4;T<S;T+=2){if(T+=y,e.indexOf(h.charCodeAt(T+1))!==-1){g=256*h.charCodeAt(T+5)+h.charCodeAt(T+6),_={width:256*h.charCodeAt(T+7)+h.charCodeAt(T+8),height:g,numcomponents:h.charCodeAt(T+9)};break}y=256*h.charCodeAt(T+2)+h.charCodeAt(T+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}}(Dt.API);var eh,Yg,QE,JE,ZE,tG=function(){var t,e,n;function r(s){var o,a,c,d,f,h,g,y,S,_,T,E,C,I;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),S=(function(){var D,K;for(K=[],D=0;D<4;++D)K.push(String.fromCharCode(this.data[this.pos++]));return K}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*f/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,o-=4),s=h?.data||this.imgData,E=0;0<=o?E<o:E>o;0<=o?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((_=c-this.transparency.indexed.length)>0)for(C=0;0<=_?C<_:C>_;0<=_?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(T=this.read(o)).indexOf(0),y=String.fromCharCode.apply(String,T.slice(0,g)),this.text[y]=String.fromCharCode.apply(String,T.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),c=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(h,g,y,S){var _,T,E,C,I,D,K,ae,F,L,B,H,k,j,z,oe,de,se,le,re,pe,Z=Math.ceil((d.width-h)/y),q=Math.ceil((d.height-g)/S),V=d.width==Z&&d.height==q;for(j=o*Z,H=V?a:new Uint8Array(j*q),D=s.length,k=0,T=0;k<q&&c<D;){switch(s[c++]){case 0:for(C=de=0;de<j;C=de+=1)H[T++]=s[c++];break;case 1:for(C=se=0;se<j;C=se+=1)_=s[c++],I=C<o?0:H[T-o],H[T++]=(_+I)%256;break;case 2:for(C=le=0;le<j;C=le+=1)_=s[c++],E=(C-C%o)/o,z=k&&H[(k-1)*j+E*o+C%o],H[T++]=(z+_)%256;break;case 3:for(C=re=0;re<j;C=re+=1)_=s[c++],E=(C-C%o)/o,I=C<o?0:H[T-o],z=k&&H[(k-1)*j+E*o+C%o],H[T++]=(_+Math.floor((I+z)/2))%256;break;case 4:for(C=pe=0;pe<j;C=pe+=1)_=s[c++],E=(C-C%o)/o,I=C<o?0:H[T-o],k===0?z=oe=0:(z=H[(k-1)*j+E*o+C%o],oe=E&&H[(k-1)*j+(E-1)*o+C%o]),K=I+z-oe,ae=Math.abs(K-I),L=Math.abs(K-z),B=Math.abs(K-oe),F=ae<=L&&ae<=B?I:L<=B?z:oe,H[T++]=(_+F)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!V){var W=((g+k*S)*d.width+h)*o,ee=k*j;for(C=0;C<Z;C+=1){for(var ce=0;ce<o;ce+=1)a[W++]=H[ee++];W+=(y-1)*o}}k++}}return s=LH(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,c,d,f,h,g,y;for(a=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+a.length),c=0,s=0,o=h=0,g=a.length;h<g;o=h+=3)d[c++]=a[o],d[c++]=a[o+1],d[c++]=a[o+2],d[c++]=(y=f[s++])!=null?y:255;return d},r.prototype.copyToImageData=function(s,o){var a,c,d,f,h,g,y,S,_,T,E;if(c=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),c=4,a=!0),S=(d=s.data||s).length,h=_||o,f=g=0,c===1)for(;f<S;)y=_?4*o[f/4]:g,T=h[y++],d[f++]=T,d[f++]=T,d[f++]=T,d[f++]=a?h[y++]:255,g=y;else for(;f<S;)y=_?4*o[f/4]:g,d[f++]=h[y++],d[f++]=h[y++],d[f++]=h[y++],d[f++]=a?h[y++]:255,g=y},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Vt)==="[object Window]"){try{e=Vt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,c,d,f,h,g,y;if(this.animation){for(y=[],a=f=0,h=(g=this.animation.frames).length;f<h;a=++f)o=g[a],c=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,y.push(o.image=t(c));return y}},r.prototype.renderFrame=function(s,o){var a,c,d;return a=(c=this.animation.frames)[o],d=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),d?.disposeOp===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):d?.disposeOp===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,c,d,f,h,g=this;return a=0,h=this.animation,d=h.numFrames,c=h.frames,f=h.numPlays,(o=function(){var y,S;if(y=a++%d,S=c[y],g.renderFrame(s,y),d>1&&a/d<f)return g.animation._timeout=setTimeout(o,S.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nG(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,c=null;s&&(a=e,c=o,e+=3*o);var d=!0,f=[],h=0,g=null,y=0,S=null;for(this.width=n,this.height=r;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];h=t[e++]|t[e++]<<8,g=t[e++],(1&_)==0&&(g=null),y=_>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,D=t[e++],K=D>>6&1,ae=1<<(7&D)+1,F=a,L=c,B=!1;D>>7&&(B=!0,F=e,L=ae,e+=3*ae);var H=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}f.push({x:T,y:E,width:C,height:I,has_local_palette:B,palette_offset:F,palette_size:L,data_offset:H,data_length:e-H,transparent_index:g,interlaced:!!K,delay:h,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(j){if(j<0||j>=f.length)throw new Error("Frame index out of range.");return f[j]},this.decodeAndBlitFrameBGRA=function(j,z){var oe=this.frameInfo(j),de=oe.width*oe.height,se=new Uint8Array(de);eA(t,oe.data_offset,se,de);var le=oe.palette_offset,re=oe.transparent_index;re===null&&(re=256);var pe=oe.width,Z=n-pe,q=pe,V=4*(oe.y*n+oe.x),W=4*((oe.y+oe.height)*n+oe.x),ee=V,ce=4*Z;oe.interlaced===!0&&(ce+=4*n*7);for(var fe=8,ye=0,we=se.length;ye<we;++ye){var Te=se[ye];if(q===0&&(q=pe,(ee+=ce)>=W&&(ce=4*Z+4*n*(fe-1),ee=V+(pe+Z)*(fe<<1),fe>>=1)),Te===re)ee+=4;else{var Ve=t[le+3*Te],Fe=t[le+3*Te+1],Ye=t[le+3*Te+2];z[ee++]=Ye,z[ee++]=Fe,z[ee++]=Ve,z[ee++]=255}--q}},this.decodeAndBlitFrameRGBA=function(j,z){var oe=this.frameInfo(j),de=oe.width*oe.height,se=new Uint8Array(de);eA(t,oe.data_offset,se,de);var le=oe.palette_offset,re=oe.transparent_index;re===null&&(re=256);var pe=oe.width,Z=n-pe,q=pe,V=4*(oe.y*n+oe.x),W=4*((oe.y+oe.height)*n+oe.x),ee=V,ce=4*Z;oe.interlaced===!0&&(ce+=4*n*7);for(var fe=8,ye=0,we=se.length;ye<we;++ye){var Te=se[ye];if(q===0&&(q=pe,(ee+=ce)>=W&&(ce=4*Z+4*n*(fe-1),ee=V+(pe+Z)*(fe<<1),fe>>=1)),Te===re)ee+=4;else{var Ve=t[le+3*Te],Fe=t[le+3*Te+1],Ye=t[le+3*Te+2];z[ee++]=Ve,z[ee++]=Fe,z[ee++]=Ye,z[ee++]=255}--q}}}function eA(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,c=i+1,d=(1<<c)-1,f=0,h=0,g=0,y=t[e++],S=new Int32Array(4096),_=null;;){for(;f<16&&y!==0;)h|=t[e++]<<f,f+=8,y===1?y=t[e++]:--y;if(f<c)break;var T=h&d;if(h>>=c,f-=c,T!==s){if(T===o)break;for(var E=T<a?T:_,C=0,I=E;I>s;)I=S[I]>>8,++C;var D=I;if(g+C+(E!==T?1:0)>r)return void Qn.log("Warning, gif stream longer than expected.");n[g++]=D;var K=g+=C;for(E!==T&&(n[g++]=D),I=E;C--;)I=S[I],n[--K]=255&I,I>>=8;_!==null&&a<4096&&(S[a++]=_<<8|D,a>=d+1&&c<12&&(++c,d=d<<1|1)),_=T}else a=o+1,d=(1<<(c=i+1))-1,_=null}return g!==r&&Qn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function u2(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),h=new Array(65535),g=new Array(65535),y=new Array(64),S=new Array(64),_=[],T=0,E=7,C=new Array(64),I=new Array(64),D=new Array(64),K=new Array(256),ae=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(V,W){for(var ee=0,ce=0,fe=new Array,ye=1;ye<=16;ye++){for(var we=1;we<=V[ye];we++)fe[W[ce]]=[],fe[W[ce]][0]=ee,fe[W[ce]][1]=ye,ce++,ee++;ee*=2}return fe}function le(V){for(var W=V[0],ee=V[1]-1;ee>=0;)W&1<<ee&&(T|=1<<E),ee--,--E<0&&(T==255?(re(255),re(0)):re(T),E=7,T=0)}function re(V){_.push(V)}function pe(V){re(V>>8&255),re(255&V)}function Z(V,W,ee,ce,fe){for(var ye,we=fe[0],Te=fe[240],Ve=function(Ge,et){var st,at,vt,It,jt,St,Pt,en,At,Mt,ot=0;for(At=0;At<8;++At){st=Ge[ot],at=Ge[ot+1],vt=Ge[ot+2],It=Ge[ot+3],jt=Ge[ot+4],St=Ge[ot+5],Pt=Ge[ot+6];var er=st+(en=Ge[ot+7]),tn=st-en,Pi=at+Pt,bn=at-Pt,Dn=vt+St,Wi=vt-St,rn=It+jt,js=It-jt,Vn=er+rn,fr=er-rn,Kr=Pi+Dn,Bn=Pi-Dn;Ge[ot]=Vn+Kr,Ge[ot+4]=Vn-Kr;var Nt=.707106781*(Bn+fr);Ge[ot+2]=fr+Nt,Ge[ot+6]=fr-Nt;var ln=.382683433*((Vn=js+Wi)-(Bn=bn+tn)),ms=.5411961*Vn+ln,xr=1.306562965*Bn+ln,Yr=.707106781*(Kr=Wi+bn),$i=tn+Yr,pt=tn-Yr;Ge[ot+5]=pt+ms,Ge[ot+3]=pt-ms,Ge[ot+1]=$i+xr,Ge[ot+7]=$i-xr,ot+=8}for(ot=0,At=0;At<8;++At){st=Ge[ot],at=Ge[ot+8],vt=Ge[ot+16],It=Ge[ot+24],jt=Ge[ot+32],St=Ge[ot+40],Pt=Ge[ot+48];var fi=st+(en=Ge[ot+56]),Nr=st-en,Ir=at+Pt,Gn=at-Pt,Kn=vt+St,ir=vt-St,Fo=It+jt,uo=It-jt,hi=fi+Fo,Hi=fi-Fo,_r=Ir+Kn,pi=Ir-Kn;Ge[ot]=hi+_r,Ge[ot+32]=hi-_r;var hr=.707106781*(pi+Hi);Ge[ot+16]=Hi+hr,Ge[ot+48]=Hi-hr;var gs=.382683433*((hi=uo+ir)-(pi=Gn+Nr)),fo=.5411961*hi+gs,ho=1.306562965*pi+gs,po=.707106781*(_r=ir+Gn),Vo=Nr+po,pa=Nr-po;Ge[ot+40]=pa+fo,Ge[ot+24]=pa-fo,Ge[ot+8]=Vo+ho,Ge[ot+56]=Vo-ho,ot++}for(At=0;At<64;++At)Mt=Ge[At]*et[At],y[At]=Mt>0?Mt+.5|0:Mt-.5|0;return y}(V,W),Fe=0;Fe<64;++Fe)S[F[Fe]]=Ve[Fe];var Ye=S[0]-ee;ee=S[0],Ye==0?le(ce[0]):(le(ce[g[ye=32767+Ye]]),le(h[ye]));for(var Qe=63;Qe>0&&S[Qe]==0;)Qe--;if(Qe==0)return le(we),ee;for(var nt,De=1;De<=Qe;){for(var me=De;S[De]==0&&De<=Qe;)++De;var _t=De-me;if(_t>=16){nt=_t>>4;for(var ft=1;ft<=nt;++ft)le(Te);_t&=15}ye=32767+S[De],le(fe[(_t<<4)+g[ye]]),le(h[ye]),De++}return Qe!=63&&le(we),ee}function q(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(W){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var fe=o((ee[ce]*W+50)/100);fe=Math.min(Math.max(fe,1),255),a[F[ce]]=fe}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Te=o((ye[we]*W+50)/100);Te=Math.min(Math.max(Te,1),255),c[F[we]]=Te}for(var Ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Ye=0;Ye<8;Ye++)for(var Qe=0;Qe<8;Qe++)d[Fe]=1/(a[F[Fe]]*Ve[Ye]*Ve[Qe]*8),f[Fe]=1/(c[F[Fe]]*Ve[Ye]*Ve[Qe]*8),Fe++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,W){W&&q(W),_=new Array,T=0,E=7,pe(65496),pe(65504),pe(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),pe(1),pe(1),re(0),re(0),function(){pe(65499),pe(132),re(0);for(var at=0;at<64;at++)re(a[at]);re(1);for(var vt=0;vt<64;vt++)re(c[vt])}(),function(at,vt){pe(65472),pe(17),re(8),pe(vt),pe(at),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(V.width,V.height),function(){pe(65476),pe(418),re(0);for(var at=0;at<16;at++)re(L[at+1]);for(var vt=0;vt<=11;vt++)re(B[vt]);re(16);for(var It=0;It<16;It++)re(H[It+1]);for(var jt=0;jt<=161;jt++)re(k[jt]);re(1);for(var St=0;St<16;St++)re(j[St+1]);for(var Pt=0;Pt<=11;Pt++)re(z[Pt]);re(17);for(var en=0;en<16;en++)re(oe[en+1]);for(var At=0;At<=161;At++)re(de[At])}(),pe(65498),pe(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var ee=0,ce=0,fe=0;T=0,E=7,this.encode.displayName="_encode_";for(var ye,we,Te,Ve,Fe,Ye,Qe,nt,De,me=V.data,_t=V.width,ft=V.height,Ge=4*_t,et=0;et<ft;){for(ye=0;ye<Ge;){for(Fe=Ge*et+ye,Qe=-1,nt=0,De=0;De<64;De++)Ye=Fe+(nt=De>>3)*Ge+(Qe=4*(7&De)),et+nt>=ft&&(Ye-=Ge*(et+1+nt-ft)),ye+Qe>=Ge&&(Ye-=ye+Qe-Ge+4),we=me[Ye++],Te=me[Ye++],Ve=me[Ye++],C[De]=(ae[we]+ae[Te+256>>0]+ae[Ve+512>>0]>>16)-128,I[De]=(ae[we+768>>0]+ae[Te+1024>>0]+ae[Ve+1280>>0]>>16)-128,D[De]=(ae[we+1280>>0]+ae[Te+1536>>0]+ae[Ve+1792>>0]>>16)-128;ee=Z(C,d,ee,e,r),ce=Z(I,f,ce,n,i),fe=Z(D,f,fe,n,i),ye+=32}et+=8}if(E>=0){var st=[];st[1]=E+1,st[0]=(1<<E+1)-1,le(st)}return pe(65497),new Uint8Array(_)},t=t||50,function(){for(var V=String.fromCharCode,W=0;W<256;W++)K[W]=V(W)}(),e=se(L,B),n=se(j,z),r=se(H,k),i=se(oe,de),function(){for(var V=1,W=2,ee=1;ee<=15;ee++){for(var ce=V;ce<W;ce++)g[32767+ce]=ee,h[32767+ce]=[],h[32767+ce][1]=ee,h[32767+ce][0]=ce;for(var fe=-(W-1);fe<=-V;fe++)g[32767+fe]=ee,h[32767+fe]=[],h[32767+fe][1]=ee,h[32767+fe][0]=W-1+fe;V<<=1,W<<=1}}(),function(){for(var V=0;V<256;V++)ae[V]=19595*V,ae[V+256>>0]=38470*V,ae[V+512>>0]=7471*V+32768,ae[V+768>>0]=-11059*V,ae[V+1024>>0]=-21709*V,ae[V+1280>>0]=32768*V+8421375,ae[V+1536>>0]=-27439*V,ae[V+1792>>0]=-5329*V}(),q(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tA(t){function e(L){if(!L)throw Error("assert :P")}function n(L,B,H){for(var k=0;4>k;k++)if(L[B+k]!=H.charCodeAt(k))return!0;return!1}function r(L,B,H,k,j){for(var z=0;z<j;z++)L[B+z]=H[k+z]}function i(L,B,H,k){for(var j=0;j<k;j++)L[B+j]=H}function s(L){return new Int32Array(L)}function o(L,B){for(var H=[],k=0;k<L;k++)H.push(new B);return H}function a(L,B){var H=[];return function k(j,z,oe){for(var de=oe[z],se=0;se<de&&(j.push(oe.length>z+1?[]:new B),!(oe.length<z+1));se++)k(j[se],z+1,oe)}(H,0,L),H}var c=function(){var L=this;function B(m,x){for(var N=1<<x-1>>>0;m&N;)N>>>=1;return N?(m&N-1)+N:m}function H(m,x,N,M,G){e(!(M%N));do m[x+(M-=N)]=G;while(0<M)}function k(m,x,N,M,G){if(e(2328>=G),512>=G)var X=s(512);else if((X=s(G))==null)return 0;return function(J,te,ie,ue,be,Ne){var Ie,Ce,$e=te,je=1<<ie,_e=s(16),Se=s(16);for(e(be!=0),e(ue!=null),e(J!=null),e(0<ie),Ce=0;Ce<be;++Ce){if(15<ue[Ce])return 0;++_e[ue[Ce]]}if(_e[0]==be)return 0;for(Se[1]=0,Ie=1;15>Ie;++Ie){if(_e[Ie]>1<<Ie)return 0;Se[Ie+1]=Se[Ie]+_e[Ie]}for(Ce=0;Ce<be;++Ce)Ie=ue[Ce],0<ue[Ce]&&(Ne[Se[Ie]++]=Ce);if(Se[15]==1)return(ue=new j).g=0,ue.value=Ne[0],H(J,$e,1,je,ue),je;var ze,Ue=-1,qe=je-1,ht=0,ct=1,Ct=1,ut=1<<ie;for(Ce=0,Ie=1,be=2;Ie<=ie;++Ie,be<<=1){if(ct+=Ct<<=1,0>(Ct-=_e[Ie]))return 0;for(;0<_e[Ie];--_e[Ie])(ue=new j).g=Ie,ue.value=Ne[Ce++],H(J,$e+ht,be,ut,ue),ht=B(ht,Ie)}for(Ie=ie+1,be=2;15>=Ie;++Ie,be<<=1){if(ct+=Ct<<=1,0>(Ct-=_e[Ie]))return 0;for(;0<_e[Ie];--_e[Ie]){if(ue=new j,(ht&qe)!=Ue){for($e+=ut,ze=1<<(Ue=Ie)-ie;15>Ue&&!(0>=(ze-=_e[Ue]));)++Ue,ze<<=1;je+=ut=1<<(ze=Ue-ie),J[te+(Ue=ht&qe)].g=ze+ie,J[te+Ue].value=$e-te-Ue}ue.g=Ie-ie,ue.value=Ne[Ce++],H(J,$e+(ht>>ie),be,ut,ue),ht=B(ht,Ie)}}return ct!=2*Se[15]-1?0:je}(m,x,N,M,G,X)}function j(){this.value=this.g=0}function z(){this.value=this.g=0}function oe(){this.G=o(5,j),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(gr,z)}function de(m,x,N,M){e(m!=null),e(x!=null),e(2147483648>M),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=N,m.Jd=x,m.Yc=N+M,m.Zc=4<=M?N+M-4+1:N,ye(m)}function se(m,x){for(var N=0;0<x--;)N|=Te(m,128)<<x;return N}function le(m,x){var N=se(m,x);return we(m)?-N:N}function re(m,x,N,M){var G,X=0;for(e(m!=null),e(x!=null),e(4294967288>M),m.Sb=M,m.Ra=0,m.u=0,m.h=0,4<M&&(M=4),G=0;G<M;++G)X+=x[N+G]<<8*G;m.Ra=X,m.bb=M,m.oa=x,m.pa=N}function pe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ru-8>>>0,++m.bb,m.u-=8;ee(m)&&(m.h=1,m.u=0)}function Z(m,x){if(e(0<=x),!m.h&&x<=nu){var N=W(m)&tu[x];return m.u+=x,pe(m),N}return m.h=1,m.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(m){return m.Ra>>>(m.u&ru-1)>>>0}function ee(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ru}function ce(m,x){m.u=x,m.h=ee(m)}function fe(m){m.u>=iu&&(e(m.u>=iu),pe(m))}function ye(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function we(m){return se(m,1)}function Te(m,x){var N=m.Ca;0>m.b&&ye(m);var M=m.b,G=N*x>>>8,X=(m.I>>>M>G)+0;for(X?(N-=G,m.I-=G+1<<M>>>0):N=G+1,M=N,G=0;256<=M;)G+=8,M>>=8;return M=7^G+Li[M],m.b-=M,m.Ca=(N<<M)-1,X}function Ve(m,x,N){m[x+0]=N>>24&255,m[x+1]=N>>16&255,m[x+2]=N>>8&255,m[x+3]=N>>0&255}function Fe(m,x){return m[x+0]<<0|m[x+1]<<8}function Ye(m,x){return Fe(m,x)|m[x+2]<<16}function Qe(m,x){return Fe(m,x)|Fe(m,x+2)<<16}function nt(m,x){var N=1<<x;return e(m!=null),e(0<x),m.X=s(N),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function De(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),r(x.X,0,m.X,0,1<<x.Xa)}function me(){this.X=[],this.Xa=this.Mb=0}function _t(m,x,N,M){e(N!=null),e(M!=null);var G=N[0],X=M[0];return G==0&&(G=(m*X+x/2)/x),X==0&&(X=(x*G+m/2)/m),0>=G||0>=X?0:(N[0]=G,M[0]=X,1)}function ft(m,x){return m+(1<<x)-1>>>x}function Ge(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function et(m,x){L[x]=function(N,M,G,X,J,te,ie){var ue;for(ue=0;ue<J;++ue){var be=L[m](te[ie+ue-1],G,X+ue);te[ie+ue]=Ge(N[M+ue],be)}}}function st(){this.ud=this.hd=this.jd=0}function at(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function vt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function It(m,x){return vt(m+(m-x+.5>>1))}function jt(m,x,N){return Math.abs(x-N)-Math.abs(m-N)}function St(m,x,N,M,G,X,J){for(M=X[J-1],N=0;N<G;++N)X[J+N]=M=Ge(m[x+N],M)}function Pt(m,x,N,M,G){var X;for(X=0;X<N;++X){var J=m[x+X],te=J>>8&255,ie=16711935&(ie=(ie=16711935&J)+((te<<16)+te));M[G+X]=(4278255360&J)+ie>>>0}}function en(m,x){x.jd=m>>0&255,x.hd=m>>8&255,x.ud=m>>16&255}function At(m,x,N,M,G,X){var J;for(J=0;J<M;++J){var te=x[N+J],ie=te>>>8,ue=te,be=255&(be=(be=te>>>16)+((m.jd<<24>>24)*(ie<<24>>24)>>>5));ue=255&(ue=(ue=ue+((m.hd<<24>>24)*(ie<<24>>24)>>>5))+((m.ud<<24>>24)*(be<<24>>24)>>>5)),G[X+J]=(4278255360&te)+(be<<16)+ue}}function Mt(m,x,N,M,G){L[x]=function(X,J,te,ie,ue,be,Ne,Ie,Ce){for(ie=Ne;ie<Ie;++ie)for(Ne=0;Ne<Ce;++Ne)ue[be++]=G(te[M(X[J++])])},L[m]=function(X,J,te,ie,ue,be,Ne){var Ie=8>>X.b,Ce=X.Ea,$e=X.K[0],je=X.w;if(8>Ie)for(X=(1<<X.b)-1,je=(1<<Ie)-1;J<te;++J){var _e,Se=0;for(_e=0;_e<Ce;++_e)_e&X||(Se=M(ie[ue++])),be[Ne++]=G($e[Se&je]),Se>>=Ie}else L["VP8LMapColor"+N](ie,ue,$e,je,be,Ne,J,te,Ce)}}function ot(m,x,N,M,G){for(N=x+N;x<N;){var X=m[x++];M[G++]=X>>16&255,M[G++]=X>>8&255,M[G++]=X>>0&255}}function er(m,x,N,M,G){for(N=x+N;x<N;){var X=m[x++];M[G++]=X>>16&255,M[G++]=X>>8&255,M[G++]=X>>0&255,M[G++]=X>>24&255}}function tn(m,x,N,M,G){for(N=x+N;x<N;){var X=(J=m[x++])>>16&240|J>>12&15,J=J>>0&240|J>>28&15;M[G++]=X,M[G++]=J}}function Pi(m,x,N,M,G){for(N=x+N;x<N;){var X=(J=m[x++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;M[G++]=X,M[G++]=J}}function bn(m,x,N,M,G){for(N=x+N;x<N;){var X=m[x++];M[G++]=X>>0&255,M[G++]=X>>8&255,M[G++]=X>>16&255}}function Dn(m,x,N,M,G,X){if(X==0)for(N=x+N;x<N;)Ve(M,((X=m[x++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),G+=32;else r(M,G,m,x,N)}function Wi(m,x){L[x][0]=L[m+"0"],L[x][1]=L[m+"1"],L[x][2]=L[m+"2"],L[x][3]=L[m+"3"],L[x][4]=L[m+"4"],L[x][5]=L[m+"5"],L[x][6]=L[m+"6"],L[x][7]=L[m+"7"],L[x][8]=L[m+"8"],L[x][9]=L[m+"9"],L[x][10]=L[m+"10"],L[x][11]=L[m+"11"],L[x][12]=L[m+"12"],L[x][13]=L[m+"13"],L[x][14]=L[m+"0"],L[x][15]=L[m+"0"]}function rn(m){return m==uu||m==nc||m==yd||m==vd}function js(){this.eb=[],this.size=this.A=this.fb=0}function Vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new js,this.f.kb=new Vn,this.sd=null}function Kr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function ln(m,x){var N=m.T,M=x.ba.f.RGBA,G=M.eb,X=M.fb+m.ka*M.A,J=Ji[x.ba.S],te=m.y,ie=m.O,ue=m.f,be=m.N,Ne=m.ea,Ie=m.W,Ce=x.cc,$e=x.dc,je=x.Mc,_e=x.Nc,Se=m.ka,ze=m.ka+m.T,Ue=m.U,qe=Ue+1>>1;for(Se==0?J(te,ie,null,null,ue,be,Ne,Ie,ue,be,Ne,Ie,G,X,null,null,Ue):(J(x.ec,x.fc,te,ie,Ce,$e,je,_e,ue,be,Ne,Ie,G,X-M.A,G,X,Ue),++N);Se+2<ze;Se+=2)Ce=ue,$e=be,je=Ne,_e=Ie,be+=m.Rc,Ie+=m.Rc,X+=2*M.A,J(te,(ie+=2*m.fa)-m.fa,te,ie,Ce,$e,je,_e,ue,be,Ne,Ie,G,X-M.A,G,X,Ue);return ie+=m.fa,m.j+ze<m.o?(r(x.ec,x.fc,te,ie,Ue),r(x.cc,x.dc,ue,be,qe),r(x.Mc,x.Nc,Ne,Ie,qe),N--):1&ze||J(te,ie,null,null,ue,be,Ne,Ie,ue,be,Ne,Ie,G,X+M.A,null,null,Ue),N}function ms(m,x,N){var M=m.F,G=[m.J];if(M!=null){var X=m.U,J=x.ba.S,te=J==gd||J==yd;x=x.ba.f.RGBA;var ie=[0],ue=m.ka;ie[0]=m.T,m.Kb&&(ue==0?--ie[0]:(--ue,G[0]-=m.width),m.j+m.ka+m.T==m.o&&(ie[0]=m.o-m.j-ue));var be=x.eb;ue=x.fb+ue*x.A,m=kn(M,G[0],m.width,X,ie,be,ue+(te?0:3),x.A),e(N==ie),m&&rn(J)&&Xi(be,ue,te,X,ie,x.A)}return 0}function xr(m){var x=m.ma,N=x.ba.S,M=11>N,G=N==pl||N==md||N==gd||N==zn||N==12||rn(N);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Zc(x.Oa,m,G?11:12))return 0;if(G&&rn(N)&&Ke(),m.da)alert("todo:use_scaling");else{if(M){if(x.Ib=Nt,m.Kb){if(N=m.U+1>>1,x.memory=s(m.U+2*N),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+N,x.Ib=ln,Ke()}}else alert("todo:EmitYUV");G&&(x.Jb=ms,M&&Pe())}if(M&&!li){for(m=0;256>m;++m)Zi[m]=89858*(m-128)+To>>Ia,es[m]=-22014*(m-128)+To,pu[m]=-45773*(m-128),oc[m]=113618*(m-128)+To>>Ia;for(m=Rn;m<jn;++m)x=76283*(m-16)+To>>Ia,Df[m-Rn]=En(x,255),ng[m-Rn]=En(x+8>>4,15);li=1}return 1}function Yr(m){var x=m.ma,N=m.U,M=m.T;return e(!(1&m.ka)),0>=N||0>=M?0:(N=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,N),x.Dc+=N,1)}function $i(m){m.ma.memory=null}function pt(m,x,N,M){return Z(m,8)!=47?0:(x[0]=Z(m,14)+1,N[0]=Z(m,14)+1,M[0]=Z(m,1),Z(m,3)!=0?0:!m.h)}function fi(m,x){if(4>m)return m+1;var N=m-2>>1;return(2+(1&m)<<N)+Z(x,N)+1}function Nr(m,x){return 120<x?x-120:1<=(N=((N=Av[x-1])>>4)*m+(8-(15&N)))?N:1;var N}function Ir(m,x,N){var M=W(N),G=m[x+=255&M].g-8;return 0<G&&(ce(N,N.u+8),M=W(N),x+=m[x].value,x+=M&(1<<G)-1),ce(N,N.u+m[x].g),m[x].value}function Gn(m,x,N){return N.g+=m.g,N.value+=m.value<<x>>>0,e(8>=N.g),m.g}function Kn(m,x,N){var M=m.xc;return e((x=M==0?0:m.vc[m.md*(N>>M)+(x>>M)])<m.Wb),m.Ya[x]}function ir(m,x,N,M){var G=m.ab,X=m.c*x,J=m.C;x=J+x;var te=N,ie=M;for(M=m.Ta,N=m.Ua;0<G--;){var ue=m.gc[G],be=J,Ne=x,Ie=te,Ce=ie,$e=(ie=M,te=N,ue.Ea);switch(e(be<Ne),e(Ne<=ue.nc),ue.hc){case 2:Nf(Ie,Ce,(Ne-be)*$e,ie,te);break;case 0:var je=be,_e=Ne,Se=ie,ze=te,Ue=(ut=ue).Ea;je==0&&(Xl(Ie,Ce,null,null,1,Se,ze),St(Ie,Ce+1,0,0,Ue-1,Se,ze+1),Ce+=Ue,ze+=Ue,++je);for(var qe=1<<ut.b,ht=qe-1,ct=ft(Ue,ut.b),Ct=ut.K,ut=ut.w+(je>>ut.b)*ct;je<_e;){var yn=Ct,vn=ut,cn=1;for(_a(Ie,Ce,Se,ze-Ue,1,Se,ze);cn<Ue;){var Xt=(cn&~ht)+qe;Xt>Ue&&(Xt=Ue),(0,Qo[yn[vn++]>>8&15])(Ie,Ce+ +cn,Se,ze+cn-Ue,Xt-cn,Se,ze+cn),cn=Xt}Ce+=Ue,ze+=Ue,++je&ht||(ut+=ct)}Ne!=ue.nc&&r(ie,te-$e,ie,te+(Ne-be-1)*$e,$e);break;case 1:for($e=Ie,_e=Ce,Ue=(Ie=ue.Ea)-(ze=Ie&~(Se=(Ce=1<<ue.b)-1)),je=ft(Ie,ue.b),qe=ue.K,ue=ue.w+(be>>ue.b)*je;be<Ne;){for(ht=qe,ct=ue,Ct=new st,ut=_e+ze,yn=_e+Ie;_e<ut;)en(ht[ct++],Ct),dl(Ct,$e,_e,Ce,ie,te),_e+=Ce,te+=Ce;_e<yn&&(en(ht[ct++],Ct),dl(Ct,$e,_e,Ue,ie,te),_e+=Ue,te+=Ue),++be&Se||(ue+=je)}break;case 3:if(Ie==ie&&Ce==te&&0<ue.b){for(_e=ie,Ie=$e=te+(Ne-be)*$e-(ze=(Ne-be)*ft(ue.Ea,ue.b)),Ce=ie,Se=te,je=[],ze=(Ue=ze)-1;0<=ze;--ze)je[ze]=Ce[Se+ze];for(ze=Ue-1;0<=ze;--ze)_e[Ie+ze]=je[ze];Di(ue,be,Ne,ie,$e,ie,te)}else Di(ue,be,Ne,Ie,Ce,ie,te)}te=M,ie=N}ie!=N&&r(M,N,te,ie,X)}function Fo(m,x){var N=m.V,M=m.Ba+m.c*m.C,G=x-m.C;if(e(x<=m.l.o),e(16>=G),0<G){var X=m.l,J=m.Ta,te=m.Ua,ie=X.width;if(ir(m,G,N,M),G=te=[te],e((N=m.C)<(M=x)),e(X.v<X.va),M>X.o&&(M=X.o),N<X.j){var ue=X.j-N;N=X.j,G[0]+=ue*ie}if(N>=M?N=0:(G[0]+=4*X.v,X.ka=N-X.j,X.U=X.va-X.v,X.T=M-N,N=1),N){if(te=te[0],11>(N=m.ca).S){var be=N.f.RGBA,Ne=(M=N.S,G=X.U,X=X.T,ue=be.eb,be.A),Ie=X;for(be=be.fb+m.Ma*be.A;0<Ie--;){var Ce=J,$e=te,je=G,_e=ue,Se=be;switch(M){case If:Oi(Ce,$e,je,_e,Se);break;case pl:vi(Ce,$e,je,_e,Se);break;case uu:vi(Ce,$e,je,_e,Se),Xi(_e,Se,0,je,1,0);break;case Qm:Ta(Ce,$e,je,_e,Se);break;case md:Dn(Ce,$e,je,_e,Se,1);break;case nc:Dn(Ce,$e,je,_e,Se,1),Xi(_e,Se,0,je,1,0);break;case gd:Dn(Ce,$e,je,_e,Se,0);break;case yd:Dn(Ce,$e,je,_e,Se,0),Xi(_e,Se,1,je,1,0);break;case zn:fl(Ce,$e,je,_e,Se);break;case vd:fl(Ce,$e,je,_e,Se),Un(_e,Se,je,1,0);break;case kf:Sa(Ce,$e,je,_e,Se);break;default:e(0)}te+=ie,be+=Ne}m.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=N.height)}}m.C=x,e(m.C<=m.i)}function uo(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var N=m.Ya[x].G,M=m.Ya[x].H;if(0<N[1][M[1]+0].g||0<N[2][M[2]+0].g||0<N[3][M[3]+0].g)return 0}return 1}function hi(m,x,N,M,G,X){if(m.Z!=0){var J=m.qd,te=m.rd;for(e(bi[m.Z]!=null);x<N;++x)bi[m.Z](J,te,M,G,M,G,X),J=M,te=G,G+=X;m.qd=J,m.rd=te}}function Hi(m,x){var N=m.l.ma,M=N.Z==0||N.Z==1?m.l.j:m.C;if(M=m.C<M?M:m.C,e(x<=m.l.o),x>M){var G=m.l.width,X=N.ca,J=N.tb+G*M,te=m.V,ie=m.Ba+m.c*M,ue=m.gc;e(m.ab==1),e(ue[0].hc==3),fd(ue[0],M,x,te,ie,X,J),hi(N,M,x,X,J,G)}m.C=m.Ma=x}function _r(m,x,N,M,G,X,J){var te=m.$/M,ie=m.$%M,ue=m.m,be=m.s,Ne=N+m.$,Ie=Ne;G=N+M*G;var Ce=N+M*X,$e=280+be.ua,je=m.Pb?te:16777216,_e=0<be.ua?be.Wa:null,Se=be.wc,ze=Ne<Ce?Kn(be,ie,te):null;e(m.C<X),e(Ce<=G);var Ue=!1;e:for(;;){for(;Ue||Ne<Ce;){var qe=0;if(te>=je){var ht=Ne-N;e((je=m).Pb),je.wd=je.m,je.xd=ht,0<je.s.ua&&De(je.s.Wa,je.s.vb),je=te+Lf}if(ie&Se||(ze=Kn(be,ie,te)),e(ze!=null),ze.Qb&&(x[Ne]=ze.qb,Ue=!0),!Ue)if(fe(ue),ze.jc){qe=ue,ht=x;var ct=Ne,Ct=ze.pd[W(qe)&gr-1];e(ze.jc),256>Ct.g?(ce(qe,qe.u+Ct.g),ht[ct]=Ct.value,qe=0):(ce(qe,qe.u+Ct.g-256),e(256<=Ct.value),qe=Ct.value),qe==0&&(Ue=!0)}else qe=Ir(ze.G[0],ze.H[0],ue);if(ue.h)break;if(Ue||256>qe){if(!Ue)if(ze.nd)x[Ne]=(ze.qb|qe<<8)>>>0;else{if(fe(ue),Ue=Ir(ze.G[1],ze.H[1],ue),fe(ue),ht=Ir(ze.G[2],ze.H[2],ue),ct=Ir(ze.G[3],ze.H[3],ue),ue.h)break;x[Ne]=(ct<<24|Ue<<16|qe<<8|ht)>>>0}if(Ue=!1,++Ne,++ie>=M&&(ie=0,++te,J!=null&&te<=X&&!(te%16)&&J(m,te),_e!=null))for(;Ie<Ne;)qe=x[Ie++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe}else if(280>qe){if(qe=fi(qe-256,ue),ht=Ir(ze.G[4],ze.H[4],ue),fe(ue),ht=Nr(M,ht=fi(ht,ue)),ue.h)break;if(Ne-N<ht||G-Ne<qe)break e;for(ct=0;ct<qe;++ct)x[Ne+ct]=x[Ne+ct-ht];for(Ne+=qe,ie+=qe;ie>=M;)ie-=M,++te,J!=null&&te<=X&&!(te%16)&&J(m,te);if(e(Ne<=G),ie&Se&&(ze=Kn(be,ie,te)),_e!=null)for(;Ie<Ne;)qe=x[Ie++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe}else{if(!(qe<$e))break e;for(Ue=qe-280,e(_e!=null);Ie<Ne;)qe=x[Ie++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe;qe=Ne,e(!(Ue>>>(ht=_e).Xa)),x[qe]=ht.X[Ue],Ue=!0}Ue||e(ue.h==ee(ue))}if(m.Pb&&ue.h&&Ne<G)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&De(m.s.vb,m.s.Wa);else{if(ue.h)break e;J?.(m,te>X?X:te),m.a=0,m.$=Ne-N}return 1}return m.a=3,0}function pi(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function hr(){var m=new Jc;return m==null?null:(m.a=0,m.xb=fu,Wi("Predictor","VP8LPredictors"),Wi("Predictor","VP8LPredictors_C"),Wi("PredictorAdd","VP8LPredictorsAdd"),Wi("PredictorAdd","VP8LPredictorsAdd_C"),Nf=Pt,dl=At,Oi=ot,vi=er,fl=tn,Sa=Pi,Ta=bn,L.VP8LMapColor32b=su,L.VP8LMapColor8b=ou,m)}function gs(m,x,N,M,G){var X=1,J=[m],te=[x],ie=M.m,ue=M.s,be=null,Ne=0;e:for(;;){if(N)for(;X&&Z(ie,1);){var Ie=J,Ce=te,$e=M,je=1,_e=$e.m,Se=$e.gc[$e.ab],ze=Z(_e,2);if($e.Oc&1<<ze)X=0;else{switch($e.Oc|=1<<ze,Se.hc=ze,Se.Ea=Ie[0],Se.nc=Ce[0],Se.K=[null],++$e.ab,e(4>=$e.ab),ze){case 0:case 1:Se.b=Z(_e,3)+2,je=gs(ft(Se.Ea,Se.b),ft(Se.nc,Se.b),0,$e,Se.K),Se.K=Se.K[0];break;case 3:var Ue,qe=Z(_e,8)+1,ht=16<qe?0:4<qe?1:2<qe?2:3;if(Ie[0]=ft(Se.Ea,ht),Se.b=ht,Ue=je=gs(qe,1,0,$e,Se.K)){var ct,Ct=qe,ut=Se,yn=1<<(8>>ut.b),vn=s(yn);if(vn==null)Ue=0;else{var cn=ut.K[0],Xt=ut.w;for(vn[0]=ut.K[0][0],ct=1;ct<1*Ct;++ct)vn[ct]=Ge(cn[Xt+ct],vn[ct-1]);for(;ct<4*yn;++ct)vn[ct]=0;ut.K[0]=null,ut.K[0]=vn,Ue=1}}je=Ue;break;case 2:break;default:e(0)}X=je}}if(J=J[0],te=te[0],X&&Z(ie,1)&&!(X=1<=(Ne=Z(ie,4))&&11>=Ne)){M.a=3;break e}var Ln;if(Ln=X)t:{var Mn,zt,or,Fi=M,Sr=J,Fr=te,An=Ne,xi=N,_i=Fi.m,ar=Fi.s,Vr=[null],ci=1,ts=0,Gs=Zm[An];n:for(;;){if(xi&&Z(_i,1)){var lr=Z(_i,3)+2,Lr=ft(Sr,lr),Ts=ft(Fr,lr),yl=Lr*Ts;if(!gs(Lr,Ts,0,Fi,Vr))break n;for(Vr=Vr[0],ar.xc=lr,Mn=0;Mn<yl;++Mn){var Ra=Vr[Mn]>>8&65535;Vr[Mn]=Ra,Ra>=ci&&(ci=Ra+1)}}if(_i.h)break n;for(zt=0;5>zt;++zt){var Cn=rc[zt];!zt&&0<An&&(Cn+=1<<An),ts<Cn&&(ts=Cn)}var na=o(ci*Gs,j),Of=ci,Zh=o(Of,oe);if(Zh==null)var Ks=null;else e(65536>=Of),Ks=Zh;var Ys=s(ts);if(Ks==null||Ys==null||na==null){Fi.a=1;break n}var lc=na;for(Mn=or=0;Mn<ci;++Mn){var Xs=Ks[Mn],La=Xs.G,cc=Xs.H,mu=0,Es=1,gu=0;for(zt=0;5>zt;++zt){Cn=rc[zt],La[zt]=lc,cc[zt]=or,!zt&&0<An&&(Cn+=1<<An);i:{var vl,Da=Cn,yu=Fi,ra=Ys,ig=lc,ep=or,Xn=0,Eo=yu.m,tp=Z(Eo,1);if(i(ra,0,0,Da),tp){var np=Z(Eo,1)+1,jf=Z(Eo,1),Mf=Z(Eo,jf==0?1:8);ra[Mf]=1,np==2&&(ra[Mf=Z(Eo,8)]=1);var ia=1}else{var tr=s(19),Dr=Z(Eo,4)+4;if(19<Dr){yu.a=3;var Tr=0;break i}for(vl=0;vl<Dr;++vl)tr[Ev[vl]]=Z(Eo,3);var vu=void 0,Oa=void 0,wu=yu,kv=tr,Br=Da,Ff=ra,Sd=0,sa=wu.m,Ao=8,As=o(128,j);r:for(;k(As,0,7,kv,19);){if(Z(sa,1)){var Td=2+2*Z(sa,3);if((vu=2+Z(sa,Td))>Br)break r}else vu=Br;for(Oa=0;Oa<Br&&vu--;){fe(sa);var Vf=As[0+(127&W(sa))];ce(sa,sa.u+Vf.g);var wl=Vf.value;if(16>wl)Ff[Oa++]=wl,wl!=0&&(Ao=wl);else{var sg=wl==16,rp=wl-16,og=Rf[rp],ip=Z(sa,wd[rp])+og;if(Oa+ip>Br)break r;for(var ag=sg?Ao:0;0<ip--;)Ff[Oa++]=ag}}Sd=1;break r}Sd||(wu.a=3),ia=Sd}(ia=ia&&!Eo.h)&&(Xn=k(ig,ep,8,ra,Da)),ia&&Xn!=0?Tr=Xn:(yu.a=3,Tr=0)}if(Tr==0)break n;if(Es&&Jm[zt]==1&&(Es=lc[or].g==0),mu+=lc[or].g,or+=Tr,3>=zt){var bu,Bf=Ys[0];for(bu=1;bu<Cn;++bu)Ys[bu]>Bf&&(Bf=Ys[bu]);gu+=Bf}}if(Xs.nd=Es,Xs.Qb=0,Es&&(Xs.qb=(La[3][cc[3]+0].value<<24|La[1][cc[1]+0].value<<16|La[2][cc[2]+0].value)>>>0,mu==0&&256>La[0][cc[0]+0].value&&(Xs.Qb=1,Xs.qb+=La[0][cc[0]+0].value<<8)),Xs.jc=!Xs.Qb&&6>gu,Xs.jc){var Ed,Cs=Xs;for(Ed=0;Ed<gr;++Ed){var ja=Ed,Co=Cs.pd[ja],uc=Cs.G[0][Cs.H[0]+ja];256<=uc.value?(Co.g=uc.g+256,Co.value=uc.value):(Co.g=0,Co.value=0,ja>>=Gn(uc,8,Co),ja>>=Gn(Cs.G[1][Cs.H[1]+ja],16,Co),ja>>=Gn(Cs.G[2][Cs.H[2]+ja],0,Co),Gn(Cs.G[3][Cs.H[3]+ja],24,Co))}}}ar.vc=Vr,ar.Wb=ci,ar.Ya=Ks,ar.yc=na,Ln=1;break t}Ln=0}if(!(X=Ln)){M.a=3;break e}if(0<Ne){if(ue.ua=1<<Ne,!nt(ue.Wa,Ne)){M.a=1,X=0;break e}}else ue.ua=0;var Uf=M,zf=J,lg=te,qf=Uf.s,Wf=qf.xc;if(Uf.c=zf,Uf.i=lg,qf.md=ft(zf,Wf),qf.wc=Wf==0?-1:(1<<Wf)-1,N){M.xb=ta;break e}if((be=s(J*te))==null){M.a=1,X=0;break e}X=(X=_r(M,be,0,J,te,te,null))&&!ie.h;break e}return X?(G!=null?G[0]=be:(e(be==null),e(N)),M.$=0,N||pi(ue)):pi(ue),X}function fo(m,x){var N=m.c*m.i,M=N+x+16*x;return e(m.c<=x),m.V=s(M),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+N+x,1)}function ho(m,x){var N=m.C,M=x-N,G=m.V,X=m.Ba+m.c*N;for(e(x<=m.l.o);0<M;){var J=16<M?16:M,te=m.l.ma,ie=m.l.width,ue=ie*J,be=te.ca,Ne=te.tb+ie*N,Ie=m.Ta,Ce=m.Ua;ir(m,J,G,X),yr(Ie,Ce,be,Ne,ue),hi(te,N,N+J,be,Ne,ie),M-=J,G+=J*m.c,N+=J}e(N==x),m.C=m.Ma=x}function po(){this.ub=this.yd=this.td=this.Rb=0}function Vo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Hc(){this.Yb=function(){var m=[];return function x(N,M,G){for(var X=G[M],J=0;J<X&&(N.push(G.length>M+1?[]:0),!(G.length<M+1));J++)x(N[J],M+1,G)}(m,0,[3,11]),m}()}function On(){this.jb=s(3),this.Wc=a([4,8],Hc),this.Xc=a([4,17],Hc)}function Gc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ms(){this.ld=this.La=this.dd=this.tc=0}function mo(){this.Na=this.la=0}function Gi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ma(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ms),this.Y=0,this.ya=Array(new ma),this.aa=0,this.l=new ga}function Bo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ni(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new po,this.Kc=new Vo,this.ed=new Gc,this.Qa=new pa,this.Ic=this.$c=this.Aa=0,this.D=new Kc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,q),this.ia=0,this.pb=o(4,Gi),this.Pa=new On,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bo),this.Hd=0,this.rb=Array(new mo),this.sb=0,this.wa=Array(new Ms),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ma),this.L=this.aa=0,this.gd=a([4,2],Ms),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ga(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ti(){var m=new Ni;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,ic||(ic=ya)),m}function Yn(m,x,N){return m.a==0&&(m.a=x,m.sc=N,m.cb=0),0}function ql(m,x,N){return 3<=N&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function Wl(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return Yn(m,2,"null VP8Io passed to VP8GetHeaders()");var N=x.data,M=x.w,G=x.ha;if(4>G)return Yn(m,7,"Truncated header.");var X=N[M+0]|N[M+1]<<8|N[M+2]<<16,J=m.Od;if(J.Rb=!(1&X),J.td=X>>1&7,J.yd=X>>4&1,J.ub=X>>5,3<J.td)return Yn(m,3,"Incorrect keyframe parameters.");if(!J.yd)return Yn(m,4,"Frame not displayable.");M+=3,G-=3;var te=m.Kc;if(J.Rb){if(7>G)return Yn(m,7,"cannot parse picture header");if(!ql(N,M,G))return Yn(m,3,"Bad code word");te.c=16383&(N[M+4]<<8|N[M+3]),te.Td=N[M+4]>>6,te.i=16383&(N[M+6]<<8|N[M+5]),te.Ud=N[M+6]>>6,M+=7,G-=7,m.za=te.c+15>>4,m.Ub=te.i+15>>4,x.width=te.c,x.height=te.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((X=m.Pa).jb,0,255,X.jb.length),e((X=m.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,i(X.Zb,0,0,X.Zb.length),i(X.Lb,0,0,X.Lb)}if(J.ub>G)return Yn(m,7,"bad partition length");de(X=m.m,N,M,J.ub),M+=J.ub,G-=J.ub,J.Rb&&(te.Ld=we(X),te.Kd=we(X)),te=m.Qa;var ie,ue=m.Pa;if(e(X!=null),e(te!=null),te.Cb=we(X),te.Cb){if(te.Bb=we(X),we(X)){for(te.Fb=we(X),ie=0;4>ie;++ie)te.Zb[ie]=we(X)?le(X,7):0;for(ie=0;4>ie;++ie)te.Lb[ie]=we(X)?le(X,6):0}if(te.Bb)for(ie=0;3>ie;++ie)ue.jb[ie]=we(X)?se(X,8):255}else te.Bb=0;if(X.Ka)return Yn(m,3,"cannot parse segment header");if((te=m.ed).zd=we(X),te.Tb=se(X,6),te.wb=se(X,3),te.Pc=we(X),te.Pc&&we(X)){for(ue=0;4>ue;++ue)we(X)&&(te.vd[ue]=le(X,6));for(ue=0;4>ue;++ue)we(X)&&(te.od[ue]=le(X,6))}if(m.L=te.Tb==0?0:te.zd?1:2,X.Ka)return Yn(m,3,"cannot parse filter header");var be=G;if(G=ie=M,M=ie+be,te=be,m.Xb=(1<<se(m.m,2))-1,be<3*(ue=m.Xb))N=7;else{for(ie+=3*ue,te-=3*ue,be=0;be<ue;++be){var Ne=N[G+0]|N[G+1]<<8|N[G+2]<<16;Ne>te&&(Ne=te),de(m.Jc[+be],N,ie,Ne),ie+=Ne,te-=Ne,G+=3}de(m.Jc[+ue],N,ie,te),N=ie<M?0:5}if(N!=0)return Yn(m,N,"cannot parse partitions");for(N=se(ie=m.m,7),G=we(ie)?le(ie,4):0,M=we(ie)?le(ie,4):0,te=we(ie)?le(ie,4):0,ue=we(ie)?le(ie,4):0,ie=we(ie)?le(ie,4):0,be=m.Qa,Ne=0;4>Ne;++Ne){if(be.Cb){var Ie=be.Zb[Ne];be.Fb||(Ie+=N)}else{if(0<Ne){m.pb[Ne]=m.pb[0];continue}Ie=N}var Ce=m.pb[Ne];Ce.Sc[0]=du[En(Ie+G,127)],Ce.Sc[1]=bd[En(Ie+0,127)],Ce.Eb[0]=2*du[En(Ie+M,127)],Ce.Eb[1]=101581*bd[En(Ie+te,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=du[En(Ie+ue,117)],Ce.Qc[1]=bd[En(Ie+ie,127)],Ce.lc=Ie+ie}if(!J.Rb)return Yn(m,4,"Not a key frame.");for(we(X),J=m.Pa,N=0;4>N;++N){for(G=0;8>G;++G)for(M=0;3>M;++M)for(te=0;11>te;++te)ue=Te(X,Pv[N][G][M][te])?se(X,8):tg[N][G][M][te],J.Wc[N][G].Yb[M][te]=ue;for(G=0;17>G;++G)J.Xc[N][G]=J.Wc[N][Xh[G]]}return m.kc=we(X),m.kc&&(m.Bd=se(X,8)),m.cb=1}function ya(m,x,N,M,G,X,J){var te=x[G].Yb[N];for(N=0;16>G;++G){if(!Te(m,te[N+0]))return G;for(;!Te(m,te[N+1]);)if(te=x[++G].Yb[0],N=0,G==16)return 16;var ie=x[G+1].Yb;if(Te(m,te[N+2])){var ue=m,be=0;if(Te(ue,(Ie=te)[(Ne=N)+3]))if(Te(ue,Ie[Ne+6])){for(te=0,Ne=2*(be=Te(ue,Ie[Ne+8]))+(Ie=Te(ue,Ie[Ne+9+be])),be=0,Ie=Kh[Ne];Ie[te];++te)be+=be+Te(ue,Ie[te]);be+=3+(8<<Ne)}else Te(ue,Ie[Ne+7])?(be=7+2*Te(ue,165),be+=Te(ue,145)):be=5+Te(ue,159);else be=Te(ue,Ie[Ne+4])?3+Te(ue,Ie[Ne+5]):2;te=ie[2]}else be=1,te=ie[1];ie=J+Yh[G],0>(ue=m).b&&ye(ue);var Ne,Ie=ue.b,Ce=(Ne=ue.Ca>>1)-(ue.I>>Ie)>>31;--ue.b,ue.Ca+=Ce,ue.Ca|=1,ue.I-=(Ne+1&Ce)<<Ie,X[ie]=((be^Ce)-Ce)*M[(0<G)+0]}return 16}function Uo(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function zo(m,x){if(m==null)return 0;if(x==null)return Yn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Wl(m,x))return 0;if(e(m.cb),x.ac==null||x.ac(x)){x.ob&&(m.L=0);var N=ac[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=x.v-N>>4,m.zb=x.j-N>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=x.o+15+N>>4,m.Hb=x.va+15+N>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var M=m.ed;for(N=0;4>N;++N){var G;if(m.Qa.Cb){var X=m.Qa.Lb[N];m.Qa.Fb||(X+=M.Tb)}else X=M.Tb;for(G=0;1>=G;++G){var J=m.gd[N][G],te=X;if(M.Pc&&(te+=M.vd[0],G&&(te+=M.od[0])),0<(te=0>te?0:63<te?63:te)){var ie=te;0<M.wb&&(ie=4<M.wb?ie>>2:ie>>1)>9-M.wb&&(ie=9-M.wb),1>ie&&(ie=1),J.dd=ie,J.tc=2*te+ie,J.ld=40<=te?2:15<=te?1:0}else J.tc=0;J.La=G}}}N=0}else Yn(m,6,"Frame setup failed"),N=m.a;if(N=N==0){if(N){m.$c=0,0<m.Aa||(m.Ic=ka);e:{N=m.Ic,M=4*(ie=m.za);var ue=32*ie,be=ie+1,Ne=0<m.L?ie*(0<m.Aa?2:1):0,Ie=(m.Aa==2?2:1)*ie;if((J=M+832+(G=3*(16*N+ac[m.L])/2*ue)+(X=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=J)N=0;else{if(J>m.Vb){if(m.Vb=0,m.Ec=s(J),m.Fc=0,m.Ec==null){N=Yn(m,1,"no memory during frame initialization.");break e}m.Vb=J}J=m.Ec,te=m.Fc,m.Ac=J,m.Bc=te,te+=M,m.Gd=o(ue,Bo),m.Hd=0,m.rb=o(be+1,mo),m.sb=1,m.wa=Ne?o(Ne,Ms):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=ie),e(!0),m.oc=J,m.pc=te,te+=832,m.ya=o(Ie,ma),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=ie),m.R=16*ie,m.B=8*ie,ie=(ue=ac[m.L])*m.R,ue=ue/2*m.B,m.sa=J,m.ta=te+ie,m.qa=m.sa,m.ra=m.ta+16*N*m.R+ue,m.Ha=m.qa,m.Ia=m.ra+8*N*m.B+ue,m.$c=0,te+=G,m.mb=X?J:null,m.nb=X?te:null,e(te+X<=m.Fc+m.Vb),Uo(m),i(m.Ac,m.Bc,0,M),N=1}}if(N){if(x.ka=0,x.y=m.sa,x.O=m.ta,x.f=m.qa,x.N=m.ra,x.ea=m.Ha,x.Vd=m.Ia,x.fa=m.R,x.Rc=m.B,x.F=null,x.J=0,!pd){for(N=-255;255>=N;++N)Rr[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)Zo[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)lu[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)tc[255+N]=0>N?0:255<N?255:N;pd=1}au=nn,Ea=Wo,Aa=go,wi=Nn,_s=yo,xn=qo,Ql=xa,hd=sr,Jl=zs,Zl=Kl,ec=bs,Ss=wo,Ca=Yo,Jo=qs,Pa=gi,Na=ki,hl=mr,ai=Gl,Hs[0]=Us,Hs[1]=Yc,Hs[2]=Yi,Hs[3]=Bs,Hs[4]=$l,Hs[5]=sl,Hs[6]=ii,Hs[7]=ol,Hs[8]=wa,Hs[9]=vo,Mi[0]=ys,Mi[1]=Xc,Mi[2]=Vs,Mi[3]=va,Mi[4]=gn,Mi[5]=vs,Mi[6]=Ki,Qi[0]=mi,Qi[1]=il,Qi[2]=Qc,Qi[3]=Ii,Qi[4]=Tn,Qi[5]=Ho,Qi[6]=Hl,N=1}else N=0}N&&(N=function(Ce,$e){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var je,_e=Ce.Jc[Ce.M&Ce.Xb],Se=Ce.m,ze=Ce;for(je=0;je<ze.za;++je){var Ue=Se,qe=ze,ht=qe.Ac,ct=qe.Bc+4*je,Ct=qe.zc,ut=qe.ya[qe.aa+je];if(qe.Qa.Bb?ut.$b=Te(Ue,qe.Pa.jb[0])?2+Te(Ue,qe.Pa.jb[2]):Te(Ue,qe.Pa.jb[1]):ut.$b=0,qe.kc&&(ut.Ad=Te(Ue,qe.Bd)),ut.Za=!Te(Ue,145)+0,ut.Za){var yn=ut.Ob,vn=0;for(qe=0;4>qe;++qe){var cn,Xt=Ct[0+qe];for(cn=0;4>cn;++cn){Xt=Cv[ht[ct+cn]][Xt];for(var Ln=eg[Te(Ue,Xt[0])];0<Ln;)Ln=eg[2*Ln+Te(Ue,Xt[Ln])];Xt=-Ln,ht[ct+cn]=Xt}r(yn,vn,ht,ct,4),vn+=4,Ct[0+qe]=Xt}}else Xt=Te(Ue,156)?Te(Ue,128)?1:3:Te(Ue,163)?2:0,ut.Ob[0]=Xt,i(ht,ct,Xt,4),i(Ct,0,Xt,4);ut.Dd=Te(Ue,142)?Te(Ue,114)?Te(Ue,183)?1:3:2:0}if(ze.m.Ka)return Yn(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(ze=_e,Ue=(Se=Ce).rb[Se.sb-1],ht=Se.rb[Se.sb+Se.ja],je=Se.ya[Se.aa+Se.ja],ct=Se.kc?je.Ad:0)Ue.la=ht.la=0,je.Za||(Ue.Na=ht.Na=0),je.Hc=0,je.Gc=0,je.ia=0;else{var Mn,zt;if(Ue=ht,ht=ze,ct=Se.Pa.Xc,Ct=Se.ya[Se.aa+Se.ja],ut=Se.pb[Ct.$b],qe=Ct.ad,yn=0,vn=Se.rb[Se.sb-1],Xt=cn=0,i(qe,yn,0,384),Ct.Za)var or=0,Fi=ct[3];else{Ln=s(16);var Sr=Ue.Na+vn.Na;if(Sr=ic(ht,ct[1],Sr,ut.Eb,0,Ln,0),Ue.Na=vn.Na=(0<Sr)+0,1<Sr)au(Ln,0,qe,yn);else{var Fr=Ln[0]+3>>3;for(Ln=0;256>Ln;Ln+=16)qe[yn+Ln]=Fr}or=1,Fi=ct[0]}var An=15&Ue.la,xi=15&vn.la;for(Ln=0;4>Ln;++Ln){var _i=1&xi;for(Fr=zt=0;4>Fr;++Fr)An=An>>1|(_i=(Sr=ic(ht,Fi,Sr=_i+(1&An),ut.Sc,or,qe,yn))>or)<<7,zt=zt<<2|(3<Sr?3:1<Sr?2:qe[yn+0]!=0),yn+=16;An>>=4,xi=xi>>1|_i<<7,cn=(cn<<8|zt)>>>0}for(Fi=An,or=xi>>4,Mn=0;4>Mn;Mn+=2){for(zt=0,An=Ue.la>>4+Mn,xi=vn.la>>4+Mn,Ln=0;2>Ln;++Ln){for(_i=1&xi,Fr=0;2>Fr;++Fr)Sr=_i+(1&An),An=An>>1|(_i=0<(Sr=ic(ht,ct[2],Sr,ut.Qc,0,qe,yn)))<<3,zt=zt<<2|(3<Sr?3:1<Sr?2:qe[yn+0]!=0),yn+=16;An>>=2,xi=xi>>1|_i<<5}Xt|=zt<<4*Mn,Fi|=An<<4<<Mn,or|=(240&xi)<<Mn}Ue.la=Fi,vn.la=or,Ct.Hc=cn,Ct.Gc=Xt,Ct.ia=43690&Xt?0:ut.ia,ct=!(cn|Xt)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[je.$b][je.Za],Se.wa[Se.Y+Se.ja].La|=!ct),ze.Ka)return Yn(Ce,7,"Premature end-of-file encountered.")}if(Uo(Ce),Se=$e,ze=1,je=(_e=Ce).D,Ue=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(je.M=_e.M,je.uc=Ue,_o(_e,je),ze=1,je=(zt=_e.D).Nb,Ue=(Xt=ac[_e.L])*_e.R,ht=Xt/2*_e.B,Ln=16*je*_e.R,Fr=8*je*_e.B,ct=_e.sa,Ct=_e.ta-Ue+Ln,ut=_e.qa,qe=_e.ra-ht+Fr,yn=_e.Ha,vn=_e.Ia-ht+Fr,xi=(An=zt.M)==0,cn=An>=_e.Va-1,_e.Aa==2&&_o(_e,zt),zt.uc)for(_i=(Sr=_e).D.M,e(Sr.D.uc),zt=Sr.yb;zt<Sr.Hb;++zt){or=zt,Fi=_i;var ar=(Vr=(Cn=Sr).D).Nb;Mn=Cn.R;var Vr=Vr.wa[Vr.Y+or],ci=Cn.sa,ts=Cn.ta+16*ar*Mn+16*or,Gs=Vr.dd,lr=Vr.tc;if(lr!=0)if(e(3<=lr),Cn.L==1)0<or&&Na(ci,ts,Mn,lr+4),Vr.La&&ai(ci,ts,Mn,lr),0<Fi&&Pa(ci,ts,Mn,lr+4),Vr.La&&hl(ci,ts,Mn,lr);else{var Lr=Cn.B,Ts=Cn.qa,yl=Cn.ra+8*ar*Lr+8*or,Ra=Cn.Ha,Cn=Cn.Ia+8*ar*Lr+8*or;ar=Vr.ld,0<or&&(hd(ci,ts,Mn,lr+4,Gs,ar),Zl(Ts,yl,Ra,Cn,Lr,lr+4,Gs,ar)),Vr.La&&(Ss(ci,ts,Mn,lr,Gs,ar),Jo(Ts,yl,Ra,Cn,Lr,lr,Gs,ar)),0<Fi&&(Ql(ci,ts,Mn,lr+4,Gs,ar),Jl(Ts,yl,Ra,Cn,Lr,lr+4,Gs,ar)),Vr.La&&(ec(ci,ts,Mn,lr,Gs,ar),Ca(Ts,yl,Ra,Cn,Lr,lr,Gs,ar))}}if(_e.ia&&alert("todo:DitherRow"),Se.put!=null){if(zt=16*An,An=16*(An+1),xi?(Se.y=_e.sa,Se.O=_e.ta+Ln,Se.f=_e.qa,Se.N=_e.ra+Fr,Se.ea=_e.Ha,Se.W=_e.Ia+Fr):(zt-=Xt,Se.y=ct,Se.O=Ct,Se.f=ut,Se.N=qe,Se.ea=yn,Se.W=vn),cn||(An-=Xt),An>Se.o&&(An=Se.o),Se.F=null,Se.J=null,_e.Fa!=null&&0<_e.Fa.length&&zt<An&&(Se.J=ul(_e,Se,zt,An-zt),Se.F=_e.mb,Se.F==null&&Se.F.length==0)){ze=Yn(_e,3,"Could not decode alpha data.");break e}zt<Se.j&&(Xt=Se.j-zt,zt=Se.j,e(!(1&Xt)),Se.O+=_e.R*Xt,Se.N+=_e.B*(Xt>>1),Se.W+=_e.B*(Xt>>1),Se.F!=null&&(Se.J+=Se.width*Xt)),zt<An&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=zt-Se.j,Se.U=Se.va-Se.v,Se.T=An-zt,ze=Se.put(Se))}je+1!=_e.Ic||cn||(r(_e.sa,_e.ta-Ue,ct,Ct+16*_e.R,Ue),r(_e.qa,_e.ra-ht,ut,qe+8*_e.B,ht),r(_e.Ha,_e.Ia-ht,yn,vn+8*_e.B,ht))}if(!ze)return Yn(Ce,6,"Output aborted.")}return 1}(m,x)),x.bc!=null&&x.bc(x),N&=1}return N?(m.cb=0,N):0}function ni(m,x,N,M,G){G=m[x+N+32*M]+(G>>3),m[x+N+32*M]=-256&G?0>G?0:255:G}function rl(m,x,N,M,G,X){ni(m,x,0,N,M+G),ni(m,x,1,N,M+X),ni(m,x,2,N,M-X),ni(m,x,3,N,M-G)}function pr(m){return(20091*m>>16)+m}function ri(m,x,N,M){var G,X=0,J=s(16);for(G=0;4>G;++G){var te=m[x+0]+m[x+8],ie=m[x+0]-m[x+8],ue=(35468*m[x+4]>>16)-pr(m[x+12]),be=pr(m[x+4])+(35468*m[x+12]>>16);J[X+0]=te+be,J[X+1]=ie+ue,J[X+2]=ie-ue,J[X+3]=te-be,X+=4,x++}for(G=X=0;4>G;++G)te=(m=J[X+0]+4)+J[X+8],ie=m-J[X+8],ue=(35468*J[X+4]>>16)-pr(J[X+12]),ni(N,M,0,0,te+(be=pr(J[X+4])+(35468*J[X+12]>>16))),ni(N,M,1,0,ie+ue),ni(N,M,2,0,ie-ue),ni(N,M,3,0,te-be),X++,M+=32}function qo(m,x,N,M){var G=m[x+0]+4,X=35468*m[x+4]>>16,J=pr(m[x+4]),te=35468*m[x+1]>>16;rl(N,M,0,G+J,m=pr(m[x+1]),te),rl(N,M,1,G+X,m,te),rl(N,M,2,G-X,m,te),rl(N,M,3,G-J,m,te)}function Wo(m,x,N,M,G){ri(m,x,N,M),G&&ri(m,x+16,N,M+4)}function go(m,x,N,M){Ea(m,x+0,N,M,1),Ea(m,x+32,N,M+128,1)}function Nn(m,x,N,M){var G;for(m=m[x+0]+4,G=0;4>G;++G)for(x=0;4>x;++x)ni(N,M,x,G,m)}function yo(m,x,N,M){m[x+0]&&wi(m,x+0,N,M),m[x+16]&&wi(m,x+16,N,M+4),m[x+32]&&wi(m,x+32,N,M+128),m[x+48]&&wi(m,x+48,N,M+128+4)}function nn(m,x,N,M){var G,X=s(16);for(G=0;4>G;++G){var J=m[x+0+G]+m[x+12+G],te=m[x+4+G]+m[x+8+G],ie=m[x+4+G]-m[x+8+G],ue=m[x+0+G]-m[x+12+G];X[0+G]=J+te,X[8+G]=J-te,X[4+G]=ue+ie,X[12+G]=ue-ie}for(G=0;4>G;++G)J=(m=X[0+4*G]+3)+X[3+4*G],te=X[1+4*G]+X[2+4*G],ie=X[1+4*G]-X[2+4*G],ue=m-X[3+4*G],N[M+0]=J+te>>3,N[M+16]=ue+ie>>3,N[M+32]=J-te>>3,N[M+48]=ue-ie>>3,M+=64}function Fs(m,x,N){var M,G=x-32,X=ji,J=255-m[G-1];for(M=0;M<N;++M){var te,ie=X,ue=J+m[x-1];for(te=0;te<N;++te)m[x+te]=ie[ue+m[G+te]];x+=32}}function Yc(m,x){Fs(m,x,4)}function il(m,x){Fs(m,x,8)}function Xc(m,x){Fs(m,x,16)}function Vs(m,x){var N;for(N=0;16>N;++N)r(m,x+32*N,m,x-32,16)}function va(m,x){var N;for(N=16;0<N;--N)i(m,x,m[x-1],16),x+=32}function $o(m,x,N){var M;for(M=0;16>M;++M)i(x,N+32*M,m,16)}function ys(m,x){var N,M=16;for(N=0;16>N;++N)M+=m[x-1+32*N]+m[x+N-32];$o(M>>5,m,x)}function gn(m,x){var N,M=8;for(N=0;16>N;++N)M+=m[x-1+32*N];$o(M>>4,m,x)}function vs(m,x){var N,M=8;for(N=0;16>N;++N)M+=m[x+N-32];$o(M>>4,m,x)}function Ki(m,x){$o(128,m,x)}function kt(m,x,N){return m+2*x+N+2>>2}function Yi(m,x){var N,M=x-32;for(M=new Uint8Array([kt(m[M-1],m[M+0],m[M+1]),kt(m[M+0],m[M+1],m[M+2]),kt(m[M+1],m[M+2],m[M+3]),kt(m[M+2],m[M+3],m[M+4])]),N=0;4>N;++N)r(m,x+32*N,M,0,M.length)}function Bs(m,x){var N=m[x-1],M=m[x-1+32],G=m[x-1+64],X=m[x-1+96];Ve(m,x+0,16843009*kt(m[x-1-32],N,M)),Ve(m,x+32,16843009*kt(N,M,G)),Ve(m,x+64,16843009*kt(M,G,X)),Ve(m,x+96,16843009*kt(G,X,X))}function Us(m,x){var N,M=4;for(N=0;4>N;++N)M+=m[x+N-32]+m[x-1+32*N];for(M>>=3,N=0;4>N;++N)i(m,x+32*N,M,4)}function $l(m,x){var N=m[x-1+0],M=m[x-1+32],G=m[x-1+64],X=m[x-1-32],J=m[x+0-32],te=m[x+1-32],ie=m[x+2-32],ue=m[x+3-32];m[x+0+96]=kt(M,G,m[x-1+96]),m[x+1+96]=m[x+0+64]=kt(N,M,G),m[x+2+96]=m[x+1+64]=m[x+0+32]=kt(X,N,M),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=kt(J,X,N),m[x+3+64]=m[x+2+32]=m[x+1+0]=kt(te,J,X),m[x+3+32]=m[x+2+0]=kt(ie,te,J),m[x+3+0]=kt(ue,ie,te)}function ii(m,x){var N=m[x+1-32],M=m[x+2-32],G=m[x+3-32],X=m[x+4-32],J=m[x+5-32],te=m[x+6-32],ie=m[x+7-32];m[x+0+0]=kt(m[x+0-32],N,M),m[x+1+0]=m[x+0+32]=kt(N,M,G),m[x+2+0]=m[x+1+32]=m[x+0+64]=kt(M,G,X),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=kt(G,X,J),m[x+3+32]=m[x+2+64]=m[x+1+96]=kt(X,J,te),m[x+3+64]=m[x+2+96]=kt(J,te,ie),m[x+3+96]=kt(te,ie,ie)}function sl(m,x){var N=m[x-1+0],M=m[x-1+32],G=m[x-1+64],X=m[x-1-32],J=m[x+0-32],te=m[x+1-32],ie=m[x+2-32],ue=m[x+3-32];m[x+0+0]=m[x+1+64]=X+J+1>>1,m[x+1+0]=m[x+2+64]=J+te+1>>1,m[x+2+0]=m[x+3+64]=te+ie+1>>1,m[x+3+0]=ie+ue+1>>1,m[x+0+96]=kt(G,M,N),m[x+0+64]=kt(M,N,X),m[x+0+32]=m[x+1+96]=kt(N,X,J),m[x+1+32]=m[x+2+96]=kt(X,J,te),m[x+2+32]=m[x+3+96]=kt(J,te,ie),m[x+3+32]=kt(te,ie,ue)}function ol(m,x){var N=m[x+0-32],M=m[x+1-32],G=m[x+2-32],X=m[x+3-32],J=m[x+4-32],te=m[x+5-32],ie=m[x+6-32],ue=m[x+7-32];m[x+0+0]=N+M+1>>1,m[x+1+0]=m[x+0+64]=M+G+1>>1,m[x+2+0]=m[x+1+64]=G+X+1>>1,m[x+3+0]=m[x+2+64]=X+J+1>>1,m[x+0+32]=kt(N,M,G),m[x+1+32]=m[x+0+96]=kt(M,G,X),m[x+2+32]=m[x+1+96]=kt(G,X,J),m[x+3+32]=m[x+2+96]=kt(X,J,te),m[x+3+64]=kt(J,te,ie),m[x+3+96]=kt(te,ie,ue)}function vo(m,x){var N=m[x-1+0],M=m[x-1+32],G=m[x-1+64],X=m[x-1+96];m[x+0+0]=N+M+1>>1,m[x+2+0]=m[x+0+32]=M+G+1>>1,m[x+2+32]=m[x+0+64]=G+X+1>>1,m[x+1+0]=kt(N,M,G),m[x+3+0]=m[x+1+32]=kt(M,G,X),m[x+3+32]=m[x+1+64]=kt(G,X,X),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=X}function wa(m,x){var N=m[x-1+0],M=m[x-1+32],G=m[x-1+64],X=m[x-1+96],J=m[x-1-32],te=m[x+0-32],ie=m[x+1-32],ue=m[x+2-32];m[x+0+0]=m[x+2+32]=N+J+1>>1,m[x+0+32]=m[x+2+64]=M+N+1>>1,m[x+0+64]=m[x+2+96]=G+M+1>>1,m[x+0+96]=X+G+1>>1,m[x+3+0]=kt(te,ie,ue),m[x+2+0]=kt(J,te,ie),m[x+1+0]=m[x+3+32]=kt(N,J,te),m[x+1+32]=m[x+3+64]=kt(M,N,J),m[x+1+64]=m[x+3+96]=kt(G,M,N),m[x+1+96]=kt(X,G,M)}function Qc(m,x){var N;for(N=0;8>N;++N)r(m,x+32*N,m,x-32,8)}function Ii(m,x){var N;for(N=0;8>N;++N)i(m,x,m[x-1],8),x+=32}function si(m,x,N){var M;for(M=0;8>M;++M)i(x,N+32*M,m,8)}function mi(m,x){var N,M=8;for(N=0;8>N;++N)M+=m[x+N-32]+m[x-1+32*N];si(M>>4,m,x)}function Ho(m,x){var N,M=4;for(N=0;8>N;++N)M+=m[x+N-32];si(M>>3,m,x)}function Tn(m,x){var N,M=4;for(N=0;8>N;++N)M+=m[x-1+32*N];si(M>>3,m,x)}function Hl(m,x){si(128,m,x)}function Go(m,x,N){var M=m[x-N],G=m[x+0],X=3*(G-M)+ea[1020+m[x-2*N]-m[x+N]],J=cu[112+(X+4>>3)];m[x-N]=ji[255+M+cu[112+(X+3>>3)]],m[x+0]=ji[255+G-J]}function Ko(m,x,N,M){var G=m[x+0],X=m[x+N];return $s[255+m[x-2*N]-m[x-N]]>M||$s[255+X-G]>M}function ba(m,x,N,M){return 4*$s[255+m[x-N]-m[x+0]]+$s[255+m[x-2*N]-m[x+N]]<=M}function al(m,x,N,M,G){var X=m[x-3*N],J=m[x-2*N],te=m[x-N],ie=m[x+0],ue=m[x+N],be=m[x+2*N],Ne=m[x+3*N];return 4*$s[255+te-ie]+$s[255+J-ue]>M?0:$s[255+m[x-4*N]-X]<=G&&$s[255+X-J]<=G&&$s[255+J-te]<=G&&$s[255+Ne-be]<=G&&$s[255+be-ue]<=G&&$s[255+ue-ie]<=G}function gi(m,x,N,M){var G=2*M+1;for(M=0;16>M;++M)ba(m,x+M,N,G)&&Go(m,x+M,N)}function ki(m,x,N,M){var G=2*M+1;for(M=0;16>M;++M)ba(m,x+M*N,1,G)&&Go(m,x+M*N,1)}function mr(m,x,N,M){var G;for(G=3;0<G;--G)gi(m,x+=4*N,N,M)}function Gl(m,x,N,M){var G;for(G=3;0<G;--G)ki(m,x+=4,N,M)}function ws(m,x,N,M,G,X,J,te){for(X=2*X+1;0<G--;){if(al(m,x,N,X,J))if(Ko(m,x,N,te))Go(m,x,N);else{var ie=m,ue=x,be=N,Ne=ie[ue-2*be],Ie=ie[ue-be],Ce=ie[ue+0],$e=ie[ue+be],je=ie[ue+2*be],_e=27*(ze=ea[1020+3*(Ce-Ie)+ea[1020+Ne-$e]])+63>>7,Se=18*ze+63>>7,ze=9*ze+63>>7;ie[ue-3*be]=ji[255+ie[ue-3*be]+ze],ie[ue-2*be]=ji[255+Ne+Se],ie[ue-be]=ji[255+Ie+_e],ie[ue+0]=ji[255+Ce-_e],ie[ue+be]=ji[255+$e-Se],ie[ue+2*be]=ji[255+je-ze]}x+=M}}function kr(m,x,N,M,G,X,J,te){for(X=2*X+1;0<G--;){if(al(m,x,N,X,J))if(Ko(m,x,N,te))Go(m,x,N);else{var ie=m,ue=x,be=N,Ne=ie[ue-be],Ie=ie[ue+0],Ce=ie[ue+be],$e=cu[112+((je=3*(Ie-Ne))+4>>3)],je=cu[112+(je+3>>3)],_e=$e+1>>1;ie[ue-2*be]=ji[255+ie[ue-2*be]+_e],ie[ue-be]=ji[255+Ne+je],ie[ue+0]=ji[255+Ie-$e],ie[ue+be]=ji[255+Ce-_e]}x+=M}}function xa(m,x,N,M,G,X){ws(m,x,N,1,16,M,G,X)}function sr(m,x,N,M,G,X){ws(m,x,1,N,16,M,G,X)}function bs(m,x,N,M,G,X){var J;for(J=3;0<J;--J)kr(m,x+=4*N,N,1,16,M,G,X)}function wo(m,x,N,M,G,X){var J;for(J=3;0<J;--J)kr(m,x+=4,1,N,16,M,G,X)}function zs(m,x,N,M,G,X,J,te){ws(m,x,G,1,8,X,J,te),ws(N,M,G,1,8,X,J,te)}function Kl(m,x,N,M,G,X,J,te){ws(m,x,1,G,8,X,J,te),ws(N,M,1,G,8,X,J,te)}function Yo(m,x,N,M,G,X,J,te){kr(m,x+4*G,G,1,8,X,J,te),kr(N,M+4*G,G,1,8,X,J,te)}function qs(m,x,N,M,G,X,J,te){kr(m,x+4,1,G,8,X,J,te),kr(N,M+4,1,G,8,X,J,te)}function xs(){this.ba=new fr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ll(){this.ua=0,this.Wa=new me,this.vb=new me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new j}function Jc(){this.xb=this.a=0,this.l=new ga,this.ca=new fr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ll,this.ab=0,this.gc=o(4,Xo),this.Oc=0}function xo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ga,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ws(m,x,N,M,G,X,J){for(m=m==null?0:m[x+0],x=0;x<J;++x)G[X+x]=m+N[M+x]&255,m=G[X+x]}function cl(m,x,N,M,G,X,J){var te;if(m==null)Ws(null,null,N,M,G,X,J);else for(te=0;te<J;++te)G[X+te]=m[x+te]+N[M+te]&255}function yi(m,x,N,M,G,X,J){if(m==null)Ws(null,null,N,M,G,X,J);else{var te,ie=m[x+0],ue=ie,be=ie;for(te=0;te<J;++te)ue=be+(ie=m[x+te])-ue,be=N[M+te]+(-256&ue?0>ue?0:255:ue)&255,ue=ie,G[X+te]=be}}function ul(m,x,N,M){var G=x.width,X=x.o;if(e(m!=null&&x!=null),0>N||0>=M||N+M>X)return null;if(!m.Cc){if(m.ga==null){var J;if(m.ga=new xo,(J=m.ga==null)||(J=x.width*x.o,e(m.Gb.length==0),m.Gb=s(J),m.Uc=0,m.Gb==null?J=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,J=1),J=!J),!J){J=m.ga;var te=m.Fa,ie=m.P,ue=m.qc,be=m.mb,Ne=m.nb,Ie=ie+1,Ce=ue-1,$e=J.l;if(e(te!=null&&be!=null&&x!=null),bi[0]=null,bi[1]=Ws,bi[2]=cl,bi[3]=yi,J.ca=be,J.tb=Ne,J.c=x.width,J.i=x.height,e(0<J.c&&0<J.i),1>=ue)x=0;else if(J.$a=te[ie+0]>>0&3,J.Z=te[ie+0]>>2&3,J.Lc=te[ie+0]>>4&3,ie=te[ie+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||ie)x=0;else if($e.put=Yr,$e.ac=xr,$e.bc=$i,$e.ma=J,$e.width=x.width,$e.height=x.height,$e.Da=x.Da,$e.v=x.v,$e.va=x.va,$e.j=x.j,$e.o=x.o,J.$a)e:{e(J.$a==1),x=hr();t:for(;;){if(x==null){x=0;break e}if(e(J!=null),J.mc=x,x.c=J.c,x.i=J.i,x.l=J.l,x.l.ma=J,x.l.width=J.c,x.l.height=J.i,x.a=0,re(x.m,te,Ie,Ce),!gs(J.c,J.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&uo(x.s)?(J.ic=1,te=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(te),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(J.ic=0,x=fo(x,J.c)),!x))break t;x=1;break e}J.mc=null,x=0}else x=Ce>=J.c*J.i;J=!x}if(J)return null;m.ga.Lc!=1?m.Ga=0:M=X-N}e(m.ga!=null),e(N+M<=X);e:{if(x=(te=m.ga).c,X=te.l.o,te.$a==0){if(Ie=m.rc,Ce=m.Vc,$e=m.Fa,ie=m.P+1+N*x,ue=m.mb,be=m.nb+N*x,e(ie<=m.P+m.qc),te.Z!=0)for(e(bi[te.Z]!=null),J=0;J<M;++J)bi[te.Z](Ie,Ce,$e,ie,ue,be,x),Ie=ue,Ce=be,be+=x,ie+=x;else for(J=0;J<M;++J)r(ue,be,$e,ie,x),Ie=ue,Ce=be,be+=x,ie+=x;m.rc=Ie,m.Vc=Ce}else{if(e(te.mc!=null),x=N+M,e((J=te.mc)!=null),e(x<=J.i),J.C>=x)x=1;else if(te.ic||Pe(),te.ic){te=J.V,Ie=J.Ba,Ce=J.c;var je=J.i,_e=($e=1,ie=J.$/Ce,ue=J.$%Ce,be=J.m,Ne=J.s,J.$),Se=Ce*je,ze=Ce*x,Ue=Ne.wc,qe=_e<ze?Kn(Ne,ue,ie):null;e(_e<=Se),e(x<=je),e(uo(Ne));t:for(;;){for(;!be.h&&_e<ze;){if(ue&Ue||(qe=Kn(Ne,ue,ie)),e(qe!=null),fe(be),256>(je=Ir(qe.G[0],qe.H[0],be)))te[Ie+_e]=je,++_e,++ue>=Ce&&(ue=0,++ie<=x&&!(ie%16)&&Hi(J,ie));else{if(!(280>je)){$e=0;break t}je=fi(je-256,be);var ht,ct=Ir(qe.G[4],qe.H[4],be);if(fe(be),!(_e>=(ct=Nr(Ce,ct=fi(ct,be)))&&Se-_e>=je)){$e=0;break t}for(ht=0;ht<je;++ht)te[Ie+_e+ht]=te[Ie+_e+ht-ct];for(_e+=je,ue+=je;ue>=Ce;)ue-=Ce,++ie<=x&&!(ie%16)&&Hi(J,ie);_e<ze&&ue&Ue&&(qe=Kn(Ne,ue,ie))}e(be.h==ee(be))}Hi(J,ie>x?x:ie);break t}!$e||be.h&&_e<Se?($e=0,J.a=be.h?5:3):J.$=_e,x=$e}else x=_r(J,J.V,J.Ba,J.c,J.i,x,ho);if(!x){M=0;break e}}N+M>=X&&(m.Cc=1),M=1}if(!M)return null;if(m.Cc&&((M=m.ga)!=null&&(M.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+N*G}function A(m,x,N,M,G,X){for(;0<G--;){var J,te=m,ie=x+(N?1:0),ue=m,be=x+(N?0:3);for(J=0;J<M;++J){var Ne=ue[be+4*J];Ne!=255&&(Ne*=32897,te[ie+4*J+0]=te[ie+4*J+0]*Ne>>23,te[ie+4*J+1]=te[ie+4*J+1]*Ne>>23,te[ie+4*J+2]=te[ie+4*J+2]*Ne>>23)}x+=X}}function Y(m,x,N,M,G){for(;0<M--;){var X;for(X=0;X<N;++X){var J=m[x+2*X+0],te=15&(ue=m[x+2*X+1]),ie=4369*te,ue=(240&ue|ue>>4)*ie>>16;m[x+2*X+0]=(240&J|J>>4)*ie>>16&240|(15&J|J<<4)*ie>>16>>4&15,m[x+2*X+1]=240&ue|te}x+=G}}function he(m,x,N,M,G,X,J,te){var ie,ue,be=255;for(ue=0;ue<G;++ue){for(ie=0;ie<M;++ie){var Ne=m[x+ie];X[J+4*ie]=Ne,be&=Ne}x+=N,J+=te}return be!=255}function ve(m,x,N,M,G){var X;for(X=0;X<G;++X)N[M+X]=m[x+X]>>8}function Pe(){Xi=A,Un=Y,kn=he,yr=ve}function Be(m,x,N){L[m]=function(M,G,X,J,te,ie,ue,be,Ne,Ie,Ce,$e,je,_e,Se,ze,Ue){var qe,ht=Ue-1>>1,ct=te[ie+0]|ue[be+0]<<16,Ct=Ne[Ie+0]|Ce[$e+0]<<16;e(M!=null);var ut=3*ct+Ct+131074>>2;for(x(M[G+0],255&ut,ut>>16,je,_e),X!=null&&(ut=3*Ct+ct+131074>>2,x(X[J+0],255&ut,ut>>16,Se,ze)),qe=1;qe<=ht;++qe){var yn=te[ie+qe]|ue[be+qe]<<16,vn=Ne[Ie+qe]|Ce[$e+qe]<<16,cn=ct+yn+Ct+vn+524296,Xt=cn+2*(yn+Ct)>>3;ut=Xt+ct>>1,ct=(cn=cn+2*(ct+vn)>>3)+yn>>1,x(M[G+2*qe-1],255&ut,ut>>16,je,_e+(2*qe-1)*N),x(M[G+2*qe-0],255&ct,ct>>16,je,_e+(2*qe-0)*N),X!=null&&(ut=cn+Ct>>1,ct=Xt+vn>>1,x(X[J+2*qe-1],255&ut,ut>>16,Se,ze+(2*qe-1)*N),x(X[J+2*qe+0],255&ct,ct>>16,Se,ze+(2*qe+0)*N)),ct=yn,Ct=vn}1&Ue||(ut=3*ct+Ct+131074>>2,x(M[G+Ue-1],255&ut,ut>>16,je,_e+(Ue-1)*N),X!=null&&(ut=3*Ct+ct+131074>>2,x(X[J+Ue-1],255&ut,ut>>16,Se,ze+(Ue-1)*N)))}}function Ke(){Ji[If]=Nv,Ji[pl]=ml,Ji[Qm]=Iv,Ji[md]=hu,Ji[gd]=sc,Ji[zn]=xd,Ji[kf]=Qh,Ji[uu]=ml,Ji[nc]=hu,Ji[yd]=sc,Ji[vd]=xd}function lt(m){return m&-16384?0>m?0:255:m>>gl}function v(m,x){return lt((19077*m>>8)+(26149*x>>8)-14234)}function R(m,x,N){return lt((19077*m>>8)-(6419*x>>8)-(13320*N>>8)+8708)}function U(m,x){return lt((19077*m>>8)+(33050*x>>8)-17685)}function ne(m,x,N,M,G){M[G+0]=v(m,N),M[G+1]=R(m,x,N),M[G+2]=U(m,x)}function Ae(m,x,N,M,G){M[G+0]=U(m,x),M[G+1]=R(m,x,N),M[G+2]=v(m,N)}function Re(m,x,N,M,G){var X=R(m,x,N);x=X<<3&224|U(m,x)>>3,M[G+0]=248&v(m,N)|X>>5,M[G+1]=x}function Xe(m,x,N,M,G){var X=240&U(m,x)|15;M[G+0]=240&v(m,N)|R(m,x,N)>>4,M[G+1]=X}function $t(m,x,N,M,G){M[G+0]=255,ne(m,x,N,M,G+1)}function sn(m,x,N,M,G){Ae(m,x,N,M,G),M[G+3]=255}function Ht(m,x,N,M,G){ne(m,x,N,M,G),M[G+3]=255}function En(m,x){return 0>m?0:m>x?x:m}function In(m,x,N){L[m]=function(M,G,X,J,te,ie,ue,be,Ne){for(var Ie=be+(-2&Ne)*N;be!=Ie;)x(M[G+0],X[J+0],te[ie+0],ue,be),x(M[G+1],X[J+0],te[ie+0],ue,be+N),G+=2,++J,++ie,be+=2*N;1&Ne&&x(M[G+0],X[J+0],te[ie+0],ue,be)}}function Ri(m,x,N){return N==0?m==0?x==0?6:5:x==0?4:0:N}function oi(m,x,N,M,G){switch(m>>>30){case 3:Ea(x,N,M,G,0);break;case 2:xn(x,N,M,G);break;case 1:wi(x,N,M,G)}}function _o(m,x){var N,M,G=x.M,X=x.Nb,J=m.oc,te=m.pc+40,ie=m.oc,ue=m.pc+584,be=m.oc,Ne=m.pc+600;for(N=0;16>N;++N)J[te+32*N-1]=129;for(N=0;8>N;++N)ie[ue+32*N-1]=129,be[Ne+32*N-1]=129;for(0<G?J[te-1-32]=ie[ue-1-32]=be[Ne-1-32]=129:(i(J,te-32-1,127,21),i(ie,ue-32-1,127,9),i(be,Ne-32-1,127,9)),M=0;M<m.za;++M){var Ie=x.ya[x.aa+M];if(0<M){for(N=-1;16>N;++N)r(J,te+32*N-4,J,te+32*N+12,4);for(N=-1;8>N;++N)r(ie,ue+32*N-4,ie,ue+32*N+4,4),r(be,Ne+32*N-4,be,Ne+32*N+4,4)}var Ce=m.Gd,$e=m.Hd+M,je=Ie.ad,_e=Ie.Hc;if(0<G&&(r(J,te-32,Ce[$e].y,0,16),r(ie,ue-32,Ce[$e].f,0,8),r(be,Ne-32,Ce[$e].ea,0,8)),Ie.Za){var Se=J,ze=te-32+16;for(0<G&&(M>=m.za-1?i(Se,ze,Ce[$e].y[15],4):r(Se,ze,Ce[$e+1].y,0,4)),N=0;4>N;N++)Se[ze+128+N]=Se[ze+256+N]=Se[ze+384+N]=Se[ze+0+N];for(N=0;16>N;++N,_e<<=2)Se=J,ze=te+Jh[N],Hs[Ie.Ob[N]](Se,ze),oi(_e,je,16*+N,Se,ze)}else if(Se=Ri(M,G,Ie.Ob[0]),Mi[Se](J,te),_e!=0)for(N=0;16>N;++N,_e<<=2)oi(_e,je,16*+N,J,te+Jh[N]);for(N=Ie.Gc,Se=Ri(M,G,Ie.Dd),Qi[Se](ie,ue),Qi[Se](be,Ne),_e=je,Se=ie,ze=ue,255&(Ie=N>>0)&&(170&Ie?Aa(_e,256,Se,ze):_s(_e,256,Se,ze)),Ie=be,_e=Ne,255&(N>>=8)&&(170&N?Aa(je,320,Ie,_e):_s(je,320,Ie,_e)),G<m.Ub-1&&(r(Ce[$e].y,0,J,te+480,16),r(Ce[$e].f,0,ie,ue+224,8),r(Ce[$e].ea,0,be,Ne+224,8)),N=8*X*m.B,Ce=m.sa,$e=m.ta+16*M+16*X*m.R,je=m.qa,Ie=m.ra+8*M+N,_e=m.Ha,Se=m.Ia+8*M+N,N=0;16>N;++N)r(Ce,$e+N*m.R,J,te+32*N,16);for(N=0;8>N;++N)r(je,Ie+N*m.B,ie,ue+32*N,8),r(_e,Se+N*m.B,be,Ne+32*N,8)}}function So(m,x,N,M,G,X,J,te,ie){var ue=[0],be=[0],Ne=0,Ie=ie!=null?ie.kd:0,Ce=ie??new bo;if(m==null||12>N)return 7;Ce.data=m,Ce.w=x,Ce.ha=N,x=[x],N=[N],Ce.gb=[Ce.gb];e:{var $e=x,je=N,_e=Ce.gb;if(e(m!=null),e(je!=null),e(_e!=null),_e[0]=0,12<=je[0]&&!n(m,$e[0],"RIFF")){if(n(m,$e[0]+8,"WEBP")){_e=3;break e}var Se=Qe(m,$e[0]+4);if(12>Se||4294967286<Se){_e=3;break e}if(Ie&&Se>je[0]-8){_e=7;break e}_e[0]=Se,$e[0]+=12,je[0]-=12}_e=0}if(_e!=0)return _e;for(Se=0<Ce.gb[0],N=N[0];;){e:{var ze=m;je=x,_e=N;var Ue=ue,qe=be,ht=$e=[0];if((ut=Ne=[Ne])[0]=0,8>_e[0])_e=7;else{if(!n(ze,je[0],"VP8X")){if(Qe(ze,je[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var ct=Qe(ze,je[0]+8),Ct=1+Ye(ze,je[0]+12);if(2147483648<=Ct*(ze=1+Ye(ze,je[0]+15))){_e=3;break e}ht!=null&&(ht[0]=ct),Ue!=null&&(Ue[0]=Ct),qe!=null&&(qe[0]=ze),je[0]+=18,_e[0]-=18,ut[0]=1}_e=0}}if(Ne=Ne[0],$e=$e[0],_e!=0)return _e;if(je=!!(2&$e),!Se&&Ne)return 3;if(X!=null&&(X[0]=!!(16&$e)),J!=null&&(J[0]=je),te!=null&&(te[0]=0),J=ue[0],$e=be[0],Ne&&je&&ie==null){_e=0;break}if(4>N){_e=7;break}if(Se&&Ne||!Se&&!Ne&&!n(m,x[0],"ALPH")){N=[N],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{ct=m,_e=x,Se=N;var ut=Ce.gb;Ue=Ce.na,qe=Ce.P,ht=Ce.Sa,Ct=22,e(ct!=null),e(Se!=null),ze=_e[0];var yn=Se[0];for(e(Ue!=null),e(ht!=null),Ue[0]=null,qe[0]=null,ht[0]=0;;){if(_e[0]=ze,Se[0]=yn,8>yn){_e=7;break e}var vn=Qe(ct,ze+4);if(4294967286<vn){_e=3;break e}var cn=8+vn+1&-2;if(Ct+=cn,0<ut&&Ct>ut){_e=3;break e}if(!n(ct,ze,"VP8 ")||!n(ct,ze,"VP8L")){_e=0;break e}if(yn[0]<cn){_e=7;break e}n(ct,ze,"ALPH")||(Ue[0]=ct,qe[0]=ze+8,ht[0]=vn),ze+=cn,yn-=cn}}if(N=N[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],_e!=0)break}N=[N],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(ut=m,_e=x,Se=N,Ue=Ce.gb[0],qe=Ce.Ja,ht=Ce.xa,ct=_e[0],ze=!n(ut,ct,"VP8 "),Ct=!n(ut,ct,"VP8L"),e(ut!=null),e(Se!=null),e(qe!=null),e(ht!=null),8>Se[0])_e=7;else{if(ze||Ct){if(ut=Qe(ut,ct+4),12<=Ue&&ut>Ue-12){_e=3;break e}if(Ie&&ut>Se[0]-8){_e=7;break e}qe[0]=ut,_e[0]+=8,Se[0]-=8,ht[0]=Ct}else ht[0]=5<=Se[0]&&ut[ct+0]==47&&!(ut[ct+4]>>5),qe[0]=Se[0];_e=0}if(N=N[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],x=x[0],_e!=0)break;if(4294967286<Ce.Ja)return 3;if(te==null||je||(te[0]=Ce.xa?2:1),J=[J],$e=[$e],Ce.xa){if(5>N){_e=7;break}te=J,Ie=$e,je=X,m==null||5>N?m=0:5<=N&&m[x+0]==47&&!(m[x+4]>>5)?(Se=[0],ut=[0],Ue=[0],re(qe=new V,m,x,N),pt(qe,Se,ut,Ue)?(te!=null&&(te[0]=Se[0]),Ie!=null&&(Ie[0]=ut[0]),je!=null&&(je[0]=Ue[0]),m=1):m=0):m=0}else{if(10>N){_e=7;break}te=$e,m==null||10>N||!ql(m,x+3,N-3)?m=0:(Ie=m[x+0]|m[x+1]<<8|m[x+2]<<16,je=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Ce.Ja||!je||!m?m=0:(J&&(J[0]=je),te&&(te[0]=m),m=1))}if(!m||(J=J[0],$e=$e[0],Ne&&(ue[0]!=J||be[0]!=$e)))return 3;ie!=null&&(ie[0]=Ce,ie.offset=x-ie.w,e(4294967286>x-ie.w),e(ie.offset==ie.ha-N));break}return _e==0||_e==7&&Ne&&ie==null?(X!=null&&(X[0]|=Ce.na!=null&&0<Ce.na.length),M!=null&&(M[0]=J),G!=null&&(G[0]=$e),0):_e}function Zc(m,x,N){var M=x.width,G=x.height,X=0,J=0,te=M,ie=G;if(x.Da=m!=null&&0<m.Da,x.Da&&(te=m.cd,ie=m.bd,X=m.v,J=m.j,11>N||(X&=-2,J&=-2),0>X||0>J||0>=te||0>=ie||X+te>M||J+ie>G))return 0;if(x.v=X,x.j=J,x.va=X+te,x.o=J+ie,x.U=te,x.T=ie,x.da=m!=null&&0<m.da,x.da){if(!_t(te,ie,N=[m.ib],X=[m.hb]))return 0;x.ib=N[0],x.hb=X[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*M/4&&x.hb<3*G/4,x.Kb=0),1}function eu(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Yl(m,x,N,M){if(M==null||0>=m||0>=x)return 2;if(N!=null){if(N.Da){var G=N.cd,X=N.bd,J=-2&N.v,te=-2&N.j;if(0>J||0>te||0>=G||0>=X||J+G>m||te+X>x)return 2;m=G,x=X}if(N.da){if(!_t(m,x,G=[N.ib],X=[N.hb]))return 2;m=G[0],x=X[0]}}M.width=m,M.height=x;e:{var ie=M.width,ue=M.height;if(m=M.S,0>=ie||0>=ue||!(m>=If&&13>m))m=2;else{if(0>=M.Rd&&M.sd==null){J=X=G=x=0;var be=(te=ie*_d[m])*ue;if(11>m||(X=(ue+1)/2*(x=(ie+1)/2),m==12&&(J=(G=ie)*ue)),(ue=s(be+2*X+J))==null){m=1;break e}M.sd=ue,11>m?((ie=M.f.RGBA).eb=ue,ie.fb=0,ie.A=te,ie.size=be):((ie=M.f.kb).y=ue,ie.O=0,ie.fa=te,ie.Fd=be,ie.f=ue,ie.N=0+be,ie.Ab=x,ie.Cd=X,ie.ea=ue,ie.W=0+be+X,ie.Db=x,ie.Ed=X,m==12&&(ie.F=ue,ie.J=0+be+2*X),ie.Tc=J,ie.lb=G)}if(x=1,G=M.S,X=M.width,J=M.height,G>=If&&13>G)if(11>G)m=M.f.RGBA,x&=(te=Math.abs(m.A))*(J-1)+X<=m.size,x&=te>=X*_d[G],x&=m.eb!=null;else{m=M.f.kb,te=(X+1)/2,be=(J+1)/2,ie=Math.abs(m.fa),ue=Math.abs(m.Ab);var Ne=Math.abs(m.Db),Ie=Math.abs(m.lb),Ce=Ie*(J-1)+X;x&=ie*(J-1)+X<=m.Fd,x&=ue*(be-1)+te<=m.Cd,x=(x&=Ne*(be-1)+te<=m.Ed)&ie>=X&ue>=te&Ne>=te,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,G==12&&(x&=Ie>=X,x&=Ce<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||N!=null&&N.fd&&(m=eu(M)),m}var gr=64,tu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],nu=24,ru=32,iu=8,Li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(m){return m},L.Predictor2=function(m,x,N){return x[N+0]},L.Predictor3=function(m,x,N){return x[N+1]},L.Predictor4=function(m,x,N){return x[N-1]},L.Predictor5=function(m,x,N){return at(at(m,x[N+1]),x[N+0])},L.Predictor6=function(m,x,N){return at(m,x[N-1])},L.Predictor7=function(m,x,N){return at(m,x[N+0])},L.Predictor8=function(m,x,N){return at(x[N-1],x[N+0])},L.Predictor9=function(m,x,N){return at(x[N+0],x[N+1])},L.Predictor10=function(m,x,N){return at(at(m,x[N-1]),at(x[N+0],x[N+1]))},L.Predictor11=function(m,x,N){var M=x[N+0];return 0>=jt(M>>24&255,m>>24&255,(x=x[N-1])>>24&255)+jt(M>>16&255,m>>16&255,x>>16&255)+jt(M>>8&255,m>>8&255,x>>8&255)+jt(255&M,255&m,255&x)?M:m},L.Predictor12=function(m,x,N){var M=x[N+0];return(vt((m>>24&255)+(M>>24&255)-((x=x[N-1])>>24&255))<<24|vt((m>>16&255)+(M>>16&255)-(x>>16&255))<<16|vt((m>>8&255)+(M>>8&255)-(x>>8&255))<<8|vt((255&m)+(255&M)-(255&x)))>>>0},L.Predictor13=function(m,x,N){var M=x[N-1];return(It((m=at(m,x[N+0]))>>24&255,M>>24&255)<<24|It(m>>16&255,M>>16&255)<<16|It(m>>8&255,M>>8&255)<<8|It(m>>0&255,M>>0&255))>>>0};var Xl=L.PredictorAdd0;L.PredictorAdd1=St,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var _a=L.PredictorAdd2;Mt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Nf,Di=L.ColorIndexInverseTransform,su=L.MapARGB,fd=L.VP8LColorIndexInverseTransformAlpha,ou=L.MapAlpha,Qo=L.VP8LPredictorsAdd=[];Qo.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var dl,Oi,vi,fl,Sa,Ta,au,Ea,xn,Aa,wi,_s,Ql,hd,Jl,Zl,ec,Ss,Ca,Jo,Pa,Na,hl,ai,Xi,Un,kn,yr,Rr=s(511),Zo=s(2041),lu=s(225),tc=s(767),pd=0,ea=Zo,cu=lu,ji=tc,$s=Rr,If=0,pl=1,Qm=2,md=3,gd=4,zn=5,kf=6,uu=7,nc=8,yd=9,vd=10,wd=[2,3,7],Rf=[3,3,11],rc=[280,256,256,256,40],Jm=[0,1,1,1,0],Ev=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Av=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Lf=8,du=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ic=null,Kh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],eg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Pv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Mi=[],Hs=[],Qi=[],ta=1,fu=2,bi=[],Ji=[];Be("UpsampleRgbLinePair",ne,3),Be("UpsampleBgrLinePair",Ae,3),Be("UpsampleRgbaLinePair",Ht,4),Be("UpsampleBgraLinePair",sn,4),Be("UpsampleArgbLinePair",$t,4),Be("UpsampleRgba4444LinePair",Xe,2),Be("UpsampleRgb565LinePair",Re,2);var Nv=L.UpsampleRgbLinePair,Iv=L.UpsampleBgrLinePair,ml=L.UpsampleRgbaLinePair,hu=L.UpsampleBgraLinePair,sc=L.UpsampleArgbLinePair,xd=L.UpsampleRgba4444LinePair,Qh=L.UpsampleRgb565LinePair,Ia=16,To=1<<Ia-1,Rn=-227,jn=482,gl=6,li=0,Zi=s(256),oc=s(256),pu=s(256),es=s(256),Df=s(jn-Rn),ng=s(jn-Rn);In("YuvToRgbRow",ne,3),In("YuvToBgrRow",Ae,3),In("YuvToRgbaRow",Ht,4),In("YuvToBgraRow",sn,4),In("YuvToArgbRow",$t,4),In("YuvToRgba4444Row",Xe,2),In("YuvToRgb565Row",Re,2);var Jh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ac=[0,2,8],rg=[8,7,6,4,4,2,2,2,1,1,1,1],ka=1;this.WebPDecodeRGBA=function(m,x,N,M,G){var X=pl,J=new xs,te=new fr;J.ba=te,te.S=X,te.width=[te.width],te.height=[te.height];var ie=te.width,ue=te.height,be=new Kr;if(be==null||m==null)var Ne=2;else e(be!=null),Ne=So(m,x,N,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Ne!=0?ie=0:(ie!=null&&(ie[0]=be.width[0]),ue!=null&&(ue[0]=be.height[0]),ie=1),ie){te.width=te.width[0],te.height=te.height[0],M!=null&&(M[0]=te.width),G!=null&&(G[0]=te.height);e:{if(M=new ga,(G=new bo).data=m,G.w=x,G.ha=N,G.kd=1,x=[0],e(G!=null),((m=So(G.data,G.w,G.ha,null,null,null,x,null,G))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(J!=null),M.data=G.data,M.w=G.w+G.offset,M.ha=G.ha-G.offset,M.put=Yr,M.ac=xr,M.bc=$i,M.ma=J,G.xa){if((m=hr())==null){J=1;break e}if(function(Ie,Ce){var $e=[0],je=[0],_e=[0];t:for(;;){if(Ie==null)return 0;if(Ce==null)return Ie.a=2,0;if(Ie.l=Ce,Ie.a=0,re(Ie.m,Ce.data,Ce.w,Ce.ha),!pt(Ie.m,$e,je,_e)){Ie.a=3;break t}if(Ie.xb=fu,Ce.width=$e[0],Ce.height=je[0],!gs($e[0],je[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0}(m,M)){if(M=(x=Yl(M.width,M.height,J.Oa,J.ba))==0){t:{M=m;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((N=M.l)!=null),e((G=N.ma)!=null),M.xb!=0){if(M.ca=G.ba,M.tb=G.tb,e(M.ca!=null),!Zc(G.Oa,N,md)){M.a=2;break n}if(!fo(M,N.width)||N.da)break n;if((N.da||rn(M.ca.S))&&Pe(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Pe()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!nt(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!_r(M,M.V,M.Ba,M.c,M.i,N.o,Fo))break n;G.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(x=m.a)}else x=m.a}else{if((m=new ti)==null){J=1;break e}if(m.Fa=G.na,m.P=G.P,m.qc=G.Sa,Wl(m,M)){if((x=Yl(M.width,M.height,J.Oa,J.ba))==0){if(m.Aa=0,N=J.Oa,e((G=m)!=null),N!=null){if(0<(ie=0>(ie=N.Md)?0:100<ie?255:255*ie/100)){for(ue=be=0;4>ue;++ue)12>(Ne=G.pb[ue]).lc&&(Ne.ia=ie*rg[0>Ne.lc?0:Ne.lc]>>3),be|=Ne.ia;be&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=N.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}zo(m,M)||(x=m.a)}}else x=m.a}x==0&&J.Oa!=null&&J.Oa.fd&&(x=eu(J.ba))}J=x}X=J!=0?null:11>X?te.f.RGBA.eb:te.f.kb.y}else X=null;return X};var _d=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,B){for(var H="",k=0;k<4;k++)H+=String.fromCharCode(L[B++]);return H}function f(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16)>>>0}function h(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16|L[B+3]<<24)>>>0}new c;var g=[0],y=[0],S=[],_=new c,T=t,E=function(L,B){var H={},k=0,j=!1,z=0,oe=0;if(H.frames=[],!function(W,ee,ce,fe){for(var ye=0;ye<fe;ye++)if(W[ee+ye]!=ce.charCodeAt(ye))return!0;return!1}(L,B,"RIFF",4)){for(h(L,B+=4),B+=8;B<L.length;){var de=d(L,B),se=h(L,B+=4);B+=4;var le=se+(1&se);switch(de){case"VP8 ":case"VP8L":H.frames[k]===void 0&&(H.frames[k]={}),(Z=H.frames[k]).src_off=j?oe:B-8,Z.src_size=z+se+8,k++,j&&(j=!1,z=0,oe=0);break;case"VP8X":(Z=H.header={}).feature_flags=L[B];var re=B+4;Z.canvas_width=1+f(L,re),re+=3,Z.canvas_height=1+f(L,re),re+=3;break;case"ALPH":j=!0,z=le+8,oe=B-8;break;case"ANIM":(Z=H.header).bgcolor=h(L,B),re=B+4,Z.loop_count=(q=L)[(V=re)+0]<<0|q[V+1]<<8,re+=2;break;case"ANMF":var pe,Z;(Z=H.frames[k]={}).offset_x=2*f(L,B),B+=3,Z.offset_y=2*f(L,B),B+=3,Z.width=1+f(L,B),B+=3,Z.height=1+f(L,B),B+=3,Z.duration=f(L,B),B+=3,pe=L[B++],Z.dispose=1&pe,Z.blend=pe>>1&1}de!="ANMF"&&(B+=le)}var q,V;return H}}(T,0);E.response=T,E.rgbaoutput=!0,E.dataurl=!1;var C=E.header?E.header:null,I=E.frames?E.frames:null;if(C){C.loop_counter=C.loop_count,g=[C.canvas_height],y=[C.canvas_width];for(var D=0;D<I.length&&I[D].blend!=0;D++);}var K=I[0],ae=_.WebPDecodeRGBA(T,K.src_off,K.src_size,y,g);K.rgba=ae,K.imgwidth=y[0],K.imgheight=g[0];for(var F=0;F<y[0]*g[0]*4;F++)S[F]=ae[F];return this.width=y,this.height=g,this.data=S,this}(function(t){var e=function(){return typeof jw=="function"},n=function(g,y,S,_){var T=4,E=o;switch(_){case t.image_compression.FAST:T=1,E=s;break;case t.image_compression.MEDIUM:T=6,E=a;break;case t.image_compression.SLOW:T=9,E=c}g=r(g,y,S,E);var C=jw(g,{level:T});return t.__addimage__.arrayBufferToBinaryString(C)},r=function(g,y,S,_){for(var T,E,C,I=g.length/y,D=new Uint8Array(g.length+I),K=f(),ae=0;ae<I;ae+=1){if(C=ae*y,T=g.subarray(C,C+y),_)D.set(_(T,S,E),C+ae);else{for(var F,L=K.length,B=[];F<L;F+=1)B[F]=K[F](T,S,E);var H=h(B.concat());D.set(B[H],C+ae)}E=T}return D},i=function(g){var y=Array.apply([],g);return y.unshift(0),y},s=function(g,y){var S,_=[],T=g.length;_[0]=1;for(var E=0;E<T;E+=1)S=g[E-y]||0,_[E+1]=g[E]-S+256&255;return _},o=function(g,y,S){var _,T=[],E=g.length;T[0]=2;for(var C=0;C<E;C+=1)_=S&&S[C]||0,T[C+1]=g[C]-_+256&255;return T},a=function(g,y,S){var _,T,E=[],C=g.length;E[0]=3;for(var I=0;I<C;I+=1)_=g[I-y]||0,T=S&&S[I]||0,E[I+1]=g[I]+256-(_+T>>>1)&255;return E},c=function(g,y,S){var _,T,E,C,I=[],D=g.length;I[0]=4;for(var K=0;K<D;K+=1)_=g[K-y]||0,T=S&&S[K]||0,E=S&&S[K-y]||0,C=d(_,T,E),I[K+1]=g[K]-C+256&255;return I},d=function(g,y,S){if(g===y&&y===S)return g;var _=Math.abs(y-S),T=Math.abs(g-S),E=Math.abs(g+y-S-S);return _<=T&&_<=E?g:T<=E?y:S},f=function(){return[i,s,o,a,c]},h=function(g){var y=g.map(function(S){return S.reduce(function(_,T){return _+Math.abs(T)},0)});return y.indexOf(Math.min.apply(null,y))};t.processPNG=function(g,y,S,_){var T,E,C,I,D,K,ae,F,L,B,H,k,j,z,oe,de=this.decode.FLATE_DECODE,se="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(C=new tG(g)).imgData,E=C.bits,T=C.colorSpace,D=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){L=(F=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,H=new Uint8Array(L*C.colors),B=new Uint8Array(L);var le,re=C.pixelBitlength-C.bits;for(z=0,oe=0;z<L;z++){for(j=F[z],le=0;le<re;)H[oe++]=j>>>le&255,le+=C.bits;B[z]=j>>>le&255}}if(C.bits===16){L=(F=new Uint32Array(C.decodePixels().buffer)).length,H=new Uint8Array(L*(32/C.pixelBitlength)*C.colors),B=new Uint8Array(L*(32/C.pixelBitlength)),k=C.colors>1,z=0,oe=0;for(var pe=0;z<L;)j=F[z++],H[oe++]=j>>>0&255,k&&(H[oe++]=j>>>16&255,j=F[z++],H[oe++]=j>>>0&255),B[pe++]=j>>>16&255;E=8}_!==t.image_compression.NONE&&e()?(g=n(H,C.width*C.colors,C.colors,_),ae=n(B,C.width,1,_)):(g=H,ae=B,de=void 0)}if(C.colorType===3&&(T=this.color_spaces.INDEXED,K=C.palette,C.transparency.indexed)){var Z=C.transparency.indexed,q=0;for(z=0,L=Z.length;z<L;++z)q+=Z[z];if((q/=255)===L-1&&Z.indexOf(0)!==-1)I=[Z.indexOf(0)];else if(q!==L){for(F=C.decodePixels(),B=new Uint8Array(F.length),z=0,L=F.length;z<L;z++)B[z]=Z[F[z]];ae=n(B,C.width,1)}}var V=function(W){var ee;switch(W){case t.image_compression.FAST:ee=11;break;case t.image_compression.MEDIUM:ee=13;break;case t.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(_);return de===this.decode.FLATE_DECODE&&(se="/Predictor "+V+" "),se+="/Colors "+D+" /BitsPerComponent "+E+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(ae&&this.__addimage__.isArrayBuffer(ae)||this.__addimage__.isArrayBufferView(ae))&&(ae=this.__addimage__.arrayBufferToBinaryString(ae)),{alias:S,data:g,index:y,filter:de,decodeParameters:se,transparency:I,palette:K,sMask:ae,predictor:V,width:C.width,height:C.height,bitsPerComponent:E,colorSpace:T}}}})(Dt.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new nG(e),o=s.width,a=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:a},f=new u2(100).encode(d,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(Dt.API),qa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Qn.log("bit decode error:"+n)}},qa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[s>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},qa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,c=15&s,d=this.palette[a];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},qa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},qa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,d=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=c,this.data[f+1]=a,this.data[f+2]=o,this.data[f+3]=d}this.pos+=t}},qa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&n)/n*255|0,d=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},qa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},qa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},qa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new qa(e,!1),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},d=new u2(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)}}(Dt.API),tA.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new tA(e),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},d=new u2(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)}}(Dt.API),Dt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,c=0,d=0;d<i;d+=4){var f=r[d],h=r[d+1],g=r[d+2],y=r[d+3];s[a++]=f,s[a++]=h,s[a++]=g,o[c++]=y}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Dt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},eh=Dt.API,Yg=eh.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,h=e.doKerning!==!1,g=0,y=t.length,S=0,_=a[0]||c,T=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=h&&Wn(d[r])==="object"&&!isNaN(parseInt(d[r][S],10))?d[r][S]/f:0,T.push((a[r]||_)/c+g)),S=r;return T},QE=eh.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return eh.processArabic&&(t=eh.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Yg.apply(this,arguments).reduce(function(s,o){return s+o},0)},JE=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var c=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(c,s)),a=0,c=s),a+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},ZE=function(t,e,n){n||(n={});var r,i,s,o,a,c,d,f=[],h=[f],g=n.textIndent||0,y=0,S=0,_=t.split(" "),T=Yg.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var E=Array(c).join(" "),C=[];_.map(function(D){(D=D.split(/\s*\n/)).length>1?C=C.concat(D.map(function(K,ae){return(ae&&K.length?`
`:"")+K})):C.push(D[0])}),_=C,c=QE.apply(this,[E,n])}for(s=0,o=_.length;s<o;s++){var I=0;if(r=_[s],c&&r[0]==`
`&&(r=r.substr(1),I=1),g+y+(S=(i=Yg.apply(this,[r,n])).reduce(function(D,K){return D+K},0))>e||I){if(S>e){for(a=JE.apply(this,[r,i,e-(g+y),e]),f.push(a.shift()),f=[a.pop()];a.length;)h.push([a.shift()]);S=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(D,K){return D+K},0)}else f=[r];h.push(f),g=S+c,y=T}else f.push(r),g+=y+S,y=T}return d=c?function(D,K){return(K?E:"")+D.join(" ")}:function(D){return D.join(" ")},h.map(d)},eh.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,c,d=[];for(a=0,c=r.length;a<c;a++)d=d.concat(ZE.apply(this,[r[a],o,s]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var g,y,S,_,T=["{"];for(var E in h){if(g=h[E],isNaN(parseInt(E,10))?y="'"+E+"'":(E=parseInt(E,10),y=(y=s(E).slice(2)).slice(0,-1)+r[y.slice(-1)]),typeof g=="number")g<0?(S=s(g).slice(3),_="-"):(S=s(g).slice(2),_=""),S=_+S.slice(0,-1)+r[S.slice(-1)];else{if(Wn(g)!=="object")throw new Error("Don't know what to do with value type "+Wn(g)+".");S=o(g)}T.push(y+S)}return T.push("}"),T.join("")},a=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,S,_,T={},E=1,C=T,I=[],D="",K="",ae=h.length-1,F=1;F<ae;F+=1)(_=h[F])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(_):_=="{"?(I.push([C,S]),C={},S=void 0):_=="}"?((y=I.pop())[0][y[1]]=C,S=void 0,C=y[0]):_=="-"?E=-1:S===void 0?n.hasOwnProperty(_)?(D+=n[_],S=parseInt(D,16)*E,E=1,D=""):D+=_:n.hasOwnProperty(_)?(K+=n[_],C[S]=parseInt(K,16)*E,E=1,S=void 0,K=""):K+=_;return T},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var g=h.font,y=f.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var S=d.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])}(Dt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Yp(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Dt),function(t){function e(){return(Vt.canvg?Promise.resolve(Vt.canvg):sy(()=>import("./index.es-DN_ZwMd9.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Dt.API.addSvgAsImage=function(n,r,i,s,o,a,c,d){if(isNaN(r)||isNaN(i))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return e().then(function(S){return S.fromString(h,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,c,d)})}}(),Dt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Dt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],d=0,f=0,h=0;function g(S,_){var T,E=!1;for(T=0;T<S.length;T+=1)S[T]===_&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=a.length;for(h=0;h<y;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(Wn(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(r=!1);r===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,_=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?_.push("/"+S+" /"+n[S].value):_.push("/"+S+" "+n[S].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Dt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],h=0,g=s.length;h<g;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(d[4-a.length],a)}return f.join("")},r=function(s){var o,a,c,d,f,h,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,g=(a=Object.keys(s).sort(function(y,S){return y-S})).length;h<g;h++)o=a[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),y="",S=0;S<g.length;S++)y+=String.fromCharCode(g[S]);var _=d();f({data:y,addLength1:!0,objectId:_}),c("endobj");var T=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:T}),c("endobj");var E=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ch(a.fontName)),c("/FontFile2 "+_+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var C=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+ch(a.fontName)),c("/FontDescriptor "+E+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+T+" 0 R"),c("/BaseFont /"+ch(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,d=o.newObject,f=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,g="",y=0;y<h.length;y++)g+=String.fromCharCode(h[y]);var S=d();f({data:g,addLength1:!0,objectId:S}),c("endobj");var _=d();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var T=d();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+S+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+ch(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=d();for(var E=0;E<a.metadata.hmtx.widths.length;E++)a.metadata.hmtx.widths[E]=parseInt(a.metadata.hmtx.widths[E]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+ch(a.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",c=s.x,d=s.y,f=s.options||{},h=s.mutex||{},g=h.pdfEscape,y=h.activeFontKey,S=h.fonts,_=y,T="",E=0,C="",I=S[_].encoding;if(S[_].encoding!=="Identity-H")return{text:a,x:c,y:d,options:f,mutex:h};for(C=a,_=y,Array.isArray(a)&&(C=a[0]),E=0;E<C.length;E+=1)S[_].metadata.hasOwnProperty("cmap")&&(o=S[_].metadata.cmap.unicode.codeMap[C[E].charCodeAt(0)]),o||C[E].charCodeAt(0)<256&&S[_].metadata.hasOwnProperty("Unicode")?T+=C[E]:T+="";var D="";return parseInt(_.slice(1))<14||I==="WinAnsiEncoding"?D=g(T,_).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(D=n(T,S[_])),h.isHex=!0,{text:D,x:c,y:d,options:f,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?a.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):a.push(i(Object.assign({},c,{text:o[d]})).text);s.text=a}else s.text=i(Object.assign({},c,{text:o})).text}])}(Dt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Dt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,c,d,f,h=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,I=0;this.__bidiEngine__={};var D=function(k){var j=k.charCodeAt(),z=j>>8,oe=_[z];return oe!==void 0?h[256*oe+(255&j)]:z===252||z===253?"AL":E.test(z)?"L":z===8?"R":"N"},K=function(k){for(var j,z=0;z<k.length;z++){if((j=D(k.charAt(z)))==="L")return!1;if(j==="R")return!0}return!1},ae=function(k,j,z,oe){var de,se,le,re,pe=j[oe];switch(pe){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(pe="AN");break;case"AL":C=!0,pe="R";break;case"WS":pe="N";break;case"CS":oe<1||oe+1>=j.length||(de=z[oe-1])!=="EN"&&de!=="AN"||(se=j[oe+1])!=="EN"&&se!=="AN"?pe="N":C&&(se="AN"),pe=se===de?se:"N";break;case"ES":pe=(de=oe>0?z[oe-1]:"B")==="EN"&&oe+1<j.length&&j[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&z[oe-1]==="EN"){pe="EN";break}if(C){pe="N";break}for(le=oe+1,re=j.length;le<re&&j[le]==="ET";)le++;pe=le<re&&j[le]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(re=j.length,le=oe+1;le<re&&j[le]==="NSM";)le++;if(le<re){var Z=k[oe],q=Z>=1425&&Z<=2303||Z===64286;if(de=j[le],q&&(de==="R"||de==="AL")){pe="R";break}}}pe=oe<1||(de=j[oe-1])==="B"?"N":z[oe-1];break;case"B":C=!1,i=!0,pe=I;break;case"S":s=!0,pe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":pe="N"}return pe},F=function(k,j,z){var oe=k.split("");return z&&L(oe,z,{hiLevel:I}),oe.reverse(),j&&j.reverse(),oe.join("")},L=function(k,j,z){var oe,de,se,le,re,pe=-1,Z=k.length,q=0,V=[],W=I?y:g,ee=[];for(C=!1,i=!1,s=!1,de=0;de<Z;de++)ee[de]=D(k[de]);for(se=0;se<Z;se++){if(re=q,V[se]=ae(k,ee,V,se),oe=240&(q=W[re][S[V[se]]]),q&=15,j[se]=le=W[q][5],oe>0)if(oe===16){for(de=pe;de<se;de++)j[de]=1;pe=-1}else pe=-1;if(W[q][6])pe===-1&&(pe=se);else if(pe>-1){for(de=pe;de<se;de++)j[de]=le;pe=-1}ee[se]==="B"&&(j[se]=0),z.hiLevel|=le}s&&function(ce,fe,ye){for(var we=0;we<ye;we++)if(ce[we]==="S"){fe[we]=I;for(var Te=we-1;Te>=0&&ce[Te]==="WS";Te--)fe[Te]=I}}(ee,j,Z)},B=function(k,j,z,oe,de){if(!(de.hiLevel<k)){if(k===1&&I===1&&!i)return j.reverse(),void(z&&z.reverse());for(var se,le,re,pe,Z=j.length,q=0;q<Z;){if(oe[q]>=k){for(re=q+1;re<Z&&oe[re]>=k;)re++;for(pe=q,le=re-1;pe<le;pe++,le--)se=j[pe],j[pe]=j[le],j[le]=se,z&&(se=z[pe],z[pe]=z[le],z[le]=se);q=re}q++}}},H=function(k,j,z){var oe=k.split(""),de={hiLevel:I};return z||(z=[]),L(oe,z,de),function(se,le,re){if(re.hiLevel!==0&&f)for(var pe,Z=0;Z<se.length;Z++)le[Z]===1&&(pe=T.indexOf(se[Z]))>=0&&(se[Z]=T[pe+1])}(oe,z,de),B(2,oe,j,z,de),B(1,oe,j,z,de),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(k,j,z){if(function(de,se){if(se)for(var le=0;le<de.length;le++)se[le]=le;a===void 0&&(a=K(de)),d===void 0&&(d=K(de))}(k,j),o||!c||d)if(o&&c&&a^d)I=a?1:0,k=F(k,j,z);else if(!o&&c&&d)I=a?1:0,k=H(k,j,z),k=F(k,j);else if(!o||a||c||d){if(o&&!c&&a^d)k=F(k,j),a?(I=0,k=H(k,j,z)):(I=1,k=H(k,j,z),k=F(k,j));else if(o&&a&&!c&&d)I=1,k=H(k,j,z),k=F(k,j);else if(!o&&!c&&a^d){var oe=f;a?(I=1,k=H(k,j,z),I=0,f=!1,k=H(k,j,z),f=oe):(I=0,k=H(k,j,z),k=F(k,j),I=1,f=!1,k=H(k,j,z),f=oe,k=F(k,j))}}else I=0,k=H(k,j,z);else I=a?1:0,k=H(k,j,z);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,a=k.isInputRtl,d=k.isOutputRtl,f=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Dt),Dt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new sd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new yG(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new rG(this.contents),this.head=new sG(this),this.name=new uG(this),this.cmap=new PI(this),this.toUnicode={},this.hhea=new oG(this),this.maxp=new dG(this),this.hmtx=new fG(this),this.post=new lG(this),this.os2=new aG(this),this.loca=new gG(this),this.glyf=new hG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,c,d;for(d=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var tl,sd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),rG=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,c,d,f,h,g,y,S,_;for(_ in y=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(y)/c),o=Math.floor(h/c),f=16*y-h,(i=new sd).writeInt(this.scalarType),i.writeShort(y),i.writeShort(h),i.writeShort(o),i.writeShort(f),s=16*y,d=i.pos+s,a=null,S=[],n)for(g=n[_],i.writeString(_),i.writeInt(t(g)),i.writeInt(d),i.writeInt(g.length),S=S.concat(g),_==="head"&&(a=d),d+=g.length;d%4;)S.push(0),d++;return i.write(S),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=NI.call(n);n.length%4;)n.push(0);for(s=new sd(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),iG={}.hasOwnProperty,zl=function(t,e){for(var n in e)iG.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};tl=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var sG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new sd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),nA=function(){function t(e,n){var r,i,s,o,a,c,d,f,h,g,y,S,_,T,E,C,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),g=y/2,e.pos+=6,s=function(){var D,K;for(K=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)K.push(e.readUInt16());return K}(),e.pos+=2,_=function(){var D,K;for(K=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)K.push(e.readUInt16());return K}(),d=function(){var D,K;for(K=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)K.push(e.readUInt16());return K}(),f=function(){var D,K;for(K=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)K.push(e.readUInt16());return K}(),i=(this.length-e.pos+this.offset)/2,a=function(){var D,K;for(K=[],c=D=0;0<=i?D<i:D>i;c=0<=i?++D:--D)K.push(e.readUInt16());return K}(),c=E=0,I=s.length;E<I;c=++E)for(T=s[c],r=C=S=_[c];S<=T?C<=T:C>=T;r=S<=T?++C:--C)f[c]===0?o=r+d[c]:(o=a[f[c]/2+(r-S)-(g-c)]||0)!==0&&(o+=d[c]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,i,s,o,a,c,d,f,h,g,y,S,_,T,E,C,I,D,K,ae,F,L,B,H,k,j,z,oe,de,se,le,re,pe,Z,q,V,W,ee,ce,fe,ye,we,Te,Ve,Fe,Ye;switch(oe=new sd,o=Object.keys(e).sort(function(Qe,nt){return Qe-nt}),n){case"macroman":for(_=0,T=function(){var Qe=[];for(S=0;S<256;++S)Qe.push(0);return Qe}(),C={0:0},s={},de=0,pe=o.length;de<pe;de++)C[Te=e[i=o[de]]]==null&&(C[Te]=++_),s[i]={old:e[i],new:C[e[i]]},T[i]=C[e[i]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(T),{charMap:s,subtable:oe.data,maxGlyphID:_+1};case"unicode":for(j=[],h=[],I=0,C={},r={},E=d=null,se=0,Z=o.length;se<Z;se++)C[K=e[i=o[se]]]==null&&(C[K]=++I),r[i]={old:K,new:C[K]},a=C[K]-i,E!=null&&a===d||(E&&h.push(E),j.push(i),d=a),E=i;for(E&&h.push(E),h.push(65535),j.push(65535),H=2*(B=j.length),L=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(L/2)/Math.LN2,F=2*B-L,c=[],ae=[],y=[],S=le=0,q=j.length;le<q;S=++le){if(k=j[S],f=h[S],k===65535){c.push(0),ae.push(0);break}if(k-(z=r[k].new)>=32768)for(c.push(0),ae.push(2*(y.length+B-S)),i=re=k;k<=f?re<=f:re>=f;i=k<=f?++re:--re)y.push(r[i].new);else c.push(z-k),ae.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*B+2*y.length),oe.writeUInt16(0),oe.writeUInt16(H),oe.writeUInt16(L),oe.writeUInt16(g),oe.writeUInt16(F),ye=0,V=h.length;ye<V;ye++)i=h[ye],oe.writeUInt16(i);for(oe.writeUInt16(0),we=0,W=j.length;we<W;we++)i=j[we],oe.writeUInt16(i);for(Ve=0,ee=c.length;Ve<ee;Ve++)a=c[Ve],oe.writeUInt16(a);for(Fe=0,ce=ae.length;Fe<ce;Fe++)D=ae[Fe],oe.writeUInt16(D);for(Ye=0,fe=y.length;Ye<fe;Ye++)_=y[Ye],oe.writeUInt16(_);return{charMap:r,subtable:oe.data,maxGlyphID:I+1}}},t}(),PI=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new nA(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=nA.encode(n,r),(s=new sd).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),oG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),aG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),lG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,c,d;for(d=[],o=a=0,c=this.file.maxp.numGlyphs;0<=c?a<c:a>c;o=0<=c?++a:--a)d.push(n.readUInt32());return d}).call(this)}},e}(),cG=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},uG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,c,d,f,h,g,y;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(d={},o=h=0,g=i.length;h<g;o=++h)s=i[o],n.pos=s.offset,f=n.readString(s.length),a=new cG(f,s),d[y=s.nameID]==null&&(d[y]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),dG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),fG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,c,d;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)h.push(n.readInt16());return h}(),this.widths=(function(){var f,h,g,y;for(y=[],f=0,h=(g=this.metrics).length;f<h;f++)o=g[f],y.push(o.advance);return y}).call(this),i=this.widths[this.widths.length-1],d=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),NI=[].slice,hG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,c,d,f,h,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(c=new sd(r.read(s))).readShort(),f=c.readShort(),g=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[n]=a===-1?new mG(c,f,g,d,h):new pG(c,a,f,g,d,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,c,d;for(a=[],o=[],c=0,d=r.length;c<d;c++)s=n[r[c]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),pG=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),mG=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new sd(NI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),gG=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return zl(e,tl),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var c=this.offsets[a],d=this.offsets[a+1]-c;d>0&&(s+=d)}for(var f=new Array(4*i.length),h=0;h<i.length;++h)f[4*h+3]=255&i[h],f[4*h+2]=(65280&i[h])>>8,f[4*h+1]=(16711680&i[h])>>16,f[4*h]=(4278190080&i[h])>>24;return f},e}(),yG=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,c;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,c,d,f,h,g,y,S,_,T,E;for(i in r=PI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),y={0:0},E=r.charMap)y[(c=E[i]).old]=c.new;for(S in g=r.maxGlyphID,o)S in y||(y[S]=g++);return f=function(C){var I,D;for(I in D={},C)D[C[I]]=I;return D}(y),h=Object.keys(f).sort(function(C,I){return C-I}),_=function(){var C,I,D;for(D=[],C=0,I=h.length;C<I;C++)a=h[C],D.push(f[a]);return D}(),s=this.font.glyf.encode(o,_,y),d=this.font.loca.encode(s.offsets,_),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t}();Dt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,c,d;for(d=[],a=0,c=n.length;a<c;a++)r=n[a],d.push(e.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function II(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():s,d=a*c,f=/\r\n|\r|\n/g,h="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(h=typeof t=="string"?t.split(f):t,g=h.length||1),n+=a*(2-s),r.valign==="middle"?n-=g/2*d:r.valign==="bottom"&&(n-=g*d),r.halign==="center"||r.halign==="right"){var y=a;if(r.halign==="center"&&(y*=.5),h&&g>=1){for(var S=0;S<h.length;S++)i.text(h[S],e-i.getStringUnitWidth(h[S])*y,n),n+=d;return i}e-=i.getStringUnitWidth(t)*y}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var rA={},Ah=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:rA=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){a=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),a=d[0])}if(this.jsPDFDocument.setFont(c,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return rA||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),qw=function(t,e){return qw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},qw(t,e)};function kI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var RI=function(t){kI(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function vG(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function wG(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function ly(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function LI(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=DI(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function DI(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function hv(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function OI(t,e){var n=hv(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function bG(t,e,n,r,i){var s={},o=1.3333333333333333,a=d2(e,function(I){return i.getComputedStyle(I).backgroundColor});a!=null&&(s.fillColor=a);var c=d2(e,function(I){return i.getComputedStyle(I).color});c!=null&&(s.textColor=c);var d=_G(r,n);d&&(s.cellPadding=d);var f="borderTopColor",h=o*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var y=(parseFloat(g)||0)/h;y&&(s.lineWidth=y)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/h,right:(parseFloat(r.borderRightWidth)||0)/h,bottom:(parseFloat(r.borderBottomWidth)||0)/h,left:(parseFloat(r.borderLeftWidth)||0)/h},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var S=d2(e,function(I){return i.getComputedStyle(I)[f]});S!=null&&(s.lineColor=S);var _=["left","right","center","justify"];_.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),_=["middle","bottom","top"],_.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var T=parseInt(r.fontSize||"");isNaN(T)||(s.fontSize=T/o);var E=xG(r);E&&(s.fontStyle=E);var C=(r.fontFamily||"").toLowerCase();return t.indexOf(C)!==-1&&(s.font=C),s}function xG(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function d2(t,e){var n=jI(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function jI(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:jI(t.parentElement,e):n}function _G(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=hv(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function MI(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),f=[],h=[],g=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:f,body:h,foot:g};for(var y=0;y<a.rows.length;y++){var S=a.rows[y],_=(o=(s=S?.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),T=SG(c,d,n,S,r,i);T&&(_==="thead"?f.push(T):_==="tfoot"?g.push(T):h.push(T))}return{head:f,body:h,foot:g}}function SG(t,e,n,r,i,s){for(var o=new RI(r),a=0;a<r.cells.length;a++){var c=r.cells[a],d=n.getComputedStyle(c);if(i||d.display!=="none"){var f=void 0;s&&(f=bG(t,c,e,d,n)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:TG(c)})}}var h=n.getComputedStyle(r);if(o.length>0&&(i||h.display!=="none"))return o}function TG(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function EG(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Sc(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])}return s}function FI(t,e){var n=new Ah(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();EG(i,r,e);var s=Sc({},i,r,e),o;typeof window<"u"&&(o=window);var a=AG(i,r,e),c=CG(i,r,e),d=PG(n,s),f=IG(n,s,o);return{id:e.tableId,content:f,hooks:c,styles:a,settings:d}}function AG(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var d=t[c],f=e[c],h=n[c];r.columnStyles=Sc({},d,f,h)}else{var g=[t,e,n],y=g.map(function(S){return S[c]||{}});r[c]=Sc({},y[0],y[1],y[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function CG(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function PG(t,e){var n,r,i,s,o,a,c,d,f,h,g,y,S=hv(e.margin,40/t.scaleFactor()),_=(n=NG(t,e.startY))!==null&&n!==void 0?n:S.top,T;e.showFoot===!0?T="everyPage":e.showFoot===!1?T="never":T=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var C=(s=e.useCss)!==null&&s!==void 0?s:!1,I=e.theme||(C?"plain":"striped"),D=!!e.horizontalPageBreak,K=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:C,theme:I,startY:_,margin:S,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:E,showFoot:T,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:D,horizontalPageBreakRepeat:K,horizontalPageBreakBehaviour:(y=e.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function NG(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&n?.finalY!=null?n.finalY+20/r:null}function IG(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=MI(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||kG(r,i,s);return{columns:c,head:r,body:i,foot:s}}function kG(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=a?.colSpan||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(r)?d=i.length:d=s+(c>0?"_".concat(c):"");var f={dataKey:d};i.push(f)}}),i}var Ww=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),RG=function(t){kI(e,t);function e(n,r,i,s,o,a){var c=t.call(this,n,r,a)||this;return c.cell=i,c.row=s,c.column=o,c.section=s.section,c}return e}(Ww),LG=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,c=n;a<c.length;a++){var d=c[a],f=new RG(e,this,r,i,s,o),h=d(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new Ww(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new Ww(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),VI=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof RI&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+a;return d>i?d:i},0)},t}(),BI=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=hv(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),DG=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function OG(t,e){jG(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=$w(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=$w(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),FG(e),VG(e,t),MG(e)}function jG(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=OI(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var c=a[o],d=s.cells[c.index];if(d){var f=e.hooks.didParseCell;e.callCellHooks(t,f,d,s,c,null);var h=d.padding("horizontal");d.contentWidth=ly(d.text,d.styles,t)+h;var g=ly(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=g+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||r===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var y=10/n;d.minWidth=d.styles.minCellWidth||y,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var c=a[o],d=s.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=f.cellWidth||f.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function $w(t,e,n){for(var r=e,i=t.reduce(function(y,S){return y+S.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,c=r*a,d=o.width+c,f=n(o),h=d<f?f:d;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(y){return e<0?y.width>n(y):!0});g.length&&(e=$w(g,e,n))}return e}function MG(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var c=a[o],d=e[c.index];if(n>1)n--,delete s.cells[c.index];else if(d)d.cell.height+=s.height,n=d.cell.colSpan,delete s.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var h=r.length-i,g=f.rowSpan>h?h:f.rowSpan;e[c.index]={cell:f,left:g,row:s}}}}}function FG(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var c=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=c.width,delete r.cells[c.index];else if(i){var d=i;delete r.cells[c.index],i=null,d.width=c.width+s}else{var d=r.cells[c.index];if(!d)continue;if(o=d.colSpan,s=0,d.colSpan>1){i=d,s+=c.width;continue}d.width=c.width+s}}}function VG(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var c=a[o],d=s.cells[c.index];if(d){e.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,f+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=iA(d.text,f,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=iA(d.text,f,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var h=d.styles.overflow(d.text,f);typeof h=="string"?d.text=[h]:d.text=h}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<g*d.rowSpan?n={height:g,count:d.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function iA(t,e,n,r,i){return t.map(function(s){return BG(s,e,n,r,i)})}function BG(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=ly(t,n,r))return t;for(;e<ly(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function UI(t,e){var n=new Ah(t),r=UG(e,n.scaleFactor()),i=new LG(e,r);return OG(n,i),n.applyStyles(n.userStyles),i}function UG(t,e){var n=t.content,r=qG(n.columns);if(n.head.length===0){var i=sA(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=sA(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:f2("head",n.head,r,o,s,e),body:f2("body",n.body,r,o,s,e),foot:f2("foot",n.foot,r,o,s,e)}}function f2(t,e,n,r,i,s){var o={},a=e.map(function(c,d){for(var f=0,h={},g=0,y=0,S=0,_=n;S<_.length;S++){var T=_[S];if(o[T.index]==null||o[T.index].left===0)if(y===0){var E=void 0;Array.isArray(c)?E=c[T.index-g-f]:E=c[T.dataKey];var C={};typeof E=="object"&&!Array.isArray(E)&&(C=E?.styles||{});var I=WG(t,T,d,i,r,s,C),D=new BI(E,I,t);h[T.dataKey]=D,h[T.index]=D,y=D.colSpan-1,o[T.index]={left:D.rowSpan-1,times:y}}else y--,g++;else o[T.index].left--,y=o[T.index].times,f++}return new VI(c,d,t,h)});return a}function sA(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=zG(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function zG(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function qG(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new DG(i,e,n)})}function WG(t,e,n,r,i,s,o){var a=wG(r),c;t==="head"?c=i.headStyles:t==="body"?c=i.bodyStyles:t==="foot"&&(c=i.footStyles);var d=Sc({},a.table,a[t],i.styles,c),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},h=t==="body"?f:{},g=t==="body"&&n%2===0?Sc({},a.alternateRow,i.alternateRowStyles):{},y=vG(s),S=Sc({},y,d,g,h);return Sc(S,o)}function $G(t,e,n){var r;n===void 0&&(n={});var i=OI(t,e),s=new Map,o=[],a=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var y=e.columns.find(function(S){return S.dataKey===g||S.index===g});y&&!s.has(y.index)&&(s.set(y.index,!0),o.push(y.index),a.push(e.columns[y.index]),i-=y.wrappedWidth)});for(var d=!0,f=(r=n?.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(s.has(f)){f++;continue}var h=e.columns[f].wrappedWidth;if(d||i>=h)d=!1,o.push(f),a.push(e.columns[f]),i-=h;else break;f++}return{colIndexes:o,columns:a,lastIndex:f-1}}function HG(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=$G(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function zI(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(g,y){return g+y.height},0);a+=d}var f=new Ah(t);(n.pageBreak==="always"||n.startY!=null&&a>f.pageSize().height)&&(WI(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var h=Sc({},s);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?GG(f,e,h,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return Mc(f,e,g,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(g,y){var S=y===e.body.length-1;cy(f,e,g,S,h,s,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return Mc(f,e,g,s,e.columns)})),LI(f,e,h,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function GG(t,e,n,r){var i=HG(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,f){t.applyStyles(t.userStyles),f>0?Xp(t,e,n,r,d.columns,!0):oA(t,e,r,d.columns),KG(t,e,n,r,d.columns),h2(t,e,r,d.columns)});else for(var o=-1,a=i[0],c=function(){var d=o;if(a){t.applyStyles(t.userStyles);var f=a.columns;o>=0?Xp(t,e,n,r,f,!0):oA(t,e,r,f),d=aA(t,e,o+1,r,f),h2(t,e,r,f)}var h=d-o;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Xp(t,e,n,r,g.columns,!0),aA(t,e,o+1,r,g.columns,h),h2(t,e,r,g.columns)}),o=d};o<e.body.length-1;)c()}function oA(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Mc(t,e,s,n,r)})}function KG(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;cy(t,e,s,a,n,r,i)})}function aA(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(c,d){var f=n+d===e.body.length-1,h=qI(t,e,f,r);c.canEntireRowFit(h,i)&&(Mc(t,e,c,r,i),a=n+d)}),a}function h2(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Mc(t,e,s,n,r)})}function YG(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function XG(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var c=a[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new BI(d.raw,d.styles,d.section);f=Sc(f,d),f.text=[];var h=YG(d,e,r);d.text.length>h&&(f.text=d.text.splice(h,d.text.length));var g=r.scaleFactor(),y=r.getLineHeightFactor();d.contentHeight=d.getContentHeight(g,y),d.contentHeight>=e&&(d.contentHeight=e,f.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),f.contentHeight=f.getContentHeight(g,y),f.contentHeight>s&&(s=f.contentHeight),i[c.index]=f}}var S=new VI(t.raw,-1,t.section,i,!0);S.height=s;for(var _=0,T=n.columns;_<T.length;_++){var c=T[_],f=S.cells[c.index];f&&(f.height=S.height);var d=t.cells[c.index];d&&(d.height=t.height)}return S}function QG(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,t),d=c<n;if(c>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=e.hasRowSpan(r.columns),h=e.getMaxCellHeight(r.columns)>a;return h?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function cy(t,e,n,r,i,s,o){var a=qI(t,e,r,s);if(n.canEntireRowFit(a,o))Mc(t,e,n,s,o);else if(QG(t,n,a,e)){var c=XG(n,a,e,t);Mc(t,e,n,s,o),Xp(t,e,i,s,o),cy(t,e,c,r,i,s,o)}else Xp(t,e,i,s,o),cy(t,e,n,r,i,s,o)}function Mc(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],c=n.cells[a.index];if(!c){r.x+=a.width;continue}t.applyStyles(c.styles),c.x=r.x,c.y=r.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,n,a,r);if(d===!1){r.x+=a.width;continue}JG(t,c,r);var f=c.getTextPos();II(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,a,r),r.x+=a.width}r.y+=n.height}function JG(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=DI(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),ZG(t,e,n,r.lineWidth))}function ZG(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),c(r.right,i,s,o,a));function c(d,f,h,g,y){t.getDocument().setLineWidth(d),t.getDocument().line(f,h,g,y,"S")}}function qI(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Xp(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Mc(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;LI(t,e,n,r),WI(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Mc(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function WI(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function eK(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=FI(this,r),s=UI(this,i);return zI(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){II(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Ah.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Ah.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ah(this),s=MI(i,e,window,n,!1),o=s.head,a=s.body,c=((r=o[0])===null||r===void 0?void 0:r.map(function(d){return d.content}))||[];return{columns:c,rows:a,data:a}}}var p2;function tK(t,e){var n=FI(t,e),r=UI(t,n);zI(t,r)}try{if(typeof window<"u"&&window){var lA=window,cA=lA.jsPDF||((p2=lA.jspdf)===null||p2===void 0?void 0:p2.jsPDF);cA&&eK(cA)}}catch(t){console.error("Could not apply autoTable plugin",t)}const $I=6048e5,nK=864e5,HI=6e4,GI=36e5,uA=Symbol.for("constructDateFrom");function Fc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&uA in t?t[uA](e):t instanceof Date?new t.constructor(e):new Date(e)}function jo(t,e){return Fc(e||t,t)}let rK={};function pv(){return rK}function wm(t,e){const n=pv(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=jo(t,e?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function uy(t,e){return wm(t,{...e,weekStartsOn:1})}function KI(t,e){const n=jo(t,e?.in),r=n.getFullYear(),i=Fc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=uy(i),o=Fc(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=uy(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function dA(t){const e=jo(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function iK(t,...e){const n=Fc.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function fA(t,e){const n=jo(t,e?.in);return n.setHours(0,0,0,0),n}function sK(t,e,n){const[r,i]=iK(n?.in,t,e),s=fA(r),o=fA(i),a=+s-dA(s),c=+o-dA(o);return Math.round((a-c)/nK)}function oK(t,e){const n=KI(t,e),r=Fc(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),uy(r)}function aK(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lK(t){return!(!aK(t)&&typeof t!="number"||isNaN(+jo(t)))}function cK(t,e){const n=jo(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const uK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dK=(t,e,n)=>{let r;const i=uK[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function m2(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const fK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mK={date:m2({formats:fK,defaultWidth:"full"}),time:m2({formats:hK,defaultWidth:"full"}),dateTime:m2({formats:pK,defaultWidth:"full"})},gK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yK=(t,e,n,r)=>gK[t];function Ep(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const vK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_K={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},EK={ordinalNumber:TK,era:Ep({values:vK,defaultWidth:"wide"}),quarter:Ep({values:wK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ep({values:bK,defaultWidth:"wide"}),day:Ep({values:xK,defaultWidth:"wide"}),dayPeriod:Ep({values:_K,defaultWidth:"wide",formattingValues:SK,defaultFormattingWidth:"wide"})};function Ap(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?CK(a,h=>h.test(o)):AK(a,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function AK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function CK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function PK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const NK=/^(\d+)(th|st|nd|rd)?/i,IK=/\d+/i,kK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RK={any:[/^b/i,/^(a|c)/i]},LK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DK={any:[/1/i,/2/i,/3/i,/4/i]},OK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},UK={ordinalNumber:PK({matchPattern:NK,parsePattern:IK,valueCallback:t=>parseInt(t,10)}),era:Ap({matchPatterns:kK,defaultMatchWidth:"wide",parsePatterns:RK,defaultParseWidth:"any"}),quarter:Ap({matchPatterns:LK,defaultMatchWidth:"wide",parsePatterns:DK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ap({matchPatterns:OK,defaultMatchWidth:"wide",parsePatterns:jK,defaultParseWidth:"any"}),day:Ap({matchPatterns:MK,defaultMatchWidth:"wide",parsePatterns:FK,defaultParseWidth:"any"}),dayPeriod:Ap({matchPatterns:VK,defaultMatchWidth:"any",parsePatterns:BK,defaultParseWidth:"any"})},zK={code:"en-US",formatDistance:dK,formatLong:mK,formatRelative:yK,localize:EK,match:UK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qK(t,e){const n=jo(t,e?.in);return sK(n,cK(n))+1}function WK(t,e){const n=jo(t,e?.in),r=+uy(n)-+oK(n);return Math.round(r/$I)+1}function YI(t,e){const n=jo(t,e?.in),r=n.getFullYear(),i=pv(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Fc(e?.in||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=wm(o,e),c=Fc(e?.in||t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const d=wm(c,e);return+n>=+a?r+1:+n>=+d?r:r-1}function $K(t,e){const n=pv(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=YI(t,e),s=Fc(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),wm(s,e)}function HK(t,e){const n=jo(t,e?.in),r=+wm(n,e)-+$K(n,e);return Math.round(r/$I)+1}function qn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ru={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return qn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):qn(n+1,2)},d(t,e){return qn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return qn(t.getHours()%12||12,e.length)},H(t,e){return qn(t.getHours(),e.length)},m(t,e){return qn(t.getMinutes(),e.length)},s(t,e){return qn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return qn(i,e.length)}},th={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ru.y(t,e)},Y:function(t,e,n,r){const i=YI(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return qn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):qn(s,e.length)},R:function(t,e){const n=KI(t);return qn(n,e.length)},u:function(t,e){const n=t.getFullYear();return qn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return qn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return qn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ru.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return qn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=HK(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):qn(i,e.length)},I:function(t,e,n){const r=WK(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):qn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ru.d(t,e)},D:function(t,e,n){const r=qK(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):qn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return qn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return qn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return qn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=th.noon:r===0?i=th.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=th.evening:r>=12?i=th.afternoon:r>=4?i=th.morning:i=th.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ru.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ru.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):qn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):qn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ru.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ru.s(t,e)},S:function(t,e){return Ru.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return mA(r);case"XXXX":case"XX":return Vd(r);case"XXXXX":case"XXX":default:return Vd(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return mA(r);case"xxxx":case"xx":return Vd(r);case"xxxxx":case"xxx":default:return Vd(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pA(r,":");case"OOOO":default:return"GMT"+Vd(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pA(r,":");case"zzzz":default:return"GMT"+Vd(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return qn(r,e.length)},T:function(t,e,n){return qn(+t,e.length)}};function pA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+qn(s,2)}function mA(t,e){return t%60===0?(t>0?"-":"+")+qn(Math.abs(t)/60,2):Vd(t,e)}function Vd(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=qn(Math.trunc(r/60),2),s=qn(r%60,2);return n+i+e+s}const gA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},XI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},GK=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return gA(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",gA(r,e)).replace("{{time}}",XI(i,e))},KK={p:XI,P:GK},YK=/^D+$/,XK=/^Y+$/,QK=["D","DD","YY","YYYY"];function JK(t){return YK.test(t)}function ZK(t){return XK.test(t)}function eY(t,e,n){const r=tY(t,e,n);if(console.warn(r),QK.includes(t))throw new RangeError(r)}function tY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iY=/^'([^]*?)'?$/,sY=/''/g,oY=/[a-zA-Z]/;function Gd(t,e,n){const r=pv(),i=r.locale??zK,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=jo(t,n?.in);if(!lK(a))throw new RangeError("Invalid time value");let c=e.match(rY).map(f=>{const h=f[0];if(h==="p"||h==="P"){const g=KK[h];return g(f,i.formatLong)}return f}).join("").match(nY).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const h=f[0];if(h==="'")return{isToken:!1,value:aY(f)};if(hA[h])return{isToken:!0,value:f};if(h.match(oY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(f=>{if(!f.isToken)return f.value;const h=f.value;(ZK(h)||JK(h))&&eY(h,e,String(t));const g=hA[h[0]];return g(a,h,i.localize,d)}).join("")}function aY(t){const e=t.match(iY);return e?e[1].replace(sY,"'"):t}function yA(t,e){const n=()=>Fc(e?.in,NaN),i=dY(t);let s;if(i.date){const d=fY(i.date,2);s=hY(d.restDateString,d.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,c;if(i.time&&(a=pY(i.time),isNaN(a)))return n();if(i.timezone){if(c=mY(i.timezone),isNaN(c))return n()}else{const d=new Date(o+a),f=jo(0,e?.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return jo(o+a+c,e?.in)}const Xg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,cY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,uY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dY(t){const e={},n=t.split(Xg.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Xg.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Xg.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Xg.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function fY(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function hY(t,e){if(e===null)return new Date(NaN);const n=t.match(lY);if(!n)return new Date(NaN);const r=!!n[4],i=Cp(n[1]),s=Cp(n[2])-1,o=Cp(n[3]),a=Cp(n[4]),c=Cp(n[5])-1;if(r)return bY(e,a,c)?gY(e,a,c):new Date(NaN);{const d=new Date(0);return!vY(e,s,o)||!wY(e,i)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(i,o)),d)}}function Cp(t){return t?parseInt(t):1}function pY(t){const e=t.match(cY);if(!e)return NaN;const n=g2(e[1]),r=g2(e[2]),i=g2(e[3]);return xY(n,r,i)?n*GI+r*HI+i*1e3:NaN}function g2(t){return t&&parseFloat(t.replace(",","."))||0}function mY(t){if(t==="Z")return 0;const e=t.match(uY);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return _Y(r,i)?n*(r*GI+i*HI):NaN}function gY(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const yY=[31,null,31,30,31,30,31,31,30,31,30,31];function QI(t){return t%400===0||t%4===0&&t%100!==0}function vY(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(yY[e]||(QI(t)?29:28))}function wY(t,e){return e>=1&&e<=(QI(t)?366:365)}function bY(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function xY(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function _Y(t,e){return e>=0&&e<=59}const SY=`<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60">
  <circle cx="30" cy="30" r="30" fill="#1976D2"/>
  <g transform="translate(13,13)">
    <path fill="#fff" d="M6 36a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm22.68-5.6l2.74-4.92A1.5 1.5 0 0 0 30 24H18.42l-.46-2H32a1 1 0 0 0 0-2H17.56l-.94-4H11a1 1 0 1 0 0 2h4.38l3.02 12.07A4 4 0 1 0 21 34h10a4 4 0 0 0 3.68-2.6zM23 34a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm8 2a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
  </g>
</svg>`;function TY(t,e=60,n=60){return new Promise(r=>{const i=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(i),o=new window.Image;o.onload=function(){const a=document.createElement("canvas");a.width=e,a.height=n,a.getContext("2d").drawImage(o,0,0,e,n),URL.revokeObjectURL(s),r(a.toDataURL("image/png"))},o.src=s})}function EY(){return $.useCallback(async t=>{const e=new Dt({unit:"pt",format:"a4"}),n=40;let r=n;const i=await TY(SY,60,60);i&&e.addImage(i,"PNG",n,r,60,60),e.setFontSize(22),e.setTextColor("#1976D2"),e.setFont("helvetica","bold"),e.text("WishlistCart",n+70,r+36),r+=70,e.setFontSize(14),e.setTextColor("#333"),e.setFont("helvetica","normal"),e.text("Thank you for shopping with WishlistCart!",n,r),r+=28,e.setFontSize(17),e.setFont("helvetica","bold"),e.text("Invoice",n,r),e.setFontSize(11),e.setFont("helvetica","normal");const s=e.internal.pageSize.width-n;e.text(`Order ID: ${t.id}`,s,n+30,{align:"right",maxWidth:240});const o=t.createdAt?.toDate?.();e.text(`Date: ${o?Gd(o,"PPPp"):"N/A"}`,s,n+50,{align:"right",maxWidth:240}),r+=24;const a=t.address||{},c=[a.fullName||"",a.address||"",`${a.city||""} - ${a.postalCode||""}`,a.country||"",a.email?`Email: ${a.email}`:""].filter(Boolean);e.setFontSize(14),e.setFont("helvetica","bold"),e.setTextColor("#222"),e.text("Shipping Address:",n,r),r+=18,e.setFontSize(11),e.setFont("helvetica","normal"),e.text(c,n,r,{maxWidth:300,lineHeightFactor:1.2}),r+=c.length*14+22;const d=(t.items||[]).map(h=>[h.name,h.quantity?.toString()??"",`₹${Number(h.price).toFixed(2)}`,`₹${(h.price*h.quantity).toFixed(2)}`]);tK(e,{startY:r,head:[["Item","Qty","Unit Price","Total"]],body:d,styles:{fontSize:11,cellPadding:6,overflow:"linebreak"},headStyles:{fillColor:[25,118,210],textColor:255,fontStyle:"bold"},columnStyles:{1:{halign:"center",cellWidth:30},2:{halign:"right",cellWidth:70},3:{halign:"right",cellWidth:70}},margin:{left:n,right:n},didDrawPage:()=>{const h=e.internal.pageSize.height-30;e.setFontSize(9),e.setTextColor("#888"),e.text("If you have any questions about your order, please contact support@wishlistcart.com",n,h,{maxWidth:520})}});const f=e.lastAutoTable.finalY||r+70;e.setFontSize(14),e.setTextColor("#111"),e.setFont("helvetica","bold"),e.text(`Total Amount Paid: ₹${Number(t.total).toFixed(2)}`,n,f+36),e.save(`WishlistCart_Invoice_Order_${t.id}.pdf`)},[])}const Qg=["Ordered","Processing","Shipped","Out For Delivery","Delivered","Cancelled"];function vA(){const{user:t}=ha(),e=vH("/logo.png"),n=EY(),{toast:r}=Mo(),[i,s]=$.useState("all"),[o,a]=$.useState({startDate:null,endDate:null}),c=$.useMemo(()=>{const D={};return i&&i.toLowerCase()!=="all"&&(D.status=i),o.startDate&&(D.startDate=o.startDate),o.endDate&&(D.endDate=o.endDate),D},[i,o]),{orders:d,loading:f,error:h,loadingMore:g,hasMore:y,loadMore:S,cancelOrder:_,cancelLoading:T}=yH(t?.uid,c);if(!t)return w.jsx("div",{className:"text-center mt-10 text-red-500 font-semibold",children:"Please log in to view your orders."});const E=d,C=D=>["Processing","Ordered","Shipped"].includes(D),I=async D=>{if(window.confirm("Are you sure you want to cancel this order?"))try{await _(D),r({title:"Order Cancelled",description:"Your order has been successfully cancelled.",variant:"success"})}catch{r({title:"Error",description:"Failed to cancel the order.",variant:"destructive"})}};return w.jsxs("main",{className:"w-full max-w-5xl mx-auto p-6 flex-1 flex flex-col space-y-6",children:[w.jsxs("section",{className:"flex flex-wrap gap-4 items-center mb-6",children:[w.jsxs("label",{className:"flex items-center gap-2 whitespace-nowrap font-medium",children:[w.jsx("span",{children:"Status:"}),w.jsxs("select",{className:"border rounded p-1",value:i,onChange:D=>s(D.target.value),children:[w.jsx("option",{value:"all",children:"All"}),Qg.map(D=>w.jsx("option",{value:D,children:D},D))]})]}),w.jsxs("label",{children:["Start Date:",w.jsx("input",{type:"date",className:"border rounded p-1 ml-1",value:o.startDate?Gd(o.startDate,"yyyy-MM-dd"):"",onChange:D=>a(K=>({...K,startDate:D.target.value?yA(D.target.value):null}))})]}),w.jsxs("label",{children:["End Date:",w.jsx("input",{type:"date",className:"border rounded p-1 ml-1",value:o.endDate?Gd(o.endDate,"yyyy-MM-dd"):"",onChange:D=>a(K=>({...K,endDate:D.target.value?yA(D.target.value):null}))})]}),w.jsx("button",{className:"ml-2 text-blue-600 underline",onClick:()=>{s("all"),a({startDate:null,endDate:null})},type:"button",children:"Clear Filters"})]}),f&&d.length===0&&w.jsx("p",{className:"p-10 text-center",children:"Loading orders..."}),h&&w.jsxs("p",{className:"p-10 text-center text-red-600",children:["Error: ",h]}),!f&&!h&&d.length===0&&w.jsx("p",{className:"p-10 text-center",children:"No orders found."}),w.jsx("section",{className:"space-y-8 flex-grow overflow-auto",children:E.map(D=>{const K=D.createdAt?.toDate?D.createdAt.toDate():new Date(D.createdAt),ae=Gd(K,"PPP p"),F=Qg.indexOf(D.status);return w.jsxs("article",{className:"bg-white p-6 rounded shadow space-y-4",children:[w.jsxs("header",{className:"flex justify-between items-center",children:[w.jsxs("h2",{className:"text-xl font-semibold",children:["Order #",D.id]}),w.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${D.status==="Processing"?"bg-indigo-100 text-indigo-800":D.status==="Ordered"?"bg-blue-100 text-blue-800":D.status==="Shipped"?"bg-yellow-100 text-yellow-800":D.status==="Out For Delivery"?"bg-purple-600 text-white":D.status==="Delivered"?"bg-green-100 text-green-800":D.status==="Cancelled"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:D.status})]}),w.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[w.jsxs("div",{children:[w.jsx("strong",{children:"Date:"})," ",ae]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Shipping Address:"}),w.jsxs("address",{className:"not-italic ml-3 space-y-0.5",children:[w.jsx("div",{children:D.address?.fullName}),w.jsx("div",{children:D.address?.email}),w.jsx("div",{children:D.address?.address}),w.jsxs("div",{children:[D.address?.city,", ",D.address?.postalCode]}),w.jsx("div",{children:D.address?.country})]})]})]}),w.jsx("div",{className:"flex items-center gap-2 flex-wrap text-sm",children:Qg.map((L,B)=>w.jsxs(it.Fragment,{children:[w.jsx("span",{className:`px-3 py-1 rounded font-semibold ${B===F?"bg-purple-600 text-white shadow":"bg-gray-300 text-gray-600"}`,children:L}),B!==Qg.length-1&&w.jsx("span",{children:"➡️"})]},L))}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("strong",{children:"Items:"}),D.items?.map(L=>w.jsxs("div",{className:"flex justify-between bg-gray-50 p-3 rounded",children:[w.jsxs("div",{className:"flex gap-4 items-center max-w-xs",children:[w.jsx("img",{src:L.image||"/placeholder.jpg",alt:L.name,className:"w-16 h-16 object-cover rounded"}),w.jsxs("div",{children:[w.jsx("div",{className:"font-medium truncate",children:L.name}),w.jsxs("div",{className:"text-sm",children:["Qty: ",L.quantity]})]})]}),w.jsxs("div",{className:"font-semibold",children:["₹",(L.price*L.quantity).toFixed(2)]})]},L.name))]}),w.jsxs("div",{className:"text-right font-bold text-lg",children:["Total: ₹",D.total.toFixed(2)]}),D.estimatedDelivery&&w.jsxs("div",{className:"text-sm mt-2",children:[w.jsx("strong",{children:"Estimated Delivery:"})," ",Gd(D.estimatedDelivery?.toDate?D.estimatedDelivery.toDate():new Date(D.estimatedDelivery),"PPP")]}),D.trackingUrl&&w.jsx("div",{className:"mt-2 text-right",children:w.jsx("a",{href:D.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Track Order"})}),w.jsxs("div",{className:"flex flex-wrap gap-3 justify-end items-center",children:[w.jsx(Ot,{disabled:!e,onClick:()=>n(D),className:`px-4 py-2 ${e?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Download Invoice PDF"}),C(D.status)&&w.jsx(Ot,{onClick:()=>I(D.id),disabled:T[D.id],variant:"destructive",children:T[D.id]?"Cancelling...":"Cancel Order"})]})]},D.id)})}),y&&w.jsx("div",{className:"text-center mt-6",children:w.jsx(Ot,{onClick:S,disabled:g,className:"inline-block",children:g?"Loading...":"Load More"})})]})}const Jg=["Ordered","Shipped","Out For Delivery","Delivered","Cancelled"];function AY(){const{orderId:t}=rC(),e=Ja(),{user:n}=ha(),[r,i]=$.useState(null),[s,o]=$.useState(!0),[a,c]=$.useState(null),d=n?.email==="admin@example.com";$.useEffect(()=>{async function y(){try{const S=Hn(an,"orders",t),_=await df(S);_.exists()?i({id:_.id,..._.data()}):c("Order not found.")}catch{c("Failed to load order.")}finally{o(!1)}}y()},[t]);const f=$.useCallback(async y=>{if(r){if(y==="Cancelled"&&["Shipped","Delivered"].includes(r.status)){alert("Cannot cancel an order already shipped or delivered.");return}try{const S=Hn(an,"orders",r.id);await Ha(S,{status:y}),i(_=>({..._,status:y})),alert("Status updated.")}catch{alert("Failed to update status.")}}},[r]);if(s)return w.jsx("p",{className:"p-6",children:"Loading order..."});if(a)return w.jsx("p",{className:"text-red-600 p-6",children:a});if(!r)return w.jsx("p",{className:"p-6",children:"No order found."});const h=r.createdAt?.toDate?Gd(r.createdAt.toDate(),"PPPp"):"",g=Jg.indexOf(r.status);return w.jsxs("main",{className:"max-w-3xl mx-auto p-6 bg-white rounded shadow space-y-6",children:[w.jsx("button",{onClick:()=>e(-1),className:"text-blue-600 underline",children:"← Back to Orders"}),w.jsxs("h1",{className:"text-2xl font-bold",children:["Order #",r.id]}),w.jsxs("section",{children:[w.jsxs("div",{className:"text-sm text-gray-700 mb-4",children:[w.jsx("strong",{children:"Order Date:"})," ",h]}),w.jsx("div",{className:"flex items-center gap-2 text-sm flex-wrap mb-6",role:"list","aria-label":"Order delivery progress",children:Jg.map((y,S)=>{const _=S<=g;return w.jsxs(it.Fragment,{children:[w.jsx("span",{role:"listitem","aria-current":r.status===y?"step":void 0,className:`px-3 py-1 rounded font-semibold whitespace-nowrap ${_?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:y}),S!==Jg.length-1&&w.jsx("span",{"aria-hidden":"true",children:"➡️"})]},y)})}),r.estimatedDelivery&&w.jsxs("p",{children:[w.jsx("strong",{children:"Estimated Delivery:"})," ",r.estimatedDelivery.toDate?Gd(r.estimatedDelivery.toDate(),"PPP"):new Date(r.estimatedDelivery).toLocaleDateString()]}),r.trackingUrl&&w.jsx("p",{children:w.jsx("a",{href:r.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Track Order"})}),w.jsxs("div",{className:"mt-4",children:[w.jsx("h2",{className:"font-semibold",children:"Shipping Address"}),w.jsxs("address",{className:"not-italic ml-2 space-y-1",children:[w.jsx("div",{children:r.address?.fullName}),w.jsx("div",{children:r.address?.email}),w.jsx("div",{children:r.address?.address}),w.jsxs("div",{children:[r.address?.city," - ",r.address?.postalCode]}),w.jsx("div",{children:r.address?.country})]})]}),w.jsxs("div",{className:"mt-6",children:[w.jsx("h2",{className:"font-semibold mb-2",children:"Items"}),w.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.items?.map(y=>w.jsxs("li",{children:[y.name," — Qty: ",y.quantity," — ₹",(y.price*y.quantity).toFixed(2)]},y.id||y.name))})]}),w.jsxs("p",{className:"mt-4 font-bold text-lg",children:["Total Paid: ₹",r.total.toFixed(2)]})]}),d&&w.jsxs("section",{className:"mt-6",children:[w.jsx("h2",{className:"font-semibold mb-2",children:"Admin: Update Order Status"}),w.jsx("select",{value:r.status,onChange:y=>f(y.target.value),disabled:r.status==="Cancelled"||r.status==="Delivered",className:"border p-2 rounded",children:Jg.map(y=>w.jsx("option",{value:y,disabled:r.status==="Cancelled",children:y},y))})]})]})}function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dy.apply(null,arguments)}function CY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PY(t){$.useEffect(t,[])}var NY=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function IY(t,e){var n=e===void 0?{}:e,r=n.volume,i=r===void 0?1:r,s=n.playbackRate,o=s===void 0?1:s,a=n.soundEnabled,c=a===void 0?!0:a,d=n.interrupt,f=d===void 0?!1:d,h=n.onload,g=CY(n,NY),y=it.useRef(null),S=it.useRef(!1),_=it.useState(null),T=_[0],E=_[1],C=it.useState(null),I=C[0],D=C[1],K=function(){typeof h=="function"&&h.call(this),S.current&&E(this.duration()*1e3),D(this)};PY(function(){return sy(()=>import("./howler-C9hiiFaK.js").then(H=>H.h),[]).then(function(H){if(!S.current){var k;y.current=(k=H.Howl)!==null&&k!==void 0?k:H.default.Howl,S.current=!0,new y.current(dy({src:Array.isArray(t)?t:[t],volume:i,rate:o,onload:K},g))}}),function(){S.current=!1}}),it.useEffect(function(){y.current&&I&&D(new y.current(dy({src:Array.isArray(t)?t:[t],volume:i,onload:K},g)))},[JSON.stringify(t)]),it.useEffect(function(){I&&(I.volume(i),g.sprite||I.rate(o))},[I,i,o]);var ae=it.useCallback(function(H){typeof H>"u"&&(H={}),!(!I||!c&&!H.forceSoundEnabled)&&(f&&I.stop(),H.playbackRate&&I.rate(H.playbackRate),I.play(H.id))},[I,c,f]),F=it.useCallback(function(H){I&&I.stop(H)},[I]),L=it.useCallback(function(H){I&&I.pause(H)},[I]),B=[ae,{sound:I,stop:F,pause:L,duration:T}];return B}const kY=["yourw2cstore.com","your-affiliate-domain.com"],RY=()=>{const[t,e]=$.useState("idle"),[n,r]=$.useState(""),[i,s]=$.useState(""),[o,a]=$.useState(null),[c,d]=$.useState(""),{toast:f}=Mo(),h=Ja(),{addToWishlist:g}=cv(),[y]=IY(H5,{volume:.5}),S=C=>{try{const I=new URL(C).hostname.toLowerCase();return kY.some(D=>I.includes(D))}catch{return!1}},_=async C=>{if(C.preventDefault(),!n.trim()){f({title:"URL Required",description:"Please paste a product URL.",variant:"destructive"});return}try{new URL(n)}catch{f({title:"Invalid URL",description:"Please enter a valid URL.",variant:"destructive"});return}e("fetching"),a(null),d("");const I="https://my-cors-proxy-671248690215.asia-south.proxy.app/?url=",D=n;try{const K=await fetch(I+encodeURIComponent(D));if(!K.ok)throw new Error("Failed to fetch the page. The site may be down or the CORS proxy may be unavailable.");const ae=await K.text(),L=new DOMParser().parseFromString(ae,"text/html");let B,H,k;const j=new URL(D).hostname.replace("www.",""),z=L.querySelector('script[type="application/ld+json"]');if(z)try{const se=JSON.parse(z.textContent),le=Array.isArray(se)?se.find(re=>re["@type"]==="Product"):se["@type"]==="Product"?se:null;if(le){B=le.name,k=Array.isArray(le.image)?le.image[0]:le.image;const re=Array.isArray(le.offers)?le.offers[0]:le.offers;re&&(H=re.price)}}catch{}if(!B||!H||!k){const se=le=>L.querySelector(`meta[property="${le}"]`)?.getAttribute("content");B=B||se("og:title"),k=k||se("og:image"),H=H||se("product:price:amount")||se("og:price:amount")}if(!B||!H||!k){const se=new URL(D).hostname.toLowerCase(),le={"amazon.in":{title:()=>L.getElementById("productTitle")?.innerText.trim(),price:()=>L.querySelector(".a-price .a-price-whole")?.innerText.trim()||L.querySelector("#priceblock_ourprice")?.innerText.trim()||L.querySelector("#priceblock_dealprice")?.innerText.trim(),image:()=>L.getElementById("landingImage")?.src},"flipkart.com":{title:()=>L.querySelector("span.B_NuCI")?.innerText.trim(),price:()=>L.querySelector("div._30jeq3._16J6g6")?.innerText.trim(),image:()=>L.querySelector("img._396cs4._3exPp9")?.src}};let re=null;se.includes("amazon")?re=le["amazon.in"]:se.includes("flipkart")&&(re=le["flipkart.com"]),re&&(B=B||re.title(),H=H||re.price(),k=k||re.image())}if(!B||!H||!k)throw new Error("Could not automatically find product details. Please try another link or add manually.");const oe=parseFloat(String(H).replace(/[^\d.]/g,""));if(isNaN(oe)||oe<=0)throw new Error("Invalid price detected. Please check the product URL.");const de={id:D,title:B,price:oe,image:k,store:j,url:D,sourceType:"marketplace",addedAt:new Date().toISOString()};a(de),e("preview"),f({title:"✔️ Product found!",description:`Fetched from ${de.store}.`})}catch(K){d(K.message||"Failed to fetch product data."),e("error")}},T=()=>{if(!o)return;if(S(o.url)){f({title:"❌ Cannot add product",description:"This product is part of our internal catalog and cannot be added here.",variant:"destructive"});return}const C={...o,tags:i.split(",").map(I=>I.trim()).filter(Boolean),inCart:!1};g(C,"universal"),D8(),y(),f({title:"🎉 Wish added!",description:`Added "${C.title}" to your Wishlist.`}),setTimeout(()=>{h("/dashboard")},800)},E=()=>{r(""),s(""),a(null),d(""),e("idle")};return w.jsxs(w.Fragment,{children:[w.jsxs(Oc,{children:[w.jsx("title",{children:"Add to Wishlist | Wishlist Integration"}),w.jsx("meta",{name:"description",content:"Add products to your wishlist from any online store."})]}),w.jsxs("main",{className:"flex flex-col min-h-[calc(100vh-4rem)] max-w-xl mx-auto px-4 py-16",children:[w.jsxs("div",{className:"text-center mb-10 select-none",children:[w.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-violet-500 to-blue-500 shadow-lg mb-4",children:w.jsx(Cm,{className:"w-8 h-8 text-white drop-shadow-md animate-pulse"})}),w.jsx("h1",{className:"text-5xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:"Add to Wishlist"}),w.jsx("p",{className:"mt-3 text-lg text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:"Paste a product link from any supported online store below."})]}),w.jsx("div",{className:"flex-grow min-h-0",children:w.jsxs(Iy,{mode:"wait",initial:!1,children:[t==="idle"&&w.jsx(Sn.form,{onSubmit:_,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-4",children:w.jsxs("div",{className:"flex items-center rounded-full bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 px-4 py-2 shadow",children:[w.jsx(qM,{className:"text-gray-400 w-5 h-5 mr-2"}),w.jsx($n,{type:"url",placeholder:"Paste product URL here",value:n,onChange:C=>r(C.target.value),required:!0,className:"bg-transparent border-none focus:ring-0",spellCheck:!1,autoComplete:"off"}),w.jsx(Ot,{type:"submit",className:"ml-2 rounded-full",size:"lg",children:"Fetch Details"})]})},"idle"),t==="fetching"&&w.jsxs(Sn.div,{className:"flex flex-col items-center justify-center p-10",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:[w.jsx($M,{className:"w-12 h-12 text-blue-500 animate-spin"}),w.jsx("p",{className:"mt-4 text-lg font-medium text-gray-700 dark:text-gray-300",children:"Analyzing link…"}),w.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Fetching product details..."})]},"fetching"),t==="error"&&w.jsxs(Sn.div,{className:"rounded-xl bg-red-50 dark:bg-red-900/20 p-8 text-center border border-red-200 dark:border-red-700",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:[w.jsx(RM,{className:"mx-auto mb-4 h-12 w-12 text-red-600 dark:text-red-400"}),w.jsx("h2",{className:"text-2xl font-semibold text-red-700 dark:text-red-300 mb-2",children:"Oops! Something went wrong."}),w.jsx("p",{className:"text-red-600 dark:text-red-400 max-w-md mx-auto",children:c||"Unable to fetch product information."}),w.jsxs(Ot,{onClick:E,variant:"outline",size:"lg",className:"mt-6",children:[w.jsx(AS,{className:"inline mr-2 h-5 w-5"})," Try Again"]})]},"error"),t==="preview"&&o&&w.jsxs(Sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"max-w-xl mx-auto space-y-6 bg-white dark:bg-gray-900/30 border border-gray-200 dark:border-gray-700 rounded-lg backdrop-blur-md p-6 shadow-xl",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-center",children:[w.jsx("div",{className:"w-28 h-28 rounded-lg bg-white dark:bg-gray-800 shadow-md overflow-hidden flex items-center justify-center p-2",children:w.jsx("img",{src:o.image,alt:o.title,className:"max-w-full max-h-full object-contain"})}),w.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[w.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:["From ",o.store]}),w.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:o.title}),w.jsxs("p",{className:"text-xl font-extrabold text-blue-600 dark:text-blue-400 mt-1",children:["₹",o.price.toFixed(2)]})]})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"tags",className:"block mb-1 font-semibold text-gray-700 dark:text-gray-200",children:"Add Tags (optional)"}),w.jsxs("div",{className:"relative",children:[w.jsx(Pm,{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400"}),w.jsx($n,{id:"tags",type:"text",placeholder:"Separate tags with commas",value:i,onChange:C=>s(C.target.value),className:"pl-10",spellCheck:!1,autoComplete:"off"})]})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[w.jsxs(Ot,{onClick:E,variant:"outline",size:"lg",className:"flex-1",children:[w.jsx(AS,{className:"mr-2 h-5 w-5"})," Reset"]}),w.jsxs(Ot,{onClick:T,size:"lg",className:"flex-1",disabled:!o,children:[w.jsx(DP,{className:"mr-2 h-5 w-5"})," Add to Wishlist"]})]})]},"preview")]})})]})]})};function JI(t,e){return function(){return t.apply(e,arguments)}}const{toString:LY}=Object.prototype,{getPrototypeOf:X5}=Object,{iterator:mv,toStringTag:ZI}=Symbol,gv=(t=>e=>{const n=LY.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nl=t=>(t=t.toLowerCase(),e=>gv(e)===t),yv=t=>e=>typeof e===t,{isArray:Hh}=Array,bm=yv("undefined");function Wm(t){return t!==null&&!bm(t)&&t.constructor!==null&&!bm(t.constructor)&&oo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ek=nl("ArrayBuffer");function DY(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ek(t.buffer),e}const OY=yv("string"),oo=yv("function"),tk=yv("number"),$m=t=>t!==null&&typeof t=="object",jY=t=>t===!0||t===!1,w0=t=>{if(gv(t)!=="object")return!1;const e=X5(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ZI in t)&&!(mv in t)},MY=t=>{if(!$m(t)||Wm(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},FY=nl("Date"),VY=nl("File"),BY=nl("Blob"),UY=nl("FileList"),zY=t=>$m(t)&&oo(t.pipe),qY=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||oo(t.append)&&((e=gv(t))==="formdata"||e==="object"&&oo(t.toString)&&t.toString()==="[object FormData]"))},WY=nl("URLSearchParams"),[$Y,HY,GY,KY]=["ReadableStream","Request","Response","Headers"].map(nl),YY=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Hh(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Wm(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function nk(t,e){if(Wm(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Kd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rk=t=>!bm(t)&&t!==Kd;function Hw(){const{caseless:t}=rk(this)&&this||{},e={},n=(r,i)=>{const s=t&&nk(e,i)||i;w0(e[s])&&w0(r)?e[s]=Hw(e[s],r):w0(r)?e[s]=Hw({},r):Hh(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Hm(arguments[r],n);return e}const XY=(t,e,n,{allOwnKeys:r}={})=>(Hm(e,(i,s)=>{n&&oo(i)?t[s]=JI(i,n):t[s]=i},{allOwnKeys:r}),t),QY=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),JY=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ZY=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&X5(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},eX=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},tX=t=>{if(!t)return null;if(Hh(t))return t;let e=t.length;if(!tk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},nX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&X5(Uint8Array)),rX=(t,e)=>{const r=(t&&t[mv]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},iX=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},sX=nl("HTMLFormElement"),oX=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),wA=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),aX=nl("RegExp"),ik=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Hm(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},lX=t=>{ik(t,(e,n)=>{if(oo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(oo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},cX=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Hh(t)?r(t):r(String(t).split(e)),n},uX=()=>{},dX=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function fX(t){return!!(t&&oo(t.append)&&t[ZI]==="FormData"&&t[mv])}const hX=t=>{const e=new Array(10),n=(r,i)=>{if($m(r)){if(e.indexOf(r)>=0)return;if(Wm(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Hh(r)?[]:{};return Hm(r,(o,a)=>{const c=n(o,i+1);!bm(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return n(t,0)},pX=nl("AsyncFunction"),mX=t=>t&&($m(t)||oo(t))&&oo(t.then)&&oo(t.catch),sk=((t,e)=>t?setImmediate:e?((n,r)=>(Kd.addEventListener("message",({source:i,data:s})=>{i===Kd&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Kd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",oo(Kd.postMessage)),gX=typeof queueMicrotask<"u"?queueMicrotask.bind(Kd):typeof process<"u"&&process.nextTick||sk,yX=t=>t!=null&&oo(t[mv]),Me={isArray:Hh,isArrayBuffer:ek,isBuffer:Wm,isFormData:qY,isArrayBufferView:DY,isString:OY,isNumber:tk,isBoolean:jY,isObject:$m,isPlainObject:w0,isEmptyObject:MY,isReadableStream:$Y,isRequest:HY,isResponse:GY,isHeaders:KY,isUndefined:bm,isDate:FY,isFile:VY,isBlob:BY,isRegExp:aX,isFunction:oo,isStream:zY,isURLSearchParams:WY,isTypedArray:nX,isFileList:UY,forEach:Hm,merge:Hw,extend:XY,trim:YY,stripBOM:QY,inherits:JY,toFlatObject:ZY,kindOf:gv,kindOfTest:nl,endsWith:eX,toArray:tX,forEachEntry:rX,matchAll:iX,isHTMLForm:sX,hasOwnProperty:wA,hasOwnProp:wA,reduceDescriptors:ik,freezeMethods:lX,toObjectSet:cX,toCamelCase:oX,noop:uX,toFiniteNumber:dX,findKey:nk,global:Kd,isContextDefined:rk,isSpecCompliantForm:fX,toJSONObject:hX,isAsyncFn:pX,isThenable:mX,setImmediate:sk,asap:gX,isIterable:yX};function Jt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Me.inherits(Jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const ok=Jt.prototype,ak={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ak[t]={value:t}});Object.defineProperties(Jt,ak);Object.defineProperty(ok,"isAxiosError",{value:!0});Jt.from=(t,e,n,r,i,s)=>{const o=Object.create(ok);return Me.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Jt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const vX=null;function Gw(t){return Me.isPlainObject(t)||Me.isArray(t)}function lk(t){return Me.endsWith(t,"[]")?t.slice(0,-2):t}function bA(t,e,n){return t?t.concat(e).map(function(i,s){return i=lk(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function wX(t){return Me.isArray(t)&&!t.some(Gw)}const bX=Me.toFlatObject(Me,{},null,function(e){return/^is[A-Z]/.test(e)});function vv(t,e,n){if(!Me.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,T){return!Me.isUndefined(T[_])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(e);if(!Me.isFunction(i))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(Me.isDate(S))return S.toISOString();if(Me.isBoolean(S))return S.toString();if(!c&&Me.isBlob(S))throw new Jt("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(S)||Me.isTypedArray(S)?c&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function f(S,_,T){let E=S;if(S&&!T&&typeof S=="object"){if(Me.endsWith(_,"{}"))_=r?_:_.slice(0,-2),S=JSON.stringify(S);else if(Me.isArray(S)&&wX(S)||(Me.isFileList(S)||Me.endsWith(_,"[]"))&&(E=Me.toArray(S)))return _=lk(_),E.forEach(function(I,D){!(Me.isUndefined(I)||I===null)&&e.append(o===!0?bA([_],D,s):o===null?_:_+"[]",d(I))}),!1}return Gw(S)?!0:(e.append(bA(T,_,s),d(S)),!1)}const h=[],g=Object.assign(bX,{defaultVisitor:f,convertValue:d,isVisitable:Gw});function y(S,_){if(!Me.isUndefined(S)){if(h.indexOf(S)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(S),Me.forEach(S,function(E,C){(!(Me.isUndefined(E)||E===null)&&i.call(e,E,Me.isString(C)?C.trim():C,_,g))===!0&&y(E,_?_.concat(C):[C])}),h.pop()}}if(!Me.isObject(t))throw new TypeError("data must be an object");return y(t),e}function xA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Q5(t,e){this._pairs=[],t&&vv(t,this,e)}const ck=Q5.prototype;ck.append=function(e,n){this._pairs.push([e,n])};ck.toString=function(e){const n=e?function(r){return e.call(this,r,xA)}:xA;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function xX(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uk(t,e,n){if(!e)return t;const r=n&&n.encode||xX;Me.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Me.isURLSearchParams(e)?e.toString():new Q5(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class _A{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Me.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_X=typeof URLSearchParams<"u"?URLSearchParams:Q5,SX=typeof FormData<"u"?FormData:null,TX=typeof Blob<"u"?Blob:null,EX={isBrowser:!0,classes:{URLSearchParams:_X,FormData:SX,Blob:TX},protocols:["http","https","file","blob","url","data"]},J5=typeof window<"u"&&typeof document<"u",Kw=typeof navigator=="object"&&navigator||void 0,AX=J5&&(!Kw||["ReactNative","NativeScript","NS"].indexOf(Kw.product)<0),CX=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PX=J5&&window.location.href||"http://localhost",NX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:J5,hasStandardBrowserEnv:AX,hasStandardBrowserWebWorkerEnv:CX,navigator:Kw,origin:PX},Symbol.toStringTag,{value:"Module"})),hs={...NX,...EX};function IX(t,e){return vv(t,new hs.classes.URLSearchParams,{visitor:function(n,r,i,s){return hs.isNode&&Me.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function kX(t){return Me.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function RX(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function fk(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=n.length;return o=!o&&Me.isArray(i)?i.length:o,c?(Me.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Me.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Me.isArray(i[o])&&(i[o]=RX(i[o])),!a)}if(Me.isFormData(t)&&Me.isFunction(t.entries)){const n={};return Me.forEachEntry(t,(r,i)=>{e(kX(r),i,n,0)}),n}return null}function LX(t,e,n){if(Me.isString(t))try{return(e||JSON.parse)(t),Me.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Gm={transitional:dk,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Me.isObject(e);if(s&&Me.isHTMLForm(e)&&(e=new FormData(e)),Me.isFormData(e))return i?JSON.stringify(fk(e)):e;if(Me.isArrayBuffer(e)||Me.isBuffer(e)||Me.isStream(e)||Me.isFile(e)||Me.isBlob(e)||Me.isReadableStream(e))return e;if(Me.isArrayBufferView(e))return e.buffer;if(Me.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return IX(e,this.formSerializer).toString();if((a=Me.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return vv(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),LX(e)):e}],transformResponse:[function(e){const n=this.transitional||Gm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Me.isResponse(e)||Me.isReadableStream(e))return e;if(e&&Me.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Jt.from(a,Jt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],t=>{Gm.headers[t]={}});const DX=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OX=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&DX[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},SA=Symbol("internals");function Pp(t){return t&&String(t).trim().toLowerCase()}function b0(t){return t===!1||t==null?t:Me.isArray(t)?t.map(b0):String(t)}function jX(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const MX=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function y2(t,e,n,r,i){if(Me.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Me.isString(e)){if(Me.isString(r))return e.indexOf(r)!==-1;if(Me.isRegExp(r))return r.test(e)}}function FX(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function VX(t,e){const n=Me.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let ao=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,c,d){const f=Pp(c);if(!f)throw new Error("header name must be a non-empty string");const h=Me.findKey(i,f);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=b0(a))}const o=(a,c)=>Me.forEach(a,(d,f)=>s(d,f,c));if(Me.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Me.isString(e)&&(e=e.trim())&&!MX(e))o(OX(e),n);else if(Me.isObject(e)&&Me.isIterable(e)){let a={},c,d;for(const f of e){if(!Me.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[d=f[0]]=(c=a[d])?Me.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Pp(e),e){const r=Me.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return jX(i);if(Me.isFunction(n))return n.call(this,i,r);if(Me.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Pp(e),e){const r=Me.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||y2(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Pp(o),o){const a=Me.findKey(r,o);a&&(!n||y2(r,r[a],a,n))&&(delete r[a],i=!0)}}return Me.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||y2(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Me.forEach(this,(i,s)=>{const o=Me.findKey(r,s);if(o){n[o]=b0(i),delete n[s];return}const a=e?FX(s):String(s).trim();a!==s&&delete n[s],n[a]=b0(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Me.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Me.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[SA]=this[SA]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Pp(o);r[a]||(VX(i,o),r[a]=!0)}return Me.isArray(e)?e.forEach(s):s(e),this}};ao.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(ao.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Me.freezeMethods(ao);function v2(t,e){const n=this||Gm,r=e||n,i=ao.from(r.headers);let s=r.data;return Me.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function hk(t){return!!(t&&t.__CANCEL__)}function Gh(t,e,n){Jt.call(this,t??"canceled",Jt.ERR_CANCELED,e,n),this.name="CanceledError"}Me.inherits(Gh,Jt,{__CANCEL__:!0});function pk(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Jt("Request failed with status code "+n.status,[Jt.ERR_BAD_REQUEST,Jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function BX(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function UX(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=r[s];o||(o=d),n[i]=c,r[i]=d;let h=s,g=0;for(;h!==i;)g+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const y=f&&d-f;return y?Math.round(g*1e3/y):void 0}}function zX(t,e){let n=0,r=1e3/e,i,s;const o=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t(...d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const fy=(t,e,n=3)=>{let r=0;const i=UX(50,250);return zX(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),f=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:d||void 0,estimated:d&&a&&f?(a-o)/d:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},TA=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},EA=t=>(...e)=>Me.asap(()=>t(...e)),qX=hs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,hs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(hs.origin),hs.navigator&&/(msie|trident)/i.test(hs.navigator.userAgent)):()=>!0,WX=hs.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Me.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Me.isString(r)&&o.push("path="+r),Me.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $X(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function HX(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mk(t,e,n){let r=!$X(e);return t&&(r||n==!1)?HX(t,e):e}const AA=t=>t instanceof ao?{...t}:t;function pf(t,e){e=e||{};const n={};function r(d,f,h,g){return Me.isPlainObject(d)&&Me.isPlainObject(f)?Me.merge.call({caseless:g},d,f):Me.isPlainObject(f)?Me.merge({},f):Me.isArray(f)?f.slice():f}function i(d,f,h,g){if(Me.isUndefined(f)){if(!Me.isUndefined(d))return r(void 0,d,h,g)}else return r(d,f,h,g)}function s(d,f){if(!Me.isUndefined(f))return r(void 0,f)}function o(d,f){if(Me.isUndefined(f)){if(!Me.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function a(d,f,h){if(h in e)return r(d,f);if(h in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,f,h)=>i(AA(d),AA(f),h,!0)};return Me.forEach(Object.keys({...t,...e}),function(f){const h=c[f]||i,g=h(t[f],e[f],f);Me.isUndefined(g)&&h!==a||(n[f]=g)}),n}const gk=t=>{const e=pf({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=ao.from(o),e.url=uk(mk(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(Me.isFormData(n)){if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...f]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(hs.hasStandardBrowserEnv&&(r&&Me.isFunction(r)&&(r=r(e)),r||r!==!1&&qX(e.url))){const d=i&&s&&WX.read(s);d&&o.set(i,d)}return e},GX=typeof XMLHttpRequest<"u",KX=GX&&function(t){return new Promise(function(n,r){const i=gk(t);let s=i.data;const o=ao.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:d}=i,f,h,g,y,S;function _(){y&&y(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function E(){if(!T)return;const I=ao.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),K={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:I,config:t,request:T};pk(function(F){n(F),_()},function(F){r(F),_()},K),T=null}"onloadend"in T?T.onloadend=E:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(E)},T.onabort=function(){T&&(r(new Jt("Request aborted",Jt.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new Jt("Network Error",Jt.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let D=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const K=i.transitional||dk;i.timeoutErrorMessage&&(D=i.timeoutErrorMessage),r(new Jt(D,K.clarifyTimeoutError?Jt.ETIMEDOUT:Jt.ECONNABORTED,t,T)),T=null},s===void 0&&o.setContentType(null),"setRequestHeader"in T&&Me.forEach(o.toJSON(),function(D,K){T.setRequestHeader(K,D)}),Me.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),a&&a!=="json"&&(T.responseType=i.responseType),d&&([g,S]=fy(d,!0),T.addEventListener("progress",g)),c&&T.upload&&([h,y]=fy(c),T.upload.addEventListener("progress",h),T.upload.addEventListener("loadend",y)),(i.cancelToken||i.signal)&&(f=I=>{T&&(r(!I||I.type?new Gh(null,t,T):I),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const C=BX(i.url);if(C&&hs.protocols.indexOf(C)===-1){r(new Jt("Unsupported protocol "+C+":",Jt.ERR_BAD_REQUEST,t));return}T.send(s||null)})},YX=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,a();const f=d instanceof Error?d:this.reason;r.abort(f instanceof Jt?f:new Gh(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new Jt(`timeout ${e} of ms exceeded`,Jt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Me.asap(a),c}},XX=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},QX=async function*(t,e){for await(const n of JX(t))yield*XX(n,e)},JX=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},CA=(t,e,n,r)=>{const i=QX(t,e);let s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){a(),c.close();return}let h=f.byteLength;if(n){let g=s+=h;n(g)}c.enqueue(new Uint8Array(f))}catch(d){throw a(d),d}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},wv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",yk=wv&&typeof ReadableStream=="function",ZX=wv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),vk=(t,...e)=>{try{return!!t(...e)}catch{return!1}},eQ=yk&&vk(()=>{let t=!1;const e=new Request(hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),PA=64*1024,Yw=yk&&vk(()=>Me.isReadableStream(new Response("").body)),hy={stream:Yw&&(t=>t.body)};wv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hy[e]&&(hy[e]=Me.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Jt(`Response type '${e}' is not supported`,Jt.ERR_NOT_SUPPORT,r)})})})(new Response);const tQ=async t=>{if(t==null)return 0;if(Me.isBlob(t))return t.size;if(Me.isSpecCompliantForm(t))return(await new Request(hs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(t)||Me.isArrayBuffer(t))return t.byteLength;if(Me.isURLSearchParams(t)&&(t=t+""),Me.isString(t))return(await ZX(t)).byteLength},nQ=async(t,e)=>{const n=Me.toFiniteNumber(t.getContentLength());return n??tQ(e)},rQ=wv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:d,headers:f,withCredentials:h="same-origin",fetchOptions:g}=gk(t);d=d?(d+"").toLowerCase():"text";let y=YX([i,s&&s.toAbortSignal()],o),S;const _=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let T;try{if(c&&eQ&&n!=="get"&&n!=="head"&&(T=await nQ(f,r))!==0){let K=new Request(e,{method:"POST",body:r,duplex:"half"}),ae;if(Me.isFormData(r)&&(ae=K.headers.get("content-type"))&&f.setContentType(ae),K.body){const[F,L]=TA(T,fy(EA(c)));r=CA(K.body,PA,F,L)}}Me.isString(h)||(h=h?"include":"omit");const E="credentials"in Request.prototype;S=new Request(e,{...g,signal:y,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:E?h:void 0});let C=await fetch(S,g);const I=Yw&&(d==="stream"||d==="response");if(Yw&&(a||I&&_)){const K={};["status","statusText","headers"].forEach(B=>{K[B]=C[B]});const ae=Me.toFiniteNumber(C.headers.get("content-length")),[F,L]=a&&TA(ae,fy(EA(a),!0))||[];C=new Response(CA(C.body,PA,F,()=>{L&&L(),_&&_()}),K)}d=d||"text";let D=await hy[Me.findKey(hy,d)||"text"](C,t);return!I&&_&&_(),await new Promise((K,ae)=>{pk(K,ae,{data:D,headers:ao.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:S})})}catch(E){throw _&&_(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new Jt("Network Error",Jt.ERR_NETWORK,t,S),{cause:E.cause||E}):Jt.from(E,E&&E.code,t,S)}}),Xw={http:vX,xhr:KX,fetch:rQ};Me.forEach(Xw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const NA=t=>`- ${t}`,iQ=t=>Me.isFunction(t)||t===null||t===!1,wk={getAdapter:t=>{t=Me.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!iQ(n)&&(r=Xw[(o=String(n)).toLowerCase()],r===void 0))throw new Jt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(NA).join(`
`):" "+NA(s[0]):"as no adapter specified";throw new Jt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Xw};function w2(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gh(null,t)}function IA(t){return w2(t),t.headers=ao.from(t.headers),t.data=v2.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wk.getAdapter(t.adapter||Gm.adapter)(t).then(function(r){return w2(t),r.data=v2.call(t,t.transformResponse,r),r.headers=ao.from(r.headers),r},function(r){return hk(r)||(w2(t),r&&r.response&&(r.response.data=v2.call(t,t.transformResponse,r.response),r.response.headers=ao.from(r.response.headers))),Promise.reject(r)})}const bk="1.11.0",bv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const kA={};bv.transitional=function(e,n,r){function i(s,o){return"[Axios v"+bk+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Jt(i(o," has been removed"+(n?" in "+n:"")),Jt.ERR_DEPRECATED);return n&&!kA[o]&&(kA[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};bv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function sQ(t,e,n){if(typeof t!="object")throw new Jt("options must be an object",Jt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new Jt("option "+s+" must be "+c,Jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Jt("Unknown option "+s,Jt.ERR_BAD_OPTION)}}const x0={assertOptions:sQ,validators:bv},xl=x0.validators;let tf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _A,response:new _A}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=pf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&x0.assertOptions(r,{silentJSONParsing:xl.transitional(xl.boolean),forcedJSONParsing:xl.transitional(xl.boolean),clarifyTimeoutError:xl.transitional(xl.boolean)},!1),i!=null&&(Me.isFunction(i)?n.paramsSerializer={serialize:i}:x0.assertOptions(i,{encode:xl.function,serialize:xl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),x0.assertOptions(n,{baseUrl:xl.spelling("baseURL"),withXsrfToken:xl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Me.merge(s.common,s[n.method]);s&&Me.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),n.headers=ao.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let f,h=0,g;if(!c){const S=[IA.bind(this),void 0];for(S.unshift(...a),S.push(...d),g=S.length,f=Promise.resolve(n);h<g;)f=f.then(S[h++],S[h++]);return f}g=a.length;let y=n;for(h=0;h<g;){const S=a[h++],_=a[h++];try{y=S(y)}catch(T){_.call(this,T);break}}try{f=IA.call(this,y)}catch(S){return Promise.reject(S)}for(h=0,g=d.length;h<g;)f=f.then(d[h++],d[h++]);return f}getUri(e){e=pf(this.defaults,e);const n=mk(e.baseURL,e.url,e.allowAbsoluteUrls);return uk(n,e.params,e.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(e){tf.prototype[e]=function(n,r){return this.request(pf(r||{},{method:e,url:n,data:(r||{}).data}))}});Me.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(pf(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}tf.prototype[e]=n(),tf.prototype[e+"Form"]=n(!0)});let oQ=class xk{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Gh(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new xk(function(i){e=i}),cancel:e}}};function aQ(t){return function(n){return t.apply(null,n)}}function lQ(t){return Me.isObject(t)&&t.isAxiosError===!0}const Qw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qw).forEach(([t,e])=>{Qw[e]=t});function _k(t){const e=new tf(t),n=JI(tf.prototype.request,e);return Me.extend(n,tf.prototype,e,{allOwnKeys:!0}),Me.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return _k(pf(t,i))},n}const Mr=_k(Gm);Mr.Axios=tf;Mr.CanceledError=Gh;Mr.CancelToken=oQ;Mr.isCancel=hk;Mr.VERSION=bk;Mr.toFormData=vv;Mr.AxiosError=Jt;Mr.Cancel=Mr.CanceledError;Mr.all=function(e){return Promise.all(e)};Mr.spread=aQ;Mr.isAxiosError=lQ;Mr.mergeConfig=pf;Mr.AxiosHeaders=ao;Mr.formToJSON=t=>fk(Me.isHTMLForm(t)?new FormData(t):t);Mr.getAdapter=wk.getAdapter;Mr.HttpStatusCode=Qw;Mr.default=Mr;const{Axios:Cee,AxiosError:Pee,CanceledError:Nee,isCancel:Iee,CancelToken:kee,VERSION:Ree,all:Lee,Cancel:Dee,isAxiosError:Oee,spread:jee,toFormData:Mee,AxiosHeaders:Fee,HttpStatusCode:Vee,formToJSON:Bee,getAdapter:Uee,mergeConfig:zee}=Mr,RA={id:null,fullName:"",streetAddress:"",city:"",postalCode:"",country:"",phone:"",isDefault:!1};function cQ(){const{cartItems:t,clearCart:e,getTotalValue:n,couponApplied:r,couponDiscountPercent:i}=lv(),{user:s}=ha(),{toast:o}=Mo(),a=Ja(),[c,d]=$.useState([]),[f,h]=$.useState(null),[g,y]=$.useState(!1),[S,_]=$.useState({...RA}),[T,E]=$.useState(!1),[C,I]=$.useState({}),[D,K]=$.useState("razorpay"),ae="https://wishlist2cart-backend-671248690215.asia-south1.run.app",F="rzp_test_cTYjfnIYCIJ8eV",L=n;$.useEffect(()=>{if(!s)return;async function se(){try{const le=await df(Hn(an,"users",s.uid));if(le.exists()){const re=le.data()?.addresses||[];d(re);const pe=re.find(Z=>Z.isDefault);pe?h(pe.id):re.length>0&&h(re[0].id)}}catch(le){o({title:"Failed to load addresses",description:le.message,variant:"destructive"})}}se()},[s,o]);const B=(se,le)=>{_(re=>({...re,[se]:le})),C[se]&&I(re=>({...re,[se]:null}))},H=()=>{const se={};return S.fullName?.trim()||(se.fullName="Full Name is required"),S.streetAddress?.trim()||(se.streetAddress="Street Address is required"),S.city?.trim()||(se.city="City is required"),S.postalCode?.trim()||(se.postalCode="Postal Code is required"),S.country?.trim()||(se.country="Country is required"),I(se),Object.keys(se).length===0},k=async()=>{if(!H())return o({title:"Please fill all required fields",variant:"destructive"}),null;E(!0);try{const se=crypto.randomUUID(),le={...S,id:se,isDefault:c.length===0},re=[...c,le];return await Ha(Hn(an,"users",s.uid),{addresses:re}),d(re),h(se),_(RA),y(!1),I({}),o({title:"Address added successfully!"}),le}catch(se){return o({title:"Failed to add address",description:se.message,variant:"destructive"}),null}finally{E(!1)}},j=()=>new Promise(se=>{if(window.Razorpay)return se(!0);const le=document.createElement("script");le.src="https://checkout.razorpay.com/v1/checkout.js",le.onload=()=>se(!0),le.onerror=()=>{o({title:"Razorpay SDK failed to load.",variant:"destructive"}),se(!1)},document.body.appendChild(le)}),z=(se,le)=>new Promise(async(re,pe)=>{if(!await j())return pe(new Error("Could not load Razorpay."));const{data:q}=await Mr.post(`${ae}/create-order`,{amount:se,receipt:`rcpt_${Date.now()}`,notes:{userId:le.userId,address:`${le.address.streetAddress}, ${le.address.city}`}}),V={key:F,amount:q.amount,currency:q.currency,name:"Wishlist2Cart",description:"Order Payment",order_id:q.id,handler:async ee=>{e(),o({title:"Payment Successful!"}),await oe({id:q.id,...le,paymentId:ee.razorpay_payment_id},s.email),a(`/order-success?payment_id=${ee.razorpay_payment_id}&order_id=${q.id}`),re(ee)},prefill:{name:le.address.fullName,email:s.email,contact:le.address.phone},theme:{color:"#7c3aed"}},W=new window.Razorpay(V);W.on("payment.failed",ee=>{o({title:"Payment Failed",description:ee.error.description,variant:"destructive"}),pe(new Error(ee.error.description))}),W.open()}),oe=async(se,le)=>{try{await Mr.post(`${ae}/send-invoice`,{order:se,email:le}),o({title:"Invoice email sent successfully"})}catch(re){console.error("Failed to send invoice email:",re),o({title:"Failed to send invoice email",variant:"destructive"})}},de=async()=>{if(!s||t.length===0||T)return;let se=c.find(pe=>pe.id===f);if(g){const pe=await k();if(!pe)return;se=pe}if(!se){o({title:"Please select or add a shipping address",variant:"destructive"});return}E(!0);const le=L,re={userId:s.uid,userName:s.displayName||s.email,items:t.map(({addedAt:pe,...Z})=>Z),address:se,total:le,paymentMethod:D,estimatedDelivery:new Date(Date.now()+5*864e5),status:"Pending Payment",createdAt:Dc(),couponApplied:r,couponDiscountPercent:i};try{if(D==="cod"){const pe={...re,status:"Processing",paymentId:"COD"},Z=await sv(so(an,"orders"),pe);e(),o({title:"Order placed successfully"}),await oe({id:Z.id,...pe},s.email),a(`/order-success?order_id=${Z.id}`)}else D==="razorpay"&&await z(le,re)}catch(pe){o({title:"Order Failed",description:pe.message,variant:"destructive"})}finally{E(!1)}};return s?t.length===0?w.jsx("div",{className:"container mx-auto py-20 text-center",children:"Your cart is empty."}):w.jsxs("div",{className:"container mx-auto max-w-xl p-6 bg-white rounded-lg shadow-md space-y-6",children:[w.jsx("h1",{className:"text-3xl font-bold",children:"Checkout"}),w.jsxs("section",{children:[w.jsx("h2",{className:"font-semibold mb-3",children:"Shipping Address"}),!g&&c.length>0?w.jsxs("div",{className:"space-y-4",children:[c.map(se=>w.jsxs("div",{onClick:()=>h(se.id),className:`p-4 border-2 rounded cursor-pointer transition ${f===se.id?"border-violet-600 bg-violet-50":"border-gray-200 hover:border-violet-300"}`,role:"button",tabIndex:0,onKeyDown:le=>{le.key==="Enter"&&h(se.id)},children:[w.jsx("p",{className:"font-medium text-lg",children:se.fullName}),w.jsxs("p",{children:[se.streetAddress,", ",se.city,", ",se.postalCode,", ",se.country]}),w.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",se.phone||"N/A"]}),se.isDefault&&w.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-violet-600 text-white rounded-full",children:"Default Address"})]},se.id)),w.jsx(Ot,{onClick:()=>y(!0),disabled:T,children:"+ Add New Address"})]}):w.jsxs("div",{className:"space-y-3 mt-4",children:[["fullName","streetAddress","city","postalCode","country"].map(se=>w.jsx($n,{placeholder:se.replace(/([A-Z])/g," $1"),value:S[se],onChange:le=>B(se,le.target.value),disabled:T},se)),w.jsx($n,{placeholder:"Phone (optional)",value:S.phone,onChange:se=>B("phone",se.target.value),disabled:T}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx(Ot,{variant:"secondary",onClick:()=>y(!1),disabled:T,children:"Cancel"}),w.jsx(Ot,{onClick:k,disabled:T,children:"Save Address"})]})]})]}),w.jsxs("section",{className:"space-y-4",children:[w.jsx("h2",{className:"font-semibold",children:"Payment Method"}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("label",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"radio",value:"razorpay",checked:D==="razorpay",onChange:()=>K("razorpay")}),"Pay Online (UPI / Card / Netbanking)"]}),w.jsxs("label",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"radio",value:"cod",checked:D==="cod",onChange:()=>K("cod")}),"Cash on Delivery (COD)"]})]})]}),w.jsxs("div",{className:"text-sm text-gray-500",children:[w.jsx("strong",{children:"Estimated Delivery:"})," ",new Date(Date.now()+5*864e5).toDateString()]}),w.jsx(Ot,{size:"lg",onClick:de,disabled:T,className:"w-full",children:T?"Placing Order...":`Pay ₹${L.toFixed(2)}`})]}):w.jsx("div",{className:"container mx-auto py-20 text-center",children:"Please log in to checkout."})}function uQ({title:t,titleId:e,...n},r){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?$.createElement("title",{id:e},t):null,$.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const dQ=$.forwardRef(uQ),fQ=()=>w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#e0f6ff] via-[#f3f7ff] to-[#c0e3ff]",children:w.jsxs("div",{className:"max-w-md w-full mx-auto p-8 bg-white shadow-2xl rounded-2xl relative",children:[w.jsx("div",{className:"flex justify-center mb-5",children:w.jsx(dQ,{className:"w-16 h-16 text-green-500 animate-bounce"})}),w.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 text-center mb-3 tracking-tight",children:"Order Placed Successfully!"}),w.jsxs("p",{className:"text-center text-gray-600 mb-7 text-lg",children:["Thank you for shopping with us.",w.jsx("br",{}),"You’ll shortly receive your order details by email."]}),w.jsxs("div",{className:"flex gap-4 justify-center mt-6",children:[w.jsxs(Ci,{to:"/orders",className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition-all text-base",children:[w.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[w.jsx("path",{d:"M3 3h2l.357 2.01M7 13h10l4-8H5.793"}),w.jsx("circle",{cx:"9",cy:"20",r:"1"}),w.jsx("circle",{cx:"17",cy:"20",r:"1"})]}),"My Orders"]}),w.jsxs(Ci,{to:"/dashboard",className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-gray-100 text-blue-600 font-semibold shadow hover:bg-blue-200 transition-all border border-blue-100 text-base",children:[w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:w.jsx("path",{d:"M4 4h16v16H4z"})}),"Dashboard"]})]}),w.jsx("div",{className:"absolute -top-4 right-4 bg-green-100 text-green-700 px-4 py-1 rounded-full font-medium text-xs shadow",children:"🎉 Success"})]})}),Np={priceDropAlerts:!0,personalizedRecommendations:!0,weeklyNewsletter:!1},b2={id:null,fullName:"",streetAddress:"",city:"",postalCode:"",country:"",phone:"",isDefault:!1};function hQ(){const{user:t,logout:e}=ha(),{toast:n}=Mo(),[r,i]=$.useState("profile"),[s,o]=$.useState({name:"",email:""}),[a,c]=$.useState(Np),[d,f]=$.useState([]),[h,g]=$.useState(!0),[y,S]=$.useState(b2),[_,T]=$.useState(!1),[E,C]=$.useState(null),[I,D]=$.useState({});$.useEffect(()=>{if(!t)return;(async()=>{g(!0);try{const se=Hn(an,"users",t.uid),le=await df(se);if(le.exists()){const re=le.data();o({name:re.name||"",email:re.email||t.email||""}),c({priceDropAlerts:re.priceDropAlerts??Np.priceDropAlerts,personalizedRecommendations:re.personalizedRecommendations??Np.personalizedRecommendations,weeklyNewsletter:re.weeklyNewsletter??Np.weeklyNewsletter}),f(re.addresses||[])}else o({name:t.displayName||"",email:t.email||""}),c(Np),f([])}catch(se){n({title:"Failed to load settings",description:se.message,variant:"destructive"})}g(!1)})()},[t,n]);const K=async de=>{if(de.preventDefault(),!t){n({title:"Not logged in",description:"Please log in.",variant:"destructive"});return}g(!0);try{const se=Hn(an,"users",t.uid);await Ha(se,{name:s.name,email:s.email,priceDropAlerts:a.priceDropAlerts,personalizedRecommendations:a.personalizedRecommendations,weeklyNewsletter:a.weeklyNewsletter,updatedAt:Dc()},{merge:!0}),n({title:"Settings saved!"})}catch(se){n({title:"Save failed",description:se.message,variant:"destructive"})}g(!1)},ae=(de,se)=>{o(le=>({...le,[de]:se}))},F=de=>{c(se=>({...se,[de]:!se[de]}))},L=(de,se)=>{S(le=>({...le,[de]:se})),I[de]&&D(le=>({...le,[de]:null}))},B=()=>{const de={};return y.fullName.trim()||(de.fullName="Full Name required"),y.streetAddress.trim()||(de.streetAddress="Street Address required"),y.city.trim()||(de.city="City required"),y.postalCode.trim()||(de.postalCode="Postal Code required"),y.country.trim()||(de.country="Country required"),D(de),Object.keys(de).length===0},H=de=>{S(de),C(de),T(!0)},k=()=>{S(b2),T(!1),C(null),D({})},j=async()=>{if(!B())return;let de;E?de=d.map(se=>se.id===E.id?y:se):de=[...d,y],!de.some(se=>se.isDefault)&&de.length>0&&(de[0].isDefault=!0),g(!0);try{const se=Hn(an,"users",t.uid);await Ha(se,{addresses:de}),f(de),n({title:"Address saved"}),k(),i("addresses")}catch(se){n({title:"Save failed",description:se.message,variant:"destructive"})}g(!1)},z=async de=>{if(!window.confirm("Are you sure you want to delete this address?"))return;const se=d.filter(le=>le.id!==de);!se.some(le=>le.isDefault)&&se.length>0&&(se[0].isDefault=!0),g(!0);try{const le=Hn(an,"users",t.uid);await Ha(le,{addresses:se}),f(se),n({title:"Address deleted"}),E?.id===de&&k()}catch(le){n({title:"Delete failed",description:le.message,variant:"destructive"})}g(!1)},oe=async de=>{const se=d.map(le=>({...le,isDefault:le.id===de}));g(!0);try{const le=Hn(an,"users",t.uid);await Ha(le,{addresses:se}),f(se),n({title:"Default address updated"})}catch(le){n({title:"Update failed",description:le.message,variant:"destructive"})}g(!1)};return h?w.jsx("div",{className:"container mx-auto py-20 text-center",children:"Loading..."}):t?w.jsxs(w.Fragment,{children:[w.jsxs(Oc,{children:[w.jsx("title",{children:"Settings - Wishlist"}),w.jsx("meta",{name:"description",content:"Manage your profile, notifications, and addresses."})]}),w.jsxs(Sn.div,{className:"container mx-auto max-w-5xl px-4 py-12",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[w.jsxs("div",{className:"flex flex-wrap gap-4 border-b border-gray-300 dark:border-gray-700 mb-8",children:[w.jsx("button",{className:`px-4 py-2 rounded-t-md font-semibold ${r==="profile"?"border-b-2 border-violet-600 text-violet-600":"text-gray-500 hover:text-violet-600"}`,onClick:()=>i("profile"),type:"button",children:"Profile"}),w.jsx("button",{className:`px-4 py-2 rounded-t-md font-semibold ${r==="notifications"?"border-b-2 border-violet-600 text-violet-600":"text-gray-500 hover:text-violet-600"}`,onClick:()=>i("notifications"),type:"button",children:"Notifications"}),w.jsx("button",{className:`px-4 py-2 rounded-t-md font-semibold ${r==="addresses"?"border-b-2 border-violet-600 text-violet-600":"text-gray-500 hover:text-violet-600"}`,onClick:()=>i("addresses"),type:"button",children:"Addresses"})]}),w.jsxs("form",{onSubmit:K,className:"space-y-8",children:[r==="profile"&&w.jsxs("section",{className:"bg-white dark:bg-gray-900/40 rounded-xl shadow p-6 border border-gray-300 dark:border-gray-700",children:[w.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold mb-6",children:[w.jsx(ky,{className:"text-violet-600"}),"Profile Settings"]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"name",children:"Full Name"}),w.jsx($n,{id:"name",value:s.name,onChange:de=>ae("name",de.target.value),required:!0,disabled:h})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"email",children:"Email Address"}),w.jsx($n,{id:"email",type:"email",value:s.email,onChange:de=>ae("email",de.target.value),required:!0,disabled:h})]})]}),w.jsx("div",{className:"mt-6",children:w.jsxs(Ot,{type:"button",variant:"outline","aria-label":"Logout",className:"text-red-600 border-red-600 hover:bg-red-600 hover:text-white",onClick:e,disabled:h,children:[w.jsx(KM,{className:"inline-block mr-2 h-5 w-5"})," Logout"]})})]}),r==="notifications"&&w.jsxs("section",{className:"bg-white dark:bg-gray-900/40 rounded-xl shadow p-6 border border-gray-300 dark:border-gray-700",children:[w.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold mb-6",children:[w.jsx(LM,{className:"text-violet-600"}),"Notifications"]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx(mn,{htmlFor:"priceDropAlerts",children:"Price Drop Alerts"}),w.jsx("input",{id:"priceDropAlerts",type:"checkbox",checked:a.priceDropAlerts,onChange:()=>F("priceDropAlerts")})]}),w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx(mn,{htmlFor:"personalizedRecommendations",children:"Personalized Recommendations"}),w.jsx("input",{id:"personalizedRecommendations",type:"checkbox",checked:a.personalizedRecommendations,onChange:()=>F("personalizedRecommendations")})]}),w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx(mn,{htmlFor:"weeklyNewsletter",children:"Weekly Newsletter"}),w.jsx("input",{id:"weeklyNewsletter",type:"checkbox",checked:a.weeklyNewsletter,onChange:()=>F("weeklyNewsletter")})]})]})]}),r==="addresses"&&w.jsxs("section",{className:"bg-white dark:bg-gray-900/40 rounded-xl shadow p-6 border border-gray-300 dark:border-gray-700",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold",children:[w.jsx(UM,{className:"text-violet-600"}),"Addresses"]}),!_&&w.jsx(Ot,{variant:"primary",onClick:()=>T(!0),disabled:h,children:"+ Add New"})]}),_?w.jsxs("div",{className:"space-y-4 mb-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"fullName",children:"Full Name"}),w.jsx($n,{id:"fullName",value:y.fullName,onChange:de=>L("fullName",de.target.value),disabled:h}),I.fullName&&w.jsx("p",{className:"text-red-600 text-sm",children:I.fullName})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"phone",children:"Phone"}),w.jsx($n,{id:"phone",value:y.phone,onChange:de=>L("phone",de.target.value),placeholder:"Optional",disabled:h})]}),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx(mn,{htmlFor:"streetAddress",children:"Street Address"}),w.jsx($n,{id:"streetAddress",value:y.streetAddress,onChange:de=>L("streetAddress",de.target.value),disabled:h}),I.streetAddress&&w.jsx("p",{className:"text-red-600 text-sm",children:I.streetAddress})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"city",children:"City"}),w.jsx($n,{id:"city",value:y.city,onChange:de=>L("city",de.target.value),disabled:h}),I.city&&w.jsx("p",{className:"text-red-600 text-sm",children:I.city})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"postalCode",children:"Postal Code"}),w.jsx($n,{id:"postalCode",value:y.postalCode,onChange:de=>L("postalCode",de.target.value),disabled:h}),I.postalCode&&w.jsx("p",{className:"text-red-600 text-sm",children:I.postalCode})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"country",children:"Country"}),w.jsx($n,{id:"country",value:y.country,onChange:de=>L("country",de.target.value),disabled:h}),I.country&&w.jsx("p",{className:"text-red-600 text-sm",children:I.country})]})]}),w.jsxs("div",{className:"flex gap-4 mt-4",children:[w.jsx(Ot,{variant:"primary",onClick:j,disabled:h,children:E?"Update Address":"Save Address"}),w.jsx(Ot,{variant:"outline",onClick:()=>{T(!1),C(null),S(b2),D({})},disabled:h,children:"Cancel"})]})]}):d.length===0?w.jsx("p",{children:'No saved addresses. Click "+ Add New" to add one.'}):d.map(de=>w.jsxs("div",{className:"border border-gray-300 dark:border-gray-700 rounded p-4 mb-4 flex justify-between items-center",role:"region","aria-label":`Address of ${de.fullName}`,children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold",children:de.fullName}),w.jsxs("p",{children:[de.streetAddress,", ",de.city,", ",de.postalCode,", ",de.country]}),w.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Phone: ",de.phone||"N/A"]}),de.isDefault&&w.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-violet-600 text-white rounded",children:"Default"})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[!de.isDefault&&w.jsx(Ot,{variant:"outline",size:"sm",onClick:()=>{oe(de.id)},children:"Set Default"}),w.jsx(Ot,{variant:"ghost",size:"sm",onClick:()=>{H(de)},"aria-label":`Edit address for ${de.fullName}`,children:"Edit"}),w.jsx(Ot,{variant:"destructive",size:"sm",onClick:()=>z(de.id),"aria-label":`Delete address for ${de.fullName}`,children:w.jsx(jb,{className:"h-4 w-4"})})]})]},de.id))]})]})]})]}):w.jsx("div",{className:"container mx-auto py-20 text-center",children:"Please log in to manage your settings."})}function pQ(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}pQ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Km=t=>typeof t=="number"&&!isNaN(t),mf=t=>typeof t=="string",Vc=t=>typeof t=="function",mQ=t=>mf(t)||Km(t),Jw=t=>mf(t)||Vc(t)?t:null,gQ=(t,e)=>t===!1||Km(t)&&t>0?t:e,Zw=t=>$.isValidElement(t)||mf(t)||Vc(t)||Km(t);function yQ(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function vQ({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:c,nodeRef:d,isIn:f,playToast:h}){let g=n?`${t}--${o}`:t,y=n?`${e}--${o}`:e,S=$.useRef(0);return $.useLayoutEffect(()=>{let _=d.current,T=g.split(" "),E=C=>{C.target===d.current&&(h(),_.removeEventListener("animationend",E),_.removeEventListener("animationcancel",E),S.current===0&&C.type!=="animationcancel"&&_.classList.remove(...T))};_.classList.add(...T),_.addEventListener("animationend",E),_.addEventListener("animationcancel",E)},[]),$.useEffect(()=>{let _=d.current,T=()=>{_.removeEventListener("animationend",T),r?yQ(_,c,i):c()};f||(a?T():(S.current=1,_.className+=` ${y}`,_.addEventListener("animationend",T)))},[f]),it.createElement(it.Fragment,null,s)}}function LA(t,e){return{content:Sk(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Sk(t,e,n=!1){return $.isValidElement(t)&&!mf(t.type)?$.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Vc(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function wQ({closeToast:t,theme:e,ariaLabel:n="close"}){return it.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},it.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},it.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function bQ({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:c,isIn:d,theme:f}){let h=i||o&&a===0,g={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(g.transform=`scaleX(${a})`);let y=Ac("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),S=Vc(s)?s({rtl:c,type:r,defaultClassName:y}):Ac(y,s),_={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{d&&n()}};return it.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},it.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${r}`}),it.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:S,style:g,..._}))}var xQ=1,Tk=()=>`${xQ++}`;function _Q(t,e,n){let r=1,i=0,s=[],o=[],a=e,c=new Map,d=new Set,f=C=>(d.add(C),()=>d.delete(C)),h=()=>{o=Array.from(c.values()),d.forEach(C=>C())},g=({containerId:C,toastId:I,updateId:D})=>{let K=C?C!==t:t!==1,ae=c.has(I)&&D==null;return K||ae},y=(C,I)=>{c.forEach(D=>{var K;(I==null||I===D.props.toastId)&&((K=D.toggle)==null||K.call(D,C))})},S=C=>{var I,D;(D=(I=C.props)==null?void 0:I.onClose)==null||D.call(I,C.removalReason),C.isActive=!1},_=C=>{if(C==null)c.forEach(S);else{let I=c.get(C);I&&S(I)}h()},T=()=>{i-=s.length,s=[]},E=C=>{var I,D;let{toastId:K,updateId:ae}=C.props,F=ae==null;C.staleId&&c.delete(C.staleId),C.isActive=!0,c.set(K,C),h(),n(LA(C,F?"added":"updated")),F&&((D=(I=C.props).onOpen)==null||D.call(I))};return{id:t,props:a,observe:f,toggle:y,removeToast:_,toasts:c,clearQueue:T,buildToast:(C,I)=>{if(g(I))return;let{toastId:D,updateId:K,data:ae,staleId:F,delay:L}=I,B=K==null;B&&i++;let H={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(I).filter(([j,z])=>z!=null)),toastId:D,updateId:K,data:ae,isIn:!1,className:Jw(I.className||a.toastClassName),progressClassName:Jw(I.progressClassName||a.progressClassName),autoClose:I.isLoading?!1:gQ(I.autoClose,a.autoClose),closeToast(j){c.get(D).removalReason=j,_(D)},deleteToast(){let j=c.get(D);if(j!=null){if(n(LA(j,"removed")),c.delete(D),i--,i<0&&(i=0),s.length>0){E(s.shift());return}h()}}};H.closeButton=a.closeButton,I.closeButton===!1||Zw(I.closeButton)?H.closeButton=I.closeButton:I.closeButton===!0&&(H.closeButton=Zw(a.closeButton)?a.closeButton:!0);let k={content:C,props:H,staleId:F};a.limit&&a.limit>0&&i>a.limit&&B?s.push(k):Km(L)?setTimeout(()=>{E(k)},L):E(k)},setProps(C){a=C},setToggle:(C,I)=>{let D=c.get(C);D&&(D.toggle=I)},isToastActive:C=>{var I;return(I=c.get(C))==null?void 0:I.isActive},getSnapshot:()=>o}}var Ds=new Map,xm=[],eb=new Set,SQ=t=>eb.forEach(e=>e(t)),Ek=()=>Ds.size>0;function TQ(){xm.forEach(t=>Ck(t.content,t.options)),xm=[]}var EQ=(t,{containerId:e})=>{var n;return(n=Ds.get(e||1))==null?void 0:n.toasts.get(t)};function Ak(t,e){var n;if(e)return!!((n=Ds.get(e))!=null&&n.isToastActive(t));let r=!1;return Ds.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function AQ(t){if(!Ek()){xm=xm.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||mQ(t))Ds.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Ds.get(t.containerId);e?e.removeToast(t.id):Ds.forEach(n=>{n.removeToast(t.id)})}}var CQ=(t={})=>{Ds.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function Ck(t,e){Zw(t)&&(Ek()||xm.push({content:t,options:e}),Ds.forEach(n=>{n.buildToast(t,e)}))}function PQ(t){var e;(e=Ds.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function Pk(t,e){Ds.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function NQ(t){let e=t.containerId||1;return{subscribe(n){let r=_Q(e,t,SQ);Ds.set(e,r);let i=r.observe(n);return TQ(),()=>{i(),Ds.delete(e)}},setProps(n){var r;(r=Ds.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Ds.get(e))==null?void 0:n.getSnapshot()}}}function IQ(t){return eb.add(t),()=>{eb.delete(t)}}function kQ(t){return t&&(mf(t.toastId)||Km(t.toastId))?t.toastId:Tk()}function Ym(t,e){return Ck(t,e),e.toastId}function xv(t,e){return{...e,type:e&&e.type||t,toastId:kQ(e)}}function _v(t){return(e,n)=>Ym(e,xv(t,n))}function fn(t,e){return Ym(t,xv("default",e))}fn.loading=(t,e)=>Ym(t,xv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function RQ(t,{pending:e,error:n,success:r},i){let s;e&&(s=mf(e)?fn.loading(e,i):fn.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(d,f,h)=>{if(f==null){fn.dismiss(s);return}let g={type:d,...o,...i,data:h},y=mf(f)?{render:f}:f;return s?fn.update(s,{...g,...y}):fn(y.render,{...g,...y}),h},c=Vc(t)?t():t;return c.then(d=>a("success",r,d)).catch(d=>a("error",n,d)),c}fn.promise=RQ;fn.success=_v("success");fn.info=_v("info");fn.error=_v("error");fn.warning=_v("warning");fn.warn=fn.warning;fn.dark=(t,e)=>Ym(t,xv("default",{theme:"dark",...e}));function LQ(t){AQ(t)}fn.dismiss=LQ;fn.clearWaitingQueue=CQ;fn.isActive=Ak;fn.update=(t,e={})=>{let n=EQ(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:Tk()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,Ym(o,s)}};fn.done=t=>{fn.update(t,{progress:1})};fn.onChange=IQ;fn.play=t=>Pk(!0,t);fn.pause=t=>Pk(!1,t);function DQ(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=$.useRef(NQ(t)).current;i(t);let s=(e=$.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let c=new Map;return t.newestOnTop&&s.reverse(),s.forEach(d=>{let{position:f}=d.props;c.has(f)||c.set(f,[]),c.get(f).push(d)}),Array.from(c,d=>a(d[0],d[1]))}return{getToastToRender:o,isToastActive:Ak,count:s?.length}}function OQ(t){let[e,n]=$.useState(!1),[r,i]=$.useState(!1),s=$.useRef(null),o=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:d,onClick:f,closeOnClick:h}=t;PQ({id:t.toastId,containerId:t.containerId,fn:n}),$.useEffect(()=>{if(t.pauseOnFocusLoss)return g(),()=>{y()}},[t.pauseOnFocusLoss]);function g(){document.hasFocus()||E(),window.addEventListener("focus",T),window.addEventListener("blur",E)}function y(){window.removeEventListener("focus",T),window.removeEventListener("blur",E)}function S(F){if(t.draggable===!0||t.draggable===F.pointerType){C();let L=s.current;o.canCloseOnClick=!0,o.canDrag=!0,L.style.transition="none",t.draggableDirection==="x"?(o.start=F.clientX,o.removalDistance=L.offsetWidth*(t.draggablePercent/100)):(o.start=F.clientY,o.removalDistance=L.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function _(F){let{top:L,bottom:B,left:H,right:k}=s.current.getBoundingClientRect();F.nativeEvent.type!=="touchend"&&t.pauseOnHover&&F.clientX>=H&&F.clientX<=k&&F.clientY>=L&&F.clientY<=B?E():T()}function T(){n(!0)}function E(){n(!1)}function C(){o.didMove=!1,document.addEventListener("pointermove",D),document.addEventListener("pointerup",K)}function I(){document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",K)}function D(F){let L=s.current;if(o.canDrag&&L){o.didMove=!0,e&&E(),t.draggableDirection==="x"?o.delta=F.clientX-o.start:o.delta=F.clientY-o.start,o.start!==F.clientX&&(o.canCloseOnClick=!1);let B=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;L.style.transform=`translate3d(${B},0)`,L.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function K(){I();let F=s.current;if(o.canDrag&&o.didMove&&F){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}F.style.transition="transform 0.2s, opacity 0.2s",F.style.removeProperty("transform"),F.style.removeProperty("opacity")}}let ae={onPointerDown:S,onPointerUp:_};return a&&c&&(ae.onMouseEnter=E,t.stacked||(ae.onMouseLeave=T)),h&&(ae.onClick=F=>{f&&f(F),o.canCloseOnClick&&d(!0)}),{playToast:T,pauseToast:E,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:ae}}var jQ=typeof window<"u"?$.useLayoutEffect:$.useEffect,Sv=({theme:t,type:e,isLoading:n,...r})=>it.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function MQ(t){return it.createElement(Sv,{...t},it.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function FQ(t){return it.createElement(Sv,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function VQ(t){return it.createElement(Sv,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function BQ(t){return it.createElement(Sv,{...t},it.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function UQ(){return it.createElement("div",{className:"Toastify__spinner"})}var tb={info:FQ,warning:MQ,success:VQ,error:BQ,spinner:UQ},zQ=t=>t in tb;function qQ({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Vc(r)?i=r({...s,isLoading:n}):$.isValidElement(r)?i=$.cloneElement(r,s):n?i=tb.spinner():zQ(e)&&(i=tb[e](s))),i}var WQ=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=OQ(t),{closeButton:o,children:a,autoClose:c,onClick:d,type:f,hideProgressBar:h,closeToast:g,transition:y,position:S,className:_,style:T,progressClassName:E,updateId:C,role:I,progress:D,rtl:K,toastId:ae,deleteToast:F,isIn:L,isLoading:B,closeOnClick:H,theme:k,ariaLabel:j}=t,z=Ac("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":K},{"Toastify__toast--close-on-click":H}),oe=Vc(_)?_({rtl:K,position:S,type:f,defaultClassName:z}):Ac(z,_),de=qQ(t),se=!!D||!c,le={closeToast:g,type:f,theme:k},re=null;return o===!1||(Vc(o)?re=o(le):$.isValidElement(o)?re=$.cloneElement(o,le):re=wQ(le)),it.createElement(y,{isIn:L,done:F,position:S,preventExitTransition:n,nodeRef:r,playToast:s},it.createElement("div",{id:ae,tabIndex:0,onClick:d,"data-in":L,className:oe,...i,style:T,ref:r,...L&&{role:I,"aria-label":j}},de!=null&&it.createElement("div",{className:Ac("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},de),Sk(a,t,!e),re,!t.customProgressBar&&it.createElement(bQ,{...C&&!se?{key:`p-${C}`}:{},rtl:K,theme:k,delay:c,isRunning:e,isIn:L,closeToast:g,hide:h,type:f,className:E,controlledProgress:se,progress:D||0})))},$Q=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),HQ=vQ($Q("bounce",!0)),GQ={position:"top-right",transition:HQ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function KQ(t){let e={...GQ,...t},n=t.stacked,[r,i]=$.useState(!0),s=$.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=DQ(e),{className:d,style:f,rtl:h,containerId:g,hotKeys:y}=e;function S(T){let E=Ac("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":h});return Vc(d)?d({position:T,rtl:h,defaultClassName:E}):Ac(E,Jw(d))}function _(){n&&(i(!0),fn.play())}return jQ(()=>{var T;if(n){let E=s.current.querySelectorAll('[data-in="true"]'),C=12,I=(T=e.position)==null?void 0:T.includes("top"),D=0,K=0;Array.from(E).reverse().forEach((ae,F)=>{let L=ae;L.classList.add("Toastify__toast--stacked"),F>0&&(L.dataset.collapsed=`${r}`),L.dataset.pos||(L.dataset.pos=I?"top":"bot");let B=D*(r?.2:1)+(r?0:C*F);L.style.setProperty("--y",`${I?B:B*-1}px`),L.style.setProperty("--g",`${C}`),L.style.setProperty("--s",`${1-(r?K:0)}`),D+=L.offsetHeight,K+=.025})}},[r,c,n]),$.useEffect(()=>{function T(E){var C;let I=s.current;y(E)&&((C=I.querySelector('[tabIndex="0"]'))==null||C.focus(),i(!1),fn.pause()),E.key==="Escape"&&(document.activeElement===I||I!=null&&I.contains(document.activeElement))&&(i(!0),fn.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[y]),it.createElement("section",{ref:s,className:"Toastify",id:g,onMouseEnter:()=>{n&&(i(!1),fn.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((T,E)=>{let C=E.length?{...f}:{...f,pointerEvents:"none"};return it.createElement("div",{tabIndex:-1,className:S(T),"data-stacked":n,style:C,key:`c-${T}`},E.map(({content:I,props:D})=>it.createElement(WQ,{...D,stacked:n,collapseAll:_,isIn:a(D.toastId,D.containerId),key:`t-${D.key}`},I)))}))}function DA(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Z5(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:DA(e[r])&&DA(t[r])&&Object.keys(e[r]).length>0&&Z5(t[r],e[r])})}const Nk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function dd(){const t=typeof document<"u"?document:{};return Z5(t,Nk),t}const YQ={document:Nk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Os(){const t=typeof window<"u"?window:{};return Z5(t,YQ),t}function XQ(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function QQ(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ik(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function py(){return Date.now()}function JQ(t){const e=Os();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function ZQ(t,e){e===void 0&&(e="x");const n=Os();let r,i,s;const o=JQ(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Fp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function eJ(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function No(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!eJ(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],c=Object.getOwnPropertyDescriptor(r,a);c!==void 0&&c.enumerable&&(Fp(t[a])&&Fp(r[a])?r[a].__swiper__?t[a]=r[a]:No(t[a],r[a]):!Fp(t[a])&&Fp(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:No(t[a],r[a])):t[a]=r[a])}}}return t}function Zg(t,e,n){t.style.setProperty(e,n)}function kk(t){let{swiper:e,targetPosition:n,side:r}=t;const i=Os(),s=-e.translate;let o=null,a;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const d=n>s?"next":"prev",f=(g,y)=>d==="next"&&g>=y||d==="prev"&&g<=y,h=()=>{a=new Date().getTime(),o===null&&(o=a);const g=Math.max(Math.min((a-o)/c,1),0),y=.5-Math.cos(g*Math.PI)/2;let S=s+y*(n-s);if(f(S,n)&&(S=n),e.wrapperEl.scrollTo({[r]:S}),f(S,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:S})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(h)};h()}function Ka(t,e){e===void 0&&(e="");const n=Os(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function tJ(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function nJ(t,e){const n=Os();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=tJ(t,e))),r}function my(t){try{console.warn(t);return}catch{}}function gy(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:XQ(e)),n}function rJ(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function iJ(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function zu(t,e){return Os().getComputedStyle(t,null).getPropertyValue(e)}function OA(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function sJ(t,e){const n=[];let r=t.parentElement;for(;r;)n.push(r),r=r.parentElement;return n}function jA(t,e,n){const r=Os();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function mc(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function MA(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let x2;function oJ(){const t=Os(),e=dd();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Rk(){return x2||(x2=oJ()),x2}let _2;function aJ(t){let{userAgent:e}=t===void 0?{}:t;const n=Rk(),r=Os(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,c=r.screen.height,d=s.match(/(Android);?[\s\/]+([\d.]+)?/);let f=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),g=!f&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),y=i==="Win32";let S=i==="MacIntel";const _=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!f&&S&&n.touch&&_.indexOf(`${a}x${c}`)>=0&&(f=s.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),S=!1),d&&!y&&(o.os="android",o.android=!0),(f||g||h)&&(o.os="ios",o.ios=!0),o}function Lk(t){return t===void 0&&(t={}),_2||(_2=aJ(t)),_2}let S2;function lJ(){const t=Os(),e=Lk();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[c,d]=a.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));n=c<16||c===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function Dk(){return S2||(S2=lJ()),S2}function cJ(t){let{swiper:e,on:n,emit:r}=t;const i=Os();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{const{width:g,height:y}=e;let S=g,_=y;h.forEach(T=>{let{contentBoxSize:E,contentRect:C,target:I}=T;I&&I!==e.el||(S=C?C.width:(E[0]||E).inlineSize,_=C?C.height:(E[0]||E).blockSize)}),(S!==g||_!==y)&&a()})}),s.observe(e.el))},d=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},f=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",f)}),n("destroy",()=>{d(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",f)})}function uJ(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=Os(),a=function(f,h){h===void 0&&(h={});const g=o.MutationObserver||o.WebkitMutationObserver,y=new g(S=>{if(e.__preventObserver__)return;if(S.length===1){i("observerUpdate",S[0]);return}const _=function(){i("observerUpdate",S[0])};o.requestAnimationFrame?o.requestAnimationFrame(_):o.setTimeout(_,0)});y.observe(f,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),s.push(y)},c=()=>{if(e.params.observer){if(e.params.observeParents){const f=sJ(e.hostEl);for(let h=0;h<f.length;h+=1)a(f[h])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},d=()=>{s.forEach(f=>{f.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var dJ={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(r,n)})}),t}};function fJ(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(zu(r,"padding-left")||0,10)-parseInt(zu(r,"padding-right")||0,10),n=n-parseInt(zu(r,"padding-top")||0,10)-parseInt(zu(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function hJ(){const t=this;function e(H,k){return parseFloat(H.getPropertyValue(t.getDirectionLabel(k))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,c=t.virtual&&n.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,f=Ka(i,`.${t.params.slideClass}, swiper-slide`),h=c?t.virtual.slides.length:f.length;let g=[];const y=[],S=[];let _=n.slidesOffsetBefore;typeof _=="function"&&(_=n.slidesOffsetBefore.call(t));let T=n.slidesOffsetAfter;typeof T=="function"&&(T=n.slidesOffsetAfter.call(t));const E=t.snapGrid.length,C=t.slidesGrid.length;let I=n.spaceBetween,D=-_,K=0,ae=0;if(typeof s>"u")return;typeof I=="string"&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*s:typeof I=="string"&&(I=parseFloat(I)),t.virtualSize=-I,f.forEach(H=>{o?H.style.marginLeft="":H.style.marginRight="",H.style.marginBottom="",H.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Zg(r,"--swiper-centered-offset-before",""),Zg(r,"--swiper-centered-offset-after",""));const F=n.grid&&n.grid.rows>1&&t.grid;F?t.grid.initSlides(f):t.grid&&t.grid.unsetSlides();let L;const B=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(H=>typeof n.breakpoints[H].slidesPerView<"u").length>0;for(let H=0;H<h;H+=1){L=0;let k;if(f[H]&&(k=f[H]),F&&t.grid.updateSlide(H,k,f),!(f[H]&&zu(k,"display")==="none")){if(n.slidesPerView==="auto"){B&&(f[H].style[t.getDirectionLabel("width")]="");const j=getComputedStyle(k),z=k.style.transform,oe=k.style.webkitTransform;if(z&&(k.style.transform="none"),oe&&(k.style.webkitTransform="none"),n.roundLengths)L=t.isHorizontal()?jA(k,"width"):jA(k,"height");else{const de=e(j,"width"),se=e(j,"padding-left"),le=e(j,"padding-right"),re=e(j,"margin-left"),pe=e(j,"margin-right"),Z=j.getPropertyValue("box-sizing");if(Z&&Z==="border-box")L=de+re+pe;else{const{clientWidth:q,offsetWidth:V}=k;L=de+se+le+re+pe+(V-q)}}z&&(k.style.transform=z),oe&&(k.style.webkitTransform=oe),n.roundLengths&&(L=Math.floor(L))}else L=(s-(n.slidesPerView-1)*I)/n.slidesPerView,n.roundLengths&&(L=Math.floor(L)),f[H]&&(f[H].style[t.getDirectionLabel("width")]=`${L}px`);f[H]&&(f[H].swiperSlideSize=L),S.push(L),n.centeredSlides?(D=D+L/2+K/2+I,K===0&&H!==0&&(D=D-s/2-I),H===0&&(D=D-s/2-I),Math.abs(D)<1/1e3&&(D=0),n.roundLengths&&(D=Math.floor(D)),ae%n.slidesPerGroup===0&&g.push(D),y.push(D)):(n.roundLengths&&(D=Math.floor(D)),(ae-Math.min(t.params.slidesPerGroupSkip,ae))%t.params.slidesPerGroup===0&&g.push(D),y.push(D),D=D+L+I),t.virtualSize+=L+I,K=L,ae+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+T,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+I}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+I}px`),F&&t.grid.updateWrapperSize(L,g),!n.centeredSlides){const H=[];for(let k=0;k<g.length;k+=1){let j=g[k];n.roundLengths&&(j=Math.floor(j)),g[k]<=t.virtualSize-s&&H.push(j)}g=H,Math.floor(t.virtualSize-s)-Math.floor(g[g.length-1])>1&&g.push(t.virtualSize-s)}if(c&&n.loop){const H=S[0]+I;if(n.slidesPerGroup>1){const k=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),j=H*n.slidesPerGroup;for(let z=0;z<k;z+=1)g.push(g[g.length-1]+j)}for(let k=0;k<t.virtual.slidesBefore+t.virtual.slidesAfter;k+=1)n.slidesPerGroup===1&&g.push(g[g.length-1]+H),y.push(y[y.length-1]+H),t.virtualSize+=H}if(g.length===0&&(g=[0]),I!==0){const H=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");f.filter((k,j)=>!n.cssMode||n.loop?!0:j!==f.length-1).forEach(k=>{k.style[H]=`${I}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let H=0;S.forEach(j=>{H+=j+(I||0)}),H-=I;const k=H>s?H-s:0;g=g.map(j=>j<=0?-_:j>k?k+T:j)}if(n.centerInsufficientSlides){let H=0;S.forEach(j=>{H+=j+(I||0)}),H-=I;const k=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(H+k<s){const j=(s-H-k)/2;g.forEach((z,oe)=>{g[oe]=z-j}),y.forEach((z,oe)=>{y[oe]=z+j})}}if(Object.assign(t,{slides:f,snapGrid:g,slidesGrid:y,slidesSizesGrid:S}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Zg(r,"--swiper-centered-offset-before",`${-g[0]}px`),Zg(r,"--swiper-centered-offset-after",`${t.size/2-S[S.length-1]/2}px`);const H=-t.snapGrid[0],k=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(j=>j+H),t.slidesGrid=t.slidesGrid.map(j=>j+k)}if(h!==d&&t.emit("slidesLengthChange"),g.length!==E&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),y.length!==C&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const H=`${n.containerModifierClass}backface-hidden`,k=t.el.classList.contains(H);h<=n.maxBackfaceHiddenSlides?k||t.el.classList.add(H):k&&t.el.classList.remove(H)}}function pJ(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function mJ(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const FA=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function gJ(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let c=0;c<r.length;c+=1){const d=r[c];let f=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(f-=r[0].swiperSlideOffset);const h=(o+(n.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+a),g=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+a),y=-(o-f),S=y+e.slidesSizesGrid[c],_=y>=0&&y<=e.size-e.slidesSizesGrid[c],T=y>=0&&y<e.size-1||S>1&&S<=e.size||y<=0&&S>=e.size;T&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(c)),FA(d,T,n.slideVisibleClass),FA(d,_,n.slideFullyVisibleClass),d.progress=i?-h:h,d.originalProgress=i?-g:g}}function yJ(t){const e=this;if(typeof t>"u"){const f=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*f||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const c=s,d=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const f=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;s=f||i<=0,o=h||i>=1,f&&(i=0),h&&(i=1)}if(n.loop){const f=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),g=e.slidesGrid[f],y=e.slidesGrid[h],S=e.slidesGrid[e.slidesGrid.length-1],_=Math.abs(t);_>=g?a=(_-g)/S:a=(_+S-y)/S,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!c&&e.emit("reachBeginning toEdge"),o&&!d&&e.emit("reachEnd toEdge"),(c&&!s||d&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const T2=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function vJ(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=h=>Ka(r,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let c,d,f;if(s)if(n.loop){let h=i-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),c=a(`[data-swiper-slide-index="${h}"]`)}else c=a(`[data-swiper-slide-index="${i}"]`);else o?(c=e.find(h=>h.column===i),f=e.find(h=>h.column===i+1),d=e.find(h=>h.column===i-1)):c=e[i];c&&(o||(f=iJ(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!f&&(f=e[0]),d=rJ(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(h=>{T2(h,h===c,n.slideActiveClass),T2(h,h===f,n.slideNextClass),T2(h,h===d,n.slidePrevClass)}),t.emitSlidesClasses()}const _0=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},E2=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},nb=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((c,d)=>o+r+d)),t.slides.forEach((c,d)=>{a.includes(c.column)&&E2(t,d)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&E2(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&E2(t,o)};function wJ(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function bJ(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let c=t,d;const f=y=>{let S=y-e.virtual.slidesBefore;return S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),S};if(typeof c>"u"&&(c=wJ(e)),r.indexOf(n)>=0)d=r.indexOf(n);else{const y=Math.min(i.slidesPerGroupSkip,c);d=y+Math.floor((c-y)/i.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===s&&!e.params.loop){d!==a&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(c===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=f(c);return}const h=e.grid&&i.grid&&i.grid.rows>1;let g;if(e.virtual&&i.virtual.enabled&&i.loop)g=f(c);else if(h){const y=e.slides.find(_=>_.column===c);let S=parseInt(y.getAttribute("data-swiper-slide-index"),10);Number.isNaN(S)&&(S=Math.max(e.slides.indexOf(y),0)),g=Math.floor(S/i.grid.rows)}else if(e.slides[c]){const y=e.slides[c].getAttribute("data-swiper-slide-index");y?g=parseInt(y,10):g=c}else g=c;Object.assign(e,{previousSnapIndex:a,snapIndex:d,previousRealIndex:o,realIndex:g,previousIndex:s,activeIndex:c}),e.initialized&&nb(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==g&&e.emit("realIndexChange"),e.emit("slideChange"))}function xJ(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var _J={updateSize:fJ,updateSlides:hJ,updateAutoHeight:pJ,updateSlidesOffset:mJ,updateSlidesProgress:gJ,updateProgress:yJ,updateSlidesClasses:vJ,updateActiveIndex:bJ,updateClickedSlide:xJ};function SJ(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=ZQ(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function TJ(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,c=0;const d=0;n.isHorizontal()?a=r?-t:t:c=t,i.roundLengths&&(a=Math.floor(a),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-c:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${c}px, ${d}px)`);let f;const h=n.maxTranslate()-n.minTranslate();h===0?f=0:f=(t-n.minTranslate())/h,f!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function EJ(){return-this.snapGrid[0]}function AJ(){return-this.snapGrid[this.snapGrid.length-1]}function CJ(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const c=s.minTranslate(),d=s.maxTranslate();let f;if(r&&t>c?f=c:r&&t<d?f=d:f=t,s.updateProgress(f),o.cssMode){const h=s.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-f;else{if(!s.support.smoothScroll)return kk({swiper:s,targetPosition:-f,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(f),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(g){!s||s.destroyed||g.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var PJ={getTranslate:SJ,setTranslate:TJ,minTranslate:EJ,maxTranslate:AJ,translateTo:CJ};function NJ(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Ok(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&a==="reset"?e.emit(`slideResetTransition${i}`):n&&s!==o&&(e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function IJ(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Ok({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function kJ(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Ok({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var RJ={setTransition:NJ,transitionStart:IJ,transitionEnd:kJ};function LJ(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:c,slidesGrid:d,previousIndex:f,activeIndex:h,rtlTranslate:g,wrapperEl:y,enabled:S}=s;if(!S&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const _=Math.min(s.params.slidesPerGroupSkip,o);let T=_+Math.floor((o-_)/s.params.slidesPerGroup);T>=c.length&&(T=c.length-1);const E=-c[T];if(a.normalizeSlideIndex)for(let F=0;F<d.length;F+=1){const L=-Math.floor(E*100),B=Math.floor(d[F]*100),H=Math.floor(d[F+1]*100);typeof d[F+1]<"u"?L>=B&&L<H-(H-B)/2?o=F:L>=B&&L<H&&(o=F+1):L>=B&&(o=F)}if(s.initialized&&o!==h&&(!s.allowSlideNext&&(g?E>s.translate&&E>s.minTranslate():E<s.translate&&E<s.minTranslate())||!s.allowSlidePrev&&E>s.translate&&E>s.maxTranslate()&&(h||0)!==o))return!1;o!==(f||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(E);let C;o>h?C="next":o<h?C="prev":C="reset";const I=s.virtual&&s.params.virtual.enabled;if(!(I&&i)&&(g&&-E===s.translate||!g&&E===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(E),C!=="reset"&&(s.transitionStart(n,C),s.transitionEnd(n,C)),!1;if(a.cssMode){const F=s.isHorizontal(),L=g?E:-E;if(e===0)I&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),I&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{y[F?"scrollLeft":"scrollTop"]=L})):y[F?"scrollLeft":"scrollTop"]=L,I&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return kk({swiper:s,targetPosition:L,side:F?"left":"top"}),!0;y.scrollTo({[F?"left":"top"]:L,behavior:"smooth"})}return!0}const ae=Dk().isSafari;return I&&!i&&ae&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(E),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,C),e===0?s.transitionEnd(n,C):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(L){!s||s.destroyed||L.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,C))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function DJ(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const g=o*i.params.grid.rows;a=i.slides.find(y=>y.getAttribute("data-swiper-slide-index")*1===g).column}else a=i.getSlideIndexByData(o);const c=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let f=i.params.slidesPerView;f==="auto"?f=i.slidesPerViewDynamic():(f=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&f%2===0&&(f=f+1));let h=c-a<f;if(d&&(h=h||a<Math.ceil(f/2)),r&&d&&i.params.slidesPerView!=="auto"&&!s&&(h=!1),h){const g=d?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:g,slideTo:!0,activeSlideIndex:g==="next"?a+1:a-c+1,slideRealIndex:g==="next"?i.realIndex:void 0})}if(s){const g=o*i.params.grid.rows;o=i.slides.find(y=>y.getAttribute("data-swiper-slide-index")*1===g).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function OJ(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:a,d=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!d&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function jJ(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:c,animating:d}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const f=r.virtual&&i.virtual.enabled;if(i.loop){if(d&&!f&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const h=a?r.translate:-r.translate;function g(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const y=g(h),S=s.map(C=>g(C)),_=i.freeMode&&i.freeMode.enabled;let T=s[S.indexOf(y)-1];if(typeof T>"u"&&(i.cssMode||_)){let C;s.forEach((I,D)=>{y>=I&&(C=D)}),typeof C<"u"&&(T=_?s[C]:s[C>0?C-1:C])}let E=0;if(typeof T<"u"&&(E=o.indexOf(T),E<0&&(E=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(E=E-r.slidesPerViewDynamic("previous",!0)+1,E=Math.max(E,0))),i.rewind&&r.isBeginning){const C=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(C,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(E,t,e,n)}),!0;return r.slideTo(E,t,e,n)}function MJ(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function FJ(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[a]){const d=i.snapGrid[a],f=i.snapGrid[a+1];c-d>(f-d)*r&&(s+=i.params.slidesPerGroup)}else{const d=i.snapGrid[a-1],f=i.snapGrid[a];c-d<=(f-d)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function VJ(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,a=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(s):i>(a?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(Ka(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Ik(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var BJ={slideTo:LJ,slideToLoop:DJ,slideNext:OJ,slidePrev:jJ,slideReset:MJ,slideToClosest:FJ,slideToClickedSlide:VJ};function UJ(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Ka(i,`.${r.slideClass}, swiper-slide`).forEach((y,S)=>{y.setAttribute("data-swiper-slide-index",S)})},o=()=>{const g=Ka(i,`.${r.slideBlankClass}`);g.forEach(y=>{y.remove()}),g.length>0&&(n.recalcSlides(),n.updateSlides())},a=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||a)&&o();const c=r.slidesPerGroup*(a?r.grid.rows:1),d=n.slides.length%c!==0,f=a&&n.slides.length%r.grid.rows!==0,h=g=>{for(let y=0;y<g;y+=1){const S=n.isElement?gy("swiper-slide",[r.slideBlankClass]):gy("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(S)}};if(d){if(r.loopAddBlankSlides){const g=c-n.slides.length%c;h(g),n.recalcSlides(),n.updateSlides()}else my("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(f){if(r.loopAddBlankSlides){const g=r.grid.rows-n.slides.length%r.grid.rows;h(g),n.recalcSlides(),n.updateSlides()}else my("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function zJ(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:c}=t===void 0?{}:t;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:f,allowSlidePrev:h,allowSlideNext:g,slidesEl:y,params:S}=d,{centeredSlides:_,initialSlide:T}=S;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&S.virtual.enabled){n&&(!S.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):S.centeredSlides&&d.snapIndex<S.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=h,d.allowSlideNext=g,d.emit("loopFix");return}let E=S.slidesPerView;E==="auto"?E=d.slidesPerViewDynamic():(E=Math.ceil(parseFloat(S.slidesPerView,10)),_&&E%2===0&&(E=E+1));const C=S.slidesPerGroupAuto?E:S.slidesPerGroup;let I=_?Math.max(C,Math.ceil(E/2)):C;I%C!==0&&(I+=C-I%C),I+=S.loopAdditionalSlides,d.loopedSlides=I;const D=d.grid&&S.grid&&S.grid.rows>1;f.length<E+I||d.params.effect==="cards"&&f.length<E+I*2?my("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):D&&S.grid.fill==="row"&&my("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const K=[],ae=[],F=D?Math.ceil(f.length/S.grid.rows):f.length,L=o&&F-T<E&&!_;let B=L?T:d.activeIndex;typeof s>"u"?s=d.getSlideIndex(f.find(se=>se.classList.contains(S.slideActiveClass))):B=s;const H=r==="next"||!r,k=r==="prev"||!r;let j=0,z=0;const de=(D?f[s].column:s)+(_&&typeof i>"u"?-E/2+.5:0);if(de<I){j=Math.max(I-de,C);for(let se=0;se<I-de;se+=1){const le=se-Math.floor(se/F)*F;if(D){const re=F-le-1;for(let pe=f.length-1;pe>=0;pe-=1)f[pe].column===re&&K.push(pe)}else K.push(F-le-1)}}else if(de+E>F-I){z=Math.max(de-(F-I*2),C),L&&(z=Math.max(z,E-F+T+1));for(let se=0;se<z;se+=1){const le=se-Math.floor(se/F)*F;D?f.forEach((re,pe)=>{re.column===le&&ae.push(pe)}):ae.push(le)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&f.length<E+I*2&&(ae.includes(s)&&ae.splice(ae.indexOf(s),1),K.includes(s)&&K.splice(K.indexOf(s),1)),k&&K.forEach(se=>{f[se].swiperLoopMoveDOM=!0,y.prepend(f[se]),f[se].swiperLoopMoveDOM=!1}),H&&ae.forEach(se=>{f[se].swiperLoopMoveDOM=!0,y.append(f[se]),f[se].swiperLoopMoveDOM=!1}),d.recalcSlides(),S.slidesPerView==="auto"?d.updateSlides():D&&(K.length>0&&k||ae.length>0&&H)&&d.slides.forEach((se,le)=>{d.grid.updateSlide(le,se,d.slides)}),S.watchSlidesProgress&&d.updateSlidesOffset(),n){if(K.length>0&&k){if(typeof e>"u"){const se=d.slidesGrid[B],re=d.slidesGrid[B+j]-se;c?d.setTranslate(d.translate-re):(d.slideTo(B+Math.ceil(j),0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-re,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-re))}else if(i){const se=D?K.length/S.grid.rows:K.length;d.slideTo(d.activeIndex+se,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(ae.length>0&&H)if(typeof e>"u"){const se=d.slidesGrid[B],re=d.slidesGrid[B-z]-se;c?d.setTranslate(d.translate-re):(d.slideTo(B-z,0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-re,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-re))}else{const se=D?ae.length/S.grid.rows:ae.length;d.slideTo(d.activeIndex-se,0,!1,!0)}}if(d.allowSlidePrev=h,d.allowSlideNext=g,d.controller&&d.controller.control&&!a){const se={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(le=>{!le.destroyed&&le.params.loop&&le.loopFix({...se,slideTo:le.params.slidesPerView===S.slidesPerView?n:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...se,slideTo:d.controller.control.params.slidesPerView===S.slidesPerView?n:!1})}d.emit("loopFix")}function qJ(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var WJ={loopCreate:UJ,loopFix:zJ,loopDestroy:qJ};function $J(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function HJ(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var GJ={setGrabCursor:$J,unsetGrabCursor:HJ};function KJ(t,e){e===void 0&&(e=this);function n(r){if(!r||r===dd()||r===Os())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function VA(t,e,n){const r=Os(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function YJ(t){const e=this,n=dd();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){VA(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!nJ(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const d=!!s.noSwipingClass&&s.noSwipingClass!=="",f=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&f&&(c=f[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,g=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(g?KJ(h,c):c.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const y=o.currentX,S=o.currentY;if(!VA(e,r,y))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=y,o.startY=S,i.touchStartTime=py(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let _=!0;c.matches(i.focusableElements)&&(_=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&n.activeElement.blur();const T=_&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||T)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function XJ(t){const e=dd(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].find(K=>K.identifier===r.touchId),!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const f=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){s.startX=f,s.startY=h;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:f,startY:h,currentX:f,currentY:h}),r.touchStartTime=py());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(f>s.startX&&-n.translate<=n.maxTranslate()||f<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(f<s.startX&&n.translate<=n.maxTranslate()||f>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=f,s.currentY=h;const g=s.currentX-s.startX,y=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(g**2+y**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let K;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:g*g+y*y>=25&&(K=Math.atan2(Math.abs(y),Math.abs(g))*180/Math.PI,r.isScrolling=n.isHorizontal()?K>i.touchAngle:90-K>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let S=n.isHorizontal()?g:y,_=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(S=Math.abs(S)*(o?1:-1),_=Math.abs(_)*(o?1:-1)),s.diff=S,S*=i.touchRatio,o&&(S=-S,_=-_);const T=n.touchesDirection;n.swipeDirection=S>0?"prev":"next",n.touchesDirection=_>0?"prev":"next";const E=n.params.loop&&!i.cssMode,C=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(E&&C&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const K=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(K)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&T!==n.touchesDirection&&E&&C&&Math.abs(S)>=1){Object.assign(s,{startX:f,startY:h,currentX:f,currentY:h,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=S+r.startTranslate;let I=!0,D=i.resistanceRatio;if(i.touchReleaseOnEdges&&(D=0),S>0?(E&&C&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(I=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+S)**D))):S<0&&(E&&C&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(I=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-S)**D))),I&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(S)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function QJ(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(K=>K.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:c,slidesGrid:d,enabled:f}=e;if(!f||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=py(),g=h-n.touchStartTime;if(e.allowClick){const K=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(K&&K[0]||r.target,K),e.emit("tap click",r),g<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=py(),Ik(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let y;if(o.followFinger?y=c?e.translate:-e.translate:y=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:y});return}const S=y>=-e.maxTranslate()&&!e.params.loop;let _=0,T=e.slidesSizesGrid[0];for(let K=0;K<d.length;K+=K<o.slidesPerGroupSkip?1:o.slidesPerGroup){const ae=K<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[K+ae]<"u"?(S||y>=d[K]&&y<d[K+ae])&&(_=K,T=d[K+ae]-d[K]):(S||y>=d[K])&&(_=K,T=d[d.length-1]-d[d.length-2])}let E=null,C=null;o.rewind&&(e.isBeginning?C=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(E=0));const I=(y-d[_])/T,D=_<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(g>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(I>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?E:_+D):e.slideTo(_)),e.swipeDirection==="prev"&&(I>1-o.longSwipesRatio?e.slideTo(_+D):C!==null&&I<0&&Math.abs(I)>o.longSwipesRatio?e.slideTo(C):e.slideTo(_))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(_+D):e.slideTo(_):(e.swipeDirection==="next"&&e.slideTo(E!==null?E:_+D),e.swipeDirection==="prev"&&e.slideTo(C!==null?C:_))}}function BA(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function JJ(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function ZJ(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function eZ(t){const e=this;_0(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function tZ(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const jk=(t,e)=>{const n=dd(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;!i||typeof i=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&s[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",BA,!0):t[d]("observerUpdate",BA,!0),i[c]("load",t.onLoad,{capture:!0}))};function nZ(){const t=this,{params:e}=t;t.onTouchStart=YJ.bind(t),t.onTouchMove=XJ.bind(t),t.onTouchEnd=QJ.bind(t),t.onDocumentTouchStart=tZ.bind(t),e.cssMode&&(t.onScroll=ZJ.bind(t)),t.onClick=JJ.bind(t),t.onLoad=eZ.bind(t),jk(t,"on")}function rZ(){jk(this,"off")}var iZ={attachEvents:nZ,detachEvents:rZ};const UA=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function sZ(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=dd(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),d=t.getBreakpoint(s,a,c);if(!d||t.currentBreakpoint===d)return;const h=(d in s?s[d]:void 0)||t.originalParams,g=UA(t,r),y=UA(t,h),S=t.params.grabCursor,_=h.grabCursor,T=r.enabled;g&&!y?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!g&&y&&(i.classList.add(`${r.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),S&&!_?t.unsetGrabCursor():!S&&_&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ae=>{if(typeof h[ae]>"u")return;const F=r[ae]&&r[ae].enabled,L=h[ae]&&h[ae].enabled;F&&!L&&t[ae].disable(),!F&&L&&t[ae].enable()});const E=h.direction&&h.direction!==r.direction,C=r.loop&&(h.slidesPerView!==r.slidesPerView||E),I=r.loop;E&&n&&t.changeDirection(),No(t.params,h);const D=t.params.enabled,K=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),T&&!D?t.disable():!T&&D&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",h),n&&(C?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!I&&K?(t.loopCreate(e),t.updateSlides()):I&&!K&&t.loopDestroy()),t.emit("breakpoint",h)}function oZ(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=Os(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const c=parseFloat(a.substr(1));return{value:s*c,point:a}}return{value:a,point:a}});o.sort((a,c)=>parseInt(a.value,10)-parseInt(c.value,10));for(let a=0;a<o.length;a+=1){const{point:c,value:d}=o[a];e==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=n.clientWidth&&(r=c)}return r||"max"}var aZ={setBreakpoint:sZ,getBreakpoint:oZ};function lZ(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function cZ(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=lZ(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function uZ(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var dZ={addClasses:cZ,removeClasses:uZ};function fZ(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var hZ={checkOverflow:fZ},rb={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function pZ(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){No(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){No(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),No(e,r)}}const A2={eventsEmitter:dJ,update:_J,translate:PJ,transition:RJ,slide:BJ,loop:WJ,grabCursor:GJ,events:iZ,breakpoints:aZ,checkOverflow:hZ,classes:dZ},C2={};let ex=class yc{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=No({},n),e&&!n.el&&(n.el=e);const o=dd();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const f=[];return o.querySelectorAll(n.el).forEach(h=>{const g=No({},n,{el:h});f.push(new yc(g))}),f}const a=this;a.__swiper__=!0,a.support=Rk(),a.device=Lk({userAgent:n.userAgent}),a.browser=Dk(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const c={};a.modules.forEach(f=>{f({params:n,swiper:a,extendParams:pZ(n,c),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const d=No({},rb,c);return a.params=No({},d,C2,n),a.originalParams=No({},a.params),a.passedParams=No({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(f=>{a.on(f,a.params.on[f])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=Ka(n,`.${r.slideClass}, swiper-slide`),s=OA(i[0]);return OA(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Ka(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:c,activeIndex:d}=r;let f=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=s[d]?Math.ceil(s[d].swiperSlideSize):0,g;for(let y=d+1;y<s.length;y+=1)s[y]&&!g&&(h+=Math.ceil(s[y].swiperSlideSize),f+=1,h>c&&(g=!0));for(let y=d-1;y>=0;y-=1)s[y]&&!g&&(h+=s[y].swiperSlideSize,f+=1,h>c&&(g=!0))}else if(e==="current")for(let h=d+1;h<s.length;h+=1)(n?o[h]+a[h]-o[d]<c:o[h]-o[d]<c)&&(f+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<c&&(f+=1);return f}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&_0(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Ka(r,i())[0];return!o&&n.params.createElements&&(o=gy("div",n.params.wrapperClass),r.append(o),Ka(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||zu(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||zu(r,"direction")==="rtl"),wrongRTL:zu(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?_0(n,s):s.addEventListener("load",o=>{_0(n,o.target)})}),nb(n),n.initialized=!0,nb(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),QQ(r)),r.destroyed=!0),null}static extendDefaults(e){No(C2,e)}static get extendedDefaults(){return C2}static get defaults(){return rb}static installModule(e){yc.prototype.__modules__||(yc.prototype.__modules__=[]);const n=yc.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>yc.installModule(n)),yc):(yc.installModule(e),yc)}};Object.keys(A2).forEach(t=>{Object.keys(A2[t]).forEach(e=>{ex.prototype[e]=A2[t][e]})});ex.use([cJ,uJ]);const Mk=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function gf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Ch(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:gf(e[r])&&gf(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ch(t[r],e[r]):t[r]=e[r]})}function Fk(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Vk(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Bk(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Uk(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function mZ(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function gZ(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:c}=t;const d=i.filter(B=>B!=="children"&&B!=="direction"&&B!=="wrapperClass"),{params:f,pagination:h,navigation:g,scrollbar:y,virtual:S,thumbs:_}=e;let T,E,C,I,D,K,ae,F;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&f.thumbs&&(!f.thumbs.swiper||f.thumbs.swiper.destroyed)&&(T=!0),i.includes("controller")&&r.controller&&r.controller.control&&f.controller&&!f.controller.control&&(E=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(f.pagination||f.pagination===!1)&&h&&!h.el&&(C=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(f.scrollbar||f.scrollbar===!1)&&y&&!y.el&&(I=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(f.navigation||f.navigation===!1)&&g&&!g.prevEl&&!g.nextEl&&(D=!0);const L=B=>{e[B]&&(e[B].destroy(),B==="navigation"?(e.isElement&&(e[B].prevEl.remove(),e[B].nextEl.remove()),f[B].prevEl=void 0,f[B].nextEl=void 0,e[B].prevEl=void 0,e[B].nextEl=void 0):(e.isElement&&e[B].el.remove(),f[B].el=void 0,e[B].el=void 0))};i.includes("loop")&&e.isElement&&(f.loop&&!r.loop?K=!0:!f.loop&&r.loop?ae=!0:F=!0),d.forEach(B=>{if(gf(f[B])&&gf(r[B]))Object.assign(f[B],r[B]),(B==="navigation"||B==="pagination"||B==="scrollbar")&&"enabled"in r[B]&&!r[B].enabled&&L(B);else{const H=r[B];(H===!0||H===!1)&&(B==="navigation"||B==="pagination"||B==="scrollbar")?H===!1&&L(B):f[B]=r[B]}}),d.includes("controller")&&!E&&e.controller&&e.controller.control&&f.controller&&f.controller.control&&(e.controller.control=f.controller.control),i.includes("children")&&n&&S&&f.virtual.enabled?(S.slides=n,S.update(!0)):i.includes("virtual")&&S&&f.virtual.enabled&&(n&&(S.slides=n),S.update(!0)),i.includes("children")&&n&&f.loop&&(F=!0),T&&_.init()&&_.update(!0),E&&(e.controller.control=f.controller.control),C&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(f.pagination.el=c),h.init(),h.render(),h.update()),I&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(f.scrollbar.el=a),y.init(),y.updateSize(),y.setTranslate()),D&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),MA(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),MA(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),s&&(f.navigation.nextEl=s),o&&(f.navigation.prevEl=o),g.init(),g.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(K||F)&&e.loopDestroy(),(ae||F)&&e.loopCreate(),e.update()}function yZ(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};Ch(n,rb),n._emitClasses=!0,n.init=!1;const s={},o=Mk.map(c=>c.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?gf(t[c])?(n[c]={},i[c]={},Ch(n[c],t[c]),Ch(i[c],t[c])):(n[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:s[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:s,events:r}}function vZ(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;Fk(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),Vk(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),Bk(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function wZ(t,e,n,r,i){const s=[];if(!e)return s;const o=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(i),d=n.map(i);c.join("")!==d.join("")&&o("children"),r.length!==n.length&&o("children")}return Mk.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(gf(t[c])&&gf(e[c])){const d=Object.keys(t[c]),f=Object.keys(e[c]);d.length!==f.length?o(c):(d.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}),f.forEach(h=>{t[c][h]!==e[c][h]&&o(c)}))}else t[c]!==e[c]&&o(c)}),s}const bZ=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(this,arguments)}function zk(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function qk(t){const e=[];return it.Children.toArray(t).forEach(n=>{zk(n)?e.push(n):n.props&&n.props.children&&qk(n.props.children).forEach(r=>e.push(r))}),e}function xZ(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return it.Children.toArray(t).forEach(r=>{if(zk(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=qk(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function _Z(t,e,n){if(!n)return null;const r=f=>{let h=f;return f<0?h=e.length+f:h>=e.length&&(h=h-e.length),h},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,d=[];for(let f=a;f<c;f+=1)f>=s&&f<=o&&d.push(e[r(f)]);return d.map((f,h)=>it.cloneElement(f,{swiper:t,style:i,key:f.props.virtualIndex||f.key||`slide-${h}`}))}function Qp(t,e){return typeof window>"u"?$.useEffect(t,e):$.useLayoutEffect(t,e)}const zA=$.createContext(null),SZ=$.createContext(null),ib=$.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,c=!1;const[d,f]=$.useState("swiper"),[h,g]=$.useState(null),[y,S]=$.useState(!1),_=$.useRef(!1),T=$.useRef(null),E=$.useRef(null),C=$.useRef(null),I=$.useRef(null),D=$.useRef(null),K=$.useRef(null),ae=$.useRef(null),F=$.useRef(null),{params:L,passedParams:B,rest:H,events:k}=yZ(a),{slides:j,slots:z}=xZ(s),oe=()=>{S(!y)};Object.assign(L.on,{_containerClasses(pe,Z){f(Z)}});const de=()=>{Object.assign(L.on,k),c=!0;const pe={...L};if(delete pe.wrapperClass,E.current=new ex(pe),E.current.virtual&&E.current.params.virtual.enabled){E.current.virtual.slides=j;const Z={cache:!1,slides:j,renderExternal:g,renderExternalUpdate:!1};Ch(E.current.params.virtual,Z),Ch(E.current.originalParams.virtual,Z)}};T.current||de(),E.current&&E.current.on("_beforeBreakpoint",oe);const se=()=>{c||!k||!E.current||Object.keys(k).forEach(pe=>{E.current.on(pe,k[pe])})},le=()=>{!k||!E.current||Object.keys(k).forEach(pe=>{E.current.off(pe,k[pe])})};$.useEffect(()=>()=>{E.current&&E.current.off("_beforeBreakpoint",oe)}),$.useEffect(()=>{!_.current&&E.current&&(E.current.emitSlidesClasses(),_.current=!0)}),Qp(()=>{if(e&&(e.current=T.current),!!T.current)return E.current.destroyed&&de(),vZ({el:T.current,nextEl:D.current,prevEl:K.current,paginationEl:ae.current,scrollbarEl:F.current,swiper:E.current},L),o&&!E.current.destroyed&&o(E.current),()=>{E.current&&!E.current.destroyed&&E.current.destroy(!0,!1)}},[]),Qp(()=>{se();const pe=wZ(B,C.current,j,I.current,Z=>Z.key);return C.current=B,I.current=j,pe.length&&E.current&&!E.current.destroyed&&gZ({swiper:E.current,slides:j,passedParams:B,changedParams:pe,nextEl:D.current,prevEl:K.current,scrollbarEl:F.current,paginationEl:ae.current}),()=>{le()}}),Qp(()=>{bZ(E.current)},[h]);function re(){return L.virtual?_Z(E.current,j,h):j.map((pe,Z)=>it.cloneElement(pe,{swiper:E.current,swiperSlideIndex:Z}))}return it.createElement(r,yy({ref:T,className:Uk(`${d}${n?` ${n}`:""}`)},H),it.createElement(SZ.Provider,{value:E.current},z["container-start"],it.createElement(i,{className:mZ(L.wrapperClass)},z["wrapper-start"],re(),z["wrapper-end"]),Fk(L)&&it.createElement(it.Fragment,null,it.createElement("div",{ref:K,className:"swiper-button-prev"}),it.createElement("div",{ref:D,className:"swiper-button-next"})),Bk(L)&&it.createElement("div",{ref:F,className:"swiper-scrollbar"}),Vk(L)&&it.createElement("div",{ref:ae,className:"swiper-pagination"}),z["container-end"]))});ib.displayName="Swiper";const sb=$.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:c,swiperSlideIndex:d,...f}=t===void 0?{}:t;const h=$.useRef(null),[g,y]=$.useState("swiper-slide"),[S,_]=$.useState(!1);function T(D,K,ae){K===h.current&&y(ae)}Qp(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),e&&(e.current=h.current),!(!h.current||!s)){if(s.destroyed){g!=="swiper-slide"&&y("swiper-slide");return}return s.on("_slideClass",T),()=>{s&&s.off("_slideClass",T)}}}),Qp(()=>{s&&h.current&&!s.destroyed&&y(s.getSlideClasses(h.current))},[s]);const E={isActive:g.indexOf("swiper-slide-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0},C=()=>typeof r=="function"?r(E):r,I=()=>{_(!0)};return it.createElement(n,yy({ref:h,className:Uk(`${g}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:I},f),o&&it.createElement(zA.Provider,{value:E},it.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},C(),a&&!S&&it.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&it.createElement(zA.Provider,{value:E},C(),a&&!S&&it.createElement("div",{className:"swiper-lazy-preloader"})))});sb.displayName="SwiperSlide";function TZ(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Ka(t.el,`.${r[i]}`)[0];s||(s=gy("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function EZ(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(S){let _;return S&&typeof S=="string"&&e.isElement&&(_=e.el.querySelector(S)||e.hostEl.querySelector(S),_)?_:(S&&(typeof S=="string"&&(_=[...document.querySelectorAll(S)]),e.params.uniqueNavElements&&typeof S=="string"&&_&&_.length>1&&e.el.querySelectorAll(S).length===1?_=e.el.querySelector(S):_&&_.length===1&&(_=_[0])),S&&!_?S:_)}function o(S,_){const T=e.params.navigation;S=mc(S),S.forEach(E=>{E&&(E.classList[_?"add":"remove"](...T.disabledClass.split(" ")),E.tagName==="BUTTON"&&(E.disabled=_),e.params.watchOverflow&&e.enabled&&E.classList[e.isLocked?"add":"remove"](T.lockClass))})}function a(){const{nextEl:S,prevEl:_}=e.navigation;if(e.params.loop){o(_,!1),o(S,!1);return}o(_,e.isBeginning&&!e.params.rewind),o(S,e.isEnd&&!e.params.rewind)}function c(S){S.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function d(S){S.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function f(){const S=e.params.navigation;if(e.params.navigation=TZ(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(S.nextEl||S.prevEl))return;let _=s(S.nextEl),T=s(S.prevEl);Object.assign(e.navigation,{nextEl:_,prevEl:T}),_=mc(_),T=mc(T);const E=(C,I)=>{C&&C.addEventListener("click",I==="next"?d:c),!e.enabled&&C&&C.classList.add(...S.lockClass.split(" "))};_.forEach(C=>E(C,"next")),T.forEach(C=>E(C,"prev"))}function h(){let{nextEl:S,prevEl:_}=e.navigation;S=mc(S),_=mc(_);const T=(E,C)=>{E.removeEventListener("click",C==="next"?d:c),E.classList.remove(...e.params.navigation.disabledClass.split(" "))};S.forEach(E=>T(E,"next")),_.forEach(E=>T(E,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?y():(f(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{h()}),r("enable disable",()=>{let{nextEl:S,prevEl:_}=e.navigation;if(S=mc(S),_=mc(_),e.enabled){a();return}[...S,..._].filter(T=>!!T).forEach(T=>T.classList.add(e.params.navigation.lockClass))}),r("click",(S,_)=>{let{nextEl:T,prevEl:E}=e.navigation;T=mc(T),E=mc(E);const C=_.target;let I=E.includes(C)||T.includes(C);if(e.isElement&&!I){const D=_.path||_.composedPath&&_.composedPath();D&&(I=D.find(K=>T.includes(K)||E.includes(K)))}if(e.params.navigation.hideOnClick&&!I){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===C||e.pagination.el.contains(C)))return;let D;T.length?D=T[0].classList.contains(e.params.navigation.hiddenClass):E.length&&(D=E[0].classList.contains(e.params.navigation.hiddenClass)),i(D===!0?"navigationShow":"navigationHide"),[...T,...E].filter(K=>!!K).forEach(K=>K.classList.toggle(e.params.navigation.hiddenClass))}});const g=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),f(),a()},y=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:g,disable:y,update:a,init:f,destroy:h})}function qA(t){let{swiper:e,extendParams:n,on:r}=t;n({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let i=!1,s=!1;e.thumbs={swiper:null};function o(){const d=e.thumbs.swiper;if(!d||d.destroyed)return;const f=d.clickedIndex,h=d.clickedSlide;if(h&&h.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof f>"u"||f===null)return;let g;d.params.loop?g=parseInt(d.clickedSlide.getAttribute("data-swiper-slide-index"),10):g=f,e.params.loop?e.slideToLoop(g):e.slideTo(g)}function a(){const{thumbs:d}=e.params;if(i)return!1;i=!0;const f=e.constructor;if(d.swiper instanceof f){if(d.swiper.destroyed)return i=!1,!1;e.thumbs.swiper=d.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(Fp(d.swiper)){const h=Object.assign({},d.swiper);Object.assign(h,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new f(h),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function c(d){const f=e.thumbs.swiper;if(!f||f.destroyed)return;const h=f.params.slidesPerView==="auto"?f.slidesPerViewDynamic():f.params.slidesPerView;let g=1;const y=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(g=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(g=1),g=Math.floor(g),f.slides.forEach(T=>T.classList.remove(y)),f.params.loop||f.params.virtual&&f.params.virtual.enabled)for(let T=0;T<g;T+=1)Ka(f.slidesEl,`[data-swiper-slide-index="${e.realIndex+T}"]`).forEach(E=>{E.classList.add(y)});else for(let T=0;T<g;T+=1)f.slides[e.realIndex+T]&&f.slides[e.realIndex+T].classList.add(y);const S=e.params.thumbs.autoScrollOffset,_=S&&!f.params.loop;if(e.realIndex!==f.realIndex||_){const T=f.activeIndex;let E,C;if(f.params.loop){const I=f.slides.find(D=>D.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);E=f.slides.indexOf(I),C=e.activeIndex>e.previousIndex?"next":"prev"}else E=e.realIndex,C=E>e.previousIndex?"next":"prev";_&&(E+=C==="next"?S:-1*S),f.visibleSlidesIndexes&&f.visibleSlidesIndexes.indexOf(E)<0&&(f.params.centeredSlides?E>T?E=E-Math.floor(h/2)+1:E=E+Math.floor(h/2)-1:E>T&&f.params.slidesPerGroup,f.slideTo(E,d?0:void 0))}}r("beforeInit",()=>{const{thumbs:d}=e.params;if(!(!d||!d.swiper))if(typeof d.swiper=="string"||d.swiper instanceof HTMLElement){const f=dd(),h=()=>{const y=typeof d.swiper=="string"?f.querySelector(d.swiper):d.swiper;if(y&&y.swiper)d.swiper=y.swiper,a(),c(!0);else if(y){const S=`${e.params.eventsPrefix}init`,_=T=>{d.swiper=T.detail[0],y.removeEventListener(S,_),a(),c(!0),d.swiper.update(),e.update()};y.addEventListener(S,_)}return y},g=()=>{if(e.destroyed)return;h()||requestAnimationFrame(g)};requestAnimationFrame(g)}else a(),c(!0)}),r("slideChange update resize observerUpdate",()=>{c()}),r("setTransition",(d,f)=>{const h=e.thumbs.swiper;!h||h.destroyed||h.setTransition(f)}),r("beforeDestroy",()=>{const d=e.thumbs.swiper;!d||d.destroyed||s&&d.destroy()}),Object.assign(e.thumbs,{init:a,update:c})}const AZ=[{id:1,label:"Special Price",details:"Get extra 20% off upto ₹40 on 2 items",code:"W2C20"},{id:2,label:"Bank Offer",details:"5% cashback on Flipkart Axis Bank Credit Card",code:"FLPKT5"},{id:3,label:"Bank Offer",details:"10% off up to ₹1000 on ICICI Bank Credit Card on orders above ₹1000",code:"ICICI10"}];function WA(){const{productId:t}=rC(),[e,n]=$.useState(null),[r,i]=$.useState(null),[s,o]=$.useState(!1),[a,c]=$.useState([]),[d,f]=$.useState(!0),[h,g]=$.useState(""),[y,S]=$.useState(5),[_,T]=$.useState(null),[E,C]=$.useState(""),[I,D]=$.useState(""),[K,ae]=$.useState(!1),F=Ja(),L=$.useRef(null),{user:B}=ha();$.useEffect(()=>{f(!0);async function le(){try{const re=Hn(an,"wishlist2cart_brands",t),pe=await df(re);if(pe.exists()){const Z=pe.data();n({id:pe.id,...Z,createdAt:Z.createdAt?Z.createdAt.toDate():null}),o(!1)}else F("/404")}catch(re){fn.error("Failed to load product details: "+re.message)}finally{f(!1)}}le()},[t,F]),$.useEffect(()=>{if(!t)return;async function le(){try{const re=uf(so(an,"product_reviews"),_c("productId","==",t),iv("createdAt","desc")),Z=(await ff(re)).docs.map(q=>({id:q.id,...q.data(),createdAt:q.data().createdAt?.toDate?.()||new Date}));c(Z)}catch{fn.error("Failed to load reviews")}}le()},[t]);const H=le=>{const re=le.target.files?.[0];re&&(T(re),C(URL.createObjectURL(re)),D(re.type.startsWith("image")?"image":"video"))},k=()=>{T(null),C(""),D("")},j=le=>{navigator.clipboard.writeText(le),fn.success("Copied!")},z=()=>{rm({particleCount:120,spread:120,origin:{y:.6}})},oe=()=>{z(),fn.success("Added to cart!"),setTimeout(()=>F("/cart"),800)},de=async le=>{if(le.preventDefault(),!h.trim()){fn.error("Please add some text to your review.");return}if(!B){fn.error("Please login to submit a review.");return}ae(!0);let re="";if(_)try{const pe=_.name.split(".").pop(),Z=`review_media/${B.uid}/${nanoid()}.${pe}`,q=ref(storage,Z),V=uploadBytesResumable(q,_);await new Promise((W,ee)=>{V.on("state_changed",null,ce=>ee(ce),()=>W())}),re=await getDownloadURL(q)}catch{fn.error("Failed to upload media. Please try again."),ae(!1);return}try{await sv(so(an,"product_reviews"),{productId:t,name:B.displayName||B.email||"Anonymous",rating:y,comment:h.trim(),media:re,mediaType:I,createdAt:Dc()}),c(pe=>[{id:Date.now().toString(),productId:t,name:B.displayName||B.email||"Anonymous",rating:y,comment:h.trim(),createdAt:new Date,media:re,mediaType:I},...pe]),g(""),S(5),k(),fn.success("Review submitted!"),z()}catch(pe){fn.error("Failed to submit review."),console.error(pe)}ae(!1)},se=le=>le?(typeof le=="object"&&le.toLocaleString?le:new Date(le)).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"";return d||!e?w.jsx("div",{className:"max-w-6xl mx-auto px-3",children:w.jsx(ym,{height:500})}):w.jsxs(w.Fragment,{children:[w.jsx(KQ,{}),w.jsxs("div",{className:"container mx-auto px-2 md:px-6 py-10 md:py-14 max-w-6xl",children:[w.jsx(Ot,{variant:"ghost",onClick:()=>F(-1),className:"mb-8",children:"← Back"}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[w.jsxs("section",{className:"md:w-2/5 space-y-4 select-none",children:[w.jsx(ib,{style:{"--swiper-navigation-color":"#7c3aed"},modules:[EZ,qA],spaceBetween:10,navigation:!0,thumbs:{swiper:r},className:"rounded-2xl overflow-hidden shadow-lg",children:e.images?.map((le,re)=>w.jsxs(sb,{children:[!s&&w.jsx(ym,{height:350,width:"100%"}),w.jsx(Sn.img,{src:le,alt:`${e.title} image ${re+1}`,className:`w-full h-96 object-cover rounded-2xl ${s?"opacity-100":"opacity-0"}`,loading:"lazy",onLoad:()=>o(!0),initial:{scale:.95},animate:{scale:s?1:.95,opacity:s?1:0},transition:{duration:.5}})]},re))}),w.jsx(ib,{onSwiper:i,modules:[qA],spaceBetween:12,slidesPerView:e.images?.length>4?4:e.images?.length,watchSlidesProgress:!0,className:"max-w-full",children:e.images?.map((le,re)=>w.jsx(sb,{className:"cursor-pointer rounded-lg overflow-hidden border border-gray-300 dark:border-gray-700",children:w.jsx("img",{src:le,alt:`Thumbnail ${re+1}`,className:"w-full h-20 object-cover rounded-lg",loading:"lazy"})},re))})]}),w.jsxs("section",{className:"md:w-3/5 flex flex-col",children:[w.jsx("h1",{className:"text-3xl font-extrabold mb-2 text-gray-900 dark:text-white",children:e.title}),w.jsxs("div",{className:"text-2xl font-bold text-violet-600 mb-4",children:["₹",e.price?.toLocaleString("en-IN")]}),w.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[e.tags?.map(le=>w.jsx("span",{className:"bg-violet-600 text-white px-3 py-1 rounded-full text-xs uppercase font-semibold select-none",children:le},le)),e.category&&w.jsx("span",{className:"ml-auto bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded-md text-xs font-medium",children:e.category})]}),w.jsxs(Sn.div,{className:"rounded-xl mb-8 p-6 bg-gradient-to-br from-indigo-50 to-white dark:from-gray-900/70 dark:to-gray-800/80 border border-violet-200 dark:border-violet-900/60 shadow",initial:{scale:.97,opacity:0},animate:{scale:1,opacity:1},children:[w.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[w.jsx("span",{className:"text-xl font-bold text-violet-600",children:"Offers & Coupons"}),w.jsx("img",{src:"/assets/coupon.svg",alt:"",className:"h-7 w-7",loading:"lazy"})]}),w.jsx("ul",{className:"space-y-2",children:AZ.map(le=>w.jsxs("li",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:"font-medium text-violet-700",children:[le.label,":"]}),w.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:le.details}),w.jsxs(Ot,{size:"xs",variant:"outline",onClick:()=>j(le.code),className:"ml-3 font-mono flex gap-1",children:[le.code,w.jsx(jM,{size:15})]})]},le.id))})]}),w.jsx(Ot,{size:"lg",className:"mb-9 text-lg font-semibold",onClick:oe,"aria-label":"Add product to cart",children:"Add to Cart"}),w.jsxs(Sn.div,{className:"mb-12 rounded-2xl bg-white/90 dark:bg-gray-900/70 px-7 py-7 border border-gray-200 dark:border-gray-800 shadow",initial:{y:15,opacity:0},animate:{y:0,opacity:1},children:[w.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-violet-200 mb-5",children:"Product Details"}),w.jsxs("div",{className:"grid sm:grid-cols-2 gap-y-3 gap-x-12",children:[w.jsx(gc,{label:"Brand",value:e.brand||"W2C Originals"}),w.jsx(gc,{label:"Fit",value:e.fit||"-"}),w.jsx(gc,{label:"Material",value:e.material||e.fabric||"-"}),w.jsx(gc,{label:"Color",value:e.color||"-"}),w.jsx(gc,{label:"Occasion",value:e.occasion||"-"}),w.jsx(gc,{label:"Category",value:e.category||"-"}),w.jsx(gc,{label:"In Stock",value:e.inStock?"Yes":"No"}),w.jsx(gc,{label:"Return Policy",value:e.returnPolicy||"10 days"}),w.jsx(gc,{label:"Shipping",value:e.shipping||"Usually delivered in 2-5 days"})]})]})]})]}),w.jsxs("section",{className:"max-w-3xl mt-12 mx-auto px-2",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[w.jsx("div",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"User Reviews"}),w.jsx("div",{className:"text-lg flex items-center gap-1 text-yellow-500",children:a.length>0&&w.jsxs(w.Fragment,{children:[w.jsx(L0,{size:20,className:"mt-0.5"}),w.jsx("span",{className:"font-semibold",children:(a.reduce((le,re)=>le+(re.rating||0),0)/a.length).toFixed(1)}),w.jsxs("span",{className:"text-gray-500 dark:text-gray-300",children:["(",a.length,")"]})]})})]}),w.jsxs(Sn.ul,{layout:!0,className:"space-y-5 max-h-96 overflow-y-auto pr-2 mb-8",children:[a.length===0&&w.jsx(Sn.div,{className:"text-gray-400 italic text-lg py-8 text-center",children:"No reviews yet. Be the first to review!"}),a.map(({id:le,name:re,rating:pe,comment:Z,createdAt:q,media:V,mediaType:W})=>w.jsxs(Sn.li,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-gray-100 dark:bg-gray-800/80 p-4 rounded-lg shadow-md",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2 flex-wrap gap-2",children:[w.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:re}),w.jsx("div",{className:"flex items-center space-x-1 text-yellow-400","aria-label":`Rating: ${pe} out of 5`,children:[...Array(5)].map((ee,ce)=>w.jsx(L0,{size:16,fill:ce<pe?"currentColor":"none",stroke:ce<pe?"currentColor":"#a0aec0",className:ce<pe?"fill-current":"text-gray-300 dark:text-gray-600"},ce))}),w.jsx("span",{className:"ml-auto text-xs text-gray-400 font-mono",children:se(q)})]}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-2 break-words",children:Z}),V&&w.jsx("div",{className:"mt-2 rounded overflow-hidden",children:W==="image"?w.jsx("img",{src:V,alt:"Review upload",className:"max-h-52 max-w-full rounded border shadow"}):w.jsx("video",{controls:!0,src:V,className:"max-h-52 rounded border shadow bg-black"})})]},le))]}),w.jsxs("form",{className:"rounded-xl py-6 px-5 bg-gradient-to-tr from-violet-50 via-blue-50 to-white dark:from-gray-900/60 dark:to-gray-800/80 border shadow flex flex-col gap-4",onSubmit:de,"aria-label":"Add a new review",encType:"multipart/form-data",children:[w.jsxs("div",{className:"flex flex-col md:flex-row gap-2 items-center",children:[w.jsx("label",{htmlFor:"rating",className:"font-medium mb-1 text-gray-700 dark:text-gray-300 min-w-[60px]",children:"Rating"}),w.jsx("select",{id:"rating",name:"rating",className:"rounded border dark:bg-gray-900 border-gray-300 dark:border-gray-700 px-3 py-2 w-24 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-violet-500",value:y,onChange:le=>S(Number(le.target.value)),disabled:K,required:!0,children:[5,4,3,2,1].map(le=>w.jsxs("option",{value:le,children:[le," Star",le>1&&"s"]},le))}),w.jsx("span",{className:"hidden sm:inline text-gray-400 px-2",children:"|"}),w.jsx("input",{id:"comment",name:"comment","aria-label":"Comment",type:"text",required:!0,value:h,onChange:le=>g(le.target.value),disabled:K,ref:L,minLength:3,maxLength:400,placeholder:"Write your review here...",className:"flex-1 rounded border border-gray-300 dark:bg-gray-900 dark:border-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),w.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[w.jsxs("label",{htmlFor:"review-media",className:"flex gap-2 items-center cursor-pointer font-medium text-violet-700",children:[w.jsx(zM,{size:21})," Add Photo/Video"]}),w.jsx("input",{id:"review-media",className:"hidden",type:"file",accept:"image/*,video/*",onChange:H,disabled:K}),_&&w.jsxs("div",{className:"flex gap-2 items-center",children:[I==="image"?w.jsx("img",{src:E,alt:"preview",className:"h-12 rounded border"}):w.jsx("video",{src:E,className:"h-12 rounded border bg-black"}),w.jsx("button",{type:"button",onClick:k,className:"text-red-500",title:"Remove media",children:w.jsx(jb,{})})]})]}),w.jsx(Ot,{type:"submit",disabled:K||!B,className:"self-end px-8 py-2",children:K?"Submitting...":w.jsxs("span",{className:"flex items-center gap-2",children:["Submit Review ",w.jsx(t8,{size:18})]})}),!B&&w.jsx("div",{className:"text-red-500 mt-3 text-sm",children:"Please sign in to add a review."})]})]})]})]})}function gc({label:t,value:e}){return w.jsxs("div",{className:"flex items-center gap-4 py-1",children:[w.jsxs("div",{className:"w-32 text-gray-600 dark:text-gray-300 font-semibold",children:[t,":"]}),w.jsx("div",{className:"flex-1 text-gray-900 dark:text-white font-medium",children:e})]})}const Ip=["Mobiles","Fashion","Home Essentials","Sports & Fitness"],zd=["Amazon","Flipkart","Myntra","Alibaba","Meesho","Other"],e0=[{value:"affiliate",label:"Affiliate (Redirect)"},{value:"dropship",label:"Dropship (You fulfill)"}];async function CZ(t){return await new Promise(e=>setTimeout(e,1e3)),{title:"Auto-fetched Product Title",description:"Description fetched from product URL.",image:"https://via.placeholder.com/300x300?text=Product+Image",price:1299.99,category:"Mobiles",platform:zd.find(e=>t.toLowerCase().includes(e.toLowerCase()))||zd[0]}}function PZ({user:t,existingProduct:e=null,onSaved:n=()=>{}}){const{toast:r}=Mo(),[i,s]=$.useState({title:"",description:"",image:"",price:"",sourcePrice:"",category:Ip[0],platform:zd[0],url:"",type:e0[0].value,tags:""}),[o,a]=$.useState(!1),[c,d]=$.useState(!1),[f,h]=$.useState(!1),[g,y]=$.useState({});$.useEffect(()=>{e&&s({title:e.title||"",description:e.description||"",image:e.image||"",price:e.price?.toString()||"",sourcePrice:e.sourcePrice?.toString()||"",category:e.category||Ip[0],platform:e.platform||zd[0],url:e.url||"",type:e.type||e0[0].value,tags:e.tags?.join(", ")||""})},[e]);const S=()=>{const D={};return i.type==="dropship"?(i.title.trim()||(D.title="Title required."),(!i.price.trim()||isNaN(Number(i.price))||Number(i.price)<=0)&&(D.price="Valid price required."),i.category||(D.category="Category required."),i.platform||(D.platform="Platform required."),i.url.trim()||(D.url="Product URL required.")):i.type==="affiliate"&&(i.url.trim()||(D.url="Affiliate product URL required.")),i.type||(D.type="Product type required."),y(D),Object.keys(D).length===0},_=(D,K)=>{s(ae=>({...ae,[D]:K}))},T=async()=>{const D=i.url.trim();if(D){h(!0);try{const K=await CZ(D);s(ae=>({...ae,title:ae.title||K.title||"",description:ae.description||K.description||"",image:ae.image||K.image||"",price:ae.price||(K.price?K.price.toString():""),category:ae.category||K.category||Ip[0],platform:ae.platform||K.platform||zd[0]})),r({title:"Product info auto-filled from URL"})}catch{r({title:"Failed to fetch product info from URL",variant:"destructive"})}finally{h(!1)}}},E=D=>{if(!D)return;d(!0);const K=FN(BN,`product-images/${Date.now()}-${D.name}`),ae=jN(K,D);ae.on("state_changed",null,F=>{r({title:"Upload failed",description:F.message,variant:"destructive"}),d(!1)},()=>{MN(ae.snapshot.ref).then(F=>{s(L=>({...L,image:F})),r({title:"Image uploaded successfully."}),d(!1)})})},C=async()=>{if(!(!e||!e.id)&&window.confirm("Are you sure you want to delete this product? This action cannot be undone.")){a(!0);try{const D=Hn(an,"products",e.id);await mm(D),r({title:"Product deleted successfully."}),n()}catch(D){r({title:"Delete failed",description:D.message,variant:"destructive"})}finally{a(!1)}}},I=async D=>{if(D.preventDefault(),!S())return;a(!0);const K=i.tags?i.tags.split(",").map(F=>F.trim()).filter(Boolean):[],ae={title:i.title.trim(),description:i.description.trim(),image:i.image.trim(),price:i.price.trim()?Number(i.price):void 0,sourcePrice:i.sourcePrice.trim()?Number(i.sourcePrice):void 0,category:i.category,platform:i.platform,url:i.url.trim(),type:i.type,tags:K,isCustom:i.type==="dropship",createdAt:e?.createdAt||Dc()};Object.keys(ae).forEach(F=>{ae[F]===void 0&&delete ae[F]});try{if(e&&e.id){const F=Hn(an,"products",e.id);await Ha(F,ae),r({title:"Product updated!"})}else await sv(so(an,"products"),{...ae,createdAt:Dc()}),r({title:"Product added!"});s({title:"",description:"",image:"",price:"",sourcePrice:"",category:Ip[0],platform:zd[0],url:"",type:e0[0].value,tags:""}),y({}),n()}catch(F){r({title:"Error",description:F.message||"Failed to save product",variant:"destructive"})}finally{a(!1)}};return w.jsxs("form",{onSubmit:I,className:"bg-white dark:bg-gray-900 rounded-lg p-8 max-w-xl mx-auto shadow space-y-6",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4",children:e?"Edit Product":"Add New Product"}),w.jsxs("div",{children:[w.jsx(mn,{children:"Product Type *"}),w.jsx("select",{disabled:o||c||f,value:i.type,onChange:D=>_("type",D.target.value),className:"w-full border rounded px-3 py-2",children:e0.map(D=>w.jsx("option",{value:D.value,children:D.label},D.value))}),g.type&&w.jsx("span",{className:"text-red-500 text-xs",children:g.type})]}),w.jsxs("div",{children:[w.jsx(mn,{children:"Product URL *"}),w.jsx($n,{disabled:o||c||f,value:i.url,onChange:D=>_("url",D.target.value),onBlur:T,placeholder:"Paste full affiliate or dropship product URL",required:!0}),g.url&&w.jsx("span",{className:"text-red-500 text-xs",children:g.url})]}),w.jsxs("div",{children:[w.jsxs(mn,{children:["Product Title ",i.type==="dropship"?"*":"(optional)"]}),w.jsx($n,{disabled:o||c||f,value:i.title,onChange:D=>_("title",D.target.value),placeholder:i.type==="affiliate"?"Optional - enter or auto-filled":""}),g.title&&w.jsx("span",{className:"text-red-500 text-xs",children:g.title})]}),w.jsxs("div",{children:[w.jsx(mn,{children:"Description"}),w.jsx("textarea",{disabled:o||c||f,value:i.description,onChange:D=>_("description",D.target.value),className:"w-full border rounded px-3 py-2",rows:3,placeholder:"Enter product description (optional)"})]}),w.jsxs("div",{children:[w.jsxs(mn,{children:["Product Image URL ",i.type==="dropship"?"*":"(optional)"]}),w.jsx($n,{disabled:o||c||f,value:i.image,onChange:D=>_("image",D.target.value),placeholder:"Paste image URL or upload below"}),w.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[w.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer inline-flex items-center gap-2 rounded-md border border-gray-300 bg-gray-100 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 ${c?"opacity-60 cursor-wait":""}`,children:["Upload Image",w.jsx("input",{id:"image-upload",type:"file",accept:"image/*",disabled:o||c||f,className:"hidden",onChange:D=>{D.target.files&&D.target.files[0]&&(E(D.target.files[0]),D.target.value=null)}})]}),c&&w.jsx("span",{className:"text-sm text-gray-500",children:"Uploading..."}),i.image&&!c&&w.jsx("img",{src:i.image,alt:"Preview",className:"h-12 w-12 rounded object-cover border"})]}),g.image&&w.jsx("span",{className:"text-red-500 text-xs",children:g.image})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{children:[w.jsxs(mn,{children:["Your Price ",i.type==="dropship"?"*":"(optional)"]}),w.jsx($n,{type:"number",min:"0",step:"0.01",disabled:o||c||f,value:i.price,onChange:D=>_("price",D.target.value)}),g.price&&w.jsx("span",{className:"text-red-500 text-xs",children:g.price})]}),w.jsxs("div",{children:[w.jsx(mn,{children:"Source Price (optional)"}),w.jsx($n,{type:"number",min:"0",step:"0.01",disabled:o||c||f,value:i.sourcePrice,onChange:D=>_("sourcePrice",D.target.value)})]})]}),w.jsxs("div",{children:[w.jsx(mn,{children:"Tags (comma separated)"}),w.jsx($n,{disabled:o||c||f,value:i.tags,onChange:D=>_("tags",D.target.value)})]}),w.jsxs("div",{children:[w.jsx(mn,{children:"Platform *"}),w.jsx("select",{disabled:o||c||f,value:i.platform,onChange:D=>_("platform",D.target.value),className:"w-full border rounded px-3 py-2",required:!0,children:zd.map(D=>w.jsx("option",{value:D,children:D},D))}),g.platform&&w.jsx("span",{className:"text-red-500 text-xs",children:g.platform})]}),w.jsxs("div",{children:[w.jsx(mn,{children:"Category *"}),w.jsx("select",{disabled:o||c||f,value:i.category,onChange:D=>_("category",D.target.value),className:"w-full border rounded px-3 py-2",required:!0,children:Ip.map(D=>w.jsx("option",{value:D,children:D},D))}),g.category&&w.jsx("span",{className:"text-red-500 text-xs",children:g.category})]}),w.jsxs("div",{className:"flex space-x-4",children:[w.jsx(Ot,{type:"submit",size:"lg",variant:"default",disabled:o||c||f||!1,className:"flex-1",children:e?"Update Product":f?"Fetching data...":"Add Product"}),e&&w.jsx(Ot,{type:"button",size:"lg",variant:"destructive",disabled:o||c||f||!1,onClick:C,className:"flex-1",children:"Delete Product"})]}),!1]})}const P2=["Mobiles","Fashion","Home Essentials","Sports & Fitness"],N2=["Amazon","Flipkart","Myntra","Alibaba","Meesho","Other"];function NZ({user:t,onSaved:e=()=>{}}){const{toast:n}=Mo(),[r,i]=$.useState({title:"",description:"",image:"",price:"",sourcePrice:"",category:P2[0],platform:N2[0],url:"",tags:""}),[s,o]=$.useState(!1),[a,c]=$.useState(!1),[d,f]=$.useState({}),h=()=>{const _={};return r.title.trim()||(_.title="Title is required."),r.image.trim()||(_.image="Product image URL or upload is required."),(!r.price.trim()||isNaN(Number(r.price))||Number(r.price)<=0)&&(_.price="Valid price is required."),r.category||(_.category="Category is required."),r.platform||(_.platform="Platform is required."),f(_),Object.keys(_).length===0},g=(_,T)=>{i(E=>({...E,[_]:T}))},y=_=>{if(!_)return;c(!0);const T=FN(BN,`custom-product-images/${Date.now()}-${_.name}`),E=jN(T,_);E.on("state_changed",()=>{},C=>{n({title:"Upload failed",description:C.message,variant:"destructive"}),c(!1)},()=>{MN(E.snapshot.ref).then(C=>{i(I=>({...I,image:C})),n({title:"Image uploaded successfully."}),c(!1)})})},S=async _=>{if(_.preventDefault(),!h())return;o(!0);const T=r.tags?r.tags.split(",").map(C=>C.trim()).filter(Boolean):[],E={title:r.title.trim(),description:r.description.trim(),image:r.image.trim(),price:Number(r.price),sourcePrice:r.sourcePrice.trim()?Number(r.sourcePrice):null,category:r.category,platform:r.platform,url:r.url.trim()||null,tags:T,type:"custom",isCustom:!0,createdAt:Dc()};Object.keys(E).forEach(C=>{E[C]===null&&delete E[C]});try{await sv(so(an,"wishlist2cart_brands"),E),n({title:"Custom product added successfully."}),i({title:"",description:"",image:"",price:"",sourcePrice:"",category:P2[0],platform:N2[0],url:"",tags:""}),f({}),e()}catch(C){n({title:"Failed to add product",description:C.message||"Unknown error",variant:"destructive"})}finally{o(!1)}};return w.jsxs("form",{onSubmit:S,className:"max-w-xl mx-auto p-6 bg-white rounded shadow space-y-6 dark:bg-gray-900",noValidate:!0,children:[w.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Add New Custom Product"}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"title",children:"Product Title *"}),w.jsx($n,{id:"title",value:r.title,onChange:_=>g("title",_.target.value),disabled:s||a,required:!0,"aria-invalid":!!d.title,"aria-describedby":d.title?"title-error":void 0}),d.title&&w.jsx("p",{id:"title-error",className:"text-red-500 text-sm mt-1",children:d.title})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"description",children:"Description"}),w.jsx("textarea",{id:"description",value:r.description,onChange:_=>g("description",_.target.value),disabled:s||a,className:"w-full border rounded p-2 dark:bg-gray-800 dark:text-white",rows:4,placeholder:"Optional"})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"image",children:"Product Image URL *"}),w.jsx($n,{id:"image",value:r.image,onChange:_=>g("image",_.target.value),disabled:s||a,placeholder:"Paste image URL or upload below",required:!0,"aria-invalid":!!d.image,"aria-describedby":d.image?"image-error":void 0}),w.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[w.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer inline-flex items-center gap-2 rounded border border-gray-300 bg-gray-100 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 ${a?"opacity-60 cursor-wait":""}`,children:["Upload Image",w.jsx("input",{id:"image-upload",type:"file",accept:"image/*",disabled:s||a,className:"hidden",onChange:_=>{_.target.files&&_.target.files[0]&&(y(_.target.files[0]),_.target.value=null)}})]}),a&&w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Uploading..."}),r.image&&!a&&w.jsx("img",{src:r.image,alt:"Preview",className:"h-12 w-12 rounded object-cover border"})]}),d.image&&w.jsx("p",{id:"image-error",className:"text-red-500 text-sm mt-1",children:d.image})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"price",children:"Your Price *"}),w.jsx($n,{id:"price",type:"number",min:"0",step:"0.01",value:r.price,onChange:_=>g("price",_.target.value),disabled:s||a,required:!0,"aria-invalid":!!d.price,"aria-describedby":d.price?"price-error":void 0}),d.price&&w.jsx("p",{id:"price-error",className:"text-red-500 text-sm mt-1",children:d.price})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"sourcePrice",children:"Source Price (optional)"}),w.jsx($n,{id:"sourcePrice",type:"number",min:"0",step:"0.01",value:r.sourcePrice,onChange:_=>g("sourcePrice",_.target.value),disabled:s||a,placeholder:"Optional"})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"category",children:"Category *"}),w.jsx("select",{id:"category",value:r.category,onChange:_=>g("category",_.target.value),disabled:s||a,required:!0,className:"w-full border rounded px-3 py-2 dark:bg-gray-800 dark:text-white","aria-invalid":!!d.category,"aria-describedby":d.category?"category-error":void 0,children:P2.map(_=>w.jsx("option",{value:_,children:_},_))}),d.category&&w.jsx("p",{id:"category-error",className:"text-red-500 text-sm mt-1",children:d.category})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"platform",children:"Platform *"}),w.jsx("select",{id:"platform",value:r.platform,onChange:_=>g("platform",_.target.value),disabled:s||a,required:!0,className:"w-full border rounded px-3 py-2 dark:bg-gray-800 dark:text-white","aria-invalid":!!d.platform,"aria-describedby":d.platform?"platform-error":void 0,children:N2.map(_=>w.jsx("option",{value:_,children:_},_))}),d.platform&&w.jsx("p",{id:"platform-error",className:"text-red-500 text-sm mt-1",children:d.platform})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"url",children:"Product URL (optional)"}),w.jsx($n,{id:"url",value:r.url,onChange:_=>g("url",_.target.value),disabled:s||a,placeholder:"Optional",type:"url"})]}),w.jsxs("div",{children:[w.jsx(mn,{htmlFor:"tags",children:"Tags (comma separated)"}),w.jsx($n,{id:"tags",value:r.tags,onChange:_=>g("tags",_.target.value),disabled:s||a,placeholder:"e.g. electronics, mobile, 5G"})]}),w.jsx("div",{className:"flex justify-end space-x-4 pt-4",children:w.jsx(Ot,{type:"submit",disabled:s||a,size:"lg",variant:"default","aria-disabled":s||a,children:s?"Saving...":"Add Custom Product"})})]})}const Rd=({children:t})=>{const{user:e,loading:n}=ha();return n?w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:w.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-purple-500 border-t-transparent animate-spin"})}):e?t:w.jsx(aC,{to:"/login",replace:!0})};function IZ(){const t=Uc();return w.jsx(Iy,{mode:"wait",children:w.jsxs(eL,{location:t,children:[w.jsx(nr,{path:"/login",element:w.jsx(u$,{})}),w.jsxs(nr,{element:w.jsx(wW,{}),children:[w.jsx(nr,{path:"/",element:w.jsx(o$,{})}),w.jsx(nr,{path:"/about",element:w.jsx(d$,{})}),w.jsx(nr,{path:"/contact",element:w.jsx(f$,{})}),w.jsx(nr,{path:"/careers",element:w.jsx(h$,{})}),w.jsx(nr,{path:"/privacy-policy",element:w.jsx(p$,{})}),w.jsx(nr,{path:"/terms-of-service",element:w.jsx(m$,{})}),w.jsx(nr,{path:"/add-wishlist",element:w.jsx(Rd,{children:w.jsx(RY,{})})}),w.jsx(nr,{path:"/checkout",element:w.jsx(Rd,{children:w.jsx(cQ,{})})}),w.jsx(nr,{path:"/orders",element:w.jsx(Rd,{children:w.jsx(vA,{})})}),w.jsx(nr,{path:"/cart",element:w.jsx(Rd,{children:w.jsx(DE,{})})}),w.jsx(nr,{path:"/order-success",element:w.jsx(Rd,{children:w.jsx(fQ,{})})}),w.jsx(nr,{path:"/products/:productId",element:w.jsx(Rd,{children:w.jsx(WA,{})})}),w.jsx(nr,{path:"/admin",element:w.jsx(_w,{requiredRole:"admin",children:w.jsx(PZ,{})})}),w.jsx(nr,{path:"/custom-admin",element:w.jsx(_w,{requiredRole:"admin",children:w.jsx(NZ,{})})}),w.jsxs(nr,{path:"/dashboard/*",element:w.jsx(Rd,{children:w.jsx(_W,{})}),children:[w.jsx(nr,{index:!0,element:w.jsx(S$,{})}),w.jsx(nr,{path:"brands",element:w.jsx(pH,{})}),w.jsx(nr,{path:"marketplace",element:w.jsx(gH,{})}),w.jsx(nr,{path:"cart",element:w.jsx(DE,{})}),w.jsx(nr,{path:"orders",element:w.jsx(vA,{})}),w.jsx(nr,{path:"orders/:orderId",element:w.jsx(AY,{})}),w.jsx(nr,{path:"settings",element:w.jsx(hQ,{})}),w.jsx(nr,{path:"products/:productId",element:w.jsx(WA,{})})]})]})]},t.pathname)})}function ko(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function Wk(t,e=[]){let n=[];function r(s,o){const a=$.createContext(o),c=n.length;n=[...n,o];const d=h=>{const{scope:g,children:y,...S}=h,_=g?.[t]?.[c]||a,T=$.useMemo(()=>S,Object.values(S));return w.jsx(_.Provider,{value:T,children:y})};d.displayName=s+"Provider";function f(h,g){const y=g?.[t]?.[c]||a,S=$.useContext(y);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[d,f]}const i=()=>{const s=n.map(o=>$.createContext(o));return function(a){const c=a?.[t]||s;return $.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,kZ(i,...e)]}function kZ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const h=c(s)[`__scope${d}`];return{...a,...h}},{});return $.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function RZ(t){const e=t+"CollectionProvider",[n,r]=Wk(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:T,children:E}=_,C=it.useRef(null),I=it.useRef(new Map).current;return w.jsx(i,{scope:T,itemMap:I,collectionRef:C,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=D0(a),d=it.forwardRef((_,T)=>{const{scope:E,children:C}=_,I=s(a,E),D=nf(T,I.collectionRef);return w.jsx(c,{ref:D,children:C})});d.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",g=D0(f),y=it.forwardRef((_,T)=>{const{scope:E,children:C,...I}=_,D=it.useRef(null),K=nf(T,D),ae=s(f,E);return it.useEffect(()=>(ae.itemMap.set(D,{ref:D,...I}),()=>void ae.itemMap.delete(D))),w.jsx(g,{[h]:"",ref:K,children:C})});y.displayName=f;function S(_){const T=s(t+"CollectionConsumer",_);return it.useCallback(()=>{const C=T.collectionRef.current;if(!C)return[];const I=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((ae,F)=>I.indexOf(ae.ref.current)-I.indexOf(F.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:d,ItemSlot:y},S,r]}function yf(t){const e=$.useRef(t);return $.useEffect(()=>{e.current=t}),$.useMemo(()=>(...n)=>e.current?.(...n),[])}function LZ(t,e=globalThis?.document){const n=yf(t);$.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var DZ="DismissableLayer",ob="dismissableLayer.update",OZ="dismissableLayer.pointerDownOutside",jZ="dismissableLayer.focusOutside",$A,$k=$.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hk=$.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,d=$.useContext($k),[f,h]=$.useState(null),g=f?.ownerDocument??globalThis?.document,[,y]=$.useState({}),S=nf(e,F=>h(F)),_=Array.from(d.layers),[T]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(T),C=f?_.indexOf(f):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,D=C>=E,K=FZ(F=>{const L=F.target,B=[...d.branches].some(H=>H.contains(L));!D||B||(i?.(F),o?.(F),F.defaultPrevented||a?.())},g),ae=VZ(F=>{const L=F.target;[...d.branches].some(H=>H.contains(L))||(s?.(F),o?.(F),F.defaultPrevented||a?.())},g);return LZ(F=>{C===d.layers.size-1&&(r?.(F),!F.defaultPrevented&&a&&(F.preventDefault(),a()))},g),$.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&($A=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),HA(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=$A)}},[f,g,n,d]),$.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),HA())},[f,d]),$.useEffect(()=>{const F=()=>y({});return document.addEventListener(ob,F),()=>document.removeEventListener(ob,F)},[]),w.jsx(Za.div,{...c,ref:S,style:{pointerEvents:I?D?"auto":"none":void 0,...t.style},onFocusCapture:ko(t.onFocusCapture,ae.onFocusCapture),onBlurCapture:ko(t.onBlurCapture,ae.onBlurCapture),onPointerDownCapture:ko(t.onPointerDownCapture,K.onPointerDownCapture)})});Hk.displayName=DZ;var MZ="DismissableLayerBranch",Gk=$.forwardRef((t,e)=>{const n=$.useContext($k),r=$.useRef(null),i=nf(e,r);return $.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),w.jsx(Za.div,{...t,ref:i})});Gk.displayName=MZ;function FZ(t,e=globalThis?.document){const n=yf(t),r=$.useRef(!1),i=$.useRef(()=>{});return $.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){Kk(OZ,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function VZ(t,e=globalThis?.document){const n=yf(t),r=$.useRef(!1);return $.useEffect(()=>{const i=s=>{s.target&&!r.current&&Kk(jZ,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HA(){const t=new CustomEvent(ob);document.dispatchEvent(t)}function Kk(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?HN(i,s):i.dispatchEvent(s)}var BZ=Hk,UZ=Gk,_m=globalThis?.document?$.useLayoutEffect:()=>{},zZ="Portal",Yk=$.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=$.useState(!1);_m(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?c6.createPortal(w.jsx(Za.div,{...r,ref:e}),o):null});Yk.displayName=zZ;function qZ(t,e){return $.useReducer((n,r)=>e[n][r]??n,t)}var Xk=t=>{const{present:e,children:n}=t,r=WZ(e),i=typeof n=="function"?n({present:r.isPresent}):$.Children.only(n),s=nf(r.ref,$Z(i));return typeof n=="function"||r.isPresent?$.cloneElement(i,{ref:s}):null};Xk.displayName="Presence";function WZ(t){const[e,n]=$.useState(),r=$.useRef(null),i=$.useRef(t),s=$.useRef("none"),o=t?"mounted":"unmounted",[a,c]=qZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $.useEffect(()=>{const d=t0(r.current);s.current=a==="mounted"?d:"none"},[a]),_m(()=>{const d=r.current,f=i.current;if(f!==t){const g=s.current,y=t0(d);t?c("MOUNT"):y==="none"||d?.display==="none"?c("UNMOUNT"):c(f&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),_m(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,h=y=>{const _=t0(r.current).includes(y.animationName);if(y.target===e&&_&&(c("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},g=y=>{y.target===e&&(s.current=t0(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:$.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function t0(t){return t?.animationName||"none"}function $Z(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var HZ=KA[" useInsertionEffect ".trim().toString()]||_m;function GZ({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=KZ({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const f=$.useRef(t!==void 0);$.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const d=$.useCallback(f=>{if(a){const h=YZ(f)?f(t):f;h!==t&&o.current?.(h)}else s(f)},[a,t,s,o]);return[c,d]}function KZ({defaultProp:t,onChange:e}){const[n,r]=$.useState(t),i=$.useRef(n),s=$.useRef(e);return HZ(()=>{s.current=e},[e]),$.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function YZ(t){return typeof t=="function"}var XZ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),QZ="VisuallyHidden",tx=$.forwardRef((t,e)=>w.jsx(Za.span,{...t,ref:e,style:{...XZ,...t.style}}));tx.displayName=QZ;var nx="ToastProvider",[rx,JZ,ZZ]=RZ("Toast"),[Qk,qee]=Wk("Toast",[ZZ]),[eee,Tv]=Qk(nx),Jk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,c]=$.useState(null),[d,f]=$.useState(0),h=$.useRef(!1),g=$.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${nx}\`. Expected non-empty \`string\`.`),w.jsx(rx.Provider,{scope:e,children:w.jsx(eee,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:$.useCallback(()=>f(y=>y+1),[]),onToastRemove:$.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:g,children:o})})};Jk.displayName=nx;var Zk="ToastViewport",tee=["F8"],ab="toast.viewportPause",lb="toast.viewportResume",eR=$.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=tee,label:i="Notifications ({hotkey})",...s}=t,o=Tv(Zk,n),a=JZ(n),c=$.useRef(null),d=$.useRef(null),f=$.useRef(null),h=$.useRef(null),g=nf(e,h,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;$.useEffect(()=>{const T=E=>{r.length!==0&&r.every(I=>E[I]||E.code===I)&&h.current?.focus()};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),$.useEffect(()=>{const T=c.current,E=h.current;if(S&&T&&E){const C=()=>{if(!o.isClosePausedRef.current){const ae=new CustomEvent(ab);E.dispatchEvent(ae),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const ae=new CustomEvent(lb);E.dispatchEvent(ae),o.isClosePausedRef.current=!1}},D=ae=>{!T.contains(ae.relatedTarget)&&I()},K=()=>{T.contains(document.activeElement)||I()};return T.addEventListener("focusin",C),T.addEventListener("focusout",D),T.addEventListener("pointermove",C),T.addEventListener("pointerleave",K),window.addEventListener("blur",C),window.addEventListener("focus",I),()=>{T.removeEventListener("focusin",C),T.removeEventListener("focusout",D),T.removeEventListener("pointermove",C),T.removeEventListener("pointerleave",K),window.removeEventListener("blur",C),window.removeEventListener("focus",I)}}},[S,o.isClosePausedRef]);const _=$.useCallback(({tabbingDirection:T})=>{const C=a().map(I=>{const D=I.ref.current,K=[D,...pee(D)];return T==="forwards"?K:K.reverse()});return(T==="forwards"?C.reverse():C).flat()},[a]);return $.useEffect(()=>{const T=h.current;if(T){const E=C=>{const I=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!I){const K=document.activeElement,ae=C.shiftKey;if(C.target===T&&ae){d.current?.focus();return}const B=_({tabbingDirection:ae?"backwards":"forwards"}),H=B.findIndex(k=>k===K);I2(B.slice(H+1))?C.preventDefault():ae?d.current?.focus():f.current?.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[a,_]),w.jsxs(UZ,{ref:c,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&w.jsx(cb,{ref:d,onFocusFromOutsideViewport:()=>{const T=_({tabbingDirection:"forwards"});I2(T)}}),w.jsx(rx.Slot,{scope:n,children:w.jsx(Za.ol,{tabIndex:-1,...s,ref:g})}),S&&w.jsx(cb,{ref:f,onFocusFromOutsideViewport:()=>{const T=_({tabbingDirection:"backwards"});I2(T)}})]})});eR.displayName=Zk;var tR="ToastFocusProxy",cb=$.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Tv(tR,n);return w.jsx(tx,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const a=o.relatedTarget;!s.viewport?.contains(a)&&r()}})});cb.displayName=tR;var Xm="Toast",nee="toast.swipeStart",ree="toast.swipeMove",iee="toast.swipeCancel",see="toast.swipeEnd",nR=$.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,c]=GZ({prop:r,defaultProp:i??!0,onChange:s,caller:Xm});return w.jsx(Xk,{present:n||a,children:w.jsx(lee,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:yf(t.onPause),onResume:yf(t.onResume),onSwipeStart:ko(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ko(t.onSwipeMove,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ko(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ko(t.onSwipeEnd,d=>{const{x:f,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});nR.displayName=Xm;var[oee,aee]=Qk(Xm,{onClose(){}}),lee=$.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:y,...S}=t,_=Tv(Xm,n),[T,E]=$.useState(null),C=nf(e,oe=>E(oe)),I=$.useRef(null),D=$.useRef(null),K=i||_.duration,ae=$.useRef(0),F=$.useRef(K),L=$.useRef(0),{onToastAdd:B,onToastRemove:H}=_,k=yf(()=>{T?.contains(document.activeElement)&&_.viewport?.focus(),o()}),j=$.useCallback(oe=>{!oe||oe===1/0||(window.clearTimeout(L.current),ae.current=new Date().getTime(),L.current=window.setTimeout(k,oe))},[k]);$.useEffect(()=>{const oe=_.viewport;if(oe){const de=()=>{j(F.current),d?.()},se=()=>{const le=new Date().getTime()-ae.current;F.current=F.current-le,window.clearTimeout(L.current),c?.()};return oe.addEventListener(ab,se),oe.addEventListener(lb,de),()=>{oe.removeEventListener(ab,se),oe.removeEventListener(lb,de)}}},[_.viewport,K,c,d,j]),$.useEffect(()=>{s&&!_.isClosePausedRef.current&&j(K)},[s,K,_.isClosePausedRef,j]),$.useEffect(()=>(B(),()=>H()),[B,H]);const z=$.useMemo(()=>T?cR(T):null,[T]);return _.viewport?w.jsxs(w.Fragment,{children:[z&&w.jsx(cee,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),w.jsx(oee,{scope:n,onClose:k,children:ub.createPortal(w.jsx(rx.ItemSlot,{scope:n,children:w.jsx(BZ,{asChild:!0,onEscapeKeyDown:ko(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||k(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(Za.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...S,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ko(t.onKeyDown,oe=>{oe.key==="Escape"&&(a?.(oe.nativeEvent),oe.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ko(t.onPointerDown,oe=>{oe.button===0&&(I.current={x:oe.clientX,y:oe.clientY})}),onPointerMove:ko(t.onPointerMove,oe=>{if(!I.current)return;const de=oe.clientX-I.current.x,se=oe.clientY-I.current.y,le=!!D.current,re=["left","right"].includes(_.swipeDirection),pe=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Z=re?pe(0,de):0,q=re?0:pe(0,se),V=oe.pointerType==="touch"?10:2,W={x:Z,y:q},ee={originalEvent:oe,delta:W};le?(D.current=W,n0(ree,h,ee,{discrete:!1})):GA(W,_.swipeDirection,V)?(D.current=W,n0(nee,f,ee,{discrete:!1}),oe.target.setPointerCapture(oe.pointerId)):(Math.abs(de)>V||Math.abs(se)>V)&&(I.current=null)}),onPointerUp:ko(t.onPointerUp,oe=>{const de=D.current,se=oe.target;if(se.hasPointerCapture(oe.pointerId)&&se.releasePointerCapture(oe.pointerId),D.current=null,I.current=null,de){const le=oe.currentTarget,re={originalEvent:oe,delta:de};GA(de,_.swipeDirection,_.swipeThreshold)?n0(see,y,re,{discrete:!0}):n0(iee,g,re,{discrete:!0}),le.addEventListener("click",pe=>pe.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),cee=t=>{const{__scopeToast:e,children:n,...r}=t,i=Tv(Xm,e),[s,o]=$.useState(!1),[a,c]=$.useState(!1);return fee(()=>o(!0)),$.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:w.jsx(Yk,{asChild:!0,children:w.jsx(tx,{...r,children:s&&w.jsxs(w.Fragment,{children:[i.label," ",n]})})})},uee="ToastTitle",rR=$.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(Za.div,{...r,ref:e})});rR.displayName=uee;var dee="ToastDescription",iR=$.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return w.jsx(Za.div,{...r,ref:e})});iR.displayName=dee;var sR="ToastAction",oR=$.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?w.jsx(lR,{altText:n,asChild:!0,children:w.jsx(ix,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${sR}\`. Expected non-empty \`string\`.`),null)});oR.displayName=sR;var aR="ToastClose",ix=$.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=aee(aR,n);return w.jsx(lR,{asChild:!0,children:w.jsx(Za.button,{type:"button",...r,ref:e,onClick:ko(t.onClick,i.onClose)})})});ix.displayName=aR;var lR=$.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return w.jsx(Za.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function cR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...cR(r))}}),e}function n0(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?HN(i,s):i.dispatchEvent(s)}var GA=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function fee(t=()=>{}){const e=yf(t);_m(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hee(t){return t.nodeType===t.ELEMENT_NODE}function pee(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function I2(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mee=Jk,uR=eR,dR=nR,fR=rR,hR=iR,pR=oR,mR=ix;const gee=mee,gR=it.forwardRef(({className:t,...e},n)=>w.jsx(uR,{ref:n,className:zc("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));gR.displayName=uR.displayName;const yee=Bb("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yR=it.forwardRef(({className:t,variant:e,...n},r)=>w.jsx(dR,{ref:r,className:zc(yee({variant:e}),t),...n}));yR.displayName=dR.displayName;const vee=it.forwardRef(({className:t,...e},n)=>w.jsx(pR,{ref:n,className:zc("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));vee.displayName=pR.displayName;const vR=it.forwardRef(({className:t,...e},n)=>w.jsx(mR,{ref:n,className:zc("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:w.jsx(Mb,{className:"h-4 w-4"})}));vR.displayName=mR.displayName;const wR=it.forwardRef(({className:t,...e},n)=>w.jsx(fR,{ref:n,className:zc("text-sm font-semibold",t),...e}));wR.displayName=fR.displayName;const bR=it.forwardRef(({className:t,...e},n)=>w.jsx(hR,{ref:n,className:zc("text-sm opacity-90",t),...e}));bR.displayName=hR.displayName;function wee(){const{toasts:t}=Mo();return w.jsxs(gee,{children:[t.map(({id:e,title:n,description:r,action:i,...s})=>w.jsxs(yR,{...s,children:[w.jsxs("div",{className:"grid gap-1",children:[n&&w.jsx(wR,{children:n}),r&&w.jsx(bR,{children:r})]}),i,w.jsx(vR,{})]},e)),w.jsx(gR,{})]})}l6.createRoot(document.getElementById("root")).render(w.jsx(it.StrictMode,{children:w.jsx(lL,{children:w.jsx(hW,{children:w.jsx(_$,{children:w.jsxs(v$,{children:[w.jsx(IZ,{}),w.jsx(wee,{})]})})})})}));export{Wn as _,bee as c,vf as g};
