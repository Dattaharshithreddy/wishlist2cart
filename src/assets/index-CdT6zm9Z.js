function bI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var IG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t1={exports:{}},Ld={},n1={exports:{}},rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function xI(){if(I_)return rn;I_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function y(re){return re===null||typeof re!="object"?null:(re=p&&re[p]||re["@@iterator"],typeof re=="function"?re:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function C(re,F,X){this.props=re,this.context=F,this.refs=S,this.updater=X||v}C.prototype.isReactComponent={},C.prototype.setState=function(re,F){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,F,"setState")},C.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function R(){}R.prototype=C.prototype;function N(re,F,X){this.props=re,this.context=F,this.refs=S,this.updater=X||v}var V=N.prototype=new R;V.constructor=N,E(V,C.prototype),V.isPureReactComponent=!0;var H=Array.isArray,ie=Object.prototype.hasOwnProperty,ce={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function O(re,F,X){var ne,le={},he=null,Ae=null;if(F!=null)for(ne in F.ref!==void 0&&(Ae=F.ref),F.key!==void 0&&(he=""+F.key),F)ie.call(F,ne)&&!B.hasOwnProperty(ne)&&(le[ne]=F[ne]);var Te=arguments.length-2;if(Te===1)le.children=X;else if(1<Te){for(var Ce=Array(Te),He=0;He<Te;He++)Ce[He]=arguments[He+2];le.children=Ce}if(re&&re.defaultProps)for(ne in Te=re.defaultProps,Te)le[ne]===void 0&&(le[ne]=Te[ne]);return{$$typeof:t,type:re,key:he,ref:Ae,props:le,_owner:ce.current}}function U(re,F){return{$$typeof:t,type:re.type,key:F,ref:re.ref,props:re.props,_owner:re._owner}}function Q(re){return typeof re=="object"&&re!==null&&re.$$typeof===t}function L(re){var F={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(X){return F[X]})}var I=/\/+/g;function M(re,F){return typeof re=="object"&&re!==null&&re.key!=null?L(""+re.key):F.toString(36)}function ee(re,F,X,ne,le){var he=typeof re;(he==="undefined"||he==="boolean")&&(re=null);var Ae=!1;if(re===null)Ae=!0;else switch(he){case"string":case"number":Ae=!0;break;case"object":switch(re.$$typeof){case t:case e:Ae=!0}}if(Ae)return Ae=re,le=le(Ae),re=ne===""?"."+M(Ae,0):ne,H(le)?(X="",re!=null&&(X=re.replace(I,"$&/")+"/"),ee(le,F,X,"",function(He){return He})):le!=null&&(Q(le)&&(le=U(le,X+(!le.key||Ae&&Ae.key===le.key?"":(""+le.key).replace(I,"$&/")+"/")+re)),F.push(le)),1;if(Ae=0,ne=ne===""?".":ne+":",H(re))for(var Te=0;Te<re.length;Te++){he=re[Te];var Ce=ne+M(he,Te);Ae+=ee(he,F,X,Ce,le)}else if(Ce=y(re),typeof Ce=="function")for(re=Ce.call(re),Te=0;!(he=re.next()).done;)he=he.value,Ce=ne+M(he,Te++),Ae+=ee(he,F,X,Ce,le);else if(he==="object")throw F=String(re),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ae}function Se(re,F,X){if(re==null)return re;var ne=[],le=0;return ee(re,ne,"","",function(he){return F.call(X,he,le++)}),ne}function ve(re){if(re._status===-1){var F=re._result;F=F(),F.then(function(X){(re._status===0||re._status===-1)&&(re._status=1,re._result=X)},function(X){(re._status===0||re._status===-1)&&(re._status=2,re._result=X)}),re._status===-1&&(re._status=0,re._result=F)}if(re._status===1)return re._result.default;throw re._result}var Pe={current:null},oe={transition:null},we={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ce};function ye(){throw Error("act(...) is not supported in production builds of React.")}return rn.Children={map:Se,forEach:function(re,F,X){Se(re,function(){F.apply(this,arguments)},X)},count:function(re){var F=0;return Se(re,function(){F++}),F},toArray:function(re){return Se(re,function(F){return F})||[]},only:function(re){if(!Q(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},rn.Component=C,rn.Fragment=n,rn.Profiler=i,rn.PureComponent=N,rn.StrictMode=r,rn.Suspense=c,rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,rn.act=ye,rn.cloneElement=function(re,F,X){if(re==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+re+".");var ne=E({},re.props),le=re.key,he=re.ref,Ae=re._owner;if(F!=null){if(F.ref!==void 0&&(he=F.ref,Ae=ce.current),F.key!==void 0&&(le=""+F.key),re.type&&re.type.defaultProps)var Te=re.type.defaultProps;for(Ce in F)ie.call(F,Ce)&&!B.hasOwnProperty(Ce)&&(ne[Ce]=F[Ce]===void 0&&Te!==void 0?Te[Ce]:F[Ce])}var Ce=arguments.length-2;if(Ce===1)ne.children=X;else if(1<Ce){Te=Array(Ce);for(var He=0;He<Ce;He++)Te[He]=arguments[He+2];ne.children=Te}return{$$typeof:t,type:re.type,key:le,ref:he,props:ne,_owner:Ae}},rn.createContext=function(re){return re={$$typeof:o,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},re.Provider={$$typeof:s,_context:re},re.Consumer=re},rn.createElement=O,rn.createFactory=function(re){var F=O.bind(null,re);return F.type=re,F},rn.createRef=function(){return{current:null}},rn.forwardRef=function(re){return{$$typeof:l,render:re}},rn.isValidElement=Q,rn.lazy=function(re){return{$$typeof:f,_payload:{_status:-1,_result:re},_init:ve}},rn.memo=function(re,F){return{$$typeof:h,type:re,compare:F===void 0?null:F}},rn.startTransition=function(re){var F=oe.transition;oe.transition={};try{re()}finally{oe.transition=F}},rn.unstable_act=ye,rn.useCallback=function(re,F){return Pe.current.useCallback(re,F)},rn.useContext=function(re){return Pe.current.useContext(re)},rn.useDebugValue=function(){},rn.useDeferredValue=function(re){return Pe.current.useDeferredValue(re)},rn.useEffect=function(re,F){return Pe.current.useEffect(re,F)},rn.useId=function(){return Pe.current.useId()},rn.useImperativeHandle=function(re,F,X){return Pe.current.useImperativeHandle(re,F,X)},rn.useInsertionEffect=function(re,F){return Pe.current.useInsertionEffect(re,F)},rn.useLayoutEffect=function(re,F){return Pe.current.useLayoutEffect(re,F)},rn.useMemo=function(re,F){return Pe.current.useMemo(re,F)},rn.useReducer=function(re,F,X){return Pe.current.useReducer(re,F,X)},rn.useRef=function(re){return Pe.current.useRef(re)},rn.useState=function(re){return Pe.current.useState(re)},rn.useSyncExternalStore=function(re,F,X){return Pe.current.useSyncExternalStore(re,F,X)},rn.useTransition=function(){return Pe.current.useTransition()},rn.version="18.3.1",rn}var k_;function d0(){return k_||(k_=1,n1.exports=xI()),n1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function SI(){if(R_)return Ld;R_=1;var t=d0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,h){var f,p={},y=null,v=null;h!==void 0&&(y=""+h),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:l,key:y,ref:v,props:p,_owner:i.current}}return Ld.Fragment=n,Ld.jsx=o,Ld.jsxs=o,Ld}var L_;function AI(){return L_||(L_=1,t1.exports=SI()),t1.exports}var x=AI(),Z=d0();const dr=$h(Z),$A=bI({__proto__:null,default:dr},[Z]);var Mm={},r1={exports:{}},Ys={},i1={exports:{}},s1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function EI(){return D_||(D_=1,function(t){function e(oe,we){var ye=oe.length;oe.push(we);e:for(;0<ye;){var re=ye-1>>>1,F=oe[re];if(0<i(F,we))oe[re]=we,oe[ye]=F,ye=re;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var we=oe[0],ye=oe.pop();if(ye!==we){oe[0]=ye;e:for(var re=0,F=oe.length,X=F>>>1;re<X;){var ne=2*(re+1)-1,le=oe[ne],he=ne+1,Ae=oe[he];if(0>i(le,ye))he<F&&0>i(Ae,le)?(oe[re]=Ae,oe[he]=ye,re=he):(oe[re]=le,oe[ne]=ye,re=ne);else if(he<F&&0>i(Ae,ye))oe[re]=Ae,oe[he]=ye,re=he;else break e}}return we}function i(oe,we){var ye=oe.sortIndex-we.sortIndex;return ye!==0?ye:oe.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,y=3,v=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(oe){for(var we=n(h);we!==null;){if(we.callback===null)r(h);else if(we.startTime<=oe)r(h),we.sortIndex=we.expirationTime,e(c,we);else break;we=n(h)}}function H(oe){if(S=!1,V(oe),!E)if(n(c)!==null)E=!0,ve(ie);else{var we=n(h);we!==null&&Pe(H,we.startTime-oe)}}function ie(oe,we){E=!1,S&&(S=!1,R(O),O=-1),v=!0;var ye=y;try{for(V(we),p=n(c);p!==null&&(!(p.expirationTime>we)||oe&&!L());){var re=p.callback;if(typeof re=="function"){p.callback=null,y=p.priorityLevel;var F=re(p.expirationTime<=we);we=t.unstable_now(),typeof F=="function"?p.callback=F:p===n(c)&&r(c),V(we)}else r(c);p=n(c)}if(p!==null)var X=!0;else{var ne=n(h);ne!==null&&Pe(H,ne.startTime-we),X=!1}return X}finally{p=null,y=ye,v=!1}}var ce=!1,B=null,O=-1,U=5,Q=-1;function L(){return!(t.unstable_now()-Q<U)}function I(){if(B!==null){var oe=t.unstable_now();Q=oe;var we=!0;try{we=B(!0,oe)}finally{we?M():(ce=!1,B=null)}}else ce=!1}var M;if(typeof N=="function")M=function(){N(I)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Se=ee.port2;ee.port1.onmessage=I,M=function(){Se.postMessage(null)}}else M=function(){C(I,0)};function ve(oe){B=oe,ce||(ce=!0,M())}function Pe(oe,we){O=C(function(){oe(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,ve(ie))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(oe){switch(y){case 1:case 2:case 3:var we=3;break;default:we=y}var ye=y;y=we;try{return oe()}finally{y=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,we){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ye=y;y=oe;try{return we()}finally{y=ye}},t.unstable_scheduleCallback=function(oe,we,ye){var re=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?re+ye:re):ye=re,oe){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ye+F,oe={id:f++,callback:we,priorityLevel:oe,startTime:ye,expirationTime:F,sortIndex:-1},ye>re?(oe.sortIndex=ye,e(h,oe),n(c)===null&&oe===n(h)&&(S?(R(O),O=-1):S=!0,Pe(H,ye-re))):(oe.sortIndex=F,e(c,oe),E||v||(E=!0,ve(ie))),oe},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(oe){var we=y;return function(){var ye=y;y=we;try{return oe.apply(this,arguments)}finally{y=ye}}}}(s1)),s1}var O_;function TI(){return O_||(O_=1,i1.exports=EI()),i1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function CI(){if(j_)return Ys;j_=1;var t=d0(),e=TI();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function y(a){return c.call(p,a)?!0:c.call(f,a)?!1:h.test(a)?p[a]=!0:(f[a]=!0,!1)}function v(a,u,d,w){if(d!==null&&d.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return w?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function E(a,u,d,w){if(u===null||typeof u>"u"||v(a,u,d,w))return!0;if(w)return!1;if(d!==null)switch(d.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(a,u,d,w,A,k,$){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=w,this.attributeNamespace=A,this.mustUseProperty=d,this.propertyName=a,this.type=u,this.sanitizeURL=k,this.removeEmptyString=$}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new S(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];C[u]=new S(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new S(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new S(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new S(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new S(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new S(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new S(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new S(a,5,!1,a.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function N(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(R,N);C[u]=new S(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(R,N);C[u]=new S(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(R,N);C[u]=new S(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new S(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new S(a,1,!1,a.toLowerCase(),null,!0,!0)});function V(a,u,d,w){var A=C.hasOwnProperty(u)?C[u]:null;(A!==null?A.type!==0:w||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(E(u,d,A,w)&&(d=null),w||A===null?y(u)&&(d===null?a.removeAttribute(u):a.setAttribute(u,""+d)):A.mustUseProperty?a[A.propertyName]=d===null?A.type===3?!1:"":d:(u=A.attributeName,w=A.attributeNamespace,d===null?a.removeAttribute(u):(A=A.type,d=A===3||A===4&&d===!0?"":""+d,w?a.setAttributeNS(w,u,d):a.setAttribute(u,d))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ce=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),L=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function we(a){return a===null||typeof a!="object"?null:(a=oe&&a[oe]||a["@@iterator"],typeof a=="function"?a:null)}var ye=Object.assign,re;function F(a){if(re===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);re=u&&u[1]||""}return`
`+re+a}var X=!1;function ne(a,u){if(!a||X)return"";X=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(De){var w=De}Reflect.construct(a,[],u)}else{try{u.call()}catch(De){w=De}a.call(u.prototype)}else{try{throw Error()}catch(De){w=De}a()}}catch(De){if(De&&w&&typeof De.stack=="string"){for(var A=De.stack.split(`
`),k=w.stack.split(`
`),$=A.length-1,ae=k.length-1;1<=$&&0<=ae&&A[$]!==k[ae];)ae--;for(;1<=$&&0<=ae;$--,ae--)if(A[$]!==k[ae]){if($!==1||ae!==1)do if($--,ae--,0>ae||A[$]!==k[ae]){var pe=`
`+A[$].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=$&&0<=ae);break}}}finally{X=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?F(a):""}function le(a){switch(a.tag){case 5:return F(a.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return a=ne(a.type,!1),a;case 11:return a=ne(a.type.render,!1),a;case 1:return a=ne(a.type,!0),a;default:return""}}function he(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case B:return"Fragment";case ce:return"Portal";case U:return"Profiler";case O:return"StrictMode";case M:return"Suspense";case ee:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case L:return(a.displayName||"Context")+".Consumer";case Q:return(a._context.displayName||"Context")+".Provider";case I:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Se:return u=a.displayName||null,u!==null?u:he(a.type)||"Memo";case ve:u=a._payload,a=a._init;try{return he(a(u))}catch{}}return null}function Ae(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(u);case 8:return u===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Te(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ce(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function He(a){var u=Ce(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),w=""+a[u];if(!a.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var A=d.get,k=d.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return A.call(this)},set:function($){w=""+$,k.call(this,$)}}),Object.defineProperty(a,u,{enumerable:d.enumerable}),{getValue:function(){return w},setValue:function($){w=""+$},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function $e(a){a._valueTracker||(a._valueTracker=He(a))}function nt(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var d=u.getValue(),w="";return a&&(w=Ce(a)?a.checked?"true":"false":a.value),a=w,a!==d?(u.setValue(a),!0):!1}function tt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function xt(a,u){var d=u.checked;return ye({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function Fe(a,u){var d=u.defaultValue==null?"":u.defaultValue,w=u.checked!=null?u.checked:u.defaultChecked;d=Te(u.value!=null?u.value:d),a._wrapperState={initialChecked:w,initialValue:d,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ue(a,u){u=u.checked,u!=null&&V(a,"checked",u,!1)}function Dt(a,u){ue(a,u);var d=Te(u.value),w=u.type;if(d!=null)w==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Xe(a,u.type,d):u.hasOwnProperty("defaultValue")&&Xe(a,u.type,Te(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function mt(a,u,d){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type;if(!(w!=="submit"&&w!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,d||u===a.value||(a.value=u),a.defaultValue=u}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function Xe(a,u,d){(u!=="number"||tt(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var Ze=Array.isArray;function rt(a,u,d,w){if(a=a.options,u){u={};for(var A=0;A<d.length;A++)u["$"+d[A]]=!0;for(d=0;d<a.length;d++)A=u.hasOwnProperty("$"+a[d].value),a[d].selected!==A&&(a[d].selected=A),A&&w&&(a[d].defaultSelected=!0)}else{for(d=""+Te(d),u=null,A=0;A<a.length;A++){if(a[A].value===d){a[A].selected=!0,w&&(a[A].defaultSelected=!0);return}u!==null||a[A].disabled||(u=a[A])}u!==null&&(u.selected=!0)}}function ot(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return ye({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function vt(a,u){var d=u.value;if(d==null){if(d=u.children,u=u.defaultValue,d!=null){if(u!=null)throw Error(n(92));if(Ze(d)){if(1<d.length)throw Error(n(93));d=d[0]}u=d}u==null&&(u=""),d=u}a._wrapperState={initialValue:Te(d)}}function Rt(a,u){var d=Te(u.value),w=Te(u.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),u.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),w!=null&&(a.defaultValue=""+w)}function Ut(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function bt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?bt(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Zt,Pt=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,d,w,A){MSApp.execUnsafeLocalFunction(function(){return a(u,d,w,A)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Zt=Zt||document.createElement("div"),Zt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Zt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function qt(a,u){if(u){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=u;return}}a.textContent=u}var at={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ir=["Webkit","ms","Moz","O"];Object.keys(at).forEach(function(a){ir.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),at[u]=at[a]})});function en(a,u,d){return u==null||typeof u=="boolean"||u===""?"":d||typeof u!="number"||u===0||at.hasOwnProperty(a)&&at[a]?(""+u).trim():u+"px"}function Si(a,u){a=a.style;for(var d in u)if(u.hasOwnProperty(d)){var w=d.indexOf("--")===0,A=en(d,u[d],w);d==="float"&&(d="cssFloat"),w?a.setProperty(d,A):a[d]=A}}var mn=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pn(a,u){if(u){if(mn[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Bi(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function ks(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Dn=null,sr=null,qr=null;function On(a){if(a=Qu(a)){if(typeof Dn!="function")throw Error(n(280));var u=a.stateNode;u&&(u=ih(u),Dn(a.stateNode,a.type,u))}}function At(a){sr?qr?qr.push(a):qr=[a]:sr=a}function sn(){if(sr){var a=sr,u=qr;if(qr=sr=null,On(a),u)for(a=0;a<u.length;a++)On(u[a])}}function hs(a,u){return a(u)}function mr(){}var Hr=!1;function Ui(a,u,d){if(Hr)return a(u,d);Hr=!0;try{return hs(a,u,d)}finally{Hr=!1,(sr!==null||qr!==null)&&(mr(),sn())}}function ht(a,u){var d=a.stateNode;if(d===null)return null;var w=ih(d);if(w===null)return null;d=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,u,typeof d));return d}var ai=!1;if(l)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){ai=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{ai=!1}function Er(a,u,d,w,A,k,$,ae,pe){var De=Array.prototype.slice.call(arguments,3);try{u.apply(d,De)}catch(Qe){this.onError(Qe)}}var Bn=!1,Un=null,Kn=!1,Ro=null,oo={onError:function(a){Bn=!0,Un=a}};function li(a,u,d,w,A,k,$,ae,pe){Bn=!1,Un=null,Er.apply(oo,arguments)}function zi(a,u,d,w,A,k,$,ae,pe){if(li.apply(this,arguments),Bn){if(Bn){var De=Un;Bn=!1,Un=null}else throw Error(n(198));Kn||(Kn=!0,Ro=De)}}function gr(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function ui(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function or(a){if(gr(a)!==a)throw Error(n(188))}function fs(a){var u=a.alternate;if(!u){if(u=gr(a),u===null)throw Error(n(188));return u!==a?null:a}for(var d=a,w=u;;){var A=d.return;if(A===null)break;var k=A.alternate;if(k===null){if(w=A.return,w!==null){d=w;continue}break}if(A.child===k.child){for(k=A.child;k;){if(k===d)return or(A),a;if(k===w)return or(A),u;k=k.sibling}throw Error(n(188))}if(d.return!==w.return)d=A,w=k;else{for(var $=!1,ae=A.child;ae;){if(ae===d){$=!0,d=A,w=k;break}if(ae===w){$=!0,w=A,d=k;break}ae=ae.sibling}if(!$){for(ae=k.child;ae;){if(ae===d){$=!0,d=k,w=A;break}if(ae===w){$=!0,w=k,d=A;break}ae=ae.sibling}if(!$)throw Error(n(189))}}if(d.alternate!==w)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:u}function ao(a){return a=fs(a),a!==null?lo(a):null}function lo(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=lo(a);if(u!==null)return u;a=a.sibling}return null}var uo=e.unstable_scheduleCallback,Lo=e.unstable_cancelCallback,la=e.unstable_shouldYield,Nu=e.unstable_requestPaint,Nn=e.unstable_now,Iu=e.unstable_getCurrentPriorityLevel,Rs=e.unstable_ImmediatePriority,co=e.unstable_UserBlockingPriority,qi=e.unstable_NormalPriority,ua=e.unstable_LowPriority,ku=e.unstable_IdlePriority,Do=null,Ai=null;function ca(a){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Do,a,void 0,(a.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:Ol,zn=Math.log,Dl=Math.LN2;function Ol(a){return a>>>=0,a===0?32:31-(zn(a)/Dl|0)|0}var ha=64,Oo=4194304;function jo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Xr(a,u){var d=a.pendingLanes;if(d===0)return 0;var w=0,A=a.suspendedLanes,k=a.pingedLanes,$=d&268435455;if($!==0){var ae=$&~A;ae!==0?w=jo(ae):(k&=$,k!==0&&(w=jo(k)))}else $=d&~A,$!==0?w=jo($):k!==0&&(w=jo(k));if(w===0)return 0;if(u!==0&&u!==w&&(u&A)===0&&(A=w&-w,k=u&-u,A>=k||A===16&&(k&4194240)!==0))return u;if((w&4)!==0&&(w|=d&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=w;0<u;)d=31-Qr(u),A=1<<d,w|=a[d],u&=~A;return w}function Ka(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ar(a,u){for(var d=a.suspendedLanes,w=a.pingedLanes,A=a.expirationTimes,k=a.pendingLanes;0<k;){var $=31-Qr(k),ae=1<<$,pe=A[$];pe===-1?((ae&d)===0||(ae&w)!==0)&&(A[$]=Ka(ae,u)):pe<=u&&(a.expiredLanes|=ae),k&=~ae}}function Jr(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Mo(){var a=ha;return ha<<=1,(ha&4194240)===0&&(ha=64),a}function Fo(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function ho(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-Qr(u),a[u]=d}function Sn(a,u){var d=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<d;){var A=31-Qr(d),k=1<<A;u[A]=0,w[A]=-1,a[A]=-1,d&=~k}}function fo(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var w=31-Qr(d),A=1<<w;A&u|a[w]&u&&(a[w]|=u),d&=~A}}var Jt=0;function Ls(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Ru,Ya,Lu,Ds,fa,Vo=!1,ds=[],hn=null,ps=null,Hi=null,Tt=new Map,Wi=new Map,Os=[],js="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jl(a,u){switch(a){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Tt.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(u.pointerId)}}function Zr(a,u,d,w,A,k){return a===null||a.nativeEvent!==k?(a={blockedOn:u,domEventName:d,eventSystemFlags:w,nativeEvent:k,targetContainers:[A]},u!==null&&(u=Qu(u),u!==null&&Ya(u)),a):(a.eventSystemFlags|=w,u=a.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),a)}function Qa(a,u,d,w,A){switch(u){case"focusin":return hn=Zr(hn,a,u,d,w,A),!0;case"dragenter":return ps=Zr(ps,a,u,d,w,A),!0;case"mouseover":return Hi=Zr(Hi,a,u,d,w,A),!0;case"pointerover":var k=A.pointerId;return Tt.set(k,Zr(Tt.get(k)||null,a,u,d,w,A)),!0;case"gotpointercapture":return k=A.pointerId,Wi.set(k,Zr(Wi.get(k)||null,a,u,d,w,A)),!0}return!1}function Xa(a){var u=ol(a.target);if(u!==null){var d=gr(u);if(d!==null){if(u=d.tag,u===13){if(u=ui(d),u!==null){a.blockedOn=u,fa(a.priority,function(){Lu(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function po(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var d=pa(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var w=new d.constructor(d.type,d);tn=w,d.target.dispatchEvent(w),tn=null}else return u=Qu(d),u!==null&&Ya(u),a.blockedOn=d,!1;u.shift()}return!0}function da(a,u,d){po(a)&&d.delete(u)}function Du(){Vo=!1,hn!==null&&po(hn)&&(hn=null),ps!==null&&po(ps)&&(ps=null),Hi!==null&&po(Hi)&&(Hi=null),Tt.forEach(da),Wi.forEach(da)}function Ei(a,u){a.blockedOn===u&&(a.blockedOn=null,Vo||(Vo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Du)))}function ei(a){function u(A){return Ei(A,a)}if(0<ds.length){Ei(ds[0],a);for(var d=1;d<ds.length;d++){var w=ds[d];w.blockedOn===a&&(w.blockedOn=null)}}for(hn!==null&&Ei(hn,a),ps!==null&&Ei(ps,a),Hi!==null&&Ei(Hi,a),Tt.forEach(u),Wi.forEach(u),d=0;d<Os.length;d++)w=Os[d],w.blockedOn===a&&(w.blockedOn=null);for(;0<Os.length&&(d=Os[0],d.blockedOn===null);)Xa(d),d.blockedOn===null&&Os.shift()}var ci=H.ReactCurrentBatchConfig,Bo=!0;function vn(a,u,d,w){var A=Jt,k=ci.transition;ci.transition=null;try{Jt=1,Uo(a,u,d,w)}finally{Jt=A,ci.transition=k}}function Ml(a,u,d,w){var A=Jt,k=ci.transition;ci.transition=null;try{Jt=4,Uo(a,u,d,w)}finally{Jt=A,ci.transition=k}}function Uo(a,u,d,w){if(Bo){var A=pa(a,u,d,w);if(A===null)th(a,u,w,zo,d),jl(a,w);else if(Qa(A,a,u,d,w))w.stopPropagation();else if(jl(a,w),u&4&&-1<js.indexOf(a)){for(;A!==null;){var k=Qu(A);if(k!==null&&Ru(k),k=pa(a,u,d,w),k===null&&th(a,u,w,zo,d),k===A)break;A=k}A!==null&&w.stopPropagation()}else th(a,u,w,null,d)}}var zo=null;function pa(a,u,d,w){if(zo=null,a=ks(w),a=ol(a),a!==null)if(u=gr(a),u===null)a=null;else if(d=u.tag,d===13){if(a=ui(u),a!==null)return a;a=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return zo=a,null}function Ja(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iu()){case Rs:return 1;case co:return 4;case qi:case ua:return 16;case ku:return 536870912;default:return 16}default:return 16}}var hi=null,Ti=null,lr=null;function Fl(){if(lr)return lr;var a,u=Ti,d=u.length,w,A="value"in hi?hi.value:hi.textContent,k=A.length;for(a=0;a<d&&u[a]===A[a];a++);var $=d-a;for(w=1;w<=$&&u[d-w]===A[k-w];w++);return lr=A.slice(a,1<w?1-w:void 0)}function ms(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Tr(){return!0}function ma(){return!1}function Yn(a){function u(d,w,A,k,$){this._reactName=d,this._targetInst=A,this.type=w,this.nativeEvent=k,this.target=$,this.currentTarget=null;for(var ae in a)a.hasOwnProperty(ae)&&(d=a[ae],this[ae]=d?d(k):k[ae]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Tr:ma,this.isPropagationStopped=ma,this}return ye(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),u}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Yn(gs),Ms=ye({},gs,{view:0,detail:0}),Vl=Yn(Ms),qo,Fs,ys,go=ye({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:it,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ys&&(ys&&a.type==="mousemove"?(qo=a.screenX-ys.screenX,Fs=a.screenY-ys.screenY):Fs=qo=0,ys=a),qo)},movementY:function(a){return"movementY"in a?a.movementY:Fs}}),Ho=Yn(go),Za=ye({},go,{dataTransfer:0}),Ou=Yn(Za),yo=ye({},Ms,{relatedTarget:0}),Vs=Yn(yo),el=ye({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),fi=Yn(el),tl=ye({},gs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),b=Yn(tl),q=ye({},gs,{data:0}),se=Yn(q),fe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Me={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ge(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Me[a])?!!u[a]:!1}function it(){return Ge}var g=ye({},Ms,{key:function(a){if(a.key){var u=fe[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=ms(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ee[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:it,charCode:function(a){return a.type==="keypress"?ms(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ms(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),P=Yn(g),j=ye({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y=Yn(j),be=ye({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:it}),Re=Yn(be),Ke=ye({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ht=Yn(Ke),nn=ye({},go,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Wt=Yn(nn),wn=[9,13,27,32],An=l&&"CompositionEvent"in window,Ci=null;l&&"documentMode"in document&&(Ci=document.documentMode);var ti=l&&"TextEvent"in window&&!Ci,vo=l&&(!An||Ci&&8<Ci&&11>=Ci),wo=" ",ju=!1;function Mu(a,u){switch(a){case"keyup":return wn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ur=!1;function Fu(a,u){switch(a){case"compositionend":return Bl(u);case"keypress":return u.which!==32?null:(ju=!0,wo);case"textInput":return a=u.data,a===wo&&ju?null:a;default:return null}}function Vu(a,u){if(ur)return a==="compositionend"||!An&&Mu(a,u)?(a=Fl(),lr=Ti=hi=null,ur=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return vo&&u.locale!=="ko"?null:u.data;default:return null}}var Bu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!Bu[a.type]:u==="textarea"}function Pi(a,u,d,w){At(w),u=sf(u,"onChange"),0<u.length&&(d=new mo("onChange","change",null,d,w),a.push({event:d,listeners:u}))}var Ul=null,ga=null;function tf(a){Zc(a,0)}function Ni(a){var u=Ql(a);if(nt(u))return a}function zu(a,u){if(a==="change")return u}var Yc=!1;if(l){var qu;if(l){var Wo="oninput"in document;if(!Wo){var nl=document.createElement("div");nl.setAttribute("oninput","return;"),Wo=typeof nl.oninput=="function"}qu=Wo}else qu=!1;Yc=qu&&(!document.documentMode||9<document.documentMode)}function Ii(){Ul&&(Ul.detachEvent("onpropertychange",di),ga=Ul=null)}function di(a){if(a.propertyName==="value"&&Ni(ga)){var u=[];Pi(u,ga,a,ks(a)),Ui(tf,u)}}function rl(a,u,d){a==="focusin"?(Ii(),Ul=u,ga=d,Ul.attachEvent("onpropertychange",di)):a==="focusout"&&Ii()}function ya(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ni(ga)}function va(a,u){if(a==="click")return Ni(u)}function Hu(a,u){if(a==="input"||a==="change")return Ni(u)}function wa(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var gn=typeof Object.is=="function"?Object.is:wa;function _a(a,u){if(gn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),w=Object.keys(u);if(d.length!==w.length)return!1;for(w=0;w<d.length;w++){var A=d[w];if(!c.call(u,A)||!gn(a[A],u[A]))return!1}return!0}function pi(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function vs(a,u){var d=pi(a);a=0;for(var w;d;){if(d.nodeType===3){if(w=a+d.textContent.length,a<=u&&w>=u)return{node:d,offset:u-a};a=w}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=pi(d)}}function zl(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?zl(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Qc(){for(var a=window,u=tt();u instanceof a.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)a=u.contentWindow;else break;u=tt(a.document)}return u}function ql(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function Hl(a){var u=Qc(),d=a.focusedElem,w=a.selectionRange;if(u!==d&&d&&d.ownerDocument&&zl(d.ownerDocument.documentElement,d)){if(w!==null&&ql(d)){if(u=w.start,a=w.end,a===void 0&&(a=u),"selectionStart"in d)d.selectionStart=u,d.selectionEnd=Math.min(a,d.value.length);else if(a=(u=d.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var A=d.textContent.length,k=Math.min(w.start,A);w=w.end===void 0?k:Math.min(w.end,A),!a.extend&&k>w&&(A=w,w=k,k=A),A=vs(d,k);var $=vs(d,w);A&&$&&(a.rangeCount!==1||a.anchorNode!==A.node||a.anchorOffset!==A.offset||a.focusNode!==$.node||a.focusOffset!==$.offset)&&(u=u.createRange(),u.setStart(A.node,A.offset),a.removeAllRanges(),k>w?(a.addRange(u),a.extend($.node,$.offset)):(u.setEnd($.node,$.offset),a.addRange(u)))}}for(u=[],a=d;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<u.length;d++)a=u[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Wl=l&&"documentMode"in document&&11>=document.documentMode,ws=null,ba=null,$o=null,xa=!1;function Sa(a,u,d){var w=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;xa||ws==null||ws!==tt(w)||(w=ws,"selectionStart"in w&&ql(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),$o&&_a($o,w)||($o=w,w=sf(ba,"onSelect"),0<w.length&&(u=new mo("onSelect","select",null,u,d),a.push({event:u,listeners:w}),u.target=ws)))}function il(a,u){var d={};return d[a.toLowerCase()]=u.toLowerCase(),d["Webkit"+a]="webkit"+u,d["Moz"+a]="moz"+u,d}var ni={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},$i={},jn={};l&&(jn=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function En(a){if($i[a])return $i[a];if(!ni[a])return a;var u=ni[a],d;for(d in u)if(u.hasOwnProperty(d)&&d in jn)return $i[a]=u[d];return a}var cr=En("animationend"),Cr=En("animationiteration"),Go=En("animationstart"),Wu=En("transitionend"),$l=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(a,u){$l.set(a,u),s(u,[a])}for(var $u=0;$u<Xc.length;$u++){var ki=Xc[$u],Bs=ki.toLowerCase(),nf=ki[0].toUpperCase()+ki.slice(1);Ko(Bs,"on"+nf)}Ko(cr,"onAnimationEnd"),Ko(Cr,"onAnimationIteration"),Ko(Go,"onAnimationStart"),Ko("dblclick","onDoubleClick"),Ko("focusin","onFocus"),Ko("focusout","onBlur"),Ko(Wu,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rm=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function Jc(a,u,d){var w=a.type||"unknown-event";a.currentTarget=d,zi(w,u,void 0,a),a.currentTarget=null}function Zc(a,u){u=(u&4)!==0;for(var d=0;d<a.length;d++){var w=a[d],A=w.event;w=w.listeners;e:{var k=void 0;if(u)for(var $=w.length-1;0<=$;$--){var ae=w[$],pe=ae.instance,De=ae.currentTarget;if(ae=ae.listener,pe!==k&&A.isPropagationStopped())break e;Jc(A,ae,De),k=pe}else for($=0;$<w.length;$++){if(ae=w[$],pe=ae.instance,De=ae.currentTarget,ae=ae.listener,pe!==k&&A.isPropagationStopped())break e;Jc(A,ae,De),k=pe}}}if(Kn)throw a=Ro,Kn=!1,Ro=null,a}function Mn(a,u){var d=u[Ki];d===void 0&&(d=u[Ki]=new Set);var w=a+"__bubble";d.has(w)||(eh(u,a,2,!1),d.add(w))}function rf(a,u,d){var w=0;u&&(w|=4),eh(d,a,w,u)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Gl(a){if(!a[Gu]){a[Gu]=!0,r.forEach(function(d){d!=="selectionchange"&&(rm.has(d)||rf(d,!1,a),rf(d,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Gu]||(u[Gu]=!0,rf("selectionchange",!1,u))}}function eh(a,u,d,w){switch(Ja(u)){case 1:var A=vn;break;case 4:A=Ml;break;default:A=Uo}d=A.bind(null,u,d,a),A=void 0,!ai||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),w?A!==void 0?a.addEventListener(u,d,{capture:!0,passive:A}):a.addEventListener(u,d,!0):A!==void 0?a.addEventListener(u,d,{passive:A}):a.addEventListener(u,d,!1)}function th(a,u,d,w,A){var k=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var $=w.tag;if($===3||$===4){var ae=w.stateNode.containerInfo;if(ae===A||ae.nodeType===8&&ae.parentNode===A)break;if($===4)for($=w.return;$!==null;){var pe=$.tag;if((pe===3||pe===4)&&(pe=$.stateNode.containerInfo,pe===A||pe.nodeType===8&&pe.parentNode===A))return;$=$.return}for(;ae!==null;){if($=ol(ae),$===null)return;if(pe=$.tag,pe===5||pe===6){w=k=$;continue e}ae=ae.parentNode}}w=w.return}Ui(function(){var De=k,Qe=ks(d),Je=[];e:{var Ye=$l.get(a);if(Ye!==void 0){var ft=mo,gt=a;switch(a){case"keypress":if(ms(d)===0)break e;case"keydown":case"keyup":ft=P;break;case"focusin":gt="focus",ft=Vs;break;case"focusout":gt="blur",ft=Vs;break;case"beforeblur":case"afterblur":ft=Vs;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Re;break;case cr:case Cr:case Go:ft=fi;break;case Wu:ft=Ht;break;case"scroll":ft=Vl;break;case"wheel":ft=Wt;break;case"copy":case"cut":case"paste":ft=b;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Y}var wt=(u&4)!==0,jr=!wt&&a==="scroll",ke=wt?Ye!==null?Ye+"Capture":null:Ye;wt=[];for(var _e=De,Le;_e!==null;){Le=_e;var et=Le.stateNode;if(Le.tag===5&&et!==null&&(Le=et,ke!==null&&(et=ht(_e,ke),et!=null&&wt.push(nh(_e,et,Le)))),jr)break;_e=_e.return}0<wt.length&&(Ye=new ft(Ye,gt,null,d,Qe),Je.push({event:Ye,listeners:wt}))}}if((u&7)===0){e:{if(Ye=a==="mouseover"||a==="pointerover",ft=a==="mouseout"||a==="pointerout",Ye&&d!==tn&&(gt=d.relatedTarget||d.fromElement)&&(ol(gt)||gt[mi]))break e;if((ft||Ye)&&(Ye=Qe.window===Qe?Qe:(Ye=Qe.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,ft?(gt=d.relatedTarget||d.toElement,ft=De,gt=gt?ol(gt):null,gt!==null&&(jr=gr(gt),gt!==jr||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(ft=null,gt=De),ft!==gt)){if(wt=Ho,et="onMouseLeave",ke="onMouseEnter",_e="mouse",(a==="pointerout"||a==="pointerover")&&(wt=Y,et="onPointerLeave",ke="onPointerEnter",_e="pointer"),jr=ft==null?Ye:Ql(ft),Le=gt==null?Ye:Ql(gt),Ye=new wt(et,_e+"leave",ft,d,Qe),Ye.target=jr,Ye.relatedTarget=Le,et=null,ol(Qe)===De&&(wt=new wt(ke,_e+"enter",gt,d,Qe),wt.target=Le,wt.relatedTarget=jr,et=wt),jr=et,ft&&gt)t:{for(wt=ft,ke=gt,_e=0,Le=wt;Le;Le=Kl(Le))_e++;for(Le=0,et=ke;et;et=Kl(et))Le++;for(;0<_e-Le;)wt=Kl(wt),_e--;for(;0<Le-_e;)ke=Kl(ke),Le--;for(;_e--;){if(wt===ke||ke!==null&&wt===ke.alternate)break t;wt=Kl(wt),ke=Kl(ke)}wt=null}else wt=null;ft!==null&&im(Je,Ye,ft,wt,!1),gt!==null&&jr!==null&&im(Je,jr,gt,wt,!0)}}e:{if(Ye=De?Ql(De):window,ft=Ye.nodeName&&Ye.nodeName.toLowerCase(),ft==="select"||ft==="input"&&Ye.type==="file")var _t=zu;else if(Uu(Ye))if(Yc)_t=Hu;else{_t=ya;var It=rl}else(ft=Ye.nodeName)&&ft.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(_t=va);if(_t&&(_t=_t(a,De))){Pi(Je,_t,d,Qe);break e}It&&It(a,Ye,De),a==="focusout"&&(It=Ye._wrapperState)&&It.controlled&&Ye.type==="number"&&Xe(Ye,"number",Ye.value)}switch(It=De?Ql(De):window,a){case"focusin":(Uu(It)||It.contentEditable==="true")&&(ws=It,ba=De,$o=null);break;case"focusout":$o=ba=ws=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,Sa(Je,d,Qe);break;case"selectionchange":if(Wl)break;case"keydown":case"keyup":Sa(Je,d,Qe)}var kt;if(An)e:{switch(a){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ur?Mu(a,d)&&(zt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(zt="onCompositionStart");zt&&(vo&&d.locale!=="ko"&&(ur||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ur&&(kt=Fl()):(hi=Qe,Ti="value"in hi?hi.value:hi.textContent,ur=!0)),It=sf(De,zt),0<It.length&&(zt=new se(zt,a,null,d,Qe),Je.push({event:zt,listeners:It}),kt?zt.data=kt:(kt=Bl(d),kt!==null&&(zt.data=kt)))),(kt=ti?Fu(a,d):Vu(a,d))&&(De=sf(De,"onBeforeInput"),0<De.length&&(Qe=new se("onBeforeInput","beforeinput",null,d,Qe),Je.push({event:Qe,listeners:De}),Qe.data=kt))}Zc(Je,u)})}function nh(a,u,d){return{instance:a,listener:u,currentTarget:d}}function sf(a,u){for(var d=u+"Capture",w=[];a!==null;){var A=a,k=A.stateNode;A.tag===5&&k!==null&&(A=k,k=ht(a,d),k!=null&&w.unshift(nh(a,k,A)),k=ht(a,u),k!=null&&w.push(nh(a,k,A))),a=a.return}return w}function Kl(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function im(a,u,d,w,A){for(var k=u._reactName,$=[];d!==null&&d!==w;){var ae=d,pe=ae.alternate,De=ae.stateNode;if(pe!==null&&pe===w)break;ae.tag===5&&De!==null&&(ae=De,A?(pe=ht(d,k),pe!=null&&$.unshift(nh(d,pe,ae))):A||(pe=ht(d,k),pe!=null&&$.push(nh(d,pe,ae)))),d=d.return}$.length!==0&&a.push({event:u,listeners:$})}var my=/\r\n?/g,gy=/\u0000|\uFFFD/g;function sm(a){return(typeof a=="string"?a:""+a).replace(my,`
`).replace(gy,"")}function of(a,u,d){if(u=sm(u),sm(a)!==u&&d)throw Error(n(425))}function Ku(){}var rh=null,Yl=null;function gd(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,om=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(a){return am.resolve(null).then(a).catch(vy)}:yd;function vy(a){setTimeout(function(){throw a})}function vd(a,u){var d=u,w=0;do{var A=d.nextSibling;if(a.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"){if(w===0){a.removeChild(A),ei(u);return}w--}else d!=="$"&&d!=="$?"&&d!=="$!"||w++;d=A}while(d);ei(u)}function Ri(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function Us(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return a;u--}else d==="/$"&&u++}a=a.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),Yo="__reactFiber$"+Gi,Yu="__reactProps$"+Gi,mi="__reactContainer$"+Gi,Ki="__reactEvents$"+Gi,wy="__reactListeners$"+Gi,_y="__reactHandles$"+Gi;function ol(a){var u=a[Yo];if(u)return u;for(var d=a.parentNode;d;){if(u=d[mi]||d[Yo]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(a=Us(a);a!==null;){if(d=a[Yo])return d;a=Us(a)}return u}a=d,d=a.parentNode}return null}function Qu(a){return a=a[Yo]||a[mi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ql(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function ih(a){return a[Yu]||null}var wd=[],Aa=-1;function _o(a){return{current:a}}function Tn(a){0>Aa||(a.current=wd[Aa],wd[Aa]=null,Aa--)}function In(a,u){Aa++,wd[Aa]=a.current,a.current=u}var al={},ri=_o(al),Yi=_o(!1),Xl=al;function Xu(a,u){var d=a.type.contextTypes;if(!d)return al;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var A={},k;for(k in d)A[k]=u[k];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=A),A}function Qi(a){return a=a.childContextTypes,a!=null}function af(){Tn(Yi),Tn(ri)}function lm(a,u,d){if(ri.current!==al)throw Error(n(168));In(ri,u),In(Yi,d)}function _d(a,u,d){var w=a.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return d;w=w.getChildContext();for(var A in w)if(!(A in u))throw Error(n(108,Ae(a)||"Unknown",A));return ye({},d,w)}function Jl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||al,Xl=ri.current,In(ri,a),In(Yi,Yi.current),!0}function um(a,u,d){var w=a.stateNode;if(!w)throw Error(n(169));d?(a=_d(a,u,Xl),w.__reactInternalMemoizedMergedChildContext=a,Tn(Yi),Tn(ri),In(ri,a)):Tn(Yi),In(Yi,d)}var Ea=null,sh=!1,m=!1;function _(a){Ea===null?Ea=[a]:Ea.push(a)}function T(a){sh=!0,_(a)}function D(){if(!m&&Ea!==null){m=!0;var a=0,u=Jt;try{var d=Ea;for(Jt=1;a<d.length;a++){var w=d[a];do w=w(!0);while(w!==null)}Ea=null,sh=!1}catch(A){throw Ea!==null&&(Ea=Ea.slice(a+1)),uo(Rs,D),A}finally{Jt=u,m=!1}}return null}var z=[],W=0,G=null,K=0,J=[],te=0,de=null,Ne=1,Ie="";function xe(a,u){z[W++]=K,z[W++]=G,G=a,K=u}function qe(a,u,d){J[te++]=Ne,J[te++]=Ie,J[te++]=de,de=a;var w=Ne;a=Ie;var A=32-Qr(w)-1;w&=~(1<<A),d+=1;var k=32-Qr(u)+A;if(30<k){var $=A-A%5;k=(w&(1<<$)-1).toString(32),w>>=$,A-=$,Ne=1<<32-Qr(u)+A|d<<A|w,Ie=k+a}else Ne=1<<k|d<<A|w,Ie=a}function Oe(a){a.return!==null&&(xe(a,1),qe(a,1,0))}function me(a){for(;a===G;)G=z[--W],z[W]=null,K=z[--W],z[W]=null;for(;a===de;)de=J[--te],J[te]=null,Ie=J[--te],J[te]=null,Ne=J[--te],J[te]=null}var ge=null,Be=null,Ve=!1,Ue=null;function ut(a,u){var d=ta(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,u=a.deletions,u===null?(a.deletions=[d],a.flags|=16):u.push(d)}function st(a,u){switch(a.tag){case 5:var d=a.type;return u=u.nodeType!==1||d.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,ge=a,Be=Ri(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,ge=a,Be=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(d=de!==null?{id:Ne,overflow:Ie}:null,a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},d=ta(18,null,null,0),d.stateNode=u,d.return=a,a.child=d,ge=a,Be=null,!0):!1;default:return!1}}function St(a){return(a.mode&1)!==0&&(a.flags&128)===0}function lt(a){if(Ve){var u=Be;if(u){var d=u;if(!st(a,u)){if(St(a))throw Error(n(418));u=Ri(d.nextSibling);var w=ge;u&&st(a,u)?ut(w,d):(a.flags=a.flags&-4097|2,Ve=!1,ge=a)}}else{if(St(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ve=!1,ge=a}}}function fn(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;ge=a}function dn(a){if(a!==ge)return!1;if(!Ve)return fn(a),Ve=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!gd(a.type,a.memoizedProps)),u&&(u=Be)){if(St(a))throw on(),Error(n(418));for(;u;)ut(a,u),u=Ri(u.nextSibling)}if(fn(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(u===0){Be=Ri(a.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++}a=a.nextSibling}Be=null}}else Be=ge?Ri(a.stateNode.nextSibling):null;return!0}function on(){for(var a=Be;a;)a=Ri(a.nextSibling)}function Yt(){Be=ge=null,Ve=!1}function Cn(a){Ue===null?Ue=[a]:Ue.push(a)}var kn=H.ReactCurrentBatchConfig;function Vt(a,u,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var w=d.stateNode}if(!w)throw Error(n(147,a));var A=w,k=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===k?u.ref:(u=function($){var ae=A.refs;$===null?delete ae[k]:ae[k]=$},u._stringRef=k,u)}if(typeof a!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,a))}return a}function Qn(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Li(a){var u=a._init;return u(a._payload)}function yr(a){function u(ke,_e){if(a){var Le=ke.deletions;Le===null?(ke.deletions=[_e],ke.flags|=16):Le.push(_e)}}function d(ke,_e){if(!a)return null;for(;_e!==null;)u(ke,_e),_e=_e.sibling;return null}function w(ke,_e){for(ke=new Map;_e!==null;)_e.key!==null?ke.set(_e.key,_e):ke.set(_e.index,_e),_e=_e.sibling;return ke}function A(ke,_e){return ke=uc(ke,_e),ke.index=0,ke.sibling=null,ke}function k(ke,_e,Le){return ke.index=Le,a?(Le=ke.alternate,Le!==null?(Le=Le.index,Le<_e?(ke.flags|=2,_e):Le):(ke.flags|=2,_e)):(ke.flags|=1048576,_e)}function $(ke){return a&&ke.alternate===null&&(ke.flags|=2),ke}function ae(ke,_e,Le,et){return _e===null||_e.tag!==6?(_e=Yy(Le,ke.mode,et),_e.return=ke,_e):(_e=A(_e,Le),_e.return=ke,_e)}function pe(ke,_e,Le,et){var _t=Le.type;return _t===B?Qe(ke,_e,Le.props.children,et,Le.key):_e!==null&&(_e.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===ve&&Li(_t)===_e.type)?(et=A(_e,Le.props),et.ref=Vt(ke,_e,Le),et.return=ke,et):(et=Nm(Le.type,Le.key,Le.props,null,ke.mode,et),et.ref=Vt(ke,_e,Le),et.return=ke,et)}function De(ke,_e,Le,et){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Le.containerInfo||_e.stateNode.implementation!==Le.implementation?(_e=Qy(Le,ke.mode,et),_e.return=ke,_e):(_e=A(_e,Le.children||[]),_e.return=ke,_e)}function Qe(ke,_e,Le,et,_t){return _e===null||_e.tag!==7?(_e=dh(Le,ke.mode,et,_t),_e.return=ke,_e):(_e=A(_e,Le),_e.return=ke,_e)}function Je(ke,_e,Le){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=Yy(""+_e,ke.mode,Le),_e.return=ke,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case ie:return Le=Nm(_e.type,_e.key,_e.props,null,ke.mode,Le),Le.ref=Vt(ke,null,_e),Le.return=ke,Le;case ce:return _e=Qy(_e,ke.mode,Le),_e.return=ke,_e;case ve:var et=_e._init;return Je(ke,et(_e._payload),Le)}if(Ze(_e)||we(_e))return _e=dh(_e,ke.mode,Le,null),_e.return=ke,_e;Qn(ke,_e)}return null}function Ye(ke,_e,Le,et){var _t=_e!==null?_e.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return _t!==null?null:ae(ke,_e,""+Le,et);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case ie:return Le.key===_t?pe(ke,_e,Le,et):null;case ce:return Le.key===_t?De(ke,_e,Le,et):null;case ve:return _t=Le._init,Ye(ke,_e,_t(Le._payload),et)}if(Ze(Le)||we(Le))return _t!==null?null:Qe(ke,_e,Le,et,null);Qn(ke,Le)}return null}function ft(ke,_e,Le,et,_t){if(typeof et=="string"&&et!==""||typeof et=="number")return ke=ke.get(Le)||null,ae(_e,ke,""+et,_t);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case ie:return ke=ke.get(et.key===null?Le:et.key)||null,pe(_e,ke,et,_t);case ce:return ke=ke.get(et.key===null?Le:et.key)||null,De(_e,ke,et,_t);case ve:var It=et._init;return ft(ke,_e,Le,It(et._payload),_t)}if(Ze(et)||we(et))return ke=ke.get(Le)||null,Qe(_e,ke,et,_t,null);Qn(_e,et)}return null}function gt(ke,_e,Le,et){for(var _t=null,It=null,kt=_e,zt=_e=0,wi=null;kt!==null&&zt<Le.length;zt++){kt.index>zt?(wi=kt,kt=null):wi=kt.sibling;var xn=Ye(ke,kt,Le[zt],et);if(xn===null){kt===null&&(kt=wi);break}a&&kt&&xn.alternate===null&&u(ke,kt),_e=k(xn,_e,zt),It===null?_t=xn:It.sibling=xn,It=xn,kt=wi}if(zt===Le.length)return d(ke,kt),Ve&&xe(ke,zt),_t;if(kt===null){for(;zt<Le.length;zt++)kt=Je(ke,Le[zt],et),kt!==null&&(_e=k(kt,_e,zt),It===null?_t=kt:It.sibling=kt,It=kt);return Ve&&xe(ke,zt),_t}for(kt=w(ke,kt);zt<Le.length;zt++)wi=ft(kt,ke,zt,Le[zt],et),wi!==null&&(a&&wi.alternate!==null&&kt.delete(wi.key===null?zt:wi.key),_e=k(wi,_e,zt),It===null?_t=wi:It.sibling=wi,It=wi);return a&&kt.forEach(function(cc){return u(ke,cc)}),Ve&&xe(ke,zt),_t}function wt(ke,_e,Le,et){var _t=we(Le);if(typeof _t!="function")throw Error(n(150));if(Le=_t.call(Le),Le==null)throw Error(n(151));for(var It=_t=null,kt=_e,zt=_e=0,wi=null,xn=Le.next();kt!==null&&!xn.done;zt++,xn=Le.next()){kt.index>zt?(wi=kt,kt=null):wi=kt.sibling;var cc=Ye(ke,kt,xn.value,et);if(cc===null){kt===null&&(kt=wi);break}a&&kt&&cc.alternate===null&&u(ke,kt),_e=k(cc,_e,zt),It===null?_t=cc:It.sibling=cc,It=cc,kt=wi}if(xn.done)return d(ke,kt),Ve&&xe(ke,zt),_t;if(kt===null){for(;!xn.done;zt++,xn=Le.next())xn=Je(ke,xn.value,et),xn!==null&&(_e=k(xn,_e,zt),It===null?_t=xn:It.sibling=xn,It=xn);return Ve&&xe(ke,zt),_t}for(kt=w(ke,kt);!xn.done;zt++,xn=Le.next())xn=ft(kt,ke,zt,xn.value,et),xn!==null&&(a&&xn.alternate!==null&&kt.delete(xn.key===null?zt:xn.key),_e=k(xn,_e,zt),It===null?_t=xn:It.sibling=xn,It=xn);return a&&kt.forEach(function(_I){return u(ke,_I)}),Ve&&xe(ke,zt),_t}function jr(ke,_e,Le,et){if(typeof Le=="object"&&Le!==null&&Le.type===B&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case ie:e:{for(var _t=Le.key,It=_e;It!==null;){if(It.key===_t){if(_t=Le.type,_t===B){if(It.tag===7){d(ke,It.sibling),_e=A(It,Le.props.children),_e.return=ke,ke=_e;break e}}else if(It.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===ve&&Li(_t)===It.type){d(ke,It.sibling),_e=A(It,Le.props),_e.ref=Vt(ke,It,Le),_e.return=ke,ke=_e;break e}d(ke,It);break}else u(ke,It);It=It.sibling}Le.type===B?(_e=dh(Le.props.children,ke.mode,et,Le.key),_e.return=ke,ke=_e):(et=Nm(Le.type,Le.key,Le.props,null,ke.mode,et),et.ref=Vt(ke,_e,Le),et.return=ke,ke=et)}return $(ke);case ce:e:{for(It=Le.key;_e!==null;){if(_e.key===It)if(_e.tag===4&&_e.stateNode.containerInfo===Le.containerInfo&&_e.stateNode.implementation===Le.implementation){d(ke,_e.sibling),_e=A(_e,Le.children||[]),_e.return=ke,ke=_e;break e}else{d(ke,_e);break}else u(ke,_e);_e=_e.sibling}_e=Qy(Le,ke.mode,et),_e.return=ke,ke=_e}return $(ke);case ve:return It=Le._init,jr(ke,_e,It(Le._payload),et)}if(Ze(Le))return gt(ke,_e,Le,et);if(we(Le))return wt(ke,_e,Le,et);Qn(ke,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"?(Le=""+Le,_e!==null&&_e.tag===6?(d(ke,_e.sibling),_e=A(_e,Le),_e.return=ke,ke=_e):(d(ke,_e),_e=Yy(Le,ke.mode,et),_e.return=ke,ke=_e),$(ke)):d(ke,_e)}return jr}var Lr=yr(!0),_n=yr(!1),gi=_o(null),yi=null,Xn=null,Dr=null;function ii(){Dr=Xn=yi=null}function Xi(a){var u=gi.current;Tn(gi),a._currentValue=u}function zs(a,u,d){for(;a!==null;){var w=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),a===d)break;a=a.return}}function Jn(a,u){yi=a,Dr=Xn=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&($s=!0),a.firstContext=null)}function Pr(a){var u=a._currentValue;if(Dr!==a)if(a={context:a,memoizedValue:u,next:null},Xn===null){if(yi===null)throw Error(n(308));Xn=a,yi.dependencies={lanes:0,firstContext:a}}else Xn=Xn.next=a;return u}var _s=null;function ll(a){_s===null?_s=[a]:_s.push(a)}function Ta(a,u,d,w){var A=u.interleaved;return A===null?(d.next=d,ll(u)):(d.next=A.next,A.next=d),u.interleaved=d,bn(a,w)}function bn(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,d=a.alternate,d!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Qo=!1;function lf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bd(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function qs(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Hs(a,u,d){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,(yn&2)!==0){var A=w.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),w.pending=u,bn(a,d)}return A=w.interleaved,A===null?(u.next=u,ll(w)):(u.next=A.next,A.next=u),w.interleaved=u,bn(a,d)}function Zl(a,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194240)!==0)){var w=u.lanes;w&=a.pendingLanes,d|=w,u.lanes=d,fo(a,d)}}function Ws(a,u){var d=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,d===w)){var A=null,k=null;if(d=d.firstBaseUpdate,d!==null){do{var $={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};k===null?A=k=$:k=k.next=$,d=d.next}while(d!==null);k===null?A=k=u:k=k.next=u}else A=k=u;d={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:k,shared:w.shared,effects:w.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function Ca(a,u,d,w){var A=a.updateQueue;Qo=!1;var k=A.firstBaseUpdate,$=A.lastBaseUpdate,ae=A.shared.pending;if(ae!==null){A.shared.pending=null;var pe=ae,De=pe.next;pe.next=null,$===null?k=De:$.next=De,$=pe;var Qe=a.alternate;Qe!==null&&(Qe=Qe.updateQueue,ae=Qe.lastBaseUpdate,ae!==$&&(ae===null?Qe.firstBaseUpdate=De:ae.next=De,Qe.lastBaseUpdate=pe))}if(k!==null){var Je=A.baseState;$=0,Qe=De=pe=null,ae=k;do{var Ye=ae.lane,ft=ae.eventTime;if((w&Ye)===Ye){Qe!==null&&(Qe=Qe.next={eventTime:ft,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var gt=a,wt=ae;switch(Ye=u,ft=d,wt.tag){case 1:if(gt=wt.payload,typeof gt=="function"){Je=gt.call(ft,Je,Ye);break e}Je=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=wt.payload,Ye=typeof gt=="function"?gt.call(ft,Je,Ye):gt,Ye==null)break e;Je=ye({},Je,Ye);break e;case 2:Qo=!0}}ae.callback!==null&&ae.lane!==0&&(a.flags|=64,Ye=A.effects,Ye===null?A.effects=[ae]:Ye.push(ae))}else ft={eventTime:ft,lane:Ye,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Qe===null?(De=Qe=ft,pe=Je):Qe=Qe.next=ft,$|=Ye;if(ae=ae.next,ae===null){if(ae=A.shared.pending,ae===null)break;Ye=ae,ae=Ye.next,Ye.next=null,A.lastBaseUpdate=Ye,A.shared.pending=null}}while(!0);if(Qe===null&&(pe=Je),A.baseState=pe,A.firstBaseUpdate=De,A.lastBaseUpdate=Qe,u=A.shared.interleaved,u!==null){A=u;do $|=A.lane,A=A.next;while(A!==u)}else k===null&&(A.shared.lanes=0);uh|=$,a.lanes=$,a.memoizedState=Je}}function eu(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var w=a[u],A=w.callback;if(A!==null){if(w.callback=null,w=d,typeof A!="function")throw Error(n(191,A));A.call(w)}}}var Ju={},bs=_o(Ju),Zu=_o(Ju),ul=_o(Ju);function Pa(a){if(a===Ju)throw Error(n(174));return a}function ec(a,u){switch(In(ul,u),In(Zu,a),In(bs,Ju),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ct(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Ct(u,a)}Tn(bs),In(bs,u)}function Xo(){Tn(bs),Tn(Zu),Tn(ul)}function cm(a){Pa(ul.current);var u=Pa(bs.current),d=Ct(u,a.type);u!==d&&(In(Zu,a),In(bs,d))}function xd(a){Zu.current===a&&(Tn(bs),Tn(Zu))}var qn=_o(0);function bo(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Sd=[];function Ad(){for(var a=0;a<Sd.length;a++)Sd[a]._workInProgressVersionPrimary=null;Sd.length=0}var uf=H.ReactCurrentDispatcher,cf=H.ReactCurrentBatchConfig,Jo=0,Wn=null,Nr=null,vr=null,tc=!1,Na=!1,nc=0,by=0;function Or(){throw Error(n(321))}function hf(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!gn(a[d],u[d]))return!1;return!0}function oh(a,u,d,w,A,k){if(Jo=k,Wn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,uf.current=a===null||a.memoizedState===null?$N:GN,a=d(w,A),Na){k=0;do{if(Na=!1,nc=0,25<=k)throw Error(n(301));k+=1,vr=Nr=null,u.updateQueue=null,uf.current=KN,a=d(w,A)}while(Na)}if(uf.current=mm,u=Nr!==null&&Nr.next!==null,Jo=0,vr=Nr=Wn=null,tc=!1,u)throw Error(n(300));return a}function Zo(){var a=nc!==0;return nc=0,a}function xo(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vr===null?Wn.memoizedState=vr=a:vr=vr.next=a,vr}function xs(){if(Nr===null){var a=Wn.alternate;a=a!==null?a.memoizedState:null}else a=Nr.next;var u=vr===null?Wn.memoizedState:vr.next;if(u!==null)vr=u,Nr=a;else{if(a===null)throw Error(n(310));Nr=a,a={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},vr===null?Wn.memoizedState=vr=a:vr=vr.next=a}return vr}function ah(a,u){return typeof u=="function"?u(a):u}function ff(a){var u=xs(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var w=Nr,A=w.baseQueue,k=d.pending;if(k!==null){if(A!==null){var $=A.next;A.next=k.next,k.next=$}w.baseQueue=A=k,d.pending=null}if(A!==null){k=A.next,w=w.baseState;var ae=$=null,pe=null,De=k;do{var Qe=De.lane;if((Jo&Qe)===Qe)pe!==null&&(pe=pe.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),w=De.hasEagerState?De.eagerState:a(w,De.action);else{var Je={lane:Qe,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};pe===null?(ae=pe=Je,$=w):pe=pe.next=Je,Wn.lanes|=Qe,uh|=Qe}De=De.next}while(De!==null&&De!==k);pe===null?$=w:pe.next=ae,gn(w,u.memoizedState)||($s=!0),u.memoizedState=w,u.baseState=$,u.baseQueue=pe,d.lastRenderedState=w}if(a=d.interleaved,a!==null){A=a;do k=A.lane,Wn.lanes|=k,uh|=k,A=A.next;while(A!==a)}else A===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function cl(a){var u=xs(),d=u.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var w=d.dispatch,A=d.pending,k=u.memoizedState;if(A!==null){d.pending=null;var $=A=A.next;do k=a(k,$.action),$=$.next;while($!==A);gn(k,u.memoizedState)||($s=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),d.lastRenderedState=k}return[k,w]}function hm(){}function Ed(a,u){var d=Wn,w=xs(),A=u(),k=!gn(w.memoizedState,A);if(k&&(w.memoizedState=A,$s=!0),w=w.queue,mf(dm.bind(null,d,w,a),[a]),w.getSnapshot!==u||k||vr!==null&&vr.memoizedState.tag&1){if(d.flags|=2048,Ss(9,Td.bind(null,d,w,A,u),void 0,null),vi===null)throw Error(n(349));(Jo&30)!==0||fm(d,u,A)}return A}function fm(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},u=Wn.updateQueue,u===null?(u={lastEffect:null,stores:null},Wn.updateQueue=u,u.stores=[a]):(d=u.stores,d===null?u.stores=[a]:d.push(a))}function Td(a,u,d,w){u.value=d,u.getSnapshot=w,rc(u)&&df(a)}function dm(a,u,d){return d(function(){rc(u)&&df(a)})}function rc(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!gn(a,d)}catch{return!0}}function df(a){var u=bn(a,1);u!==null&&Da(u,a,1,-1)}function lh(a){var u=xo();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:a},u.queue=a,a=a.dispatch=WN.bind(null,Wn,a),[u.memoizedState,a]}function Ss(a,u,d,w){return a={tag:a,create:u,destroy:d,deps:w,next:null},u=Wn.updateQueue,u===null?(u={lastEffect:null,stores:null},Wn.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect,d===null?u.lastEffect=a.next=a:(w=d.next,d.next=a,a.next=w,u.lastEffect=a)),a}function Ia(){return xs().memoizedState}function So(a,u,d,w){var A=xo();Wn.flags|=a,A.memoizedState=Ss(1|u,d,void 0,w===void 0?null:w)}function tu(a,u,d,w){var A=xs();w=w===void 0?null:w;var k=void 0;if(Nr!==null){var $=Nr.memoizedState;if(k=$.destroy,w!==null&&hf(w,$.deps)){A.memoizedState=Ss(u,d,k,w);return}}Wn.flags|=a,A.memoizedState=Ss(1|u,d,k,w)}function pf(a,u){return So(8390656,8,a,u)}function mf(a,u){return tu(2048,8,a,u)}function pm(a,u){return tu(4,2,a,u)}function gf(a,u){return tu(4,4,a,u)}function yf(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Pw(a,u,d){return d=d!=null?d.concat([a]):null,tu(4,4,yf.bind(null,u,a),d)}function xy(){}function Nw(a,u){var d=xs();u=u===void 0?null:u;var w=d.memoizedState;return w!==null&&u!==null&&hf(u,w[1])?w[0]:(d.memoizedState=[a,u],a)}function Iw(a,u){var d=xs();u=u===void 0?null:u;var w=d.memoizedState;return w!==null&&u!==null&&hf(u,w[1])?w[0]:(a=a(),d.memoizedState=[a,u],a)}function kw(a,u,d){return(Jo&21)===0?(a.baseState&&(a.baseState=!1,$s=!0),a.memoizedState=d):(gn(d,u)||(d=Mo(),Wn.lanes|=d,uh|=d,a.baseState=!0),u)}function qN(a,u){var d=Jt;Jt=d!==0&&4>d?d:4,a(!0);var w=cf.transition;cf.transition={};try{a(!1),u()}finally{Jt=d,cf.transition=w}}function Rw(){return xs().memoizedState}function HN(a,u,d){var w=ac(a);if(d={lane:w,action:d,hasEagerState:!1,eagerState:null,next:null},Lw(a))Dw(u,d);else if(d=Ta(a,u,d,w),d!==null){var A=Es();Da(d,a,w,A),Ow(d,u,w)}}function WN(a,u,d){var w=ac(a),A={lane:w,action:d,hasEagerState:!1,eagerState:null,next:null};if(Lw(a))Dw(u,A);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var $=u.lastRenderedState,ae=k($,d);if(A.hasEagerState=!0,A.eagerState=ae,gn(ae,$)){var pe=u.interleaved;pe===null?(A.next=A,ll(u)):(A.next=pe.next,pe.next=A),u.interleaved=A;return}}catch{}finally{}d=Ta(a,u,A,w),d!==null&&(A=Es(),Da(d,a,w,A),Ow(d,u,w))}}function Lw(a){var u=a.alternate;return a===Wn||u!==null&&u===Wn}function Dw(a,u){Na=tc=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function Ow(a,u,d){if((d&4194240)!==0){var w=u.lanes;w&=a.pendingLanes,d|=w,u.lanes=d,fo(a,d)}}var mm={readContext:Pr,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},$N={readContext:Pr,useCallback:function(a,u){return xo().memoizedState=[a,u===void 0?null:u],a},useContext:Pr,useEffect:pf,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,So(4194308,4,yf.bind(null,u,a),d)},useLayoutEffect:function(a,u){return So(4194308,4,a,u)},useInsertionEffect:function(a,u){return So(4,2,a,u)},useMemo:function(a,u){var d=xo();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var w=xo();return u=d!==void 0?d(u):u,w.memoizedState=w.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},w.queue=a,a=a.dispatch=HN.bind(null,Wn,a),[w.memoizedState,a]},useRef:function(a){var u=xo();return a={current:a},u.memoizedState=a},useState:lh,useDebugValue:xy,useDeferredValue:function(a){return xo().memoizedState=a},useTransition:function(){var a=lh(!1),u=a[0];return a=qN.bind(null,a[1]),xo().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var w=Wn,A=xo();if(Ve){if(d===void 0)throw Error(n(407));d=d()}else{if(d=u(),vi===null)throw Error(n(349));(Jo&30)!==0||fm(w,u,d)}A.memoizedState=d;var k={value:d,getSnapshot:u};return A.queue=k,pf(dm.bind(null,w,k,a),[a]),w.flags|=2048,Ss(9,Td.bind(null,w,k,d,u),void 0,null),d},useId:function(){var a=xo(),u=vi.identifierPrefix;if(Ve){var d=Ie,w=Ne;d=(w&~(1<<32-Qr(w)-1)).toString(32)+d,u=":"+u+"R"+d,d=nc++,0<d&&(u+="H"+d.toString(32)),u+=":"}else d=by++,u=":"+u+"r"+d.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},GN={readContext:Pr,useCallback:Nw,useContext:Pr,useEffect:mf,useImperativeHandle:Pw,useInsertionEffect:pm,useLayoutEffect:gf,useMemo:Iw,useReducer:ff,useRef:Ia,useState:function(){return ff(ah)},useDebugValue:xy,useDeferredValue:function(a){var u=xs();return kw(u,Nr.memoizedState,a)},useTransition:function(){var a=ff(ah)[0],u=xs().memoizedState;return[a,u]},useMutableSource:hm,useSyncExternalStore:Ed,useId:Rw,unstable_isNewReconciler:!1},KN={readContext:Pr,useCallback:Nw,useContext:Pr,useEffect:mf,useImperativeHandle:Pw,useInsertionEffect:pm,useLayoutEffect:gf,useMemo:Iw,useReducer:cl,useRef:Ia,useState:function(){return cl(ah)},useDebugValue:xy,useDeferredValue:function(a){var u=xs();return Nr===null?u.memoizedState=a:kw(u,Nr.memoizedState,a)},useTransition:function(){var a=cl(ah)[0],u=xs().memoizedState;return[a,u]},useMutableSource:hm,useSyncExternalStore:Ed,useId:Rw,unstable_isNewReconciler:!1};function ka(a,u){if(a&&a.defaultProps){u=ye({},u),a=a.defaultProps;for(var d in a)u[d]===void 0&&(u[d]=a[d]);return u}return u}function Sy(a,u,d,w){u=a.memoizedState,d=d(w,u),d=d==null?u:ye({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var gm={isMounted:function(a){return(a=a._reactInternals)?gr(a)===a:!1},enqueueSetState:function(a,u,d){a=a._reactInternals;var w=Es(),A=ac(a),k=qs(w,A);k.payload=u,d!=null&&(k.callback=d),u=Hs(a,k,A),u!==null&&(Da(u,a,A,w),Zl(u,a,A))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var w=Es(),A=ac(a),k=qs(w,A);k.tag=1,k.payload=u,d!=null&&(k.callback=d),u=Hs(a,k,A),u!==null&&(Da(u,a,A,w),Zl(u,a,A))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=Es(),w=ac(a),A=qs(d,w);A.tag=2,u!=null&&(A.callback=u),u=Hs(a,A,w),u!==null&&(Da(u,a,w,d),Zl(u,a,w))}};function jw(a,u,d,w,A,k,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,k,$):u.prototype&&u.prototype.isPureReactComponent?!_a(d,w)||!_a(A,k):!0}function Mw(a,u,d){var w=!1,A=al,k=u.contextType;return typeof k=="object"&&k!==null?k=Pr(k):(A=Qi(u)?Xl:ri.current,w=u.contextTypes,k=(w=w!=null)?Xu(a,A):al),u=new u(d,k),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=gm,a.stateNode=u,u._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=A,a.__reactInternalMemoizedMaskedChildContext=k),u}function Fw(a,u,d,w){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,w),u.state!==a&&gm.enqueueReplaceState(u,u.state,null)}function Ay(a,u,d,w){var A=a.stateNode;A.props=d,A.state=a.memoizedState,A.refs={},lf(a);var k=u.contextType;typeof k=="object"&&k!==null?A.context=Pr(k):(k=Qi(u)?Xl:ri.current,A.context=Xu(a,k)),A.state=a.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Sy(a,u,k,d),A.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(u=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),u!==A.state&&gm.enqueueReplaceState(A,A.state,null),Ca(a,d,A,w),A.state=a.memoizedState),typeof A.componentDidMount=="function"&&(a.flags|=4194308)}function vf(a,u){try{var d="",w=u;do d+=le(w),w=w.return;while(w);var A=d}catch(k){A=`
Error generating stack: `+k.message+`
`+k.stack}return{value:a,source:u,stack:A,digest:null}}function Ey(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function Ty(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var YN=typeof WeakMap=="function"?WeakMap:Map;function Vw(a,u,d){d=qs(-1,d),d.tag=3,d.payload={element:null};var w=u.value;return d.callback=function(){Sm||(Sm=!0,Uy=w),Ty(a,u)},d}function Bw(a,u,d){d=qs(-1,d),d.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var A=u.value;d.payload=function(){return w(A)},d.callback=function(){Ty(a,u)}}var k=a.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(d.callback=function(){Ty(a,u),typeof w!="function"&&(sc===null?sc=new Set([this]):sc.add(this));var $=u.stack;this.componentDidCatch(u.value,{componentStack:$!==null?$:""})}),d}function Uw(a,u,d){var w=a.pingCache;if(w===null){w=a.pingCache=new YN;var A=new Set;w.set(u,A)}else A=w.get(u),A===void 0&&(A=new Set,w.set(u,A));A.has(d)||(A.add(d),a=uI.bind(null,a,u,d),u.then(a,a))}function zw(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function qw(a,u,d,w,A){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(u=qs(-1,1),u.tag=2,Hs(d,u,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=A,a)}var QN=H.ReactCurrentOwner,$s=!1;function As(a,u,d,w){u.child=a===null?_n(u,null,d,w):Lr(u,a.child,d,w)}function Hw(a,u,d,w,A){d=d.render;var k=u.ref;return Jn(u,A),w=oh(a,u,d,w,k,A),d=Zo(),a!==null&&!$s?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~A,nu(a,u,A)):(Ve&&d&&Oe(u),u.flags|=1,As(a,u,w,A),u.child)}function Ww(a,u,d,w,A){if(a===null){var k=d.type;return typeof k=="function"&&!Ky(k)&&k.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(u.tag=15,u.type=k,$w(a,u,k,w,A)):(a=Nm(d.type,null,w,u,u.mode,A),a.ref=u.ref,a.return=u,u.child=a)}if(k=a.child,(a.lanes&A)===0){var $=k.memoizedProps;if(d=d.compare,d=d!==null?d:_a,d($,w)&&a.ref===u.ref)return nu(a,u,A)}return u.flags|=1,a=uc(k,w),a.ref=u.ref,a.return=u,u.child=a}function $w(a,u,d,w,A){if(a!==null){var k=a.memoizedProps;if(_a(k,w)&&a.ref===u.ref)if($s=!1,u.pendingProps=w=k,(a.lanes&A)!==0)(a.flags&131072)!==0&&($s=!0);else return u.lanes=a.lanes,nu(a,u,A)}return Cy(a,u,d,w,A)}function Gw(a,u,d){var w=u.pendingProps,A=w.children,k=a!==null?a.memoizedState:null;if(w.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(_f,Ao),Ao|=d;else{if((d&1073741824)===0)return a=k!==null?k.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,In(_f,Ao),Ao|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=k!==null?k.baseLanes:d,In(_f,Ao),Ao|=w}else k!==null?(w=k.baseLanes|d,u.memoizedState=null):w=d,In(_f,Ao),Ao|=w;return As(a,u,A,d),u.child}function Kw(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Cy(a,u,d,w,A){var k=Qi(d)?Xl:ri.current;return k=Xu(u,k),Jn(u,A),d=oh(a,u,d,w,k,A),w=Zo(),a!==null&&!$s?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~A,nu(a,u,A)):(Ve&&w&&Oe(u),u.flags|=1,As(a,u,d,A),u.child)}function Yw(a,u,d,w,A){if(Qi(d)){var k=!0;Jl(u)}else k=!1;if(Jn(u,A),u.stateNode===null)vm(a,u),Mw(u,d,w),Ay(u,d,w,A),w=!0;else if(a===null){var $=u.stateNode,ae=u.memoizedProps;$.props=ae;var pe=$.context,De=d.contextType;typeof De=="object"&&De!==null?De=Pr(De):(De=Qi(d)?Xl:ri.current,De=Xu(u,De));var Qe=d.getDerivedStateFromProps,Je=typeof Qe=="function"||typeof $.getSnapshotBeforeUpdate=="function";Je||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ae!==w||pe!==De)&&Fw(u,$,w,De),Qo=!1;var Ye=u.memoizedState;$.state=Ye,Ca(u,w,$,A),pe=u.memoizedState,ae!==w||Ye!==pe||Yi.current||Qo?(typeof Qe=="function"&&(Sy(u,d,Qe,w),pe=u.memoizedState),(ae=Qo||jw(u,d,ae,w,Ye,pe,De))?(Je||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(u.flags|=4194308)):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=pe),$.props=w,$.state=pe,$.context=De,w=ae):(typeof $.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{$=u.stateNode,bd(a,u),ae=u.memoizedProps,De=u.type===u.elementType?ae:ka(u.type,ae),$.props=De,Je=u.pendingProps,Ye=$.context,pe=d.contextType,typeof pe=="object"&&pe!==null?pe=Pr(pe):(pe=Qi(d)?Xl:ri.current,pe=Xu(u,pe));var ft=d.getDerivedStateFromProps;(Qe=typeof ft=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ae!==Je||Ye!==pe)&&Fw(u,$,w,pe),Qo=!1,Ye=u.memoizedState,$.state=Ye,Ca(u,w,$,A);var gt=u.memoizedState;ae!==Je||Ye!==gt||Yi.current||Qo?(typeof ft=="function"&&(Sy(u,d,ft,w),gt=u.memoizedState),(De=Qo||jw(u,d,De,w,Ye,gt,pe)||!1)?(Qe||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(w,gt,pe),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(w,gt,pe)),typeof $.componentDidUpdate=="function"&&(u.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof $.componentDidUpdate!="function"||ae===a.memoizedProps&&Ye===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ae===a.memoizedProps&&Ye===a.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=gt),$.props=w,$.state=gt,$.context=pe,w=De):(typeof $.componentDidUpdate!="function"||ae===a.memoizedProps&&Ye===a.memoizedState||(u.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ae===a.memoizedProps&&Ye===a.memoizedState||(u.flags|=1024),w=!1)}return Py(a,u,d,w,k,A)}function Py(a,u,d,w,A,k){Kw(a,u);var $=(u.flags&128)!==0;if(!w&&!$)return A&&um(u,d,!1),nu(a,u,k);w=u.stateNode,QN.current=u;var ae=$&&typeof d.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,a!==null&&$?(u.child=Lr(u,a.child,null,k),u.child=Lr(u,null,ae,k)):As(a,u,ae,k),u.memoizedState=w.state,A&&um(u,d,!0),u.child}function Qw(a){var u=a.stateNode;u.pendingContext?lm(a,u.pendingContext,u.pendingContext!==u.context):u.context&&lm(a,u.context,!1),ec(a,u.containerInfo)}function Xw(a,u,d,w,A){return Yt(),Cn(A),u.flags|=256,As(a,u,d,w),u.child}var Ny={dehydrated:null,treeContext:null,retryLane:0};function Iy(a){return{baseLanes:a,cachePool:null,transitions:null}}function Jw(a,u,d){var w=u.pendingProps,A=qn.current,k=!1,$=(u.flags&128)!==0,ae;if((ae=$)||(ae=a!==null&&a.memoizedState===null?!1:(A&2)!==0),ae?(k=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(A|=1),In(qn,A&1),a===null)return lt(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):($=w.children,a=w.fallback,k?(w=u.mode,k=u.child,$={mode:"hidden",children:$},(w&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=$):k=Im($,w,0,null),a=dh(a,w,d,null),k.return=u,a.return=u,k.sibling=a,u.child=k,u.child.memoizedState=Iy(d),u.memoizedState=Ny,a):ky(u,$));if(A=a.memoizedState,A!==null&&(ae=A.dehydrated,ae!==null))return XN(a,u,$,w,ae,A,d);if(k){k=w.fallback,$=u.mode,A=a.child,ae=A.sibling;var pe={mode:"hidden",children:w.children};return($&1)===0&&u.child!==A?(w=u.child,w.childLanes=0,w.pendingProps=pe,u.deletions=null):(w=uc(A,pe),w.subtreeFlags=A.subtreeFlags&14680064),ae!==null?k=uc(ae,k):(k=dh(k,$,d,null),k.flags|=2),k.return=u,w.return=u,w.sibling=k,u.child=w,w=k,k=u.child,$=a.child.memoizedState,$=$===null?Iy(d):{baseLanes:$.baseLanes|d,cachePool:null,transitions:$.transitions},k.memoizedState=$,k.childLanes=a.childLanes&~d,u.memoizedState=Ny,w}return k=a.child,a=k.sibling,w=uc(k,{mode:"visible",children:w.children}),(u.mode&1)===0&&(w.lanes=d),w.return=u,w.sibling=null,a!==null&&(d=u.deletions,d===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=w,u.memoizedState=null,w}function ky(a,u){return u=Im({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function ym(a,u,d,w){return w!==null&&Cn(w),Lr(u,a.child,null,d),a=ky(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function XN(a,u,d,w,A,k,$){if(d)return u.flags&256?(u.flags&=-257,w=Ey(Error(n(422))),ym(a,u,$,w)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(k=w.fallback,A=u.mode,w=Im({mode:"visible",children:w.children},A,0,null),k=dh(k,A,$,null),k.flags|=2,w.return=u,k.return=u,w.sibling=k,u.child=w,(u.mode&1)!==0&&Lr(u,a.child,null,$),u.child.memoizedState=Iy($),u.memoizedState=Ny,k);if((u.mode&1)===0)return ym(a,u,$,null);if(A.data==="$!"){if(w=A.nextSibling&&A.nextSibling.dataset,w)var ae=w.dgst;return w=ae,k=Error(n(419)),w=Ey(k,w,void 0),ym(a,u,$,w)}if(ae=($&a.childLanes)!==0,$s||ae){if(w=vi,w!==null){switch($&-$){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(w.suspendedLanes|$))!==0?0:A,A!==0&&A!==k.retryLane&&(k.retryLane=A,bn(a,A),Da(w,a,A,-1))}return Gy(),w=Ey(Error(n(421))),ym(a,u,$,w)}return A.data==="$?"?(u.flags|=128,u.child=a.child,u=cI.bind(null,a),A._reactRetry=u,null):(a=k.treeContext,Be=Ri(A.nextSibling),ge=u,Ve=!0,Ue=null,a!==null&&(J[te++]=Ne,J[te++]=Ie,J[te++]=de,Ne=a.id,Ie=a.overflow,de=u),u=ky(u,w.children),u.flags|=4096,u)}function Zw(a,u,d){a.lanes|=u;var w=a.alternate;w!==null&&(w.lanes|=u),zs(a.return,u,d)}function Ry(a,u,d,w,A){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:d,tailMode:A}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=w,k.tail=d,k.tailMode=A)}function e_(a,u,d){var w=u.pendingProps,A=w.revealOrder,k=w.tail;if(As(a,u,w.children,d),w=qn.current,(w&2)!==0)w=w&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Zw(a,d,u);else if(a.tag===19)Zw(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(In(qn,w),(u.mode&1)===0)u.memoizedState=null;else switch(A){case"forwards":for(d=u.child,A=null;d!==null;)a=d.alternate,a!==null&&bo(a)===null&&(A=d),d=d.sibling;d=A,d===null?(A=u.child,u.child=null):(A=d.sibling,d.sibling=null),Ry(u,!1,A,d,k);break;case"backwards":for(d=null,A=u.child,u.child=null;A!==null;){if(a=A.alternate,a!==null&&bo(a)===null){u.child=A;break}a=A.sibling,A.sibling=d,d=A,A=a}Ry(u,!0,d,null,k);break;case"together":Ry(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function vm(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function nu(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),uh|=u.lanes,(d&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,d=uc(a,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,d=d.sibling=uc(a,a.pendingProps),d.return=u;d.sibling=null}return u.child}function JN(a,u,d){switch(u.tag){case 3:Qw(u),Yt();break;case 5:cm(u);break;case 1:Qi(u.type)&&Jl(u);break;case 4:ec(u,u.stateNode.containerInfo);break;case 10:var w=u.type._context,A=u.memoizedProps.value;In(gi,w._currentValue),w._currentValue=A;break;case 13:if(w=u.memoizedState,w!==null)return w.dehydrated!==null?(In(qn,qn.current&1),u.flags|=128,null):(d&u.child.childLanes)!==0?Jw(a,u,d):(In(qn,qn.current&1),a=nu(a,u,d),a!==null?a.sibling:null);In(qn,qn.current&1);break;case 19:if(w=(d&u.childLanes)!==0,(a.flags&128)!==0){if(w)return e_(a,u,d);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),In(qn,qn.current),w)break;return null;case 22:case 23:return u.lanes=0,Gw(a,u,d)}return nu(a,u,d)}var t_,Ly,n_,r_;t_=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ly=function(){},n_=function(a,u,d,w){var A=a.memoizedProps;if(A!==w){a=u.stateNode,Pa(bs.current);var k=null;switch(d){case"input":A=xt(a,A),w=xt(a,w),k=[];break;case"select":A=ye({},A,{value:void 0}),w=ye({},w,{value:void 0}),k=[];break;case"textarea":A=ot(a,A),w=ot(a,w),k=[];break;default:typeof A.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=Ku)}Pn(d,w);var $;d=null;for(De in A)if(!w.hasOwnProperty(De)&&A.hasOwnProperty(De)&&A[De]!=null)if(De==="style"){var ae=A[De];for($ in ae)ae.hasOwnProperty($)&&(d||(d={}),d[$]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(i.hasOwnProperty(De)?k||(k=[]):(k=k||[]).push(De,null));for(De in w){var pe=w[De];if(ae=A?.[De],w.hasOwnProperty(De)&&pe!==ae&&(pe!=null||ae!=null))if(De==="style")if(ae){for($ in ae)!ae.hasOwnProperty($)||pe&&pe.hasOwnProperty($)||(d||(d={}),d[$]="");for($ in pe)pe.hasOwnProperty($)&&ae[$]!==pe[$]&&(d||(d={}),d[$]=pe[$])}else d||(k||(k=[]),k.push(De,d)),d=pe;else De==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,ae=ae?ae.__html:void 0,pe!=null&&ae!==pe&&(k=k||[]).push(De,pe)):De==="children"?typeof pe!="string"&&typeof pe!="number"||(k=k||[]).push(De,""+pe):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(i.hasOwnProperty(De)?(pe!=null&&De==="onScroll"&&Mn("scroll",a),k||ae===pe||(k=[])):(k=k||[]).push(De,pe))}d&&(k=k||[]).push("style",d);var De=k;(u.updateQueue=De)&&(u.flags|=4)}},r_=function(a,u,d,w){d!==w&&(u.flags|=4)};function Cd(a,u){if(!Ve)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var w=null;d!==null;)d.alternate!==null&&(w=d),d=d.sibling;w===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function Ji(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,w=0;if(u)for(var A=a.child;A!==null;)d|=A.lanes|A.childLanes,w|=A.subtreeFlags&14680064,w|=A.flags&14680064,A.return=a,A=A.sibling;else for(A=a.child;A!==null;)d|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=a,A=A.sibling;return a.subtreeFlags|=w,a.childLanes=d,u}function ZN(a,u,d){var w=u.pendingProps;switch(me(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ji(u),null;case 1:return Qi(u.type)&&af(),Ji(u),null;case 3:return w=u.stateNode,Xo(),Tn(Yi),Tn(ri),Ad(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(dn(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ue!==null&&(Hy(Ue),Ue=null))),Ly(a,u),Ji(u),null;case 5:xd(u);var A=Pa(ul.current);if(d=u.type,a!==null&&u.stateNode!=null)n_(a,u,d,w,A),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(n(166));return Ji(u),null}if(a=Pa(bs.current),dn(u)){w=u.stateNode,d=u.type;var k=u.memoizedProps;switch(w[Yo]=u,w[Yu]=k,a=(u.mode&1)!==0,d){case"dialog":Mn("cancel",w),Mn("close",w);break;case"iframe":case"object":case"embed":Mn("load",w);break;case"video":case"audio":for(A=0;A<sl.length;A++)Mn(sl[A],w);break;case"source":Mn("error",w);break;case"img":case"image":case"link":Mn("error",w),Mn("load",w);break;case"details":Mn("toggle",w);break;case"input":Fe(w,k),Mn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!k.multiple},Mn("invalid",w);break;case"textarea":vt(w,k),Mn("invalid",w)}Pn(d,k),A=null;for(var $ in k)if(k.hasOwnProperty($)){var ae=k[$];$==="children"?typeof ae=="string"?w.textContent!==ae&&(k.suppressHydrationWarning!==!0&&of(w.textContent,ae,a),A=["children",ae]):typeof ae=="number"&&w.textContent!==""+ae&&(k.suppressHydrationWarning!==!0&&of(w.textContent,ae,a),A=["children",""+ae]):i.hasOwnProperty($)&&ae!=null&&$==="onScroll"&&Mn("scroll",w)}switch(d){case"input":$e(w),mt(w,k,!0);break;case"textarea":$e(w),Ut(w);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(w.onclick=Ku)}w=A,u.updateQueue=w,w!==null&&(u.flags|=4)}else{$=A.nodeType===9?A:A.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=bt(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=$.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=$.createElement(d,{is:w.is}):(a=$.createElement(d),d==="select"&&($=a,w.multiple?$.multiple=!0:w.size&&($.size=w.size))):a=$.createElementNS(a,d),a[Yo]=u,a[Yu]=w,t_(a,u,!1,!1),u.stateNode=a;e:{switch($=Bi(d,w),d){case"dialog":Mn("cancel",a),Mn("close",a),A=w;break;case"iframe":case"object":case"embed":Mn("load",a),A=w;break;case"video":case"audio":for(A=0;A<sl.length;A++)Mn(sl[A],a);A=w;break;case"source":Mn("error",a),A=w;break;case"img":case"image":case"link":Mn("error",a),Mn("load",a),A=w;break;case"details":Mn("toggle",a),A=w;break;case"input":Fe(a,w),A=xt(a,w),Mn("invalid",a);break;case"option":A=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},A=ye({},w,{value:void 0}),Mn("invalid",a);break;case"textarea":vt(a,w),A=ot(a,w),Mn("invalid",a);break;default:A=w}Pn(d,A),ae=A;for(k in ae)if(ae.hasOwnProperty(k)){var pe=ae[k];k==="style"?Si(a,pe):k==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,pe!=null&&Pt(a,pe)):k==="children"?typeof pe=="string"?(d!=="textarea"||pe!=="")&&qt(a,pe):typeof pe=="number"&&qt(a,""+pe):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?pe!=null&&k==="onScroll"&&Mn("scroll",a):pe!=null&&V(a,k,pe,$))}switch(d){case"input":$e(a),mt(a,w,!1);break;case"textarea":$e(a),Ut(a);break;case"option":w.value!=null&&a.setAttribute("value",""+Te(w.value));break;case"select":a.multiple=!!w.multiple,k=w.value,k!=null?rt(a,!!w.multiple,k,!1):w.defaultValue!=null&&rt(a,!!w.multiple,w.defaultValue,!0);break;default:typeof A.onClick=="function"&&(a.onclick=Ku)}switch(d){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ji(u),null;case 6:if(a&&u.stateNode!=null)r_(a,u,a.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(n(166));if(d=Pa(ul.current),Pa(bs.current),dn(u)){if(w=u.stateNode,d=u.memoizedProps,w[Yo]=u,(k=w.nodeValue!==d)&&(a=ge,a!==null))switch(a.tag){case 3:of(w.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&of(w.nodeValue,d,(a.mode&1)!==0)}k&&(u.flags|=4)}else w=(d.nodeType===9?d:d.ownerDocument).createTextNode(w),w[Yo]=u,u.stateNode=w}return Ji(u),null;case 13:if(Tn(qn),w=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ve&&Be!==null&&(u.mode&1)!==0&&(u.flags&128)===0)on(),Yt(),u.flags|=98560,k=!1;else if(k=dn(u),w!==null&&w.dehydrated!==null){if(a===null){if(!k)throw Error(n(318));if(k=u.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[Yo]=u}else Yt(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ji(u),k=!1}else Ue!==null&&(Hy(Ue),Ue=null),k=!0;if(!k)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=d,u):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(qn.current&1)!==0?si===0&&(si=3):Gy())),u.updateQueue!==null&&(u.flags|=4),Ji(u),null);case 4:return Xo(),Ly(a,u),a===null&&Gl(u.stateNode.containerInfo),Ji(u),null;case 10:return Xi(u.type._context),Ji(u),null;case 17:return Qi(u.type)&&af(),Ji(u),null;case 19:if(Tn(qn),k=u.memoizedState,k===null)return Ji(u),null;if(w=(u.flags&128)!==0,$=k.rendering,$===null)if(w)Cd(k,!1);else{if(si!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if($=bo(a),$!==null){for(u.flags|=128,Cd(k,!1),w=$.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),u.subtreeFlags=0,w=d,d=u.child;d!==null;)k=d,a=w,k.flags&=14680066,$=k.alternate,$===null?(k.childLanes=0,k.lanes=a,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=$.childLanes,k.lanes=$.lanes,k.child=$.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=$.memoizedProps,k.memoizedState=$.memoizedState,k.updateQueue=$.updateQueue,k.type=$.type,a=$.dependencies,k.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return In(qn,qn.current&1|2),u.child}a=a.sibling}k.tail!==null&&Nn()>bf&&(u.flags|=128,w=!0,Cd(k,!1),u.lanes=4194304)}else{if(!w)if(a=bo($),a!==null){if(u.flags|=128,w=!0,d=a.updateQueue,d!==null&&(u.updateQueue=d,u.flags|=4),Cd(k,!0),k.tail===null&&k.tailMode==="hidden"&&!$.alternate&&!Ve)return Ji(u),null}else 2*Nn()-k.renderingStartTime>bf&&d!==1073741824&&(u.flags|=128,w=!0,Cd(k,!1),u.lanes=4194304);k.isBackwards?($.sibling=u.child,u.child=$):(d=k.last,d!==null?d.sibling=$:u.child=$,k.last=$)}return k.tail!==null?(u=k.tail,k.rendering=u,k.tail=u.sibling,k.renderingStartTime=Nn(),u.sibling=null,d=qn.current,In(qn,w?d&1|2:d&1),u):(Ji(u),null);case 22:case 23:return $y(),w=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(u.flags|=8192),w&&(u.mode&1)!==0?(Ao&1073741824)!==0&&(Ji(u),u.subtreeFlags&6&&(u.flags|=8192)):Ji(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function eI(a,u){switch(me(u),u.tag){case 1:return Qi(u.type)&&af(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Xo(),Tn(Yi),Tn(ri),Ad(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return xd(u),null;case 13:if(Tn(qn),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Yt()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Tn(qn),null;case 4:return Xo(),null;case 10:return Xi(u.type._context),null;case 22:case 23:return $y(),null;case 24:return null;default:return null}}var wm=!1,Zi=!1,tI=typeof WeakSet=="function"?WeakSet:Set,pt=null;function wf(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(w){Ir(a,u,w)}else d.current=null}function Dy(a,u,d){try{d()}catch(w){Ir(a,u,w)}}var i_=!1;function nI(a,u){if(rh=Bo,a=Qc(),ql(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var w=d.getSelection&&d.getSelection();if(w&&w.rangeCount!==0){d=w.anchorNode;var A=w.anchorOffset,k=w.focusNode;w=w.focusOffset;try{d.nodeType,k.nodeType}catch{d=null;break e}var $=0,ae=-1,pe=-1,De=0,Qe=0,Je=a,Ye=null;t:for(;;){for(var ft;Je!==d||A!==0&&Je.nodeType!==3||(ae=$+A),Je!==k||w!==0&&Je.nodeType!==3||(pe=$+w),Je.nodeType===3&&($+=Je.nodeValue.length),(ft=Je.firstChild)!==null;)Ye=Je,Je=ft;for(;;){if(Je===a)break t;if(Ye===d&&++De===A&&(ae=$),Ye===k&&++Qe===w&&(pe=$),(ft=Je.nextSibling)!==null)break;Je=Ye,Ye=Je.parentNode}Je=ft}d=ae===-1||pe===-1?null:{start:ae,end:pe}}else d=null}d=d||{start:0,end:0}}else d=null;for(Yl={focusedElem:a,selectionRange:d},Bo=!1,pt=u;pt!==null;)if(u=pt,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,pt=a;else for(;pt!==null;){u=pt;try{var gt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var wt=gt.memoizedProps,jr=gt.memoizedState,ke=u.stateNode,_e=ke.getSnapshotBeforeUpdate(u.elementType===u.type?wt:ka(u.type,wt),jr);ke.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var Le=u.stateNode.containerInfo;Le.nodeType===1?Le.textContent="":Le.nodeType===9&&Le.documentElement&&Le.removeChild(Le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(et){Ir(u,u.return,et)}if(a=u.sibling,a!==null){a.return=u.return,pt=a;break}pt=u.return}return gt=i_,i_=!1,gt}function Pd(a,u,d){var w=u.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&a)===a){var k=A.destroy;A.destroy=void 0,k!==void 0&&Dy(u,d,k)}A=A.next}while(A!==w)}}function _m(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&a)===a){var w=d.create;d.destroy=w()}d=d.next}while(d!==u)}}function Oy(a){var u=a.ref;if(u!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof u=="function"?u(a):u.current=a}}function s_(a){var u=a.alternate;u!==null&&(a.alternate=null,s_(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Yo],delete u[Yu],delete u[Ki],delete u[wy],delete u[_y])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function o_(a){return a.tag===5||a.tag===3||a.tag===4}function a_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||o_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function jy(a,u,d){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?d.nodeType===8?d.parentNode.insertBefore(a,u):d.insertBefore(a,u):(d.nodeType===8?(u=d.parentNode,u.insertBefore(a,d)):(u=d,u.appendChild(a)),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Ku));else if(w!==4&&(a=a.child,a!==null))for(jy(a,u,d),a=a.sibling;a!==null;)jy(a,u,d),a=a.sibling}function My(a,u,d){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?d.insertBefore(a,u):d.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(My(a,u,d),a=a.sibling;a!==null;)My(a,u,d),a=a.sibling}var Di=null,Ra=!1;function ic(a,u,d){for(d=d.child;d!==null;)l_(a,u,d),d=d.sibling}function l_(a,u,d){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Do,d)}catch{}switch(d.tag){case 5:Zi||wf(d,u);case 6:var w=Di,A=Ra;Di=null,ic(a,u,d),Di=w,Ra=A,Di!==null&&(Ra?(a=Di,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):Di.removeChild(d.stateNode));break;case 18:Di!==null&&(Ra?(a=Di,d=d.stateNode,a.nodeType===8?vd(a.parentNode,d):a.nodeType===1&&vd(a,d),ei(a)):vd(Di,d.stateNode));break;case 4:w=Di,A=Ra,Di=d.stateNode.containerInfo,Ra=!0,ic(a,u,d),Di=w,Ra=A;break;case 0:case 11:case 14:case 15:if(!Zi&&(w=d.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){A=w=w.next;do{var k=A,$=k.destroy;k=k.tag,$!==void 0&&((k&2)!==0||(k&4)!==0)&&Dy(d,u,$),A=A.next}while(A!==w)}ic(a,u,d);break;case 1:if(!Zi&&(wf(d,u),w=d.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=d.memoizedProps,w.state=d.memoizedState,w.componentWillUnmount()}catch(ae){Ir(d,u,ae)}ic(a,u,d);break;case 21:ic(a,u,d);break;case 22:d.mode&1?(Zi=(w=Zi)||d.memoizedState!==null,ic(a,u,d),Zi=w):ic(a,u,d);break;default:ic(a,u,d)}}function u_(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new tI),u.forEach(function(w){var A=hI.bind(null,a,w);d.has(w)||(d.add(w),w.then(A,A))})}}function La(a,u){var d=u.deletions;if(d!==null)for(var w=0;w<d.length;w++){var A=d[w];try{var k=a,$=u,ae=$;e:for(;ae!==null;){switch(ae.tag){case 5:Di=ae.stateNode,Ra=!1;break e;case 3:Di=ae.stateNode.containerInfo,Ra=!0;break e;case 4:Di=ae.stateNode.containerInfo,Ra=!0;break e}ae=ae.return}if(Di===null)throw Error(n(160));l_(k,$,A),Di=null,Ra=!1;var pe=A.alternate;pe!==null&&(pe.return=null),A.return=null}catch(De){Ir(A,u,De)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)c_(u,a),u=u.sibling}function c_(a,u){var d=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(La(u,a),hl(a),w&4){try{Pd(3,a,a.return),_m(3,a)}catch(wt){Ir(a,a.return,wt)}try{Pd(5,a,a.return)}catch(wt){Ir(a,a.return,wt)}}break;case 1:La(u,a),hl(a),w&512&&d!==null&&wf(d,d.return);break;case 5:if(La(u,a),hl(a),w&512&&d!==null&&wf(d,d.return),a.flags&32){var A=a.stateNode;try{qt(A,"")}catch(wt){Ir(a,a.return,wt)}}if(w&4&&(A=a.stateNode,A!=null)){var k=a.memoizedProps,$=d!==null?d.memoizedProps:k,ae=a.type,pe=a.updateQueue;if(a.updateQueue=null,pe!==null)try{ae==="input"&&k.type==="radio"&&k.name!=null&&ue(A,k),Bi(ae,$);var De=Bi(ae,k);for($=0;$<pe.length;$+=2){var Qe=pe[$],Je=pe[$+1];Qe==="style"?Si(A,Je):Qe==="dangerouslySetInnerHTML"?Pt(A,Je):Qe==="children"?qt(A,Je):V(A,Qe,Je,De)}switch(ae){case"input":Dt(A,k);break;case"textarea":Rt(A,k);break;case"select":var Ye=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!k.multiple;var ft=k.value;ft!=null?rt(A,!!k.multiple,ft,!1):Ye!==!!k.multiple&&(k.defaultValue!=null?rt(A,!!k.multiple,k.defaultValue,!0):rt(A,!!k.multiple,k.multiple?[]:"",!1))}A[Yu]=k}catch(wt){Ir(a,a.return,wt)}}break;case 6:if(La(u,a),hl(a),w&4){if(a.stateNode===null)throw Error(n(162));A=a.stateNode,k=a.memoizedProps;try{A.nodeValue=k}catch(wt){Ir(a,a.return,wt)}}break;case 3:if(La(u,a),hl(a),w&4&&d!==null&&d.memoizedState.isDehydrated)try{ei(u.containerInfo)}catch(wt){Ir(a,a.return,wt)}break;case 4:La(u,a),hl(a);break;case 13:La(u,a),hl(a),A=a.child,A.flags&8192&&(k=A.memoizedState!==null,A.stateNode.isHidden=k,!k||A.alternate!==null&&A.alternate.memoizedState!==null||(By=Nn())),w&4&&u_(a);break;case 22:if(Qe=d!==null&&d.memoizedState!==null,a.mode&1?(Zi=(De=Zi)||Qe,La(u,a),Zi=De):La(u,a),hl(a),w&8192){if(De=a.memoizedState!==null,(a.stateNode.isHidden=De)&&!Qe&&(a.mode&1)!==0)for(pt=a,Qe=a.child;Qe!==null;){for(Je=pt=Qe;pt!==null;){switch(Ye=pt,ft=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:Pd(4,Ye,Ye.return);break;case 1:wf(Ye,Ye.return);var gt=Ye.stateNode;if(typeof gt.componentWillUnmount=="function"){w=Ye,d=Ye.return;try{u=w,gt.props=u.memoizedProps,gt.state=u.memoizedState,gt.componentWillUnmount()}catch(wt){Ir(w,d,wt)}}break;case 5:wf(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){d_(Je);continue}}ft!==null?(ft.return=Ye,pt=ft):d_(Je)}Qe=Qe.sibling}e:for(Qe=null,Je=a;;){if(Je.tag===5){if(Qe===null){Qe=Je;try{A=Je.stateNode,De?(k=A.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(ae=Je.stateNode,pe=Je.memoizedProps.style,$=pe!=null&&pe.hasOwnProperty("display")?pe.display:null,ae.style.display=en("display",$))}catch(wt){Ir(a,a.return,wt)}}}else if(Je.tag===6){if(Qe===null)try{Je.stateNode.nodeValue=De?"":Je.memoizedProps}catch(wt){Ir(a,a.return,wt)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===a)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===a)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===a)break e;Qe===Je&&(Qe=null),Je=Je.return}Qe===Je&&(Qe=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:La(u,a),hl(a),w&4&&u_(a);break;case 21:break;default:La(u,a),hl(a)}}function hl(a){var u=a.flags;if(u&2){try{e:{for(var d=a.return;d!==null;){if(o_(d)){var w=d;break e}d=d.return}throw Error(n(160))}switch(w.tag){case 5:var A=w.stateNode;w.flags&32&&(qt(A,""),w.flags&=-33);var k=a_(a);My(a,k,A);break;case 3:case 4:var $=w.stateNode.containerInfo,ae=a_(a);jy(a,ae,$);break;default:throw Error(n(161))}}catch(pe){Ir(a,a.return,pe)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function rI(a,u,d){pt=a,h_(a)}function h_(a,u,d){for(var w=(a.mode&1)!==0;pt!==null;){var A=pt,k=A.child;if(A.tag===22&&w){var $=A.memoizedState!==null||wm;if(!$){var ae=A.alternate,pe=ae!==null&&ae.memoizedState!==null||Zi;ae=wm;var De=Zi;if(wm=$,(Zi=pe)&&!De)for(pt=A;pt!==null;)$=pt,pe=$.child,$.tag===22&&$.memoizedState!==null?p_(A):pe!==null?(pe.return=$,pt=pe):p_(A);for(;k!==null;)pt=k,h_(k),k=k.sibling;pt=A,wm=ae,Zi=De}f_(a)}else(A.subtreeFlags&8772)!==0&&k!==null?(k.return=A,pt=k):f_(a)}}function f_(a){for(;pt!==null;){var u=pt;if((u.flags&8772)!==0){var d=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Zi||_m(5,u);break;case 1:var w=u.stateNode;if(u.flags&4&&!Zi)if(d===null)w.componentDidMount();else{var A=u.elementType===u.type?d.memoizedProps:ka(u.type,d.memoizedProps);w.componentDidUpdate(A,d.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var k=u.updateQueue;k!==null&&eu(u,k,w);break;case 3:var $=u.updateQueue;if($!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=u.child.stateNode;break;case 1:d=u.child.stateNode}eu(u,$,d)}break;case 5:var ae=u.stateNode;if(d===null&&u.flags&4){d=ae;var pe=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&d.focus();break;case"img":pe.src&&(d.src=pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var De=u.alternate;if(De!==null){var Qe=De.memoizedState;if(Qe!==null){var Je=Qe.dehydrated;Je!==null&&ei(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Zi||u.flags&512&&Oy(u)}catch(Ye){Ir(u,u.return,Ye)}}if(u===a){pt=null;break}if(d=u.sibling,d!==null){d.return=u.return,pt=d;break}pt=u.return}}function d_(a){for(;pt!==null;){var u=pt;if(u===a){pt=null;break}var d=u.sibling;if(d!==null){d.return=u.return,pt=d;break}pt=u.return}}function p_(a){for(;pt!==null;){var u=pt;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{_m(4,u)}catch(pe){Ir(u,d,pe)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var A=u.return;try{w.componentDidMount()}catch(pe){Ir(u,A,pe)}}var k=u.return;try{Oy(u)}catch(pe){Ir(u,k,pe)}break;case 5:var $=u.return;try{Oy(u)}catch(pe){Ir(u,$,pe)}}}catch(pe){Ir(u,u.return,pe)}if(u===a){pt=null;break}var ae=u.sibling;if(ae!==null){ae.return=u.return,pt=ae;break}pt=u.return}}var iI=Math.ceil,bm=H.ReactCurrentDispatcher,Fy=H.ReactCurrentOwner,ea=H.ReactCurrentBatchConfig,yn=0,vi=null,Wr=null,Oi=0,Ao=0,_f=_o(0),si=0,Nd=null,uh=0,xm=0,Vy=0,Id=null,Gs=null,By=0,bf=1/0,ru=null,Sm=!1,Uy=null,sc=null,Am=!1,oc=null,Em=0,kd=0,zy=null,Tm=-1,Cm=0;function Es(){return(yn&6)!==0?Nn():Tm!==-1?Tm:Tm=Nn()}function ac(a){return(a.mode&1)===0?1:(yn&2)!==0&&Oi!==0?Oi&-Oi:kn.transition!==null?(Cm===0&&(Cm=Mo()),Cm):(a=Jt,a!==0||(a=window.event,a=a===void 0?16:Ja(a.type)),a)}function Da(a,u,d,w){if(50<kd)throw kd=0,zy=null,Error(n(185));ho(a,d,w),((yn&2)===0||a!==vi)&&(a===vi&&((yn&2)===0&&(xm|=d),si===4&&lc(a,Oi)),Ks(a,w),d===1&&yn===0&&(u.mode&1)===0&&(bf=Nn()+500,sh&&D()))}function Ks(a,u){var d=a.callbackNode;ar(a,u);var w=Xr(a,a===vi?Oi:0);if(w===0)d!==null&&Lo(d),a.callbackNode=null,a.callbackPriority=0;else if(u=w&-w,a.callbackPriority!==u){if(d!=null&&Lo(d),u===1)a.tag===0?T(g_.bind(null,a)):_(g_.bind(null,a)),yy(function(){(yn&6)===0&&D()}),d=null;else{switch(Ls(w)){case 1:d=Rs;break;case 4:d=co;break;case 16:d=qi;break;case 536870912:d=ku;break;default:d=qi}d=A_(d,m_.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function m_(a,u){if(Tm=-1,Cm=0,(yn&6)!==0)throw Error(n(327));var d=a.callbackNode;if(xf()&&a.callbackNode!==d)return null;var w=Xr(a,a===vi?Oi:0);if(w===0)return null;if((w&30)!==0||(w&a.expiredLanes)!==0||u)u=Pm(a,w);else{u=w;var A=yn;yn|=2;var k=v_();(vi!==a||Oi!==u)&&(ru=null,bf=Nn()+500,hh(a,u));do try{aI();break}catch(ae){y_(a,ae)}while(!0);ii(),bm.current=k,yn=A,Wr!==null?u=0:(vi=null,Oi=0,u=si)}if(u!==0){if(u===2&&(A=Jr(a),A!==0&&(w=A,u=qy(a,A))),u===1)throw d=Nd,hh(a,0),lc(a,w),Ks(a,Nn()),d;if(u===6)lc(a,w);else{if(A=a.current.alternate,(w&30)===0&&!sI(A)&&(u=Pm(a,w),u===2&&(k=Jr(a),k!==0&&(w=k,u=qy(a,k))),u===1))throw d=Nd,hh(a,0),lc(a,w),Ks(a,Nn()),d;switch(a.finishedWork=A,a.finishedLanes=w,u){case 0:case 1:throw Error(n(345));case 2:fh(a,Gs,ru);break;case 3:if(lc(a,w),(w&130023424)===w&&(u=By+500-Nn(),10<u)){if(Xr(a,0)!==0)break;if(A=a.suspendedLanes,(A&w)!==w){Es(),a.pingedLanes|=a.suspendedLanes&A;break}a.timeoutHandle=yd(fh.bind(null,a,Gs,ru),u);break}fh(a,Gs,ru);break;case 4:if(lc(a,w),(w&4194240)===w)break;for(u=a.eventTimes,A=-1;0<w;){var $=31-Qr(w);k=1<<$,$=u[$],$>A&&(A=$),w&=~k}if(w=A,w=Nn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*iI(w/1960))-w,10<w){a.timeoutHandle=yd(fh.bind(null,a,Gs,ru),w);break}fh(a,Gs,ru);break;case 5:fh(a,Gs,ru);break;default:throw Error(n(329))}}}return Ks(a,Nn()),a.callbackNode===d?m_.bind(null,a):null}function qy(a,u){var d=Id;return a.current.memoizedState.isDehydrated&&(hh(a,u).flags|=256),a=Pm(a,u),a!==2&&(u=Gs,Gs=d,u!==null&&Hy(u)),a}function Hy(a){Gs===null?Gs=a:Gs.push.apply(Gs,a)}function sI(a){for(var u=a;;){if(u.flags&16384){var d=u.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var w=0;w<d.length;w++){var A=d[w],k=A.getSnapshot;A=A.value;try{if(!gn(k(),A))return!1}catch{return!1}}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function lc(a,u){for(u&=~Vy,u&=~xm,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-Qr(u),w=1<<d;a[d]=-1,u&=~w}}function g_(a){if((yn&6)!==0)throw Error(n(327));xf();var u=Xr(a,0);if((u&1)===0)return Ks(a,Nn()),null;var d=Pm(a,u);if(a.tag!==0&&d===2){var w=Jr(a);w!==0&&(u=w,d=qy(a,w))}if(d===1)throw d=Nd,hh(a,0),lc(a,u),Ks(a,Nn()),d;if(d===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,fh(a,Gs,ru),Ks(a,Nn()),null}function Wy(a,u){var d=yn;yn|=1;try{return a(u)}finally{yn=d,yn===0&&(bf=Nn()+500,sh&&D())}}function ch(a){oc!==null&&oc.tag===0&&(yn&6)===0&&xf();var u=yn;yn|=1;var d=ea.transition,w=Jt;try{if(ea.transition=null,Jt=1,a)return a()}finally{Jt=w,ea.transition=d,yn=u,(yn&6)===0&&D()}}function $y(){Ao=_f.current,Tn(_f)}function hh(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,om(d)),Wr!==null)for(d=Wr.return;d!==null;){var w=d;switch(me(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&af();break;case 3:Xo(),Tn(Yi),Tn(ri),Ad();break;case 5:xd(w);break;case 4:Xo();break;case 13:Tn(qn);break;case 19:Tn(qn);break;case 10:Xi(w.type._context);break;case 22:case 23:$y()}d=d.return}if(vi=a,Wr=a=uc(a.current,null),Oi=Ao=u,si=0,Nd=null,Vy=xm=uh=0,Gs=Id=null,_s!==null){for(u=0;u<_s.length;u++)if(d=_s[u],w=d.interleaved,w!==null){d.interleaved=null;var A=w.next,k=d.pending;if(k!==null){var $=k.next;k.next=A,w.next=$}d.pending=w}_s=null}return a}function y_(a,u){do{var d=Wr;try{if(ii(),uf.current=mm,tc){for(var w=Wn.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}tc=!1}if(Jo=0,vr=Nr=Wn=null,Na=!1,nc=0,Fy.current=null,d===null||d.return===null){si=1,Nd=u,Wr=null;break}e:{var k=a,$=d.return,ae=d,pe=u;if(u=Oi,ae.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var De=pe,Qe=ae,Je=Qe.tag;if((Qe.mode&1)===0&&(Je===0||Je===11||Je===15)){var Ye=Qe.alternate;Ye?(Qe.updateQueue=Ye.updateQueue,Qe.memoizedState=Ye.memoizedState,Qe.lanes=Ye.lanes):(Qe.updateQueue=null,Qe.memoizedState=null)}var ft=zw($);if(ft!==null){ft.flags&=-257,qw(ft,$,ae,k,u),ft.mode&1&&Uw(k,De,u),u=ft,pe=De;var gt=u.updateQueue;if(gt===null){var wt=new Set;wt.add(pe),u.updateQueue=wt}else gt.add(pe);break e}else{if((u&1)===0){Uw(k,De,u),Gy();break e}pe=Error(n(426))}}else if(Ve&&ae.mode&1){var jr=zw($);if(jr!==null){(jr.flags&65536)===0&&(jr.flags|=256),qw(jr,$,ae,k,u),Cn(vf(pe,ae));break e}}k=pe=vf(pe,ae),si!==4&&(si=2),Id===null?Id=[k]:Id.push(k),k=$;do{switch(k.tag){case 3:k.flags|=65536,u&=-u,k.lanes|=u;var ke=Vw(k,pe,u);Ws(k,ke);break e;case 1:ae=pe;var _e=k.type,Le=k.stateNode;if((k.flags&128)===0&&(typeof _e.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&(sc===null||!sc.has(Le)))){k.flags|=65536,u&=-u,k.lanes|=u;var et=Bw(k,ae,u);Ws(k,et);break e}}k=k.return}while(k!==null)}__(d)}catch(_t){u=_t,Wr===d&&d!==null&&(Wr=d=d.return);continue}break}while(!0)}function v_(){var a=bm.current;return bm.current=mm,a===null?mm:a}function Gy(){(si===0||si===3||si===2)&&(si=4),vi===null||(uh&268435455)===0&&(xm&268435455)===0||lc(vi,Oi)}function Pm(a,u){var d=yn;yn|=2;var w=v_();(vi!==a||Oi!==u)&&(ru=null,hh(a,u));do try{oI();break}catch(A){y_(a,A)}while(!0);if(ii(),yn=d,bm.current=w,Wr!==null)throw Error(n(261));return vi=null,Oi=0,si}function oI(){for(;Wr!==null;)w_(Wr)}function aI(){for(;Wr!==null&&!la();)w_(Wr)}function w_(a){var u=S_(a.alternate,a,Ao);a.memoizedProps=a.pendingProps,u===null?__(a):Wr=u,Fy.current=null}function __(a){var u=a;do{var d=u.alternate;if(a=u.return,(u.flags&32768)===0){if(d=ZN(d,u,Ao),d!==null){Wr=d;return}}else{if(d=eI(d,u),d!==null){d.flags&=32767,Wr=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{si=6,Wr=null;return}}if(u=u.sibling,u!==null){Wr=u;return}Wr=u=a}while(u!==null);si===0&&(si=5)}function fh(a,u,d){var w=Jt,A=ea.transition;try{ea.transition=null,Jt=1,lI(a,u,d,w)}finally{ea.transition=A,Jt=w}return null}function lI(a,u,d,w){do xf();while(oc!==null);if((yn&6)!==0)throw Error(n(327));d=a.finishedWork;var A=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var k=d.lanes|d.childLanes;if(Sn(a,k),a===vi&&(Wr=vi=null,Oi=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Am||(Am=!0,A_(qi,function(){return xf(),null})),k=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||k){k=ea.transition,ea.transition=null;var $=Jt;Jt=1;var ae=yn;yn|=4,Fy.current=null,nI(a,d),c_(d,a),Hl(Yl),Bo=!!rh,Yl=rh=null,a.current=d,rI(d),Nu(),yn=ae,Jt=$,ea.transition=k}else a.current=d;if(Am&&(Am=!1,oc=a,Em=A),k=a.pendingLanes,k===0&&(sc=null),ca(d.stateNode),Ks(a,Nn()),u!==null)for(w=a.onRecoverableError,d=0;d<u.length;d++)A=u[d],w(A.value,{componentStack:A.stack,digest:A.digest});if(Sm)throw Sm=!1,a=Uy,Uy=null,a;return(Em&1)!==0&&a.tag!==0&&xf(),k=a.pendingLanes,(k&1)!==0?a===zy?kd++:(kd=0,zy=a):kd=0,D(),null}function xf(){if(oc!==null){var a=Ls(Em),u=ea.transition,d=Jt;try{if(ea.transition=null,Jt=16>a?16:a,oc===null)var w=!1;else{if(a=oc,oc=null,Em=0,(yn&6)!==0)throw Error(n(331));var A=yn;for(yn|=4,pt=a.current;pt!==null;){var k=pt,$=k.child;if((pt.flags&16)!==0){var ae=k.deletions;if(ae!==null){for(var pe=0;pe<ae.length;pe++){var De=ae[pe];for(pt=De;pt!==null;){var Qe=pt;switch(Qe.tag){case 0:case 11:case 15:Pd(8,Qe,k)}var Je=Qe.child;if(Je!==null)Je.return=Qe,pt=Je;else for(;pt!==null;){Qe=pt;var Ye=Qe.sibling,ft=Qe.return;if(s_(Qe),Qe===De){pt=null;break}if(Ye!==null){Ye.return=ft,pt=Ye;break}pt=ft}}}var gt=k.alternate;if(gt!==null){var wt=gt.child;if(wt!==null){gt.child=null;do{var jr=wt.sibling;wt.sibling=null,wt=jr}while(wt!==null)}}pt=k}}if((k.subtreeFlags&2064)!==0&&$!==null)$.return=k,pt=$;else e:for(;pt!==null;){if(k=pt,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Pd(9,k,k.return)}var ke=k.sibling;if(ke!==null){ke.return=k.return,pt=ke;break e}pt=k.return}}var _e=a.current;for(pt=_e;pt!==null;){$=pt;var Le=$.child;if(($.subtreeFlags&2064)!==0&&Le!==null)Le.return=$,pt=Le;else e:for($=_e;pt!==null;){if(ae=pt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:_m(9,ae)}}catch(_t){Ir(ae,ae.return,_t)}if(ae===$){pt=null;break e}var et=ae.sibling;if(et!==null){et.return=ae.return,pt=et;break e}pt=ae.return}}if(yn=A,D(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Do,a)}catch{}w=!0}return w}finally{Jt=d,ea.transition=u}}return!1}function b_(a,u,d){u=vf(d,u),u=Vw(a,u,1),a=Hs(a,u,1),u=Es(),a!==null&&(ho(a,1,u),Ks(a,u))}function Ir(a,u,d){if(a.tag===3)b_(a,a,d);else for(;u!==null;){if(u.tag===3){b_(u,a,d);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(sc===null||!sc.has(w))){a=vf(d,a),a=Bw(u,a,1),u=Hs(u,a,1),a=Es(),u!==null&&(ho(u,1,a),Ks(u,a));break}}u=u.return}}function uI(a,u,d){var w=a.pingCache;w!==null&&w.delete(u),u=Es(),a.pingedLanes|=a.suspendedLanes&d,vi===a&&(Oi&d)===d&&(si===4||si===3&&(Oi&130023424)===Oi&&500>Nn()-By?hh(a,0):Vy|=d),Ks(a,u)}function x_(a,u){u===0&&((a.mode&1)===0?u=1:(u=Oo,Oo<<=1,(Oo&130023424)===0&&(Oo=4194304)));var d=Es();a=bn(a,u),a!==null&&(ho(a,u,d),Ks(a,d))}function cI(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),x_(a,d)}function hI(a,u){var d=0;switch(a.tag){case 13:var w=a.stateNode,A=a.memoizedState;A!==null&&(d=A.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(u),x_(a,d)}var S_;S_=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||Yi.current)$s=!0;else{if((a.lanes&d)===0&&(u.flags&128)===0)return $s=!1,JN(a,u,d);$s=(a.flags&131072)!==0}else $s=!1,Ve&&(u.flags&1048576)!==0&&qe(u,K,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;vm(a,u),a=u.pendingProps;var A=Xu(u,ri.current);Jn(u,d),A=oh(null,u,w,a,A,d);var k=Zo();return u.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Qi(w)?(k=!0,Jl(u)):k=!1,u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,lf(u),A.updater=gm,u.stateNode=A,A._reactInternals=u,Ay(u,w,a,d),u=Py(null,u,w,!0,k,d)):(u.tag=0,Ve&&k&&Oe(u),As(null,u,A,d),u=u.child),u;case 16:w=u.elementType;e:{switch(vm(a,u),a=u.pendingProps,A=w._init,w=A(w._payload),u.type=w,A=u.tag=dI(w),a=ka(w,a),A){case 0:u=Cy(null,u,w,a,d);break e;case 1:u=Yw(null,u,w,a,d);break e;case 11:u=Hw(null,u,w,a,d);break e;case 14:u=Ww(null,u,w,ka(w.type,a),d);break e}throw Error(n(306,w,""))}return u;case 0:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:ka(w,A),Cy(a,u,w,A,d);case 1:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:ka(w,A),Yw(a,u,w,A,d);case 3:e:{if(Qw(u),a===null)throw Error(n(387));w=u.pendingProps,k=u.memoizedState,A=k.element,bd(a,u),Ca(u,w,null,d);var $=u.memoizedState;if(w=$.element,k.isDehydrated)if(k={element:w,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){A=vf(Error(n(423)),u),u=Xw(a,u,w,d,A);break e}else if(w!==A){A=vf(Error(n(424)),u),u=Xw(a,u,w,d,A);break e}else for(Be=Ri(u.stateNode.containerInfo.firstChild),ge=u,Ve=!0,Ue=null,d=_n(u,null,w,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Yt(),w===A){u=nu(a,u,d);break e}As(a,u,w,d)}u=u.child}return u;case 5:return cm(u),a===null&&lt(u),w=u.type,A=u.pendingProps,k=a!==null?a.memoizedProps:null,$=A.children,gd(w,A)?$=null:k!==null&&gd(w,k)&&(u.flags|=32),Kw(a,u),As(a,u,$,d),u.child;case 6:return a===null&&lt(u),null;case 13:return Jw(a,u,d);case 4:return ec(u,u.stateNode.containerInfo),w=u.pendingProps,a===null?u.child=Lr(u,null,w,d):As(a,u,w,d),u.child;case 11:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:ka(w,A),Hw(a,u,w,A,d);case 7:return As(a,u,u.pendingProps,d),u.child;case 8:return As(a,u,u.pendingProps.children,d),u.child;case 12:return As(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(w=u.type._context,A=u.pendingProps,k=u.memoizedProps,$=A.value,In(gi,w._currentValue),w._currentValue=$,k!==null)if(gn(k.value,$)){if(k.children===A.children&&!Yi.current){u=nu(a,u,d);break e}}else for(k=u.child,k!==null&&(k.return=u);k!==null;){var ae=k.dependencies;if(ae!==null){$=k.child;for(var pe=ae.firstContext;pe!==null;){if(pe.context===w){if(k.tag===1){pe=qs(-1,d&-d),pe.tag=2;var De=k.updateQueue;if(De!==null){De=De.shared;var Qe=De.pending;Qe===null?pe.next=pe:(pe.next=Qe.next,Qe.next=pe),De.pending=pe}}k.lanes|=d,pe=k.alternate,pe!==null&&(pe.lanes|=d),zs(k.return,d,u),ae.lanes|=d;break}pe=pe.next}}else if(k.tag===10)$=k.type===u.type?null:k.child;else if(k.tag===18){if($=k.return,$===null)throw Error(n(341));$.lanes|=d,ae=$.alternate,ae!==null&&(ae.lanes|=d),zs($,d,u),$=k.sibling}else $=k.child;if($!==null)$.return=k;else for($=k;$!==null;){if($===u){$=null;break}if(k=$.sibling,k!==null){k.return=$.return,$=k;break}$=$.return}k=$}As(a,u,A.children,d),u=u.child}return u;case 9:return A=u.type,w=u.pendingProps.children,Jn(u,d),A=Pr(A),w=w(A),u.flags|=1,As(a,u,w,d),u.child;case 14:return w=u.type,A=ka(w,u.pendingProps),A=ka(w.type,A),Ww(a,u,w,A,d);case 15:return $w(a,u,u.type,u.pendingProps,d);case 17:return w=u.type,A=u.pendingProps,A=u.elementType===w?A:ka(w,A),vm(a,u),u.tag=1,Qi(w)?(a=!0,Jl(u)):a=!1,Jn(u,d),Mw(u,w,A),Ay(u,w,A,d),Py(null,u,w,!0,a,d);case 19:return e_(a,u,d);case 22:return Gw(a,u,d)}throw Error(n(156,u.tag))};function A_(a,u){return uo(a,u)}function fI(a,u,d,w){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(a,u,d,w){return new fI(a,u,d,w)}function Ky(a){return a=a.prototype,!(!a||!a.isReactComponent)}function dI(a){if(typeof a=="function")return Ky(a)?1:0;if(a!=null){if(a=a.$$typeof,a===I)return 11;if(a===Se)return 14}return 2}function uc(a,u){var d=a.alternate;return d===null?(d=ta(a.tag,u,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Nm(a,u,d,w,A,k){var $=2;if(w=a,typeof a=="function")Ky(a)&&($=1);else if(typeof a=="string")$=5;else e:switch(a){case B:return dh(d.children,A,k,u);case O:$=8,A|=8;break;case U:return a=ta(12,d,u,A|2),a.elementType=U,a.lanes=k,a;case M:return a=ta(13,d,u,A),a.elementType=M,a.lanes=k,a;case ee:return a=ta(19,d,u,A),a.elementType=ee,a.lanes=k,a;case Pe:return Im(d,A,k,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Q:$=10;break e;case L:$=9;break e;case I:$=11;break e;case Se:$=14;break e;case ve:$=16,w=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=ta($,d,u,A),u.elementType=a,u.type=w,u.lanes=k,u}function dh(a,u,d,w){return a=ta(7,a,w,u),a.lanes=d,a}function Im(a,u,d,w){return a=ta(22,a,w,u),a.elementType=Pe,a.lanes=d,a.stateNode={isHidden:!1},a}function Yy(a,u,d){return a=ta(6,a,null,u),a.lanes=d,a}function Qy(a,u,d){return u=ta(4,a.children!==null?a.children:[],a.key,u),u.lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function pI(a,u,d,w,A){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=w,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Xy(a,u,d,w,A,k,$,ae,pe){return a=new pI(a,u,d,ae,pe),u===1?(u=1,k===!0&&(u|=8)):u=0,k=ta(3,null,null,u),a.current=k,k.stateNode=a,k.memoizedState={element:w,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(k),a}function mI(a,u,d){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:w==null?null:""+w,children:a,containerInfo:u,implementation:d}}function E_(a){if(!a)return al;a=a._reactInternals;e:{if(gr(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Qi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var d=a.type;if(Qi(d))return _d(a,d,u)}return u}function T_(a,u,d,w,A,k,$,ae,pe){return a=Xy(d,w,!0,a,A,k,$,ae,pe),a.context=E_(null),d=a.current,w=Es(),A=ac(d),k=qs(w,A),k.callback=u??null,Hs(d,k,A),a.current.lanes=A,ho(a,A,w),Ks(a,w),a}function km(a,u,d,w){var A=u.current,k=Es(),$=ac(A);return d=E_(d),u.context===null?u.context=d:u.pendingContext=d,u=qs(k,$),u.payload={element:a},w=w===void 0?null:w,w!==null&&(u.callback=w),a=Hs(A,u,$),a!==null&&(Da(a,A,$,k),Zl(a,A,$)),$}function Rm(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function C_(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function Jy(a,u){C_(a,u),(a=a.alternate)&&C_(a,u)}function gI(){return null}var P_=typeof reportError=="function"?reportError:function(a){console.error(a)};function Zy(a){this._internalRoot=a}Lm.prototype.render=Zy.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));km(a,u,null,null)},Lm.prototype.unmount=Zy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;ch(function(){km(null,a,null,null)}),u[mi]=null}};function Lm(a){this._internalRoot=a}Lm.prototype.unstable_scheduleHydration=function(a){if(a){var u=Ds();a={blockedOn:null,target:a,priority:u};for(var d=0;d<Os.length&&u!==0&&u<Os[d].priority;d++);Os.splice(d,0,a),d===0&&Xa(a)}};function e1(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Dm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function N_(){}function yI(a,u,d,w,A){if(A){if(typeof w=="function"){var k=w;w=function(){var De=Rm($);k.call(De)}}var $=T_(u,w,a,0,null,!1,!1,"",N_);return a._reactRootContainer=$,a[mi]=$.current,Gl(a.nodeType===8?a.parentNode:a),ch(),$}for(;A=a.lastChild;)a.removeChild(A);if(typeof w=="function"){var ae=w;w=function(){var De=Rm(pe);ae.call(De)}}var pe=Xy(a,0,!1,null,null,!1,!1,"",N_);return a._reactRootContainer=pe,a[mi]=pe.current,Gl(a.nodeType===8?a.parentNode:a),ch(function(){km(u,pe,d,w)}),pe}function Om(a,u,d,w,A){var k=d._reactRootContainer;if(k){var $=k;if(typeof A=="function"){var ae=A;A=function(){var pe=Rm($);ae.call(pe)}}km(u,$,a,A)}else $=yI(d,u,a,A,w);return Rm($)}Ru=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=jo(u.pendingLanes);d!==0&&(fo(u,d|1),Ks(u,Nn()),(yn&6)===0&&(bf=Nn()+500,D()))}break;case 13:ch(function(){var w=bn(a,1);if(w!==null){var A=Es();Da(w,a,1,A)}}),Jy(a,1)}},Ya=function(a){if(a.tag===13){var u=bn(a,134217728);if(u!==null){var d=Es();Da(u,a,134217728,d)}Jy(a,134217728)}},Lu=function(a){if(a.tag===13){var u=ac(a),d=bn(a,u);if(d!==null){var w=Es();Da(d,a,u,w)}Jy(a,u)}},Ds=function(){return Jt},fa=function(a,u){var d=Jt;try{return Jt=a,u()}finally{Jt=d}},Dn=function(a,u,d){switch(u){case"input":if(Dt(a,d),u=d.name,d.type==="radio"&&u!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<d.length;u++){var w=d[u];if(w!==a&&w.form===a.form){var A=ih(w);if(!A)throw Error(n(90));nt(w),Dt(w,A)}}}break;case"textarea":Rt(a,d);break;case"select":u=d.value,u!=null&&rt(a,!!d.multiple,u,!1)}},hs=Wy,mr=ch;var vI={usingClientEntryPoint:!1,Events:[Qu,Ql,ih,At,sn,Wy]},Rd={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wI={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=ao(a),a===null?null:a.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||gI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jm.isDisabled&&jm.supportsFiber)try{Do=jm.inject(wI),Ai=jm}catch{}}return Ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vI,Ys.createPortal=function(a,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e1(u))throw Error(n(200));return mI(a,u,null,d)},Ys.createRoot=function(a,u){if(!e1(a))throw Error(n(299));var d=!1,w="",A=P_;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),u=Xy(a,1,!1,null,null,d,!1,w,A),a[mi]=u.current,Gl(a.nodeType===8?a.parentNode:a),new Zy(u)},Ys.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=ao(u),a=a===null?null:a.stateNode,a},Ys.flushSync=function(a){return ch(a)},Ys.hydrate=function(a,u,d){if(!Dm(u))throw Error(n(200));return Om(null,a,u,!0,d)},Ys.hydrateRoot=function(a,u,d){if(!e1(a))throw Error(n(405));var w=d!=null&&d.hydratedSources||null,A=!1,k="",$=P_;if(d!=null&&(d.unstable_strictMode===!0&&(A=!0),d.identifierPrefix!==void 0&&(k=d.identifierPrefix),d.onRecoverableError!==void 0&&($=d.onRecoverableError)),u=T_(u,null,a,1,d??null,A,!1,k,$),a[mi]=u.current,Gl(a),w)for(a=0;a<w.length;a++)d=w[a],A=d._getVersion,A=A(d._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[d,A]:u.mutableSourceEagerHydrationData.push(d,A);return new Lm(u)},Ys.render=function(a,u,d){if(!Dm(u))throw Error(n(200));return Om(null,a,u,!1,d)},Ys.unmountComponentAtNode=function(a){if(!Dm(a))throw Error(n(40));return a._reactRootContainer?(ch(function(){Om(null,null,a,!1,function(){a._reactRootContainer=null,a[mi]=null})}),!0):!1},Ys.unstable_batchedUpdates=Wy,Ys.unstable_renderSubtreeIntoContainer=function(a,u,d,w){if(!Dm(d))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Om(a,u,d,!1,w)},Ys.version="18.3.1-next-f1338f8080-20240426",Ys}var M_;function GA(){if(M_)return r1.exports;M_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),r1.exports=CI(),r1.exports}var F_;function PI(){if(F_)return Mm;F_=1;var t=GA();return Mm.createRoot=t.createRoot,Mm.hydrateRoot=t.hydrateRoot,Mm}var NI=PI();const II=$h(NI);var F2=GA();const kI=$h(F2);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dp.apply(this,arguments)}var bc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bc||(bc={}));const V_="popstate";function RI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return hv("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Eg(i)}return DI(e,n,null,t)}function br(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LI(){return Math.random().toString(36).substr(2,8)}function B_(t,e){return{usr:t.state,key:t.key,idx:e}}function hv(t,e,n,r){return n===void 0&&(n=null),dp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sd(e):e,{state:n,key:e&&e.key||r||LI()})}function Eg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=bc.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(dp({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=bc.Pop;let C=f(),R=C==null?null:C-h;h=C,c&&c({action:l,location:S.location,delta:R})}function y(C,R){l=bc.Push;let N=hv(S.location,C,R);h=f()+1;let V=B_(N,h),H=S.createHref(N);try{o.pushState(V,"",H)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;i.location.assign(H)}s&&c&&c({action:l,location:S.location,delta:1})}function v(C,R){l=bc.Replace;let N=hv(S.location,C,R);h=f();let V=B_(N,h),H=S.createHref(N);o.replaceState(V,"",H),s&&c&&c({action:l,location:S.location,delta:0})}function E(C){let R=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof C=="string"?C:Eg(C);return N=N.replace(/ $/,"%20"),br(R,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,R)}let S={get action(){return l},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(V_,p),c=C,()=>{i.removeEventListener(V_,p),c=null}},createHref(C){return e(i,C)},createURL:E,encodeLocation(C){let R=E(C);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:y,replace:v,go(C){return o.go(C)}};return S}var U_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(U_||(U_={}));function OI(t,e,n){return n===void 0&&(n="/"),jI(t,e,n)}function jI(t,e,n,r){let i=typeof e=="string"?sd(e):e,s=Qf(i.pathname||"/",n);if(s==null)return null;let o=YA(t);MI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let h=KI(s);l=$I(o[c],h)}return l}function YA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(br(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Ac([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(br(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),YA(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:HI(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of QA(s.path))i(s,o,c)}),e}function QA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=QA(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function MI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FI=/^:[\w-]+$/,VI=3,BI=2,UI=1,zI=10,qI=-2,z_=t=>t==="*";function HI(t,e){let n=t.split("/"),r=n.length;return n.some(z_)&&(r+=qI),e&&(r+=BI),n.filter(i=>!z_(i)).reduce((i,s)=>i+(FI.test(s)?VI:s===""?UI:zI),r)}function WI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $I(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=fv({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),y=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Ac([s,p.pathname]),pathnameBase:JI(Ac([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Ac([s,p.pathnameBase]))}return o}function fv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:y,isOptional:v}=f;if(y==="*"){let S=l[p]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const E=l[p];return v&&!E?h[y]=void 0:h[y]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function GI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),KA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return KA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?sd(t):t;return{pathname:n?n.startsWith("/")?n:QI(n,e):e,search:ZI(r),hash:ek(i)}}function QI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function V2(t,e){let n=XI(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function B2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=sd(t):(i=dp({},t),br(!i.pathname||!i.pathname.includes("?"),o1("?","pathname","search",i)),br(!i.pathname||!i.pathname.includes("#"),o1("#","pathname","hash",i)),br(!i.search||!i.search.includes("#"),o1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}l=p>=0?e[p]:"/"}let c=YI(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Ac=t=>t.join("/").replace(/\/\/+/g,"/"),JI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ek=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XA=["post","put","patch","delete"];new Set(XA);const nk=["get",...XA];new Set(nk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pp.apply(this,arguments)}const p0=Z.createContext(null),JA=Z.createContext(null),Au=Z.createContext(null),m0=Z.createContext(null),Uc=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),ZA=Z.createContext(null);function rk(t,e){let{relative:n}=e===void 0?{}:e;od()||br(!1);let{basename:r,navigator:i}=Z.useContext(Au),{hash:s,pathname:o,search:l}=g0(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ac([r,o])),i.createHref({pathname:c,search:l,hash:s})}function od(){return Z.useContext(m0)!=null}function zc(){return od()||br(!1),Z.useContext(m0).location}function eE(t){Z.useContext(Au).static||Z.useLayoutEffect(t)}function Eu(){let{isDataRoute:t}=Z.useContext(Uc);return t?gk():ik()}function ik(){od()||br(!1);let t=Z.useContext(p0),{basename:e,future:n,navigator:r}=Z.useContext(Au),{matches:i}=Z.useContext(Uc),{pathname:s}=zc(),o=JSON.stringify(V2(i,n.v7_relativeSplatPath)),l=Z.useRef(!1);return eE(()=>{l.current=!0}),Z.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let p=B2(h,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ac([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function g0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Z.useContext(Au),{matches:i}=Z.useContext(Uc),{pathname:s}=zc(),o=JSON.stringify(V2(i,r.v7_relativeSplatPath));return Z.useMemo(()=>B2(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function sk(t,e){return ok(t,e)}function ok(t,e,n,r){od()||br(!1);let{navigator:i}=Z.useContext(Au),{matches:s}=Z.useContext(Uc),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=zc(),f;if(e){var p;let C=typeof e=="string"?sd(e):e;c==="/"||(p=C.pathname)!=null&&p.startsWith(c)||br(!1),f=C}else f=h;let y=f.pathname||"/",v=y;if(c!=="/"){let C=c.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=OI(t,{pathname:v}),S=hk(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Ac([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Ac([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&S?Z.createElement(m0.Provider,{value:{location:pp({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:bc.Pop}},S):S}function ak(){let t=mk(),e=tk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:i},n):null,null)}const lk=Z.createElement(ak,null);class uk extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Z.createElement(Uc.Provider,{value:this.props.routeContext},Z.createElement(ZA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ck(t){let{routeContext:e,match:n,children:r}=t,i=Z.useContext(p0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Z.createElement(Uc.Provider,{value:e},r)}function hk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);f>=0||br(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:v}=n,E=p.route.loader&&y[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,y)=>{let v,E=!1,S=null,C=null;n&&(v=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||lk,c&&(h<0&&y===0?(yk("route-fallback"),E=!0,C=null):h===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let R=e.concat(o.slice(0,y+1)),N=()=>{let V;return v?V=S:E?V=C:p.route.Component?V=Z.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=f,Z.createElement(ck,{match:p,routeContext:{outlet:f,matches:R,isDataRoute:n!=null},children:V})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?Z.createElement(uk,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:N(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):N()},null)}var tE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tE||{}),nE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nE||{});function fk(t){let e=Z.useContext(p0);return e||br(!1),e}function dk(t){let e=Z.useContext(JA);return e||br(!1),e}function pk(t){let e=Z.useContext(Uc);return e||br(!1),e}function rE(t){let e=pk(),n=e.matches[e.matches.length-1];return n.route.id||br(!1),n.route.id}function mk(){var t;let e=Z.useContext(ZA),n=dk(),r=rE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gk(){let{router:t}=fk(tE.UseNavigateStable),e=rE(nE.UseNavigateStable),n=Z.useRef(!1);return eE(()=>{n.current=!0}),Z.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,pp({fromRouteId:e},s)))},[t,e])}const q_={};function yk(t,e,n){q_[t]||(q_[t]=!0)}function vk(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function iE(t){let{to:e,replace:n,state:r,relative:i}=t;od()||br(!1);let{future:s,static:o}=Z.useContext(Au),{matches:l}=Z.useContext(Uc),{pathname:c}=zc(),h=Eu(),f=B2(e,V2(l,s.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(f);return Z.useEffect(()=>h(JSON.parse(p),{replace:n,state:r,relative:i}),[h,p,i,n,r]),null}function Qs(t){br(!1)}function wk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bc.Pop,navigator:s,static:o=!1,future:l}=t;od()&&br(!1);let c=e.replace(/^\/*/,"/"),h=Z.useMemo(()=>({basename:c,navigator:s,static:o,future:pp({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=sd(r));let{pathname:f="/",search:p="",hash:y="",state:v=null,key:E="default"}=r,S=Z.useMemo(()=>{let C=Qf(f,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:v,key:E},navigationType:i}},[c,f,p,y,v,E,i]);return S==null?null:Z.createElement(Au.Provider,{value:h},Z.createElement(m0.Provider,{children:n,value:S}))}function _k(t){let{children:e,location:n}=t;return sk(dv(e),n)}new Promise(()=>{});function dv(t,e){e===void 0&&(e=[]);let n=[];return Z.Children.forEach(t,(r,i)=>{if(!Z.isValidElement(r))return;let s=[...e,i];if(r.type===Z.Fragment){n.push.apply(n,dv(r.props.children,s));return}r.type!==Qs&&br(!1),!r.props.index||!r.props.children||br(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=dv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function sE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xk(t,e){return t.button===0&&(!e||e==="_self")&&!bk(t)}const Sk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ak=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ek="6";try{window.__reactRouterVersion=Ek}catch{}const Tk=Z.createContext({isTransitioning:!1}),Ck="startTransition",H_=$A[Ck];function Pk(t){let{basename:e,children:n,future:r,window:i}=t,s=Z.useRef();s.current==null&&(s.current=RI({window:i,v5Compat:!0}));let o=s.current,[l,c]=Z.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},f=Z.useCallback(p=>{h&&H_?H_(()=>c(p)):c(p)},[c,h]);return Z.useLayoutEffect(()=>o.listen(f),[o,f]),Z.useEffect(()=>vk(r),[r]),Z.createElement(wk,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Nk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mi=Z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:h,preventScrollReset:f,viewTransition:p}=e,y=sE(e,Sk),{basename:v}=Z.useContext(Au),E,S=!1;if(typeof h=="string"&&Ik.test(h)&&(E=h,Nk))try{let V=new URL(window.location.href),H=h.startsWith("//")?new URL(V.protocol+h):new URL(h),ie=Qf(H.pathname,v);H.origin===V.origin&&ie!=null?h=ie+H.search+H.hash:S=!0}catch{}let C=rk(h,{relative:i}),R=Rk(h,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:p});function N(V){r&&r(V),V.defaultPrevented||R(V)}return Z.createElement("a",Tg({},y,{href:E||C,onClick:S||s?r:N,ref:n,target:c}))}),Eo=Z.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:h,children:f}=e,p=sE(e,Ak),y=g0(c,{relative:p.relative}),v=zc(),E=Z.useContext(JA),{navigator:S,basename:C}=Z.useContext(Au),R=E!=null&&Lk(y)&&h===!0,N=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,V=v.pathname,H=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(V=V.toLowerCase(),H=H?H.toLowerCase():null,N=N.toLowerCase()),H&&C&&(H=Qf(H,C)||H);const ie=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let ce=V===N||!o&&V.startsWith(N)&&V.charAt(ie)==="/",B=H!=null&&(H===N||!o&&H.startsWith(N)&&H.charAt(N.length)==="/"),O={isActive:ce,isPending:B,isTransitioning:R},U=ce?r:void 0,Q;typeof s=="function"?Q=s(O):Q=[s,ce?"active":null,B?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(O):l;return Z.createElement(Mi,Tg({},p,{"aria-current":U,className:Q,ref:n,style:L,to:c,viewTransition:h}),typeof f=="function"?f(O):f)});var pv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pv||(pv={}));var W_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(W_||(W_={}));function kk(t){let e=Z.useContext(p0);return e||br(!1),e}function Rk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=Eu(),h=zc(),f=g0(t,{relative:o});return Z.useCallback(p=>{if(xk(p,n)){p.preventDefault();let y=r!==void 0?r:Eg(h)===Eg(f);c(t,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[h,c,f,r,i,n,t,s,o,l])}function Lk(t,e){e===void 0&&(e={});let n=Z.useContext(Tk);n==null&&br(!1);let{basename:r}=kk(pv.useViewTransitionState),i=g0(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Qf(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Qf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fv(i.pathname,o)!=null||fv(i.pathname,s)!=null}const oE=Z.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),y0=Z.createContext({}),v0=Z.createContext(null),w0=typeof document<"u",U2=w0?Z.useLayoutEffect:Z.useEffect,aE=Z.createContext({strict:!1}),z2=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Dk="framerAppearId",lE="data-"+z2(Dk);function Ok(t,e,n,r){const{visualElement:i}=Z.useContext(y0),s=Z.useContext(aE),o=Z.useContext(v0),l=Z.useContext(oE).reducedMotion,c=Z.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=c.current;Z.useInsertionEffect(()=>{h&&h.update(n,o)});const f=Z.useRef(!!(n[lE]&&!window.HandoffComplete));return U2(()=>{h&&(h.render(),f.current&&h.animationState&&h.animationState.animateChanges())}),Z.useEffect(()=>{h&&(h.updateFeatures(),!f.current&&h.animationState&&h.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),h}function Df(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jk(t,e,n){return Z.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Df(n)&&(n.current=r))},[e])}function mp(t){return typeof t=="string"||Array.isArray(t)}function _0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const q2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],H2=["initial",...q2];function b0(t){return _0(t.animate)||H2.some(e=>mp(t[e]))}function uE(t){return!!(b0(t)||t.variants)}function Mk(t,e){if(b0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||mp(n)?n:void 0,animate:mp(r)?r:void 0}}return t.inherit!==!1?e:{}}function Fk(t){const{initial:e,animate:n}=Mk(t,Z.useContext(y0));return Z.useMemo(()=>({initial:e,animate:n}),[$_(e),$_(n)])}function $_(t){return Array.isArray(t)?t.join(" "):t}const G_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gp={};for(const t in G_)gp[t]={isEnabled:e=>G_[t].some(n=>!!e[n])};function Vk(t){for(const e in t)gp[e]={...gp[e],...t[e]}}const W2=Z.createContext({}),cE=Z.createContext({}),Bk=Symbol.for("motionComponentSymbol");function Uk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Vk(t);function s(l,c){let h;const f={...Z.useContext(oE),...l,layoutId:zk(l)},{isStatic:p}=f,y=Fk(l),v=r(l,p);if(!p&&w0){y.visualElement=Ok(i,v,f,e);const E=Z.useContext(cE),S=Z.useContext(aE).strict;y.visualElement&&(h=y.visualElement.loadFeatures(f,S,t,E))}return Z.createElement(y0.Provider,{value:y},h&&y.visualElement?Z.createElement(h,{visualElement:y.visualElement,...f}):null,n(i,l,jk(v,y.visualElement,c),v,p,y.visualElement))}const o=Z.forwardRef(s);return o[Bk]=i,o}function zk({layoutId:t}){const e=Z.useContext(W2).id;return e&&t!==void 0?e+"-"+t:t}function qk(t){function e(r,i={}){return Uk(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Hk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $2(t){return typeof t!="string"||t.includes("-")?!1:!!(Hk.indexOf(t)>-1||/[A-Z]/.test(t))}const Cg={};function Wk(t){Object.assign(Cg,t)}const Dp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gh=new Set(Dp);function hE(t,{layout:e,layoutId:n}){return Gh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Cg[t]||t==="opacity")}const io=t=>!!(t&&t.getVelocity),$k={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Gk=Dp.length;function Kk(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Gk;o++){const l=Dp[o];if(t[l]!==void 0){const c=$k[l]||l;s+=`${c}(${t[l]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const fE=t=>e=>typeof e=="string"&&e.startsWith(t),dE=fE("--"),mv=fE("var(--"),Yk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Qk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ic=(t,e,n)=>Math.min(Math.max(n,t),e),Kh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zd={...Kh,transform:t=>Ic(0,1,t)},Fm={...Kh,default:1},ep=t=>Math.round(t*1e5)/1e5,x0=/(-)?([\d]*\.?[\d])+/g,pE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Xk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Op(t){return typeof t=="string"}const jp=t=>({test:e=>Op(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mc=jp("deg"),wl=jp("%"),Ot=jp("px"),Jk=jp("vh"),Zk=jp("vw"),K_={...wl,parse:t=>wl.parse(t)/100,transform:t=>wl.transform(t*100)},Y_={...Kh,transform:Math.round},mE={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,size:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,rotate:mc,rotateX:mc,rotateY:mc,rotateZ:mc,scale:Fm,scaleX:Fm,scaleY:Fm,scaleZ:Fm,skew:mc,skewX:mc,skewY:mc,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:Zd,originX:K_,originY:K_,originZ:Ot,zIndex:Y_,fillOpacity:Zd,strokeOpacity:Zd,numOctaves:Y_};function G2(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:l}=t;let c=!1,h=!1,f=!0;for(const p in e){const y=e[p];if(dE(p)){s[p]=y;continue}const v=mE[p],E=Qk(y,v);if(Gh.has(p)){if(c=!0,o[p]=E,!f)continue;y!==(v.default||0)&&(f=!1)}else p.startsWith("origin")?(h=!0,l[p]=E):i[p]=E}if(e.transform||(c||r?i.transform=Kk(t.transform,n,f,r):i.transform&&(i.transform="none")),h){const{originX:p="50%",originY:y="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${y} ${v}`}}const K2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gE(t,e,n){for(const r in e)!io(e[r])&&!hE(r,n)&&(t[r]=e[r])}function eR({transformTemplate:t},e,n){return Z.useMemo(()=>{const r=K2();return G2(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function tR(t,e,n){const r=t.style||{},i={};return gE(i,r,t),Object.assign(i,eR(t,e,n)),t.transformValues?t.transformValues(i):i}function nR(t,e,n){const r={},i=tR(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const rR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rR.has(t)}let yE=t=>!Pg(t);function iR(t){t&&(yE=e=>e.startsWith("on")?!Pg(e):t(e))}try{iR(require("@emotion/is-prop-valid").default)}catch{}function sR(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(yE(i)||n===!0&&Pg(i)||!e&&!Pg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Q_(t,e,n){return typeof t=="string"?t:Ot.transform(e+n*t)}function oR(t,e,n){const r=Q_(e,t.x,t.width),i=Q_(n,t.y,t.height);return`${r} ${i}`}const aR={offset:"stroke-dashoffset",array:"stroke-dasharray"},lR={offset:"strokeDashoffset",array:"strokeDasharray"};function uR(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?aR:lR;t[s.offset]=Ot.transform(-r);const o=Ot.transform(e),l=Ot.transform(n);t[s.array]=`${o} ${l}`}function Y2(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...h},f,p,y){if(G2(t,h,f,y),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E,dimensions:S}=t;v.transform&&(S&&(E.transform=v.transform),delete v.transform),S&&(i!==void 0||s!==void 0||E.transform)&&(E.transformOrigin=oR(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),o!==void 0&&uR(v,o,l,c,!1)}const vE=()=>({...K2(),attrs:{}}),Q2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cR(t,e,n,r){const i=Z.useMemo(()=>{const s=vE();return Y2(s,e,{enableHardwareAcceleration:!1},Q2(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};gE(s,t.style,t),i.style={...s,...i.style}}return i}function hR(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=($2(n)?cR:nR)(r,s,o,n),f={...sR(r,typeof n=="string",t),...c,ref:i},{children:p}=r,y=Z.useMemo(()=>io(p)?p.get():p,[p]);return Z.createElement(n,{...f,children:y})}}function wE(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const _E=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bE(t,e,n,r){wE(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_E.has(i)?i:z2(i),e.attrs[i])}function X2(t,e){const{style:n}=t,r={};for(const i in n)(io(n[i])||e.style&&io(e.style[i])||hE(i,t))&&(r[i]=n[i]);return r}function xE(t,e){const n=X2(t,e);for(const r in t)if(io(t[r])||io(e[r])){const i=Dp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function J2(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function SE(t){const e=Z.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ng=t=>Array.isArray(t),fR=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),dR=t=>Ng(t)?t[t.length-1]||0:t;function og(t){const e=io(t)?t.get():t;return fR(e)?e.toValue():e}function pR({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:mR(r,i,s,t),renderState:e()};return n&&(o.mount=l=>n(r,l,o)),o}const AE=t=>(e,n)=>{const r=Z.useContext(y0),i=Z.useContext(v0),s=()=>pR(t,e,r,i);return n?s():SE(s)};function mR(t,e,n,r){const i={},s=r(t,{});for(const y in s)i[y]=og(s[y]);let{initial:o,animate:l}=t;const c=b0(t),h=uE(t);e&&h&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const p=f?l:o;return p&&typeof p!="boolean"&&!_0(p)&&(Array.isArray(p)?p:[p]).forEach(v=>{const E=J2(t,v);if(!E)return;const{transitionEnd:S,transition:C,...R}=E;for(const N in R){let V=R[N];if(Array.isArray(V)){const H=f?V.length-1:0;V=V[H]}V!==null&&(i[N]=V)}for(const N in S)i[N]=S[N]}),i}const Ur=t=>t;class X_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function gR(t){let e=new X_,n=new X_,r=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(c,h=!1,f=!1)=>{const p=f&&i,y=p?e:n;return h&&o.add(c),y.add(c)&&p&&i&&(r=e.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let h=0;h<r;h++){const f=e.order[h];f(c),o.has(f)&&(l.schedule(f),t())}i=!1,s&&(s=!1,l.process(c))}};return l}const Vm=["prepare","read","update","preRender","render","postRender"],yR=40;function vR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Vm.reduce((p,y)=>(p[y]=gR(()=>n=!0),p),{}),o=p=>s[p].process(i),l=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,yR),1),i.timestamp=p,i.isProcessing=!0,Vm.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,i.isProcessing||t(l)};return{schedule:Vm.reduce((p,y)=>{const v=s[y];return p[y]=(E,S=!1,C=!1)=>(n||c(),v.schedule(E,S,C)),p},{}),cancel:p=>Vm.forEach(y=>s[y].cancel(p)),state:i,steps:s}}const{schedule:Gn,cancel:gu,state:ss,steps:a1}=vR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ur,!0),wR={useVisualState:AE({scrapeMotionValuesFromProps:xE,createRenderState:vE,onMount:(t,e,{renderState:n,latestValues:r})=>{Gn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Gn.render(()=>{Y2(n,r,{enableHardwareAcceleration:!1},Q2(e.tagName),t.transformTemplate),bE(e,n)})}})},_R={useVisualState:AE({scrapeMotionValuesFromProps:X2,createRenderState:K2})};function bR(t,{forwardMotionProps:e=!1},n,r){return{...$2(t)?wR:_R,preloadedFeatures:n,useRender:hR(e),createVisualElement:r,Component:t}}function au(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const EE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function S0(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const xR=t=>e=>EE(e)&&t(e,S0(e));function hu(t,e,n,r){return au(t,e,xR(n),r)}const SR=(t,e)=>n=>e(t(n)),Ec=(...t)=>t.reduce(SR);function TE(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const J_=TE("dragHorizontal"),Z_=TE("dragVertical");function CE(t){let e=!1;if(t==="y")e=Z_();else if(t==="x")e=J_();else{const n=J_(),r=Z_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function PE(){const t=CE(!0);return t?(t(),!1):!0}class qc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function eb(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||PE())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Gn.update(()=>l[r](s,o))};return hu(t.current,n,i,{passive:!t.getProps()[r]})}class AR extends qc{mount(){this.unmount=Ec(eb(this.node,!0),eb(this.node,!1))}unmount(){}}class ER extends qc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ec(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const NE=(t,e)=>e?t===e?!0:NE(t,e.parentElement):!1;function l1(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,S0(n))}class TR extends qc{constructor(){super(...arguments),this.removeStartListeners=Ur,this.removeEndListeners=Ur,this.removeAccessibleListeners=Ur,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=hu(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:h,onTapCancel:f,globalTapTarget:p}=this.node.getProps();Gn.update(()=>{!p&&!NE(this.node.current,l.target)?f&&f(l,c):h&&h(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=hu(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ec(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||l1("up",(c,h)=>{const{onTap:f}=this.node.getProps();f&&Gn.update(()=>f(c,h))})};this.removeEndListeners(),this.removeEndListeners=au(this.node.current,"keyup",o),l1("down",(l,c)=>{this.startPress(l,c)})},n=au(this.node.current,"keydown",e),r=()=>{this.isPressing&&l1("cancel",(s,o)=>this.cancelPress(s,o))},i=au(this.node.current,"blur",r);this.removeAccessibleListeners=Ec(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Gn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!PE()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Gn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=hu(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=au(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ec(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gv=new WeakMap,u1=new WeakMap,CR=t=>{const e=gv.get(t.target);e&&e(t)},PR=t=>{t.forEach(CR)};function NR({root:t,...e}){const n=t||document;u1.has(n)||u1.set(n,{});const r=u1.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(PR,{root:t,...e})),r[i]}function IR(t,e,n){const r=NR(e);return gv.set(t,n),r.observe(t),()=>{gv.delete(t),r.unobserve(t)}}const kR={some:0,all:1};class RR extends qc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:kR[i]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),y=h?f:p;y&&y(c)};return IR(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(LR(e,n))&&this.startObserver()}unmount(){}}function LR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const DR={inView:{Feature:RR},tap:{Feature:TR},focus:{Feature:ER},hover:{Feature:AR}};function IE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function OR(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function jR(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function A0(t,e,n){const r=t.getProps();return J2(r,e,n!==void 0?n:r.custom,OR(t),jR(t))}let Z2=Ur;const Nh=t=>t*1e3,fu=t=>t/1e3,MR={current:!1},kE=t=>Array.isArray(t)&&typeof t[0]=="number";function RE(t){return!!(!t||typeof t=="string"&&LE[t]||kE(t)||Array.isArray(t)&&t.every(RE))}const $d=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,LE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$d([0,.65,.55,1]),circOut:$d([.55,0,1,.45]),backIn:$d([.31,.01,.66,-.59]),backOut:$d([.33,1.53,.69,.99])};function DE(t){if(t)return kE(t)?$d(t):Array.isArray(t)?t.map(DE):LE[t]}function FR(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:l,times:c}={}){const h={[e]:n};c&&(h.offset=c);const f=DE(l);return Array.isArray(f)&&(h.easing=f),t.animate(h,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function VR(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const OE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BR=1e-7,UR=12;function zR(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=OE(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>BR&&++l<UR);return o}function Mp(t,e,n,r){if(t===e&&n===r)return Ur;const i=s=>zR(s,0,1,t,n);return s=>s===0||s===1?s:OE(i(s),e,r)}const qR=Mp(.42,0,1,1),HR=Mp(0,0,.58,1),jE=Mp(.42,0,.58,1),WR=t=>Array.isArray(t)&&typeof t[0]!="number",ME=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FE=t=>e=>1-t(1-e),e5=t=>1-Math.sin(Math.acos(t)),VE=FE(e5),$R=ME(e5),BE=Mp(.33,1.53,.69,.99),t5=FE(BE),GR=ME(t5),KR=t=>(t*=2)<1?.5*t5(t):.5*(2-Math.pow(2,-10*(t-1))),YR={linear:Ur,easeIn:qR,easeInOut:jE,easeOut:HR,circIn:e5,circInOut:$R,circOut:VE,backIn:t5,backInOut:GR,backOut:BE,anticipate:KR},tb=t=>{if(Array.isArray(t)){Z2(t.length===4);const[e,n,r,i]=t;return Mp(e,n,r,i)}else if(typeof t=="string")return YR[t];return t},n5=(t,e)=>n=>!!(Op(n)&&Xk.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),UE=(t,e,n)=>r=>{if(!Op(r))return r;const[i,s,o,l]=r.match(x0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},QR=t=>Ic(0,255,t),c1={...Kh,transform:t=>Math.round(QR(t))},Ah={test:n5("rgb","red"),parse:UE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+c1.transform(t)+", "+c1.transform(e)+", "+c1.transform(n)+", "+ep(Zd.transform(r))+")"};function XR(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yv={test:n5("#"),parse:XR,transform:Ah.transform},Of={test:n5("hsl","hue"),parse:UE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+wl.transform(ep(e))+", "+wl.transform(ep(n))+", "+ep(Zd.transform(r))+")"},Cs={test:t=>Ah.test(t)||yv.test(t)||Of.test(t),parse:t=>Ah.test(t)?Ah.parse(t):Of.test(t)?Of.parse(t):yv.parse(t),transform:t=>Op(t)?t:t.hasOwnProperty("red")?Ah.transform(t):Of.transform(t)},wr=(t,e,n)=>-n*t+n*e+t;function h1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JR({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=h1(c,l,t+1/3),s=h1(c,l,t),o=h1(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const f1=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},ZR=[yv,Ah,Of],e6=t=>ZR.find(e=>e.test(t));function nb(t){const e=e6(t);let n=e.parse(t);return e===Of&&(n=JR(n)),n}const zE=(t,e)=>{const n=nb(t),r=nb(e),i={...n};return s=>(i.red=f1(n.red,r.red,s),i.green=f1(n.green,r.green,s),i.blue=f1(n.blue,r.blue,s),i.alpha=wr(n.alpha,r.alpha,s),Ah.transform(i))};function t6(t){var e,n;return isNaN(t)&&Op(t)&&(((e=t.match(x0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(pE))===null||n===void 0?void 0:n.length)||0)>0}const qE={regex:Yk,countKey:"Vars",token:"${v}",parse:Ur},HE={regex:pE,countKey:"Colors",token:"${c}",parse:Cs.parse},WE={regex:x0,countKey:"Numbers",token:"${n}",parse:Kh.parse};function d1(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Ig(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&d1(n,qE),d1(n,HE),d1(n,WE),n}function $E(t){return Ig(t).values}function GE(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Ig(t),s=e.length;return o=>{let l=i;for(let c=0;c<s;c++)c<r?l=l.replace(qE.token,o[c]):c<r+n?l=l.replace(HE.token,Cs.transform(o[c])):l=l.replace(WE.token,ep(o[c]));return l}}const n6=t=>typeof t=="number"?0:t;function r6(t){const e=$E(t);return GE(t)(e.map(n6))}const kc={test:t6,parse:$E,createTransformer:GE,getAnimatableNone:r6},KE=(t,e)=>n=>`${n>0?e:t}`;function YE(t,e){return typeof t=="number"?n=>wr(t,e,n):Cs.test(t)?zE(t,e):t.startsWith("var(")?KE(t,e):XE(t,e)}const QE=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>YE(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},i6=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=YE(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},XE=(t,e)=>{const n=kc.createTransformer(e),r=Ig(t),i=Ig(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Ec(QE(r.values,i.values),n):KE(t,e)},yp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},rb=(t,e)=>n=>wr(t,e,n);function s6(t){return typeof t=="number"?rb:typeof t=="string"?Cs.test(t)?zE:XE:Array.isArray(t)?QE:typeof t=="object"?i6:rb}function o6(t,e,n){const r=[],i=n||s6(t[0]),s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ur:e;l=Ec(c,l)}r.push(l)}return r}function JE(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Z2(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=o6(e,r,i),l=o.length,c=h=>{let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=yp(t[f],t[f+1],h);return o[f](p)};return n?h=>c(Ic(t[0],t[s-1],h)):c}function a6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yp(0,e,r);t.push(wr(n,1,i))}}function l6(t){const e=[0];return a6(e,t.length-1),e}function u6(t,e){return t.map(n=>n*e)}function c6(t,e){return t.map(()=>e||jE).splice(0,t.length-1)}function kg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=WR(r)?r.map(tb):tb(r),s={done:!1,value:e[0]},o=u6(n&&n.length===e.length?n:l6(e),t),l=JE(o,e,{ease:Array.isArray(i)?i:c6(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}function ZE(t,e){return e?t*(1e3/e):0}const h6=5;function eT(t,e,n){const r=Math.max(e-h6,0);return ZE(n-t(r),e-r)}const p1=.001,f6=.01,d6=10,p6=.05,m6=1;function g6({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Ic(p6,m6,o),t=Ic(f6,d6,fu(t)),o<1?(i=h=>{const f=h*o,p=f*t,y=f-n,v=vv(h,o),E=Math.exp(-p);return p1-y/v*E},s=h=>{const p=h*o*t,y=p*n+n,v=Math.pow(o,2)*Math.pow(h,2)*t,E=Math.exp(-p),S=vv(Math.pow(h,2),o);return(-i(h)+p1>0?-1:1)*((y-v)*E)/S}):(i=h=>{const f=Math.exp(-h*t),p=(h-n)*t+1;return-p1+f*p},s=h=>{const f=Math.exp(-h*t),p=(n-h)*(t*t);return f*p});const l=5/t,c=v6(i,s,l);if(t=Nh(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const h=Math.pow(c,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:t}}}const y6=12;function v6(t,e,n){let r=n;for(let i=1;i<y6;i++)r=r-t(r)/e(r);return r}function vv(t,e){return t*Math.sqrt(1-e*e)}const w6=["duration","bounce"],_6=["stiffness","damping","mass"];function ib(t,e){return e.some(n=>t[n]!==void 0)}function b6(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ib(t,_6)&&ib(t,w6)){const n=g6(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function tT({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:h,duration:f,velocity:p,isResolvedFromDuration:y}=b6({...r,velocity:-fu(r.velocity||0)}),v=p||0,E=c/(2*Math.sqrt(l*h)),S=s-i,C=fu(Math.sqrt(l/h)),R=Math.abs(S)<5;n||(n=R?.01:2),e||(e=R?.005:.5);let N;if(E<1){const V=vv(C,E);N=H=>{const ie=Math.exp(-E*C*H);return s-ie*((v+E*C*S)/V*Math.sin(V*H)+S*Math.cos(V*H))}}else if(E===1)N=V=>s-Math.exp(-C*V)*(S+(v+C*S)*V);else{const V=C*Math.sqrt(E*E-1);N=H=>{const ie=Math.exp(-E*C*H),ce=Math.min(V*H,300);return s-ie*((v+E*C*S)*Math.sinh(ce)+V*S*Math.cosh(ce))/V}}return{calculatedDuration:y&&f||null,next:V=>{const H=N(V);if(y)o.done=V>=f;else{let ie=v;V!==0&&(E<1?ie=eT(N,V,H):ie=0);const ce=Math.abs(ie)<=n,B=Math.abs(s-H)<=e;o.done=ce&&B}return o.value=o.done?s:H,o}}}function sb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:h=.5,restSpeed:f}){const p=t[0],y={done:!1,value:p},v=O=>l!==void 0&&O<l||c!==void 0&&O>c,E=O=>l===void 0?c:c===void 0||Math.abs(l-O)<Math.abs(c-O)?l:c;let S=n*e;const C=p+S,R=o===void 0?C:o(C);R!==C&&(S=R-p);const N=O=>-S*Math.exp(-O/r),V=O=>R+N(O),H=O=>{const U=N(O),Q=V(O);y.done=Math.abs(U)<=h,y.value=y.done?R:Q};let ie,ce;const B=O=>{v(y.value)&&(ie=O,ce=tT({keyframes:[y.value,E(y.value)],velocity:eT(V,O,y.value),damping:i,stiffness:s,restDelta:h,restSpeed:f}))};return B(0),{calculatedDuration:null,next:O=>{let U=!1;return!ce&&ie===void 0&&(U=!0,H(O),B(O)),ie!==void 0&&O>ie?ce.next(O-ie):(!U&&H(O),y)}}}const x6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Gn.update(e,!0),stop:()=>gu(e),now:()=>ss.isProcessing?ss.timestamp:performance.now()}},ob=2e4;function ab(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ob;)e+=n,r=t.next(e);return e>=ob?1/0:e}const S6={decay:sb,inertia:sb,tween:kg,keyframes:kg,spring:tT};function Rg({autoplay:t=!0,delay:e=0,driver:n=x6,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:h,onComplete:f,onUpdate:p,...y}){let v=1,E=!1,S,C;const R=()=>{C=new Promise(re=>{S=re})};R();let N;const V=S6[i]||kg;let H;V!==kg&&typeof r[0]!="number"&&(H=JE([0,100],r,{clamp:!1}),r=[0,100]);const ie=V({...y,keyframes:r});let ce;l==="mirror"&&(ce=V({...y,keyframes:[...r].reverse(),velocity:-(y.velocity||0)}));let B="idle",O=null,U=null,Q=null;ie.calculatedDuration===null&&s&&(ie.calculatedDuration=ab(ie));const{calculatedDuration:L}=ie;let I=1/0,M=1/0;L!==null&&(I=L+o,M=I*(s+1)-o);let ee=0;const Se=re=>{if(U===null)return;v>0&&(U=Math.min(U,re)),v<0&&(U=Math.min(re-M/v,U)),O!==null?ee=O:ee=Math.round(re-U)*v;const F=ee-e*(v>=0?1:-1),X=v>=0?F<0:F>M;ee=Math.max(F,0),B==="finished"&&O===null&&(ee=M);let ne=ee,le=ie;if(s){const Ce=Math.min(ee,M)/I;let He=Math.floor(Ce),$e=Ce%1;!$e&&Ce>=1&&($e=1),$e===1&&He--,He=Math.min(He,s+1),!!(He%2)&&(l==="reverse"?($e=1-$e,o&&($e-=o/I)):l==="mirror"&&(le=ce)),ne=Ic(0,1,$e)*I}const he=X?{done:!1,value:r[0]}:le.next(ne);H&&(he.value=H(he.value));let{done:Ae}=he;!X&&L!==null&&(Ae=v>=0?ee>=M:ee<=0);const Te=O===null&&(B==="finished"||B==="running"&&Ae);return p&&p(he.value),Te&&oe(),he},ve=()=>{N&&N.stop(),N=void 0},Pe=()=>{B="idle",ve(),S(),R(),U=Q=null},oe=()=>{B="finished",f&&f(),ve(),S()},we=()=>{if(E)return;N||(N=n(Se));const re=N.now();c&&c(),O!==null?U=re-O:(!U||B==="finished")&&(U=re),B==="finished"&&R(),Q=U,O=null,B="running",N.start()};t&&we();const ye={then(re,F){return C.then(re,F)},get time(){return fu(ee)},set time(re){re=Nh(re),ee=re,O!==null||!N||v===0?O=re:U=N.now()-re/v},get duration(){const re=ie.calculatedDuration===null?ab(ie):ie.calculatedDuration;return fu(re)},get speed(){return v},set speed(re){re===v||!N||(v=re,ye.time=fu(ee))},get state(){return B},play:we,pause:()=>{B="paused",O=ee},stop:()=>{E=!0,B!=="idle"&&(B="idle",h&&h(),Pe())},cancel:()=>{Q!==null&&Se(Q),Pe()},complete:()=>{B="finished"},sample:re=>(U=0,Se(re))};return ye}function A6(t){let e;return()=>(e===void 0&&(e=t()),e)}const E6=A6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),T6=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Bm=10,C6=2e4,P6=(t,e)=>e.type==="spring"||t==="backgroundColor"||!RE(e.ease);function N6(t,e,{onUpdate:n,onComplete:r,...i}){if(!(E6()&&T6.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,h=!1;const f=()=>{c=new Promise(V=>{l=V})};f();let{keyframes:p,duration:y=300,ease:v,times:E}=i;if(P6(e,i)){const V=Rg({...i,repeat:0,delay:0});let H={done:!1,value:p[0]};const ie=[];let ce=0;for(;!H.done&&ce<C6;)H=V.sample(ce),ie.push(H.value),ce+=Bm;E=void 0,p=ie,y=ce-Bm,v="linear"}const S=FR(t.owner.current,e,p,{...i,duration:y,ease:v,times:E}),C=()=>{h=!1,S.cancel()},R=()=>{h=!0,Gn.update(C),l(),f()};return S.onfinish=()=>{h||(t.set(VR(p,i)),r&&r(),R())},{then(V,H){return c.then(V,H)},attachTimeline(V){return S.timeline=V,S.onfinish=null,Ur},get time(){return fu(S.currentTime||0)},set time(V){S.currentTime=Nh(V)},get speed(){return S.playbackRate},set speed(V){S.playbackRate=V},get duration(){return fu(y)},play:()=>{o||(S.play(),gu(C))},pause:()=>S.pause(),stop:()=>{if(o=!0,S.playState==="idle")return;const{currentTime:V}=S;if(V){const H=Rg({...i,autoplay:!1});t.setWithVelocity(H.sample(V-Bm).value,H.sample(V).value,Bm)}R()},complete:()=>{h||S.finish()},cancel:R}}function I6({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ur,pause:Ur,stop:Ur,then:s=>(s(),Promise.resolve()),cancel:Ur,complete:Ur});return e?Rg({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const k6={type:"spring",stiffness:500,damping:25,restSpeed:10},R6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),L6={type:"keyframes",duration:.8},D6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O6=(t,{keyframes:e})=>e.length>2?L6:Gh.has(t)?t.startsWith("scale")?R6(e[1]):k6:D6,wv=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(kc.test(e)||e==="0")&&!e.startsWith("url(")),j6=new Set(["brightness","contrast","saturate","opacity"]);function M6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(x0)||[];if(!r)return t;const i=n.replace(r,"");let s=j6.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const F6=/([a-z-]*)\(.*?\)/g,_v={...kc,getAnimatableNone:t=>{const e=t.match(F6);return e?e.map(M6).join(" "):t}},V6={...mE,color:Cs,backgroundColor:Cs,outlineColor:Cs,fill:Cs,stroke:Cs,borderColor:Cs,borderTopColor:Cs,borderRightColor:Cs,borderBottomColor:Cs,borderLeftColor:Cs,filter:_v,WebkitFilter:_v},r5=t=>V6[t];function nT(t,e){let n=r5(t);return n!==_v&&(n=kc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rT=t=>/^0[^.\s]+$/.test(t);function B6(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||rT(t)}function U6(t,e,n,r){const i=wv(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let l;const c=[];for(let h=0;h<s.length;h++)s[h]===null&&(s[h]=h===0?o:s[h-1]),B6(s[h])&&c.push(h),typeof s[h]=="string"&&s[h]!=="none"&&s[h]!=="0"&&(l=s[h]);if(i&&c.length&&l)for(let h=0;h<c.length;h++){const f=c[h];s[f]=nT(e,l)}return s}function z6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:h,...f}){return!!Object.keys(f).length}function i5(t,e){return t[e]||t.default||t}const q6={skipAnimations:!1},s5=(t,e,n,r={})=>i=>{const s=i5(r,t)||{},o=s.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Nh(o);const c=U6(e,t,n,s),h=c[0],f=c[c.length-1],p=wv(t,h),y=wv(t,f);let v={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:E=>{e.set(E),s.onUpdate&&s.onUpdate(E)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(z6(s)||(v={...v,...O6(t,v)}),v.duration&&(v.duration=Nh(v.duration)),v.repeatDelay&&(v.repeatDelay=Nh(v.repeatDelay)),!p||!y||MR.current||s.type===!1||q6.skipAnimations)return I6(v);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const E=N6(e,t,v);if(E)return E}return Rg(v)};function Lg(t){return!!(io(t)&&t.add)}const iT=t=>/^\-?\d*\.?\d+$/.test(t);function o5(t,e){t.indexOf(e)===-1&&t.push(e)}function a5(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class l5{constructor(){this.subscriptions=[]}add(e){return o5(this.subscriptions,e),()=>a5(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const H6=t=>!isNaN(parseFloat(t));class W6{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ss;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Gn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Gn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=H6(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new l5);const r=this.events[e].add(n);return e==="change"?()=>{r(),Gn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ZE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xf(t,e){return new W6(t,e)}const sT=t=>e=>e.test(t),$6={test:t=>t==="auto",parse:t=>t},oT=[Kh,Ot,wl,mc,Zk,Jk,$6],Dd=t=>oT.find(sT(t)),G6=[...oT,Cs,kc],K6=t=>G6.find(sT(t));function Y6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xf(n))}function Q6(t,e){const n=A0(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const l=dR(s[o]);Y6(t,o,l)}}function X6(t,e,n){var r,i;const s=Object.keys(e).filter(l=>!t.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const c=s[l],h=e[c];let f=null;Array.isArray(h)&&(f=h[0]),f===null&&(f=(i=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&i!==void 0?i:e[c]),f!=null&&(typeof f=="string"&&(iT(f)||rT(f))?f=parseFloat(f):!K6(f)&&kc.test(h)&&(f=nT(c,h)),t.addValue(c,Xf(f,{owner:t})),n[c]===void 0&&(n[c]=f),f!==null&&t.setBaseTarget(c,f))}}function J6(t,e){return e?(e[t]||e.default||e).from:void 0}function Z6(t,e,n){const r={};for(const i in t){const s=J6(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function eL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function tL(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function aT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(s=r);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const y=t.getValue(p),v=l[p];if(!y||v===void 0||f&&eL(f,p))continue;const E={delay:n,elapsed:0,...i5(s||{},p)};if(window.HandoffAppearAnimations){const R=t.getProps()[lE];if(R){const N=window.HandoffAppearAnimations(R,p,y,Gn);N!==null&&(E.elapsed=N,E.isHandoff=!0)}}let S=!E.isHandoff&&!tL(y,v);if(E.type==="spring"&&(y.getVelocity()||E.velocity)&&(S=!1),y.animation&&(S=!1),S)continue;y.start(s5(p,y,v,t.shouldReduceMotion&&Gh.has(p)?{type:!1}:E));const C=y.animation;Lg(c)&&(c.add(p),C.then(()=>c.remove(p))),h.push(C)}return o&&Promise.all(h).then(()=>{o&&Q6(t,o)}),h}function bv(t,e,n={}){const r=A0(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(aT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return nL(t,e,h+c,f,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,h]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function nL(t,e,n=0,r=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*r,c=i===1?(h=0)=>h*r:(h=0)=>l-h*r;return Array.from(t.variantChildren).sort(rL).forEach((h,f)=>{h.notify("AnimationStart",e),o.push(bv(h,e,{...s,delay:n+c(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function rL(t,e){return t.sortNodePosition(e)}function iL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>bv(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=bv(t,e,n);else{const i=typeof e=="function"?A0(t,e,n.custom):e;r=Promise.all(aT(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const sL=[...q2].reverse(),oL=q2.length;function aL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>iL(t,n,r)))}function lL(t){let e=aL(t);const n=cL();let r=!0;const i=(c,h)=>{const f=A0(t,h);if(f){const{transition:p,transitionEnd:y,...v}=f;c={...c,...v,...y}}return c};function s(c){e=c(t)}function o(c,h){const f=t.getProps(),p=t.getVariantContext(!0)||{},y=[],v=new Set;let E={},S=1/0;for(let R=0;R<oL;R++){const N=sL[R],V=n[N],H=f[N]!==void 0?f[N]:p[N],ie=mp(H),ce=N===h?V.isActive:null;ce===!1&&(S=R);let B=H===p[N]&&H!==f[N]&&ie;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),V.protectedKeys={...E},!V.isActive&&ce===null||!H&&!V.prevProp||_0(H)||typeof H=="boolean")continue;let U=uL(V.prevProp,H)||N===h&&V.isActive&&!B&&ie||R>S&&ie,Q=!1;const L=Array.isArray(H)?H:[H];let I=L.reduce(i,{});ce===!1&&(I={});const{prevResolvedValues:M={}}=V,ee={...M,...I},Se=ve=>{U=!0,v.has(ve)&&(Q=!0,v.delete(ve)),V.needsAnimating[ve]=!0};for(const ve in ee){const Pe=I[ve],oe=M[ve];if(E.hasOwnProperty(ve))continue;let we=!1;Ng(Pe)&&Ng(oe)?we=!IE(Pe,oe):we=Pe!==oe,we?Pe!==void 0?Se(ve):v.add(ve):Pe!==void 0&&v.has(ve)?Se(ve):V.protectedKeys[ve]=!0}V.prevProp=H,V.prevResolvedValues=I,V.isActive&&(E={...E,...I}),r&&t.blockInitialAnimation&&(U=!1),U&&(!B||Q)&&y.push(...L.map(ve=>({animation:ve,options:{type:N,...c}})))}if(v.size){const R={};v.forEach(N=>{const V=t.getBaseTarget(N);V!==void 0&&(R[N]=V)}),y.push({animation:R})}let C=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(y):Promise.resolve()}function l(c,h,f){var p;if(n[c].isActive===h)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(v=>{var E;return(E=v.animationState)===null||E===void 0?void 0:E.setActive(c,h)}),n[c].isActive=h;const y=o(f,c);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n}}function uL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IE(e,t):!1}function ph(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cL(){return{animate:ph(!0),whileInView:ph(),whileHover:ph(),whileTap:ph(),whileDrag:ph(),whileFocus:ph(),exit:ph()}}class hL extends qc{constructor(e){super(e),e.animationState||(e.animationState=lL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fL=0;class dL extends qc{constructor(){super(...arguments),this.id=fL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pL={animation:{Feature:hL},exit:{Feature:dL}},lb=(t,e)=>Math.abs(t-e);function mL(t,e){const n=lb(t.x,e.x),r=lb(t.y,e.y);return Math.sqrt(n**2+r**2)}class lT{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=g1(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=mL(p.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:E}=p,{timestamp:S}=ss;this.history.push({...E,timestamp:S});const{onStart:C,onMove:R}=this.handlers;y||(C&&C(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=m1(y,this.transformPagePoint),Gn.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:v,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=g1(p.type==="pointercancel"?this.lastMoveEventInfo:m1(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,C),E&&E(p,C)},!EE(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=S0(e),l=m1(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=ss;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,g1(l,this.history)),this.removeListeners=Ec(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gu(this.updatePoint)}}function m1(t,e){return e?{point:e(t.point)}:t}function ub(t,e){return{x:t.x-e.x,y:t.y-e.y}}function g1({point:t},e){return{point:t,delta:ub(t,uT(e)),offset:ub(t,gL(e)),velocity:yL(e,.1)}}function gL(t){return t[0]}function uT(t){return t[t.length-1]}function yL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=uT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Nh(e)));)n--;if(!r)return{x:0,y:0};const s=fu(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ko(t){return t.max-t.min}function xv(t,e=0,n=.01){return Math.abs(t-e)<=n}function cb(t,e,n,r=.5){t.origin=r,t.originPoint=wr(e.min,e.max,t.origin),t.scale=ko(n)/ko(e),(xv(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=wr(n.min,n.max,t.origin)-t.originPoint,(xv(t.translate)||isNaN(t.translate))&&(t.translate=0)}function tp(t,e,n,r){cb(t.x,e.x,n.x,r?r.originX:void 0),cb(t.y,e.y,n.y,r?r.originY:void 0)}function hb(t,e,n){t.min=n.min+e.min,t.max=t.min+ko(e)}function vL(t,e,n){hb(t.x,e.x,n.x),hb(t.y,e.y,n.y)}function fb(t,e,n){t.min=e.min-n.min,t.max=t.min+ko(e)}function np(t,e,n){fb(t.x,e.x,n.x),fb(t.y,e.y,n.y)}function wL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wr(n,t,r.max):Math.min(t,n)),t}function db(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _L(t,{top:e,left:n,bottom:r,right:i}){return{x:db(t.x,n,i),y:db(t.y,e,r)}}function pb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bL(t,e){return{x:pb(t.x,e.x),y:pb(t.y,e.y)}}function xL(t,e){let n=.5;const r=ko(t),i=ko(e);return i>r?n=yp(e.min,e.max-r,t.min):r>i&&(n=yp(t.min,t.max-i,e.min)),Ic(0,1,n)}function SL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sv=.35;function AL(t=Sv){return t===!1?t=0:t===!0&&(t=Sv),{x:mb(t,"left","right"),y:mb(t,"top","bottom")}}function mb(t,e,n){return{min:gb(t,e),max:gb(t,n)}}function gb(t,e){return typeof t=="number"?t:t[e]||0}const yb=()=>({translate:0,scale:1,origin:0,originPoint:0}),jf=()=>({x:yb(),y:yb()}),vb=()=>({min:0,max:0}),Gr=()=>({x:vb(),y:vb()});function ra(t){return[t("x"),t("y")]}function cT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function EL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function y1(t){return t===void 0||t===1}function Av({scale:t,scaleX:e,scaleY:n}){return!y1(t)||!y1(e)||!y1(n)}function mh(t){return Av(t)||hT(t)||t.z||t.rotate||t.rotateX||t.rotateY}function hT(t){return wb(t.x)||wb(t.y)}function wb(t){return t&&t!=="0%"}function Dg(t,e,n){const r=t-n,i=e*r;return n+i}function _b(t,e,n,r,i){return i!==void 0&&(t=Dg(t,i,r)),Dg(t,n,r)+e}function Ev(t,e=0,n=1,r,i){t.min=_b(t.min,e,n,r,i),t.max=_b(t.max,e,n,r,i)}function fT(t,{x:e,y:n}){Ev(t.x,e.translate,e.scale,e.originPoint),Ev(t.y,n.translate,n.scale,n.originPoint)}function CL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Mf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fT(t,o)),r&&mh(s.latestValues)&&Mf(t,s.latestValues))}e.x=bb(e.x),e.y=bb(e.y)}function bb(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function gc(t,e){t.min=t.min+e,t.max=t.max+e}function xb(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=wr(t.min,t.max,s);Ev(t,e[n],e[r],o,e.scale)}const PL=["x","scaleX","originX"],NL=["y","scaleY","originY"];function Mf(t,e){xb(t.x,e,PL),xb(t.y,e,NL)}function dT(t,e){return cT(TL(t.getBoundingClientRect(),e))}function IL(t,e,n){const r=dT(t,n),{scroll:i}=e;return i&&(gc(r.x,i.offset.x),gc(r.y,i.offset.y)),r}const pT=({current:t})=>t?t.ownerDocument.defaultView:null,kL=new WeakMap;class RL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(S0(f,"page").point)},s=(f,p)=>{const{drag:y,dragPropagation:v,onDragStart:E}=this.getProps();if(y&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=CE(y),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ra(C=>{let R=this.getAxisMotionValue(C).get()||0;if(wl.test(R)){const{projection:N}=this.visualElement;if(N&&N.layout){const V=N.layout.layoutBox[C];V&&(R=ko(V)*(parseFloat(R)/100))}}this.originPoint[C]=R}),E&&Gn.update(()=>E(f,p),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:E,onDrag:S}=this.getProps();if(!y&&!this.openGlobalLock)return;const{offset:C}=p;if(v&&this.currentDirection===null){this.currentDirection=LL(C),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",p.point,C),this.updateAxis("y",p.point,C),this.visualElement.render(),S&&S(f,p)},l=(f,p)=>this.stop(f,p),c=()=>ra(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new lT(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:pT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Gn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Um(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=wL(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Df(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=_L(i.layoutBox,n):this.constraints=!1,this.elastic=AL(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ra(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=SL(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Df(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=IL(r,i.root,this.visualElement.getTransformPagePoint());let o=bL(i.layout.layoutBox,s);if(n){const l=n(EL(o));this.hasMutatedConstraints=!!l,l&&(o=cT(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=ra(f=>{if(!Um(f,n,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,E={type:"inertia",velocity:r?e[f]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,E)});return Promise.all(h).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(s5(e,r,0,n))}stopAnimation(){ra(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ra(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ra(n=>{const{drag:r}=this.getProps();if(!Um(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-wr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Df(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ra(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=xL({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ra(o=>{if(!Um(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:h}=this.constraints[o];l.set(wr(c,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;kL.set(this.visualElement,this);const e=this.visualElement.current,n=hu(e,"pointerdown",c=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Df(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=au(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(ra(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Sv,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Um(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DL extends qc{constructor(e){super(e),this.removeGroupControls=Ur,this.removeListeners=Ur,this.controls=new RL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sb=t=>(e,n)=>{t&&Gn.update(()=>t(e,n))};class OL extends qc{constructor(){super(...arguments),this.removePointerDownListener=Ur}onPointerDown(e){this.session=new lT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Sb(e),onStart:Sb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Gn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function jL(){const t=Z.useContext(v0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=Z.useId();return Z.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const ag={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ab(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Od={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ot.test(t))t=parseFloat(t);else return t;const n=Ab(t,e.target.x),r=Ab(t,e.target.y);return`${n}% ${r}%`}},ML={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=kc.parse(t);if(i.length>5)return r;const s=kc.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const h=wr(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),s(i)}};class FL extends dr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Wk(VL),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ag.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Gn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mT(t){const[e,n]=jL(),r=Z.useContext(W2);return dr.createElement(FL,{...t,layoutGroup:r,switchLayoutGroup:Z.useContext(cE),isPresent:e,safeToRemove:n})}const VL={borderRadius:{...Od,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Od,borderTopRightRadius:Od,borderBottomLeftRadius:Od,borderBottomRightRadius:Od,boxShadow:ML},gT=["TopLeft","TopRight","BottomLeft","BottomRight"],BL=gT.length,Eb=t=>typeof t=="string"?parseFloat(t):t,Tb=t=>typeof t=="number"||Ot.test(t);function UL(t,e,n,r,i,s){i?(t.opacity=wr(0,n.opacity!==void 0?n.opacity:1,zL(r)),t.opacityExit=wr(e.opacity!==void 0?e.opacity:1,0,qL(r))):s&&(t.opacity=wr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<BL;o++){const l=`border${gT[o]}Radius`;let c=Cb(e,l),h=Cb(n,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||Tb(c)===Tb(h)?(t[l]=Math.max(wr(Eb(c),Eb(h),r),0),(wl.test(h)||wl.test(c))&&(t[l]+="%")):t[l]=h}(e.rotate||n.rotate)&&(t.rotate=wr(e.rotate||0,n.rotate||0,r))}function Cb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zL=yT(0,.5,VE),qL=yT(.5,.95,Ur);function yT(t,e,n){return r=>r<t?0:r>e?1:n(yp(t,e,r))}function Pb(t,e){t.min=e.min,t.max=e.max}function na(t,e){Pb(t.x,e.x),Pb(t.y,e.y)}function Nb(t,e,n,r,i){return t-=e,t=Dg(t,1/n,r),i!==void 0&&(t=Dg(t,1/i,r)),t}function HL(t,e=0,n=1,r=.5,i,s=t,o=t){if(wl.test(e)&&(e=parseFloat(e),e=wr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=wr(s.min,s.max,r);t===s&&(l-=e),t.min=Nb(t.min,e,n,l,i),t.max=Nb(t.max,e,n,l,i)}function Ib(t,e,[n,r,i],s,o){HL(t,e[n],e[r],e[i],e.scale,s,o)}const WL=["x","scaleX","originX"],$L=["y","scaleY","originY"];function kb(t,e,n,r){Ib(t.x,e,WL,n?n.x:void 0,r?r.x:void 0),Ib(t.y,e,$L,n?n.y:void 0,r?r.y:void 0)}function Rb(t){return t.translate===0&&t.scale===1}function vT(t){return Rb(t.x)&&Rb(t.y)}function GL(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function wT(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Lb(t){return ko(t.x)/ko(t.y)}class KL{constructor(){this.members=[]}add(e){o5(this.members,e),e.scheduleRender()}remove(e){if(a5(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Db(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:h,rotateY:f}=n;c&&(r+=`rotate(${c}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const YL=(t,e)=>t.depth-e.depth;class QL{constructor(){this.children=[],this.isDirty=!1}add(e){o5(this.children,e),this.isDirty=!0}remove(e){a5(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YL),this.isDirty=!1,this.children.forEach(e)}}function XL(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(gu(r),t(s-e))};return Gn.read(r,!0),()=>gu(r)}function JL(t){window.MotionDebug&&window.MotionDebug.record(t)}function ZL(t){return t instanceof SVGElement&&t.tagName!=="svg"}function eD(t,e,n){const r=io(t)?t:Xf(t);return r.start(s5("",r,e,n)),r.animation}const Ob=["","X","Y","Z"],tD={visibility:"hidden"},jb=1e3;let nD=0;const gh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _T({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e?.()){this.id=nD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gh.totalNodes=gh.resolvedTargetDeltas=gh.recalculatedProjection=0,this.nodes.forEach(sD),this.nodes.forEach(cD),this.nodes.forEach(hD),this.nodes.forEach(oD),JL(gh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new QL)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new l5),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ZL(o),this.instance=o;const{layoutId:c,layout:h,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(h||c)&&(this.isLayoutDirty=!0),t){let p;const y=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=XL(y,250),ag.hasAnimatedSinceResize&&(ag.hasAnimatedSinceResize=!1,this.nodes.forEach(Fb))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeTargetChanged:v,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||gD,{onLayoutAnimationStart:C,onLayoutAnimationComplete:R}=f.getProps(),N=!this.targetLayout||!wT(this.targetLayout,E)||v,V=!y&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||V||y&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,V);const H={...i5(S,"layout"),onPlay:C,onComplete:R};(f.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else y||Fb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mb);return}this.isUpdating||this.nodes.forEach(lD),this.isUpdating=!1,this.nodes.forEach(uD),this.nodes.forEach(rD),this.nodes.forEach(iD),this.clearAllSnapshots();const l=performance.now();ss.delta=Ic(0,1e3/60,l-ss.timestamp),ss.timestamp=l,ss.isProcessing=!0,a1.update.process(ss),a1.preRender.process(ss),a1.render.process(ss),ss.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(aD),this.sharedNodes.forEach(dD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!vT(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&(l||mh(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),yD(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Gr();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(gc(l.x,c.offset.x),gc(l.y,c.offset.y)),l}removeElementScroll(o){const l=Gr();na(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:p}=h;if(h!==this.root&&f&&p.layoutScroll){if(f.isRoot){na(l,o);const{scroll:y}=this.root;y&&(gc(l.x,-y.offset.x),gc(l.y,-y.offset.y))}gc(l.x,f.offset.x),gc(l.y,f.offset.y)}}return l}applyTransform(o,l=!1){const c=Gr();na(c,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Mf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),mh(f.latestValues)&&Mf(c,f.latestValues)}return mh(this.latestValues)&&Mf(c,this.latestValues),c}removeTransform(o){const l=Gr();na(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!mh(h.latestValues))continue;Av(h.latestValues)&&h.updateSnapshot();const f=Gr(),p=h.measurePageBox();na(f,p),kb(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return mh(this.latestValues)&&kb(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ss.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=ss.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gr(),this.relativeTargetOrigin=Gr(),np(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),na(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Gr(),this.targetWithTransforms=Gr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):na(this.target,this.layout.layoutBox),fT(this.target,this.targetDelta)):na(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gr(),this.relativeTargetOrigin=Gr(),np(this.relativeTargetOrigin,this.target,v.target),na(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Av(this.parent.latestValues)||hT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ss.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;na(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;CL(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:E}=l;if(!E){this.projectionTransform&&(this.projectionDelta=jf(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=jf(),this.projectionDeltaWithTransform=jf());const S=this.projectionTransform;tp(this.projectionDelta,this.layoutCorrected,E,this.latestValues),this.projectionTransform=Db(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==y||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),gh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,h=c?c.latestValues:{},f={...this.latestValues},p=jf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Gr(),v=c?c.source:void 0,E=this.layout?this.layout.source:void 0,S=v!==E,C=this.getStack(),R=!C||C.members.length<=1,N=!!(S&&!R&&this.options.crossfade===!0&&!this.path.some(mD));this.animationProgress=0;let V;this.mixTargetDelta=H=>{const ie=H/1e3;Vb(p.x,o.x,ie),Vb(p.y,o.y,ie),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(np(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pD(this.relativeTarget,this.relativeTargetOrigin,y,ie),V&&GL(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Gr()),na(V,this.relativeTarget)),S&&(this.animationValues=f,UL(f,h,this.latestValues,ie,N,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gn.update(()=>{ag.hasAnimatedSinceResize=!0,this.currentAnimation=eD(0,jb,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:f}=o;if(!(!l||!c||!h)){if(this!==o&&this.layout&&h&&bT(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Gr();const p=ko(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const y=ko(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+y}na(l,c),Mf(l,f),tp(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new KL),this.sharedNodes.get(o).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const h={};for(let f=0;f<Ob.length;f++){const p="rotate"+Ob[f];c[p]&&(h[p]=c[p],o.setStaticValue(p,0))}o.render();for(const f in h)o.setStaticValue(f,h[f]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return tD;const h={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=og(o?.pointerEvents)||"",h.transform=f?f(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=og(o?.pointerEvents)||""),this.hasProjected&&!mh(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=Db(this.projectionDeltaWithTransform,this.treeScale,y),f&&(h.transform=f(y,h.transform));const{x:v,y:E}=this.projectionDelta;h.transformOrigin=`${v.origin*100}% ${E.origin*100}% 0`,p.animationValues?h.opacity=p===this?(c=(l=y.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:h.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in Cg){if(y[S]===void 0)continue;const{correct:C,applyTo:R}=Cg[S],N=h.transform==="none"?y[S]:C(y[S],p);if(R){const V=R.length;for(let H=0;H<V;H++)h[R[H]]=N}else h[S]=N}return this.options.layoutId&&(h.pointerEvents=p===this?og(o?.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Mb),this.root.sharedNodes.clear()}}}function rD(t){t.updateLayout()}function iD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ra(p=>{const y=o?n.measuredBox[p]:n.layoutBox[p],v=ko(y);y.min=r[p].min,y.max=y.min+v}):bT(s,n.layoutBox,r)&&ra(p=>{const y=o?n.measuredBox[p]:n.layoutBox[p],v=ko(r[p]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+v)});const l=jf();tp(l,r,n.layoutBox);const c=jf();o?tp(c,t.applyTransform(i,!0),n.measuredBox):tp(c,r,n.layoutBox);const h=!vT(l);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:v}=p;if(y&&v){const E=Gr();np(E,n.layoutBox,y.layoutBox);const S=Gr();np(S,r,v.layoutBox),wT(E,S)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=E,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function sD(t){gh.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function aD(t){t.clearSnapshot()}function Mb(t){t.clearMeasurements()}function lD(t){t.isLayoutDirty=!1}function uD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Fb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cD(t){t.resolveTargetDelta()}function hD(t){t.calcProjection()}function fD(t){t.resetRotation()}function dD(t){t.removeLeadSnapshot()}function Vb(t,e,n){t.translate=wr(e.translate,0,n),t.scale=wr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Bb(t,e,n,r){t.min=wr(e.min,n.min,r),t.max=wr(e.max,n.max,r)}function pD(t,e,n,r){Bb(t.x,e.x,n.x,r),Bb(t.y,e.y,n.y,r)}function mD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gD={duration:.45,ease:[.4,0,.1,1]},Ub=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),zb=Ub("applewebkit/")&&!Ub("chrome/")?Math.round:Ur;function qb(t){t.min=zb(t.min),t.max=zb(t.max)}function yD(t){qb(t.x),qb(t.y)}function bT(t,e,n){return t==="position"||t==="preserve-aspect"&&!xv(Lb(e),Lb(n),.2)}const vD=_T({attachResizeListener:(t,e)=>au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),v1={current:void 0},xT=_T({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!v1.current){const t=new vD({});t.mount(window),t.setOptions({layoutScroll:!0}),v1.current=t}return v1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wD={pan:{Feature:OL},drag:{Feature:DL,ProjectionNode:xT,MeasureLayout:mT}},_D=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bD(t){const e=_D.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Tv(t,e,n=1){const[r,i]=bD(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return iT(o)?parseFloat(o):o}else return mv(i)?Tv(i,e,n+1):i}function xD(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!mv(s))return;const o=Tv(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!mv(s))continue;const o=Tv(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const SD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ST=t=>SD.has(t),AD=t=>Object.keys(t).some(ST),Hb=t=>t===Kh||t===Ot,Wb=(t,e)=>parseFloat(t.split(", ")[e]),$b=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Wb(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Wb(s[1],t):0}},ED=new Set(["x","y","z"]),TD=Dp.filter(t=>!ED.has(t));function CD(t){const e=[];return TD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Jf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$b(4,13),y:$b(5,14)};Jf.translateX=Jf.x;Jf.translateY=Jf.y;const PD=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,l={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(h=>{l[h]=Jf[h](r,s)}),e.render();const c=e.measureViewportBox();return n.forEach(h=>{const f=e.getValue(h);f&&f.jump(l[h]),t[h]=Jf[h](c,s)}),t},ND=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(ST);let s=[],o=!1;const l=[];if(i.forEach(c=>{const h=t.getValue(c);if(!t.hasValue(c))return;let f=n[c],p=Dd(f);const y=e[c];let v;if(Ng(y)){const E=y.length,S=y[0]===null?1:0;f=y[S],p=Dd(f);for(let C=S;C<E&&y[C]!==null;C++)v?Z2(Dd(y[C])===v):v=Dd(y[C])}else v=Dd(y);if(p!==v)if(Hb(p)&&Hb(v)){const E=h.get();typeof E=="string"&&h.set(parseFloat(E)),typeof y=="string"?e[c]=parseFloat(y):Array.isArray(y)&&v===Ot&&(e[c]=y.map(parseFloat))}else p?.transform&&v?.transform&&(f===0||y===0)?f===0?h.set(v.transform(f)):e[c]=p.transform(y):(o||(s=CD(t),o=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],h.jump(y))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,h=PD(e,t,l);return s.length&&s.forEach(([f,p])=>{t.getValue(f).set(p)}),t.render(),w0&&c!==null&&window.scrollTo({top:c}),{target:h,transitionEnd:r}}else return{target:e,transitionEnd:r}};function ID(t,e,n,r){return AD(e)?ND(t,e,n,r):{target:e,transitionEnd:r}}const kD=(t,e,n,r)=>{const i=xD(t,e,r);return e=i.target,r=i.transitionEnd,ID(t,e,n,r)},Cv={current:null},AT={current:!1};function RD(){if(AT.current=!0,!!w0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cv.current=t.matches;t.addListener(e),e()}else Cv.current=!1}function LD(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(io(s))t.addValue(i,s),Lg(r)&&r.add(i);else if(io(o))t.addValue(i,Xf(s,{owner:t})),Lg(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const l=t.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,Xf(l!==void 0?l:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Gb=new WeakMap,ET=Object.keys(gp),DD=ET.length,Kb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],OD=H2.length;class jD{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Gn.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=b0(n),this.isVariantNode=uE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{});for(const p in f){const y=f[p];l[p]!==void 0&&io(y)&&(y.set(l[p],!1),Lg(h)&&h.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Gb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AT.current||RD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Gb.delete(this.current),this.projection&&this.projection.unmount(),gu(this.notifyUpdate),gu(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Gh.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Gn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,l;for(let c=0;c<DD;c++){const h=ET[c],{isEnabled:f,Feature:p,ProjectionNode:y,MeasureLayout:v}=gp[h];y&&(o=y),f(n)&&(!this.features[h]&&p&&(this.features[h]=new p(this)),v&&(l=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:h,drag:f,dragConstraints:p,layoutScroll:y,layoutRoot:v}=n;this.projection.setOptions({layoutId:c,layout:h,alwaysMeasureLayout:!!f||p&&Df(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof h=="string"?h:"both",initialPromotionConfig:s,layoutScroll:y,layoutRoot:v})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Kb.length;r++){const i=Kb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=LD(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<OD;r++){const i=H2[r],s=this.props[i];(mp(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Xf(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=J2(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!io(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new l5),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class TT extends jD{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=Z6(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){X6(this,r,o);const l=kD(this,r,o,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function MD(t){return window.getComputedStyle(t)}class FD extends TT{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Gh.has(n)){const r=r5(n);return r&&r.default||0}else{const r=MD(e),i=(dE(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dT(e,n)}build(e,n,r,i){G2(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return X2(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;io(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){wE(e,n,r,i)}}class VD extends TT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Gh.has(n)){const r=r5(n);return r&&r.default||0}return n=_E.has(n)?n:z2(n),e.getAttribute(n)}measureInstanceViewportBox(){return Gr()}scrapeMotionValuesFromProps(e,n){return xE(e,n)}build(e,n,r,i){Y2(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){bE(e,n,r,i)}mount(e){this.isSVGTag=Q2(e.tagName),super.mount(e)}}const BD=(t,e)=>$2(t)?new VD(e,{enableHardwareAcceleration:!1}):new FD(e,{enableHardwareAcceleration:!0}),UD={layout:{ProjectionNode:xT,MeasureLayout:mT}},zD={...pL,...DR,...wD,...UD},_r=qk((t,e)=>bR(t,e,zD,BD));function CT(){const t=Z.useRef(!1);return U2(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function qD(){const t=CT(),[e,n]=Z.useState(0),r=Z.useCallback(()=>{t.current&&n(e+1)},[e]);return[Z.useCallback(()=>Gn.postRender(r),[r]),e]}class HD extends Z.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function WD({children:t,isPresent:e}){const n=Z.useId(),r=Z.useRef(null),i=Z.useRef({width:0,height:0,top:0,left:0});return Z.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),Z.createElement(HD,{isPresent:e,childRef:r,sizeRef:i},Z.cloneElement(t,{ref:r}))}const w1=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=SE($D),c=Z.useId(),h=Z.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const p of l.values())if(!p)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),s?void 0:[n]);return Z.useMemo(()=>{l.forEach((f,p)=>l.set(p,!1))},[n]),Z.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=Z.createElement(WD,{isPresent:n},t)),Z.createElement(v0.Provider,{value:h},t)};function $D(){return new Map}function GD(t){return Z.useEffect(()=>()=>t(),[])}const yh=t=>t.key||"";function KD(t,e){t.forEach(n=>{const r=yh(n);e.set(r,n)})}function YD(t){const e=[];return Z.Children.forEach(t,n=>{Z.isValidElement(n)&&e.push(n)}),e}const QD=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=Z.useContext(W2).forceRender||qD()[0],c=CT(),h=YD(t);let f=h;const p=Z.useRef(new Map).current,y=Z.useRef(f),v=Z.useRef(new Map).current,E=Z.useRef(!0);if(U2(()=>{E.current=!1,KD(h,v),y.current=f}),GD(()=>{E.current=!0,v.clear(),p.clear()}),E.current)return Z.createElement(Z.Fragment,null,f.map(N=>Z.createElement(w1,{key:yh(N),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},N)));f=[...f];const S=y.current.map(yh),C=h.map(yh),R=S.length;for(let N=0;N<R;N++){const V=S[N];C.indexOf(V)===-1&&!p.has(V)&&p.set(V,void 0)}return o==="wait"&&p.size&&(f=[]),p.forEach((N,V)=>{if(C.indexOf(V)!==-1)return;const H=v.get(V);if(!H)return;const ie=S.indexOf(V);let ce=N;if(!ce){const B=()=>{p.delete(V);const O=Array.from(v.keys()).filter(U=>!C.includes(U));if(O.forEach(U=>v.delete(U)),y.current=h.filter(U=>{const Q=yh(U);return Q===V||O.includes(Q)}),!p.size){if(c.current===!1)return;l(),r&&r()}};ce=Z.createElement(w1,{key:yh(H),isPresent:!1,onExitComplete:B,custom:e,presenceAffectsLayout:s,mode:o},H),p.set(V,ce)}f.splice(ie,0,ce)}),f=f.map(N=>{const V=N.key;return p.has(V)?N:Z.createElement(w1,{key:yh(N),isPresent:!0,presenceAffectsLayout:s,mode:o},N)}),Z.createElement(Z.Fragment,null,p.size?f:f.map(N=>Z.cloneElement(N)))};var _1={exports:{}},b1,Yb;function XD(){if(Yb)return b1;Yb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return b1=t,b1}var x1,Qb;function JD(){if(Qb)return x1;Qb=1;var t=XD();function e(){}function n(){}return n.resetWarningCache=e,x1=function(){function r(o,l,c,h,f,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},x1}var Xb;function ZD(){return Xb||(Xb=1,_1.exports=JD()()),_1.exports}var eO=ZD();const hr=$h(eO);var S1,Jb;function tO(){if(Jb)return S1;Jb=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=d0(),n=t(e);function r(l,c,h){return c in l?Object.defineProperty(l,c,{value:h,enumerable:!0,configurable:!0,writable:!0}):l[c]=h,l}function i(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var s=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,c,h){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof h<"u"&&typeof h!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function f(p){return p.displayName||p.name||"Component"}return function(y){if(typeof y!="function")throw new Error("Expected WrappedComponent to be a React component.");var v=[],E;function S(){E=l(v.map(function(R){return R.props})),C.canUseDOM?c(E):h&&(E=h(E))}var C=function(R){i(N,R);function N(){return R.apply(this,arguments)||this}N.peek=function(){return E},N.rewind=function(){if(N.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var ie=E;return E=void 0,v=[],ie};var V=N.prototype;return V.UNSAFE_componentWillMount=function(){v.push(this),S()},V.componentDidUpdate=function(){S()},V.componentWillUnmount=function(){var ie=v.indexOf(this);v.splice(ie,1),S()},V.render=function(){return n.createElement(y,this.props)},N}(e.PureComponent);return r(C,"displayName","SideEffect("+f(y)+")"),r(C,"canUseDOM",s),C}}return S1=o,S1}var nO=tO();const rO=$h(nO);var A1,Zb;function iO(){if(Zb)return A1;Zb=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var l,c,h;if(Array.isArray(s)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!i(s[c],o[c]))return!1;return!0}var f;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(f=s.entries();!(c=f.next()).done;)if(!o.has(c.value[0]))return!1;for(f=s.entries();!(c=f.next()).done;)if(!i(c.value[1],o.get(c.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(f=s.entries();!(c=f.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(l=s.length,l!=o.length)return!1;for(c=l;c--!==0;)if(s[c]!==o[c])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(h=Object.keys(s),l=h.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,h[c]))return!1;if(t&&s instanceof Element)return!1;for(c=l;c--!==0;)if(!((h[c]==="_owner"||h[c]==="__v"||h[c]==="__o")&&s.$$typeof)&&!i(s[h[c]],o[h[c]]))return!1;return!0}return s!==s&&o!==o}return A1=function(o,l){try{return i(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},A1}var sO=iO();const oO=$h(sO);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var E1,ex;function aO(){if(ex)return E1;ex=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function i(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var c=Object.getOwnPropertyNames(o).map(function(f){return o[f]});if(c.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(f){h[f]=f}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return E1=i()?Object.assign:function(s,o){for(var l,c=r(s),h,f=1;f<arguments.length;f++){l=Object(arguments[f]);for(var p in l)e.call(l,p)&&(c[p]=l[p]);if(t){h=t(l);for(var y=0;y<h.length;y++)n.call(l,h[y])&&(c[h[y]]=l[h[y]])}}return c},E1}var lO=aO();const uO=$h(lO);var Ih={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Qt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Qt).map(function(t){return Qt[t]});var fr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Og={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},vp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},cO=Object.keys(Og).reduce(function(t,e){return t[Og[e]]=e,t},{}),hO=[Qt.NOSCRIPT,Qt.SCRIPT,Qt.STYLE],Ba="data-react-helmet",fO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dO=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},pO=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Xs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mO=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},tx=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},gO=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Pv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},yO=function(e){var n=Vf(e,Qt.TITLE),r=Vf(e,vp.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=Vf(e,vp.DEFAULT_TITLE);return n||i||void 0},vO=function(e){return Vf(e,vp.ON_CHANGE_CLIENT_STATE)||function(){}},T1=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return Xs({},r,i)},{})},wO=function(e,n){return n.filter(function(r){return typeof r[Qt.BASE]<"u"}).map(function(r){return r[Qt.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var l=s[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return r.concat(i)}return r},[])},jd=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&SO("Helmet: "+e+' should be of type "Array". Instead found type "'+fO(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var l={};o.filter(function(y){for(var v=void 0,E=Object.keys(y),S=0;S<E.length;S++){var C=E[S],R=C.toLowerCase();n.indexOf(R)!==-1&&!(v===fr.REL&&y[v].toLowerCase()==="canonical")&&!(R===fr.REL&&y[R].toLowerCase()==="stylesheet")&&(v=R),n.indexOf(C)!==-1&&(C===fr.INNER_HTML||C===fr.CSS_TEXT||C===fr.ITEM_PROP)&&(v=C)}if(!v||!y[v])return!1;var N=y[v].toLowerCase();return i[v]||(i[v]={}),l[v]||(l[v]={}),i[v][N]?!1:(l[v][N]=!0,!0)}).reverse().forEach(function(y){return s.push(y)});for(var c=Object.keys(l),h=0;h<c.length;h++){var f=c[h],p=uO({},i[f],l[f]);i[f]=p}return s},[]).reverse()},Vf=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},_O=function(e){return{baseTag:wO([fr.HREF,fr.TARGET],e),bodyAttributes:T1(Ih.BODY,e),defer:Vf(e,vp.DEFER),encode:Vf(e,vp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:T1(Ih.HTML,e),linkTags:jd(Qt.LINK,[fr.REL,fr.HREF],e),metaTags:jd(Qt.META,[fr.NAME,fr.CHARSET,fr.HTTPEQUIV,fr.PROPERTY,fr.ITEM_PROP],e),noscriptTags:jd(Qt.NOSCRIPT,[fr.INNER_HTML],e),onChangeClientState:vO(e),scriptTags:jd(Qt.SCRIPT,[fr.SRC,fr.INNER_HTML],e),styleTags:jd(Qt.STYLE,[fr.CSS_TEXT],e),title:yO(e),titleAttributes:T1(Ih.TITLE,e)}},Nv=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Nv(e)},0)}}(),nx=function(e){return clearTimeout(e)},bO=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Nv:global.requestAnimationFrame||Nv,xO=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||nx:global.cancelAnimationFrame||nx,SO=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Md=null,AO=function(e){Md&&xO(Md),e.defer?Md=bO(function(){rx(e,function(){Md=null})}):(rx(e),Md=null)},rx=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,h=e.onChangeClientState,f=e.scriptTags,p=e.styleTags,y=e.title,v=e.titleAttributes;Iv(Qt.BODY,i),Iv(Qt.HTML,s),EO(y,v);var E={baseTag:Sf(Qt.BASE,r),linkTags:Sf(Qt.LINK,o),metaTags:Sf(Qt.META,l),noscriptTags:Sf(Qt.NOSCRIPT,c),scriptTags:Sf(Qt.SCRIPT,f),styleTags:Sf(Qt.STYLE,p)},S={},C={};Object.keys(E).forEach(function(R){var N=E[R],V=N.newTags,H=N.oldTags;V.length&&(S[R]=V),H.length&&(C[R]=E[R].oldTags)}),n&&n(),h(e,S,C)},PT=function(e){return Array.isArray(e)?e.join(""):e},EO=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=PT(e)),Iv(Qt.TITLE,n)},Iv=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(Ba),s=i?i.split(","):[],o=[].concat(s),l=Object.keys(n),c=0;c<l.length;c++){var h=l[c],f=n[h]||"";r.getAttribute(h)!==f&&r.setAttribute(h,f),s.indexOf(h)===-1&&s.push(h);var p=o.indexOf(h);p!==-1&&o.splice(p,1)}for(var y=o.length-1;y>=0;y--)r.removeAttribute(o[y]);s.length===o.length?r.removeAttribute(Ba):r.getAttribute(Ba)!==l.join(",")&&r.setAttribute(Ba,l.join(","))}},Sf=function(e,n){var r=document.head||document.querySelector(Qt.HEAD),i=r.querySelectorAll(e+"["+Ba+"]"),s=Array.prototype.slice.call(i),o=[],l=void 0;return n&&n.length&&n.forEach(function(c){var h=document.createElement(e);for(var f in c)if(c.hasOwnProperty(f))if(f===fr.INNER_HTML)h.innerHTML=c.innerHTML;else if(f===fr.CSS_TEXT)h.styleSheet?h.styleSheet.cssText=c.cssText:h.appendChild(document.createTextNode(c.cssText));else{var p=typeof c[f]>"u"?"":c[f];h.setAttribute(f,p)}h.setAttribute(Ba,"true"),s.some(function(y,v){return l=v,h.isEqualNode(y)})?s.splice(l,1):o.push(h)}),s.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return r.appendChild(c)}),{oldTags:s,newTags:o}},NT=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},TO=function(e,n,r,i){var s=NT(r),o=PT(n);return s?"<"+e+" "+Ba+'="true" '+s+">"+Pv(o,i)+"</"+e+">":"<"+e+" "+Ba+'="true">'+Pv(o,i)+"</"+e+">"},CO=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(h){return!(h===fr.INNER_HTML||h===fr.CSS_TEXT)}).reduce(function(h,f){var p=typeof s[f]>"u"?f:f+'="'+Pv(s[f],r)+'"';return h?h+" "+p:p},""),l=s.innerHTML||s.cssText||"",c=hO.indexOf(e)===-1;return i+"<"+e+" "+Ba+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},IT=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Og[i]||i]=e[i],r},n)},PO=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[cO[i]||i]=e[i],r},n)},NO=function(e,n,r){var i,s=(i={key:n},i[Ba]=!0,i),o=IT(r,s);return[dr.createElement(Qt.TITLE,o,n)]},IO=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[Ba]=!0,s);return Object.keys(r).forEach(function(l){var c=Og[l]||l;if(c===fr.INNER_HTML||c===fr.CSS_TEXT){var h=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:h}}else o[c]=r[l]}),dr.createElement(e,o)})},iu=function(e,n,r){switch(e){case Qt.TITLE:return{toComponent:function(){return NO(e,n.title,n.titleAttributes)},toString:function(){return TO(e,n.title,n.titleAttributes,r)}};case Ih.BODY:case Ih.HTML:return{toComponent:function(){return IT(n)},toString:function(){return NT(n)}};default:return{toComponent:function(){return IO(e,n)},toString:function(){return CO(e,n,r)}}}},kT=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,h=e.scriptTags,f=e.styleTags,p=e.title,y=p===void 0?"":p,v=e.titleAttributes;return{base:iu(Qt.BASE,n,i),bodyAttributes:iu(Ih.BODY,r,i),htmlAttributes:iu(Ih.HTML,s,i),link:iu(Qt.LINK,o,i),meta:iu(Qt.META,l,i),noscript:iu(Qt.NOSCRIPT,c,i),script:iu(Qt.SCRIPT,h,i),style:iu(Qt.STYLE,f,i),title:iu(Qt.TITLE,{title:y,titleAttributes:v},i)}},kO=function(e){var n,r;return r=n=function(i){mO(s,i);function s(){return dO(this,s),gO(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(l){return!oO(this.props,l)},s.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Qt.SCRIPT:case Qt.NOSCRIPT:return{innerHTML:c};case Qt.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(l){var c,h=l.child,f=l.arrayTypeChildren,p=l.newChildProps,y=l.nestedChildren;return Xs({},f,(c={},c[h.type]=[].concat(f[h.type]||[],[Xs({},p,this.mapNestedChildrenToProps(h,y))]),c))},s.prototype.mapObjectTypeChildren=function(l){var c,h,f=l.child,p=l.newProps,y=l.newChildProps,v=l.nestedChildren;switch(f.type){case Qt.TITLE:return Xs({},p,(c={},c[f.type]=v,c.titleAttributes=Xs({},y),c));case Qt.BODY:return Xs({},p,{bodyAttributes:Xs({},y)});case Qt.HTML:return Xs({},p,{htmlAttributes:Xs({},y)})}return Xs({},p,(h={},h[f.type]=Xs({},y),h))},s.prototype.mapArrayTypeChildrenToProps=function(l,c){var h=Xs({},c);return Object.keys(l).forEach(function(f){var p;h=Xs({},h,(p={},p[f]=l[f],p))}),h},s.prototype.warnOnInvalidChildren=function(l,c){return!0},s.prototype.mapChildrenToProps=function(l,c){var h=this,f={};return dr.Children.forEach(l,function(p){if(!(!p||!p.props)){var y=p.props,v=y.children,E=tx(y,["children"]),S=PO(E);switch(h.warnOnInvalidChildren(p,v),p.type){case Qt.LINK:case Qt.META:case Qt.NOSCRIPT:case Qt.SCRIPT:case Qt.STYLE:f=h.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:S,nestedChildren:v});break;default:c=h.mapObjectTypeChildren({child:p,newProps:c,newChildProps:S,nestedChildren:v});break}}}),c=this.mapArrayTypeChildrenToProps(f,c),c},s.prototype.render=function(){var l=this.props,c=l.children,h=tx(l,["children"]),f=Xs({},h);return c&&(f=this.mapChildrenToProps(c,f)),dr.createElement(e,f)},pO(s,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),s}(dr.Component),n.propTypes={base:hr.object,bodyAttributes:hr.object,children:hr.oneOfType([hr.arrayOf(hr.node),hr.node]),defaultTitle:hr.string,defer:hr.bool,encodeSpecialCharacters:hr.bool,htmlAttributes:hr.object,link:hr.arrayOf(hr.object),meta:hr.arrayOf(hr.object),noscript:hr.arrayOf(hr.object),onChangeClientState:hr.func,script:hr.arrayOf(hr.object),style:hr.arrayOf(hr.object),title:hr.string,titleAttributes:hr.object,titleTemplate:hr.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=kT({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},RO=function(){return null},LO=rO(_O,AO,kT)(RO),Pl=kO(LO);Pl.renderStatic=Pl.rewind;function RT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=RT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function LT(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=RT(t))&&(r&&(r+=" "),r+=e);return r}function DO(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=DT(e))&&(r&&(r+=" "),r+=n);return r}function DT(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=DT(t[r]))&&(n&&(n+=" "),n+=e);return n}var u5="-";function OO(t){var e=MO(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(l){var c=l.split(u5);return c[0]===""&&c.length!==1&&c.shift(),OT(c,e)||jO(l)}function o(l,c){var h=n[l]||[];return c&&i[l]?[].concat(h,i[l]):h}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function OT(t,e){if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?OT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(u5);return e.validators.find(function(o){var l=o.validator;return l(s)})?.classGroupId}}var ix=/^\[(.+)\]$/;function jO(t){if(ix.test(t)){var e=ix.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function MO(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=VO(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],l=s[1];kv(l,r,o,e)}),r}function kv(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:sx(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(FO(i)){kv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var l=o[0],c=o[1];kv(c,sx(e,l),n,r)})})}function sx(t,e){var n=t;return e.split(u5).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function FO(t){return t.isThemeGetter}function VO(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],h=l[1];return[e+c,h]})):o});return[r,s]}):t}function BO(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):i(o,l)}}}var jT="!";function UO(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var l=[],c=0,h=0,f,p=0;p<o.length;p++){var y=o[p];if(c===0){if(y===r&&(n||o.slice(p,p+i)===e)){l.push(o.slice(h,p)),h=p+i;continue}if(y==="/"){f=p;continue}}y==="["?c++:y==="]"&&c--}var v=l.length===0?o:o.substring(h),E=v.startsWith(jT),S=E?v.substring(1):v,C=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:S,maybePostfixModifierPosition:C}}}function zO(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function qO(t){return{cache:BO(t.cacheSize),splitModifiers:UO(t),...OO(t)}}var HO=/\s+/;function WO(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(HO).map(function(o){var l=n(o),c=l.modifiers,h=l.hasImportantModifier,f=l.baseClassName,p=l.maybePostfixModifierPosition,y=r(p?f.substring(0,p):f),v=!!p;if(!y){if(!p)return{isTailwindClass:!1,originalClassName:o};if(y=r(f),!y)return{isTailwindClass:!1,originalClassName:o};v=!1}var E=zO(c).join(":"),S=h?E+jT:E;return{isTailwindClass:!0,modifierId:S,classGroupId:y,originalClassName:o,hasPostfixModifier:v}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,h=o.hasPostfixModifier,f=l+c;return s.has(f)?!1:(s.add(f),i(c,h).forEach(function(p){return s.add(l+p)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function $O(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=l;function l(h){var f=e[0],p=e.slice(1),y=p.reduce(function(v,E){return E(v)},f());return r=qO(y),i=r.cache.get,s=r.cache.set,o=c,c(h)}function c(h){var f=i(h);if(f)return f;var p=WO(h,r);return s(h,p),p}return function(){return o(DO.apply(null,arguments))}}function Zn(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var MT=/^\[(?:([a-z-]+):)?(.+)\]$/i,GO=/^\d+\/\d+$/,KO=new Set(["px","full","screen"]),YO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XO=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Oa(t){return Eh(t)||KO.has(t)||GO.test(t)||Rv(t)}function Rv(t){return Yh(t,"length",r8)}function JO(t){return Yh(t,"size",FT)}function ZO(t){return Yh(t,"position",FT)}function e8(t){return Yh(t,"url",i8)}function zm(t){return Yh(t,"number",Eh)}function Eh(t){return!Number.isNaN(Number(t))}function t8(t){return t.endsWith("%")&&Eh(t.slice(0,-1))}function Fd(t){return ox(t)||Yh(t,"number",ox)}function an(t){return MT.test(t)}function Vd(){return!0}function hc(t){return YO.test(t)}function n8(t){return Yh(t,"",s8)}function Yh(t,e,n){var r=MT.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function r8(t){return QO.test(t)}function FT(){return!1}function i8(t){return t.startsWith("url(")}function ox(t){return Number.isInteger(Number(t))}function s8(t){return XO.test(t)}function o8(){var t=Zn("colors"),e=Zn("spacing"),n=Zn("blur"),r=Zn("brightness"),i=Zn("borderColor"),s=Zn("borderRadius"),o=Zn("borderSpacing"),l=Zn("borderWidth"),c=Zn("contrast"),h=Zn("grayscale"),f=Zn("hueRotate"),p=Zn("invert"),y=Zn("gap"),v=Zn("gradientColorStops"),E=Zn("gradientColorStopPositions"),S=Zn("inset"),C=Zn("margin"),R=Zn("opacity"),N=Zn("padding"),V=Zn("saturate"),H=Zn("scale"),ie=Zn("sepia"),ce=Zn("skew"),B=Zn("space"),O=Zn("translate"),U=function(){return["auto","contain","none"]},Q=function(){return["auto","hidden","clip","visible","scroll"]},L=function(){return["auto",an,e]},I=function(){return[an,e]},M=function(){return["",Oa]},ee=function(){return["auto",Eh,an]},Se=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},ve=function(){return["solid","dashed","dotted","double","none"]},Pe=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},oe=function(){return["start","end","center","between","around","evenly","stretch"]},we=function(){return["","0",an]},ye=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},re=function(){return[Eh,zm]},F=function(){return[Eh,an]};return{cacheSize:500,theme:{colors:[Vd],spacing:[Oa],blur:["none","",hc,an],brightness:re(),borderColor:[t],borderRadius:["none","","full",hc,an],borderSpacing:I(),borderWidth:M(),contrast:re(),grayscale:we(),hueRotate:F(),invert:we(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[t8,Rv],inset:L(),margin:L(),opacity:re(),padding:I(),saturate:re(),scale:re(),sepia:we(),skew:F(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",an]}],container:["container"],columns:[{columns:[hc]}],"break-after":[{"break-after":ye()}],"break-before":[{"break-before":ye()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Se(),[an])}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fd]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",an]}],grow:[{grow:we()}],shrink:[{shrink:we()}],order:[{order:["first","last","none",Fd]}],"grid-cols":[{"grid-cols":[Vd]}],"col-start-end":[{col:["auto",{span:["full",Fd]},an]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Vd]}],"row-start-end":[{row:["auto",{span:[Fd]},an]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",an]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",an]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal"].concat(oe())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(oe(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(oe(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",an,e]}],"min-w":[{"min-w":["min","max","fit",an,Oa]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[hc]},hc,an]}],h:[{h:[an,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",an,Oa]}],"max-h":[{"max-h":[an,e,"min","max","fit"]}],"font-size":[{text:["base",hc,Rv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zm]}],"font-family":[{font:[Vd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",an]}],"line-clamp":[{"line-clamp":["none",Eh,zm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",an,Oa]}],"list-image":[{"list-image":["none",an]}],"list-style-type":[{list:["none","disc","decimal",an]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(ve(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Oa]}],"underline-offset":[{"underline-offset":["auto",an,Oa]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",an]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",an]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Se(),[ZO])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},e8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[].concat(ve(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:ve()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(ve())}],"outline-offset":[{"outline-offset":[an,Oa]}],"outline-w":[{outline:[Oa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Oa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hc,n8]}],"shadow-color":[{shadow:[Vd]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":Pe()}],"bg-blend":[{"bg-blend":Pe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",hc,an]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[V]}],sepia:[{sepia:[ie]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[V]}],"backdrop-sepia":[{"backdrop-sepia":[ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",an]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",an]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",an]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[Fd,an]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[ce]}],"skew-y":[{"skew-y":[ce]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",an]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",an]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",an]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Oa,zm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var a8=$O(o8);function Tu(...t){return a8(LT(t))}function ax(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function VT(...t){return e=>{let n=!1;const r=t.map(i=>{const s=ax(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():ax(t[i],null)}}}}function jh(...t){return Z.useCallback(VT(...t),t)}function jg(t){const e=u8(t),n=Z.forwardRef((r,i)=>{const{children:s,...o}=r,l=Z.Children.toArray(s),c=l.find(h8);if(c){const h=c.props.children,f=l.map(p=>p===c?Z.Children.count(h)>1?Z.Children.only(null):Z.isValidElement(h)?h.props.children:null:p);return x.jsx(e,{...o,ref:i,children:Z.isValidElement(h)?Z.cloneElement(h,void 0,f):null})}return x.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var l8=jg("Slot");function u8(t){const e=Z.forwardRef((n,r)=>{const{children:i,...s}=n;if(Z.isValidElement(i)){const o=d8(i),l=f8(s,i.props);return i.type!==Z.Fragment&&(l.ref=r?VT(r,o):o),Z.cloneElement(i,l)}return Z.Children.count(i)>1?Z.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var c8=Symbol("radix.slottable");function h8(t){return Z.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===c8}function f8(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function d8(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const lx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ux=LT,c5=(t,e)=>n=>{var r;if(e?.variants==null)return ux(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(h=>{const f=n?.[h],p=s?.[h];if(f===null)return null;const y=lx(f)||lx(p);return i[h][y]}),l=n&&Object.entries(n).reduce((h,f)=>{let[p,y]=f;return y===void 0||(h[p]=y),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:p,className:y,...v}=f;return Object.entries(v).every(E=>{let[S,C]=E;return Array.isArray(C)?C.includes({...s,...l}[S]):{...s,...l}[S]===C})?[...h,p,y]:h},[]);return ux(t,o,c,n?.class,n?.className)},p8=c5("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Nt=dr.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?l8:"button";return x.jsx(o,{className:Tu(p8({variant:e,size:n,className:t})),ref:s,...i})});Nt.displayName="Button";var m8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const g8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ln=(t,e)=>{const n=Z.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...c},h)=>Z.createElement("svg",{ref:h,...m8,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${g8(t)}`,...c},[...e.map(([f,p])=>Z.createElement(f,p)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},BT=Ln("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),h5=Ln("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),y8=Ln("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),UT=Ln("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),v8=Ln("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),w8=Ln("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),_8=Ln("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),zT=Ln("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),b8=Ln("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),qT=Ln("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),x8=Ln("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),S8=Ln("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),A8=Ln("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),E8=Ln("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),HT=Ln("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),T8=Ln("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),C8=Ln("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),P8=Ln("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),N8=Ln("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),WT=Ln("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),$T=Ln("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),I8=Ln("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),du=Ln("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),k8=Ln("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),E0=Ln("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),T0=Ln("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),R8=Ln("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Mg=Ln("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),GT=Ln("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),L8=Ln("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),C1=({icon:t,title:e,description:n,delay:r})=>x.jsxs(_r.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:r},className:"bg-white dark:bg-gray-800/50 p-6 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-transparent hover:border-violet-500",children:[x.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-gradient-to-br from-violet-500 to-blue-500 text-white mb-4",children:t}),x.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:e}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n})]}),P1=({quote:t,author:e,role:n,delay:r})=>x.jsxs(_r.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.5},transition:{duration:.5,delay:r},className:"bg-white dark:bg-gray-800/50 p-8 rounded-2xl shadow-lg text-center",children:[x.jsxs("p",{className:"text-gray-700 dark:text-gray-300 italic mb-4",children:['"',t,'"']}),x.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:e}),x.jsx("p",{className:"text-sm text-violet-500 dark:text-violet-400",children:n})]}),D8=()=>x.jsxs(x.Fragment,{children:[x.jsxs(Pl,{children:[x.jsx("title",{children:"Wishlist2Cart - Transform Your Desires Into Deliveries"}),x.jsx("meta",{name:"description",content:"Wishlist2Cart helps you consolidate wishlists from all your favorite stores and turn them into purchases."})]}),x.jsxs(_r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"overflow-x-hidden",children:[x.jsx("header",{className:"w-full fixed top-0 left-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md shadow-sm border-b border-gray-200 dark:border-gray-800",children:x.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[x.jsxs(Mi,{to:"/",className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:x.jsx(du,{className:"text-white h-5 w-5"})}),x.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-violet-600 to-blue-500 bg-clip-text text-transparent",children:"Wishlist2Cart"})]}),x.jsx(Mi,{to:"/login",children:x.jsxs(Nt,{variant:"ghost",size:"sm",className:"text-sm",children:[x.jsx(A8,{className:"h-4 w-4 mr-1"}),"Login"]})})]})}),x.jsx("section",{className:"pt-28 pb-20 md:py-32 bg-gradient-to-br from-white to-gray-100 dark:from-gray-900 dark:to-black",children:x.jsxs("div",{className:"container mx-auto px-4 text-center",children:[x.jsx(_r.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},className:"text-4xl md:text-6xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-br from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 mb-4",children:"Transform Your Desires"}),x.jsx(_r.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2,ease:"easeOut"},className:"text-4xl md:text-6xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-br from-violet-600 to-blue-500",children:"Into Deliveries"}),x.jsx(_r.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4,ease:"easeOut"},className:"max-w-2xl mx-auto text-lg md:text-xl text-gray-600 dark:text-gray-400 mb-10",children:"Consolidate wishlists from all your favorite stores. One place to track, manage, and purchase everything you love."}),x.jsxs(_r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6,ease:"easeOut"},className:"flex justify-center gap-4 flex-wrap",children:[x.jsx(Nt,{size:"lg",asChild:!0,children:x.jsxs(Mi,{to:"/add-wishlist",children:["Add Wishlist ",x.jsx(BT,{className:"ml-2 h-5 w-5"})]})}),x.jsx(Nt,{size:"lg",variant:"outline",asChild:!0,children:x.jsxs(Mi,{to:"/cart",children:["View Cart ",x.jsx(du,{className:"ml-2 h-5 w-5"})]})})]})]})}),x.jsx("section",{className:"py-20 md:py-28 bg-gray-50 dark:bg-gray-950",children:x.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:"How It Works"}),x.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Simple steps to shopping bliss."})]}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[x.jsx(C1,{icon:x.jsx(L8,{size:24}),title:"1. Add Wishlist URLs",description:"Paste URLs from any store. We'll fetch the product details for you.",delay:.1}),x.jsx(C1,{icon:x.jsx(y8,{size:24}),title:"2. Organize Everything",description:"Your items stay in one unified dashboard. Tag, sort, prioritize.",delay:.2}),x.jsx(C1,{icon:x.jsx(du,{size:24}),title:"3. Move to Cart & Buy",description:"Ready to shop? Move to cart and we'll take you to buy from the original site.",delay:.3})]})]})}),x.jsx("section",{className:"py-20 md:py-28 bg-white dark:bg-gray-900",children:x.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[x.jsxs("div",{className:"text-center mb-12",children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white",children:"Loved by Shoppers Worldwide"}),x.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Dont just take our word for it."})]}),x.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[x.jsx(P1,{quote:"Wishlist2Cart has revolutionized my online shopping. I can finally keep track of everything in one place!",author:"Sarah J.",role:"Avid Online Shopper",delay:.1}),x.jsx(P1,{quote:"This app has saved me so much time and money. Highly recommended!",author:"Mike R.",role:"Bargain Hunter",delay:.2}),x.jsx(P1,{quote:"My friends and I use this for birthdays and holidays. Its amazing!",author:"Emily C.",role:"Gift Planner",delay:.3})]})]})})]})]}),O8=()=>{};var cx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},j8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let y=(l&15)<<2|h>>6,v=h&63;c||(v=64,o||(y=64)),r.push(n[f],n[p],n[y],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new M8;const y=s<<2|l>>4;if(r.push(y),h!==64){const v=l<<4&240|h>>2;if(r.push(v),p!==64){const E=h<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F8=function(t){const e=KT(t);return YT.encodeByteArray(e,!0)},Fg=function(t){return F8(t).replace(/\./g,"")},QT=function(t){try{return YT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=()=>V8().__FIREBASE_DEFAULTS__,U8=()=>{if(typeof process>"u"||typeof cx>"u")return;const t=cx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QT(t[1]);return e&&JSON.parse(e)},C0=()=>{try{return O8()||B8()||U8()||z8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XT=t=>C0()?.emulatorHosts?.[t],JT=t=>{const e=XT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZT=()=>C0()?.config,e4=t=>C0()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fg(JSON.stringify(n)),Fg(JSON.stringify(o)),""].join(".")}const rp={};function H8(){const t={prod:[],emulator:[]};for(const e of Object.keys(rp))rp[e]?t.emulator.push(e):t.prod.push(e);return t}function W8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hx=!1;function d5(t,e){if(typeof window>"u"||typeof document>"u"||!Hc(window.location.host)||rp[t]===e||rp[t]||hx)return;rp[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=H8().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{hx=!0,o()},y}function f(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=W8(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),S=n("learnmore"),C=document.getElementById(S)||document.createElement("a"),R=n("preprendIcon"),N=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const V=y.element;l(V),f(C,S);const H=h();c(N,R),V.append(N,E,C,H),document.body.appendChild(V)}s?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cs())}function G8(){const t=C0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X8(){const t=cs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J8(){return!G8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z8(){try{return typeof indexedDB=="object"}catch{return!1}}function ej(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="FirebaseError";class Il extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tj,Object.setPrototypeOf(this,Il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fp.prototype.create)}}class Fp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?nj(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Il(i,l,r)}}function nj(t,e){return t.replace(rj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rj=/\{\$([^}]+)}/g;function ij(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(fx(s)&&fx(o)){if(!Mh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Kd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sj(t,e){const n=new oj(t,e);return n.subscribe.bind(n)}class oj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=N1),i.error===void 0&&(i.error=N1),i.complete===void 0&&(i.complete=N1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function N1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t){return t&&t._delegate?t._delegate:t}class Rc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lj=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cj(e))try{this.getOrInitializeService({instanceIdentifier:vh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vh){return this.instances.has(e)}getOptions(e=vh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vh){return this.component?this.component.multipleInstances?e:vh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function uj(t){return t===vh?void 0:t}function cj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ln||(ln={}));const fj={debug:ln.DEBUG,verbose:ln.VERBOSE,info:ln.INFO,warn:ln.WARN,error:ln.ERROR,silent:ln.SILENT},dj=ln.INFO,pj={[ln.DEBUG]:"log",[ln.VERBOSE]:"log",[ln.INFO]:"info",[ln.WARN]:"warn",[ln.ERROR]:"error"},mj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p5{constructor(e){this.name=e,this._logLevel=dj,this._logHandler=mj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ln))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ln.DEBUG,...e),this._logHandler(this,ln.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ln.VERBOSE,...e),this._logHandler(this,ln.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ln.INFO,...e),this._logHandler(this,ln.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ln.WARN,...e),this._logHandler(this,ln.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ln.ERROR,...e),this._logHandler(this,ln.ERROR,...e)}}const gj=(t,e)=>e.some(n=>t instanceof n);let dx,px;function yj(){return dx||(dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vj(){return px||(px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n4=new WeakMap,Lv=new WeakMap,r4=new WeakMap,I1=new WeakMap,m5=new WeakMap;function wj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Tc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&n4.set(n,t)}).catch(()=>{}),m5.set(e,t),e}function _j(t){if(Lv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lv.set(t,e)}let Dv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||r4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bj(t){Dv=t(Dv)}function xj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(k1(this),e,...n);return r4.set(r,e.sort?e.sort():[e]),Tc(r)}:vj().includes(t)?function(...e){return t.apply(k1(this),e),Tc(n4.get(this))}:function(...e){return Tc(t.apply(k1(this),e))}}function Sj(t){return typeof t=="function"?xj(t):(t instanceof IDBTransaction&&_j(t),gj(t,yj())?new Proxy(t,Dv):t)}function Tc(t){if(t instanceof IDBRequest)return wj(t);if(I1.has(t))return I1.get(t);const e=Sj(t);return e!==t&&(I1.set(t,e),m5.set(e,t)),e}const k1=t=>m5.get(t);function Aj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Tc(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Tc(o.result),c.oldVersion,c.newVersion,Tc(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Ej=["get","getKey","getAll","getAllKeys","count"],Tj=["put","add","delete","clear"],R1=new Map;function mx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(R1.get(e))return R1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ej.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return R1.set(e,s),s}bj(t=>({...t,get:(e,n,r)=>mx(e,n)||t.get(e,n,r),has:(e,n)=>!!mx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pj(t){return t.getComponent()?.type==="VERSION"}const Ov="@firebase/app",gx="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new p5("@firebase/app"),Nj="@firebase/app-compat",Ij="@firebase/analytics-compat",kj="@firebase/analytics",Rj="@firebase/app-check-compat",Lj="@firebase/app-check",Dj="@firebase/auth",Oj="@firebase/auth-compat",jj="@firebase/database",Mj="@firebase/data-connect",Fj="@firebase/database-compat",Vj="@firebase/functions",Bj="@firebase/functions-compat",Uj="@firebase/installations",zj="@firebase/installations-compat",qj="@firebase/messaging",Hj="@firebase/messaging-compat",Wj="@firebase/performance",$j="@firebase/performance-compat",Gj="@firebase/remote-config",Kj="@firebase/remote-config-compat",Yj="@firebase/storage",Qj="@firebase/storage-compat",Xj="@firebase/firestore",Jj="@firebase/ai",Zj="@firebase/firestore-compat",e7="firebase",t7="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="[DEFAULT]",n7={[Ov]:"fire-core",[Nj]:"fire-core-compat",[kj]:"fire-analytics",[Ij]:"fire-analytics-compat",[Lj]:"fire-app-check",[Rj]:"fire-app-check-compat",[Dj]:"fire-auth",[Oj]:"fire-auth-compat",[jj]:"fire-rtdb",[Mj]:"fire-data-connect",[Fj]:"fire-rtdb-compat",[Vj]:"fire-fn",[Bj]:"fire-fn-compat",[Uj]:"fire-iid",[zj]:"fire-iid-compat",[qj]:"fire-fcm",[Hj]:"fire-fcm-compat",[Wj]:"fire-perf",[$j]:"fire-perf-compat",[Gj]:"fire-rc",[Kj]:"fire-rc-compat",[Yj]:"fire-gcs",[Qj]:"fire-gcs-compat",[Xj]:"fire-fst",[Zj]:"fire-fst-compat",[Jj]:"fire-vertex","fire-js":"fire-js",[e7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=new Map,r7=new Map,Mv=new Map;function yx(t,e){try{t.container.addComponent(e)}catch(n){yu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fh(t){const e=t.name;if(Mv.has(e))return yu.debug(`There were multiple attempts to register component ${e}.`),!1;Mv.set(e,t);for(const n of Vg.values())yx(n,t);for(const n of r7.values())yx(n,t);return!0}function P0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ns(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cc=new Fp("app","Firebase",i7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=t7;function i4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Cc.create("bad-app-name",{appName:String(i)});if(n||(n=ZT()),!n)throw Cc.create("no-options");const s=Vg.get(i);if(s){if(Mh(n,s.options)&&Mh(r,s.config))return s;throw Cc.create("duplicate-app",{appName:i})}const o=new hj(i);for(const c of Mv.values())o.addComponent(c);const l=new s7(n,r,o);return Vg.set(i,l),l}function g5(t=jv){const e=Vg.get(t);if(!e&&t===jv&&ZT())return i4();if(!e)throw Cc.create("no-app",{appName:t});return e}function _l(t,e,n){let r=n7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yu.warn(o.join(" "));return}Fh(new Rc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="firebase-heartbeat-database",a7=1,wp="firebase-heartbeat-store";let L1=null;function s4(){return L1||(L1=Aj(o7,a7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wp)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cc.create("idb-open",{originalErrorMessage:t.message})})),L1}async function l7(t){try{const n=(await s4()).transaction(wp),r=await n.objectStore(wp).get(o4(t));return await n.done,r}catch(e){if(e instanceof Il)yu.warn(e.message);else{const n=Cc.create("idb-get",{originalErrorMessage:e?.message});yu.warn(n.message)}}}async function vx(t,e){try{const r=(await s4()).transaction(wp,"readwrite");await r.objectStore(wp).put(e,o4(t)),await r.done}catch(n){if(n instanceof Il)yu.warn(n.message);else{const r=Cc.create("idb-set",{originalErrorMessage:n?.message});yu.warn(r.message)}}}function o4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=1024,c7=30;class h7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>c7){const i=p7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wx(),{heartbeatsToSend:n,unsentEntries:r}=f7(this._heartbeatsCache.heartbeats),i=Fg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return yu.warn(e),""}}}function wx(){return new Date().toISOString().substring(0,10)}function f7(t,e=u7){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_x(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_x(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class d7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z8()?ej().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l7(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _x(t){return Fg(JSON.stringify({version:2,heartbeats:t})).length}function p7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){Fh(new Rc("platform-logger",e=>new Cj(e),"PRIVATE")),Fh(new Rc("heartbeat",e=>new h7(e),"PRIVATE")),_l(Ov,gx,t),_l(Ov,gx,"esm2020"),_l("fire-js","")}m7("");function a4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g7=a4,l4=new Fp("auth","Firebase",a4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg=new p5("@firebase/auth");function y7(t,...e){Bg.logLevel<=ln.WARN&&Bg.warn(`Auth (${Qh}): ${t}`,...e)}function lg(t,...e){Bg.logLevel<=ln.ERROR&&Bg.error(`Auth (${Qh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,...e){throw v5(t,...e)}function za(t,...e){return v5(t,...e)}function y5(t,e,n){const r={...g7(),[e]:n};return new Fp("auth","Firebase",r).create(e,{appName:t.name})}function bl(t){return y5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u4(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&oa(t,"argument-error"),y5(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l4.create(t,...e)}function Mt(t,e,...n){if(!t)throw v5(e,...n)}function lu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lg(e),new Error(e)}function vu(t,e){t||lu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(){return typeof self<"u"&&self.location?.href||""}function c4(){return bx()==="http:"||bx()==="https:"}function bx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c4()||Y8()||"connection"in navigator)?navigator.onLine:!0}function w7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.shortDelay=e,this.longDelay=n,vu(n>e,"Short delay should be less than long delay!"),this.isMobile=$8()||Q8()}get(){return v7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t,e){vu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x7=new Bp(3e4,6e4);function Cu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Pu(t,e,n,r,i={}){return f4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Vp({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...s};return K8()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Hc(t.emulatorConfig.host)&&(h.credentials="include"),h4.fetch()(await d4(t,t.config.apiHost,n,l),h)})}async function f4(t,e,n){t._canInitEmulator=!1;const r={..._7,...e};try{const i=new A7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw qm(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw qm(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw qm(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw y5(t,f,h);oa(t,f)}}catch(i){if(i instanceof Il)throw i;oa(t,"network-request-failed",{message:String(i)})}}async function Up(t,e,n,r,i={}){const s=await Pu(t,e,n,r,i);return"mfaPendingCredential"in s&&oa(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function d4(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?w5(t.config,i):`${t.config.apiScheme}://${i}`;return b7.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function S7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(za(this.auth,"network-request-failed")),x7.get())})}}function qm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=za(t,e,r);return i.customData._tokenResponse=n,i}function xx(t){return t!==void 0&&t.enterprise!==void 0}class E7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function T7(t,e){return Pu(t,"GET","/v2/recaptchaConfig",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(t,e){return Pu(t,"POST","/v1/accounts:delete",e)}async function zg(t,e){return Pu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P7(t,e=!1){const n=pr(t),r=await n.getIdToken(e),i=_5(r);Mt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ip(D1(i.auth_time)),issuedAtTime:ip(D1(i.iat)),expirationTime:ip(D1(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function D1(t){return Number(t)*1e3}function _5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lg("JWT malformed, contained fewer than 3 sections"),null;try{const i=QT(n);return i?JSON.parse(i):(lg("Failed to decode base64 JWT payload"),null)}catch(i){return lg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Sx(t){const e=_5(t);return Mt(e,"internal-error"),Mt(typeof e.exp<"u","internal-error"),Mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _p(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Il&&N7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function N7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ip(this.lastLoginAt),this.creationTime=ip(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qg(t){const e=t.auth,n=await t.getIdToken(),r=await _p(t,zg(e,{idToken:n}));Mt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?p4(i.providerUserInfo):[],o=R7(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!o?.length,h=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Fv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function k7(t){const e=pr(t);await qg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function p4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L7(t,e){const n=await f4(t,{},async()=>{const r=Vp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await d4(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Hc(t.emulatorConfig.host)&&(c.credentials="include"),h4.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D7(t,e){return Pu(t,"POST","/v2/accounts:revokeToken",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Mt(e.idToken,"internal-error"),Mt(typeof e.idToken<"u","internal-error"),Mt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Mt(e.length!==0,"internal-error");const n=Sx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await L7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bf;return r&&(Mt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Mt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Mt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bf,this.toJSON())}_performRefresh(){return lu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t,e){Mt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ua{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new I7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _p(this,this.stsTokenManager.getToken(this.auth,e));return Mt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P7(this,e)}reload(){return k7(this)}_assign(e){this!==e&&(Mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ua({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ns(this.auth.app))return Promise.reject(bl(this.auth));const e=await this.getIdToken();return await _p(this,C7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:y,isAnonymous:v,providerData:E,stsTokenManager:S}=n;Mt(p&&S,e,"internal-error");const C=Bf.fromJSON(this.name,S);Mt(typeof p=="string",e,"internal-error"),fc(r,e.name),fc(i,e.name),Mt(typeof y=="boolean",e,"internal-error"),Mt(typeof v=="boolean",e,"internal-error"),fc(s,e.name),fc(o,e.name),fc(l,e.name),fc(c,e.name),fc(h,e.name),fc(f,e.name);const R=new Ua({uid:p,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:C,createdAt:h,lastLoginAt:f});return E&&Array.isArray(E)&&(R.providerData=E.map(N=>({...N}))),c&&(R._redirectEventId=c),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bf;i.updateFromServerResponse(n);const s=new Ua({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Mt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?p4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,l=new Bf;l.updateFromIdToken(r);const c=new Ua({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Fv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Map;function uu(t){vu(t instanceof Function,"Expected a class definition");let e=Ax.get(t);return e?(vu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ax.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}m4.type="NONE";const Ex=m4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e,n){return`firebase:${t}:${e}:${n}`}class Uf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ug(this.userKey,i.apiKey,s),this.fullPersistenceKey=ug("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zg(this.auth,{idToken:e}).catch(()=>{});return n?Ua._fromGetAccountInfoResponse(this.auth,n,e):null}return Ua._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uf(uu(Ex),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||uu(Ex);const o=ug(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(o);if(f){let p;if(typeof f=="string"){const y=await zg(e,{idToken:f}).catch(()=>{});if(!y)break;p=await Ua._fromGetAccountInfoResponse(e,y,f)}else p=Ua._fromJSON(e,f);h!==s&&(l=p),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Uf(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Uf(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b4(e))return"Blackberry";if(x4(e))return"Webos";if(y4(e))return"Safari";if((e.includes("chrome/")||v4(e))&&!e.includes("edge/"))return"Chrome";if(_4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function g4(t=cs()){return/firefox\//i.test(t)}function y4(t=cs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v4(t=cs()){return/crios\//i.test(t)}function w4(t=cs()){return/iemobile/i.test(t)}function _4(t=cs()){return/android/i.test(t)}function b4(t=cs()){return/blackberry/i.test(t)}function x4(t=cs()){return/webos/i.test(t)}function b5(t=cs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O7(t=cs()){return b5(t)&&!!window.navigator?.standalone}function j7(){return X8()&&document.documentMode===10}function S4(t=cs()){return b5(t)||_4(t)||x4(t)||b4(t)||/windows phone/i.test(t)||w4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t,e=[]){let n;switch(t){case"Browser":n=Tx(cs());break;case"Worker":n=`${Tx(cs())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F7(t,e={}){return Pu(t,"GET","/v2/passwordPolicy",Cu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=6;class B7{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??V7,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cx(this),this.idTokenSubscription=new Cx(this),this.beforeStateQueue=new M7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=uu(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Uf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zg(this,{idToken:e}),r=await Ua._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ns(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ns(this.app))return Promise.reject(bl(this));const n=e?pr(e):null;return n&&Mt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ns(this.app)?Promise.reject(bl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ns(this.app)?Promise.reject(bl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(uu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F7(this),n=new B7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await D7(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&uu(e)||this._popupRedirectResolver;Mt(n,this,"argument-error"),this.redirectPersistenceManager=await Uf.create(this,[uu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&y7(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kl(t){return pr(t)}class Cx{constructor(e){this.auth=e,this.observer=null,this.addObserver=sj(n=>this.observer=n)}get next(){return Mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z7(t){N0=t}function E4(t){return N0.loadJS(t)}function q7(){return N0.recaptchaEnterpriseScript}function H7(){return N0.gapiScript}function W7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $7{constructor(){this.enterprise=new G7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const K7="recaptcha-enterprise",T4="NO_RECAPTCHA";class Y7{constructor(e){this.type=K7,this.auth=kl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{T7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new E7(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;xx(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(T4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $7().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&xx(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=q7();c.length!==0&&(c+=l),E4(c).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function Px(t,e,n,r=!1,i=!1){const s=new Y7(t);let o;if(i)o=T4;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Vv(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Px(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Px(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t,e){const n=P0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mh(s,e??{}))return i;oa(i,"already-initialized")}return n.initialize({options:e})}function X7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(uu);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function J7(t,e,n){const r=kl(t);Mt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=C4(e),{host:o,port:l}=Z7(e),c=l===null?"":`:${l}`,h={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Mt(Mh(h,r.config.emulator)&&Mh(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Hc(o)?(f5(`${s}//${o}${c}`),d5("Auth",!0)):eM()}function C4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z7(t){const e=C4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Nx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Nx(o)}}}function Nx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lu("not implemented")}_getIdTokenResponse(e){return lu("not implemented")}_linkToIdToken(e,n){return lu("not implemented")}_getReauthenticationResolver(e){return lu("not implemented")}}async function tM(t,e){return Pu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e){return Up(t,"POST","/v1/accounts:signInWithPassword",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e){return Up(t,"POST","/v1/accounts:signInWithEmailLink",Cu(t,e))}async function iM(t,e){return Up(t,"POST","/v1/accounts:signInWithEmailLink",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends x5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vv(e,n,"signInWithPassword",nM);case"emailLink":return rM(e,{email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vv(e,r,"signUpPassword",tM);case"emailLink":return iM(e,{idToken:n,email:this._email,oobCode:this._password});default:oa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t,e){return Up(t,"POST","/v1/accounts:signInWithIdp",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="http://localhost";class Vh extends x5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Vh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zf(e,n)}buildRequest(){const e={requestUri:sM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aM(t){const e=Gd(Kd(t)).link,n=e?Gd(Kd(e)).deep_link_id:null,r=Gd(Kd(t)).deep_link_id;return(r?Gd(Kd(r)).link:null)||r||n||e||t}class S5{constructor(e){const n=Gd(Kd(e)),r=n.apiKey??null,i=n.oobCode??null,s=oM(n.mode??null);Mt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aM(e);try{return new S5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this.providerId=ad.PROVIDER_ID}static credential(e,n){return bp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=S5.parseLink(n);return Mt(r,"argument-error"),bp._fromEmailAndCode(e,r.code,r.tenantId)}}ad.PROVIDER_ID="password";ad.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ad.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends I0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends zp{constructor(){super("facebook.com")}static credential(e){return Vh._fromParams({providerId:yc.PROVIDER_ID,signInMethod:yc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yc.credentialFromTaggedObject(e)}static credentialFromError(e){return yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yc.credential(e.oauthAccessToken)}catch{return null}}}yc.FACEBOOK_SIGN_IN_METHOD="facebook.com";yc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends zp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vh._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ou.credential(n,r)}catch{return null}}}ou.GOOGLE_SIGN_IN_METHOD="google.com";ou.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends zp{constructor(){super("github.com")}static credential(e){return Vh._fromParams({providerId:vc.PROVIDER_ID,signInMethod:vc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vc.credentialFromTaggedObject(e)}static credentialFromError(e){return vc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vc.credential(e.oauthAccessToken)}catch{return null}}}vc.GITHUB_SIGN_IN_METHOD="github.com";vc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends zp{constructor(){super("twitter.com")}static credential(e,n){return Vh._fromParams({providerId:wc.PROVIDER_ID,signInMethod:wc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wc.credentialFromTaggedObject(e)}static credentialFromError(e){return wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wc.credential(n,r)}catch{return null}}}wc.TWITTER_SIGN_IN_METHOD="twitter.com";wc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){return Up(t,"POST","/v1/accounts:signUp",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ua._fromIdTokenResponse(e,r,i),o=Ix(r);return new Bh({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ix(r);return new Bh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ix(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg extends Il{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hg(e,n,r,i)}}function P4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hg._fromErrorAndOperation(t,s,e,r):s})}async function uM(t,e,n=!1){const r=await _p(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e,n=!1){const{auth:r}=t;if(Ns(r.app))return Promise.reject(bl(r));const i="reauthenticate";try{const s=await _p(t,P4(r,i,e,t),n);Mt(s.idToken,r,"internal-error");const o=_5(s.idToken);Mt(o,r,"internal-error");const{sub:l}=o;return Mt(t.uid===l,r,"user-mismatch"),Bh._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&oa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e,n=!1){if(Ns(t.app))return Promise.reject(bl(t));const r="signIn",i=await P4(t,r,e),s=await Bh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function hM(t,e){return N4(kl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t){const e=kl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fM(t,e,n){if(Ns(t.app))return Promise.reject(bl(t));const r=kl(t),o=await Vv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lM).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&I4(t),c}),l=await Bh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function dM(t,e,n){return Ns(t.app)?Promise.reject(bl(t)):hM(pr(t),ad.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&I4(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e){return Pu(t,"POST","/v1/accounts:createAuthUri",Cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e){const n=c4()?Ug():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await pM(pr(t),r);return i||[]}function gM(t,e,n,r){return pr(t).onIdTokenChanged(e,n,r)}function yM(t,e,n){return pr(t).beforeAuthStateChanged(e,n)}function vM(t,e,n,r){return pr(t).onAuthStateChanged(e,n,r)}function kx(t){return pr(t).signOut()}const Wg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wg,"1"),this.storage.removeItem(Wg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=1e3,_M=10;class R4 extends k4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);j7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_M):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R4.type="LOCAL";const bM=R4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4 extends k4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L4.type="SESSION";const D4=L4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new k0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,s)),c=await xM(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}k0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const h=A5("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(y.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(){return window}function AM(t){xl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(){return typeof xl().WorkerGlobalScope<"u"&&typeof xl().importScripts=="function"}async function EM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TM(){return navigator?.serviceWorker?.controller||null}function CM(){return O4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="firebaseLocalStorageDb",PM=1,$g="firebaseLocalStorage",M4="fbase_key";class qp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function R0(t,e){return t.transaction([$g],e?"readwrite":"readonly").objectStore($g)}function NM(){const t=indexedDB.deleteDatabase(j4);return new qp(t).toPromise()}function Bv(){const t=indexedDB.open(j4,PM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($g,{keyPath:M4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($g)?e(r):(r.close(),await NM(),e(await Bv()))})})}async function Rx(t,e,n){const r=R0(t,!0).put({[M4]:e,value:n});return new qp(r).toPromise()}async function IM(t,e){const n=R0(t,!1).get(e),r=await new qp(n).toPromise();return r===void 0?null:r.value}function Lx(t,e){const n=R0(t,!0).delete(e);return new qp(n).toPromise()}const kM=800,RM=3;class F4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>RM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=k0._getInstance(CM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EM(),!this.activeServiceWorker)return;this.sender=new SM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bv();return await Rx(e,Wg,"1"),await Lx(e,Wg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>IM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=R0(i,!1).getAll();return new qp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F4.type="LOCAL";const LM=F4;new Bp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t,e){return e?uu(e):(Mt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5 extends x5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DM(t){return N4(t.auth,new T5(t),t.bypassAuthState)}function OM(t){const{auth:e,user:n}=t;return Mt(n,e,"internal-error"),cM(n,new T5(t),t.bypassAuthState)}async function jM(t){const{auth:e,user:n}=t;return Mt(n,e,"internal-error"),uM(n,new T5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DM;case"linkViaPopup":case"linkViaRedirect":return jM;case"reauthViaPopup":case"reauthViaRedirect":return OM;default:oa(this.auth,"internal-error")}}resolve(e){vu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new Bp(2e3,1e4);async function FM(t,e,n){if(Ns(t.app))return Promise.reject(za(t,"operation-not-supported-in-this-environment"));const r=kl(t);u4(t,e,I0);const i=E5(r,n);return new Th(r,"signInViaPopup",e,i).executeNotNull()}class Th extends V4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Th.currentPopupAction&&Th.currentPopupAction.cancel(),Th.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Mt(e,this.auth,"internal-error"),e}async onExecution(){vu(this.filter.length===1,"Popup operations only handle one event");const e=A5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(za(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(za(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Th.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(za(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MM.get())};e()}}Th.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="pendingRedirect",cg=new Map;class BM extends V4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cg.get(this.auth._key());if(!e){try{const r=await UM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cg.set(this.auth._key(),e)}return this.bypassAuthState||cg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UM(t,e){const n=U4(e),r=B4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function zM(t,e){return B4(t)._set(U4(e),"true")}function qM(t,e){cg.set(t._key(),e)}function B4(t){return uu(t._redirectPersistence)}function U4(t){return ug(VM,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e,n){return WM(t,e,n)}async function WM(t,e,n){if(Ns(t.app))return Promise.reject(bl(t));const r=kl(t);u4(t,e,I0),await r._initializationPromise;const i=E5(r,n);return await zM(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function $M(t,e){return await kl(t)._initializationPromise,z4(t,e,!1)}async function z4(t,e,n=!1){if(Ns(t.app))return Promise.reject(bl(t));const r=kl(t),i=E5(r,e),o=await new BM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=600*1e3;class KM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!q4(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(za(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dx(e))}saveEventToCache(e){this.cachedEventUids.add(Dx(e)),this.lastProcessedEventTime=Date.now()}}function Dx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function YM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e={}){return Pu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JM=/^https?/;async function ZM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QM(t);for(const n of e)try{if(eF(n))return}catch{}oa(t,"unauthorized-domain")}function eF(t){const e=Ug(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!JM.test(n))return!1;if(XM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new Bp(3e4,6e4);function Ox(){const t=xl().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nF(t){return new Promise((e,n)=>{function r(){Ox(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ox(),n(za(t,"network-request-failed"))},timeout:tF.get()})}if(xl().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xl().gapi?.load)r();else{const i=W7("iframefcb");return xl()[i]=()=>{gapi.load?r():n(za(t,"network-request-failed"))},E4(`${H7()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw hg=null,e})}let hg=null;function rF(t){return hg=hg||nF(t),hg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=new Bp(5e3,15e3),sF="__/auth/iframe",oF="emulator/auth/iframe",aF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uF(t){const e=t.config;Mt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?w5(e,oF):`https://${t.config.authDomain}/${sF}`,r={apiKey:e.apiKey,appName:t.name,v:Qh},i=lF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vp(r).slice(1)}`}async function cF(t){const e=await rF(t),n=xl().gapi;return Mt(n,t,"internal-error"),e.open({where:document.body,url:uF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=za(t,"network-request-failed"),l=xl().setTimeout(()=>{s(o)},iF.get());function c(){xl().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fF=500,dF=600,pF="_blank",mF="http://localhost";class jx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gF(t,e,n,r=fF,i=dF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...hF,width:r.toString(),height:i.toString(),top:s,left:o},h=cs().toLowerCase();n&&(l=v4(h)?pF:n),g4(h)&&(e=e||mF,c.scrollbars="yes");const f=Object.entries(c).reduce((y,[v,E])=>`${y}${v}=${E},`,"");if(O7(h)&&l!=="_self")return yF(e||"",l),new jx(null);const p=window.open(e||"",l,f);Mt(p,t,"popup-blocked");try{p.focus()}catch{}return new jx(p)}function yF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="__/auth/handler",wF="emulator/auth/handler",_F=encodeURIComponent("fac");async function Mx(t,e,n,r,i,s){Mt(t.config.authDomain,t,"auth-domain-config-required"),Mt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qh,eventId:i};if(e instanceof I0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ij(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof zp){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),h=c?`#${_F}=${encodeURIComponent(c)}`:"";return`${bF(t)}?${Vp(l).slice(1)}${h}`}function bF({config:t}){return t.emulator?w5(t,wF):`https://${t.authDomain}/${vF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="webStorageSupport";class xF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D4,this._completeRedirectFn=z4,this._overrideRedirectResult=qM}async _openPopup(e,n,r,i){vu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await Mx(e,n,r,Ug(),i);return gF(e,s,A5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Mx(e,n,r,Ug(),i);return AM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cF(e),r=new KM(e);return n.register("authEvent",i=>(Mt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(O1,{type:O1},i=>{const s=i?.[0]?.[O1];s!==void 0&&n(!!s),oa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return S4()||y4()||b5()}}const SF=xF;var Fx="@firebase/auth",Vx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TF(t){Fh(new Rc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Mt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A4(t)},h=new U7(r,i,s,c);return X7(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fh(new Rc("auth-internal",e=>{const n=kl(e.getProvider("auth").getImmediate());return(r=>new AF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_l(Fx,Vx,EF(t)),_l(Fx,Vx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=300,PF=e4("authIdTokenMaxAge")||CF;let Bx=null;const NF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PF)return;const i=n?.token;Bx!==i&&(Bx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function IF(t=g5()){const e=P0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q7(t,{popupRedirectResolver:SF,persistence:[LM,bM,D4]}),r=e4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=NF(s.toString());yM(n,o,()=>o(n.currentUser)),gM(n,l=>o(l))}}const i=XT("auth");return i&&J7(n,`http://${i}`),n}function kF(){return document.getElementsByTagName("head")?.[0]??document}z7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=za("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TF("Browser");var RF="firebase",LF="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_l(RF,LF,"app");var Ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pc,H4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,O){function U(){}U.prototype=O.prototype,B.D=O.prototype,B.prototype=new U,B.prototype.constructor=B,B.C=function(Q,L,I){for(var M=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)M[ee-2]=arguments[ee];return O.prototype[L].apply(Q,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(B,O,U){U||(U=0);var Q=Array(16);if(typeof O=="string")for(var L=0;16>L;++L)Q[L]=O.charCodeAt(U++)|O.charCodeAt(U++)<<8|O.charCodeAt(U++)<<16|O.charCodeAt(U++)<<24;else for(L=0;16>L;++L)Q[L]=O[U++]|O[U++]<<8|O[U++]<<16|O[U++]<<24;O=B.g[0],U=B.g[1],L=B.g[2];var I=B.g[3],M=O+(I^U&(L^I))+Q[0]+3614090360&4294967295;O=U+(M<<7&4294967295|M>>>25),M=I+(L^O&(U^L))+Q[1]+3905402710&4294967295,I=O+(M<<12&4294967295|M>>>20),M=L+(U^I&(O^U))+Q[2]+606105819&4294967295,L=I+(M<<17&4294967295|M>>>15),M=U+(O^L&(I^O))+Q[3]+3250441966&4294967295,U=L+(M<<22&4294967295|M>>>10),M=O+(I^U&(L^I))+Q[4]+4118548399&4294967295,O=U+(M<<7&4294967295|M>>>25),M=I+(L^O&(U^L))+Q[5]+1200080426&4294967295,I=O+(M<<12&4294967295|M>>>20),M=L+(U^I&(O^U))+Q[6]+2821735955&4294967295,L=I+(M<<17&4294967295|M>>>15),M=U+(O^L&(I^O))+Q[7]+4249261313&4294967295,U=L+(M<<22&4294967295|M>>>10),M=O+(I^U&(L^I))+Q[8]+1770035416&4294967295,O=U+(M<<7&4294967295|M>>>25),M=I+(L^O&(U^L))+Q[9]+2336552879&4294967295,I=O+(M<<12&4294967295|M>>>20),M=L+(U^I&(O^U))+Q[10]+4294925233&4294967295,L=I+(M<<17&4294967295|M>>>15),M=U+(O^L&(I^O))+Q[11]+2304563134&4294967295,U=L+(M<<22&4294967295|M>>>10),M=O+(I^U&(L^I))+Q[12]+1804603682&4294967295,O=U+(M<<7&4294967295|M>>>25),M=I+(L^O&(U^L))+Q[13]+4254626195&4294967295,I=O+(M<<12&4294967295|M>>>20),M=L+(U^I&(O^U))+Q[14]+2792965006&4294967295,L=I+(M<<17&4294967295|M>>>15),M=U+(O^L&(I^O))+Q[15]+1236535329&4294967295,U=L+(M<<22&4294967295|M>>>10),M=O+(L^I&(U^L))+Q[1]+4129170786&4294967295,O=U+(M<<5&4294967295|M>>>27),M=I+(U^L&(O^U))+Q[6]+3225465664&4294967295,I=O+(M<<9&4294967295|M>>>23),M=L+(O^U&(I^O))+Q[11]+643717713&4294967295,L=I+(M<<14&4294967295|M>>>18),M=U+(I^O&(L^I))+Q[0]+3921069994&4294967295,U=L+(M<<20&4294967295|M>>>12),M=O+(L^I&(U^L))+Q[5]+3593408605&4294967295,O=U+(M<<5&4294967295|M>>>27),M=I+(U^L&(O^U))+Q[10]+38016083&4294967295,I=O+(M<<9&4294967295|M>>>23),M=L+(O^U&(I^O))+Q[15]+3634488961&4294967295,L=I+(M<<14&4294967295|M>>>18),M=U+(I^O&(L^I))+Q[4]+3889429448&4294967295,U=L+(M<<20&4294967295|M>>>12),M=O+(L^I&(U^L))+Q[9]+568446438&4294967295,O=U+(M<<5&4294967295|M>>>27),M=I+(U^L&(O^U))+Q[14]+3275163606&4294967295,I=O+(M<<9&4294967295|M>>>23),M=L+(O^U&(I^O))+Q[3]+4107603335&4294967295,L=I+(M<<14&4294967295|M>>>18),M=U+(I^O&(L^I))+Q[8]+1163531501&4294967295,U=L+(M<<20&4294967295|M>>>12),M=O+(L^I&(U^L))+Q[13]+2850285829&4294967295,O=U+(M<<5&4294967295|M>>>27),M=I+(U^L&(O^U))+Q[2]+4243563512&4294967295,I=O+(M<<9&4294967295|M>>>23),M=L+(O^U&(I^O))+Q[7]+1735328473&4294967295,L=I+(M<<14&4294967295|M>>>18),M=U+(I^O&(L^I))+Q[12]+2368359562&4294967295,U=L+(M<<20&4294967295|M>>>12),M=O+(U^L^I)+Q[5]+4294588738&4294967295,O=U+(M<<4&4294967295|M>>>28),M=I+(O^U^L)+Q[8]+2272392833&4294967295,I=O+(M<<11&4294967295|M>>>21),M=L+(I^O^U)+Q[11]+1839030562&4294967295,L=I+(M<<16&4294967295|M>>>16),M=U+(L^I^O)+Q[14]+4259657740&4294967295,U=L+(M<<23&4294967295|M>>>9),M=O+(U^L^I)+Q[1]+2763975236&4294967295,O=U+(M<<4&4294967295|M>>>28),M=I+(O^U^L)+Q[4]+1272893353&4294967295,I=O+(M<<11&4294967295|M>>>21),M=L+(I^O^U)+Q[7]+4139469664&4294967295,L=I+(M<<16&4294967295|M>>>16),M=U+(L^I^O)+Q[10]+3200236656&4294967295,U=L+(M<<23&4294967295|M>>>9),M=O+(U^L^I)+Q[13]+681279174&4294967295,O=U+(M<<4&4294967295|M>>>28),M=I+(O^U^L)+Q[0]+3936430074&4294967295,I=O+(M<<11&4294967295|M>>>21),M=L+(I^O^U)+Q[3]+3572445317&4294967295,L=I+(M<<16&4294967295|M>>>16),M=U+(L^I^O)+Q[6]+76029189&4294967295,U=L+(M<<23&4294967295|M>>>9),M=O+(U^L^I)+Q[9]+3654602809&4294967295,O=U+(M<<4&4294967295|M>>>28),M=I+(O^U^L)+Q[12]+3873151461&4294967295,I=O+(M<<11&4294967295|M>>>21),M=L+(I^O^U)+Q[15]+530742520&4294967295,L=I+(M<<16&4294967295|M>>>16),M=U+(L^I^O)+Q[2]+3299628645&4294967295,U=L+(M<<23&4294967295|M>>>9),M=O+(L^(U|~I))+Q[0]+4096336452&4294967295,O=U+(M<<6&4294967295|M>>>26),M=I+(U^(O|~L))+Q[7]+1126891415&4294967295,I=O+(M<<10&4294967295|M>>>22),M=L+(O^(I|~U))+Q[14]+2878612391&4294967295,L=I+(M<<15&4294967295|M>>>17),M=U+(I^(L|~O))+Q[5]+4237533241&4294967295,U=L+(M<<21&4294967295|M>>>11),M=O+(L^(U|~I))+Q[12]+1700485571&4294967295,O=U+(M<<6&4294967295|M>>>26),M=I+(U^(O|~L))+Q[3]+2399980690&4294967295,I=O+(M<<10&4294967295|M>>>22),M=L+(O^(I|~U))+Q[10]+4293915773&4294967295,L=I+(M<<15&4294967295|M>>>17),M=U+(I^(L|~O))+Q[1]+2240044497&4294967295,U=L+(M<<21&4294967295|M>>>11),M=O+(L^(U|~I))+Q[8]+1873313359&4294967295,O=U+(M<<6&4294967295|M>>>26),M=I+(U^(O|~L))+Q[15]+4264355552&4294967295,I=O+(M<<10&4294967295|M>>>22),M=L+(O^(I|~U))+Q[6]+2734768916&4294967295,L=I+(M<<15&4294967295|M>>>17),M=U+(I^(L|~O))+Q[13]+1309151649&4294967295,U=L+(M<<21&4294967295|M>>>11),M=O+(L^(U|~I))+Q[4]+4149444226&4294967295,O=U+(M<<6&4294967295|M>>>26),M=I+(U^(O|~L))+Q[11]+3174756917&4294967295,I=O+(M<<10&4294967295|M>>>22),M=L+(O^(I|~U))+Q[2]+718787259&4294967295,L=I+(M<<15&4294967295|M>>>17),M=U+(I^(L|~O))+Q[9]+3951481745&4294967295,B.g[0]=B.g[0]+O&4294967295,B.g[1]=B.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,B.g[2]=B.g[2]+L&4294967295,B.g[3]=B.g[3]+I&4294967295}r.prototype.u=function(B,O){O===void 0&&(O=B.length);for(var U=O-this.blockSize,Q=this.B,L=this.h,I=0;I<O;){if(L==0)for(;I<=U;)i(this,B,I),I+=this.blockSize;if(typeof B=="string"){for(;I<O;)if(Q[L++]=B.charCodeAt(I++),L==this.blockSize){i(this,Q),L=0;break}}else for(;I<O;)if(Q[L++]=B[I++],L==this.blockSize){i(this,Q),L=0;break}}this.h=L,this.o+=O},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var O=1;O<B.length-8;++O)B[O]=0;var U=8*this.o;for(O=B.length-8;O<B.length;++O)B[O]=U&255,U/=256;for(this.u(B),B=Array(16),O=U=0;4>O;++O)for(var Q=0;32>Q;Q+=8)B[U++]=this.g[O]>>>Q&255;return B};function s(B,O){var U=l;return Object.prototype.hasOwnProperty.call(U,B)?U[B]:U[B]=O(B)}function o(B,O){this.h=O;for(var U=[],Q=!0,L=B.length-1;0<=L;L--){var I=B[L]|0;Q&&I==O||(U[L]=I,Q=!1)}this.g=U}var l={};function c(B){return-128<=B&&128>B?s(B,function(O){return new o([O|0],0>O?-1:0)}):new o([B|0],0>B?-1:0)}function h(B){if(isNaN(B)||!isFinite(B))return p;if(0>B)return C(h(-B));for(var O=[],U=1,Q=0;B>=U;Q++)O[Q]=B/U|0,U*=4294967296;return new o(O,0)}function f(B,O){if(B.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(B.charAt(0)=="-")return C(f(B.substring(1),O));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=h(Math.pow(O,8)),Q=p,L=0;L<B.length;L+=8){var I=Math.min(8,B.length-L),M=parseInt(B.substring(L,L+I),O);8>I?(I=h(Math.pow(O,I)),Q=Q.j(I).add(h(M))):(Q=Q.j(U),Q=Q.add(h(M)))}return Q}var p=c(0),y=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-C(this).m();for(var B=0,O=1,U=0;U<this.g.length;U++){var Q=this.i(U);B+=(0<=Q?Q:4294967296+Q)*O,O*=4294967296}return B},t.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(E(this))return"0";if(S(this))return"-"+C(this).toString(B);for(var O=h(Math.pow(B,6)),U=this,Q="";;){var L=H(U,O).g;U=R(U,L.j(O));var I=((0<U.g.length?U.g[0]:U.h)>>>0).toString(B);if(U=L,E(U))return I+Q;for(;6>I.length;)I="0"+I;Q=I+Q}},t.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function E(B){if(B.h!=0)return!1;for(var O=0;O<B.g.length;O++)if(B.g[O]!=0)return!1;return!0}function S(B){return B.h==-1}t.l=function(B){return B=R(this,B),S(B)?-1:E(B)?0:1};function C(B){for(var O=B.g.length,U=[],Q=0;Q<O;Q++)U[Q]=~B.g[Q];return new o(U,~B.h).add(y)}t.abs=function(){return S(this)?C(this):this},t.add=function(B){for(var O=Math.max(this.g.length,B.g.length),U=[],Q=0,L=0;L<=O;L++){var I=Q+(this.i(L)&65535)+(B.i(L)&65535),M=(I>>>16)+(this.i(L)>>>16)+(B.i(L)>>>16);Q=M>>>16,I&=65535,M&=65535,U[L]=M<<16|I}return new o(U,U[U.length-1]&-2147483648?-1:0)};function R(B,O){return B.add(C(O))}t.j=function(B){if(E(this)||E(B))return p;if(S(this))return S(B)?C(this).j(C(B)):C(C(this).j(B));if(S(B))return C(this.j(C(B)));if(0>this.l(v)&&0>B.l(v))return h(this.m()*B.m());for(var O=this.g.length+B.g.length,U=[],Q=0;Q<2*O;Q++)U[Q]=0;for(Q=0;Q<this.g.length;Q++)for(var L=0;L<B.g.length;L++){var I=this.i(Q)>>>16,M=this.i(Q)&65535,ee=B.i(L)>>>16,Se=B.i(L)&65535;U[2*Q+2*L]+=M*Se,N(U,2*Q+2*L),U[2*Q+2*L+1]+=I*Se,N(U,2*Q+2*L+1),U[2*Q+2*L+1]+=M*ee,N(U,2*Q+2*L+1),U[2*Q+2*L+2]+=I*ee,N(U,2*Q+2*L+2)}for(Q=0;Q<O;Q++)U[Q]=U[2*Q+1]<<16|U[2*Q];for(Q=O;Q<2*O;Q++)U[Q]=0;return new o(U,0)};function N(B,O){for(;(B[O]&65535)!=B[O];)B[O+1]+=B[O]>>>16,B[O]&=65535,O++}function V(B,O){this.g=B,this.h=O}function H(B,O){if(E(O))throw Error("division by zero");if(E(B))return new V(p,p);if(S(B))return O=H(C(B),O),new V(C(O.g),C(O.h));if(S(O))return O=H(B,C(O)),new V(C(O.g),O.h);if(30<B.g.length){if(S(B)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var U=y,Q=O;0>=Q.l(B);)U=ie(U),Q=ie(Q);var L=ce(U,1),I=ce(Q,1);for(Q=ce(Q,2),U=ce(U,2);!E(Q);){var M=I.add(Q);0>=M.l(B)&&(L=L.add(U),I=M),Q=ce(Q,1),U=ce(U,1)}return O=R(B,L.j(O)),new V(L,O)}for(L=p;0<=B.l(O);){for(U=Math.max(1,Math.floor(B.m()/O.m())),Q=Math.ceil(Math.log(U)/Math.LN2),Q=48>=Q?1:Math.pow(2,Q-48),I=h(U),M=I.j(O);S(M)||0<M.l(B);)U-=Q,I=h(U),M=I.j(O);E(I)&&(I=y),L=L.add(I),B=R(B,M)}return new V(L,B)}t.A=function(B){return H(this,B).h},t.and=function(B){for(var O=Math.max(this.g.length,B.g.length),U=[],Q=0;Q<O;Q++)U[Q]=this.i(Q)&B.i(Q);return new o(U,this.h&B.h)},t.or=function(B){for(var O=Math.max(this.g.length,B.g.length),U=[],Q=0;Q<O;Q++)U[Q]=this.i(Q)|B.i(Q);return new o(U,this.h|B.h)},t.xor=function(B){for(var O=Math.max(this.g.length,B.g.length),U=[],Q=0;Q<O;Q++)U[Q]=this.i(Q)^B.i(Q);return new o(U,this.h^B.h)};function ie(B){for(var O=B.g.length+1,U=[],Q=0;Q<O;Q++)U[Q]=B.i(Q)<<1|B.i(Q-1)>>>31;return new o(U,B.h)}function ce(B,O){var U=O>>5;O%=32;for(var Q=B.g.length-U,L=[],I=0;I<Q;I++)L[I]=0<O?B.i(I+U)>>>O|B.i(I+U+1)<<32-O:B.i(I+U);return new o(L,B.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,H4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,Pc=o}).apply(typeof Ux<"u"?Ux:typeof self<"u"?self:typeof window<"u"?window:{});var Hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W4,Yd,$4,fg,Uv,G4,K4,Y4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,P,j){return g==Array.prototype||g==Object.prototype||(g[P]=j.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hm=="object"&&Hm];for(var P=0;P<g.length;++P){var j=g[P];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(g,P){if(P)e:{var j=r;g=g.split(".");for(var Y=0;Y<g.length-1;Y++){var be=g[Y];if(!(be in j))break e;j=j[be]}g=g[g.length-1],Y=j[g],P=P(Y),P!=Y&&P!=null&&e(j,g,{configurable:!0,writable:!0,value:P})}}function s(g,P){g instanceof String&&(g+="");var j=0,Y=!1,be={next:function(){if(!Y&&j<g.length){var Re=j++;return{value:P(Re,g[Re]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return be[Symbol.iterator]=function(){return be},be}i("Array.prototype.values",function(g){return g||function(){return s(this,function(P,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var P=typeof g;return P=P!="object"?P:g?Array.isArray(g)?"array":P:"null",P=="array"||P=="object"&&typeof g.length=="number"}function h(g){var P=typeof g;return P=="object"&&g!=null||P=="function"}function f(g,P,j){return g.call.apply(g.bind,arguments)}function p(g,P,j){if(!g)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var be=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(be,Y),g.apply(P,be)}}return function(){return g.apply(P,arguments)}}function y(g,P,j){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function v(g,P){var j=Array.prototype.slice.call(arguments,1);return function(){var Y=j.slice();return Y.push.apply(Y,arguments),g.apply(this,Y)}}function E(g,P){function j(){}j.prototype=P.prototype,g.aa=P.prototype,g.prototype=new j,g.prototype.constructor=g,g.Qb=function(Y,be,Re){for(var Ke=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)Ke[Ht-2]=arguments[Ht];return P.prototype[be].apply(Y,Ke)}}function S(g){const P=g.length;if(0<P){const j=Array(P);for(let Y=0;Y<P;Y++)j[Y]=g[Y];return j}return[]}function C(g,P){for(let j=1;j<arguments.length;j++){const Y=arguments[j];if(c(Y)){const be=g.length||0,Re=Y.length||0;g.length=be+Re;for(let Ke=0;Ke<Re;Ke++)g[be+Ke]=Y[Ke]}else g.push(Y)}}class R{constructor(P,j){this.i=P,this.j=j,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function N(g){return/^[\s\xa0]*$/.test(g)}function V(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}function H(g){return H[" "](g),g}H[" "]=function(){};var ie=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function ce(g,P,j){for(const Y in g)P.call(j,g[Y],Y,g)}function B(g,P){for(const j in g)P.call(void 0,g[j],j,g)}function O(g){const P={};for(const j in g)P[j]=g[j];return P}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(g,P){let j,Y;for(let be=1;be<arguments.length;be++){Y=arguments[be];for(j in Y)g[j]=Y[j];for(let Re=0;Re<U.length;Re++)j=U[Re],Object.prototype.hasOwnProperty.call(Y,j)&&(g[j]=Y[j])}}function L(g){var P=1;g=g.split(":");const j=[];for(;0<P&&g.length;)j.push(g.shift()),P--;return g.length&&j.push(g.join(":")),j}function I(g){l.setTimeout(()=>{throw g},0)}function M(){var g=we;let P=null;return g.g&&(P=g.g,g.g=g.g.next,g.g||(g.h=null),P.next=null),P}class ee{constructor(){this.h=this.g=null}add(P,j){const Y=Se.get();Y.set(P,j),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var Se=new R(()=>new ve,g=>g.reset());class ve{constructor(){this.next=this.g=this.h=null}set(P,j){this.h=P,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,oe=!1,we=new ee,ye=()=>{const g=l.Promise.resolve(void 0);Pe=()=>{g.then(re)}};var re=()=>{for(var g;g=M();){try{g.h.call(g.g)}catch(j){I(j)}var P=Se;P.j(g),100>P.h&&(P.h++,g.next=P.g,P.g=g)}oe=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(g,P){this.type=g,this.g=this.target=P,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,P=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const j=()=>{};l.addEventListener("test",j,P),l.removeEventListener("test",j,P)}catch{}return g}();function le(g,P){if(X.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var j=this.type=g.type,Y=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=P,P=g.relatedTarget){if(ie){e:{try{H(P.nodeName);var be=!0;break e}catch{}be=!1}be||(P=null)}}else j=="mouseover"?P=g.fromElement:j=="mouseout"&&(P=g.toElement);this.relatedTarget=P,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:he[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&le.aa.h.call(this)}}E(le,X);var he={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Ce(g,P,j,Y,be){this.listener=g,this.proxy=null,this.src=P,this.type=j,this.capture=!!Y,this.ha=be,this.key=++Te,this.da=this.fa=!1}function He(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function $e(g){this.src=g,this.g={},this.h=0}$e.prototype.add=function(g,P,j,Y,be){var Re=g.toString();g=this.g[Re],g||(g=this.g[Re]=[],this.h++);var Ke=tt(g,P,Y,be);return-1<Ke?(P=g[Ke],j||(P.fa=!1)):(P=new Ce(P,this.src,Re,!!Y,be),P.fa=j,g.push(P)),P};function nt(g,P){var j=P.type;if(j in g.g){var Y=g.g[j],be=Array.prototype.indexOf.call(Y,P,void 0),Re;(Re=0<=be)&&Array.prototype.splice.call(Y,be,1),Re&&(He(P),g.g[j].length==0&&(delete g.g[j],g.h--))}}function tt(g,P,j,Y){for(var be=0;be<g.length;++be){var Re=g[be];if(!Re.da&&Re.listener==P&&Re.capture==!!j&&Re.ha==Y)return be}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),Fe={};function ue(g,P,j,Y,be){if(Array.isArray(P)){for(var Re=0;Re<P.length;Re++)ue(g,P[Re],j,Y,be);return null}return j=Ut(j),g&&g[Ae]?g.K(P,j,h(Y)?!!Y.capture:!1,be):Dt(g,P,j,!1,Y,be)}function Dt(g,P,j,Y,be,Re){if(!P)throw Error("Invalid event type");var Ke=h(be)?!!be.capture:!!be,Ht=vt(g);if(Ht||(g[xt]=Ht=new $e(g)),j=Ht.add(P,j,Y,Ke,Re),j.proxy)return j;if(Y=mt(),j.proxy=Y,Y.src=g,Y.listener=j,g.addEventListener)ne||(be=Ke),be===void 0&&(be=!1),g.addEventListener(P.toString(),Y,be);else if(g.attachEvent)g.attachEvent(rt(P.toString()),Y);else if(g.addListener&&g.removeListener)g.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return j}function mt(){function g(j){return P.call(g.src,g.listener,j)}const P=ot;return g}function Xe(g,P,j,Y,be){if(Array.isArray(P))for(var Re=0;Re<P.length;Re++)Xe(g,P[Re],j,Y,be);else Y=h(Y)?!!Y.capture:!!Y,j=Ut(j),g&&g[Ae]?(g=g.i,P=String(P).toString(),P in g.g&&(Re=g.g[P],j=tt(Re,j,Y,be),-1<j&&(He(Re[j]),Array.prototype.splice.call(Re,j,1),Re.length==0&&(delete g.g[P],g.h--)))):g&&(g=vt(g))&&(P=g.g[P.toString()],g=-1,P&&(g=tt(P,j,Y,be)),(j=-1<g?P[g]:null)&&Ze(j))}function Ze(g){if(typeof g!="number"&&g&&!g.da){var P=g.src;if(P&&P[Ae])nt(P.i,g);else{var j=g.type,Y=g.proxy;P.removeEventListener?P.removeEventListener(j,Y,g.capture):P.detachEvent?P.detachEvent(rt(j),Y):P.addListener&&P.removeListener&&P.removeListener(Y),(j=vt(P))?(nt(j,g),j.h==0&&(j.src=null,P[xt]=null)):He(g)}}}function rt(g){return g in Fe?Fe[g]:Fe[g]="on"+g}function ot(g,P){if(g.da)g=!0;else{P=new le(P,this);var j=g.listener,Y=g.ha||g.src;g.fa&&Ze(g),g=j.call(Y,P)}return g}function vt(g){return g=g[xt],g instanceof $e?g:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ut(g){return typeof g=="function"?g:(g[Rt]||(g[Rt]=function(P){return g.handleEvent(P)}),g[Rt])}function bt(){F.call(this),this.i=new $e(this),this.M=this,this.F=null}E(bt,F),bt.prototype[Ae]=!0,bt.prototype.removeEventListener=function(g,P,j,Y){Xe(this,g,P,j,Y)};function Ct(g,P){var j,Y=g.F;if(Y)for(j=[];Y;Y=Y.F)j.push(Y);if(g=g.M,Y=P.type||P,typeof P=="string")P=new X(P,g);else if(P instanceof X)P.target=P.target||g;else{var be=P;P=new X(Y,g),Q(P,be)}if(be=!0,j)for(var Re=j.length-1;0<=Re;Re--){var Ke=P.g=j[Re];be=Zt(Ke,Y,!0,P)&&be}if(Ke=P.g=g,be=Zt(Ke,Y,!0,P)&&be,be=Zt(Ke,Y,!1,P)&&be,j)for(Re=0;Re<j.length;Re++)Ke=P.g=j[Re],be=Zt(Ke,Y,!1,P)&&be}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var g=this.i,P;for(P in g.g){for(var j=g.g[P],Y=0;Y<j.length;Y++)He(j[Y]);delete g.g[P],g.h--}}this.F=null},bt.prototype.K=function(g,P,j,Y){return this.i.add(String(g),P,!1,j,Y)},bt.prototype.L=function(g,P,j,Y){return this.i.add(String(g),P,!0,j,Y)};function Zt(g,P,j,Y){if(P=g.i.g[String(P)],!P)return!0;P=P.concat();for(var be=!0,Re=0;Re<P.length;++Re){var Ke=P[Re];if(Ke&&!Ke.da&&Ke.capture==j){var Ht=Ke.listener,nn=Ke.ha||Ke.src;Ke.fa&&nt(g.i,Ke),be=Ht.call(nn,Y)!==!1&&be}}return be&&!Y.defaultPrevented}function Pt(g,P,j){if(typeof g=="function")j&&(g=y(g,j));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:l.setTimeout(g,P||0)}function qt(g){g.g=Pt(()=>{g.g=null,g.i&&(g.i=!1,qt(g))},g.l);const P=g.h;g.h=null,g.m.apply(null,P)}class at extends F{constructor(P,j){super(),this.m=P,this.l=j,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(g){F.call(this),this.h=g,this.g={}}E(ir,F);var en=[];function Si(g){ce(g.g,function(P,j){this.g.hasOwnProperty(j)&&Ze(P)},g),g.g={}}ir.prototype.N=function(){ir.aa.N.call(this),Si(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=l.JSON.stringify,Pn=l.JSON.parse,Bi=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function tn(){}tn.prototype.h=null;function ks(g){return g.h||(g.h=g.i())}function Dn(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qr(){X.call(this,"d")}E(qr,X);function On(){X.call(this,"c")}E(On,X);var At={},sn=null;function hs(){return sn=sn||new bt}At.La="serverreachability";function mr(g){X.call(this,At.La,g)}E(mr,X);function Hr(g){const P=hs();Ct(P,new mr(P))}At.STAT_EVENT="statevent";function Ui(g,P){X.call(this,At.STAT_EVENT,g),this.stat=P}E(Ui,X);function ht(g){const P=hs();Ct(P,new Ui(P,g))}At.Ma="timingevent";function ai(g,P){X.call(this,At.Ma,g),this.size=P}E(ai,X);function Ar(g,P){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},P)}function Er(){this.g=!0}Er.prototype.xa=function(){this.g=!1};function Bn(g,P,j,Y,be,Re){g.info(function(){if(g.g)if(Re)for(var Ke="",Ht=Re.split("&"),nn=0;nn<Ht.length;nn++){var Wt=Ht[nn].split("=");if(1<Wt.length){var wn=Wt[0];Wt=Wt[1];var An=wn.split("_");Ke=2<=An.length&&An[1]=="type"?Ke+(wn+"="+Wt+"&"):Ke+(wn+"=redacted&")}}else Ke=null;else Ke=Re;return"XMLHTTP REQ ("+Y+") [attempt "+be+"]: "+P+`
`+j+`
`+Ke})}function Un(g,P,j,Y,be,Re,Ke){g.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+be+"]: "+P+`
`+j+`
`+Re+" "+Ke})}function Kn(g,P,j,Y){g.info(function(){return"XMLHTTP TEXT ("+P+"): "+oo(g,j)+(Y?" "+Y:"")})}function Ro(g,P){g.info(function(){return"TIMEOUT: "+P})}Er.prototype.info=function(){};function oo(g,P){if(!g.g)return P;if(!P)return null;try{var j=JSON.parse(P);if(j){for(g=0;g<j.length;g++)if(Array.isArray(j[g])){var Y=j[g];if(!(2>Y.length)){var be=Y[1];if(Array.isArray(be)&&!(1>be.length)){var Re=be[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(var Ke=1;Ke<be.length;Ke++)be[Ke]=""}}}}return mn(j)}catch{return P}}var li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function ui(){}E(ui,tn),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},gr=new ui;function or(g,P,j,Y){this.j=g,this.i=P,this.l=j,this.R=Y||1,this.U=new ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fs}function fs(){this.i=null,this.g="",this.h=!1}var ao={},lo={};function uo(g,P,j){g.L=1,g.v=fo(Jr(P)),g.m=j,g.P=!0,Lo(g,null)}function Lo(g,P){g.F=Date.now(),Nn(g),g.A=Jr(g.v);var j=g.A,Y=g.R;Array.isArray(Y)||(Y=[String(Y)]),Tt(j.i,"t",Y),g.C=0,j=g.j.J,g.h=new fs,g.g=q(g.j,j?P:null,!g.m),0<g.O&&(g.M=new at(y(g.Y,g,g.g),g.O)),P=g.U,j=g.g,Y=g.ca;var be="readystatechange";Array.isArray(be)||(be&&(en[0]=be.toString()),be=en);for(var Re=0;Re<be.length;Re++){var Ke=ue(j,be[Re],Y||P.handleEvent,!1,P.h||P);if(!Ke)break;P.g[Ke.key]=Ke}P=g.H?O(g.H):{},g.m?(g.u||(g.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,P)):(g.u="GET",g.g.ea(g.A,g.u,null,P)),Hr(),Bn(g.i,g.u,g.A,g.l,g.R,g.m)}or.prototype.ca=function(g){g=g.target;const P=this.M;P&&lr(g)==3?P.j():this.Y(g)},or.prototype.Y=function(g){try{if(g==this.g)e:{const An=lr(this.g);var P=this.g.Ba();const Ci=this.g.Z();if(!(3>An)&&(An!=3||this.g&&(this.h.h||this.g.oa()||Fl(this.g)))){this.J||An!=4||P==7||(P==8||0>=Ci?Hr(3):Hr(2)),Rs(this);var j=this.g.Z();this.X=j;t:if(la(this)){var Y=Fl(this.g);g="";var be=Y.length,Re=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),co(this);var Ke="";break t}this.h.i=new l.TextDecoder}for(P=0;P<be;P++)this.h.h=!0,g+=this.h.i.decode(Y[P],{stream:!(Re&&P==be-1)});Y.length=0,this.h.g+=g,this.C=0,Ke=this.h.g}else Ke=this.g.oa();if(this.o=j==200,Un(this.i,this.u,this.A,this.l,this.R,An,j),this.o){if(this.T&&!this.K){t:{if(this.g){var Ht,nn=this.g;if((Ht=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Ht)){var Wt=Ht;break t}}Wt=null}if(j=Wt)Kn(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ua(this,j);else{this.o=!1,this.s=3,ht(12),qi(this),co(this);break e}}if(this.P){j=!0;let ti;for(;!this.J&&this.C<Ke.length;)if(ti=Nu(this,Ke),ti==lo){An==4&&(this.s=4,ht(14),j=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(ti==ao){this.s=4,ht(15),Kn(this.i,this.l,Ke,"[Invalid Chunk]"),j=!1;break}else Kn(this.i,this.l,ti,null),ua(this,ti);if(la(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),An!=4||Ke.length!=0||this.h.h||(this.s=1,ht(16),j=!1),this.o=this.o&&j,!j)Kn(this.i,this.l,Ke,"[Invalid Chunked Response]"),qi(this),co(this);else if(0<Ke.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+Ke.length),Za(wn),wn.M=!0,ht(11))}}else Kn(this.i,this.l,Ke,null),ua(this,Ke);An==4&&qi(this),this.o&&!this.J&&(An==4?Vs(this.j,this):(this.o=!1,Nn(this)))}else ms(this.g),j==400&&0<Ke.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),qi(this),co(this)}}}catch{}finally{}};function la(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Nu(g,P){var j=g.C,Y=P.indexOf(`
`,j);return Y==-1?lo:(j=Number(P.substring(j,Y)),isNaN(j)?ao:(Y+=1,Y+j>P.length?lo:(P=P.slice(Y,Y+j),g.C=Y+j,P)))}or.prototype.cancel=function(){this.J=!0,qi(this)};function Nn(g){g.S=Date.now()+g.I,Iu(g,g.I)}function Iu(g,P){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Ar(y(g.ba,g),P)}function Rs(g){g.B&&(l.clearTimeout(g.B),g.B=null)}or.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ro(this.i,this.A),this.L!=2&&(Hr(),ht(17)),qi(this),this.s=2,co(this)):Iu(this,this.S-g)};function co(g){g.j.G==0||g.J||Vs(g.j,g)}function qi(g){Rs(g);var P=g.M;P&&typeof P.ma=="function"&&P.ma(),g.M=null,Si(g.U),g.g&&(P=g.g,g.g=null,P.abort(),P.ma())}function ua(g,P){try{var j=g.j;if(j.G!=0&&(j.g==g||Qr(j.h,g))){if(!g.K&&Qr(j.h,g)&&j.G==3){try{var Y=j.Da.g.parse(P)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var be=Y;if(be[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<g.F)yo(j),gs(j);else break e;Ho(j),ht(18)}}else j.za=be[1],0<j.za-j.T&&37500>be[2]&&j.F&&j.v==0&&!j.C&&(j.C=Ar(y(j.Za,j),6e3));if(1>=ca(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else fi(j,11)}else if((g.K||j.g==g)&&yo(j),!N(P))for(be=j.Da.g.parse(P),P=0;P<be.length;P++){let Wt=be[P];if(j.T=Wt[0],Wt=Wt[1],j.G==2)if(Wt[0]=="c"){j.K=Wt[1],j.ia=Wt[2];const wn=Wt[3];wn!=null&&(j.la=wn,j.j.info("VER="+j.la));const An=Wt[4];An!=null&&(j.Aa=An,j.j.info("SVER="+j.Aa));const Ci=Wt[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(Y=1.5*Ci,j.L=Y,j.j.info("backChannelRequestTimeoutMs_="+Y)),Y=j;const ti=g.g;if(ti){const vo=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var Re=Y.h;Re.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(zn(Re,Re.h),Re.h=null))}if(Y.D){const wo=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(Y.ya=wo,Sn(Y.I,Y.D,wo))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-g.F,j.j.info("Handshake RTT: "+j.R+"ms")),Y=j;var Ke=g;if(Y.qa=b(Y,Y.J?Y.ia:null,Y.W),Ke.K){Dl(Y.h,Ke);var Ht=Ke,nn=Y.L;nn&&(Ht.I=nn),Ht.B&&(Rs(Ht),Nn(Ht)),Y.g=Ke}else go(Y);0<j.i.length&&Ms(j)}else Wt[0]!="stop"&&Wt[0]!="close"||fi(j,7);else j.G==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?fi(j,7):Yn(j):Wt[0]!="noop"&&j.l&&j.l.ta(Wt),j.v=0)}}Hr(4)}catch{}}var ku=class{constructor(g,P){this.g=g,this.map=P}};function Do(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ai(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ca(g){return g.h?1:g.g?g.g.size:0}function Qr(g,P){return g.h?g.h==P:g.g?g.g.has(P):!1}function zn(g,P){g.g?g.g.add(P):g.h=P}function Dl(g,P){g.h&&g.h==P?g.h=null:g.g&&g.g.has(P)&&g.g.delete(P)}Do.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ol(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let P=g.i;for(const j of g.g.values())P=P.concat(j.D);return P}return S(g.i)}function ha(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var P=[],j=g.length,Y=0;Y<j;Y++)P.push(g[Y]);return P}P=[],j=0;for(Y in g)P[j++]=g[Y];return P}function Oo(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var P=[];g=g.length;for(var j=0;j<g;j++)P.push(j);return P}P=[],j=0;for(const Y in g)P[j++]=Y;return P}}}function jo(g,P){if(g.forEach&&typeof g.forEach=="function")g.forEach(P,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,P,void 0);else for(var j=Oo(g),Y=ha(g),be=Y.length,Re=0;Re<be;Re++)P.call(void 0,Y[Re],j&&j[Re],g)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(g,P){if(g){g=g.split("&");for(var j=0;j<g.length;j++){var Y=g[j].indexOf("="),be=null;if(0<=Y){var Re=g[j].substring(0,Y);be=g[j].substring(Y+1)}else Re=g[j];P(Re,be?decodeURIComponent(be.replace(/\+/g," ")):"")}}}function ar(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof ar){this.h=g.h,Mo(this,g.j),this.o=g.o,this.g=g.g,Fo(this,g.s),this.l=g.l;var P=g.i,j=new ds;j.i=P.i,P.g&&(j.g=new Map(P.g),j.h=P.h),ho(this,j),this.m=g.m}else g&&(P=String(g).match(Xr))?(this.h=!1,Mo(this,P[1]||"",!0),this.o=Jt(P[2]||""),this.g=Jt(P[3]||"",!0),Fo(this,P[4]),this.l=Jt(P[5]||"",!0),ho(this,P[6]||"",!0),this.m=Jt(P[7]||"")):(this.h=!1,this.i=new ds(null,this.h))}ar.prototype.toString=function(){var g=[],P=this.j;P&&g.push(Ls(P,Ya,!0),":");var j=this.g;return(j||P=="file")&&(g.push("//"),(P=this.o)&&g.push(Ls(P,Ya,!0),"@"),g.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&g.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&g.push("/"),g.push(Ls(j,j.charAt(0)=="/"?Ds:Lu,!0))),(j=this.i.toString())&&g.push("?",j),(j=this.m)&&g.push("#",Ls(j,Vo)),g.join("")};function Jr(g){return new ar(g)}function Mo(g,P,j){g.j=j?Jt(P,!0):P,g.j&&(g.j=g.j.replace(/:$/,""))}function Fo(g,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);g.s=P}else g.s=null}function ho(g,P,j){P instanceof ds?(g.i=P,Os(g.i,g.h)):(j||(P=Ls(P,fa)),g.i=new ds(P,g.h))}function Sn(g,P,j){g.i.set(P,j)}function fo(g){return Sn(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Jt(g,P){return g?P?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ls(g,P,j){return typeof g=="string"?(g=encodeURI(g).replace(P,Ru),j&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ru(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ya=/[#\/\?@]/g,Lu=/[#\?:]/g,Ds=/[#\?]/g,fa=/[#\?@]/g,Vo=/#/g;function ds(g,P){this.h=this.g=null,this.i=g||null,this.j=!!P}function hn(g){g.g||(g.g=new Map,g.h=0,g.i&&Ka(g.i,function(P,j){g.add(decodeURIComponent(P.replace(/\+/g," ")),j)}))}t=ds.prototype,t.add=function(g,P){hn(this),this.i=null,g=Wi(this,g);var j=this.g.get(g);return j||this.g.set(g,j=[]),j.push(P),this.h+=1,this};function ps(g,P){hn(g),P=Wi(g,P),g.g.has(P)&&(g.i=null,g.h-=g.g.get(P).length,g.g.delete(P))}function Hi(g,P){return hn(g),P=Wi(g,P),g.g.has(P)}t.forEach=function(g,P){hn(this),this.g.forEach(function(j,Y){j.forEach(function(be){g.call(P,be,Y,this)},this)},this)},t.na=function(){hn(this);const g=Array.from(this.g.values()),P=Array.from(this.g.keys()),j=[];for(let Y=0;Y<P.length;Y++){const be=g[Y];for(let Re=0;Re<be.length;Re++)j.push(P[Y])}return j},t.V=function(g){hn(this);let P=[];if(typeof g=="string")Hi(this,g)&&(P=P.concat(this.g.get(Wi(this,g))));else{g=Array.from(this.g.values());for(let j=0;j<g.length;j++)P=P.concat(g[j])}return P},t.set=function(g,P){return hn(this),this.i=null,g=Wi(this,g),Hi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[P]),this.h+=1,this},t.get=function(g,P){return g?(g=this.V(g),0<g.length?String(g[0]):P):P};function Tt(g,P,j){ps(g,P),0<j.length&&(g.i=null,g.g.set(Wi(g,P),S(j)),g.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],P=Array.from(this.g.keys());for(var j=0;j<P.length;j++){var Y=P[j];const Re=encodeURIComponent(String(Y)),Ke=this.V(Y);for(Y=0;Y<Ke.length;Y++){var be=Re;Ke[Y]!==""&&(be+="="+encodeURIComponent(String(Ke[Y]))),g.push(be)}}return this.i=g.join("&")};function Wi(g,P){return P=String(P),g.j&&(P=P.toLowerCase()),P}function Os(g,P){P&&!g.j&&(hn(g),g.i=null,g.g.forEach(function(j,Y){var be=Y.toLowerCase();Y!=be&&(ps(this,Y),Tt(this,be,j))},g)),g.j=P}function js(g,P){const j=new Er;if(l.Image){const Y=new Image;Y.onload=v(Zr,j,"TestLoadImage: loaded",!0,P,Y),Y.onerror=v(Zr,j,"TestLoadImage: error",!1,P,Y),Y.onabort=v(Zr,j,"TestLoadImage: abort",!1,P,Y),Y.ontimeout=v(Zr,j,"TestLoadImage: timeout",!1,P,Y),l.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=g}else P(!1)}function jl(g,P){const j=new Er,Y=new AbortController,be=setTimeout(()=>{Y.abort(),Zr(j,"TestPingServer: timeout",!1,P)},1e4);fetch(g,{signal:Y.signal}).then(Re=>{clearTimeout(be),Re.ok?Zr(j,"TestPingServer: ok",!0,P):Zr(j,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(be),Zr(j,"TestPingServer: error",!1,P)})}function Zr(g,P,j,Y,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),Y(j)}catch{}}function Qa(){this.g=new Bi}function Xa(g,P,j){const Y=j||"";try{jo(g,function(be,Re){let Ke=be;h(be)&&(Ke=mn(be)),P.push(Y+Re+"="+encodeURIComponent(Ke))})}catch(be){throw P.push(Y+"type="+encodeURIComponent("_badmap")),be}}function po(g){this.l=g.Ub||null,this.j=g.eb||!1}E(po,tn),po.prototype.g=function(){return new da(this.l,this.j)},po.prototype.i=function(g){return function(){return g}}({});function da(g,P){bt.call(this),this.D=g,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(da,bt),t=da.prototype,t.open=function(g,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=P,this.readyState=1,ei(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(P.body=g),(this.D||l).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Du(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Du(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var P=g.value?g.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!g.done}))&&(this.response=this.responseText+=P)}g.done?Ei(this):ei(this),this.readyState==3&&Du(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ei(this))},t.Qa=function(g){this.g&&(this.response=g,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ei(g)}t.setRequestHeader=function(g,P){this.u.append(g,P)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],P=this.h.entries();for(var j=P.next();!j.done;)j=j.value,g.push(j[0]+": "+j[1]),j=P.next();return g.join(`\r
`)};function ei(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ci(g){let P="";return ce(g,function(j,Y){P+=Y,P+=":",P+=j,P+=`\r
`}),P}function Bo(g,P,j){e:{for(Y in j){var Y=!1;break e}Y=!0}Y||(j=ci(j),typeof g=="string"?j!=null&&encodeURIComponent(String(j)):Sn(g,P,j))}function vn(g){bt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(vn,bt);var Ml=/^https?$/i,Uo=["POST","PUT"];t=vn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,P,j,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);P=P?P.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?ks(this.o):ks(gr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(P,String(g),!0),this.B=!1}catch(Re){zo(this,Re);return}if(g=j||"",j=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var be in Y)j.set(be,Y[be]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const Re of Y.keys())j.set(Re,Y.get(Re));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(j.keys()).find(Re=>Re.toLowerCase()=="content-type"),be=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Uo,P,void 0))||Y||be||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Ke]of j)this.g.setRequestHeader(Re,Ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ti(this),this.u=!0,this.g.send(g),this.u=!1}catch(Re){zo(this,Re)}};function zo(g,P){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=P,g.m=5,pa(g),hi(g)}function pa(g){g.A||(g.A=!0,Ct(g,"complete"),Ct(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Ct(this,"complete"),Ct(this,"abort"),hi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),vn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},t.bb=function(){Ja(this)};function Ja(g){if(g.h&&typeof o<"u"&&(!g.v[1]||lr(g)!=4||g.Z()!=2)){if(g.u&&lr(g)==4)Pt(g.Ea,0,g);else if(Ct(g,"readystatechange"),lr(g)==4){g.h=!1;try{const Ke=g.Z();e:switch(Ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var j;if(!(j=P)){var Y;if(Y=Ke===0){var be=String(g.D).match(Xr)[1]||null;!be&&l.self&&l.self.location&&(be=l.self.location.protocol.slice(0,-1)),Y=!Ml.test(be?be.toLowerCase():"")}j=Y}if(j)Ct(g,"complete"),Ct(g,"success");else{g.m=6;try{var Re=2<lr(g)?g.g.statusText:""}catch{Re=""}g.l=Re+" ["+g.Z()+"]",pa(g)}}finally{hi(g)}}}}function hi(g,P){if(g.g){Ti(g);const j=g.g,Y=g.v[0]?()=>{}:null;g.g=null,g.v=null,P||Ct(g,"ready");try{j.onreadystatechange=Y}catch{}}}function Ti(g){g.I&&(l.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function lr(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var P=this.g.responseText;return g&&P.indexOf(g)==0&&(P=P.substring(g.length)),Pn(P)}};function Fl(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ms(g){const P={};g=(g.g&&2<=lr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<g.length;Y++){if(N(g[Y]))continue;var j=L(g[Y]);const be=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Re=P[be]||[];P[be]=Re,Re.push(j)}B(P,function(Y){return Y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(g,P,j){return j&&j.internalChannelParams&&j.internalChannelParams[g]||P}function ma(g){this.Aa=0,this.i=[],this.j=new Er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,g),this.cb=Tr("retryDelaySeedMs",1e4,g),this.Wa=Tr("forwardChannelMaxRetries",2,g),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Do(g&&g.concurrentRequestLimit),this.Da=new Qa,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ma.prototype,t.la=8,t.G=1,t.connect=function(g,P,j,Y){ht(0),this.W=g,this.H=P||{},j&&Y!==void 0&&(this.H.OSID=j,this.H.OAID=Y),this.F=this.X,this.I=b(this,null,this.W),Ms(this)};function Yn(g){if(mo(g),g.G==3){var P=g.U++,j=Jr(g.I);if(Sn(j,"SID",g.K),Sn(j,"RID",P),Sn(j,"TYPE","terminate"),Fs(g,j),P=new or(g,g.j,P),P.L=2,P.v=fo(Jr(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(P.v.toString(),"")}catch{}!j&&l.Image&&(new Image().src=P.v,j=!0),j||(P.g=q(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Nn(P)}tl(g)}function gs(g){g.g&&(Za(g),g.g.cancel(),g.g=null)}function mo(g){gs(g),g.u&&(l.clearTimeout(g.u),g.u=null),yo(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}function Ms(g){if(!Ai(g.h)&&!g.s){g.s=!0;var P=g.Ga;Pe||ye(),oe||(Pe(),oe=!0),we.add(P,g),g.B=0}}function Vl(g,P){return ca(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=P.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Ar(y(g.Ga,g,P),el(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const be=new or(this,this.j,g);let Re=this.o;if(this.S&&(Re?(Re=O(Re),Q(Re,this.S)):Re=this.S),this.m!==null||this.O||(be.H=Re,Re=null),this.P)e:{for(var P=0,j=0;j<this.i.length;j++){t:{var Y=this.i[j];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(P+=Y,4096<P){P=j;break e}if(P===4096||j===this.i.length-1){P=j+1;break e}}P=1e3}else P=1e3;P=ys(this,be,P),j=Jr(this.I),Sn(j,"RID",g),Sn(j,"CVER",22),this.D&&Sn(j,"X-HTTP-Session-Id",this.D),Fs(this,j),Re&&(this.O?P="headers="+encodeURIComponent(String(ci(Re)))+"&"+P:this.m&&Bo(j,this.m,Re)),zn(this.h,be),this.Ua&&Sn(j,"TYPE","init"),this.P?(Sn(j,"$req",P),Sn(j,"SID","null"),be.T=!0,uo(be,j,null)):uo(be,j,P),this.G=2}}else this.G==3&&(g?qo(this,g):this.i.length==0||Ai(this.h)||qo(this))};function qo(g,P){var j;P?j=P.l:j=g.U++;const Y=Jr(g.I);Sn(Y,"SID",g.K),Sn(Y,"RID",j),Sn(Y,"AID",g.T),Fs(g,Y),g.m&&g.o&&Bo(Y,g.m,g.o),j=new or(g,g.j,j,g.B+1),g.m===null&&(j.H=g.o),P&&(g.i=P.D.concat(g.i)),P=ys(g,j,1e3),j.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),zn(g.h,j),uo(j,Y,P)}function Fs(g,P){g.H&&ce(g.H,function(j,Y){Sn(P,Y,j)}),g.l&&jo({},function(j,Y){Sn(P,Y,j)})}function ys(g,P,j){j=Math.min(g.i.length,j);var Y=g.l?y(g.l.Na,g.l,g):null;e:{var be=g.i;let Re=-1;for(;;){const Ke=["count="+j];Re==-1?0<j?(Re=be[0].g,Ke.push("ofs="+Re)):Re=0:Ke.push("ofs="+Re);let Ht=!0;for(let nn=0;nn<j;nn++){let Wt=be[nn].g;const wn=be[nn].map;if(Wt-=Re,0>Wt)Re=Math.max(0,be[nn].g-100),Ht=!1;else try{Xa(wn,Ke,"req"+Wt+"_")}catch{Y&&Y(wn)}}if(Ht){Y=Ke.join("&");break e}}}return g=g.i.splice(0,j),P.D=g,Y}function go(g){if(!g.g&&!g.u){g.Y=1;var P=g.Fa;Pe||ye(),oe||(Pe(),oe=!0),we.add(P,g),g.v=0}}function Ho(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Ar(y(g.Fa,g),el(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Ar(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),gs(this),Ou(this))};function Za(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}function Ou(g){g.g=new or(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var P=Jr(g.qa);Sn(P,"RID","rpc"),Sn(P,"SID",g.K),Sn(P,"AID",g.T),Sn(P,"CI",g.F?"0":"1"),!g.F&&g.ja&&Sn(P,"TO",g.ja),Sn(P,"TYPE","xmlhttp"),Fs(g,P),g.m&&g.o&&Bo(P,g.m,g.o),g.L&&(g.g.I=g.L);var j=g.g;g=g.ia,j.L=1,j.v=fo(Jr(P)),j.m=null,j.P=!0,Lo(j,g)}t.Za=function(){this.C!=null&&(this.C=null,gs(this),Ho(this),ht(19))};function yo(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Vs(g,P){var j=null;if(g.g==P){yo(g),Za(g),g.g=null;var Y=2}else if(Qr(g.h,P))j=P.D,Dl(g.h,P),Y=1;else return;if(g.G!=0){if(P.o)if(Y==1){j=P.m?P.m.length:0,P=Date.now()-P.F;var be=g.B;Y=hs(),Ct(Y,new ai(Y,j)),Ms(g)}else go(g);else if(be=P.s,be==3||be==0&&0<P.X||!(Y==1&&Vl(g,P)||Y==2&&Ho(g)))switch(j&&0<j.length&&(P=g.h,P.i=P.i.concat(j)),be){case 1:fi(g,5);break;case 4:fi(g,10);break;case 3:fi(g,6);break;default:fi(g,2)}}}function el(g,P){let j=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(j*=2),j*P}function fi(g,P){if(g.j.info("Error code "+P),P==2){var j=y(g.fb,g),Y=g.Xa;const be=!Y;Y=new ar(Y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Mo(Y,"https"),fo(Y),be?js(Y.toString(),j):jl(Y.toString(),j)}else ht(2);g.G=0,g.l&&g.l.sa(P),tl(g),mo(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function tl(g){if(g.G=0,g.ka=[],g.l){const P=Ol(g.h);(P.length!=0||g.i.length!=0)&&(C(g.ka,P),C(g.ka,g.i),g.h.i.length=0,S(g.i),g.i.length=0),g.l.ra()}}function b(g,P,j){var Y=j instanceof ar?Jr(j):new ar(j);if(Y.g!="")P&&(Y.g=P+"."+Y.g),Fo(Y,Y.s);else{var be=l.location;Y=be.protocol,P=P?P+"."+be.hostname:be.hostname,be=+be.port;var Re=new ar(null);Y&&Mo(Re,Y),P&&(Re.g=P),be&&Fo(Re,be),j&&(Re.l=j),Y=Re}return j=g.D,P=g.ya,j&&P&&Sn(Y,j,P),Sn(Y,"VER",g.la),Fs(g,Y),Y}function q(g,P,j){if(P&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=g.Ca&&!g.pa?new vn(new po({eb:j})):new vn(g.pa),P.Ha(g.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function se(){}t=se.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fe(){}fe.prototype.g=function(g,P){return new Ee(g,P)};function Ee(g,P){bt.call(this),this.g=new ma(P),this.l=g,this.h=P&&P.messageUrlParams||null,g=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(g?g["X-WebChannel-Content-Type"]=P.messageContentType:g={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(g?g["X-WebChannel-Client-Profile"]=P.va:g={"X-WebChannel-Client-Profile":P.va}),this.g.S=g,(g=P&&P.Sb)&&!N(g)&&(this.g.m=g),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!N(P)&&(this.g.D=P,g=this.h,g!==null&&P in g&&(g=this.h,P in g&&delete g[P])),this.j=new it(this)}E(Ee,bt),Ee.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ee.prototype.close=function(){Yn(this.g)},Ee.prototype.o=function(g){var P=this.g;if(typeof g=="string"){var j={};j.__data__=g,g=j}else this.u&&(j={},j.__data__=mn(g),g=j);P.i.push(new ku(P.Ya++,g)),P.G==3&&Ms(P)},Ee.prototype.N=function(){this.g.l=null,delete this.j,Yn(this.g),delete this.g,Ee.aa.N.call(this)};function Me(g){qr.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var P=g.__sm__;if(P){e:{for(const j in P){g=j;break e}g=void 0}(this.i=g)&&(g=this.i,P=P!==null&&g in P?P[g]:void 0),this.data=P}else this.data=g}E(Me,qr);function Ge(){On.call(this),this.status=1}E(Ge,On);function it(g){this.g=g}E(it,se),it.prototype.ua=function(){Ct(this.g,"a")},it.prototype.ta=function(g){Ct(this.g,new Me(g))},it.prototype.sa=function(g){Ct(this.g,new Ge)},it.prototype.ra=function(){Ct(this.g,"b")},fe.prototype.createWebChannel=fe.prototype.g,Ee.prototype.send=Ee.prototype.o,Ee.prototype.open=Ee.prototype.m,Ee.prototype.close=Ee.prototype.close,Y4=function(){return new fe},K4=function(){return hs()},G4=At,Uv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,fg=li,zi.COMPLETE="complete",$4=zi,Dn.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Yd=Dn,vn.prototype.listenOnce=vn.prototype.L,vn.prototype.getLastError=vn.prototype.Ka,vn.prototype.getLastErrorCode=vn.prototype.Ba,vn.prototype.getStatus=vn.prototype.Z,vn.prototype.getResponseJson=vn.prototype.Oa,vn.prototype.getResponseText=vn.prototype.oa,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Ha,W4=vn}).apply(typeof Hm<"u"?Hm:typeof self<"u"?self:typeof window<"u"?window:{});const zx="@firebase/firestore",qx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new p5("@firebase/firestore");function Cf(){return Uh.logLevel}function dt(t,...e){if(Uh.logLevel<=ln.DEBUG){const n=e.map(C5);Uh.debug(`Firestore (${ld}): ${t}`,...n)}}function wu(t,...e){if(Uh.logLevel<=ln.ERROR){const n=e.map(C5);Uh.error(`Firestore (${ld}): ${t}`,...n)}}function Zf(t,...e){if(Uh.logLevel<=ln.WARN){const n=e.map(C5);Uh.warn(`Firestore (${ld}): ${t}`,...n)}}function C5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Q4(t,r,n)}function Q4(t,e,n){let r=`FIRESTORE (${ld}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wu(r),new Error(r)}function Rn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Q4(e,i,r)}function Kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Il{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(os.UNAUTHENTICATED))}shutdown(){}}class OF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jF{constructor(e){this.t=e,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new pu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pu)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rn(typeof r.accessToken=="string",31837,{l:r}),new X4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rn(e===null||typeof e=="string",2055,{h:e}),new os(e)}}class MF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=os.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new MF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ns(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Rn(this.o===void 0,3512);const r=s=>{s.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,dt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=BF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function un(t,e){return t<e?-1:t>e?1:0}function zv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return j1(i)===j1(s)?un(i,s):j1(i)?1:-1}return un(t.length,e.length)}const UF=55296,zF=57343;function j1(t){const e=t.charCodeAt(0);return e>=UF&&e<=zF}function ed(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__name__";class ml{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ft(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ft(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ml.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ml?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ml.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return un(e.length,n.length)}static compareSegments(e,n){const r=ml.isNumericId(e),i=ml.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ml.extractNumericId(e).compare(ml.extractNumericId(n)):zv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pc.fromString(e.substring(4,e.length-2))}}class $n extends ml{construct(e,n,r){return new $n(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(ze.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $n(n)}static emptyPath(){return new $n([])}}const qF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fi extends ml{construct(e,n,r){return new Fi(e,n,r)}static isValidIdentifier(e){return qF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wx}static keyField(){return new Fi([Wx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ct(ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ct(ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ct(ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ct(ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fi(n)}static emptyPath(){return new Fi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.path=e}static fromPath(e){return new Et($n.fromString(e))}static fromName(e){return new Et($n.fromString(e).popFirst(5))}static empty(){return new Et($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new $n(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t,e,n){if(!n)throw new ct(ze.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HF(t,e,n,r){if(e===!0&&r===!0)throw new ct(ze.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $x(t){if(!Et.isDocumentKey(t))throw new ct(ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gx(t){if(Et.isDocumentKey(t))throw new ct(ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Z4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function L0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ft(12329,{type:typeof t})}function to(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ct(ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=L0(t);throw new ct(ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hp(t,e){if(!Z4(t))throw new ct(ze.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ct(ze.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=-62135596800,Yx=1e6;class tr{static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Yx);return new tr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ct(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kx)throw new ct(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yx}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hp(e,tr._jsonSchema))return new tr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tr._jsonSchemaVersion="firestore/timestamp/1.0",tr._jsonSchema={type:Yr("string",tr._jsonSchemaVersion),seconds:Yr("number"),nanoseconds:Yr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{static fromTimestamp(e){return new $t(e)}static min(){return new $t(new tr(0,0))}static max(){return new $t(new tr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=-1;function WF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=$t.fromTimestamp(r===1e9?new tr(n+1,0):new tr(n,r));return new Lc(i,Et.empty(),e)}function $F(t){return new Lc(t.readTime,t.key,xp)}class Lc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Lc($t.min(),Et.empty(),xp)}static max(){return new Lc($t.max(),Et.empty(),xp)}}function GF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Et.comparator(t.documentKey,e.documentKey),n!==0?n:un(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t){if(t.code!==ze.FAILED_PRECONDITION||t.message!==KF)throw t;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new We((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof We?n:We.resolve(n)}catch(n){return We.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):We.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):We.reject(n)}static resolve(e){return new We((n,r)=>{n(e)})}static reject(e){return new We((n,r)=>{r(e)})}static waitFor(e){return new We((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=We.resolve(!1);for(const r of e)n=n.next(i=>i?We.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new We((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new We((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function QF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}D0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=-1;function O0(t){return t==null}function Gg(t){return t===0&&1/t==-1/0}function XF(t){return typeof t=="number"&&Number.isInteger(t)&&!Gg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="";function JF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Qx(e)),e=ZF(t.get(n),e);return Qx(e)}function ZF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case eC:n+="";break;default:n+=s}}return n}function Qx(t){return t+eC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){this.comparator=e,this.root=n||ji.EMPTY}insert(e,n){return new xr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wm(this.root,e,this.comparator,!0)}}class Wm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ji.RED,this.left=i??ji.EMPTY,this.right=s??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ji(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ft(27949);return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1;ji.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ji(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.comparator=e,this.data=new xr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jx(this.data.getIterator())}getIteratorFrom(e){return new Jx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof oi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new oi(this.comparator);return n.data=e,n}}class Jx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.fields=e,e.sort(Fi.comparator)}static empty(){return new Po([])}unionWith(e){let n=new oi(Fi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Po(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ed(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nC("Invalid base64 string: "+s):s}}(e);return new Vi(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Vi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const e9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dc(t){if(Rn(!!t,39018),typeof t=="string"){let e=0;const n=e9.exec(t);if(Rn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mr(t.seconds),nanos:Mr(t.nanos)}}function Mr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oc(t){return typeof t=="string"?Vi.fromBase64String(t):Vi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="server_timestamp",iC="__type__",sC="__previous_value__",oC="__local_write_time__";function I5(t){return(t?.mapValue?.fields||{})[iC]?.stringValue===rC}function j0(t){const e=t.mapValue.fields[sC];return I5(e)?j0(e):e}function Sp(t){const e=Dc(t.mapValue.fields[oC].timestampValue);return new tr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,r,i,s,o,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f}}const Kg="(default)";class Ap{constructor(e,n){this.projectId=e,this.database=n||Kg}static empty(){return new Ap("","")}get isDefaultDatabase(){return this.database===Kg}isEqual(e){return e instanceof Ap&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="__type__",n9="__max__",$m={mapValue:{}},lC="__vector__",Yg="value";function jc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I5(t)?4:i9(t)?9007199254740991:r9(t)?10:11:Ft(28295,{value:t})}function Nl(t,e){if(t===e)return!0;const n=jc(t);if(n!==jc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sp(t).isEqual(Sp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Dc(i.timestampValue),l=Dc(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Oc(i.bytesValue).isEqual(Oc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Mr(i.geoPointValue.latitude)===Mr(s.geoPointValue.latitude)&&Mr(i.geoPointValue.longitude)===Mr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Mr(i.integerValue)===Mr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Mr(i.doubleValue),l=Mr(s.doubleValue);return o===l?Gg(o)===Gg(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ed(t.arrayValue.values||[],e.arrayValue.values||[],Nl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Xx(o)!==Xx(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Nl(o[c],l[c])))return!1;return!0}(t,e);default:return Ft(52216,{left:t})}}function Ep(t,e){return(t.values||[]).find(n=>Nl(n,e))!==void 0}function td(t,e){if(t===e)return 0;const n=jc(t),r=jc(e);if(n!==r)return un(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return un(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Mr(s.integerValue||s.doubleValue),c=Mr(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Zx(t.timestampValue,e.timestampValue);case 4:return Zx(Sp(t),Sp(e));case 5:return zv(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Oc(s),c=Oc(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=un(l[h],c[h]);if(f!==0)return f}return un(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=un(Mr(s.latitude),Mr(o.latitude));return l!==0?l:un(Mr(s.longitude),Mr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eS(t.arrayValue,e.arrayValue);case 10:return function(s,o){const l=s.fields||{},c=o.fields||{},h=l[Yg]?.arrayValue,f=c[Yg]?.arrayValue,p=un(h?.values?.length||0,f?.values?.length||0);return p!==0?p:eS(h,f)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===$m.mapValue&&o===$m.mapValue)return 0;if(s===$m.mapValue)return 1;if(o===$m.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const y=zv(c[p],f[p]);if(y!==0)return y;const v=td(l[c[p]],h[f[p]]);if(v!==0)return v}return un(c.length,f.length)}(t.mapValue,e.mapValue);default:throw Ft(23264,{he:n})}}function Zx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return un(t,e);const n=Dc(t),r=Dc(e),i=un(n.seconds,r.seconds);return i!==0?i:un(n.nanos,r.nanos)}function eS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=td(n[i],r[i]);if(s)return s}return un(n.length,r.length)}function nd(t){return qv(t)}function qv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Dc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Et.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qv(n.fields[o])}`;return i+"}"}(t.mapValue):Ft(61005,{value:t})}function dg(t){switch(jc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=j0(t);return e?16+dg(e):16;case 5:return 2*t.stringValue.length;case 6:return Oc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+dg(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Wc(r.fields,(s,o)=>{i+=s.length+dg(o)}),i}(t.mapValue);default:throw Ft(13486,{value:t})}}function tS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hv(t){return!!t&&"integerValue"in t}function k5(t){return!!t&&"arrayValue"in t}function nS(t){return!!t&&"nullValue"in t}function rS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pg(t){return!!t&&"mapValue"in t}function r9(t){return(t?.mapValue?.fields||{})[aC]?.stringValue===lC}function sp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sp(t.arrayValue.values[n]);return e}return{...t}}function i9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===n9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.value=e}static empty(){return new eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sp(n)}setAll(e){let n=Fi.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=sp(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new eo(sp(this.value))}}function uC(t){const e=[];return Wc(t.fields,(n,r)=>{const i=new Fi([n]);if(pg(r)){const s=uC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Po(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new as(e,0,$t.min(),$t.min(),$t.min(),eo.empty(),0)}static newFoundDocument(e,n,r,i){return new as(e,1,n,$t.min(),r,i,0)}static newNoDocument(e,n){return new as(e,2,n,$t.min(),$t.min(),eo.empty(),0)}static newUnknownDocument(e,n){return new as(e,3,n,$t.min(),$t.min(),eo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof as&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new as(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n){this.position=e,this.inclusive=n}}function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Et.comparator(Et.fromName(o.referenceValue),n.key):r=td(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n="asc"){this.field=e,this.dir=n}}function s9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{}class Kr extends cC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new a9(e,n,r):n==="array-contains"?new c9(e,r):n==="in"?new h9(e,r):n==="not-in"?new f9(e,r):n==="array-contains-any"?new d9(e,r):new Kr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new l9(e,r):new u9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(td(n,this.value)):n!==null&&jc(this.value)===jc(n)&&this.matchesComparison(td(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qa extends cC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qa(e,n)}matches(e){return hC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hC(t){return t.op==="and"}function fC(t){return o9(t)&&hC(t)}function o9(t){for(const e of t.filters)if(e instanceof qa)return!1;return!0}function Wv(t){if(t instanceof Kr)return t.field.canonicalString()+t.op.toString()+nd(t.value);if(fC(t))return t.filters.map(e=>Wv(e)).join(",");{const e=t.filters.map(n=>Wv(n)).join(",");return`${t.op}(${e})`}}function dC(t,e){return t instanceof Kr?function(r,i){return i instanceof Kr&&r.op===i.op&&r.field.isEqual(i.field)&&Nl(r.value,i.value)}(t,e):t instanceof qa?function(r,i){return i instanceof qa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&dC(o,i.filters[l]),!0):!1}(t,e):void Ft(19439)}function pC(t){return t instanceof Kr?function(n){return`${n.field.canonicalString()} ${n.op} ${nd(n.value)}`}(t):t instanceof qa?function(n){return n.op.toString()+" {"+n.getFilters().map(pC).join(" ,")+"}"}(t):"Filter"}class a9 extends Kr{constructor(e,n,r){super(e,n,r),this.key=Et.fromName(r.referenceValue)}matches(e){const n=Et.comparator(e.key,this.key);return this.matchesComparison(n)}}class l9 extends Kr{constructor(e,n){super(e,"in",n),this.keys=mC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class u9 extends Kr{constructor(e,n){super(e,"not-in",n),this.keys=mC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mC(t,e){return(e.arrayValue?.values||[]).map(n=>Et.fromName(n.referenceValue))}class c9 extends Kr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return k5(n)&&Ep(n.arrayValue,this.value)}}class h9 extends Kr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ep(this.value.arrayValue,n)}}class f9 extends Kr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ep(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ep(this.value.arrayValue,n)}}class d9 extends Kr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!k5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ep(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function oS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new p9(t,e,n,r,i,s,o)}function R5(t){const e=Kt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),O0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nd(r)).join(",")),e.Te=n}return e.Te}function L5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sS(t.startAt,e.startAt)&&sS(t.endAt,e.endAt)}function $v(t){return Et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m9(t,e,n,r,i,s,o,l){return new hd(t,e,n,r,i,s,o,l)}function M0(t){return new hd(t)}function aS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gC(t){return t.collectionGroup!==null}function op(t){const e=Kt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new oi(Fi.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Tp(s,r))}),n.has(Fi.keyField().canonicalString())||e.Ie.push(new Tp(Fi.keyField(),r))}return e.Ie}function Sl(t){const e=Kt(t);return e.Ee||(e.Ee=g9(e,op(t))),e.Ee}function g9(t,e){if(t.limitType==="F")return oS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Tp(i.field,s)});const n=t.endAt?new Qg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qg(t.startAt.position,t.startAt.inclusive):null;return oS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gv(t,e){const n=t.filters.concat([e]);return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kv(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function F0(t,e){return L5(Sl(t),Sl(e))&&t.limitType===e.limitType}function yC(t){return`${R5(Sl(t))}|lt:${t.limitType}`}function Pf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pC(i)).join(", ")}]`),O0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nd(i)).join(",")),`Target(${r})`}(Sl(t))}; limitType=${t.limitType})`}function V0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Et.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of op(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const h=iS(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,op(r),i)||r.endAt&&!function(o,l,c){const h=iS(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,op(r),i))}(t,e)}function y9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vC(t){return(e,n)=>{let r=!1;for(const i of op(t)){const s=v9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function v9(t,e,n){const r=t.field.isKeyField()?Et.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),h=l.data.field(s);return c!==null&&h!==null?td(c,h):Ft(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ft(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return tC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new xr(Et.comparator);function _u(){return w9}const wC=new xr(Et.comparator);function Qd(...t){let e=wC;for(const n of t)e=e.insert(n.key,n);return e}function _C(t){let e=wC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ch(){return ap()}function bC(){return ap()}function ap(){return new Xh(t=>t.toString(),(t,e)=>t.isEqual(e))}const _9=new xr(Et.comparator),b9=new oi(Et.comparator);function cn(...t){let e=b9;for(const n of t)e=e.add(n);return e}const x9=new oi(un);function S9(){return x9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gg(e)?"-0":e}}function xC(t){return{integerValue:""+t}}function A9(t,e){return XF(e)?xC(e):D5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this._=void 0}}function E9(t,e,n){return t instanceof Cp?function(i,s){const o={fields:{[iC]:{stringValue:rC},[oC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&I5(s)&&(s=j0(s)),s&&(o.fields[sC]=s),{mapValue:o}}(n,e):t instanceof Pp?AC(t,e):t instanceof Np?EC(t,e):function(i,s){const o=SC(i,s),l=lS(o)+lS(i.Ae);return Hv(o)&&Hv(i.Ae)?xC(l):D5(i.serializer,l)}(t,e)}function T9(t,e,n){return t instanceof Pp?AC(t,e):t instanceof Np?EC(t,e):n}function SC(t,e){return t instanceof Xg?function(r){return Hv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Cp extends B0{}class Pp extends B0{constructor(e){super(),this.elements=e}}function AC(t,e){const n=TC(e);for(const r of t.elements)n.some(i=>Nl(i,r))||n.push(r);return{arrayValue:{values:n}}}class Np extends B0{constructor(e){super(),this.elements=e}}function EC(t,e){let n=TC(e);for(const r of t.elements)n=n.filter(i=>!Nl(i,r));return{arrayValue:{values:n}}}class Xg extends B0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function lS(t){return Mr(t.integerValue||t.doubleValue)}function TC(t){return k5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n){this.field=e,this.transform=n}}function P9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pp&&i instanceof Pp||r instanceof Np&&i instanceof Np?ed(r.elements,i.elements,Nl):r instanceof Xg&&i instanceof Xg?Nl(r.Ae,i.Ae):r instanceof Cp&&i instanceof Cp}(t.transform,e.transform)}class N9{constructor(e,n){this.version=e,this.transformResults=n}}class sa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sa}static exists(e){return new sa(void 0,e)}static updateTime(e){return new sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class U0{}function CC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new O5(t.key,sa.none()):new Wp(t.key,t.data,sa.none());{const n=t.data,r=eo.empty();let i=new oi(Fi.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $c(t.key,r,new Po(i.toArray()),sa.none())}}function I9(t,e,n){t instanceof Wp?function(i,s,o){const l=i.value.clone(),c=cS(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof $c?function(i,s,o){if(!mg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=cS(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(PC(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lp(t,e,n,r){return t instanceof Wp?function(s,o,l,c){if(!mg(s.precondition,o))return l;const h=s.value.clone(),f=hS(s.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof $c?function(s,o,l,c){if(!mg(s.precondition,o))return l;const h=hS(s.fieldTransforms,c,o),f=o.data;return f.setAll(PC(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return mg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function k9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=SC(r.transform,i||null);s!=null&&(n===null&&(n=eo.empty()),n.set(r.field,s))}return n||null}function uS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ed(r,i,(s,o)=>P9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wp extends U0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $c extends U0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cS(t,e,n){const r=new Map;Rn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,T9(o,l,n[i]))}return r}function hS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,E9(s,o,e))}return r}class O5 extends U0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R9 extends U0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&I9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=CC(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument($t.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),cn())}isEqual(e){return this.batchId===e.batchId&&ed(this.mutations,e.mutations,(n,r)=>uS(n,r))&&ed(this.baseMutations,e.baseMutations,(n,r)=>uS(n,r))}}class j5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Rn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return _9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new j5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r,pn;function j9(t){switch(t){case ze.OK:return Ft(64938);case ze.CANCELLED:case ze.UNKNOWN:case ze.DEADLINE_EXCEEDED:case ze.RESOURCE_EXHAUSTED:case ze.INTERNAL:case ze.UNAVAILABLE:case ze.UNAUTHENTICATED:return!1;case ze.INVALID_ARGUMENT:case ze.NOT_FOUND:case ze.ALREADY_EXISTS:case ze.PERMISSION_DENIED:case ze.FAILED_PRECONDITION:case ze.ABORTED:case ze.OUT_OF_RANGE:case ze.UNIMPLEMENTED:case ze.DATA_LOSS:return!0;default:return Ft(15467,{code:t})}}function NC(t){if(t===void 0)return wu("GRPC error has no .code"),ze.UNKNOWN;switch(t){case $r.OK:return ze.OK;case $r.CANCELLED:return ze.CANCELLED;case $r.UNKNOWN:return ze.UNKNOWN;case $r.DEADLINE_EXCEEDED:return ze.DEADLINE_EXCEEDED;case $r.RESOURCE_EXHAUSTED:return ze.RESOURCE_EXHAUSTED;case $r.INTERNAL:return ze.INTERNAL;case $r.UNAVAILABLE:return ze.UNAVAILABLE;case $r.UNAUTHENTICATED:return ze.UNAUTHENTICATED;case $r.INVALID_ARGUMENT:return ze.INVALID_ARGUMENT;case $r.NOT_FOUND:return ze.NOT_FOUND;case $r.ALREADY_EXISTS:return ze.ALREADY_EXISTS;case $r.PERMISSION_DENIED:return ze.PERMISSION_DENIED;case $r.FAILED_PRECONDITION:return ze.FAILED_PRECONDITION;case $r.ABORTED:return ze.ABORTED;case $r.OUT_OF_RANGE:return ze.OUT_OF_RANGE;case $r.UNIMPLEMENTED:return ze.UNIMPLEMENTED;case $r.DATA_LOSS:return ze.DATA_LOSS;default:return Ft(39323,{code:t})}}(pn=$r||($r={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new Pc([4294967295,4294967295],0);function fS(t){const e=M9().encode(t),n=new H4;return n.update(e),new Uint8Array(n.digest())}function dS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pc([n,r],0),new Pc([i,s],0)]}class M5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xd(`Invalid padding: ${n}`);if(r<0)throw new Xd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xd(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pc.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Pc.fromNumber(r)));return i.compare(F9)===1&&(i=new Pc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fS(e),[r,i]=dS(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new M5(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=fS(e),[r,i]=dS(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$p.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new z0($t.min(),i,new xr(un),_u(),cn())}}class $p{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $p(r,n,cn(),cn(),cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class IC{constructor(e,n){this.targetId=e,this.Ce=n}}class kC{constructor(e,n,r=Vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pS{constructor(){this.ve=0,this.Fe=mS(),this.Me=Vi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=cn(),n=cn(),r=cn();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ft(38017,{changeType:s})}}),new $p(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=mS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V9{constructor(e){this.Ge=e,this.ze=new Map,this.je=_u(),this.Je=Gm(),this.He=Gm(),this.Ye=new xr(un)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ft(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if($v(s))if(r===0){const o=new Et(s.path);this.et(n,o,as.newNoDocument(o,$t.min()))}else Rn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Oc(r).toUint8Array()}catch(c){if(c instanceof nC)return Zf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new M5(o,i,s)}catch(c){return Zf(c instanceof Xd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&$v(l.target)){const c=new Et(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,as.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=cn();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new z0(e,n,this.Ye,this.je,r);return this.je=_u(),this.Je=Gm(),this.He=Gm(),this.Ye=new xr(un),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new pS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new oi(un),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new oi(un),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pS),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gm(){return new xr(Et.comparator)}function mS(){return new xr(Et.comparator)}const B9={asc:"ASCENDING",desc:"DESCENDING"},U9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z9={and:"AND",or:"OR"};class q9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yv(t,e){return t.useProto3Json||O0(e)?e:{value:e}}function Jg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H9(t,e){return Jg(t,e.toTimestamp())}function Al(t){return Rn(!!t,49232),$t.fromTimestamp(function(n){const r=Dc(n);return new tr(r.seconds,r.nanos)}(t))}function F5(t,e){return Qv(t,e).canonicalString()}function Qv(t,e){const n=function(i){return new $n(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LC(t){const e=$n.fromString(t);return Rn(FC(e),10190,{key:e.toString()}),e}function Xv(t,e){return F5(t.databaseId,e.path)}function M1(t,e){const n=LC(e);if(n.get(1)!==t.databaseId.projectId)throw new ct(ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ct(ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Et(OC(n))}function DC(t,e){return F5(t.databaseId,e)}function W9(t){const e=LC(t);return e.length===4?$n.emptyPath():OC(e)}function Jv(t){return new $n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OC(t){return Rn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gS(t,e,n){return{name:Xv(t,e),fields:n.value.mapValue.fields}}function $9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ft(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Rn(f===void 0||typeof f=="string",58123),Vi.fromBase64String(f||"")):(Rn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Vi.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?ze.UNKNOWN:NC(h.code);return new ct(f,h.message||"")}(o);n=new kC(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=M1(t,r.document.name),s=Al(r.document.updateTime),o=r.document.createTime?Al(r.document.createTime):$t.min(),l=new eo({mapValue:{fields:r.document.fields}}),c=as.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new gg(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=M1(t,r.document),s=r.readTime?Al(r.readTime):$t.min(),o=as.newNoDocument(i,s),l=r.removedTargetIds||[];n=new gg([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=M1(t,r.document),s=r.removedTargetIds||[];n=new gg([],s,i,null)}else{if(!("filter"in e))return Ft(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new O9(i,s),l=r.targetId;n=new IC(l,o)}}return n}function G9(t,e){let n;if(e instanceof Wp)n={update:gS(t,e.key,e.value)};else if(e instanceof O5)n={delete:Xv(t,e.key)};else if(e instanceof $c)n={update:gS(t,e.key,e.data),updateMask:nV(e.fieldMask)};else{if(!(e instanceof R9))return Ft(16599,{Vt:e.type});n={verify:Xv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Cp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Np)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Xg)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Ft(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:H9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ft(27497)}(t,e.precondition)),n}function K9(t,e){return t&&t.length>0?(Rn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Al(i.updateTime):Al(s);return o.isEqual($t.min())&&(o=Al(s)),new N9(o,i.transformResults||[])}(n,e))):[]}function Y9(t,e){return{documents:[DC(t,e.path)]}}function Q9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DC(t,i);const s=function(h){if(h.length!==0)return MC(qa.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(y){return{field:Nf(y.field),direction:Z9(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Yv(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:i}}function X9(t){let e=W9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rn(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const y=jC(p);return y instanceof qa&&fC(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(E){return new Tp(If(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(p){let y;return y=typeof p=="object"?p.value:p,O0(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(p){const y=!!p.before,v=p.values||[];return new Qg(v,y)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const y=!p.before,v=p.values||[];return new Qg(v,y)}(n.endAt)),m9(e,i,o,s,l,"F",c,h)}function J9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=If(n.unaryFilter.field);return Kr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=If(n.unaryFilter.field);return Kr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=If(n.unaryFilter.field);return Kr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=If(n.unaryFilter.field);return Kr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}}(t):t.fieldFilter!==void 0?function(n){return Kr.create(If(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qa.create(n.compositeFilter.filters.map(r=>jC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}}(n.compositeFilter.op))}(t):Ft(30097,{filter:t})}function Z9(t){return B9[t]}function eV(t){return U9[t]}function tV(t){return z9[t]}function Nf(t){return{fieldPath:t.canonicalString()}}function If(t){return Fi.fromServerFormat(t.fieldPath)}function MC(t){return t instanceof Kr?function(n){if(n.op==="=="){if(rS(n.value))return{unaryFilter:{field:Nf(n.field),op:"IS_NAN"}};if(nS(n.value))return{unaryFilter:{field:Nf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rS(n.value))return{unaryFilter:{field:Nf(n.field),op:"IS_NOT_NAN"}};if(nS(n.value))return{unaryFilter:{field:Nf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nf(n.field),op:eV(n.op),value:n.value}}}(t):t instanceof qa?function(n){const r=n.getFilters().map(i=>MC(i));return r.length===1?r[0]:{compositeFilter:{op:tV(n.op),filters:r}}}(t):Ft(54877,{filter:t})}function nV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,r,i,s=$t.min(),o=$t.min(),l=Vi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new xc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.yt=e}}function iV(t){const e=X9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.Cn=new oV}addToCollectionParentIndex(e,n){return this.Cn.add(n),We.resolve()}getCollectionParents(e,n){return We.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return We.resolve()}deleteFieldIndex(e,n){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,n){return We.resolve()}getDocumentsMatchingTarget(e,n){return We.resolve(null)}getIndexType(e,n){return We.resolve(0)}getFieldIndexes(e,n){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,n){return We.resolve(Lc.min())}getMinOffsetFromCollectionGroup(e,n){return We.resolve(Lc.min())}updateCollectionGroup(e,n,r){return We.resolve()}updateIndexEntries(e,n){return We.resolve()}}class oV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new oi($n.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new oi($n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VC=41943040;class Js{static withCacheSize(e){return new Js(e,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(VC,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rd(0)}static cr(){return new rd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="LruGarbageCollector",aV=1048576;function wS([t,e],[n,r]){const i=un(t,n);return i===0?un(e,r):i}class lV{constructor(e){this.Ir=e,this.buffer=new oi(wS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){dt(vS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cd(n)?dt(vS,"Ignoring IndexedDB error during garbage collection: ",n):await ud(n)}await this.Vr(3e5)})}}class cV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return We.resolve(D0.ce);const r=new lV(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(yS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yS):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),Cf()<=ln.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function hV(t,e){return new cV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.changes=new Xh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?We.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lp(r.mutation,i,Po.empty(),tr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,cn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=cn()){const i=Ch();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qd();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ch();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,cn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=_u();const o=ap(),l=function(){return ap()}();return n.forEach((c,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof $c)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),lp(f.mutation,h,f.mutation.getFieldMask(),tr.now())):o.set(h.key,Po.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>l.set(h,new dV(f,o.get(h)??null))),l))}recalculateAndSaveOverlays(e,n){const r=ap();let i=new xr((o,l)=>o-l),s=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||Po.empty();f=l.applyToLocalView(h,f),r.set(c,f);const p=(i.get(l.batchId)||cn()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=bC();f.forEach(y=>{if(!s.has(y)){const v=CC(n.get(y),r.get(y));v!==null&&p.set(y,v),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return We.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Et.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):We.resolve(Ch());let l=xp,c=s;return o.next(h=>We.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?We.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{c=c.insert(f,y)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,cn())).next(f=>({batchId:l,changes:_C(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Et(n)).next(r=>{let i=Qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Qd();return this.indexManager.getCollectionParents(e,s).next(l=>We.forEach(l,c=>{const h=function(p,y){return new hd(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,as.newInvalidDocument(f)))});let l=Qd();return o.forEach((c,h)=>{const f=s.get(c);f!==void 0&&lp(f.mutation,h,Po.empty(),tr.now()),V0(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return We.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Al(i.createTime)}}(n)),We.resolve()}getNamedQuery(e,n){return We.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:iV(i.bundledQuery),readTime:Al(i.readTime)}}(n)),We.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.overlays=new xr(Et.comparator),this.qr=new Map}getOverlay(e,n){return We.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ch();return We.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),We.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),We.resolve()}getOverlaysForCollection(e,n,r){const i=Ch(),s=n.length+1,o=new Et(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return We.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xr((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=Ch(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Ch(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return We.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new D9(n,r));let s=this.qr.get(n);s===void 0&&(s=cn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(e){return We.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,We.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.Qr=new oi(_i.$r),this.Ur=new oi(_i.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _i(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new _i(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Et(new $n([])),r=new _i(n,e),i=new _i(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Et(new $n([])),r=new _i(n,e),i=new _i(n,e+1);let s=cn();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _i(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _i{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Et.comparator(e.key,n.key)||un(e.Yr,n.Yr)}static Kr(e,n){return un(e.Yr,n.Yr)||Et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new oi(_i.$r)}checkEmpty(e){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new L9(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new _i(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return We.resolve(o)}lookupMutationBatch(e,n){return We.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return We.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?N5:this.tr-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _i(n,0),i=new _i(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),We.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new oi(un);return n.forEach(i=>{const s=new _i(i,0),o=new _i(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{r=r.add(l.Yr)})}),We.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Et.isDocumentKey(s)||(s=s.child(""));const o=new _i(new Et(s),0);let l=new oi(un);return this.Zr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.Yr)),!0)},o),We.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Rn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return We.forEach(n.mutations,i=>{const s=new _i(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new _i(n,0),i=this.Zr.firstAfterOrEqual(r);return We.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,We.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.ri=e,this.docs=function(){return new xr(Et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return We.resolve(r?r.document.mutableCopy():as.newInvalidDocument(n))}getEntries(e,n){let r=_u();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():as.newInvalidDocument(i))}),We.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_u();const o=n.path,l=new Et(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||GF($F(f),r)<=0||(i.has(f.key)||V0(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return We.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ft(9500)}ii(e,n){return We.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _V(this)}getSize(e){return We.resolve(this.size)}}class _V extends fV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),We.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.persistence=e,this.si=new Xh(n=>R5(n),L5),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.oi=0,this._i=new V5,this.targetCount=0,this.ai=rd.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),We.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,We.resolve()}updateTargetData(e,n){return this.Pr(n),We.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),We.waitFor(s).next(()=>i)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return We.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),We.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),We.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),We.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return We.resolve(r)}containsKey(e,n){return We.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.ui={},this.overlays={},this.ci=new D0(0),this.li=!1,this.li=!0,this.hi=new yV,this.referenceDelegate=e(this),this.Pi=new bV(this),this.indexManager=new sV,this.remoteDocumentCache=function(i){return new wV(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new rV(n),this.Ii=new mV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new vV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){dt("MemoryPersistence","Starting transaction:",e);const i=new xV(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return We.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class xV extends YF{constructor(e){super(),this.currentSequenceNumber=e}}class B5{constructor(e){this.persistence=e,this.Ri=new V5,this.Vi=null}static mi(e){return new B5(e)}get fi(){if(this.Vi)return this.Vi;throw Ft(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),We.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),We.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),We.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.fi,r=>{const i=Et.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,$t.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return We.or([()=>We.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zg{constructor(e,n){this.persistence=e,this.pi=new Xh(r=>JF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hV(this,n)}static mi(e,n){return new Zg(e,n)}Ei(){}di(e){return We.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return We.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?We.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,s.removeEntry(o,$t.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),We.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),We.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),We.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),We.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dg(e.data.value)),n}br(e,n,r){return We.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return We.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=cn(),i=cn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new U5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return J8()?8:QF(cs())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new SV;return this.Ss(e,n,o).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Cf()<=ln.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Pf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),We.resolve()):(Cf()<=ln.DEBUG&&dt("QueryEngine","Query:",Pf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Cf()<=ln.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Pf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sl(n))):We.resolve())}ys(e,n){if(aS(n))return We.resolve(null);let r=Sl(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kv(n,null,"F"),r=Sl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=cn(...s);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Ds(n,l);return this.Cs(n,h,o,c.readTime)?this.ys(e,Kv(n,null,"F")):this.vs(e,h,n,c)}))})))}ws(e,n,r,i){return aS(n)||i.isEqual($t.min())?We.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?We.resolve(null):(Cf()<=ln.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pf(n)),this.vs(e,o,n,WF(i,xp)).next(l=>l))})}Ds(e,n){let r=new oi(vC(e));return n.forEach((i,s)=>{V0(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Cf()<=ln.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Pf(n)),this.ps.getDocumentsMatchingQuery(e,n,Lc.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="LocalStore",EV=3e8;class TV{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new xr(un),this.xs=new Xh(s=>R5(s),L5),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function CV(t,e,n,r){return new TV(t,e,n,r)}async function UC(t,e){const n=Kt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=cn();for(const h of i){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:l}))})})}function PV(t,e){const n=Kt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const p=h.batch,y=p.keys();let v=We.resolve();return y.forEach(E=>{v=v.next(()=>f.getEntry(c,E)).next(S=>{const C=h.docVersions.get(E);Rn(C!==null,48541),S.version.compareTo(C)<0&&(p.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),f.addEntry(S)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=cn();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zC(t){const e=Kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function NV(t,e){const n=Kt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((f,p)=>{const y=i.get(p);if(!y)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,p)));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Vi.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(S,C,R){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=EV?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(y,v,f)&&l.push(n.Pi.updateTargetData(s,v))});let c=_u(),h=cn();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(IV(s,o,e.documentUpdates).next(f=>{c=f.ks,h=f.qs})),!r.isEqual($t.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return We.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.Ms=i,s))}function IV(t,e,n){let r=cn(),i=cn();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_u();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual($t.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):dt(z5,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{ks:o,qs:i}})}function kV(t,e){const n=Kt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=N5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RV(t,e){const n=Kt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,We.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new xc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Zv(t,e,n){const r=Kt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!cd(o))throw o;dt(z5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function _S(t,e,n){const r=Kt(t);let i=$t.min(),s=cn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,f){const p=Kt(c),y=p.xs.get(f);return y!==void 0?We.resolve(p.Ms.get(y)):p.Pi.getTargetData(h,f)}(r,o,Sl(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:$t.min(),n?s:cn())).next(l=>(LV(r,y9(e),l),{documents:l,Qs:s})))}function LV(t,e,n){let r=t.Os.get(e)||$t.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class bS{constructor(){this.activeTargetIds=S9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DV{constructor(){this.Mo=new bS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="ConnectivityMonitor";class SS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(xS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){dt(xS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km=null;function e2(){return Km===null?Km=function(){return 268435456+Math.round(2147483648*Math.random())}():Km++,"0x"+Km.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="RestConnection",jV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Kg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=e2(),l=this.zo(e,n.toUriEncodedString());dt(F1,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:h}=new URL(l),f=Hc(h);return this.Jo(e,l,c,r,f).then(p=>(dt(F1,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Zf(F1,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ld}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=jV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="WebChannelConnection";class VV extends MV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=e2();return new Promise((l,c)=>{const h=new W4;h.setWithCredentials(!0),h.listenOnce($4.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case fg.NO_ERROR:const p=h.getResponseJson();dt(es,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case fg.TIMEOUT:dt(es,`RPC '${e}' ${o} timed out`),c(new ct(ze.DEADLINE_EXCEEDED,"Request time out"));break;case fg.HTTP_ERROR:const y=h.getStatus();if(dt(es,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v?.error;if(E&&E.status&&E.message){const S=function(R){const N=R.toLowerCase().replace(/_/g,"-");return Object.values(ze).indexOf(N)>=0?N:ze.UNKNOWN}(E.status);c(new ct(S,E.message))}else c(new ct(ze.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ct(ze.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{dt(es,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);dt(es,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",f,r,15)})}T_(e,n,r){const i=e2(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Y4(),l=K4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");dt(es,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=o.createWebChannel(f,c);this.I_(p);let y=!1,v=!1;const E=new FV({Yo:C=>{v?dt(es,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(y||(dt(es,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),dt(es,`RPC '${e}' stream ${i} sending:`,C),p.send(C))},Zo:()=>p.close()}),S=(C,R,N)=>{C.listen(R,V=>{try{N(V)}catch(H){setTimeout(()=>{throw H},0)}})};return S(p,Yd.EventType.OPEN,()=>{v||(dt(es,`RPC '${e}' stream ${i} transport opened.`),E.o_())}),S(p,Yd.EventType.CLOSE,()=>{v||(v=!0,dt(es,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(p))}),S(p,Yd.EventType.ERROR,C=>{v||(v=!0,Zf(es,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),E.a_(new ct(ze.UNAVAILABLE,"The operation could not be completed")))}),S(p,Yd.EventType.MESSAGE,C=>{if(!v){const R=C.data[0];Rn(!!R,16349);const N=R,V=N?.error||N[0]?.error;if(V){dt(es,`RPC '${e}' stream ${i} received error:`,V);const H=V.status;let ie=function(O){const U=$r[O];if(U!==void 0)return NC(U)}(H),ce=V.message;ie===void 0&&(ie=ze.INTERNAL,ce="Unknown error status: "+H+" with message "+V.message),v=!0,E.a_(new ct(ie,ce)),p.close()}else dt(es,`RPC '${e}' stream ${i} received:`,R),E.u_(R)}}),S(l,G4.STAT_EVENT,C=>{C.stat===Uv.PROXY?dt(es,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Uv.NOPROXY&&dt(es,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function V1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t){return new q9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="PersistentStream";class HC{constructor(e,n,r,i,s,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ze.RESOURCE_EXHAUSTED?(wu(n.toString()),wu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ct(ze.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return dt(AS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(dt(AS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BV extends HC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=$9(this.serializer,e),r=function(s){if(!("targetChange"in s))return $t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?$t.min():o.readTime?Al(o.readTime):$t.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Jv(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=$v(c)?{documents:Y9(s,c)}:{query:Q9(s,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=RC(s,o.resumeToken);const h=Yv(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo($t.min())>0){l.readTime=Jg(s,o.snapshotVersion.toTimestamp());const h=Yv(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=J9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Jv(this.serializer),n.removeTarget=e,this.q_(n)}}class UV extends HC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Rn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K9(e.writeResults,e.commitTime),r=Al(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Jv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>G9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{}class qV extends zV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ct(ze.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Qv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ct(ze.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Qv(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ct(ze.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class HV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wu(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="RemoteStore";class WV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Jh(this)&&(dt(zh,"Restarting streams for network reachability change."),await async function(c){const h=Kt(c);h.Ea.add(4),await Gp(h),h.Ra.set("Unknown"),h.Ea.delete(4),await H0(h)}(this))})}),this.Ra=new HV(r,i)}}async function H0(t){if(Jh(t))for(const e of t.da)await e(!0)}async function Gp(t){for(const e of t.da)await e(!1)}function WC(t,e){const n=Kt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$5(n)?W5(n):fd(n).O_()&&H5(n,e))}function q5(t,e){const n=Kt(t),r=fd(n);n.Ia.delete(e),r.O_()&&$C(n,e),n.Ia.size===0&&(r.O_()?r.L_():Jh(n)&&n.Ra.set("Unknown"))}function H5(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($t.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fd(t).Y_(e)}function $C(t,e){t.Va.Ue(e),fd(t).Z_(e)}function W5(t){t.Va=new V9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fd(t).start(),t.Ra.ua()}function $5(t){return Jh(t)&&!fd(t).x_()&&t.Ia.size>0}function Jh(t){return Kt(t).Ea.size===0}function GC(t){t.Va=void 0}async function $V(t){t.Ra.set("Online")}async function GV(t){t.Ia.forEach((e,n)=>{H5(t,e)})}async function KV(t,e){GC(t),$5(t)?(t.Ra.ha(e),W5(t)):t.Ra.set("Unknown")}async function YV(t,e,n){if(t.Ra.set("Online"),e instanceof kC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){dt(zh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await e0(t,r)}else if(e instanceof gg?t.Va.Ze(e):e instanceof IC?t.Va.st(e):t.Va.tt(e),!n.isEqual($t.min()))try{const r=await zC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Vi.EMPTY_BYTE_STRING,f.snapshotVersion)),$C(s,c);const p=new xc(f.target,c,h,f.sequenceNumber);H5(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){dt(zh,"Failed to raise snapshot:",r),await e0(t,r)}}async function e0(t,e,n){if(!cd(e))throw e;t.Ea.add(1),await Gp(t),t.Ra.set("Offline"),n||(n=()=>zC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{dt(zh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await H0(t)})}function KC(t,e){return e().catch(n=>e0(t,n,e))}async function W0(t){const e=Kt(t),n=Mc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:N5;for(;QV(e);)try{const i=await kV(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,XV(e,i)}catch(i){await e0(e,i)}YC(e)&&QC(e)}function QV(t){return Jh(t)&&t.Ta.length<10}function XV(t,e){t.Ta.push(e);const n=Mc(t);n.O_()&&n.X_&&n.ea(e.mutations)}function YC(t){return Jh(t)&&!Mc(t).x_()&&t.Ta.length>0}function QC(t){Mc(t).start()}async function JV(t){Mc(t).ra()}async function ZV(t){const e=Mc(t);for(const n of t.Ta)e.ea(n.mutations)}async function eB(t,e,n){const r=t.Ta.shift(),i=j5.from(r,e,n);await KC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await W0(t)}async function tB(t,e){e&&Mc(t).X_&&await async function(r,i){if(function(o){return j9(o)&&o!==ze.ABORTED}(i.code)){const s=r.Ta.shift();Mc(r).B_(),await KC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await W0(r)}}(t,e),YC(t)&&QC(t)}async function ES(t,e){const n=Kt(t);n.asyncQueue.verifyOperationInProgress(),dt(zh,"RemoteStore received new credentials");const r=Jh(n);n.Ea.add(3),await Gp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await H0(n)}async function nB(t,e){const n=Kt(t);e?(n.Ea.delete(2),await H0(n)):e||(n.Ea.add(2),await Gp(n),n.Ra.set("Unknown"))}function fd(t){return t.ma||(t.ma=function(n,r,i){const s=Kt(n);return s.sa(),new BV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:$V.bind(null,t),t_:GV.bind(null,t),r_:KV.bind(null,t),H_:YV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),$5(t)?W5(t):t.Ra.set("Unknown")):(await t.ma.stop(),GC(t))})),t.ma}function Mc(t){return t.fa||(t.fa=function(n,r,i){const s=Kt(n);return s.sa(),new UV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:JV.bind(null,t),r_:tB.bind(null,t),ta:ZV.bind(null,t),na:eB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await W0(t)):(await t.fa.stop(),t.Ta.length>0&&(dt(zh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new G5(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K5(t,e){if(wu("AsyncQueue",`${e}: ${t}`),cd(t))return new ct(ze.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{static emptySet(e){return new qf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Et.comparator(n.key,r.key):(n,r)=>Et.comparator(n.key,r.key),this.keyedMap=Qd(),this.sortedSet=new xr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.ga=new xr(Et.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ft(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class id{constructor(e,n,r,i,s,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new id(e,n,qf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class iB{constructor(){this.queries=CS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Kt(n),s=i.queries;i.queries=CS(),s.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ct(ze.ABORTED,"Firestore shutting down"))}}function CS(){return new Xh(t=>yC(t),F0)}async function Y5(t,e){const n=Kt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new rB,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=K5(o,`Initialization of query '${Pf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&X5(n)}async function Q5(t,e){const n=Kt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sB(t,e){const n=Kt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&X5(n)}function oB(t,e,n){const r=Kt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function X5(t){t.Ca.forEach(e=>{e.next()})}var t2,PS;(PS=t2||(t2={})).Ma="default",PS.Cache="cache";class J5{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new id(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==t2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.key=e}}class JC{constructor(e){this.key=e}}class aB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=cn(),this.mutatedKeys=cn(),this.eu=vC(e),this.tu=new qf(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new TS,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const y=i.get(f),v=V0(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let C=!1;y&&v?y.data.isEqual(v.data)?E!==S&&(r.track({type:3,doc:v}),C=!0):this.su(y,v)||(r.track({type:2,doc:v}),C=!0,(c&&this.eu(v,c)>0||h&&this.eu(v,h)<0)&&(l=!0)):!y&&v?(r.track({type:0,doc:v}),C=!0):y&&!v&&(r.track({type:1,doc:y}),C=!0,(c||h)&&(l=!0)),C&&(v?(o=o.add(v),s=S?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,p)=>function(v,E){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Rt:C})}};return S(v)-S(E)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,h=c!==this.Za;return this.Za=c,o.length!==0||h?{snapshot:new id(this.query,e.tu,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=cn(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new JC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new XC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=cn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return id.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Z5="SyncEngine";class lB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uB{constructor(e){this.key=e,this.hu=!1}}class cB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Xh(l=>yC(l),F0),this.Iu=new Map,this.Eu=new Set,this.du=new xr(Et.comparator),this.Au=new Map,this.Ru=new V5,this.Vu={},this.mu=new Map,this.fu=rd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hB(t,e,n=!0){const r=i3(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await ZC(r,e,n,!0),i}async function fB(t,e){const n=i3(t);await ZC(n,e,!0,!1)}async function ZC(t,e,n,r){const i=await RV(t.localStore,Sl(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await dB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&WC(t.remoteStore,i),l}async function dB(t,e,n,r,i){t.pu=(p,y,v)=>async function(S,C,R,N){let V=C.view.ru(R);V.Cs&&(V=await _S(S.localStore,C.query,!1).then(({documents:B})=>C.view.ru(B,V)));const H=N&&N.targetChanges.get(C.targetId),ie=N&&N.targetMismatches.get(C.targetId)!=null,ce=C.view.applyChanges(V,S.isPrimaryClient,H,ie);return IS(S,C.targetId,ce.au),ce.snapshot}(t,p,y,v);const s=await _S(t.localStore,e,!0),o=new aB(e,s.Qs),l=o.ru(s.documents),c=$p.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,c);IS(t,n,h.au);const f=new lB(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function pB(t,e,n){const r=Kt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!F0(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&q5(r.remoteStore,i.targetId),n2(r,i.targetId)}).catch(ud)):(n2(r,i.targetId),await Zv(r.localStore,i.targetId,!0))}async function mB(t,e){const n=Kt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),q5(n.remoteStore,r.targetId))}async function gB(t,e,n){const r=SB(t);try{const i=await function(o,l){const c=Kt(o),h=tr.now(),f=l.reduce((v,E)=>v.add(E.key),cn());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=_u(),S=cn();return c.Ns.getEntries(v,f).next(C=>{E=C,E.forEach((R,N)=>{N.isValidDocument()||(S=S.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(C=>{p=C;const R=[];for(const N of l){const V=k9(N,p.get(N.key).overlayedDocument);V!=null&&R.push(new $c(N.key,V,uC(V.value.mapValue),sa.exists(!0)))}return c.mutationQueue.addMutationBatch(v,h,R,l)}).next(C=>{y=C;const R=C.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(v,C.batchId,R)})}).then(()=>({batchId:y.batchId,changes:_C(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let h=o.Vu[o.currentUser.toKey()];h||(h=new xr(un)),h=h.insert(l,c),o.Vu[o.currentUser.toKey()]=h}(r,i.batchId,n),await Kp(r,i.changes),await W0(r.remoteStore)}catch(i){const s=K5(i,"Failed to persist write");n.reject(s)}}async function e3(t,e){const n=Kt(t);try{const r=await NV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Rn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Rn(o.hu,14607):i.removedDocuments.size>0&&(Rn(o.hu,42227),o.hu=!1))}),await Kp(n,r,e)}catch(r){await ud(r)}}function NS(t,e,n){const r=Kt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Kt(o);c.onlineState=l;let h=!1;c.queries.forEach((f,p)=>{for(const y of p.Sa)y.va(l)&&(h=!0)}),h&&X5(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yB(t,e,n){const r=Kt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new xr(Et.comparator);o=o.insert(s,as.newNoDocument(s,$t.min()));const l=cn().add(s),c=new z0($t.min(),new Map,new xr(un),o,l);await e3(r,c),r.du=r.du.remove(s),r.Au.delete(e),ew(r)}else await Zv(r.localStore,e,!1).then(()=>n2(r,e,n)).catch(ud)}async function vB(t,e){const n=Kt(t),r=e.batch.batchId;try{const i=await PV(n.localStore,e);n3(n,r,null),t3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Kp(n,i)}catch(i){await ud(i)}}async function wB(t,e,n){const r=Kt(t);try{const i=await function(o,l){const c=Kt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(p=>(Rn(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,e);n3(r,e,n),t3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Kp(r,i)}catch(i){await ud(i)}}function t3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function n3(t,e,n){const r=Kt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function n2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||r3(t,r)})}function r3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(q5(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ew(t))}function IS(t,e,n){for(const r of n)r instanceof XC?(t.Ru.addReference(r.key,e),_B(t,r)):r instanceof JC?(dt(Z5,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||r3(t,r.key)):Ft(19791,{wu:r})}function _B(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(dt(Z5,"New document in limbo: "+n),t.Eu.add(r),ew(t))}function ew(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Et($n.fromString(e)),r=t.fu.next();t.Au.set(r,new uB(n)),t.du=t.du.insert(n,r),WC(t.remoteStore,new xc(Sl(M0(n.path)),r,"TargetPurposeLimboResolution",D0.ce))}}async function Kp(t,e,n){const r=Kt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(h){i.push(h);const f=U5.As(c.targetId,h);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,h){const f=Kt(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>We.forEach(h,y=>We.forEach(y.Es,v=>f.persistence.referenceDelegate.addReference(p,y.targetId,v)).next(()=>We.forEach(y.ds,v=>f.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))}catch(p){if(!cd(p))throw p;dt(z5,"Failed to update sequence numbers: "+p)}for(const p of h){const y=p.targetId;if(!p.fromCache){const v=f.Ms.get(y),E=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(E);f.Ms=f.Ms.insert(y,S)}}}(r.localStore,s))}async function bB(t,e){const n=Kt(t);if(!n.currentUser.isEqual(e)){dt(Z5,"User change. New user:",e.toKey());const r=await UC(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(c=>{c.reject(new ct(ze.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kp(n,r.Ls)}}function xB(t,e){const n=Kt(t),r=n.Au.get(e);if(r&&r.hu)return cn().add(r.key);{let i=cn();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function i3(t){const e=Kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yB.bind(null,e),e.Pu.H_=sB.bind(null,e.eventManager),e.Pu.yu=oB.bind(null,e.eventManager),e}function SB(t){const e=Kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wB.bind(null,e),e}class t0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=q0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return CV(this.persistence,new AV,e.initialUser,this.serializer)}Cu(e){return new BC(B5.mi,this.serializer)}Du(e){return new DV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}t0.provider={build:()=>new t0};class AB extends t0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Rn(this.persistence.referenceDelegate instanceof Zg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new BC(r=>Zg.mi(r,n),this.serializer)}}class r2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bB.bind(null,this.syncEngine),await nB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iB}()}createDatastore(e){const n=q0(e.databaseInfo.databaseId),r=function(s){return new VV(s)}(e.databaseInfo);return function(s,o,l,c){return new qV(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new WV(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>NS(this.syncEngine,n,0),function(){return SS.v()?new SS:new OV}())}createSyncEngine(e,n){return function(i,s,o,l,c,h,f){const p=new cB(i,s,o,l,c,h);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Kt(n);dt(zh,"RemoteStore shutting down."),r.Ea.add(5),await Gp(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}r2.provider={build:()=>new r2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc="FirestoreClient";class EB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=os.UNAUTHENTICATED,this.clientId=P5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{dt(Fc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(dt(Fc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=K5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function B1(t,e){t.asyncQueue.verifyOperationInProgress(),dt(Fc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await TB(t);dt(Fc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ES(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ES(e.remoteStore,i)),t._onlineComponents=e}async function TB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){dt(Fc,"Using user provided OfflineComponentProvider");try{await B1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ze.FAILED_PRECONDITION||i.code===ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zf("Error using user provided cache. Falling back to memory cache: "+n),await B1(t,new t0)}}else dt(Fc,"Using default OfflineComponentProvider"),await B1(t,new AB(void 0));return t._offlineComponents}async function s3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(dt(Fc,"Using user provided OnlineComponentProvider"),await kS(t,t._uninitializedComponentsProvider._online)):(dt(Fc,"Using default OnlineComponentProvider"),await kS(t,new r2))),t._onlineComponents}function CB(t){return s3(t).then(e=>e.syncEngine)}async function n0(t){const e=await s3(t),n=e.eventManager;return n.onListen=hB.bind(null,e.syncEngine),n.onUnlisten=pB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mB.bind(null,e.syncEngine),n}function PB(t,e,n={}){const r=new pu;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new tw({next:y=>{f.Nu(),o.enqueueAndForget(()=>Q5(s,p));const v=y.docs.has(l);!v&&y.fromCache?h.reject(new ct(ze.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&c&&c.source==="server"?h.reject(new ct(ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new J5(M0(l.path),f,{includeMetadataChanges:!0,qa:!0});return Y5(s,p)}(await n0(t),t.asyncQueue,e,n,r)),r.promise}function NB(t,e,n={}){const r=new pu;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,h){const f=new tw({next:y=>{f.Nu(),o.enqueueAndForget(()=>Q5(s,p)),y.fromCache&&c.source==="server"?h.reject(new ct(ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),p=new J5(l,f,{includeMetadataChanges:!0,qa:!0});return Y5(s,p)}(await n0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="firestore.googleapis.com",LS=!0;class DS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a3,this.ssl=LS}else this.host=e.host,this.ssl=e.ssl??LS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aV)throw new ct(ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o3(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DF;switch(r.type){case"firstParty":return new FF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RS.get(n);r&&(dt("ComponentProvider","Removing Datastore"),RS.delete(n),r.terminate())}(this),Promise.resolve()}}function IB(t,e,n,r={}){t=to(t,$0);const i=Hc(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(f5(`https://${l}`),d5("Firestore",!0)),s.host!==a3&&s.host!==l&&Zf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!Mh(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=os.MOCK_USER;else{h=t4(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ct(ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new os(p)}t._authCredentials=new OF(new X4(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gc(this.firestore,e,this._query)}}class Rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}toJSON(){return{type:Rr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Hp(n,Rr._jsonSchema))return new Rr(e,r||null,new Et($n.fromString(n.referencePath)))}}Rr._jsonSchemaVersion="firestore/documentReference/1.0",Rr._jsonSchema={type:Yr("string",Rr._jsonSchemaVersion),referencePath:Yr("string")};class Nc extends Gc{constructor(e,n,r){super(e,n,M0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new Et(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function G0(t,e,...n){if(t=pr(t),J4("collection","path",e),t instanceof $0){const r=$n.fromString(e,...n);return Gx(r),new Nc(t,null,r)}{if(!(t instanceof Rr||t instanceof Nc))throw new ct(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($n.fromString(e,...n));return Gx(r),new Nc(t.firestore,null,r)}}function Is(t,e,...n){if(t=pr(t),arguments.length===1&&(e=P5.newId()),J4("doc","path",e),t instanceof $0){const r=$n.fromString(e,...n);return $x(r),new Rr(t,null,new Et(r))}{if(!(t instanceof Rr||t instanceof Nc))throw new ct(ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($n.fromString(e,...n));return $x(r),new Rr(t.firestore,t instanceof Nc?t.converter:null,new Et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="AsyncQueue";class jS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qC(this,"async_queue_retry"),this._c=()=>{const r=V1();r&&dt(OS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=V1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=V1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new pu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cd(e))throw e;dt(OS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,wu("INTERNAL UNHANDLED ERROR: ",MS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=G5.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Ft(47125,{Pc:MS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function MS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class bu extends $0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jS,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jS(e),this._firestoreClient=void 0,await e}}}function kB(t,e){const n=typeof t=="object"?t:g5(),r=typeof t=="string"?t:Kg,i=P0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JT("firestore");s&&IB(i,...s)}return i}function K0(t){if(t._terminated)throw new ct(ze.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RB(t),t._firestoreClient}function RB(t){const e=t._freezeSettings(),n=function(i,s,o,l){return new t9(i,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,o3(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new EB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(Vi.fromBase64String(e))}catch(n){throw new ct(ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ia._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hp(e,ia._jsonSchema))return ia.fromBase64String(e.bytes)}}ia._jsonSchemaVersion="firestore/bytes/1.0",ia._jsonSchema={type:Yr("string",ia._jsonSchemaVersion),bytes:Yr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ct(ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ct(ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ct(ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:El._jsonSchemaVersion}}static fromJSON(e){if(Hp(e,El._jsonSchema))return new El(e.latitude,e.longitude)}}El._jsonSchemaVersion="firestore/geoPoint/1.0",El._jsonSchema={type:Yr("string",El._jsonSchemaVersion),latitude:Yr("number"),longitude:Yr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Tl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hp(e,Tl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Tl(e.vectorValues);throw new ct(ze.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tl._jsonSchemaVersion="firestore/vectorValue/1.0",Tl._jsonSchema={type:Yr("string",Tl._jsonSchemaVersion),vectorValues:Yr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=/^__.*__$/;class DB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $c(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wp(e,this.data,n,this.fieldTransforms)}}class l3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $c(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{Ac:t})}}class nw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return r0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(u3(this.Ac)&&LB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||q0(e)}Cc(e,n,r,i=!1){return new nw({Ac:e,methodName:n,Dc:r,path:Fi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X0(t){const e=t._freezeSettings(),n=q0(t._databaseId);return new OB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c3(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);iw("Data must be an object, but it was:",o,r);const l=h3(r,o);let c,h;if(s.merge)c=new Po(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const y=i2(e,p,n);if(!o.contains(y))throw new ct(ze.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);d3(f,y)||f.push(y)}c=new Po(f),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new DB(new eo(l),c,h)}class J0 extends Q0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof J0}}class rw extends Q0{_toFieldTransform(e){return new C9(e.path,new Cp)}isEqual(e){return e instanceof rw}}function jB(t,e,n,r){const i=t.Cc(1,e,n);iw("Data must be an object, but it was:",i,r);const s=[],o=eo.empty();Wc(r,(c,h)=>{const f=sw(e,c,n);h=pr(h);const p=i.yc(f);if(h instanceof J0)s.push(f);else{const y=Yp(h,p);y!=null&&(s.push(f),o.set(f,y))}});const l=new Po(s);return new l3(o,l,i.fieldTransforms)}function MB(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[i2(e,r,n)],c=[i];if(s.length%2!=0)throw new ct(ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)l.push(i2(e,s[y])),c.push(s[y+1]);const h=[],f=eo.empty();for(let y=l.length-1;y>=0;--y)if(!d3(h,l[y])){const v=l[y];let E=c[y];E=pr(E);const S=o.yc(v);if(E instanceof J0)h.push(v);else{const C=Yp(E,S);C!=null&&(h.push(v),f.set(v,C))}}const p=new Po(h);return new l3(f,p,o.fieldTransforms)}function FB(t,e,n,r=!1){return Yp(n,t.Cc(r?4:3,e))}function Yp(t,e){if(f3(t=pr(t)))return iw("Unsupported field value:",e,t),h3(t,e);if(t instanceof Q0)return function(r,i){if(!u3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=Yp(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=pr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=tr.fromDate(r);return{timestampValue:Jg(i.serializer,s)}}if(r instanceof tr){const s=new tr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jg(i.serializer,s)}}if(r instanceof El)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ia)return{bytesValue:RC(i.serializer,r._byteString)};if(r instanceof Rr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:F5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tl)return function(o,l){return{mapValue:{fields:{[aC]:{stringValue:lC},[Yg]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return D5(l.serializer,h)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${L0(r)}`)}(t,e)}function h3(t,e){const n={};return tC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wc(t,(r,i)=>{const s=Yp(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function f3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tr||t instanceof El||t instanceof ia||t instanceof Rr||t instanceof Q0||t instanceof Tl)}function iw(t,e,n){if(!f3(n)||!Z4(n)){const r=L0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function i2(t,e,n){if((e=pr(e))instanceof Y0)return e._internalPath;if(typeof e=="string")return sw(t,e);throw r0("Field path arguments must be of type string or ",t,!1,void 0,n)}const VB=new RegExp("[~\\*/\\[\\]]");function sw(t,e,n){if(e.search(VB)>=0)throw r0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Y0(...e.split("."))._internalPath}catch{throw r0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function r0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ct(ze.INVALID_ARGUMENT,l+t+c)}function d3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Z0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BB extends p3{data(){return super.data()}}function Z0(t,e){return typeof e=="string"?sw(t,e):e instanceof Y0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ct(ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ow{}class g3 extends ow{}function y3(t,e,...n){let r=[];e instanceof ow&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof aw).length,l=s.filter(c=>c instanceof ey).length;if(o>1||o>0&&l>0)throw new ct(ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ey extends g3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ey(e,n,r)}_apply(e){const n=this._parse(e);return v3(e._query,n),new Gc(e.firestore,e.converter,Gv(e._query,n))}_parse(e){const n=X0(e.firestore);return function(s,o,l,c,h,f,p){let y;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ct(ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){BS(p,f);const E=[];for(const S of p)E.push(VS(c,s,S));y={arrayValue:{values:E}}}else y=VS(c,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||BS(p,f),y=FB(l,o,p,f==="in"||f==="not-in");return Kr.create(h,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function UB(t,e,n){const r=e,i=Z0("where",t);return ey._create(i,r,n)}class aw extends ow{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new aw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)v3(o,c),o=Gv(o,c)}(e._query,n),new Gc(e.firestore,e.converter,Gv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lw extends g3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ct(ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ct(ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tp(s,o)}(e._query,this._field,this._direction);return new Gc(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new hd(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function zB(t,e="asc"){const n=e,r=Z0("orderBy",t);return lw._create(r,n)}function VS(t,e,n){if(typeof(n=pr(n))=="string"){if(n==="")throw new ct(ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gC(e)&&n.indexOf("/")!==-1)throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($n.fromString(n));if(!Et.isDocumentKey(r))throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tS(t,new Et(r))}if(n instanceof Rr)return tS(t,n._key);throw new ct(ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${L0(n)}.`)}function BS(t,e){if(!Array.isArray(t)||t.length===0)throw new ct(ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v3(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ct(ze.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ct(ze.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qB{convertValue(e,n="none"){switch(jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){const n=e.fields?.[Yg].arrayValue?.values?.map(r=>Mr(r.doubleValue));return new Tl(n)}convertGeoPoint(e){return new El(Mr(e.latitude),Mr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=j0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sp(e));default:return null}}convertTimestamp(e){const n=Dc(e);return new tr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$n.fromString(e);Rn(FC(r),9688,{name:e});const i=new Ap(r.get(1),r.get(3)),s=new Et(r.popFirst(5));return i.isEqual(n)||wu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Jd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends p3{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Z0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(ze.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=kh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}kh._jsonSchemaVersion="firestore/documentSnapshot/1.0",kh._jsonSchema={type:Yr("string",kh._jsonSchemaVersion),bundleSource:Yr("string","DocumentSnapshot"),bundleName:Yr("string"),bundle:Yr("string")};class yg extends kh{data(e={}){return super.data(e)}}class Rh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yg(this._firestore,this._userDataWriter,r.key,r,new Jd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new yg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Jd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new yg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Jd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:HB(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(ze.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=P5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){t=to(t,Rr);const e=to(t.firestore,bu);return PB(K0(e),t._key).then(n=>b3(e,t,n))}Rh._jsonSchemaVersion="firestore/querySnapshot/1.0",Rh._jsonSchema={type:Yr("string",Rh._jsonSchemaVersion),bundleSource:Yr("string","QuerySnapshot"),bundleName:Yr("string"),bundle:Yr("string")};class uw extends qB{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,n)}}function WB(t){t=to(t,Gc);const e=to(t.firestore,bu),n=K0(e),r=new uw(e);return m3(t._query),NB(n,t._query).then(i=>new Rh(e,r,t,i))}function up(t,e,n){t=to(t,Rr);const r=to(t.firestore,bu),i=w3(t.converter,e,n);return ty(r,[c3(X0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sa.none())])}function Hf(t,e,n,...r){t=to(t,Rr);const i=to(t.firestore,bu),s=X0(i);let o;return o=typeof(e=pr(e))=="string"||e instanceof Y0?MB(s,"updateDoc",t._key,e,n,r):jB(s,"updateDoc",t._key,e),ty(i,[o.toMutation(t._key,sa.exists(!0))])}function $B(t){return ty(to(t.firestore,bu),[new O5(t._key,sa.none())])}function _3(t,e){const n=to(t.firestore,bu),r=Is(t),i=w3(t.converter,e);return ty(n,[c3(X0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sa.exists(!1))]).then(()=>r)}function GB(t,...e){t=pr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||FS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(FS(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let s,o,l;if(t instanceof Rr)o=to(t.firestore,bu),l=M0(t._key.path),s={next:c=>{e[r]&&e[r](b3(o,t,c))},error:e[r+1],complete:e[r+2]};else{const c=to(t,Gc);o=to(c.firestore,bu),l=c._query;const h=new uw(o);s={next:f=>{e[r]&&e[r](new Rh(o,h,c,f))},error:e[r+1],complete:e[r+2]},m3(t._query)}return function(h,f,p,y){const v=new tw(y),E=new J5(f,v,p);return h.asyncQueue.enqueueAndForget(async()=>Y5(await n0(h),E)),()=>{v.Nu(),h.asyncQueue.enqueueAndForget(async()=>Q5(await n0(h),E))}}(K0(o),l,i,s)}function ty(t,e){return function(r,i){const s=new pu;return r.asyncQueue.enqueueAndForget(async()=>gB(await CB(r),i,s)),s.promise}(K0(t),e)}function b3(t,e,n){const r=n.docs.get(e._key),i=new uw(t);return new kh(t,i,e._key,r,new Jd(n.hasPendingWrites,n.fromCache),e.converter)}function s2(){return new rw("serverTimestamp")}(function(e,n=!0){(function(i){ld=i})(Qh),Fh(new Rc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new bu(new jF(r.getProvider("auth-internal")),new VF(o,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ct(ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ap(h.options.projectId,f)}(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),_l(zx,qx,e),_l(zx,qx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="firebasestorage.googleapis.com",S3="storageBucket",KB=120*1e3,YB=600*1e3,QB=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Il{constructor(e,n,r=0){super(U1(e),`Firebase Storage: ${n} (${U1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return U1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rr||(rr={}));function U1(t){return"storage/"+t}function cw(){const t="An unknown error occurred, please check the error payload for server response.";return new Sr(rr.UNKNOWN,t)}function XB(t){return new Sr(rr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function JB(t){return new Sr(rr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Sr(rr.UNAUTHENTICATED,t)}function eU(){return new Sr(rr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tU(t){return new Sr(rr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function A3(){return new Sr(rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E3(){return new Sr(rr.CANCELED,"User canceled the upload/download.")}function nU(t){return new Sr(rr.INVALID_URL,"Invalid URL '"+t+"'.")}function rU(t){return new Sr(rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iU(){return new Sr(rr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+S3+"' property when initializing the app?")}function T3(){return new Sr(rr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sU(){return new Sr(rr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function oU(){return new Sr(rr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aU(t){return new Sr(rr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function o2(t){return new Sr(rr.INVALID_ARGUMENT,t)}function C3(){return new Sr(rr.APP_DELETED,"The Firebase app was deleted.")}function lU(t){return new Sr(rr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cp(t,e){return new Sr(rr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Bd(t){throw new Sr(rr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=No.makeFromUrl(e,n)}catch{return new No(e,"")}if(r.path==="")return r;throw rU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function h(H){H.path_=decodeURIComponent(H.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${f}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},S=n===x3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",R=new RegExp(`^https?://${S}/${i}/${C}`,"i"),V=[{regex:l,indices:c,postModify:s},{regex:v,indices:E,postModify:h},{regex:R,indices:{bucket:1,path:2},postModify:h}];for(let H=0;H<V.length;H++){const ie=V[H],ce=ie.regex.exec(e);if(ce){const B=ce[ie.indices.bucket];let O=ce[ie.indices.path];O||(O=""),r=new No(B,O),ie.postModify(r);break}}if(r==null)throw nU(e);return r}}class uU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function c(){return l===2}let h=!1;function f(...C){h||(h=!0,e.apply(null,C))}function p(C){i=setTimeout(()=>{i=null,t(v,c())},C)}function y(){s&&clearTimeout(s)}function v(C,...R){if(h){y();return}if(C){y(),f.call(null,C,...R);return}if(c()||o){y(),f.call(null,C,...R);return}r<64&&(r*=2);let V;l===1?(l=2,V=0):V=(r+Math.random())*1e3,p(V)}let E=!1;function S(C){E||(E=!0,y(),!h&&(i!==null?(C||(l=2),clearTimeout(i),p(0)):C||(l=1)))}return p(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function hU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){return t!==void 0}function dU(t){return typeof t=="function"}function pU(t){return typeof t=="object"&&!Array.isArray(t)}function ny(t){return typeof t=="string"||t instanceof String}function US(t){return hw()&&t instanceof Blob}function hw(){return typeof Blob<"u"}function zS(t,e,n,r){if(r<e)throw o2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw o2(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function P3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Lh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Lh||(Lh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n,r,i,s,o,l,c,h,f,p,y=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=y,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,S)=>{this.resolve_=E,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ym(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Lh.NO_ERROR,c=s.getStatus();if(!l||N3(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Lh.ABORT;r(!1,new Ym(!1,null,f));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new Ym(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());fU(c)?s(c):s()}catch(c){o(c)}else if(l!==null){const c=cw();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?C3():E3();o(c)}else{const c=A3();o(c)}};this.canceled_?n(!1,new Ym(!1,null,!0)):this.backoffId_=cU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ym{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function gU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _U(t,e,n,r,i,s,o=!0,l=!1){const c=P3(t.urlParams),h=t.url+c,f=Object.assign({},t.headers);return vU(f,e),gU(f,n),yU(f,s),wU(f,r),new mU(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xU(...t){const e=bU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(hw())return new Blob(t);throw new Sr(rr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){if(typeof atob>"u")throw aU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class z1{constructor(e,n){this.data=e,this.contentType=n||null}}function EU(t,e){switch(t){case gl.RAW:return new z1(I3(e));case gl.BASE64:case gl.BASE64URL:return new z1(k3(t,e));case gl.DATA_URL:return new z1(CU(e),PU(e))}throw cw()}function I3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function TU(t){let e;try{e=decodeURIComponent(t)}catch{throw cp(gl.DATA_URL,"Malformed data URL.")}return I3(e)}function k3(t,e){switch(t){case gl.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw cp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gl.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw cp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AU(e)}catch(i){throw i.message.includes("polyfill")?i:cp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class R3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cp(gl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=NU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function CU(t){const e=new R3(t);return e.base64?k3(gl.BASE64,e.rest):TU(e.rest)}function PU(t){return new R3(t).contentType}function NU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n){let r=0,i="";US(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(US(this.data_)){const r=this.data_,i=SU(r,e,n);return i===null?null:new _c(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new _c(r,!0)}}static getBlob(...e){if(hw()){const n=e.map(r=>r instanceof _c?r.data_:r);return new _c(xU.apply(null,n))}else{const n=e.map(o=>ny(o)?EU(gl.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new _c(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){let e;try{e=JSON.parse(t)}catch{return null}return pU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function D3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e){return e}class Ts{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||RU}}let Qm=null;function LU(t){return!ny(t)||t.length<2?t:D3(t)}function O3(){if(Qm)return Qm;const t=[];t.push(new Ts("bucket")),t.push(new Ts("generation")),t.push(new Ts("metageneration")),t.push(new Ts("name","fullPath",!0));function e(s,o){return LU(o)}const n=new Ts("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ts("size");return i.xform=r,t.push(i),t.push(new Ts("timeCreated")),t.push(new Ts("updated")),t.push(new Ts("md5Hash",null,!0)),t.push(new Ts("cacheControl",null,!0)),t.push(new Ts("contentDisposition",null,!0)),t.push(new Ts("contentEncoding",null,!0)),t.push(new Ts("contentLanguage",null,!0)),t.push(new Ts("contentType",null,!0)),t.push(new Ts("metadata","customMetadata",!0)),Qm=t,Qm}function DU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new No(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function OU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return DU(r,t),r}function j3(t,e,n){const r=L3(e);return r===null?null:OU(t,r,n)}function jU(t,e,n,r){const i=L3(e);if(i===null||!ny(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const f=t.bucket,p=t.fullPath,y="/b/"+o(f)+"/o/"+o(p),v=Qp(y,n,r),E=P3({alt:"media",token:h});return v+E})[0]}function M3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class dd{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){if(!t)throw cw()}function fw(t,e){function n(r,i){const s=j3(t,i,e);return mu(s!==null),s}return n}function MU(t,e){function n(r,i){const s=j3(t,i,e);return mu(s!==null),jU(s,i,t.host,t._protocol)}return n}function Xp(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=eU():i=ZB():n.getStatus()===402?i=JB(t.bucket):n.getStatus()===403?i=tU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function F3(t){const e=Xp(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=XB(t.path)),s.serverResponse=i.serverResponse,s}return n}function FU(t,e,n){const r=e.fullServerUrl(),i=Qp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new dd(i,s,fw(t,n),o);return l.errorHandler=F3(e),l}function VU(t,e,n){const r=e.fullServerUrl(),i=Qp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new dd(i,s,MU(t,n),o);return l.errorHandler=F3(e),l}function BU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function V3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=BU(null,e)),r}function UU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let V="";for(let H=0;H<2;H++)V=V+Math.random().toString().slice(2);return V}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const h=V3(e,r,i),f=M3(h,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+c+"--",v=_c.getBlob(p,r,y);if(v===null)throw T3();const E={name:h.fullPath},S=Qp(s,t.host,t._protocol),C="POST",R=t.maxUploadRetryTime,N=new dd(S,C,fw(t,n),R);return N.urlParams=E,N.headers=o,N.body=v.uploadData(),N.errorHandler=Xp(e),N}class i0{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function dw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{mu(!1)}return mu(!!n&&(e||["active"]).indexOf(n)!==-1),n}function zU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=V3(e,r,i),l={name:o.fullPath},c=Qp(s,t.host,t._protocol),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=M3(o,n),y=t.maxUploadRetryTime;function v(S){dw(S);let C;try{C=S.getResponseHeader("X-Goog-Upload-URL")}catch{mu(!1)}return mu(ny(C)),C}const E=new dd(c,h,v,y);return E.urlParams=l,E.headers=f,E.body=p,E.errorHandler=Xp(e),E}function qU(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(h){const f=dw(h,["active","final"]);let p=null;try{p=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mu(!1)}p||mu(!1);const y=Number(p);return mu(!isNaN(y)),new i0(y,r.size(),f==="final")}const o="POST",l=t.maxUploadRetryTime,c=new dd(n,o,s,l);return c.headers=i,c.errorHandler=Xp(e),c}const qS=256*1024;function HU(t,e,n,r,i,s,o,l){const c=new i0(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw sU();const h=c.total-c.current;let f=h;i>0&&(f=Math.min(f,i));const p=c.current,y=p+f;let v="";f===0?v="finalize":h===f?v="upload, finalize":v="upload";const E={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},S=r.slice(p,y);if(S===null)throw T3();function C(H,ie){const ce=dw(H,["active","final"]),B=c.current+f,O=r.size();let U;return ce==="final"?U=fw(e,s)(H,ie):U=null,new i0(B,O,ce==="final",U)}const R="POST",N=e.maxUploadRetryTime,V=new dd(n,R,C,N);return V.headers=E,V.body=S.uploadData(),V.progressCallback=l||null,V.errorHandler=Xp(t),V}const Zs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function q1(t){switch(t){case"running":case"pausing":case"canceling":return Zs.RUNNING;case"paused":return Zs.PAUSED;case"success":return Zs.SUCCESS;case"canceled":return Zs.CANCELED;case"error":return Zs.ERROR;default:return Zs.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,r){if(dU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class $U{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Bd("cannot .send() more than once");if(Hc(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GU extends $U{initXhr(){this.xhr_.responseType="text"}}function kf(){return new GU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=O3(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(rr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(N3(i.status,[]))if(s)i=A3();else{this.sleepTime=Math.max(this.sleepTime*2,QB),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(rr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=zU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,kf,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=qU(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,kf,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=qS*this._chunkMultiplier,n=new i0(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=HU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,kf,i,s,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){qS*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=FU(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,kf,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=UU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,kf,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=E3(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=q1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new WU(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(q1(this._state)){case Zs.SUCCESS:Af(this._resolve.bind(null,this.snapshot))();break;case Zs.CANCELED:case Zs.ERROR:const n=this._reject;Af(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(q1(this._state)){case Zs.RUNNING:case Zs.PAUSED:e.next&&Af(e.next.bind(e,this.snapshot))();break;case Zs.SUCCESS:e.complete&&Af(e.complete.bind(e))();break;case Zs.CANCELED:case Zs.ERROR:e.error&&Af(e.error.bind(e,this._error))();break;default:e.error&&Af(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this._service=e,n instanceof No?this._location=n:this._location=No.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qh(e,n)}get root(){const e=new No(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return D3(this._location.path)}get storage(){return this._service}get parent(){const e=IU(this._location.path);if(e===null)return null;const n=new No(this._location.bucket,e);return new qh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lU(e)}}function YU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new KU(t,new _c(e),n)}function QU(t){t._throwIfRoot("getDownloadURL");const e=VU(t.storage,t._location,O3());return t.storage.makeRequestWithTokens(e,kf).then(n=>{if(n===null)throw oU();return n})}function XU(t,e){const n=kU(t._location.path,e),r=new No(t._location.bucket,n);return new qh(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){return/^[A-Za-z]+:\/\//.test(t)}function ZU(t,e){return new qh(t,e)}function B3(t,e){if(t instanceof pw){const n=t;if(n._bucket==null)throw iU();const r=new qh(n,n._bucket);return e!=null?B3(r,e):r}else return e!==void 0?XU(t,e):t}function ez(t,e){if(e&&JU(e)){if(t instanceof pw)return ZU(t,e);throw o2("To use ref(service, url), the first argument must be a Storage instance.")}else return B3(t,e)}function HS(t,e){const n=e?.[S3];return n==null?null:No.makeFromBucketSpec(n,t)}function tz(t,e,n,r={}){t.host=`${e}:${n}`;const i=Hc(e);i&&(f5(`https://${t.host}/b`),d5("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:t4(s,t.app.options.projectId))}class pw{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=x3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KB,this._maxUploadRetryTime=YB,this._requests=new Set,i!=null?this._bucket=No.makeFromBucketSpec(i,this._host):this._bucket=HS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=No.makeFromBucketSpec(this._url,e):this._bucket=HS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new uU(C3());{const o=_U(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const WS="@firebase/storage",$S="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="storage";function nz(t,e,n){return t=pr(t),YU(t,e,n)}function rz(t){return t=pr(t),QU(t)}function iz(t,e){return t=pr(t),ez(t,e)}function sz(t=g5(),e){t=pr(t);const r=P0(t,U3).getImmediate({identifier:e}),i=JT("storage");return i&&oz(r,...i),r}function oz(t,e,n,r={}){tz(t,e,n,r)}function az(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new pw(n,r,i,e,Qh)}function lz(){Fh(new Rc(U3,az,"PUBLIC").setMultipleInstances(!0)),_l(WS,$S,""),_l(WS,$S,"esm2020")}lz();const uz={apiKey:"AIzaSyAi5sO9YJAhy_x6nMbJWNif96N_JJQC8LU",authDomain:"wishlist2cart-web.firebaseapp.com",projectId:"wishlist2cart-web",storageBucket:"wishlist2cart-web.firebasestorage.app",messagingSenderId:"671248690215",appId:"1:671248690215:web:425a8e80ed464ad6877202"},mw=i4(uz),dl=IF(mw),z3=new ou,xi=kB(mw),cz=sz(mw),hz=1;let H1=0;function fz(){return H1=(H1+1)%Number.MAX_VALUE,H1.toString()}const Ps={state:{toasts:[]},listeners:[],getState:()=>Ps.state,setState:t=>{typeof t=="function"?Ps.state=t(Ps.state):Ps.state={...Ps.state,...t},Ps.listeners.forEach(e=>e(Ps.state))},subscribe:t=>(Ps.listeners.push(t),()=>{Ps.listeners=Ps.listeners.filter(e=>e!==t)})},wh=({...t})=>{const e=fz(),n=i=>Ps.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>Ps.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return Ps.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,hz)})),{id:e,dismiss:r,update:n}};function aa(){const[t,e]=Z.useState(Ps.getState());return Z.useEffect(()=>Ps.subscribe(r=>{e(r)}),[]),Z.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:wh,toasts:t.toasts}}const er=Z.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:Tu("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50","dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder:text-gray-500 dark:focus-visible:ring-violet-500",t),ref:r,...n}));er.displayName="Input";var dz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ha=dz.reduce((t,e)=>{const n=jg(`Primitive.${e}`),r=Z.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function q3(t,e){t&&F2.flushSync(()=>t.dispatchEvent(e))}var pz="Label",H3=Z.forwardRef((t,e)=>x.jsx(Ha.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));H3.displayName=pz;var W3=H3;const mz=c5("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70","dark:text-gray-300"),Vn=Z.forwardRef(({className:t,...e},n)=>x.jsx(W3,{ref:n,className:Tu(mz(),t),...e}));Vn.displayName=W3.displayName;const $3=Z.createContext(),gz=({children:t})=>{const[e,n]=Z.useState(null),[r,i]=Z.useState(!0),s=Eu(),o=async p=>{const y=Is(xi,"users",p),v=await Ip(y);if(v.exists()){const E=v.data();return n(E),localStorage.setItem("wishlist2cart_user",JSON.stringify(E)),E}else{const E=dl.currentUser;if(E?.email){const S={uid:E.uid,name:E.displayName||"User",email:E.email,avatar:E.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(E.email)}`};return await up(y,S),n(S),localStorage.setItem("wishlist2cart_user",JSON.stringify(S)),S}else throw await kx(dl),n(null),localStorage.removeItem("wishlist2cart_user"),new Error("User not found in Firestore.")}},l=async(p,y,v)=>{const E=p.toLowerCase().trim();if((await mM(dl,E)).length>0)throw new Error("Email already in use.");const R=(await fM(dl,E,y)).user,N={uid:R.uid,name:v,email:R.email,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(R.email)}`};return await up(Is(xi,"users",R.uid),N),n(N),localStorage.setItem("wishlist2cart_user",JSON.stringify(N)),N},c=async(p,y)=>{const v=await dM(dl,p,y);return await o(v.user.uid)},h=()=>HM(dl,z3),f=async()=>{await kx(dl),n(null),localStorage.removeItem("wishlist2cart_user")};return Z.useEffect(()=>{$M(dl).then(async p=>{if(p?.user){const y=p.user,v=Is(xi,"users",y.uid);if((await Ip(v)).exists())await o(y.uid);else{const S={uid:y.uid,name:y.displayName||"Guest",email:y.email,avatar:y.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(y.email)}`};await up(v,S),n(S),localStorage.setItem("wishlist2cart_user",JSON.stringify(S))}s("/dashboard",{replace:!0})}}).catch(p=>{console.error("Redirect login error:",p)})},[s]),Z.useEffect(()=>{const p=vM(dl,async y=>{if(y)try{await o(y.uid)}catch(v){console.error("Sync error:",v),n(null),localStorage.removeItem("wishlist2cart_user")}else n(null),localStorage.removeItem("wishlist2cart_user");i(!1)});return()=>p()},[]),x.jsx($3.Provider,{value:{user:e,loading:r,loginWithEmail:c,register:l,loginWithGoogle:h,logout:f},children:!r&&t})},Rl=()=>Z.useContext($3),yz=()=>{const[t,e]=Z.useState(!0),[n,r]=Z.useState(!1),[i,s]=Z.useState(""),[o,l]=Z.useState(""),[c,h]=Z.useState(""),[f,p]=Z.useState(!1),{loginWithEmail:y,register:v}=Rl(),E=Eu(),S=async R=>{R.preventDefault(),p(!0);try{t?(await y(i.trim(),o),wh({title:"Login successful!"}),E("/dashboard")):(await v(i.trim(),o,c),wh({title:"Account created!",description:"Now log in using your credentials."}),e(!0),s(""),l(""),h(""))}catch(N){wh({title:"Auth Error",description:N.message,variant:"destructive"})}finally{p(!1)}},C=async()=>{p(!0);try{const N=(await FM(dl,z3)).user,V=Is(xi,"users",N.uid),H=await Ip(V),ie={uid:N.uid,name:N.displayName||"Google User",email:N.email,avatar:N.photoURL||`https://api.dicebear.com/7.x/avataaars/svg?seed=${encodeURIComponent(N.email)}`};H.exists()||await up(V,ie),localStorage.setItem("wishlist2cart_user",JSON.stringify(ie)),wh({title:"Google Sign-In Success",description:`Welcome ${ie.name}`}),E("/dashboard")}catch(R){R.code==="auth/popup-closed-by-user"?wh({title:"Popup Closed",description:"You closed the sign-in popup.",variant:"destructive"}):wh({title:"Google Sign-In Failed",description:R.message,variant:"destructive"})}finally{p(!1)}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100 dark:bg-gray-900",children:x.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-950/50 backdrop-blur-xl border border-gray-200 dark:border-gray-800 rounded-xl shadow-2xl p-6 space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"inline-flex items-center gap-2 mb-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:x.jsx(du,{className:"w-6 h-6 text-white"})}),x.jsx("span",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-violet-600 to-blue-600 text-transparent bg-clip-text",children:"Wishlist2Cart"})]}),x.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:t?"Welcome Back!":"Create an Account"}),x.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:t?"Sign in to manage your wishlist":"Start saving and sharing your favorite items"})]}),x.jsxs("form",{onSubmit:S,className:"space-y-5",children:[!t&&x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"name",children:"Full Name"}),x.jsx(er,{id:"name",value:c,onChange:R=>h(R.target.value),required:!0,className:"pl-10"}),x.jsx(Mg,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"email",children:"Email"}),x.jsx(er,{id:"email",type:"email",value:i,onChange:R=>s(R.target.value),required:!0,className:"pl-10"}),x.jsx(HT,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"password",children:"Password"}),x.jsx(er,{id:"password",type:n?"text":"password",value:o,onChange:R=>l(R.target.value),required:!0,className:"pl-10 pr-10"}),x.jsx(S8,{className:"absolute left-3 top-9 w-5 h-5 text-gray-400"}),x.jsx("button",{type:"button",onClick:()=>r(R=>!R),className:"absolute right-3 top-9 w-5 h-5 text-gray-400",children:n?x.jsx(v8,{}):x.jsx(w8,{})})]}),x.jsx(Nt,{type:"submit",className:"w-full",disabled:f,children:f?"Please wait...":t?"Log In":"Create Account"})]}),x.jsxs("div",{className:"relative text-center",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("span",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),x.jsx("div",{className:"relative bg-white dark:bg-gray-950 px-2 text-gray-500 dark:text-gray-400 text-xs uppercase",children:"Or continue with"})]}),x.jsx(Nt,{variant:"outline",className:"w-full",onClick:C,disabled:f,children:f?"Signing in...":"Continue with Google"}),x.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:[t?"Dont have an account?":"Already have an account?"," ",x.jsx("button",{className:"text-violet-600 hover:text-blue-600 font-semibold ml-1",onClick:()=>e(R=>!R),children:t?"Sign Up":"Log In"})]})]})})};function vz(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}}const G3=Z.createContext(),gw=()=>{const t=Z.useContext(G3);if(!t)throw new Error("useWishlist must be used within a WishlistProvider");return t},wz=({children:t})=>{const{user:e}=Rl(),[n,r]=Z.useState([]);Z.useEffect(()=>{if(e)try{const y=localStorage.getItem(`wishlist_${e.uid}`);if(y)r(JSON.parse(y));else{const v=[{id:"1",title:"iPhone 15 Pro Max",price:1199,originalPrice:1299,image:"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400",platform:"Amazon",url:"https://amazon.com/iphone-15-pro-max",tags:["electronics","phone"],addedAt:new Date().toISOString(),inCart:!1,quantity:1},{id:"2",title:'MacBook Pro 16"',price:2399,originalPrice:2499,image:"https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=400",platform:"Apple",url:"https://apple.com/macbook-pro",tags:["electronics","laptop"],addedAt:new Date().toISOString(),inCart:!1,quantity:1},{id:"3",title:"Nike Air Jordan 1",price:170,originalPrice:200,image:"https://images.unsplash.com/photo-1556906781-9a412961c28c?w=400",platform:"Nike",url:"https://nike.com/air-jordan-1",tags:["shoes","fashion"],addedAt:new Date().toISOString(),inCart:!0,quantity:1}];r(v),localStorage.setItem(`wishlist_${e.uid}`,JSON.stringify(v))}}catch(y){console.error("Failed to load wishlist:",y),r([])}else r([])},[e]);const i=Z.useCallback(vz(y=>{if(e)try{localStorage.setItem(`wishlist_${e.uid}`,JSON.stringify(y))}catch(v){console.error("Failed to save wishlist:",v)}},300),[e]);Z.useEffect(()=>{i(n)},[n,i]);const s=y=>{const v={...y,id:Date.now().toString(),addedAt:new Date().toISOString(),inCart:!1,quantity:1};r(E=>[...E,v])},o=y=>{r(v=>v.filter(E=>E.id!==y))},l=y=>{r(v=>v.map(E=>E.id===y?{...E,inCart:!E.inCart}:E))},c=(y,v)=>{r(E=>E.map(S=>S.id===y?{...S,...v}:S))},h=(y,v)=>{v<1||c(y,{quantity:v})},f=()=>{r([]),e&&localStorage.removeItem(`wishlist_${e.uid}`)},p=dr.useMemo(()=>({wishlistItems:n,addToWishlist:s,removeFromWishlist:o,toggleCartStatus:l,updateItem:c,updateQuantity:h,clearWishlist:f}),[n]);return x.jsx(G3.Provider,{value:p,children:t})};function K3({children:t,requiredRole:e=null}){const{user:n}=Rl();return n?e&&!n?.roles?.includes(e)?x.jsx("div",{className:"container mx-auto py-20 text-center text-red-600",children:"You do not have permission to access this page."}):t:x.jsx(iE,{to:"/login",replace:!0})}const GS={Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",Flipkart:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_logo_vector.svg",Myntra:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",Default:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Shopping_Cart_Icon.svg/1024px-Shopping_Cart_Icon.svg.png"},_z=()=>{const{wishlistItems:t,toggleCartStatus:e,removeFromWishlist:n}=gw(),{toast:r}=aa(),i=Eu(),s=l=>{const c=t.find(h=>h.id===l);e(l),r({title:"Item status updated!",description:`${c.title} has been ${c.inCart?"returned to wishlist":"moved to cart"}.`})},o=l=>{n(l),r({title:"Item Removed",description:"The item has been successfully removed from your wishlist.",variant:"destructive"})};return x.jsx(K3,{children:x.jsxs(x.Fragment,{children:[x.jsxs(Pl,{children:[x.jsx("title",{children:"Dashboard - Wishlist2Cart"}),x.jsx("meta",{name:"description",content:"Manage your wishlists, synced sites, and cart all in one place."})]}),x.jsx(_r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 min-h-screen",children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[x.jsx("aside",{className:"w-full md:w-64 lg:w-72 flex-shrink-0","aria-label":"Dashboard sidebar menu",children:x.jsxs("div",{className:"sticky top-24 bg-white dark:bg-gray-950/30 p-6 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[x.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Menu"}),x.jsxs("nav",{className:"space-y-2","aria-label":"Primary menu",children:[x.jsx(Nt,{asChild:!0,variant:"ghost",className:"w-full justify-start text-violet-600 dark:text-violet-400 bg-violet-100 dark:bg-violet-900/30",children:x.jsxs(Mi,{to:"/dashboard",className:"flex items-center",children:[x.jsx(zT,{className:"mr-3 h-5 w-5"})," My Wishlist"]})}),x.jsxs(Nt,{variant:"ghost",className:"w-full justify-start",onClick:()=>i("/synced-sites"),children:[x.jsx(k8,{className:"mr-3 h-5 w-5"})," Synced Sites"]}),x.jsxs(Nt,{variant:"ghost",className:"w-full justify-start",onClick:()=>i("/cart"),children:[x.jsx(du,{className:"mr-3 h-5 w-5"})," My Cart"]}),x.jsxs(Nt,{variant:"ghost",className:"w-full justify-start",onClick:()=>i("/orders"),children:[x.jsx(P8,{className:"mr-3 h-5 w-5"})," My Orders"]}),x.jsxs(Nt,{variant:"ghost",className:"w-full justify-start",onClick:()=>i("/settings"),children:[x.jsx(I8,{className:"mr-3 h-5 w-5"})," Settings"]})]})]})}),x.jsxs("main",{className:"flex-1",tabIndex:-1,children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"My Wishlist"}),x.jsx(Nt,{variant:"default",size:"md",asChild:!0,children:x.jsxs(Mi,{to:"/add-wishlist",className:"flex items-center space-x-2 px-4 py-2",children:[x.jsx(WT,{className:"h-5 w-5"}),x.jsx("span",{children:"Add New Item"})]})})]}),x.jsx("div",{className:"space-y-4",children:t.length>0?t.map((l,c)=>x.jsxs(_r.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:c*.05},className:`p-4 rounded-2xl transition-all duration-300 flex flex-col sm:flex-row items-start sm:items-center gap-4 ${l.inCart?"bg-green-100/50 dark:bg-green-900/20":"bg-white dark:bg-gray-800/50"} shadow-md border border-gray-200 dark:border-gray-800`,children:[x.jsx("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0 flex items-center justify-center p-2",children:x.jsx("img",{src:GS[l.store]||l.image||GS.Default,alt:l.title,className:"max-h-full max-w-full object-contain"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-semibold text-lg",children:l.title}),x.jsxs("p",{className:"text-violet-500 dark:text-violet-400 font-bold text-xl",children:["$",l.price.toFixed(2)]}),x.jsx("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:l.tags.map(h=>x.jsxs("span",{className:"text-xs bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-full flex items-center",children:[x.jsx(E0,{className:"mr-1 h-3 w-3"})," ",h]},h))})]}),x.jsxs("div",{className:"flex flex-row sm:flex-col gap-2 self-end sm:self-center",children:[x.jsx(Nt,{size:"sm",onClick:()=>s(l.id),variant:l.inCart?"outline":"default",children:l.inCart?"In Cart":"Move to Cart"}),x.jsx(Nt,{size:"sm",variant:"ghost",className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30",onClick:()=>o(l.id),"aria-label":`Remove ${l.title} from wishlist`,children:x.jsx(T0,{className:"h-4 w-4"})})]})]},l.id)):x.jsxs("div",{className:"text-center py-16 bg-white dark:bg-gray-800/50 rounded-2xl",children:[x.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Your wishlist is empty."}),x.jsx(Nt,{asChild:!0,className:"mt-4",children:x.jsx(Mi,{to:"/add-wishlist",children:"Add your first item!"})})]})}),x.jsxs("div",{className:"mt-12",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Smart Suggestions"}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-4 rounded-2xl shadow-md border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[x.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:"Alternative for Sony Headphones"}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bose QuietComfort Ultra - $429.00"}),x.jsx(Nt,{size:"sm",className:"mt-2",onClick:()=>r({title:"Feature Not Implemented"}),children:"View Deal"})]})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-800/50 p-4 rounded-2xl shadow-md border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[x.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:"Price Drop Alert!"}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Apple Watch Series 9 is now $399.00"}),x.jsxs(Nt,{size:"sm",className:"mt-2",onClick:()=>r({title:"Feature Not Implemented"}),children:[x.jsx(h5,{className:"mr-2 h-4 w-4"})," Notify Me"]})]})]})]})]})]})]})})]})})},bz=()=>{const[t,e]=Z.useState(""),[n,r]=Z.useState(""),[i,s]=Z.useState(!1),[o,l]=Z.useState(null),{toast:c}=aa(),h=Eu(),{addToWishlist:f}=gw(),p=async v=>{if(v.preventDefault(),!t){c({title:"URL Required",description:"Please paste a product URL to fetch details.",variant:"destructive"});return}s(!0),l(null);try{const E=await fetch("http://localhost:3001/scrape",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})});if(!E.ok)throw new Error("Failed to fetch product details.");const S=await E.json(),C={title:S.title||"Unknown Product",price:parseFloat(S.price.replace(/[^\d.]/g,""))||0,image:S.image,platform:S.platform||"Unknown",tags:[]};l(C),r(""),c({title:" Product Fetched",description:`Fetched product from ${C.platform}`})}catch(E){c({title:"Fetch Failed",description:E.message,variant:"destructive"})}finally{s(!1)}},y=()=>{if(!o)return;const v={...o,tags:n.split(",").map(E=>E.trim()).filter(E=>E)};f(v),c({title:"Item Added!",description:`${o.title} has been added to your wishlist.`}),setTimeout(()=>h("/dashboard"),800)};return x.jsxs(x.Fragment,{children:[x.jsxs(Pl,{children:[x.jsx("title",{children:"Add to Wishlist - Wishlist2Cart"}),x.jsx("meta",{name:"description",content:"Add new items to your wishlist by pasting a URL from any e-commerce platform."})]}),x.jsxs(_r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto max-w-3xl px-4 py-12",children:[x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Add a New Wish"}),x.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Paste a product link to get started."})]}),x.jsxs("div",{className:"bg-white dark:bg-gray-950/30 p-8 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-800",children:[x.jsxs("form",{onSubmit:p,className:"space-y-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"url",className:"text-lg font-medium",children:"Product URL"}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Paste a link from Amazon, Flipkart, Myntra, etc."}),x.jsx(qT,{className:"absolute left-3 top-[58px] h-5 w-5 text-gray-400"}),x.jsx(er,{id:"url",type:"url",placeholder:"https://www.example-store.com/product/...",value:t,onChange:v=>e(v.target.value),required:!0,className:"pl-10 h-12 text-base"})]}),x.jsx(Nt,{type:"submit",size:"lg",className:"w-full",disabled:i,children:i?"Fetching...":"Fetch Product Details"})]}),o&&x.jsxs(_r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Product Preview"}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[x.jsx("img",{src:o.image,alt:o.title,className:"w-full md:w-32 h-32 object-contain rounded-lg bg-white"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-bold text-lg",children:o.title}),x.jsxs("p",{className:"text-2xl font-bold text-violet-500 dark:text-violet-400",children:["",o.price.toFixed(2)]}),x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["From: ",o.platform]})]})]}),x.jsxs("div",{className:"mt-6 space-y-4",children:[x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"tags",children:"Tags (comma-separated)"}),x.jsx(E0,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"}),x.jsx(er,{id:"tags",type:"text",placeholder:"e.g., electronics, gift, birthday",value:n,onChange:v=>r(v.target.value),className:"pl-10"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"reminder",children:"Set Reminder"}),x.jsx(h5,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"}),x.jsx(er,{id:"reminder",type:"date",className:"pl-10"})]})]}),x.jsxs(Nt,{size:"lg",className:"w-full mt-6",onClick:y,children:[x.jsx($T,{className:"mr-2 h-5 w-5"})," Add to My Wishlist"]})]})]})]})]})};function xz(t,e){return t.catalogId?t.catalogId===e.catalogId:t.id===e.id}const Y3=Z.createContext(),ry=()=>{const t=Z.useContext(Y3);if(!t)throw new Error("useCart must be used within a CartProvider");return t},Sz=({children:t})=>{const{user:e}=Rl(),{wishlistItems:n,updateItem:r,updateQuantity:i,addToWishlist:s}=gw(),[o,l]=Z.useState([]);Z.useEffect(()=>{if(!e){l([]);return}l(n.filter(R=>R.inCart))},[n,e]);const c=Z.useCallback(R=>{if(!e)return;const N=n.find(V=>xz(V,R));if(N)N.inCart||r(N.id,{inCart:!0});else{const V={...R,id:Date.now().toString(),inCart:!0,quantity:1,catalogId:R.catalogId||R.id};s(V)}},[e,n,r,s]),h=Z.useCallback(R=>{e&&r(R,{inCart:!1,quantity:1})},[e,r]),f=Z.useCallback((R,N)=>{!e||N<1||i(R,N)},[e,i]),p=Z.useMemo(()=>o.reduce((R,N)=>R+N.price*(N.quantity||1),0),[o]),y=Z.useMemo(()=>o.reduce((R,N)=>R+(N.originalPrice||N.price)*(N.quantity||1),0),[o]),v=Z.useMemo(()=>y-p,[y,p]),E=Z.useMemo(()=>{const R={};return o.forEach(N=>{R[N.platform]||(R[N.platform]=[]),R[N.platform].push(N)}),R},[o]),S=Z.useCallback(()=>{e&&o.forEach(R=>r(R.id,{inCart:!1,quantity:1}))},[e,o,r]),C=Z.useMemo(()=>({cartItems:o,addToCart:c,removeFromCart:h,setQuantity:f,getTotalValue:p,getOriginalTotalValue:y,getTotalSavings:v,getItemsByPlatform:E,clearCart:S}),[o,c,h,f,p,y,v,E,S]);return x.jsx(Y3.Provider,{value:C,children:t})},KS={Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",Flipkart:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_logo_vector.svg",Myntra:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",Default:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Shopping_Cart_Icon.svg/1024px-Shopping_Cart_Icon.svg.png"};function Az(){const{toast:t}=aa(),{cartItems:e,getTotalValue:n,removeFromCart:r,setQuantity:i}=ry(),s=Eu(),o=p=>{const y=(p.quantity||1)-1;y>=1&&i(p.id,y)},l=p=>{const y=(p.quantity||1)+1;i(p.id,y)},c=p=>{r(p.id),t({title:"Removed from cart",description:`${p.title} was removed.`,variant:"destructive"})},h=p=>{t({title:`Redirecting to ${p}`,description:"This will take you to the checkout page on their site."})},f=()=>{if(e.length===0){t({title:"Cart Empty",description:"Add items before proceeding to payment.",variant:"destructive"});return}s("/checkout")};return x.jsxs(x.Fragment,{children:[x.jsxs(Pl,{children:[x.jsx("title",{children:"My Cart - Wishlist2Cart"}),x.jsx("meta",{name:"description",content:"View your aggregated cart from multiple platforms and get ready to checkout."})]}),x.jsxs(_r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"My Aggregated Cart"}),x.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"All your items, ready for checkout."})]}),x.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[x.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.length>0?e.map((p,y)=>x.jsxs(_r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:y*.1},className:"p-4 rounded-2xl bg-white dark:bg-gray-800/50 shadow-md border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[x.jsx("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-lg flex-shrink-0 flex items-center justify-center p-2",children:x.jsx("img",{src:p.image||KS[p.platform]||KS.Default,alt:p.title,className:"max-h-full max-w-full object-contain rounded",loading:"lazy"})}),x.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[x.jsx("h3",{className:"font-semibold text-lg line-clamp-2",children:p.title}),x.jsxs("p",{className:"text-violet-500 dark:text-violet-400 font-bold text-lg mt-1",children:["",(p.price*(p.quantity||1)).toFixed(2),p.quantity>1&&x.jsxs("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400 ml-2",children:["(",p.price.toFixed(2),"  ",p.quantity,")"]})]})]}),x.jsxs("div",{className:"flex flex-col items-center gap-2",children:[x.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md overflow-hidden bg-white dark:bg-gray-900",children:[x.jsx("button",{onClick:()=>o(p),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":`Decrease quantity of ${p.title}`,children:x.jsx(C8,{className:"w-4 h-4"})}),x.jsx("span",{className:"px-3 font-semibold select-none",children:p.quantity||1}),x.jsx("button",{onClick:()=>l(p),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":`Increase quantity of ${p.title}`,children:x.jsx($T,{className:"w-4 h-4"})})]}),x.jsx(Nt,{variant:"ghost",size:"sm",onClick:()=>c(p),className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30","aria-label":`Remove ${p.title} from cart`,children:x.jsx(T0,{className:"w-4 h-4"})})]}),p.affiliateUrl&&x.jsxs(Nt,{variant:"outline",size:"sm",onClick:()=>h(p.platform),className:"ml-4 whitespace-nowrap",children:["Checkout on ",p.platform," ",x.jsx(UT,{className:"ml-1 w-4 h-4"})]})]},p.id)):x.jsx("div",{className:"text-center py-16 bg-white dark:bg-gray-800/50 rounded-2xl text-gray-500 dark:text-gray-400",children:"Your cart is empty."})}),x.jsx("div",{className:"lg:col-span-1",children:x.jsxs("div",{className:"sticky top-24 bg-white dark:bg-gray-950/30 p-6 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Cart Summary"}),x.jsxs("div",{className:"space-y-2 text-lg",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{children:"Subtotal"}),x.jsxs("span",{children:["",n.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between text-gray-500 dark:text-gray-400",children:[x.jsx("span",{children:"Shipping"}),x.jsx("span",{children:"Calculated at checkout"})]}),x.jsxs("div",{className:"flex justify-between font-bold text-xl pt-2 border-t border-gray-200 dark:border-gray-700",children:[x.jsx("span",{children:"Total"}),x.jsxs("span",{children:["",n.toFixed(2)]})]})]}),x.jsxs(Nt,{size:"lg",className:"w-full mt-6",onClick:f,disabled:e.length===0,"aria-disabled":e.length===0,children:["Proceed to Payment ",x.jsx(BT,{className:"ml-2 h-5 w-5"})]}),x.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[x.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Price Insights"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-100/50 dark:bg-green-900/20 rounded-lg",children:[x.jsx(N8,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-1 flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:"Potential Savings!"}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"We found one of your items for a lower price elsewhere."}),x.jsx(Nt,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>t({title:"Feature Not Implemented"}),children:"View Offer"})]})]}),x.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-100/50 dark:bg-blue-900/20 rounded-lg",children:[x.jsx(E0,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:"Coupon Available"}),x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Use code ",x.jsx("span",{className:"font-mono bg-gray-200 dark:bg-gray-700 px-1 rounded",children:"SAVE10"})," on Flipkart for 10% off."]}),x.jsx(Nt,{variant:"link",size:"sm",className:"p-0 h-auto mt-1",onClick:()=>t({title:"Feature Not Implemented"}),children:"Apply Coupon"})]})]})]})]})]})})]})]})]})}function Q3(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ez}=Object.prototype,{getPrototypeOf:yw}=Object,{iterator:iy,toStringTag:X3}=Symbol,sy=(t=>e=>{const n=Ez.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wa=t=>(t=t.toLowerCase(),e=>sy(e)===t),oy=t=>e=>typeof e===t,{isArray:pd}=Array,kp=oy("undefined");function Jp(t){return t!==null&&!kp(t)&&t.constructor!==null&&!kp(t.constructor)&&no(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const J3=Wa("ArrayBuffer");function Tz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&J3(t.buffer),e}const Cz=oy("string"),no=oy("function"),Z3=oy("number"),Zp=t=>t!==null&&typeof t=="object",Pz=t=>t===!0||t===!1,vg=t=>{if(sy(t)!=="object")return!1;const e=yw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(X3 in t)&&!(iy in t)},Nz=t=>{if(!Zp(t)||Jp(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Iz=Wa("Date"),kz=Wa("File"),Rz=Wa("Blob"),Lz=Wa("FileList"),Dz=t=>Zp(t)&&no(t.pipe),Oz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||no(t.append)&&((e=sy(t))==="formdata"||e==="object"&&no(t.toString)&&t.toString()==="[object FormData]"))},jz=Wa("URLSearchParams"),[Mz,Fz,Vz,Bz]=["ReadableStream","Request","Response","Headers"].map(Wa),Uz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function em(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),pd(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Jp(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function eP(t,e){if(Jp(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ph=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tP=t=>!kp(t)&&t!==Ph;function a2(){const{caseless:t}=tP(this)&&this||{},e={},n=(r,i)=>{const s=t&&eP(e,i)||i;vg(e[s])&&vg(r)?e[s]=a2(e[s],r):vg(r)?e[s]=a2({},r):pd(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&em(arguments[r],n);return e}const zz=(t,e,n,{allOwnKeys:r}={})=>(em(e,(i,s)=>{n&&no(i)?t[s]=Q3(i,n):t[s]=i},{allOwnKeys:r}),t),qz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Hz=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Wz=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&yw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$z=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Gz=t=>{if(!t)return null;if(pd(t))return t;let e=t.length;if(!Z3(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Kz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yw(Uint8Array)),Yz=(t,e)=>{const r=(t&&t[iy]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Qz=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Xz=Wa("HTMLFormElement"),Jz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),YS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Zz=Wa("RegExp"),nP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};em(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},eq=t=>{nP(t,(e,n)=>{if(no(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(no(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tq=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return pd(t)?r(t):r(String(t).split(e)),n},nq=()=>{},rq=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function iq(t){return!!(t&&no(t.append)&&t[X3]==="FormData"&&t[iy])}const sq=t=>{const e=new Array(10),n=(r,i)=>{if(Zp(r)){if(e.indexOf(r)>=0)return;if(Jp(r))return r;if(!("toJSON"in r)){e[i]=r;const s=pd(r)?[]:{};return em(r,(o,l)=>{const c=n(o,i+1);!kp(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},oq=Wa("AsyncFunction"),aq=t=>t&&(Zp(t)||no(t))&&no(t.then)&&no(t.catch),rP=((t,e)=>t?setImmediate:e?((n,r)=>(Ph.addEventListener("message",({source:i,data:s})=>{i===Ph&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ph.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",no(Ph.postMessage)),lq=typeof queueMicrotask<"u"?queueMicrotask.bind(Ph):typeof process<"u"&&process.nextTick||rP,uq=t=>t!=null&&no(t[iy]),je={isArray:pd,isArrayBuffer:J3,isBuffer:Jp,isFormData:Oz,isArrayBufferView:Tz,isString:Cz,isNumber:Z3,isBoolean:Pz,isObject:Zp,isPlainObject:vg,isEmptyObject:Nz,isReadableStream:Mz,isRequest:Fz,isResponse:Vz,isHeaders:Bz,isUndefined:kp,isDate:Iz,isFile:kz,isBlob:Rz,isRegExp:Zz,isFunction:no,isStream:Dz,isURLSearchParams:jz,isTypedArray:Kz,isFileList:Lz,forEach:em,merge:a2,extend:zz,trim:Uz,stripBOM:qz,inherits:Hz,toFlatObject:Wz,kindOf:sy,kindOfTest:Wa,endsWith:$z,toArray:Gz,forEachEntry:Yz,matchAll:Qz,isHTMLForm:Xz,hasOwnProperty:YS,hasOwnProp:YS,reduceDescriptors:nP,freezeMethods:eq,toObjectSet:tq,toCamelCase:Jz,noop:nq,toFiniteNumber:rq,findKey:eP,global:Ph,isContextDefined:tP,isSpecCompliantForm:iq,toJSONObject:sq,isAsyncFn:oq,isThenable:aq,setImmediate:rP,asap:lq,isIterable:uq};function Xt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}je.inherits(Xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const iP=Xt.prototype,sP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sP[t]={value:t}});Object.defineProperties(Xt,sP);Object.defineProperty(iP,"isAxiosError",{value:!0});Xt.from=(t,e,n,r,i,s)=>{const o=Object.create(iP);return je.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Xt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const cq=null;function l2(t){return je.isPlainObject(t)||je.isArray(t)}function oP(t){return je.endsWith(t,"[]")?t.slice(0,-2):t}function QS(t,e,n){return t?t.concat(e).map(function(i,s){return i=oP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function hq(t){return je.isArray(t)&&!t.some(l2)}const fq=je.toFlatObject(je,{},null,function(e){return/^is[A-Z]/.test(e)});function ay(t,e,n){if(!je.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=je.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!je.isUndefined(C[S])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(e);if(!je.isFunction(i))throw new TypeError("visitor must be a function");function h(E){if(E===null)return"";if(je.isDate(E))return E.toISOString();if(je.isBoolean(E))return E.toString();if(!c&&je.isBlob(E))throw new Xt("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(E)||je.isTypedArray(E)?c&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function f(E,S,C){let R=E;if(E&&!C&&typeof E=="object"){if(je.endsWith(S,"{}"))S=r?S:S.slice(0,-2),E=JSON.stringify(E);else if(je.isArray(E)&&hq(E)||(je.isFileList(E)||je.endsWith(S,"[]"))&&(R=je.toArray(E)))return S=oP(S),R.forEach(function(V,H){!(je.isUndefined(V)||V===null)&&e.append(o===!0?QS([S],H,s):o===null?S:S+"[]",h(V))}),!1}return l2(E)?!0:(e.append(QS(C,S,s),h(E)),!1)}const p=[],y=Object.assign(fq,{defaultVisitor:f,convertValue:h,isVisitable:l2});function v(E,S){if(!je.isUndefined(E)){if(p.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(E),je.forEach(E,function(R,N){(!(je.isUndefined(R)||R===null)&&i.call(e,R,je.isString(N)?N.trim():N,S,y))===!0&&v(R,S?S.concat(N):[N])}),p.pop()}}if(!je.isObject(t))throw new TypeError("data must be an object");return v(t),e}function XS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function vw(t,e){this._pairs=[],t&&ay(t,this,e)}const aP=vw.prototype;aP.append=function(e,n){this._pairs.push([e,n])};aP.toString=function(e){const n=e?function(r){return e.call(this,r,XS)}:XS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function dq(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lP(t,e,n){if(!e)return t;const r=n&&n.encode||dq;je.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=je.isURLSearchParams(e)?e.toString():new vw(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class JS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){je.forEach(this.handlers,function(r){r!==null&&e(r)})}}const uP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pq=typeof URLSearchParams<"u"?URLSearchParams:vw,mq=typeof FormData<"u"?FormData:null,gq=typeof Blob<"u"?Blob:null,yq={isBrowser:!0,classes:{URLSearchParams:pq,FormData:mq,Blob:gq},protocols:["http","https","file","blob","url","data"]},ww=typeof window<"u"&&typeof document<"u",u2=typeof navigator=="object"&&navigator||void 0,vq=ww&&(!u2||["ReactNative","NativeScript","NS"].indexOf(u2.product)<0),wq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_q=ww&&window.location.href||"http://localhost",bq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ww,hasStandardBrowserEnv:vq,hasStandardBrowserWebWorkerEnv:wq,navigator:u2,origin:_q},Symbol.toStringTag,{value:"Module"})),ls={...bq,...yq};function xq(t,e){return ay(t,new ls.classes.URLSearchParams,{visitor:function(n,r,i,s){return ls.isNode&&je.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Sq(t){return je.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Aq(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function cP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&je.isArray(i)?i.length:o,c?(je.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!je.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&je.isArray(i[o])&&(i[o]=Aq(i[o])),!l)}if(je.isFormData(t)&&je.isFunction(t.entries)){const n={};return je.forEachEntry(t,(r,i)=>{e(Sq(r),i,n,0)}),n}return null}function Eq(t,e,n){if(je.isString(t))try{return(e||JSON.parse)(t),je.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const tm={transitional:uP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=je.isObject(e);if(s&&je.isHTMLForm(e)&&(e=new FormData(e)),je.isFormData(e))return i?JSON.stringify(cP(e)):e;if(je.isArrayBuffer(e)||je.isBuffer(e)||je.isStream(e)||je.isFile(e)||je.isBlob(e)||je.isReadableStream(e))return e;if(je.isArrayBufferView(e))return e.buffer;if(je.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xq(e,this.formSerializer).toString();if((l=je.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ay(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Eq(e)):e}],transformResponse:[function(e){const n=this.transitional||tm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(je.isResponse(e)||je.isReadableStream(e))return e;if(e&&je.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Xt.from(l,Xt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ls.classes.FormData,Blob:ls.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],t=>{tm.headers[t]={}});const Tq=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cq=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Tq[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ZS=Symbol("internals");function Ud(t){return t&&String(t).trim().toLowerCase()}function wg(t){return t===!1||t==null?t:je.isArray(t)?t.map(wg):String(t)}function Pq(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Nq=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function W1(t,e,n,r,i){if(je.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!je.isString(e)){if(je.isString(r))return e.indexOf(r)!==-1;if(je.isRegExp(r))return r.test(e)}}function Iq(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function kq(t,e){const n=je.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let ro=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,h){const f=Ud(c);if(!f)throw new Error("header name must be a non-empty string");const p=je.findKey(i,f);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||c]=wg(l))}const o=(l,c)=>je.forEach(l,(h,f)=>s(h,f,c));if(je.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(je.isString(e)&&(e=e.trim())&&!Nq(e))o(Cq(e),n);else if(je.isObject(e)&&je.isIterable(e)){let l={},c,h;for(const f of e){if(!je.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[h=f[0]]=(c=l[h])?je.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Ud(e),e){const r=je.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Pq(i);if(je.isFunction(n))return n.call(this,i,r);if(je.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ud(e),e){const r=je.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||W1(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ud(o),o){const l=je.findKey(r,o);l&&(!n||W1(r,r[l],l,n))&&(delete r[l],i=!0)}}return je.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||W1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return je.forEach(this,(i,s)=>{const o=je.findKey(r,s);if(o){n[o]=wg(i),delete n[s];return}const l=e?Iq(s):String(s).trim();l!==s&&delete n[s],n[l]=wg(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return je.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&je.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ZS]=this[ZS]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Ud(o);r[l]||(kq(i,o),r[l]=!0)}return je.isArray(e)?e.forEach(s):s(e),this}};ro.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(ro.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});je.freezeMethods(ro);function $1(t,e){const n=this||tm,r=e||n,i=ro.from(r.headers);let s=r.data;return je.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function hP(t){return!!(t&&t.__CANCEL__)}function md(t,e,n){Xt.call(this,t??"canceled",Xt.ERR_CANCELED,e,n),this.name="CanceledError"}je.inherits(md,Xt,{__CANCEL__:!0});function fP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Xt("Request failed with status code "+n.status,[Xt.ERR_BAD_REQUEST,Xt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Rq(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Lq(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=r[s];o||(o=h),n[i]=c,r[i]=h;let p=s,y=0;for(;p!==i;)y+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),h-o<e)return;const v=f&&h-f;return v?Math.round(y*1e3/v):void 0}}function Dq(t,e){let n=0,r=1e3/e,i,s;const o=(h,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t(...h)};return[(...h)=>{const f=Date.now(),p=f-n;p>=r?o(h,f):(i=h,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const s0=(t,e,n=3)=>{let r=0;const i=Lq(50,250);return Dq(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,h=i(c),f=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&f?(l-o)/h:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(p)},n)},eA=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},tA=t=>(...e)=>je.asap(()=>t(...e)),Oq=ls.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ls.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ls.origin),ls.navigator&&/(msie|trident)/i.test(ls.navigator.userAgent)):()=>!0,jq=ls.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];je.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),je.isString(r)&&o.push("path="+r),je.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mq(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fq(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function dP(t,e,n){let r=!Mq(e);return t&&(r||n==!1)?Fq(t,e):e}const nA=t=>t instanceof ro?{...t}:t;function Hh(t,e){e=e||{};const n={};function r(h,f,p,y){return je.isPlainObject(h)&&je.isPlainObject(f)?je.merge.call({caseless:y},h,f):je.isPlainObject(f)?je.merge({},f):je.isArray(f)?f.slice():f}function i(h,f,p,y){if(je.isUndefined(f)){if(!je.isUndefined(h))return r(void 0,h,p,y)}else return r(h,f,p,y)}function s(h,f){if(!je.isUndefined(f))return r(void 0,f)}function o(h,f){if(je.isUndefined(f)){if(!je.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function l(h,f,p){if(p in e)return r(h,f);if(p in t)return r(void 0,h)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,f,p)=>i(nA(h),nA(f),p,!0)};return je.forEach(Object.keys({...t,...e}),function(f){const p=c[f]||i,y=p(t[f],e[f],f);je.isUndefined(y)&&p!==l||(n[f]=y)}),n}const pP=t=>{const e=Hh({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=ro.from(o),e.url=lP(dP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(je.isFormData(n)){if(ls.hasStandardBrowserEnv||ls.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[h,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...f].join("; "))}}if(ls.hasStandardBrowserEnv&&(r&&je.isFunction(r)&&(r=r(e)),r||r!==!1&&Oq(e.url))){const h=i&&s&&jq.read(s);h&&o.set(i,h)}return e},Vq=typeof XMLHttpRequest<"u",Bq=Vq&&function(t){return new Promise(function(n,r){const i=pP(t);let s=i.data;const o=ro.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=i,f,p,y,v,E;function S(){v&&v(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function R(){if(!C)return;const V=ro.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),ie={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:V,config:t,request:C};fP(function(B){n(B),S()},function(B){r(B),S()},ie),C=null}"onloadend"in C?C.onloadend=R:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(R)},C.onabort=function(){C&&(r(new Xt("Request aborted",Xt.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new Xt("Network Error",Xt.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ie=i.transitional||uP;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Xt(H,ie.clarifyTimeoutError?Xt.ETIMEDOUT:Xt.ECONNABORTED,t,C)),C=null},s===void 0&&o.setContentType(null),"setRequestHeader"in C&&je.forEach(o.toJSON(),function(H,ie){C.setRequestHeader(ie,H)}),je.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),l&&l!=="json"&&(C.responseType=i.responseType),h&&([y,E]=s0(h,!0),C.addEventListener("progress",y)),c&&C.upload&&([p,v]=s0(c),C.upload.addEventListener("progress",p),C.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(f=V=>{C&&(r(!V||V.type?new md(null,t,C):V),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const N=Rq(i.url);if(N&&ls.protocols.indexOf(N)===-1){r(new Xt("Unsupported protocol "+N+":",Xt.ERR_BAD_REQUEST,t));return}C.send(s||null)})},Uq=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(h){if(!i){i=!0,l();const f=h instanceof Error?h:this.reason;r.abort(f instanceof Xt?f:new md(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new Xt(`timeout ${e} of ms exceeded`,Xt.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),t=null)};t.forEach(h=>h.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>je.asap(l),c}},zq=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},qq=async function*(t,e){for await(const n of Hq(t))yield*zq(n,e)},Hq=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},rA=(t,e,n,r)=>{const i=qq(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:f}=await i.next();if(h){l(),c.close();return}let p=f.byteLength;if(n){let y=s+=p;n(y)}c.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},ly=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mP=ly&&typeof ReadableStream=="function",Wq=ly&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),gP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$q=mP&&gP(()=>{let t=!1;const e=new Request(ls.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),iA=64*1024,c2=mP&&gP(()=>je.isReadableStream(new Response("").body)),o0={stream:c2&&(t=>t.body)};ly&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!o0[e]&&(o0[e]=je.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Xt(`Response type '${e}' is not supported`,Xt.ERR_NOT_SUPPORT,r)})})})(new Response);const Gq=async t=>{if(t==null)return 0;if(je.isBlob(t))return t.size;if(je.isSpecCompliantForm(t))return(await new Request(ls.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(je.isArrayBufferView(t)||je.isArrayBuffer(t))return t.byteLength;if(je.isURLSearchParams(t)&&(t=t+""),je.isString(t))return(await Wq(t)).byteLength},Kq=async(t,e)=>{const n=je.toFiniteNumber(t.getContentLength());return n??Gq(e)},Yq=ly&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:h,headers:f,withCredentials:p="same-origin",fetchOptions:y}=pP(t);h=h?(h+"").toLowerCase():"text";let v=Uq([i,s&&s.toAbortSignal()],o),E;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let C;try{if(c&&$q&&n!=="get"&&n!=="head"&&(C=await Kq(f,r))!==0){let ie=new Request(e,{method:"POST",body:r,duplex:"half"}),ce;if(je.isFormData(r)&&(ce=ie.headers.get("content-type"))&&f.setContentType(ce),ie.body){const[B,O]=eA(C,s0(tA(c)));r=rA(ie.body,iA,B,O)}}je.isString(p)||(p=p?"include":"omit");const R="credentials"in Request.prototype;E=new Request(e,{...y,signal:v,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:R?p:void 0});let N=await fetch(E,y);const V=c2&&(h==="stream"||h==="response");if(c2&&(l||V&&S)){const ie={};["status","statusText","headers"].forEach(U=>{ie[U]=N[U]});const ce=je.toFiniteNumber(N.headers.get("content-length")),[B,O]=l&&eA(ce,s0(tA(l),!0))||[];N=new Response(rA(N.body,iA,B,()=>{O&&O(),S&&S()}),ie)}h=h||"text";let H=await o0[je.findKey(o0,h)||"text"](N,t);return!V&&S&&S(),await new Promise((ie,ce)=>{fP(ie,ce,{data:H,headers:ro.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:E})})}catch(R){throw S&&S(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Xt("Network Error",Xt.ERR_NETWORK,t,E),{cause:R.cause||R}):Xt.from(R,R&&R.code,t,E)}}),h2={http:cq,xhr:Bq,fetch:Yq};je.forEach(h2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sA=t=>`- ${t}`,Qq=t=>je.isFunction(t)||t===null||t===!1,yP={getAdapter:t=>{t=je.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!Qq(n)&&(r=h2[(o=String(n)).toLowerCase()],r===void 0))throw new Xt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(sA).join(`
`):" "+sA(s[0]):"as no adapter specified";throw new Xt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:h2};function G1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new md(null,t)}function oA(t){return G1(t),t.headers=ro.from(t.headers),t.data=$1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yP.getAdapter(t.adapter||tm.adapter)(t).then(function(r){return G1(t),r.data=$1.call(t,t.transformResponse,r),r.headers=ro.from(r.headers),r},function(r){return hP(r)||(G1(t),r&&r.response&&(r.response.data=$1.call(t,t.transformResponse,r.response),r.response.headers=ro.from(r.response.headers))),Promise.reject(r)})}const vP="1.11.0",uy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{uy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const aA={};uy.transitional=function(e,n,r){function i(s,o){return"[Axios v"+vP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new Xt(i(o," has been removed"+(n?" in "+n:"")),Xt.ERR_DEPRECATED);return n&&!aA[o]&&(aA[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};uy.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Xq(t,e,n){if(typeof t!="object")throw new Xt("options must be an object",Xt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new Xt("option "+s+" must be "+c,Xt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Xt("Unknown option "+s,Xt.ERR_BAD_OPTION)}}const _g={assertOptions:Xq,validators:uy},fl=_g.validators;let Dh=class{constructor(e){this.defaults=e||{},this.interceptors={request:new JS,response:new JS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Hh(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&_g.assertOptions(r,{silentJSONParsing:fl.transitional(fl.boolean),forcedJSONParsing:fl.transitional(fl.boolean),clarifyTimeoutError:fl.transitional(fl.boolean)},!1),i!=null&&(je.isFunction(i)?n.paramsSerializer={serialize:i}:_g.assertOptions(i,{encode:fl.function,serialize:fl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_g.assertOptions(n,{baseUrl:fl.spelling("baseURL"),withXsrfToken:fl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&je.merge(s.common,s[n.method]);s&&je.forEach(["delete","get","head","post","put","patch","common"],E=>{delete s[E]}),n.headers=ro.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(c=c&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let f,p=0,y;if(!c){const E=[oA.bind(this),void 0];for(E.unshift(...l),E.push(...h),y=E.length,f=Promise.resolve(n);p<y;)f=f.then(E[p++],E[p++]);return f}y=l.length;let v=n;for(p=0;p<y;){const E=l[p++],S=l[p++];try{v=E(v)}catch(C){S.call(this,C);break}}try{f=oA.call(this,v)}catch(E){return Promise.reject(E)}for(p=0,y=h.length;p<y;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=Hh(this.defaults,e);const n=dP(e.baseURL,e.url,e.allowAbsoluteUrls);return lP(n,e.params,e.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(e){Dh.prototype[e]=function(n,r){return this.request(Hh(r||{},{method:e,url:n,data:(r||{}).data}))}});je.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Hh(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Dh.prototype[e]=n(),Dh.prototype[e+"Form"]=n(!0)});let Jq=class wP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new md(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new wP(function(i){e=i}),cancel:e}}};function Zq(t){return function(n){return t.apply(null,n)}}function eH(t){return je.isObject(t)&&t.isAxiosError===!0}const f2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(f2).forEach(([t,e])=>{f2[e]=t});function _P(t){const e=new Dh(t),n=Q3(Dh.prototype.request,e);return je.extend(n,Dh.prototype,e,{allOwnKeys:!0}),je.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return _P(Hh(t,i))},n}const zr=_P(tm);zr.Axios=Dh;zr.CanceledError=md;zr.CancelToken=Jq;zr.isCancel=hP;zr.VERSION=vP;zr.toFormData=ay;zr.AxiosError=Xt;zr.Cancel=zr.CanceledError;zr.all=function(e){return Promise.all(e)};zr.spread=Zq;zr.isAxiosError=eH;zr.mergeConfig=Hh;zr.AxiosHeaders=ro;zr.formToJSON=t=>cP(je.isHTMLForm(t)?new FormData(t):t);zr.getAdapter=yP.getAdapter;zr.HttpStatusCode=f2;zr.default=zr;const{Axios:jG,AxiosError:MG,CanceledError:FG,isCancel:VG,CancelToken:BG,VERSION:UG,all:zG,Cancel:qG,isAxiosError:HG,spread:WG,toFormData:$G,AxiosHeaders:GG,HttpStatusCode:KG,formToJSON:YG,getAdapter:QG,mergeConfig:XG}=zr,lA={id:null,fullName:"",streetAddress:"",city:"",postalCode:"",country:"",phone:"",isDefault:!1};function tH(){const{cartItems:t,clearCart:e,getTotalValue:n}=ry(),{user:r}=Rl(),{toast:i}=aa(),s=Eu(),[o,l]=Z.useState([]),[c,h]=Z.useState(null),[f,p]=Z.useState(!1),[y,v]=Z.useState({...lA}),[E,S]=Z.useState(!1),[C,R]=Z.useState({}),[N,V]=Z.useState("razorpay");Z.useEffect(()=>{if(!r)return;async function L(){try{const I=await Ip(Is(xi,"users",r.uid));if(I.exists()){const M=I.data();l(M.addresses||[]);const ee=(M.addresses||[]).find(Se=>Se.isDefault);h(ee?ee.id:null)}}catch(I){i({title:"Failed to load addresses",description:I.message,variant:"destructive"})}}L()},[r,i]);const H=(L,I)=>{v(M=>({...M,[L]:I}))},ie=()=>{const L={};return y.fullName?.trim()||(L.fullName="Full Name is required"),y.streetAddress?.trim()||(L.streetAddress="Street Address is required"),y.city?.trim()||(L.city="City is required"),y.postalCode?.trim()||(L.postalCode="Postal Code is required"),y.country?.trim()||(L.country="Country is required"),R(L),Object.keys(L).length===0},ce=async()=>{if(!ie())return i({title:"Please fill all required fields",variant:"destructive"}),null;S(!0);try{const L=Date.now().toString(),I={...y,id:L,isDefault:o.length===0};return await Hf(Is(xi,"users",r.uid),{addresses:[...o,I]}),l(M=>[...M,I]),h(L),v(lA),p(!1),R({}),i({title:"Address added successfully!"}),I}catch(L){return i({title:"Failed to add address",description:L.message,variant:"destructive"}),null}finally{S(!1)}},B=()=>new Promise((L,I)=>{if(window.Razorpay)return L(!0);const M=document.createElement("script");M.src="https://checkout.razorpay.com/v1/checkout.js",M.onload=()=>L(!0),M.onerror=()=>I(new Error("Razorpay SDK failed to load.")),document.body.appendChild(M)}),O=async L=>(await B(),new Promise((I,M)=>{const ee={key:"rzp_test_cJphd4cqU1ois3",amount:L*100,currency:"INR",name:"Wishlist2Cart",description:"Order Payment",handler:ve=>I(ve.razorpay_payment_id),prefill:{name:r.displayName||"",email:r.email},theme:{color:"#7c3aed"}},Se=new window.Razorpay(ee);Se.open(),Se.on("payment.failed",ve=>{i({title:"Payment Failed",description:ve.error?.description,variant:"destructive"}),M(ve)})})),U=async(L,I)=>{try{await zr.post("http://localhost:3001/send-invoice",{order:L,email:I}),console.log(" Invoice sent to:",I)}catch(M){console.error(" Error sending invoice:",M)}},Q=async()=>{if(!r){i({title:"Not logged in",description:"Sign in to proceed.",variant:"destructive"});return}if(t.length===0){i({title:"Cart is empty",variant:"destructive"});return}let L=null;if(f){const I=await ce();if(!I)return;L=I}else L=o.find(I=>I.id===c);if(!L){i({title:"Invalid address selected",variant:"destructive"});return}S(!0);try{const I=n;let M="COD";N==="razorpay"&&(M=await O(I));const ee={userId:r.uid,userName:r.displayName||r.email||"Customer",items:t,address:L,total:I,paymentId:M,paymentMethod:N,estimatedDelivery:new Date(Date.now()+5*864e5),status:"Processing",createdAt:s2()},Se=await _3(G0(xi,"orders"),ee),ve={...ee,id:Se.id};await U(ve,r.email),e(),i({title:"Order placed successfully"}),s("/order-success")}catch(I){i({title:"Order failed",description:I.message,variant:"destructive"})}finally{S(!1)}};return r?t.length===0?x.jsx("div",{className:"container mx-auto py-20 text-center",children:"Your cart is empty."}):x.jsxs("div",{className:"container mx-auto max-w-xl p-6 bg-white rounded-lg shadow-md space-y-6",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Checkout"}),x.jsxs("section",{children:[x.jsx("h2",{className:"font-semibold mb-3",children:"Shipping Address"}),!f&&o.length>0?x.jsxs("div",{className:"space-y-4",children:[o.map(L=>x.jsxs("div",{onClick:()=>h(L.id),className:`p-4 border-2 rounded cursor-pointer transition ${c===L.id?"border-violet-600 bg-violet-50":"border-gray-200 hover:border-violet-300"}`,children:[x.jsx("p",{className:"font-medium text-lg",children:L.fullName}),x.jsxs("p",{children:[L.streetAddress,", ",L.city,", ",L.postalCode,", ",L.country]}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Phone: ",L.phone||"N/A"]}),L.isDefault&&x.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs bg-violet-600 text-white rounded-full",children:"Default Address"})]},L.id)),x.jsx(Nt,{onClick:()=>p(!0),disabled:E,children:"+ Add New Address"})]}):x.jsxs("div",{className:"space-y-3 mt-4",children:[["fullName","streetAddress","city","postalCode","country"].map(L=>x.jsx(er,{placeholder:L.replace(/([A-Z])/g," $1"),value:y[L],onChange:I=>H(L,I.target.value),disabled:E},L)),x.jsx(er,{placeholder:"Phone (optional)",value:y.phone,onChange:L=>H("phone",L.target.value),disabled:E}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx(Nt,{variant:"secondary",onClick:()=>p(!1),disabled:E,children:"Cancel"}),x.jsx(Nt,{onClick:ce,disabled:E,children:"Save Address"})]})]})]}),x.jsxs("section",{className:"space-y-4",children:[x.jsx("h2",{className:"font-semibold",children:"Payment Method"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"radio",value:"razorpay",checked:N==="razorpay",onChange:()=>V("razorpay")}),"Pay Online (UPI / Card / Netbanking)"]}),x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"radio",value:"cod",checked:N==="cod",onChange:()=>V("cod")}),"Cash on Delivery (COD)"]})]})]}),x.jsxs("div",{className:"text-sm text-gray-500",children:[x.jsx("strong",{children:"Estimated Delivery:"})," ",new Date(Date.now()+5*864e5).toDateString()]}),x.jsx(Nt,{size:"lg",onClick:Q,disabled:E,className:"w-full",children:E?"Placing Order...":`Pay ${n.toFixed(2)}`})]}):x.jsx("div",{className:"container mx-auto py-20 text-center",children:"Please log in to checkout."})}const nH="modulepreload",rH=function(t){return"/"+t},uA={},d2=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=c(n.map(h=>{if(h=rH(h),h in uA)return;uA[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":nH,f||(y.as="script"),y.crossOrigin="",y.href=h,l&&y.setAttribute("nonce",l),document.head.appendChild(y),f)return new Promise((v,E)=>{y.addEventListener("load",v),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function Fn(t){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(t)}var us=Uint8Array,Io=Uint16Array,_w=Int32Array,cy=new us([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hy=new us([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),p2=new us([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bP=function(t,e){for(var n=new Io(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new _w(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},xP=bP(cy,2),SP=xP.b,m2=xP.r;SP[28]=258,m2[258]=28;var AP=bP(hy,0),iH=AP.b,cA=AP.r,g2=new Io(32768);for(var nr=0;nr<32768;++nr){var dc=(nr&43690)>>1|(nr&21845)<<1;dc=(dc&52428)>>2|(dc&13107)<<2,dc=(dc&61680)>>4|(dc&3855)<<4,g2[nr]=((dc&65280)>>8|(dc&255)<<8)>>1}var Cl=function(t,e,n){for(var r=t.length,i=0,s=new Io(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Io(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(n){l=new Io(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],f=e-t[i],p=o[t[i]-1]++<<f,y=p|(1<<f)-1;p<=y;++p)l[g2[p]>>c]=h}else for(l=new Io(r),i=0;i<r;++i)t[i]&&(l[i]=g2[o[t[i]-1]++]>>15-t[i]);return l},Vc=new us(288);for(var nr=0;nr<144;++nr)Vc[nr]=8;for(var nr=144;nr<256;++nr)Vc[nr]=9;for(var nr=256;nr<280;++nr)Vc[nr]=7;for(var nr=280;nr<288;++nr)Vc[nr]=8;var Rp=new us(32);for(var nr=0;nr<32;++nr)Rp[nr]=5;var sH=Cl(Vc,9,0),oH=Cl(Vc,9,1),aH=Cl(Rp,5,0),lH=Cl(Rp,5,1),K1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ja=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Y1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},bw=function(t){return(t+7)/8|0},EP=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new us(t.subarray(e,n))},uH=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Va=function(t,e,n){var r=new Error(e||uH[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Va),!n)throw r;return r},cH=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new us(0);var o=!n,l=o||e.i!=2,c=e.i;o&&(n=new us(i*3));var h=function($e){var nt=n.length;if($e>nt){var tt=new us(Math.max(nt*2,$e));tt.set(n),n=tt}},f=e.f||0,p=e.p||0,y=e.b||0,v=e.l,E=e.d,S=e.m,C=e.n,R=i*8;do{if(!v){f=ja(t,p,1);var N=ja(t,p+1,3);if(p+=3,N)if(N==1)v=oH,E=lH,S=9,C=5;else if(N==2){var ce=ja(t,p,31)+257,B=ja(t,p+10,15)+4,O=ce+ja(t,p+5,31)+1;p+=14;for(var U=new us(O),Q=new us(19),L=0;L<B;++L)Q[p2[L]]=ja(t,p+L*3,7);p+=B*3;for(var I=K1(Q),M=(1<<I)-1,ee=Cl(Q,I,1),L=0;L<O;){var Se=ee[ja(t,p,M)];p+=Se&15;var V=Se>>4;if(V<16)U[L++]=V;else{var ve=0,Pe=0;for(V==16?(Pe=3+ja(t,p,3),p+=2,ve=U[L-1]):V==17?(Pe=3+ja(t,p,7),p+=3):V==18&&(Pe=11+ja(t,p,127),p+=7);Pe--;)U[L++]=ve}}var oe=U.subarray(0,ce),we=U.subarray(ce);S=K1(oe),C=K1(we),v=Cl(oe,S,1),E=Cl(we,C,1)}else Va(1);else{var V=bw(p)+4,H=t[V-4]|t[V-3]<<8,ie=V+H;if(ie>i){c&&Va(0);break}l&&h(y+H),n.set(t.subarray(V,ie),y),e.b=y+=H,e.p=p=ie*8,e.f=f;continue}if(p>R){c&&Va(0);break}}l&&h(y+131072);for(var ye=(1<<S)-1,re=(1<<C)-1,F=p;;F=p){var ve=v[Y1(t,p)&ye],X=ve>>4;if(p+=ve&15,p>R){c&&Va(0);break}if(ve||Va(2),X<256)n[y++]=X;else if(X==256){F=p,v=null;break}else{var ne=X-254;if(X>264){var L=X-257,le=cy[L];ne=ja(t,p,(1<<le)-1)+SP[L],p+=le}var he=E[Y1(t,p)&re],Ae=he>>4;he||Va(3),p+=he&15;var we=iH[Ae];if(Ae>3){var le=hy[Ae];we+=Y1(t,p)&(1<<le)-1,p+=le}if(p>R){c&&Va(0);break}l&&h(y+131072);var Te=y+ne;if(y<we){var Ce=s-we,He=Math.min(we,Te);for(Ce+y<0&&Va(3);y<He;++y)n[y]=r[Ce+y]}for(;y<Te;++y)n[y]=n[y-we]}}e.l=v,e.p=F,e.b=y,e.f=f,v&&(f=1,e.m=S,e.d=E,e.n=C)}while(!f);return y!=n.length&&o?EP(n,0,y):n.subarray(0,y)},su=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},zd=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Q1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:CP,l:0};if(i==1){var o=new us(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(ie,ce){return ie.f-ce.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],h=0,f=1,p=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};f!=i-1;)l=n[n[h].f<n[p].f?h++:p++],c=n[h!=f&&n[h].f<n[p].f?h++:p++],n[f++]={s:-1,f:l.f+c.f,l,r:c};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var v=new Io(y+1),E=y2(n[f-1],v,0);if(E>e){var r=0,S=0,C=E-e,R=1<<C;for(s.sort(function(ce,B){return v[B.s]-v[ce.s]||ce.f-B.f});r<i;++r){var N=s[r].s;if(v[N]>e)S+=R-(1<<E-v[N]),v[N]=e;else break}for(S>>=C;S>0;){var V=s[r].s;v[V]<e?S-=1<<e-v[V]++-1:++r}for(;r>=0&&S;--r){var H=s[r].s;v[H]==e&&(--v[H],++S)}E=e}return{t:new us(v),l:E}},y2=function(t,e,n){return t.s==-1?Math.max(y2(t.l,e,n+1),y2(t.r,e,n+1)):e[t.s]=n},hA=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Io(++e),r=0,i=t[0],s=1,o=function(c){n[r++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[l]}return{c:n.subarray(0,r),n:e}},qd=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},TP=function(t,e,n){var r=n.length,i=bw(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},fA=function(t,e,n,r,i,s,o,l,c,h,f){su(e,f++,n),++i[256];for(var p=Q1(i,15),y=p.t,v=p.l,E=Q1(s,15),S=E.t,C=E.l,R=hA(y),N=R.c,V=R.n,H=hA(S),ie=H.c,ce=H.n,B=new Io(19),O=0;O<N.length;++O)++B[N[O]&31];for(var O=0;O<ie.length;++O)++B[ie[O]&31];for(var U=Q1(B,7),Q=U.t,L=U.l,I=19;I>4&&!Q[p2[I-1]];--I);var M=h+5<<3,ee=qd(i,Vc)+qd(s,Rp)+o,Se=qd(i,y)+qd(s,S)+o+14+3*I+qd(B,Q)+2*B[16]+3*B[17]+7*B[18];if(c>=0&&M<=ee&&M<=Se)return TP(e,f,t.subarray(c,c+h));var ve,Pe,oe,we;if(su(e,f,1+(Se<ee)),f+=2,Se<ee){ve=Cl(y,v,0),Pe=y,oe=Cl(S,C,0),we=S;var ye=Cl(Q,L,0);su(e,f,V-257),su(e,f+5,ce-1),su(e,f+10,I-4),f+=14;for(var O=0;O<I;++O)su(e,f+3*O,Q[p2[O]]);f+=3*I;for(var re=[N,ie],F=0;F<2;++F)for(var X=re[F],O=0;O<X.length;++O){var ne=X[O]&31;su(e,f,ye[ne]),f+=Q[ne],ne>15&&(su(e,f,X[O]>>5&127),f+=X[O]>>12)}}else ve=sH,Pe=Vc,oe=aH,we=Rp;for(var O=0;O<l;++O){var le=r[O];if(le>255){var ne=le>>18&31;zd(e,f,ve[ne+257]),f+=Pe[ne+257],ne>7&&(su(e,f,le>>23&31),f+=cy[ne]);var he=le&31;zd(e,f,oe[he]),f+=we[he],he>3&&(zd(e,f,le>>5&8191),f+=hy[he])}else zd(e,f,ve[le]),f+=Pe[le]}return zd(e,f,ve[256]),f+Pe[256]},hH=new _w([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CP=new us(0),fH=function(t,e,n,r,i,s){var o=s.z||t.length,l=new us(r+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(r,l.length-i),h=s.l,f=(s.r||0)&7;if(e){f&&(c[0]=s.r>>3);for(var p=hH[e-1],y=p>>13,v=p&8191,E=(1<<n)-1,S=s.p||new Io(32768),C=s.h||new Io(E+1),R=Math.ceil(n/3),N=2*R,V=function(xt){return(t[xt]^t[xt+1]<<R^t[xt+2]<<N)&E},H=new _w(25e3),ie=new Io(288),ce=new Io(32),B=0,O=0,U=s.i||0,Q=0,L=s.w||0,I=0;U+2<o;++U){var M=V(U),ee=U&32767,Se=C[M];if(S[ee]=Se,C[M]=ee,L<=U){var ve=o-U;if((B>7e3||Q>24576)&&(ve>423||!h)){f=fA(t,c,0,H,ie,ce,O,Q,I,U-I,f),Q=B=O=0,I=U;for(var Pe=0;Pe<286;++Pe)ie[Pe]=0;for(var Pe=0;Pe<30;++Pe)ce[Pe]=0}var oe=2,we=0,ye=v,re=ee-Se&32767;if(ve>2&&M==V(U-re))for(var F=Math.min(y,ve)-1,X=Math.min(32767,U),ne=Math.min(258,ve);re<=X&&--ye&&ee!=Se;){if(t[U+oe]==t[U+oe-re]){for(var le=0;le<ne&&t[U+le]==t[U+le-re];++le);if(le>oe){if(oe=le,we=re,le>F)break;for(var he=Math.min(re,le-2),Ae=0,Pe=0;Pe<he;++Pe){var Te=U-re+Pe&32767,Ce=S[Te],He=Te-Ce&32767;He>Ae&&(Ae=He,Se=Te)}}}ee=Se,Se=S[ee],re+=ee-Se&32767}if(we){H[Q++]=268435456|m2[oe]<<18|cA[we];var $e=m2[oe]&31,nt=cA[we]&31;O+=cy[$e]+hy[nt],++ie[257+$e],++ce[nt],L=U+oe,++B}else H[Q++]=t[U],++ie[t[U]]}}for(U=Math.max(U,L);U<o;++U)H[Q++]=t[U],++ie[t[U]];f=fA(t,c,h,H,ie,ce,O,Q,I,U-I,f),h||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=C,s.p=S,s.i=U,s.w=L)}else{for(var U=s.w||0;U<o+h;U+=65535){var tt=U+65535;tt>=o&&(c[f/8|0]=h,tt=o),f=TP(c,f+1,t.subarray(U,tt))}s.i=o}return EP(l,0,r+bw(f)+i)},PP=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},dH=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new us(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return fH(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},NP=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},pH=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=PP();i.p(e.dictionary),NP(t,2,i.d())}},mH=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Va(6,"invalid zlib data"),(t[1]>>5&1)==1&&Va(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function v2(t,e){e||(e={});var n=PP();n.p(t);var r=dH(t,e,e.dictionary?6:2,4);return pH(r,e),NP(r,r.length-4,n.d()),r}function gH(t,e){return cH(t.subarray(mH(t),-4),{i:2},e,e)}var yH=typeof TextDecoder<"u"&&new TextDecoder,vH=0;try{yH.decode(CP,{stream:!0}),vH=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function X1(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var Hn={log:X1,warn:function(t){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):X1.call(null,arguments))},error:function(t){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):X1(t))}};function J1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){_h(r.response,e,n)},r.onerror=function(){Hn.error("could not download file")},r.send()}function dA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var hp,w2,_h=jt.saveAs||((typeof window>"u"?"undefined":Fn(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=jt.URL||jt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?dA(i.href)?J1(t,e,n):Xm(i,i.target="_blank"):Xm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(dA(t))J1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Xm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Fn(s)!=="object"&&(Hn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return J1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(jt.HTMLElement)||jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Fn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},l.readAsDataURL(t)}else{var c=jt.URL||jt.webkitURL,h=c.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function IP(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Z1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=ts(n,r,i,s,e[0],7,-680876936),s=ts(s,n,r,i,e[1],12,-389564586),i=ts(i,s,n,r,e[2],17,606105819),r=ts(r,i,s,n,e[3],22,-1044525330),n=ts(n,r,i,s,e[4],7,-176418897),s=ts(s,n,r,i,e[5],12,1200080426),i=ts(i,s,n,r,e[6],17,-1473231341),r=ts(r,i,s,n,e[7],22,-45705983),n=ts(n,r,i,s,e[8],7,1770035416),s=ts(s,n,r,i,e[9],12,-1958414417),i=ts(i,s,n,r,e[10],17,-42063),r=ts(r,i,s,n,e[11],22,-1990404162),n=ts(n,r,i,s,e[12],7,1804603682),s=ts(s,n,r,i,e[13],12,-40341101),i=ts(i,s,n,r,e[14],17,-1502002290),n=ns(n,r=ts(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ns(s,n,r,i,e[6],9,-1069501632),i=ns(i,s,n,r,e[11],14,643717713),r=ns(r,i,s,n,e[0],20,-373897302),n=ns(n,r,i,s,e[5],5,-701558691),s=ns(s,n,r,i,e[10],9,38016083),i=ns(i,s,n,r,e[15],14,-660478335),r=ns(r,i,s,n,e[4],20,-405537848),n=ns(n,r,i,s,e[9],5,568446438),s=ns(s,n,r,i,e[14],9,-1019803690),i=ns(i,s,n,r,e[3],14,-187363961),r=ns(r,i,s,n,e[8],20,1163531501),n=ns(n,r,i,s,e[13],5,-1444681467),s=ns(s,n,r,i,e[2],9,-51403784),i=ns(i,s,n,r,e[7],14,1735328473),n=rs(n,r=ns(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=rs(s,n,r,i,e[8],11,-2022574463),i=rs(i,s,n,r,e[11],16,1839030562),r=rs(r,i,s,n,e[14],23,-35309556),n=rs(n,r,i,s,e[1],4,-1530992060),s=rs(s,n,r,i,e[4],11,1272893353),i=rs(i,s,n,r,e[7],16,-155497632),r=rs(r,i,s,n,e[10],23,-1094730640),n=rs(n,r,i,s,e[13],4,681279174),s=rs(s,n,r,i,e[0],11,-358537222),i=rs(i,s,n,r,e[3],16,-722521979),r=rs(r,i,s,n,e[6],23,76029189),n=rs(n,r,i,s,e[9],4,-640364487),s=rs(s,n,r,i,e[12],11,-421815835),i=rs(i,s,n,r,e[15],16,530742520),n=is(n,r=rs(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=is(s,n,r,i,e[7],10,1126891415),i=is(i,s,n,r,e[14],15,-1416354905),r=is(r,i,s,n,e[5],21,-57434055),n=is(n,r,i,s,e[12],6,1700485571),s=is(s,n,r,i,e[3],10,-1894986606),i=is(i,s,n,r,e[10],15,-1051523),r=is(r,i,s,n,e[1],21,-2054922799),n=is(n,r,i,s,e[8],6,1873313359),s=is(s,n,r,i,e[15],10,-30611744),i=is(i,s,n,r,e[6],15,-1560198380),r=is(r,i,s,n,e[13],21,1309151649),n=is(n,r,i,s,e[4],6,-145523070),s=is(s,n,r,i,e[11],10,-1120210379),i=is(i,s,n,r,e[2],15,718787259),r=is(r,i,s,n,e[9],21,-343485551),t[0]=Sc(n,t[0]),t[1]=Sc(r,t[1]),t[2]=Sc(i,t[2]),t[3]=Sc(s,t[3])}function fy(t,e,n,r,i,s){return e=Sc(Sc(e,t),Sc(r,s)),Sc(e<<i|e>>>32-i,n)}function ts(t,e,n,r,i,s,o){return fy(e&n|~e&r,t,e,i,s,o)}function ns(t,e,n,r,i,s,o){return fy(e&r|n&~r,t,e,i,s,o)}function rs(t,e,n,r,i,s,o){return fy(e^n^r,t,e,i,s,o)}function is(t,e,n,r,i,s,o){return fy(n^(e|~r),t,e,i,s,o)}function kP(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Z1(r,wH(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Z1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Z1(r,i),r}function wH(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}hp=jt.atob.bind(jt),w2=jt.btoa.bind(jt);var pA="0123456789abcdef".split("");function _H(t){for(var e="",n=0;n<4;n++)e+=pA[t>>8*n+4&15]+pA[t>>8*n&15];return e}function bH(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _2(t){return kP(t).map(bH).join("")}var xH=function(t){for(var e=0;e<t.length;e++)t[e]=_H(t[e]);return t.join("")}(kP("hello"))!="5d41402abc4b2a76b9719d911017c592";function Sc(t,e){if(xH){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function b2(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var f=l[c];h=(h+f+o.charCodeAt(c))%256,l[c]=l[h],l[h]=f}n=t,r=l}else l=r;var p=e.length,y=0,v=0,E="";for(c=0;c<p;c++)v=(v+(f=l[y=(y+1)%256]))%256,l[y]=l[v],l[v]=f,o=l[(l[y]+l[v])%256],E+=String.fromCharCode(e.charCodeAt(c)^o);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mA={print:4,modify:8,copy:16,"annot-forms":32};function Rf(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(mA.perm!==void 0)throw new Error("Invalid permission: "+l);i+=mA[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=_2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=b2(this.encryptionKey,this.padding)}function Lf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function gA(t){if(Fn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(l){jt.console&&Hn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function a0(t){if(!(this instanceof a0))return new a0(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function RP(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function bh(t,e,n,r,i){if(!(this instanceof bh))return new bh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,RP.call(this,r,i)}function Ff(t,e,n,r,i){if(!(this instanceof Ff))return new Ff(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,RP.call(this,r,i)}function Lt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,c=16,h="S",f=null;Fn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,y={},v={internal:{},__private__:{}};v.__private__.PubSub=gA;var E="1.3",S=v.__private__.getPdfVersion=function(){return E};v.__private__.setPdfVersion=function(b){E=b};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return C};var R=v.__private__.getPageFormat=function(b){return C[b]};i=i||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},V=N.COMPAT;function H(){this.saveGraphicsState(),ue(new ht(at,0,0,-at,0,fi()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),h="n",V=N.ADVANCED}function ie(){this.restoreGraphicsState(),h="S",V=N.COMPAT}var ce=v.__private__.combineFontStyleAndFontWeight=function(b,q){if(b=="bold"&&q=="normal"||b=="bold"&&q==400||b=="normal"&&q=="italic"||b=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(b=q==400||q==="normal"?b==="italic"?"italic":"normal":q!=700&&q!=="bold"||b!=="normal"?(q==700?"bold":q)+""+b:"bold"),b};v.advancedAPI=function(b){var q=V===N.COMPAT;return q&&H.call(this),typeof b!="function"||(b(this),q&&ie.call(this)),this},v.compatAPI=function(b){var q=V===N.ADVANCED;return q&&ie.call(this),typeof b!="function"||(b(this),q&&H.call(this)),this},v.isAdvancedAPI=function(){return V===N.ADVANCED};var B,O=function(b){if(V!==N.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=v.roundToPrecision=v.__private__.roundToPrecision=function(b,q){var se=e||q;if(isNaN(b)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(se).replace(/0+$/,"")};B=v.hpf=v.__private__.hpf=typeof c=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,c)}:c==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,16)};var Q=v.f2=v.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return U(b,2)},L=v.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return U(b,3)},I=v.scale=v.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return V===N.COMPAT?b*at:V===N.ADVANCED?b:void 0},M=function(b){return V===N.COMPAT?fi()-b:V===N.ADVANCED?b:void 0},ee=function(b){return I(M(b))};v.__private__.setPrecision=v.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var Se,ve="00000000000000000000000000000000",Pe=v.__private__.getFileId=function(){return ve},oe=v.__private__.setFileId=function(b){return ve=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(hn=new Rf(f.userPermissions,f.userPassword,f.ownerPassword,ve)),ve};v.setFileId=function(b){return oe(b),this},v.getFileId=function(){return Pe()};var we=v.__private__.convertDateToPDFDate=function(b){var q=b.getTimezoneOffset(),se=q<0?"+":"-",fe=Math.floor(Math.abs(q/60)),Ee=Math.abs(q%60),Me=[se,ne(fe),"'",ne(Ee),"'"].join("");return["D:",b.getFullYear(),ne(b.getMonth()+1),ne(b.getDate()),ne(b.getHours()),ne(b.getMinutes()),ne(b.getSeconds()),Me].join("")},ye=v.__private__.convertPDFDateToDate=function(b){var q=parseInt(b.substr(2,4),10),se=parseInt(b.substr(6,2),10)-1,fe=parseInt(b.substr(8,2),10),Ee=parseInt(b.substr(10,2),10),Me=parseInt(b.substr(12,2),10),Ge=parseInt(b.substr(14,2),10);return new Date(q,se,fe,Ee,Me,Ge,0)},re=v.__private__.setCreationDate=function(b){var q;if(b===void 0&&(b=new Date),b instanceof Date)q=we(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=b}return Se=q},F=v.__private__.getCreationDate=function(b){var q=Se;return b==="jsDate"&&(q=ye(Se)),q};v.setCreationDate=function(b){return re(b),this},v.getCreationDate=function(b){return F(b)};var X,ne=v.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},le=v.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},he=0,Ae=[],Te=[],Ce=0,He=[],$e=[],nt=!1,tt=Te,xt=function(){he=0,Ce=0,Te=[],Ae=[],He=[],oo=Un(),li=Un()};v.__private__.setCustomOutputDestination=function(b){nt=!0,tt=b};var Fe=function(b){nt||(tt=b)};v.__private__.resetCustomOutputDestination=function(){nt=!1,tt=Te};var ue=v.__private__.out=function(b){return b=b.toString(),Ce+=b.length+1,tt.push(b),tt},Dt=v.__private__.write=function(b){return ue(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},mt=v.__private__.getArrayBuffer=function(b){for(var q=b.length,se=new ArrayBuffer(q),fe=new Uint8Array(se);q--;)fe[q]=b.charCodeAt(q);return se},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Xe};var Ze=t.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(b){return Ze=V===N.ADVANCED?b/at:b,this};var rt,ot=v.__private__.getFontSize=v.getFontSize=function(){return V===N.COMPAT?Ze:Ze*at},vt=t.R2L||!1;v.__private__.setR2L=v.setR2L=function(b){return vt=b,this},v.__private__.getR2L=v.getR2L=function(){return vt};var Rt,Ut=v.__private__.setZoomMode=function(b){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))rt=b;else if(isNaN(b)){if(q.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');rt=b}else rt=parseInt(b,10)};v.__private__.getZoomMode=function(){return rt};var bt,Ct=v.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');Rt=b};v.__private__.getPageMode=function(){return Rt};var Zt=v.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');bt=b};v.__private__.getLayoutMode=function(){return bt},v.__private__.setDisplayMode=v.setDisplayMode=function(b,q,se){return Ut(b),Zt(q),Ct(se),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(b){if(Object.keys(Pt).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[b]},v.__private__.getDocumentProperties=function(){return Pt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(b){for(var q in Pt)Pt.hasOwnProperty(q)&&b[q]&&(Pt[q]=b[q]);return this},v.__private__.setDocumentProperty=function(b,q){if(Object.keys(Pt).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[b]=q};var qt,at,ir,en,Si,mn={},Pn={},Bi=[],tn={},ks={},Dn={},sr={},qr=null,On=0,At=[],sn=new gA(v),hs=t.hotfixes||[],mr={},Hr={},Ui=[],ht=function b(q,se,fe,Ee,Me,Ge){if(!(this instanceof b))return new b(q,se,fe,Ee,Me,Ge);isNaN(q)&&(q=1),isNaN(se)&&(se=0),isNaN(fe)&&(fe=0),isNaN(Ee)&&(Ee=1),isNaN(Me)&&(Me=0),isNaN(Ge)&&(Ge=0),this._matrix=[q,se,fe,Ee,Me,Ge]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(b)},ht.prototype.multiply=function(b){var q=b.sx*this.sx+b.shy*this.shx,se=b.sx*this.shy+b.shy*this.sy,fe=b.shx*this.sx+b.sy*this.shx,Ee=b.shx*this.shy+b.sy*this.sy,Me=b.tx*this.sx+b.ty*this.shx+this.tx,Ge=b.tx*this.shy+b.ty*this.sy+this.ty;return new ht(q,se,fe,Ee,Me,Ge)},ht.prototype.decompose=function(){var b=this.sx,q=this.shy,se=this.shx,fe=this.sy,Ee=this.tx,Me=this.ty,Ge=Math.sqrt(b*b+q*q),it=(b/=Ge)*se+(q/=Ge)*fe;se-=b*it,fe-=q*it;var g=Math.sqrt(se*se+fe*fe);return it/=g,b*(fe/=g)<q*(se/=g)&&(b=-b,q=-q,it=-it,Ge=-Ge),{scale:new ht(Ge,0,0,g,0,0),translate:new ht(1,0,0,1,Ee,Me),rotate:new ht(b,q,-q,b,0,0),skew:new ht(1,0,it,1,0,0)}},ht.prototype.toString=function(b){return this.join(" ")},ht.prototype.inversed=function(){var b=this.sx,q=this.shy,se=this.shx,fe=this.sy,Ee=this.tx,Me=this.ty,Ge=1/(b*fe-q*se),it=fe*Ge,g=-q*Ge,P=-se*Ge,j=b*Ge;return new ht(it,g,P,j,-it*Ee-P*Me,-g*Ee-j*Me)},ht.prototype.applyToPoint=function(b){var q=b.x*this.sx+b.y*this.shx+this.tx,se=b.x*this.shy+b.y*this.sy+this.ty;return new ys(q,se)},ht.prototype.applyToRectangle=function(b){var q=this.applyToPoint(b),se=this.applyToPoint(new ys(b.x+b.w,b.y+b.h));return new go(q.x,q.y,se.x-q.x,se.y-q.y)},ht.prototype.clone=function(){var b=this.sx,q=this.shy,se=this.shx,fe=this.sy,Ee=this.tx,Me=this.ty;return new ht(b,q,se,fe,Ee,Me)},v.Matrix=ht;var ai=v.matrixMult=function(b,q){return q.multiply(b)},Ar=new ht(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Ar;var Er=function(b,q){if(!ks[b]){var se=(q instanceof bh?"Sh":"P")+(Object.keys(tn).length+1).toString(10);q.id=se,ks[b]=se,tn[se]=q,sn.publish("addPattern",q)}};v.ShadingPattern=bh,v.TilingPattern=Ff,v.addShadingPattern=function(b,q){return O("addShadingPattern()"),Er(b,q),this},v.beginTilingPattern=function(b){O("beginTilingPattern()"),Za(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},v.endTilingPattern=function(b,q){O("endTilingPattern()"),q.stream=$e[X].join(`
`),Er(b,q),sn.publish("endTilingPattern",q),Ui.pop().restore()};var Bn=v.__private__.newObject=function(){var b=Un();return Kn(b,!0),b},Un=v.__private__.newObjectDeferred=function(){return he++,Ae[he]=function(){return Ce},he},Kn=function(b,q){return q=typeof q=="boolean"&&q,Ae[b]=Ce,q&&ue(b+" 0 obj"),b},Ro=v.__private__.newAdditionalObject=function(){var b={objId:Un(),content:""};return He.push(b),b},oo=Un(),li=Un(),zi=v.__private__.decodeColorString=function(b){var q=b.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var se=parseFloat(q[0]);q=[se,se,se,"r"]}for(var fe="#",Ee=0;Ee<3;Ee++)fe+=("0"+Math.floor(255*parseFloat(q[Ee])).toString(16)).slice(-2);return fe},gr=v.__private__.encodeColorString=function(b){var q;typeof b=="string"&&(b={ch1:b});var se=b.ch1,fe=b.ch2,Ee=b.ch3,Me=b.ch4,Ge=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var it=new IP(se);if(it.ok)se=it.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var g=parseInt(se.substr(1),16);se=g>>16&255,fe=g>>8&255,Ee=255&g}if(fe===void 0||Me===void 0&&se===fe&&fe===Ee)if(typeof se=="string")q=se+" "+Ge[0];else switch(b.precision){case 2:q=Q(se/255)+" "+Ge[0];break;case 3:default:q=L(se/255)+" "+Ge[0]}else if(Me===void 0||Fn(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return q=["1.","1.","1.",Ge[1]].join(" ");if(typeof se=="string")q=[se,fe,Ee,Ge[1]].join(" ");else switch(b.precision){case 2:q=[Q(se/255),Q(fe/255),Q(Ee/255),Ge[1]].join(" ");break;default:case 3:q=[L(se/255),L(fe/255),L(Ee/255),Ge[1]].join(" ")}}else if(typeof se=="string")q=[se,fe,Ee,Me,Ge[2]].join(" ");else switch(b.precision){case 2:q=[Q(se),Q(fe),Q(Ee),Q(Me),Ge[2]].join(" ");break;case 3:default:q=[L(se),L(fe),L(Ee),L(Me),Ge[2]].join(" ")}return q},ui=v.__private__.getFilters=function(){return o},or=v.__private__.putStream=function(b){var q=(b=b||{}).data||"",se=b.filters||ui(),fe=b.alreadyAppliedFilters||[],Ee=b.addLength1||!1,Me=q.length,Ge=b.objectId,it=function(Ht){return Ht};if(f!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(it=hn.encryptor(Ge,0));var g={};se===!0&&(se=["FlateEncode"]);var P=b.additionalKeyValues||[],j=(g=Lt.API.processDataByFilters!==void 0?Lt.API.processDataByFilters(q,se):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(g.data.length!==0&&(P.push({key:"Length",value:g.data.length}),Ee===!0&&P.push({key:"Length1",value:Me})),j.length!=0)if(j.split("/").length-1==1)P.push({key:"Filter",value:j});else{P.push({key:"Filter",value:"["+j+"]"});for(var Y=0;Y<P.length;Y+=1)if(P[Y].key==="DecodeParms"){for(var be=[],Re=0;Re<g.reverseChain.split("/").length-1;Re+=1)be.push("null");be.push(P[Y].value),P[Y].value="["+be.join(" ")+"]"}}ue("<<");for(var Ke=0;Ke<P.length;Ke++)ue("/"+P[Ke].key+" "+P[Ke].value);ue(">>"),g.data.length!==0&&(ue("stream"),ue(it(g.data)),ue("endstream"))},fs=v.__private__.putPage=function(b){var q=b.number,se=b.data,fe=b.objId,Ee=b.contentsObjId;Kn(fe,!0),ue("<</Type /Page"),ue("/Parent "+b.rootDictionaryObjId+" 0 R"),ue("/Resources "+b.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(B(b.mediaBox.bottomLeftX))+" "+parseFloat(B(b.mediaBox.bottomLeftY))+" "+B(b.mediaBox.topRightX)+" "+B(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&ue("/CropBox ["+B(b.cropBox.bottomLeftX)+" "+B(b.cropBox.bottomLeftY)+" "+B(b.cropBox.topRightX)+" "+B(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&ue("/BleedBox ["+B(b.bleedBox.bottomLeftX)+" "+B(b.bleedBox.bottomLeftY)+" "+B(b.bleedBox.topRightX)+" "+B(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&ue("/TrimBox ["+B(b.trimBox.bottomLeftX)+" "+B(b.trimBox.bottomLeftY)+" "+B(b.trimBox.topRightX)+" "+B(b.trimBox.topRightY)+"]"),b.artBox!==null&&ue("/ArtBox ["+B(b.artBox.bottomLeftX)+" "+B(b.artBox.bottomLeftY)+" "+B(b.artBox.topRightX)+" "+B(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&ue("/UserUnit "+b.userUnit),sn.publish("putPage",{objId:fe,pageContext:At[q],pageNumber:q,page:se}),ue("/Contents "+Ee+" 0 R"),ue(">>"),ue("endobj");var Me=se.join(`
`);return V===N.ADVANCED&&(Me+=`
Q`),Kn(Ee,!0),or({data:Me,filters:ui(),objectId:Ee}),ue("endobj"),fe},ao=v.__private__.putPages=function(){var b,q,se=[];for(b=1;b<=On;b++)At[b].objId=Un(),At[b].contentsObjId=Un();for(b=1;b<=On;b++)se.push(fs({number:b,data:$e[b],objId:At[b].objId,contentsObjId:At[b].contentsObjId,mediaBox:At[b].mediaBox,cropBox:At[b].cropBox,bleedBox:At[b].bleedBox,trimBox:At[b].trimBox,artBox:At[b].artBox,userUnit:At[b].userUnit,rootDictionaryObjId:oo,resourceDictionaryObjId:li}));Kn(oo,!0),ue("<</Type /Pages");var fe="/Kids [";for(q=0;q<On;q++)fe+=se[q]+" 0 R ";ue(fe+"]"),ue("/Count "+On),ue(">>"),ue("endobj"),sn.publish("postPutPages")},lo=function(b){sn.publish("putFont",{font:b,out:ue,newObject:Bn,putStream:or}),b.isAlreadyPutted!==!0&&(b.objectNumber=Bn(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Lf(b.postScriptName)),ue("/Subtype /Type1"),typeof b.encoding=="string"&&ue("/Encoding /"+b.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},uo=function(){for(var b in mn)mn.hasOwnProperty(b)&&(p===!1||p===!0&&y.hasOwnProperty(b))&&lo(mn[b])},Lo=function(b){b.objectNumber=Bn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[B(b.x),B(b.y),B(b.x+b.width),B(b.y+b.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var se=b.pages[1].join(`
`);or({data:se,additionalKeyValues:q,objectId:b.objectNumber}),ue("endobj")},la=function(){for(var b in mr)mr.hasOwnProperty(b)&&Lo(mr[b])},Nu=function(b,q){var se,fe=[],Ee=1/(q-1);for(se=0;se<1;se+=Ee)fe.push(se);if(fe.push(1),b[0].offset!=0){var Me={offset:0,color:b[0].color};b.unshift(Me)}if(b[b.length-1].offset!=1){var Ge={offset:1,color:b[b.length-1].color};b.push(Ge)}for(var it="",g=0,P=0;P<fe.length;P++){for(se=fe[P];se>b[g+1].offset;)g++;var j=b[g].offset,Y=(se-j)/(b[g+1].offset-j),be=b[g].color,Re=b[g+1].color;it+=le(Math.round((1-Y)*be[0]+Y*Re[0]).toString(16))+le(Math.round((1-Y)*be[1]+Y*Re[1]).toString(16))+le(Math.round((1-Y)*be[2]+Y*Re[2]).toString(16))}return it.trim()},Nn=function(b,q){q||(q=21);var se=Bn(),fe=Nu(b.colors,q),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+q+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),or({data:fe,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),ue("endobj"),b.objectNumber=Bn(),ue("<< /ShadingType "+b.type),ue("/ColorSpace /DeviceRGB");var Me="/Coords ["+B(parseFloat(b.coords[0]))+" "+B(parseFloat(b.coords[1]))+" ";b.type===2?Me+=B(parseFloat(b.coords[2]))+" "+B(parseFloat(b.coords[3])):Me+=B(parseFloat(b.coords[2]))+" "+B(parseFloat(b.coords[3]))+" "+B(parseFloat(b.coords[4]))+" "+B(parseFloat(b.coords[5])),ue(Me+="]"),b.matrix&&ue("/Matrix ["+b.matrix.toString()+"]"),ue("/Function "+se+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Iu=function(b,q){var se=Un(),fe=Bn();q.push({resourcesOid:se,objectOid:fe}),b.objectNumber=fe;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+b.boundingBox.map(B).join(" ")+"]"}),Ee.push({key:"XStep",value:B(b.xStep)}),Ee.push({key:"YStep",value:B(b.yStep)}),Ee.push({key:"Resources",value:se+" 0 R"}),b.matrix&&Ee.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),or({data:b.stream,additionalKeyValues:Ee,objectId:b.objectNumber}),ue("endobj")},Rs=function(b){var q;for(q in tn)tn.hasOwnProperty(q)&&(tn[q]instanceof bh?Nn(tn[q]):tn[q]instanceof Ff&&Iu(tn[q],b))},co=function(b){for(var q in b.objectNumber=Bn(),ue("<<"),b)switch(q){case"opacity":ue("/ca "+Q(b[q]));break;case"stroke-opacity":ue("/CA "+Q(b[q]))}ue(">>"),ue("endobj")},qi=function(){var b;for(b in Dn)Dn.hasOwnProperty(b)&&co(Dn[b])},ua=function(){for(var b in ue("/XObject <<"),mr)mr.hasOwnProperty(b)&&mr[b].objectNumber>=0&&ue("/"+b+" "+mr[b].objectNumber+" 0 R");sn.publish("putXobjectDict"),ue(">>")},ku=function(){hn.oid=Bn(),ue("<<"),ue("/Filter /Standard"),ue("/V "+hn.v),ue("/R "+hn.r),ue("/U <"+hn.toHexString(hn.U)+">"),ue("/O <"+hn.toHexString(hn.O)+">"),ue("/P "+hn.P),ue(">>"),ue("endobj")},Do=function(){for(var b in ue("/Font <<"),mn)mn.hasOwnProperty(b)&&(p===!1||p===!0&&y.hasOwnProperty(b))&&ue("/"+b+" "+mn[b].objectNumber+" 0 R");ue(">>")},Ai=function(){if(Object.keys(tn).length>0){for(var b in ue("/Shading <<"),tn)tn.hasOwnProperty(b)&&tn[b]instanceof bh&&tn[b].objectNumber>=0&&ue("/"+b+" "+tn[b].objectNumber+" 0 R");sn.publish("putShadingPatternDict"),ue(">>")}},ca=function(b){if(Object.keys(tn).length>0){for(var q in ue("/Pattern <<"),tn)tn.hasOwnProperty(q)&&tn[q]instanceof v.TilingPattern&&tn[q].objectNumber>=0&&tn[q].objectNumber<b&&ue("/"+q+" "+tn[q].objectNumber+" 0 R");sn.publish("putTilingPatternDict"),ue(">>")}},Qr=function(){if(Object.keys(Dn).length>0){var b;for(b in ue("/ExtGState <<"),Dn)Dn.hasOwnProperty(b)&&Dn[b].objectNumber>=0&&ue("/"+b+" "+Dn[b].objectNumber+" 0 R");sn.publish("putGStateDict"),ue(">>")}},zn=function(b){Kn(b.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Do(),Ai(),ca(b.objectOid),Qr(),ua(),ue(">>"),ue("endobj")},Dl=function(){var b=[];uo(),qi(),la(),Rs(b),sn.publish("putResources"),b.forEach(zn),zn({resourcesOid:li,objectOid:Number.MAX_SAFE_INTEGER}),sn.publish("postPutResources")},Ol=function(){sn.publish("putAdditionalObjects");for(var b=0;b<He.length;b++){var q=He[b];Kn(q.objId,!0),ue(q.content),ue("endobj")}sn.publish("postPutAdditionalObjects")},ha=function(b){Pn[b.fontName]=Pn[b.fontName]||{},Pn[b.fontName][b.fontStyle]=b.id},Oo=function(b,q,se,fe,Ee){var Me={id:"F"+(Object.keys(mn).length+1).toString(10),postScriptName:b,fontName:q,fontStyle:se,encoding:fe,isStandardFont:Ee||!1,metadata:{}};return sn.publish("addFont",{font:Me,instance:this}),mn[Me.id]=Me,ha(Me),Me.id},jo=function(b){for(var q=0,se=Xe.length;q<se;q++){var fe=Oo.call(this,b[q][0],b[q][1],b[q][2],Xe[q][3],!0);p===!1&&(y[fe]=!0);var Ee=b[q][0].split("-");ha({id:fe,fontName:Ee[0],fontStyle:Ee[1]||""})}sn.publish("addFonts",{fonts:mn,dictionary:Pn})},Xr=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(fe){var q=fe.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var se="Error in function "+q.split(`
`)[0].split("<")[0]+": "+fe.message;if(!jt.console)throw new Error(se);jt.console.error(se,fe),jt.alert&&alert(se)}},b.foo.bar=b,b.foo},Ka=function(b,q){var se,fe,Ee,Me,Ge,it,g,P,j;if(Ee=(q=q||{}).sourceEncoding||"Unicode",Ge=q.outputEncoding,(q.autoencode||Ge)&&mn[qt].metadata&&mn[qt].metadata[Ee]&&mn[qt].metadata[Ee].encoding&&(Me=mn[qt].metadata[Ee].encoding,!Ge&&mn[qt].encoding&&(Ge=mn[qt].encoding),!Ge&&Me.codePages&&(Ge=Me.codePages[0]),typeof Ge=="string"&&(Ge=Me[Ge]),Ge)){for(g=!1,it=[],se=0,fe=b.length;se<fe;se++)(P=Ge[b.charCodeAt(se)])?it.push(String.fromCharCode(P)):it.push(b[se]),it[se].charCodeAt(0)>>8&&(g=!0);b=it.join("")}for(se=b.length;g===void 0&&se!==0;)b.charCodeAt(se-1)>>8&&(g=!0),se--;if(!g)return b;for(it=q.noBOM?[]:[254,255],se=0,fe=b.length;se<fe;se++){if((j=(P=b.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");it.push(j),it.push(P-(j<<8))}return String.fromCharCode.apply(void 0,it)},ar=v.__private__.pdfEscape=v.pdfEscape=function(b,q){return Ka(b,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jr=v.__private__.beginPage=function(b){$e[++On]=[],At[On]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},ho(On),Fe($e[X])},Mo=function(b,q){var se,fe,Ee;switch(n=q||n,typeof b=="string"&&(se=R(b.toLowerCase()),Array.isArray(se)&&(fe=se[0],Ee=se[1])),Array.isArray(b)&&(fe=b[0]*at,Ee=b[1]*at),isNaN(fe)&&(fe=i[0],Ee=i[1]),(fe>14400||Ee>14400)&&(Hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),Ee=Math.min(14400,Ee)),i=[fe,Ee],n.substr(0,1)){case"l":Ee>fe&&(i=[Ee,fe]);break;case"p":fe>Ee&&(i=[Ee,fe])}Jr(i),zo(Ml),ue(Tr),Vl!==0&&ue(Vl+" J"),qo!==0&&ue(qo+" j"),sn.publish("addPage",{pageNumber:On})},Fo=function(b){b>0&&b<=On&&($e.splice(b,1),At.splice(b,1),On--,X>On&&(X=On),this.setPage(X))},ho=function(b){b>0&&b<=On&&(X=b)},Sn=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return $e.length-1},fo=function(b,q,se){var fe,Ee=void 0;return se=se||{},b=b!==void 0?b:mn[qt].fontName,q=q!==void 0?q:mn[qt].fontStyle,fe=b.toLowerCase(),Pn[fe]!==void 0&&Pn[fe][q]!==void 0?Ee=Pn[fe][q]:Pn[b]!==void 0&&Pn[b][q]!==void 0?Ee=Pn[b][q]:se.disableWarning===!1&&Hn.warn("Unable to look up font label for font '"+b+"', '"+q+"'. Refer to getFontList() for available fonts."),Ee||se.noFallback||(Ee=Pn.times[q])==null&&(Ee=Pn.times.normal),Ee},Jt=v.__private__.putInfo=function(){var b=Bn(),q=function(fe){return fe};for(var se in f!==null&&(q=hn.encryptor(b,0)),ue("<<"),ue("/Producer ("+ar(q("jsPDF "+Lt.version))+")"),Pt)Pt.hasOwnProperty(se)&&Pt[se]&&ue("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+ar(q(Pt[se]))+")");ue("/CreationDate ("+ar(q(Se))+")"),ue(">>"),ue("endobj")},Ls=v.__private__.putCatalog=function(b){var q=(b=b||{}).rootDictionaryObjId||oo;switch(Bn(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+q+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+rt;se.substr(se.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+Q(rt)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}Rt&&ue("/PageMode /"+Rt),sn.publish("putCatalog"),ue(">>"),ue("endobj")},Ru=v.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(he+1)),ue("/Root "+he+" 0 R"),ue("/Info "+(he-1)+" 0 R"),f!==null&&ue("/Encrypt "+hn.oid+" 0 R"),ue("/ID [ <"+ve+"> <"+ve+"> ]"),ue(">>")},Ya=v.__private__.putHeader=function(){ue("%PDF-"+E),ue("%")},Lu=v.__private__.putXRef=function(){var b="0000000000";ue("xref"),ue("0 "+(he+1)),ue("0000000000 65535 f ");for(var q=1;q<=he;q++)typeof Ae[q]=="function"?ue((b+Ae[q]()).slice(-10)+" 00000 n "):Ae[q]!==void 0?ue((b+Ae[q]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},Ds=v.__private__.buildDocument=function(){xt(),Fe(Te),sn.publish("buildDocument"),Ya(),ao(),Ol(),Dl(),f!==null&&ku(),Jt(),Ls();var b=Ce;return Lu(),Ru(),ue("startxref"),ue(""+b),ue("%%EOF"),Fe($e[X]),Te.join(`
`)},fa=v.__private__.getBlob=function(b){return new Blob([mt(b)],{type:"application/pdf"})},Vo=v.output=v.__private__.output=Xr(function(b,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",b){case void 0:return Ds();case"save":v.save(q.filename);break;case"arraybuffer":return mt(Ds());case"blob":return fa(Ds());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(fa(Ds()))||void 0;Hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",fe=Ds();try{se=w2(fe)}catch{se=w2(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+q.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Ee=q.pdfObjectUrl,Me="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",it=jt.open();return it!==null&&it.document.write(Ge),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var g='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',P=jt.open();if(P!==null){P.document.write(g);var j=this;P.document.documentElement.querySelector("#pdfViewer").onload=function(){P.document.title=q.filename,P.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(j.output("bloburl"))}}return P}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Y='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',be=jt.open();if(be!==null&&(be.document.write(Y),be.document.title=q.filename),be||typeof safari>"u")return be;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",q);default:return null}}),ds=function(b){return Array.isArray(hs)===!0&&hs.indexOf(b)>-1};switch(r){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=ds("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);at=r}var hn=null;re(),oe();var ps=function(b){return f!==null?hn.encryptor(b,0):function(q){return q}},Hi=v.__private__.getPageInfo=v.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[b].objId,pageNumber:b,pageContext:At[b]}},Tt=v.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in At)if(At[q].objId===b)break;return Hi(q)},Wi=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:At[X].objId,pageNumber:X,pageContext:At[X]}};v.addPage=function(){return Mo.apply(this,arguments),this},v.setPage=function(){return ho.apply(this,arguments),Fe.call(this,$e[X]),this},v.insertPage=function(b){return this.addPage(),this.movePage(X,b),this},v.movePage=function(b,q){var se,fe;if(b>q){se=$e[b],fe=At[b];for(var Ee=b;Ee>q;Ee--)$e[Ee]=$e[Ee-1],At[Ee]=At[Ee-1];$e[q]=se,At[q]=fe,this.setPage(q)}else if(b<q){se=$e[b],fe=At[b];for(var Me=b;Me<q;Me++)$e[Me]=$e[Me+1],At[Me]=At[Me+1];$e[q]=se,At[q]=fe,this.setPage(q)}return this},v.deletePage=function(){return Fo.apply(this,arguments),this},v.__private__.text=v.text=function(b,q,se,fe,Ee){var Me,Ge,it,g,P,j,Y,be,Re,Ke=(fe=fe||{}).scope||this;if(typeof b=="number"&&typeof q=="number"&&(typeof se=="string"||Array.isArray(se))){var Ht=se;se=q,q=b,b=Ht}if(arguments[3]instanceof ht?(O("The transform parameter of text() with a Matrix value"),Re=Ee):(it=arguments[4],g=arguments[5],Fn(Y=arguments[3])==="object"&&Y!==null||(typeof it=="string"&&(g=it,it=null),typeof Y=="string"&&(g=Y,Y=null),typeof Y=="number"&&(it=Y,Y=null),fe={flags:Y,angle:it,align:g})),isNaN(q)||isNaN(se)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Ke;var nn="",Wt=!1,wn=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:vn,An=Ke.internal.scaleFactor;function Ci(jn){return jn=jn.split("	").join(Array(fe.TabLen||9).join(" ")),ar(jn,Y)}function ti(jn){for(var En,cr=jn.concat(),Cr=[],Go=cr.length;Go--;)typeof(En=cr.shift())=="string"?Cr.push(En):Array.isArray(jn)&&(En.length===1||En[1]===void 0&&En[2]===void 0)?Cr.push(En[0]):Cr.push([En[0],En[1],En[2]]);return Cr}function vo(jn,En){var cr;if(typeof jn=="string")cr=En(jn)[0];else if(Array.isArray(jn)){for(var Cr,Go,Wu=jn.concat(),$l=[],Xc=Wu.length;Xc--;)typeof(Cr=Wu.shift())=="string"?$l.push(En(Cr)[0]):Array.isArray(Cr)&&typeof Cr[0]=="string"&&(Go=En(Cr[0],Cr[1],Cr[2]),$l.push([Go[0],Go[1],Go[2]]));cr=$l}return cr}var wo=!1,ju=!0;if(typeof b=="string")wo=!0;else if(Array.isArray(b)){var Mu=b.concat();Ge=[];for(var Bl,ur=Mu.length;ur--;)(typeof(Bl=Mu.shift())!="string"||Array.isArray(Bl)&&typeof Bl[0]!="string")&&(ju=!1);wo=ju}if(wo===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var Fu=Ze/Ke.internal.scaleFactor,Vu=Fu*(wn-1);switch(fe.baseline){case"bottom":se-=Vu;break;case"top":se+=Fu-Vu;break;case"hanging":se+=Fu-2*Vu;break;case"middle":se+=Fu/2-Vu}if((j=fe.maxWidth||0)>0&&(typeof b=="string"?b=Ke.splitTextToSize(b,j):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(jn,En){return jn.concat(Ke.splitTextToSize(En,j))},[]))),Me={text:b,x:q,y:se,options:fe,mutex:{pdfEscape:ar,activeFontKey:qt,fonts:mn,activeFontSize:Ze}},sn.publish("preProcessText",Me),b=Me.text,it=(fe=Me.options).angle,!(Re instanceof ht)&&it&&typeof it=="number"){it*=Math.PI/180,fe.rotationDirection===0&&(it=-it),V===N.ADVANCED&&(it=-it);var Bu=Math.cos(it),Uu=Math.sin(it);Re=new ht(Bu,Uu,-Uu,Bu,0,0)}else it&&it instanceof ht&&(Re=it);V!==N.ADVANCED||Re||(Re=Ar),(P=fe.charSpace||mo)!==void 0&&(nn+=B(I(P))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(be=fe.horizontalScale)!==void 0&&(nn+=B(100*be)+` Tz
`),fe.lang;var Pi=-1,Ul=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,ga=Ke.internal.getCurrentPageInfo().pageContext;switch(Ul){case 0:case!1:case"fill":Pi=0;break;case 1:case!0:case"stroke":Pi=1;break;case 2:case"fillThenStroke":Pi=2;break;case 3:case"invisible":Pi=3;break;case 4:case"fillAndAddForClipping":Pi=4;break;case 5:case"strokeAndAddPathForClipping":Pi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Pi=6;break;case 7:case"addToPathForClipping":Pi=7}var tf=ga.usedRenderingMode!==void 0?ga.usedRenderingMode:-1;Pi!==-1?nn+=Pi+` Tr
`:tf!==-1&&(nn+=`0 Tr
`),Pi!==-1&&(ga.usedRenderingMode=Pi),g=fe.align||"left";var Ni,zu=Ze*wn,Yc=Ke.internal.pageSize.getWidth(),qu=mn[qt];P=fe.charSpace||mo,j=fe.maxWidth||0,Y=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var Wo=[],nl=function(jn){return Ke.getStringUnitWidth(jn,{font:qu,charSpace:P,fontSize:Ze,doKerning:!1})*Ze/An};if(Object.prototype.toString.call(b)==="[object Array]"){var Ii;Ge=ti(b),g!=="left"&&(Ni=Ge.map(nl));var di,rl=0;if(g==="right"){q-=Ni[0],b=[],ur=Ge.length;for(var ya=0;ya<ur;ya++)ya===0?(di=Ti(q),Ii=lr(se)):(di=I(rl-Ni[ya]),Ii=-zu),b.push([Ge[ya],di,Ii]),rl=Ni[ya]}else if(g==="center"){q-=Ni[0]/2,b=[],ur=Ge.length;for(var va=0;va<ur;va++)va===0?(di=Ti(q),Ii=lr(se)):(di=I((rl-Ni[va])/2),Ii=-zu),b.push([Ge[va],di,Ii]),rl=Ni[va]}else if(g==="left"){b=[],ur=Ge.length;for(var Hu=0;Hu<ur;Hu++)b.push(Ge[Hu])}else if(g==="justify"&&qu.encoding==="Identity-H"){b=[],ur=Ge.length,j=j!==0?j:Yc;for(var wa=0,gn=0;gn<ur;gn++)if(Ii=gn===0?lr(se):-zu,di=gn===0?Ti(q):wa,gn<ur-1){var _a=I((j-Ni[gn])/(Ge[gn].split(" ").length-1)),pi=Ge[gn].split(" ");b.push([pi[0]+" ",di,Ii]),wa=0;for(var vs=1;vs<pi.length;vs++){var zl=(nl(pi[vs-1]+" "+pi[vs])-nl(pi[vs]))*An+_a;vs==pi.length-1?b.push([pi[vs],zl,0]):b.push([pi[vs]+" ",zl,0]),wa-=zl}}else b.push([Ge[gn],di,Ii]);b.push(["",wa,0])}else{if(g!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],ur=Ge.length,j=j!==0?j:Yc,gn=0;gn<ur;gn++)Ii=gn===0?lr(se):-zu,di=gn===0?Ti(q):0,gn<ur-1?Wo.push(B(I((j-Ni[gn])/(Ge[gn].split(" ").length-1)))):Wo.push(0),b.push([Ge[gn],di,Ii])}}var Qc=typeof fe.R2L=="boolean"?fe.R2L:vt;Qc===!0&&(b=vo(b,function(jn,En,cr){return[jn.split("").reverse().join(""),En,cr]})),Me={text:b,x:q,y:se,options:fe,mutex:{pdfEscape:ar,activeFontKey:qt,fonts:mn,activeFontSize:Ze}},sn.publish("postProcessText",Me),b=Me.text,Wt=Me.mutex.isHex||!1;var ql=mn[qt].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(b=vo(b,function(jn,En,cr){return[Ci(jn),En,cr]})),Ge=ti(b),b=[];for(var Hl,Wl,ws,ba=0,$o=1,xa=Array.isArray(Ge[0])?$o:ba,Sa="",il=function(jn,En,cr){var Cr="";return cr instanceof ht?(cr=typeof fe.angle=="number"?ai(cr,new ht(1,0,0,1,jn,En)):ai(new ht(1,0,0,1,jn,En),cr),V===N.ADVANCED&&(cr=ai(new ht(1,0,0,-1,0,0),cr)),Cr=cr.join(" ")+` Tm
`):Cr=B(jn)+" "+B(En)+` Td
`,Cr},ni=0;ni<Ge.length;ni++){switch(Sa="",xa){case $o:ws=(Wt?"<":"(")+Ge[ni][0]+(Wt?">":")"),Hl=parseFloat(Ge[ni][1]),Wl=parseFloat(Ge[ni][2]);break;case ba:ws=(Wt?"<":"(")+Ge[ni]+(Wt?">":")"),Hl=Ti(q),Wl=lr(se)}Wo!==void 0&&Wo[ni]!==void 0&&(Sa=Wo[ni]+` Tw
`),ni===0?b.push(Sa+il(Hl,Wl,Re)+ws):xa===ba?b.push(Sa+ws):xa===$o&&b.push(Sa+il(Hl,Wl,Re)+ws)}b=xa===ba?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var $i=`BT
/`;return $i+=qt+" "+Ze+` Tf
`,$i+=B(Ze*wn)+` TL
`,$i+=Yn+`
`,$i+=nn,$i+=b,ue($i+="ET"),y[qt]=!0,Ke};var Os=v.__private__.clip=v.clip=function(b){return ue(b==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Os("evenodd")},v.__private__.discardPath=v.discardPath=function(){return ue("n"),this};var js=v.__private__.isValidStyle=function(b){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(q=!0),q};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(b){return js(b)&&(h=b),this};var jl=v.__private__.getStyle=v.getStyle=function(b){var q=h;switch(b){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=b}return q},Zr=v.close=function(){return ue("h"),this};v.stroke=function(){return ue("S"),this},v.fill=function(b){return Qa("f",b),this},v.fillEvenOdd=function(b){return Qa("f*",b),this},v.fillStroke=function(b){return Qa("B",b),this},v.fillStrokeEvenOdd=function(b){return Qa("B*",b),this};var Qa=function(b,q){Fn(q)==="object"?da(q,b):ue(b)},Xa=function(b){b===null||V===N.ADVANCED&&b===void 0||(b=jl(b),ue(b))};function po(b,q,se,fe,Ee){var Me=new Ff(q||this.boundingBox,se||this.xStep,fe||this.yStep,this.gState,Ee||this.matrix);Me.stream=this.stream;var Ge=b+"$$"+this.cloneIndex+++"$$";return Er(Ge,Me),Me}var da=function(b,q){var se=ks[b.key],fe=tn[se];if(fe instanceof bh)ue("q"),ue(Du(q)),fe.gState&&v.setGState(fe.gState),ue(b.matrix.toString()+" cm"),ue("/"+se+" sh"),ue("Q");else if(fe instanceof Ff){var Ee=new ht(1,0,0,-1,0,fi());b.matrix&&(Ee=Ee.multiply(b.matrix||Ar),se=po.call(fe,b.key,b.boundingBox,b.xStep,b.yStep,Ee).id),ue("q"),ue("/Pattern cs"),ue("/"+se+" scn"),fe.gState&&v.setGState(fe.gState),ue(q),ue("Q")}},Du=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ei=v.moveTo=function(b,q){return ue(B(I(b))+" "+B(ee(q))+" m"),this},ei=v.lineTo=function(b,q){return ue(B(I(b))+" "+B(ee(q))+" l"),this},ci=v.curveTo=function(b,q,se,fe,Ee,Me){return ue([B(I(b)),B(ee(q)),B(I(se)),B(ee(fe)),B(I(Ee)),B(ee(Me)),"c"].join(" ")),this};v.__private__.line=v.line=function(b,q,se,fe,Ee){if(isNaN(b)||isNaN(q)||isNaN(se)||isNaN(fe)||!js(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return V===N.COMPAT?this.lines([[se-b,fe-q]],b,q,[1,1],Ee||"S"):this.lines([[se-b,fe-q]],b,q,[1,1]).stroke()},v.__private__.lines=v.lines=function(b,q,se,fe,Ee,Me){var Ge,it,g,P,j,Y,be,Re,Ke,Ht,nn,Wt;if(typeof b=="number"&&(Wt=se,se=q,q=b,b=Wt),fe=fe||[1,1],Me=Me||!1,isNaN(q)||isNaN(se)||!Array.isArray(b)||!Array.isArray(fe)||!js(Ee)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ei(q,se),Ge=fe[0],it=fe[1],P=b.length,Ht=q,nn=se,g=0;g<P;g++)(j=b[g]).length===2?(Ht=j[0]*Ge+Ht,nn=j[1]*it+nn,ei(Ht,nn)):(Y=j[0]*Ge+Ht,be=j[1]*it+nn,Re=j[2]*Ge+Ht,Ke=j[3]*it+nn,Ht=j[4]*Ge+Ht,nn=j[5]*it+nn,ci(Y,be,Re,Ke,Ht,nn));return Me&&Zr(),Xa(Ee),this},v.path=function(b){for(var q=0;q<b.length;q++){var se=b[q],fe=se.c;switch(se.op){case"m":Ei(fe[0],fe[1]);break;case"l":ei(fe[0],fe[1]);break;case"c":ci.apply(this,fe);break;case"h":Zr()}}return this},v.__private__.rect=v.rect=function(b,q,se,fe,Ee){if(isNaN(b)||isNaN(q)||isNaN(se)||isNaN(fe)||!js(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return V===N.COMPAT&&(fe=-fe),ue([B(I(b)),B(ee(q)),B(I(se)),B(I(fe)),"re"].join(" ")),Xa(Ee),this},v.__private__.triangle=v.triangle=function(b,q,se,fe,Ee,Me,Ge){if(isNaN(b)||isNaN(q)||isNaN(se)||isNaN(fe)||isNaN(Ee)||isNaN(Me)||!js(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-b,fe-q],[Ee-se,Me-fe],[b-Ee,q-Me]],b,q,[1,1],Ge,!0),this},v.__private__.roundedRect=v.roundedRect=function(b,q,se,fe,Ee,Me,Ge){if(isNaN(b)||isNaN(q)||isNaN(se)||isNaN(fe)||isNaN(Ee)||isNaN(Me)||!js(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*se),Me=Math.min(Me,.5*fe),this.lines([[se-2*Ee,0],[Ee*it,0,Ee,Me-Me*it,Ee,Me],[0,fe-2*Me],[0,Me*it,-Ee*it,Me,-Ee,Me],[2*Ee-se,0],[-Ee*it,0,-Ee,-Me*it,-Ee,-Me],[0,2*Me-fe],[0,-Me*it,Ee*it,-Me,Ee,-Me]],b+Ee,q,[1,1],Ge,!0),this},v.__private__.ellipse=v.ellipse=function(b,q,se,fe,Ee){if(isNaN(b)||isNaN(q)||isNaN(se)||isNaN(fe)||!js(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*se,Ge=4/3*(Math.SQRT2-1)*fe;return Ei(b+se,q),ci(b+se,q-Ge,b+Me,q-fe,b,q-fe),ci(b-Me,q-fe,b-se,q-Ge,b-se,q),ci(b-se,q+Ge,b-Me,q+fe,b,q+fe),ci(b+Me,q+fe,b+se,q+Ge,b+se,q),Xa(Ee),this},v.__private__.circle=v.circle=function(b,q,se,fe){if(isNaN(b)||isNaN(q)||isNaN(se)||!js(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,q,se,se,fe)},v.setFont=function(b,q,se){return se&&(q=ce(q,se)),qt=fo(b,q,{disableWarning:!1}),this};var Bo=v.__private__.getFont=v.getFont=function(){return mn[fo.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var b,q,se={};for(b in Pn)if(Pn.hasOwnProperty(b))for(q in se[b]=[],Pn[b])Pn[b].hasOwnProperty(q)&&se[b].push(q);return se},v.addFont=function(b,q,se,fe,Ee){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(se=ce(se,fe)),Ee=Ee||"Identity-H",Oo.call(this,b,q,se,Ee)};var vn,Ml=t.lineWidth||.200025,Uo=v.__private__.getLineWidth=v.getLineWidth=function(){return Ml},zo=v.__private__.setLineWidth=v.setLineWidth=function(b){return Ml=b,ue(B(I(b))+" w"),this};v.__private__.setLineDash=Lt.API.setLineDash=Lt.API.setLineDashPattern=function(b,q){if(b=b||[],q=q||0,isNaN(q)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(se){return B(I(se))}).join(" "),q=B(I(q)),ue("["+b+"] "+q+" d"),this};var pa=v.__private__.getLineHeight=v.getLineHeight=function(){return Ze*vn};v.__private__.getLineHeight=v.getLineHeight=function(){return Ze*vn};var Ja=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(vn=b),this},hi=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return vn};Ja(t.lineHeight);var Ti=v.__private__.getHorizontalCoordinate=function(b){return I(b)},lr=v.__private__.getVerticalCoordinate=function(b){return V===N.ADVANCED?b:At[X].mediaBox.topRightY-At[X].mediaBox.bottomLeftY-I(b)},Fl=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(b){return B(Ti(b))},ms=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(b){return B(lr(b))},Tr=t.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return zi(Tr)},v.__private__.setStrokeColor=v.setDrawColor=function(b,q,se,fe){return Tr=gr({ch1:b,ch2:q,ch3:se,ch4:fe,pdfColorType:"draw",precision:2}),ue(Tr),this};var ma=t.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return zi(ma)},v.__private__.setFillColor=v.setFillColor=function(b,q,se,fe){return ma=gr({ch1:b,ch2:q,ch3:se,ch4:fe,pdfColorType:"fill",precision:2}),ue(ma),this};var Yn=t.textColor||"0 g",gs=v.__private__.getTextColor=v.getTextColor=function(){return zi(Yn)};v.__private__.setTextColor=v.setTextColor=function(b,q,se,fe){return Yn=gr({ch1:b,ch2:q,ch3:se,ch4:fe,pdfColorType:"text",precision:3}),this};var mo=t.charSpace,Ms=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(mo||0)};v.__private__.setCharSpace=v.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mo=b,this};var Vl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(b){var q=v.CapJoinStyles[b];if(q===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vl=q,ue(q+" J"),this};var qo=0;v.__private__.setLineJoin=v.setLineJoin=function(b){var q=v.CapJoinStyles[b];if(q===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qo=q,ue(q+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(B(I(b))+" M"),this},v.GState=a0,v.setGState=function(b){(b=typeof b=="string"?Dn[sr[b]]:Fs(null,b)).equals(qr)||(ue("/"+b.id+" gs"),qr=b)};var Fs=function(b,q){if(!b||!sr[b]){var se=!1;for(var fe in Dn)if(Dn.hasOwnProperty(fe)&&Dn[fe].equals(q)){se=!0;break}if(se)q=Dn[fe];else{var Ee="GS"+(Object.keys(Dn).length+1).toString(10);Dn[Ee]=q,q.id=Ee}return b&&(sr[b]=q.id),sn.publish("addGState",q),q}};v.addGState=function(b,q){return Fs(b,q),this},v.saveGraphicsState=function(){return ue("q"),Bi.push({key:qt,size:Ze,color:Yn}),this},v.restoreGraphicsState=function(){ue("Q");var b=Bi.pop();return qt=b.key,Ze=b.size,Yn=b.color,qr=null,this},v.setCurrentTransformationMatrix=function(b){return ue(b.toString()+" cm"),this},v.comment=function(b){return ue("#"+b),this};var ys=function(b,q){var se=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Me){isNaN(Me)||(se=parseFloat(Me))}});var fe=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Me){isNaN(Me)||(fe=parseFloat(Me))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Me){Ee=Me.toString()}}),this},go=function(b,q,se,fe){ys.call(this,b,q),this.type="rect";var Ee=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Ge){isNaN(Ge)||(Ee=parseFloat(Ge))}});var Me=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function(Ge){isNaN(Ge)||(Me=parseFloat(Ge))}}),this},Ho=function(){this.page=On,this.currentPage=X,this.pages=$e.slice(0),this.pagesContext=At.slice(0),this.x=ir,this.y=en,this.matrix=Si,this.width=Vs(X),this.height=fi(X),this.outputDestination=tt,this.id="",this.objectNumber=-1};Ho.prototype.restore=function(){On=this.page,X=this.currentPage,At=this.pagesContext,$e=this.pages,ir=this.x,en=this.y,Si=this.matrix,el(X,this.width),tl(X,this.height),tt=this.outputDestination};var Za=function(b,q,se,fe,Ee){Ui.push(new Ho),On=X=0,$e=[],ir=b,en=q,Si=Ee,Jr([se,fe])},Ou=function(b){if(Hr[b])Ui.pop().restore();else{var q=new Ho,se="Xo"+(Object.keys(mr).length+1).toString(10);q.id=se,Hr[b]=se,mr[se]=q,sn.publish("addFormObject",q),Ui.pop().restore()}};for(var yo in v.beginFormObject=function(b,q,se,fe,Ee){return Za(b,q,se,fe,Ee),this},v.endFormObject=function(b){return Ou(b),this},v.doFormObject=function(b,q){var se=mr[Hr[b]];return ue("q"),ue(q.toString()+" cm"),ue("/"+se.id+" Do"),ue("Q"),this},v.getFormObject=function(b){var q=mr[Hr[b]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},v.save=function(b,q){return b=b||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(_h(fa(Ds()),b),typeof _h.unload=="function"&&jt.setTimeout&&setTimeout(_h.unload,911),this):new Promise(function(se,fe){try{var Ee=_h(fa(Ds()),b);typeof _h.unload=="function"&&jt.setTimeout&&setTimeout(_h.unload,911),se(Ee)}catch(Me){fe(Me.message)}})},Lt.API)Lt.API.hasOwnProperty(yo)&&(yo==="events"&&Lt.API.events.length?function(b,q){var se,fe,Ee;for(Ee=q.length-1;Ee!==-1;Ee--)se=q[Ee][0],fe=q[Ee][1],b.subscribe.apply(b,[se].concat(typeof fe=="function"?[fe]:fe))}(sn,Lt.API.events):v[yo]=Lt.API[yo]);var Vs=v.getPageWidth=function(b){return(At[b=b||X].mediaBox.topRightX-At[b].mediaBox.bottomLeftX)/at},el=v.setPageWidth=function(b,q){At[b].mediaBox.topRightX=q*at+At[b].mediaBox.bottomLeftX},fi=v.getPageHeight=function(b){return(At[b=b||X].mediaBox.topRightY-At[b].mediaBox.bottomLeftY)/at},tl=v.setPageHeight=function(b,q){At[b].mediaBox.topRightY=q*at+At[b].mediaBox.bottomLeftY};return v.internal={pdfEscape:ar,getStyle:jl,getFont:Bo,getFontSize:ot,getCharSpace:Ms,getTextColor:gs,getLineHeight:pa,getLineHeightFactor:hi,getLineWidth:Uo,write:Dt,getHorizontalCoordinate:Ti,getVerticalCoordinate:lr,getCoordinateString:Fl,getVerticalCoordinateString:ms,collections:{},newObject:Bn,newAdditionalObject:Ro,newObjectDeferred:Un,newObjectDeferredBegin:Kn,getFilters:ui,putStream:or,events:sn,scaleFactor:at,pageSize:{getWidth:function(){return Vs(X)},setWidth:function(b){el(X,b)},getHeight:function(){return fi(X)},setHeight:function(b){tl(X,b)}},encryptionOptions:f,encryption:hn,getEncryptor:ps,output:Vo,getNumberOfPages:Sn,pages:$e,out:ue,f2:Q,f3:L,getPageInfo:Hi,getPageInfoByObjId:Tt,getCurrentPageInfo:Wi,getPDFVersion:S,Point:ys,Rectangle:go,Matrix:ht,hasHotfix:ds},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Vs(X)},set:function(b){el(X,b)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return fi(X)},set:function(b){tl(X,b)},enumerable:!0,configurable:!0}),jo.call(v,Xe),qt="F1",Mo(i,n),sn.publish("initialized"),v}Rf.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Rf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rf.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Rf.prototype.processOwnerPassword=function(t,e){return b2(_2(e).substr(0,5),t)},Rf.prototype.encryptor=function(t,e){var n=_2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return b2(n,r)}},a0.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Fn(t)!==Fn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Lt.API={events:[]},Lt.version="3.0.1";var kr=Lt.API,xw=1,Zh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ef=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gt=function(t){return t.toFixed(2)},pc=function(t){return t.toFixed(5)};kr.__acroform__={};var so=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},yA=function(t){return t*xw},pl=function(t){var e=new DP,n=yt.internal.getHeight(t)||0,r=yt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Gt(r)),Number(Gt(n))],e},SH=kr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},AH=kr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},EH=kr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Fr=kr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return EH(t,e-1)},Vr=kr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return SH(t,e-1)},Br=kr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return AH(t,e-1)},TH=kr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+l)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(s)||0,[Number(Gt(c.lowerLeft_X)),Number(Gt(c.lowerLeft_Y)),Number(Gt(c.upperRight_X)),Number(Gt(c.upperRight_Y))]},CH=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=x2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Gt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=pl(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},x2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var s=n,o=yt.internal.getHeight(t)||0;o=o<0?-o:o;var l=yt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(L,I,M){if(L+1<i.length){var ee=I+" "+i[L+1][0];return Jm(ee,t,M).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var h,f,p=Jm("3",t,s).height,y=t.multiline?o-s:(o-p)/2,v=y+=2,E=0,S=0,C=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Jm(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var R="",N=0,V=0;V<i.length;V++)if(i.hasOwnProperty(V)){var H=!1;if(i[V].length!==1&&C!==i[V].length-1){if((p+2)*(N+2)+2>o)continue e;R+=i[V][C],H=!0,S=V,V--}else{R=(R+=i[V][C]+" ").substr(R.length-1)==" "?R.substr(0,R.length-1):R;var ie=parseInt(V),ce=c(ie,R,s),B=V>=i.length-1;if(ce&&!B){R+=" ",C=0;continue}if(ce||B){if(B)S=ie;else if(t.multiline&&(p+2)*(N+2)+2>o)continue e}else{if(!t.multiline||(p+2)*(N+2)+2>o)continue e;S=ie}}for(var O="",U=E;U<=S;U++){var Q=i[U];if(t.multiline){if(U===S){O+=Q[C]+" ",C=(C+1)%Q.length;continue}if(U===E){O+=Q[Q.length-1]+" ";continue}}O+=Q[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,f=Jm(O,t,s).width,t.textAlign){case"right":h=l-f-2;break;case"center":h=(l-f)/2;break;case"left":default:h=2}e+=Gt(h)+" "+Gt(v)+` Td
`,e+="("+Zh(O)+`) Tj
`,e+=-Gt(h)+` 0 Td
`,v=-(s+2),f=0,E=H?S:S+1,N++,R=""}break}return r.text=e,r.fontSize=s,r},Jm=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},PH={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},NH=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},IH=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Fn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},kH=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if($a.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(PH)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xw=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new OP,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&NH(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],h=l.Rect;if(l.Rect&&(l.Rect=TH(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=yt.createDefaultAppearanceStream(l),Fn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=CH(l);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var v=l.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var o in v)if(v.hasOwnProperty(o)){var E=v[o];typeof E=="function"&&(E=E.call(i,l)),p+="/"+o+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=v)=="function"&&(E=E.call(i,l)),p+="/"+o+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}s&&IH(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},LP=kr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Fn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Zh(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},ev=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Zh(r(t))+")"},yl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};yl.prototype.toString=function(){return this.objId+" 0 R"},yl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},yl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:LP(i,this.objId,this.scope)}):i instanceof yl?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var DP=function(){yl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};so(DP,yl);var OP=function(){yl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Zh(n(t))+")"}},set:function(n){t=n}})};so(OP,yl);var $a=function t(){yl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute F supplied.');e=R}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fr(e,3)},set:function(R){R?this.F=Vr(e,3):this.F=Br(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute Ff supplied.');n=R}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(R){r=R!==void 0?R:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(R){r[0]=R}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(R){r[1]=R}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(R){r[2]=R}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(R){r[3]=R}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(R){switch(R){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=R;break;default:throw new Error('Invalid value "'+R+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof l0)return;s="FieldObject"+t.FieldNum++}var R=function(N){return N};return this.scope&&(R=this.scope.internal.getEncryptor(this.objId)),"("+Zh(R(s))+")"},set:function(R){s=R.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(R){s=R}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(R){o=R}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(R){l=R}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(R){c=R}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/xw:h},set:function(R){h=R}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(R){f=R}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof l0||this instanceof Oh))return ev(p,this.objId,this.scope)},set:function(R){R=R.toString(),p=R}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof bi?y:ev(y,this.objId,this.scope)},set:function(R){R=R.toString(),y=this instanceof bi?R:R.substr(0,1)==="("?Ef(R.substr(1,R.length-2)):Ef(R)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof bi?Ef(y.substr(1,y.length-1)):y},set:function(R){R=R.toString(),y=this instanceof bi?"/"+R:R}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(R){this.V=R}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof bi?v:ev(v,this.objId,this.scope)},set:function(R){R=R.toString(),v=this instanceof bi?R:R.substr(0,1)==="("?Ef(R.substr(1,R.length-2)):Ef(R)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof bi?Ef(v.substr(1,v.length-1)):v},set:function(R){R=R.toString(),v=this instanceof bi?"/"+R:R}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(R){R=!!R,S=R}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(R){E=R}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,1)},set:function(R){R?this.Ff=Vr(this.Ff,1):this.Ff=Br(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,2)},set:function(R){R?this.Ff=Vr(this.Ff,2):this.Ff=Br(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,3)},set:function(R){R?this.Ff=Vr(this.Ff,3):this.Ff=Br(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(R){if([0,1,2].indexOf(R)===-1)throw new Error('Invalid value "'+R+'" for attribute Q supplied.');C=R}}),Object.defineProperty(this,"textAlign",{get:function(){var R;switch(C){case 0:default:R="left";break;case 1:R="center";break;case 2:R="right"}return R},configurable:!0,enumerable:!0,set:function(R){switch(R){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};so($a,yl);var Wf=function(){$a.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return LP(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,l){l||(l=1);for(var c,h=[];c=o.exec(s);)h.push(c[l]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,18)},set:function(n){n?this.Ff=Vr(this.Ff,18):this.Ff=Br(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Vr(this.Ff,19):this.Ff=Br(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,20)},set:function(n){n?(this.Ff=Vr(this.Ff,20),e.sort()):this.Ff=Br(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,22)},set:function(n){n?this.Ff=Vr(this.Ff,22):this.Ff=Br(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(n){n?this.Ff=Vr(this.Ff,23):this.Ff=Br(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,27)},set:function(n){n?this.Ff=Vr(this.Ff,27):this.Ff=Br(this.Ff,27)}}),this.hasAppearanceStream=!1};so(Wf,$a);var $f=function(){Wf.call(this),this.fontName="helvetica",this.combo=!1};so($f,Wf);var Gf=function(){$f.call(this),this.combo=!0};so(Gf,$f);var bg=function(){Gf.call(this),this.edit=!0};so(bg,Gf);var bi=function(){$a.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,15)},set:function(n){n?this.Ff=Vr(this.Ff,15):this.Ff=Br(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,16)},set:function(n){n?this.Ff=Vr(this.Ff,16):this.Ff=Br(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,17)},set:function(n){n?this.Ff=Vr(this.Ff,17):this.Ff=Br(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(n){n?this.Ff=Vr(this.Ff,26):this.Ff=Br(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Zh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Fn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};so(bi,$a);var xg=function(){bi.call(this),this.pushButton=!0};so(xg,bi);var Kf=function(){bi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};so(Kf,bi);var l0=function(){var t,e;$a.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Zh(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Fn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};so(l0,$a),Kf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Kf.prototype.createOption=function(t){var e=new l0;return e.Parent=this,e.optionName=t,this.Kids.push(e),RH.call(this.scope,e),e};var Sg=function(){bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};so(Sg,bi);var Oh=function(){$a.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,13)},set:function(e){e?this.Ff=Vr(this.Ff,13):this.Ff=Br(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,21)},set:function(e){e?this.Ff=Vr(this.Ff,21):this.Ff=Br(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(e){e?this.Ff=Vr(this.Ff,23):this.Ff=Br(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,24)},set:function(e){e?this.Ff=Vr(this.Ff,24):this.Ff=Br(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,25)},set:function(e){e?this.Ff=Vr(this.Ff,25):this.Ff=Br(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(e){e?this.Ff=Vr(this.Ff,26):this.Ff=Br(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};so(Oh,$a);var Ag=function(){Oh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,14)},set:function(t){t?this.Ff=Vr(this.Ff,14):this.Ff=Br(this.Ff,14)}}),this.password=!0};so(Ag,Oh);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=pl(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=x2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Gt(yt.internal.getWidth(t))+" "+Gt(yt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Gt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=pl(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=yt.internal.getHeight(t),o=yt.internal.getWidth(t),l=x2(t,t.caption);return i.push("1 g"),i.push("0 0 "+Gt(o)+" "+Gt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Gt(o-1)+" "+Gt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Gt(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=pl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Gt(yt.internal.getWidth(t))+" "+Gt(yt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=yt.RadioButton.Circle.YesNormal,e.D[t]=yt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=pl(t);e.scope=t.scope;var n=[],r=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=yt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+pc(yt.internal.getWidth(t)/2)+" "+pc(yt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=pl(t);e.scope=t.scope;var n=[],r=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*yt.internal.Bezier_C).toFixed(5)),o=Number((r*yt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pc(yt.internal.getWidth(t)/2)+" "+pc(yt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+pc(yt.internal.getWidth(t)/2)+" "+pc(yt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=pl(t);e.scope=t.scope;var n=[],r=yt.internal.getWidth(t)<=yt.internal.getHeight(t)?yt.internal.getWidth(t)/4:yt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*yt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+pc(yt.internal.getWidth(t)/2)+" "+pc(yt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=yt.RadioButton.Cross.YesNormal,e.D[t]=yt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=pl(t);e.scope=t.scope;var n=[],r=yt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Gt(yt.internal.getWidth(t)-2)+" "+Gt(yt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Gt(r.x1.x)+" "+Gt(r.x1.y)+" m"),n.push(Gt(r.x2.x)+" "+Gt(r.x2.y)+" l"),n.push(Gt(r.x4.x)+" "+Gt(r.x4.y)+" m"),n.push(Gt(r.x3.x)+" "+Gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=pl(t);e.scope=t.scope;var n=yt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Gt(yt.internal.getWidth(t))+" "+Gt(yt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Gt(yt.internal.getWidth(t)-2)+" "+Gt(yt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Gt(n.x1.x)+" "+Gt(n.x1.y)+" m"),r.push(Gt(n.x2.x)+" "+Gt(n.x2.y)+" l"),r.push(Gt(n.x4.x)+" "+Gt(n.x4.y)+" m"),r.push(Gt(n.x3.x)+" "+Gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=pl(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Gt(yt.internal.getWidth(t))+" "+Gt(yt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};yt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=yt.internal.getWidth(t),n=yt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},yt.internal.getWidth=function(t){var e=0;return Fn(t)==="object"&&(e=yA(t.Rect[2])),e},yt.internal.getHeight=function(t){var e=0;return Fn(t)==="object"&&(e=yA(t.Rect[3])),e};var RH=kr.addField=function(t){if(kH(this,t),!(t instanceof $a))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};kr.AcroFormChoiceField=Wf,kr.AcroFormListBox=$f,kr.AcroFormComboBox=Gf,kr.AcroFormEditBox=bg,kr.AcroFormButton=bi,kr.AcroFormPushButton=xg,kr.AcroFormRadioButton=Kf,kr.AcroFormCheckBox=Sg,kr.AcroFormTextField=Oh,kr.AcroFormPasswordField=Ag,kr.AcroFormAppearance=yt,kr.AcroForm={ChoiceField:Wf,ListBox:$f,ComboBox:Gf,EditBox:bg,Button:bi,PushButton:xg,RadioButton:Kf,CheckBox:Sg,TextField:Oh,PasswordField:Ag,Appearance:yt},Lt.AcroForm={ChoiceField:Wf,ListBox:$f,ComboBox:Gf,EditBox:bg,Button:bi,PushButton:xg,RadioButton:Kf,CheckBox:Sg,TextField:Oh,PasswordField:Ag,Appearance:yt};Lt.AcroForm;function jP(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(L,I){var M,ee,Se,ve,Pe,oe=e;if((I=I||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(ce(L))for(Pe in n)for(Se=n[Pe],M=0;M<Se.length;M+=1){for(ve=!0,ee=0;ee<Se[M].length;ee+=1)if(Se[M][ee]!==void 0&&Se[M][ee]!==L[ee]){ve=!1;break}if(ve===!0){oe=Pe;break}}else for(Pe in n)for(Se=n[Pe],M=0;M<Se.length;M+=1){for(ve=!0,ee=0;ee<Se[M].length;ee+=1)if(Se[M][ee]!==void 0&&Se[M][ee]!==L.charCodeAt(ee)){ve=!1;break}if(ve===!0){oe=Pe;break}}return oe===e&&I!==e&&(oe=I),oe},i=function L(I){for(var M=this.internal.write,ee=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:I.width}),ve.push({key:"Height",value:I.height}),I.colorSpace===C.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===C.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var Pe="",oe=0,we=I.transparency.length;oe<we;oe++)Pe+=I.transparency[oe]+" "+I.transparency[oe]+" ";ve.push({key:"Mask",value:"["+Pe+"]"})}I.sMask!==void 0&&ve.push({key:"SMask",value:I.objectId+1+" 0 R"});var ye=I.filter!==void 0?["/"+I.filter]:void 0;if(ee({data:I.data,additionalKeyValues:ve,alreadyAppliedFilters:ye,objectId:I.objectId}),M("endobj"),"sMask"in I&&I.sMask!==void 0){var re="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,F={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:re,data:I.sMask};"filter"in I&&(F.filter=I.filter),L.call(this,F)}if(I.colorSpace===C.INDEXED){var X=this.internal.newObject();ee({data:O(new Uint8Array(I.palette)),objectId:X}),M("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var I in L)i.call(this,L[I])},o=function(){var L,I=this.internal.collections.addImage_images,M=this.internal.write;for(var ee in I)M("/I"+(L=I[ee]).index,L.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var L=this.internal.collections.addImage_images;return l.call(this),L},h=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(L){return typeof t["process"+L.toUpperCase()]=="function"},p=function(L){return Fn(L)==="object"&&L.nodeType===1},y=function(L,I){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var M=""+L.getAttribute("src");if(M.indexOf("data:image/")===0)return hp(unescape(M).split("base64,").pop());var ee=t.loadFile(M,!0);if(ee!==void 0)return ee}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var Se;switch(I){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;case"JPEG":case"JPG":default:Se="image/jpeg"}return hp(L.toDataURL(Se,1).split("base64,").pop())}},v=function(L){var I=this.internal.collections.addImage_images;if(I){for(var M in I)if(L===I[M].alias)return I[M]}},E=function(L,I,M){return L||I||(L=-96,I=-96),L<0&&(L=-1*M.width*72/L/this.internal.scaleFactor),I<0&&(I=-1*M.height*72/I/this.internal.scaleFactor),L===0&&(L=I*M.width/M.height),I===0&&(I=L*M.height/M.width),[L,I]},S=function(L,I,M,ee,Se,ve){var Pe=E.call(this,M,ee,Se),oe=this.internal.getCoordinateString,we=this.internal.getVerticalCoordinateString,ye=c.call(this);if(M=Pe[0],ee=Pe[1],ye[Se.index]=Se,ve){ve*=Math.PI/180;var re=Math.cos(ve),F=Math.sin(ve),X=function(le){return le.toFixed(4)},ne=[X(re),X(F),X(-1*F),X(re),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,oe(L),we(I+ee),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([oe(M),"0","0",oe(ee),"0","0","cm"].join(" "))):this.internal.write([oe(M),"0","0",oe(ee),oe(L),we(I+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(L){var I,M,ee=0;if(typeof L=="string")for(M=L.length,I=0;I<M;I++)ee=(ee<<5)-ee+L.charCodeAt(I),ee|=0;else if(ce(L))for(M=L.byteLength/2,I=0;I<M;I++)ee=(ee<<5)-ee+L[I],ee|=0;return ee},V=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var I=!0;return L.length===0&&(I=!1),L.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(I=!1),I},H=t.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var I=L.indexOf(",");return I<0?null:L.substring(0,I).trim().endsWith("base64")?L.substring(I+1):null},ie=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(L){return ie()&&L instanceof ArrayBuffer};var ce=t.__addimage__.isArrayBufferView=function(L){return ie()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},B=t.__addimage__.binaryStringToUint8Array=function(L){for(var I=L.length,M=new Uint8Array(I),ee=0;ee<I;ee++)M[ee]=L.charCodeAt(ee);return M},O=t.__addimage__.arrayBufferToBinaryString=function(L){for(var I="",M=ce(L)?L:new Uint8Array(L),ee=0;ee<M.length;ee+=8192)I+=String.fromCharCode.apply(null,M.subarray(ee,ee+8192));return I};t.addImage=function(){var L,I,M,ee,Se,ve,Pe,oe,we;if(typeof arguments[1]=="number"?(I=e,M=arguments[1],ee=arguments[2],Se=arguments[3],ve=arguments[4],Pe=arguments[5],oe=arguments[6],we=arguments[7]):(I=arguments[1],M=arguments[2],ee=arguments[3],Se=arguments[4],ve=arguments[5],Pe=arguments[6],oe=arguments[7],we=arguments[8]),Fn(L=arguments[0])==="object"&&!p(L)&&"imageData"in L){var ye=L;L=ye.imageData,I=ye.format||I||e,M=ye.x||M||0,ee=ye.y||ee||0,Se=ye.w||ye.width||Se,ve=ye.h||ye.height||ve,Pe=ye.alias||Pe,oe=ye.compression||oe,we=ye.rotation||ye.angle||we}var re=this.internal.getFilters();if(oe===void 0&&re.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(M)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=U.call(this,L,I,Pe,oe);return S.call(this,M,ee,Se,ve,F,we),this};var U=function(L,I,M,ee){var Se,ve,Pe;if(typeof L=="string"&&r(L)===e){L=unescape(L);var oe=Q(L,!1);(oe!==""||(oe=t.loadFile(L,!0))!==void 0)&&(L=oe)}if(p(L)&&(L=y(L,I)),I=r(L,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((Pe=M)==null||Pe.length===0)&&(M=function(we){return typeof we=="string"||ce(we)?N(we):ce(we.data)?N(we.data):null}(L)),(Se=v.call(this,M))||(ie()&&(L instanceof Uint8Array||I==="RGBA"||(ve=L,L=B(L))),Se=this["process"+I.toUpperCase()](L,h.call(this),M,function(we){return we&&typeof we=="string"&&(we=we.toUpperCase()),we in t.image_compression?we:R.NONE}(ee),ve)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},Q=t.__addimage__.convertBase64ToBinaryString=function(L,I){I=typeof I!="boolean"||I;var M,ee="";if(typeof L=="string"){var Se;M=(Se=H(L))!==null&&Se!==void 0?Se:L;try{ee=hp(M)}catch(ve){if(I)throw V(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};t.getImageProperties=function(L){var I,M,ee="";if(p(L)&&(L=y(L)),typeof L=="string"&&r(L)===e&&((ee=Q(L,!1))===""&&(ee=t.loadFile(L)||""),L=ee),M=r(L),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!ie()||L instanceof Uint8Array||(L=B(L)),!(I=this["process"+M.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=M,I}})(Lt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Lt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,f=!1,p=0;p<h.length&&!f;p++)switch((r=h[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){r=h[y];var v=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),R=this.internal.getEncryptor(S.objId),N=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+v(R(r.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+v(R(N))+") >>",S.content=s;var V=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+V,r.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(S.objId,"0 R",C.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var H=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(E(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ie=this.annotations._nameMap[r.options.name];r.options.pageNumber=ie.page,r.options.top=ie.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ce=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ce+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:h(r),w:c(n+i),h:h(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,l,c=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var f=this.splitTextToSize(n,l).length;o=Math.ceil(h*f)}else l=c,o=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,l,o,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Lt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},l=t.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(S){var C=0,R=n,N="",V=0;for(C=0;C<S.length;C+=1)R[S.charCodeAt(C)]!==void 0?(V++,typeof(R=R[S.charCodeAt(C)])=="number"&&(N+=String.fromCharCode(R),R=n,V=0),C===S.length-1&&(R=n,N+=S.charAt(C-(V-1)),C-=V-1,V=0)):(R=n,N+=S.charAt(C-V),C-=V,V=0);return N};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(S,C,R){return o(S)?s(S)===!1?-1:!h(S)||!o(C)&&!o(R)||!o(R)&&l(C)||l(S)&&!o(C)||l(S)&&c(C)||l(S)&&l(C)?0:f(S)&&o(C)&&!l(C)&&o(R)&&h(R)?3:l(S)||!o(R)?1:2:-1},v=function(S){var C=0,R=0,N=0,V="",H="",ie="",ce=(S=S||"").split("\\s+"),B=[];for(C=0;C<ce.length;C+=1){for(B.push(""),R=0;R<ce[C].length;R+=1)V=ce[C][R],H=ce[C][R-1],ie=ce[C][R+1],o(V)?(N=y(V,H,ie),B[C]+=N!==-1?String.fromCharCode(e[V.charCodeAt(0)][N]):V):B[C]+=V;B[C]=p(B[C])}return B.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var S,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,R=[];if(Array.isArray(C)){var N=0;for(R=[],N=0;N<C.length;N+=1)Array.isArray(C[N])?R.push([v(C[N][0]),C[N][1],C[N][2]]):R.push([v(C[N])]);S=R}else S=v(C);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",E])}(Lt.API),Lt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Lt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(S){v=S}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(S){E=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,h){r.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,v=0,E=0,S=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var R=h.maxWidth;R>0?typeof c=="string"?c=this.splitTextToSize(c,R):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(V,H){return V.concat(C.splitTextToSize(H,R))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)v<(S=this.getStringUnitWidth(c[N],{font:p})*f)&&(v=S);return v!==0&&(E=c.length),{w:v/=y,h:Math.max((E*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,v&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,h,f,p,y){if(r.call(this),!f)throw new Error("No data for PDF table.");var v,E,S,C,R=[],N=[],V=[],H={},ie={},ce=[],B=[],O=(y=y||{}).autoSize||!1,U=y.printHeaders!==!1,Q=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,L=y.margins||Object.assign({width:this.getPageWidth()},e),I=typeof y.padding=="number"?y.padding:3,M=y.headerBackgroundColor||"#c8c8c8",ee=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=ee,this.setFontSize(Q),p==null)N=R=Object.keys(f[0]),V=R.map(function(){return"left"});else if(Array.isArray(p)&&Fn(p[0])==="object")for(R=p.map(function(ye){return ye.name}),N=p.map(function(ye){return ye.prompt||ye.name||""}),V=p.map(function(ye){return ye.align||"left"}),v=0;v<p.length;v+=1)ie[p[v].name]=p[v].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(N=R=p,V=R.map(function(){return"left"}));if(O||Array.isArray(p)&&typeof p[0]=="string")for(v=0;v<R.length;v+=1){for(H[C=R[v]]=f.map(function(ye){return ye[C]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(N[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=H[C],this.setFont(void 0,"normal"),S=0;S<E.length;S+=1)ce.push(this.getTextDimensions(E[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ie[C]=Math.max.apply(null,ce)+I+I,ce=[]}if(U){var Se={};for(v=0;v<R.length;v+=1)Se[R[v]]={},Se[R[v]].text=N[v],Se[R[v]].align=V[v];var ve=l.call(this,Se,ie);B=R.map(function(ye){return new s(c,h,ie[ye],ve,Se[ye].text,void 0,Se[ye].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var Pe=p.reduce(function(ye,re){return ye[re.name]=re.align,ye},{});for(v=0;v<f.length;v+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:v,data:f[v]},this);var oe=l.call(this,f[v],ie);for(S=0;S<R.length;S+=1){var we=f[v][R[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:v,col:S,data:we},this),o.call(this,new s(c,h,ie[R[S]],oe,we,v+2,Pe[R[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(v){var E=c[v];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,h[v]-f-f)},this).map(function(v){return this.getLineHeightFactor()*v.length*p/y+f+f},this).reduce(function(v,E){return Math.max(v,E)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){f=this.internal.__cell__.tableHeaderRow[v].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(E)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(Lt.API);var MP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},FP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],S2=jP(FP),VP=[100,200,300,400,500,600,700,800,900],LH=jP(VP);function A2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return MP[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof S2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function vA(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var DH={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _A(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function OH(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},DH,n.genericFontFamilies||{}),s=null,o=null,l=0;l<e.length;++l)if(i[(s=A2(e[l])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+_A(s)+"' and default family '"+r+"'.");if(o=function(c,h){if(h[c])return h[c];var f=S2[c],p=f<=S2.normal?-1:1,y=vA(h,FP,f,p);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(s.stretch,o),o=function(c,h){if(h[c])return h[c];for(var f=MP[c],p=0;p<f.length;++p)if(h[f[p]])return h[f[p]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var f=LH[c],p=vA(h,VP,f,c<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+c);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+_A(s)+"'.");return o}function bA(t){return t.trimLeft()}function jH(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function MH(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Zm,xA,SA,tv=["times"];(function(t){var e,n,r,i,s,o,l,c,h,f=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new f}]);var p=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=F;Object.defineProperty(this,"pdf",{get:function(){return X}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(Fe){ne=!!Fe}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(Fe){le=!!Fe}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Fe){isNaN(Fe)||(he=Fe)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(Fe){isNaN(Fe)||(Ae=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Fe){var ue;typeof Fe=="number"?ue=[Fe,Fe,Fe,Fe]:((ue=new Array(4))[0]=Fe[0],ue[1]=Fe.length>=2?Fe[1]:ue[0],ue[2]=Fe.length>=3?Fe[2]:ue[0],ue[3]=Fe.length>=4?Fe[3]:ue[1]),h.margin=ue}});var Te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Te},set:function(Fe){Te=Fe}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Fe){Ce=Fe}});var He=[];Object.defineProperty(this,"pageBreaks",{get:function(){return He},set:function(Fe){He=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Fe){Fe instanceof f&&(h=Fe)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Fe){h.path=Fe}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(Fe){$e=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var ue;ue=y(Fe),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var ue=y(Fe);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var nt=null;function tt(Fe,ue){if(nt===null){var Dt=function(mt){var Xe=[];return Object.keys(mt).forEach(function(Ze){mt[Ze].forEach(function(rt){var ot=null;switch(rt){case"bold":ot={family:Ze,weight:"bold"};break;case"italic":ot={family:Ze,style:"italic"};break;case"bolditalic":ot={family:Ze,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:Ze}}ot!==null&&(ot.ref={name:Ze,style:rt},Xe.push(ot))})}),Xe}(Fe.getFontList());nt=function(mt){for(var Xe={},Ze=0;Ze<mt.length;++Ze){var rt=A2(mt[Ze]),ot=rt.family,vt=rt.stretch,Rt=rt.style,Ut=rt.weight;Xe[ot]=Xe[ot]||{},Xe[ot][vt]=Xe[ot][vt]||{},Xe[ot][vt][Rt]=Xe[ot][vt][Rt]||{},Xe[ot][vt][Rt][Ut]=rt}return Xe}(Dt.concat(ue))}return nt}var xt=null;Object.defineProperty(this,"fontFaces",{get:function(){return xt},set:function(Fe){nt=null,xt=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var ue;if(this.ctx.font=Fe,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var Dt=ue[1];ue[2];var mt=ue[3],Xe=ue[4];ue[5];var Ze=ue[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(rt==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var ot=function(Pt){var qt,at,ir=[],en=Pt.trim();if(en==="")return tv;if(en in wA)return[wA[en]];for(;en!=="";){switch(at=null,qt=(en=bA(en)).charAt(0)){case'"':case"'":at=jH(en.substring(1),qt);break;default:at=MH(en)}if(at===null||(ir.push(at[0]),(en=bA(at[1]))!==""&&en.charAt(0)!==","))return tv;en=en.replace(/^,/,"")}return ir}(Ze);if(this.fontFaces){var vt=OH(tt(this.pdf,this.fontFaces),ot.map(function(Pt){return{family:Pt,stretch:"normal",weight:mt,style:Dt}}));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var Rt="";(mt==="bold"||parseInt(mt,10)>=700||Dt==="bold")&&(Rt="bold"),Dt==="italic"&&(Rt+="italic"),Rt.length===0&&(Rt="normal");for(var Ut="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ct=0;Ct<ot.length;Ct++){if(this.pdf.internal.getFont(ot[Ct],Rt,{noFallback:!0,disableWarning:!0})!==void 0){Ut=ot[Ct];break}if(Rt==="bolditalic"&&this.pdf.internal.getFont(ot[Ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ut=ot[Ct],Rt="bold";else if(this.pdf.internal.getFont(ot[Ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ut=ot[Ct],Rt="normal";break}}if(Ut===""){for(var Zt=0;Zt<ot.length;Zt++)if(bt[ot[Zt]]){Ut=bt[ot[Zt]];break}}Ut=Ut===""?"Times":Ut,this.pdf.setFont(Ut,Rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};p.prototype.setLineDash=function(F){this.lineDash=F},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){H.call(this,"fill",!1)},p.prototype.stroke=function(){H.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(F,X){if(isNaN(F)||isNaN(X))throw Hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new o(F,X));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(F,X)},p.prototype.closePath=function(){var F=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Fn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){F=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},p.prototype.lineTo=function(F,X){if(isNaN(F)||isNaN(X))throw Hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new o(F,X));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},p.prototype.quadraticCurveTo=function(F,X,ne,le){if(isNaN(ne)||isNaN(le)||isNaN(F)||isNaN(X))throw Hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new o(ne,le)),Ae=this.ctx.transform.applyToPoint(new o(F,X));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},p.prototype.bezierCurveTo=function(F,X,ne,le,he,Ae){if(isNaN(he)||isNaN(Ae)||isNaN(F)||isNaN(X)||isNaN(ne)||isNaN(le))throw Hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Te=this.ctx.transform.applyToPoint(new o(he,Ae)),Ce=this.ctx.transform.applyToPoint(new o(F,X)),He=this.ctx.transform.applyToPoint(new o(ne,le));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:He.x,y2:He.y,x:Te.x,y:Te.y}),this.ctx.lastPoint=new o(Te.x,Te.y)},p.prototype.arc=function(F,X,ne,le,he,Ae){if(isNaN(F)||isNaN(X)||isNaN(ne)||isNaN(le)||isNaN(he))throw Hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var Te=this.ctx.transform.applyToPoint(new o(F,X));F=Te.x,X=Te.y;var Ce=this.ctx.transform.applyToPoint(new o(0,ne)),He=this.ctx.transform.applyToPoint(new o(0,0));ne=Math.sqrt(Math.pow(Ce.x-He.x,2)+Math.pow(Ce.y-He.y,2))}Math.abs(he-le)>=2*Math.PI&&(le=0,he=2*Math.PI),this.path.push({type:"arc",x:F,y:X,radius:ne,startAngle:le,endAngle:he,counterclockwise:Ae})},p.prototype.arcTo=function(F,X,ne,le,he){throw new Error("arcTo not implemented.")},p.prototype.rect=function(F,X,ne,le){if(isNaN(F)||isNaN(X)||isNaN(ne)||isNaN(le))throw Hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,X),this.lineTo(F+ne,X),this.lineTo(F+ne,X+le),this.lineTo(F,X+le),this.lineTo(F,X),this.lineTo(F+ne,X),this.lineTo(F,X)},p.prototype.fillRect=function(F,X,ne,le){if(isNaN(F)||isNaN(X)||isNaN(ne)||isNaN(le))throw Hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,X,ne,le),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},p.prototype.strokeRect=function(F,X,ne,le){if(isNaN(F)||isNaN(X)||isNaN(ne)||isNaN(le))throw Hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(F,X,ne,le),this.stroke())},p.prototype.clearRect=function(F,X,ne,le){if(isNaN(F)||isNaN(X)||isNaN(ne)||isNaN(le))throw Hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,X,ne,le))},p.prototype.save=function(F){F=typeof F!="boolean"||F;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},p.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(X),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(F){var X,ne,le,he;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))X=0,ne=0,le=0,he=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(Ae!==null)X=parseInt(Ae[1]),ne=parseInt(Ae[2]),le=parseInt(Ae[3]),he=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)X=parseInt(Ae[1]),ne=parseInt(Ae[2]),le=parseInt(Ae[3]),he=parseFloat(Ae[4]);else{if(he=1,typeof F=="string"&&F.charAt(0)!=="#"){var Te=new IP(F);F=Te.ok?Te.toHex():"#000000"}F.length===4?(X=F.substring(1,2),X+=X,ne=F.substring(2,3),ne+=ne,le=F.substring(3,4),le+=le):(X=F.substring(1,3),ne=F.substring(3,5),le=F.substring(5,7)),X=parseInt(X,16),ne=parseInt(ne,16),le=parseInt(le,16)}}return{r:X,g:ne,b:le,a:he,style:F}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(F,X,ne,le){if(isNaN(X)||isNaN(ne)||typeof F!="string")throw Hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!v.call(this)){var he=oe(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;I.call(this,{text:F,x:X,y:ne,scale:Ae,angle:he,align:this.textAlign,maxWidth:le})}},p.prototype.strokeText=function(F,X,ne,le){if(isNaN(X)||isNaN(ne)||typeof F!="string")throw Hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){le=isNaN(le)?void 0:le;var he=oe(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;I.call(this,{text:F,x:X,y:ne,scale:Ae,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:le})}},p.prototype.measureText=function(F){if(typeof F!="string")throw Hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,ne=this.pdf.internal.scaleFactor,le=X.internal.getFontSize(),he=X.getStringUnitWidth(F)*le/X.internal.scaleFactor,Ae=function(Te){var Ce=(Te=Te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new Ae({width:he*=Math.round(96*ne/72*1e4)/1e4})},p.prototype.scale=function(F,X){if(isNaN(F)||isNaN(X))throw Hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new c(F,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},p.prototype.rotate=function(F){if(isNaN(F))throw Hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.translate=function(F,X){if(isNaN(F)||isNaN(X))throw Hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new c(1,0,0,1,F,X);this.ctx.transform=this.ctx.transform.multiply(ne)},p.prototype.transform=function(F,X,ne,le,he,Ae){if(isNaN(F)||isNaN(X)||isNaN(ne)||isNaN(le)||isNaN(he)||isNaN(Ae))throw Hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Te=new c(F,X,ne,le,he,Ae);this.ctx.transform=this.ctx.transform.multiply(Te)},p.prototype.setTransform=function(F,X,ne,le,he,Ae){F=isNaN(F)?1:F,X=isNaN(X)?0:X,ne=isNaN(ne)?0:ne,le=isNaN(le)?1:le,he=isNaN(he)?0:he,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new c(F,X,ne,le,he,Ae)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(F,X,ne,le,he,Ae,Te,Ce,He){var $e=this.pdf.getImageProperties(F),nt=1,tt=1,xt=1,Fe=1;le!==void 0&&Ce!==void 0&&(xt=Ce/le,Fe=He/he,nt=$e.width/le*Ce/le,tt=$e.height/he*He/he),Ae===void 0&&(Ae=X,Te=ne,X=0,ne=0),le!==void 0&&Ce===void 0&&(Ce=le,He=he),le===void 0&&Ce===void 0&&(Ce=$e.width,He=$e.height);for(var ue,Dt=this.ctx.transform.decompose(),mt=oe(Dt.rotate.shx),Xe=new c,Ze=(Xe=(Xe=(Xe=Xe.multiply(Dt.translate)).multiply(Dt.skew)).multiply(Dt.scale)).applyToRectangle(new l(Ae-X*xt,Te-ne*Fe,le*nt,he*tt)),rt=C.call(this,Ze),ot=[],vt=0;vt<rt.length;vt+=1)ot.indexOf(rt[vt])===-1&&ot.push(rt[vt]);if(V(ot),this.autoPaging)for(var Rt=ot[0],Ut=ot[ot.length-1],bt=Rt;bt<Ut+1;bt++){this.pdf.setPage(bt);var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zt=bt===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=bt===1?0:Pt+(bt-2)*qt;if(this.ctx.clip_path.length!==0){var ir=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ue,this.posX+this.margin[3],-at+Zt+this.ctx.prevPageLastElemOffset),ie.call(this,"fill",!0),this.path=ir}var en=JSON.parse(JSON.stringify(Ze));en=N([en],this.posX+this.margin[3],-at+Zt+this.ctx.prevPageLastElemOffset)[0];var Si=(bt>Rt||bt<Ut)&&S.call(this);Si&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,qt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",en.x,en.y,en.w,en.h,null,null,mt),Si&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,mt)};var C=function(F,X,ne){var le=[];X=X||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":le.push(Math.floor((F.y+he)/ne)+1);break;case"arc":le.push(Math.floor((F.y+he-F.radius)/ne)+1),le.push(Math.floor((F.y+he+F.radius)/ne)+1);break;case"qct":var Ae=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);le.push(Math.floor((Ae.y+he)/ne)+1),le.push(Math.floor((Ae.y+Ae.h+he)/ne)+1);break;case"bct":var Te=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);le.push(Math.floor((Te.y+he)/ne)+1),le.push(Math.floor((Te.y+Te.h+he)/ne)+1);break;case"rect":le.push(Math.floor((F.y+he)/ne)+1),le.push(Math.floor((F.y+F.h+he)/ne)+1)}for(var Ce=0;Ce<le.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<le[Ce];)R.call(this);return le},R=function(){var F=this.fillStyle,X=this.strokeStyle,ne=this.font,le=this.lineCap,he=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=X,this.font=ne,this.lineCap=le,this.lineWidth=he,this.lineJoin=Ae},N=function(F,X,ne){for(var le=0;le<F.length;le++)switch(F[le].type){case"bct":F[le].x2+=X,F[le].y2+=ne;case"qct":F[le].x1+=X,F[le].y1+=ne;case"mt":case"lt":case"arc":default:F[le].x+=X,F[le].y+=ne}return F},V=function(F){return F.sort(function(X,ne){return X-ne})},H=function(F,X){for(var ne,le,he=this.fillStyle,Ae=this.strokeStyle,Te=this.lineCap,Ce=this.lineWidth,He=Math.abs(Ce*this.ctx.transform.scaleX),$e=this.lineJoin,nt=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),xt=[],Fe=0;Fe<tt.length;Fe++)if(tt[Fe].x!==void 0)for(var ue=C.call(this,tt[Fe]),Dt=0;Dt<ue.length;Dt+=1)xt.indexOf(ue[Dt])===-1&&xt.push(ue[Dt]);for(var mt=0;mt<xt.length;mt++)for(;this.pdf.internal.getNumberOfPages()<xt[mt];)R.call(this);if(V(xt),this.autoPaging)for(var Xe=xt[0],Ze=xt[xt.length-1],rt=Xe;rt<Ze+1;rt++){this.pdf.setPage(rt),this.fillStyle=he,this.strokeStyle=Ae,this.lineCap=Te,this.lineWidth=He,this.lineJoin=$e;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=rt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=rt===1?0:Rt+(rt-2)*Ut;if(this.ctx.clip_path.length!==0){var Ct=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ne,this.posX+this.margin[3],-bt+vt+this.ctx.prevPageLastElemOffset),ie.call(this,F,!0),this.path=Ct}if(le=JSON.parse(JSON.stringify(nt)),this.path=N(le,this.posX+this.margin[3],-bt+vt+this.ctx.prevPageLastElemOffset),X===!1||rt===0){var Zt=(rt>Xe||rt<Ze)&&S.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ut,null).clip().discardPath()),ie.call(this,F,X),Zt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=He,ie.call(this,F,X),this.lineWidth=Ce;this.path=nt},ie=function(F,X){if((F!=="stroke"||X||!E.call(this))&&(F==="stroke"||X||!v.call(this))){for(var ne,le,he=[],Ae=this.path,Te=0;Te<Ae.length;Te++){var Ce=Ae[Te];switch(Ce.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Ce,deltas:[],abs:[]});break;case"lt":var He=he.length;if(Ae[Te-1]&&!isNaN(Ae[Te-1].x)&&(ne=[Ce.x-Ae[Te-1].x,Ce.y-Ae[Te-1].y],He>0)){for(;He>=0;He--)if(he[He-1].close!==!0&&he[He-1].begin!==!0){he[He-1].deltas.push(ne),he[He-1].abs.push(Ce);break}}break;case"bct":ne=[Ce.x1-Ae[Te-1].x,Ce.y1-Ae[Te-1].y,Ce.x2-Ae[Te-1].x,Ce.y2-Ae[Te-1].y,Ce.x-Ae[Te-1].x,Ce.y-Ae[Te-1].y],he[he.length-1].deltas.push(ne);break;case"qct":var $e=Ae[Te-1].x+2/3*(Ce.x1-Ae[Te-1].x),nt=Ae[Te-1].y+2/3*(Ce.y1-Ae[Te-1].y),tt=Ce.x+2/3*(Ce.x1-Ce.x),xt=Ce.y+2/3*(Ce.y1-Ce.y),Fe=Ce.x,ue=Ce.y;ne=[$e-Ae[Te-1].x,nt-Ae[Te-1].y,tt-Ae[Te-1].x,xt-Ae[Te-1].y,Fe-Ae[Te-1].x,ue-Ae[Te-1].y],he[he.length-1].deltas.push(ne);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Ce)}}le=X?null:F==="stroke"?"stroke":"fill";for(var Dt=!1,mt=0;mt<he.length;mt++)if(he[mt].arc)for(var Xe=he[mt].abs,Ze=0;Ze<Xe.length;Ze++){var rt=Xe[Ze];rt.type==="arc"?O.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,X,!Dt):M.call(this,rt.x,rt.y),Dt=!0}else if(he[mt].close===!0)this.pdf.internal.out("h"),Dt=!1;else if(he[mt].begin!==!0){var ot=he[mt].start.x,vt=he[mt].start.y;ee.call(this,he[mt].deltas,ot,vt),Dt=!0}le&&U.call(this,le),X&&Q.call(this)}},ce=function(F){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-ne;case"top":return F+X-ne;case"hanging":return F+X-2*ne;case"middle":return F+X/2-ne;case"ideographic":return F;case"alphabetic":default:return F}},B=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(X,ne){this.colorStops.push([X,ne])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(F,X,ne,le,he,Ae,Te,Ce,He){for(var $e=ve.call(this,ne,le,he,Ae),nt=0;nt<$e.length;nt++){var tt=$e[nt];nt===0&&(He?L.call(this,tt.x1+F,tt.y1+X):M.call(this,tt.x1+F,tt.y1+X)),Se.call(this,F,X,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}Ce?Q.call(this):U.call(this,Te)},U=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(F,X){this.pdf.internal.out(n(F)+" "+r(X)+" m")},I=function(F){var X;switch(F.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var ne=this.pdf.getTextDimensions(F.text),le=ce.call(this,F.y),he=B.call(this,le)-ne.h,Ae=this.ctx.transform.applyToPoint(new o(F.x,le)),Te=this.ctx.transform.decompose(),Ce=new c;Ce=(Ce=(Ce=Ce.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var He,$e,nt,tt=this.ctx.transform.applyToRectangle(new l(F.x,le,ne.w,ne.h)),xt=Ce.applyToRectangle(new l(F.x,he,ne.w,ne.h)),Fe=C.call(this,xt),ue=[],Dt=0;Dt<Fe.length;Dt+=1)ue.indexOf(Fe[Dt])===-1&&ue.push(Fe[Dt]);if(V(ue),this.autoPaging)for(var mt=ue[0],Xe=ue[ue.length-1],Ze=mt;Ze<Xe+1;Ze++){this.pdf.setPage(Ze);var rt=Ze===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],Rt=vt-this.margin[0],Ut=this.pdf.internal.pageSize.width-this.margin[1],bt=Ut-this.margin[3],Ct=Ze===1?0:ot+(Ze-2)*Rt;if(this.ctx.clip_path.length!==0){var Zt=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(He,this.posX+this.margin[3],-1*Ct+rt),ie.call(this,"fill",!0),this.path=Zt}var Pt=N([JSON.parse(JSON.stringify(xt))],this.posX+this.margin[3],-Ct+rt+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*F.scale),nt=this.lineWidth,this.lineWidth=nt*F.scale);var qt=this.autoPaging!=="text";if(qt||Pt.y+Pt.h<=vt){if(qt||Pt.y>=rt&&Pt.x<=Ut){var at=qt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ut-Pt.x)[0],ir=N([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-Ct+rt+this.ctx.prevPageLastElemOffset)[0],en=qt&&(Ze>mt||Ze<Xe)&&S.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Rt,null).clip().discardPath()),this.pdf.text(at,ir.x,ir.y,{angle:F.angle,align:X,renderingMode:F.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else Pt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-Pt.y);F.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=nt)}else F.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*F.scale),nt=this.lineWidth,this.lineWidth=nt*F.scale),this.pdf.text(F.text,Ae.x+this.posX,Ae.y+this.posY,{angle:F.angle,align:X,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=nt)},M=function(F,X,ne,le){ne=ne||0,le=le||0,this.pdf.internal.out(n(F+ne)+" "+r(X+le)+" l")},ee=function(F,X,ne){return this.pdf.lines(F,X,ne,null,null)},Se=function(F,X,ne,le,he,Ae,Te,Ce){this.pdf.internal.out([e(i(ne+F)),e(s(le+X)),e(i(he+F)),e(s(Ae+X)),e(i(Te+F)),e(s(Ce+X)),"c"].join(" "))},ve=function(F,X,ne,le){for(var he=2*Math.PI,Ae=Math.PI/2;X>ne;)X-=he;var Te=Math.abs(ne-X);Te<he&&le&&(Te=he-Te);for(var Ce=[],He=le?-1:1,$e=X;Te>1e-5;){var nt=$e+He*Math.min(Te,Ae);Ce.push(Pe.call(this,F,$e,nt)),Te-=Math.abs(nt-$e),$e=nt}return Ce},Pe=function(F,X,ne){var le=(ne-X)/2,he=F*Math.cos(le),Ae=F*Math.sin(le),Te=he,Ce=-Ae,He=Te*Te+Ce*Ce,$e=He+Te*he+Ce*Ae,nt=4/3*(Math.sqrt(2*He*$e)-$e)/(Te*Ae-Ce*he),tt=Te-nt*Ce,xt=Ce+nt*Te,Fe=tt,ue=-xt,Dt=le+X,mt=Math.cos(Dt),Xe=Math.sin(Dt);return{x1:F*Math.cos(X),y1:F*Math.sin(X),x2:tt*mt-xt*Xe,y2:tt*Xe+xt*mt,x3:Fe*mt-ue*Xe,y3:Fe*Xe+ue*mt,x4:F*Math.cos(ne),y4:F*Math.sin(ne)}},oe=function(F){return 180*F/Math.PI},we=function(F,X,ne,le,he,Ae){var Te=F+.5*(ne-F),Ce=X+.5*(le-X),He=he+.5*(ne-he),$e=Ae+.5*(le-Ae),nt=Math.min(F,he,Te,He),tt=Math.max(F,he,Te,He),xt=Math.min(X,Ae,Ce,$e),Fe=Math.max(X,Ae,Ce,$e);return new l(nt,xt,tt-nt,Fe-xt)},ye=function(F,X,ne,le,he,Ae,Te,Ce){var He,$e,nt,tt,xt,Fe,ue,Dt,mt,Xe,Ze,rt,ot,vt,Rt=ne-F,Ut=le-X,bt=he-ne,Ct=Ae-le,Zt=Te-he,Pt=Ce-Ae;for($e=0;$e<41;$e++)mt=(ue=(nt=F+(He=$e/40)*Rt)+He*((xt=ne+He*bt)-nt))+He*(xt+He*(he+He*Zt-xt)-ue),Xe=(Dt=(tt=X+He*Ut)+He*((Fe=le+He*Ct)-tt))+He*(Fe+He*(Ae+He*Pt-Fe)-Dt),$e==0?(Ze=mt,rt=Xe,ot=mt,vt=Xe):(Ze=Math.min(Ze,mt),rt=Math.min(rt,Xe),ot=Math.max(ot,mt),vt=Math.max(vt,Xe));return new l(Math.round(Ze),Math.round(rt),Math.round(ot-Ze),Math.round(vt-rt))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,X,ne=(F=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:X}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(Lt.API),function(t){var e=function(s){var o,l,c,h,f,p,y,v,E,S;for(l=[],c=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(S=f%85))/85)-(E=f%85))/85)-(v=f%85))/85)-(y=f%85))/85)%85,l.push(p+33,y+33,v+33,E+33,S+33)):l.push(122);return function(C,R){for(var N=R;N>0;N--)C.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var o,l,c,h,f,p=String,y="length",v=255,E="charCodeAt",S="slice",C="replace";for(s[S](-2),s=s[S](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),c=[],h=0,f=(s+=o="uuuuu"[S](s[y]%5||5))[y];f>h;h+=5)l=52200625*(s[E](h)-33)+614125*(s[E](h+1)-33)+7225*(s[E](h+2)-33)+85*(s[E](h+3)-33)+(s[E](h+4)-33),c.push(v&l>>24,v&l>>16,v&l>>8,v&l);return function(R,N){for(var V=N;V>0;V--)R.pop()}(c,o[y]),p.fromCharCode.apply(p,c)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return s=(o=v2(o)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Lt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,h,f){var p=new XMLHttpRequest,y=0,v=function(E){var S=E.length,C=[],R=String.fromCharCode;for(y=0;y<S;y+=1)C.push(R(255&E.charCodeAt(y)));return C.join("")};if(p.open("GET",c,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?f(v(this.responseText)):f(void 0)}),p.send(null),h&&p.status===200)return v(p.responseText)}(i,s,o)}catch{}return l}(e,n,r)},t.loadImageFile=t.loadFile}(Lt.API),function(t){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):d2(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):d2(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=Fn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(h,f){for(var p=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),y=h.firstChild;y;y=y.nextSibling)f!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(c(y,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(p.value=h.value),p.addEventListener("load",function(){p.scrollTop=h.scrollTop,p.scrollLeft=h.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var y=0;y<h.length;++y){var v=h[y],E=v.src.find(function(S){return S.format==="truetype"});E&&c.addFont(E.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(o=o||Lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,h){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(h,f){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,h),p}).then(h,f).then(function(p){return c.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=c.call(h,o,l);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Lt.getPageSize=function(o,l,c){if(Fn(o)==="object"){var h=o;o=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var v,E=0,S=0;if(y.hasOwnProperty(p))E=y[p][1]/f,S=y[p][0]/f;else try{E=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",S>E&&(v=S,S=E,E=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",E>S&&(v=S,S=E,E=v)}return{width:S,height:E,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(A2):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(Lt.API),Lt.API.addJS=function(t){return SA=t,this.internal.events.subscribe("postPutResources",function(){Zm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+SA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zm!==void 0&&xA!==void 0&&this.internal.out("/Names <</JavaScript "+Zm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=r.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(s=0;s<h;s++){var p=n.internal.newObject();f.push(p);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var v=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<f.length;s++)n.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+v+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Lt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,l){var c,h=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(p){for(var y,v=256*p.charCodeAt(4)+p.charCodeAt(5),E=p.length,S={width:0,height:0,numcomponents:1},C=4;C<E;C+=2){if(C+=v,e.indexOf(p.charCodeAt(C+1))!==-1){y=256*p.charCodeAt(C+5)+p.charCodeAt(C+6),S={width:256*p.charCodeAt(C+7)+p.charCodeAt(C+8),height:y,numcomponents:p.charCodeAt(C+9)};break}v=256*p.charCodeAt(C+2)+p.charCodeAt(C+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:r,alias:i}}return f}}(Lt.API);var Tf,eg,AA,EA,TA,FH=function(){var t,e,n;function r(s){var o,l,c,h,f,p,y,v,E,S,C,R,N,V;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),E=(function(){var H,ie;for(ie=[],H=0;H<4;++H)ie.push(String.fromCharCode(this.data[this.pos++]));return ie}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),h=this.readUInt16()||100,p.delay=1e3*f/h,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,o-=4),s=p?.data||this.imgData,R=0;0<=o?R<o:R>o;0<=o?++R:--R)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((S=c-this.transparency.indexed.length)>0)for(N=0;0<=S?N<S:N>S;0<=S?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":y=(C=this.read(o)).indexOf(0),v=String.fromCharCode.apply(String,C.slice(0,y)),this.text[v]=String.fromCharCode.apply(String,C.slice(y+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(V=this.colorType)===4||V===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,l;for(l=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(p,y,v,E){var S,C,R,N,V,H,ie,ce,B,O,U,Q,L,I,M,ee,Se,ve,Pe,oe,we,ye=Math.ceil((h.width-p)/v),re=Math.ceil((h.height-y)/E),F=h.width==ye&&h.height==re;for(I=o*ye,Q=F?l:new Uint8Array(I*re),H=s.length,L=0,C=0;L<re&&c<H;){switch(s[c++]){case 0:for(N=Se=0;Se<I;N=Se+=1)Q[C++]=s[c++];break;case 1:for(N=ve=0;ve<I;N=ve+=1)S=s[c++],V=N<o?0:Q[C-o],Q[C++]=(S+V)%256;break;case 2:for(N=Pe=0;Pe<I;N=Pe+=1)S=s[c++],R=(N-N%o)/o,M=L&&Q[(L-1)*I+R*o+N%o],Q[C++]=(M+S)%256;break;case 3:for(N=oe=0;oe<I;N=oe+=1)S=s[c++],R=(N-N%o)/o,V=N<o?0:Q[C-o],M=L&&Q[(L-1)*I+R*o+N%o],Q[C++]=(S+Math.floor((V+M)/2))%256;break;case 4:for(N=we=0;we<I;N=we+=1)S=s[c++],R=(N-N%o)/o,V=N<o?0:Q[C-o],L===0?M=ee=0:(M=Q[(L-1)*I+R*o+N%o],ee=R&&Q[(L-1)*I+(R-1)*o+N%o]),ie=V+M-ee,ce=Math.abs(ie-V),O=Math.abs(ie-M),U=Math.abs(ie-ee),B=ce<=O&&ce<=U?V:O<=U?M:ee,Q[C++]=(S+B)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!F){var X=((y+L*E)*h.width+p)*o,ne=L*I;for(N=0;N<ye;N+=1){for(var le=0;le<o;le+=1)l[X++]=Q[ne++];X+=(v-1)*o}}L++}}return s=gH(s),h.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},r.prototype.decodePalette=function(){var s,o,l,c,h,f,p,y,v;for(l=this.palette,f=this.transparency.indexed||[],h=new Uint8Array((f.length||0)+l.length),c=0,s=0,o=p=0,y=l.length;p<y;o=p+=3)h[c++]=l[o],h[c++]=l[o+1],h[c++]=l[o+2],h[c++]=(v=f[s++])!=null?v:255;return h},r.prototype.copyToImageData=function(s,o){var l,c,h,f,p,y,v,E,S,C,R;if(c=this.colors,S=null,l=this.hasAlphaChannel,this.palette.length&&(S=(R=this._decodedPalette)!=null?R:this._decodedPalette=this.decodePalette(),c=4,l=!0),E=(h=s.data||s).length,p=S||o,f=y=0,c===1)for(;f<E;)v=S?4*o[f/4]:y,C=p[v++],h[f++]=C,h[f++]=C,h[f++]=C,h[f++]=l?p[v++]:255,y=v;else for(;f<E;)v=S?4*o[f/4]:y,h[f++]=p[v++],h[f++]=p[v++],h[f++]=p[v++],h[f++]=l?p[v++]:255,y=v},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{e=jt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,l,c,h,f,p,y,v;if(this.animation){for(v=[],l=f=0,p=(y=this.animation.frames).length;f<p;l=++f)o=y[l],c=s.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,h),o.imageData=c,v.push(o.image=t(c));return v}},r.prototype.renderFrame=function(s,o){var l,c,h;return l=(c=this.animation.frames)[o],h=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),h?.disposeOp===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):h?.disposeOp===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var o,l,c,h,f,p,y=this;return l=0,p=this.animation,h=p.numFrames,c=p.frames,f=p.numPlays,(o=function(){var v,E;if(v=l++%h,E=c[v],y.renderFrame(s,v),h>1&&l/h<f)return y.animation._timeout=setTimeout(o,E.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function VH(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var l=null,c=null;s&&(l=e,c=o,e+=3*o);var h=!0,f=[],p=0,y=null,v=0,E=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];p=t[e++]|t[e++]<<8,y=t[e++],(1&S)==0&&(y=null),v=S>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var C=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,V=t[e++]|t[e++]<<8,H=t[e++],ie=H>>6&1,ce=1<<(7&H)+1,B=l,O=c,U=!1;H>>7&&(U=!0,B=e,O=ce,e+=3*ce);var Q=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}f.push({x:C,y:R,width:N,height:V,has_local_palette:U,palette_offset:B,palette_size:O,data_offset:Q,data_length:e-Q,transparent_index:y,interlaced:!!ie,delay:p,disposal:v});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return E},this.frameInfo=function(I){if(I<0||I>=f.length)throw new Error("Frame index out of range.");return f[I]},this.decodeAndBlitFrameBGRA=function(I,M){var ee=this.frameInfo(I),Se=ee.width*ee.height,ve=new Uint8Array(Se);CA(t,ee.data_offset,ve,Se);var Pe=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var we=ee.width,ye=n-we,re=we,F=4*(ee.y*n+ee.x),X=4*((ee.y+ee.height)*n+ee.x),ne=F,le=4*ye;ee.interlaced===!0&&(le+=4*n*7);for(var he=8,Ae=0,Te=ve.length;Ae<Te;++Ae){var Ce=ve[Ae];if(re===0&&(re=we,(ne+=le)>=X&&(le=4*ye+4*n*(he-1),ne=F+(we+ye)*(he<<1),he>>=1)),Ce===oe)ne+=4;else{var He=t[Pe+3*Ce],$e=t[Pe+3*Ce+1],nt=t[Pe+3*Ce+2];M[ne++]=nt,M[ne++]=$e,M[ne++]=He,M[ne++]=255}--re}},this.decodeAndBlitFrameRGBA=function(I,M){var ee=this.frameInfo(I),Se=ee.width*ee.height,ve=new Uint8Array(Se);CA(t,ee.data_offset,ve,Se);var Pe=ee.palette_offset,oe=ee.transparent_index;oe===null&&(oe=256);var we=ee.width,ye=n-we,re=we,F=4*(ee.y*n+ee.x),X=4*((ee.y+ee.height)*n+ee.x),ne=F,le=4*ye;ee.interlaced===!0&&(le+=4*n*7);for(var he=8,Ae=0,Te=ve.length;Ae<Te;++Ae){var Ce=ve[Ae];if(re===0&&(re=we,(ne+=le)>=X&&(le=4*ye+4*n*(he-1),ne=F+(we+ye)*(he<<1),he>>=1)),Ce===oe)ne+=4;else{var He=t[Pe+3*Ce],$e=t[Pe+3*Ce+1],nt=t[Pe+3*Ce+2];M[ne++]=He,M[ne++]=$e,M[ne++]=nt,M[ne++]=255}--re}}}function CA(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,l=o+1,c=i+1,h=(1<<c)-1,f=0,p=0,y=0,v=t[e++],E=new Int32Array(4096),S=null;;){for(;f<16&&v!==0;)p|=t[e++]<<f,f+=8,v===1?v=t[e++]:--v;if(f<c)break;var C=p&h;if(p>>=c,f-=c,C!==s){if(C===o)break;for(var R=C<l?C:S,N=0,V=R;V>s;)V=E[V]>>8,++N;var H=V;if(y+N+(R!==C?1:0)>r)return void Hn.log("Warning, gif stream longer than expected.");n[y++]=H;var ie=y+=N;for(R!==C&&(n[y++]=H),V=R;N--;)V=E[V],n[--ie]=255&V,V>>=8;S!==null&&l<4096&&(E[l++]=S<<8|H,l>=h+1&&c<12&&(++c,h=h<<1|1)),S=C}else l=o+1,h=(1<<(c=i+1))-1,S=null}return y!==r&&Hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function nv(t){var e,n,r,i,s,o=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(64),p=new Array(65535),y=new Array(65535),v=new Array(64),E=new Array(64),S=[],C=0,R=7,N=new Array(64),V=new Array(64),H=new Array(64),ie=new Array(256),ce=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(F,X){for(var ne=0,le=0,he=new Array,Ae=1;Ae<=16;Ae++){for(var Te=1;Te<=F[Ae];Te++)he[X[le]]=[],he[X[le]][0]=ne,he[X[le]][1]=Ae,le++,ne++;ne*=2}return he}function Pe(F){for(var X=F[0],ne=F[1]-1;ne>=0;)X&1<<ne&&(C|=1<<R),ne--,--R<0&&(C==255?(oe(255),oe(0)):oe(C),R=7,C=0)}function oe(F){S.push(F)}function we(F){oe(F>>8&255),oe(255&F)}function ye(F,X,ne,le,he){for(var Ae,Te=he[0],Ce=he[240],He=function(Xe,Ze){var rt,ot,vt,Rt,Ut,bt,Ct,Zt,Pt,qt,at=0;for(Pt=0;Pt<8;++Pt){rt=Xe[at],ot=Xe[at+1],vt=Xe[at+2],Rt=Xe[at+3],Ut=Xe[at+4],bt=Xe[at+5],Ct=Xe[at+6];var ir=rt+(Zt=Xe[at+7]),en=rt-Zt,Si=ot+Ct,mn=ot-Ct,Pn=vt+bt,Bi=vt-bt,tn=Rt+Ut,ks=Rt-Ut,Dn=ir+tn,sr=ir-tn,qr=Si+Pn,On=Si-Pn;Xe[at]=Dn+qr,Xe[at+4]=Dn-qr;var At=.707106781*(On+sr);Xe[at+2]=sr+At,Xe[at+6]=sr-At;var sn=.382683433*((Dn=ks+Bi)-(On=mn+en)),hs=.5411961*Dn+sn,mr=1.306562965*On+sn,Hr=.707106781*(qr=Bi+mn),Ui=en+Hr,ht=en-Hr;Xe[at+5]=ht+hs,Xe[at+3]=ht-hs,Xe[at+1]=Ui+mr,Xe[at+7]=Ui-mr,at+=8}for(at=0,Pt=0;Pt<8;++Pt){rt=Xe[at],ot=Xe[at+8],vt=Xe[at+16],Rt=Xe[at+24],Ut=Xe[at+32],bt=Xe[at+40],Ct=Xe[at+48];var ai=rt+(Zt=Xe[at+56]),Ar=rt-Zt,Er=ot+Ct,Bn=ot-Ct,Un=vt+bt,Kn=vt-bt,Ro=Rt+Ut,oo=Rt-Ut,li=ai+Ro,zi=ai-Ro,gr=Er+Un,ui=Er-Un;Xe[at]=li+gr,Xe[at+32]=li-gr;var or=.707106781*(ui+zi);Xe[at+16]=zi+or,Xe[at+48]=zi-or;var fs=.382683433*((li=oo+Kn)-(ui=Bn+Ar)),ao=.5411961*li+fs,lo=1.306562965*ui+fs,uo=.707106781*(gr=Kn+Bn),Lo=Ar+uo,la=Ar-uo;Xe[at+40]=la+ao,Xe[at+24]=la-ao,Xe[at+8]=Lo+lo,Xe[at+56]=Lo-lo,at++}for(Pt=0;Pt<64;++Pt)qt=Xe[Pt]*Ze[Pt],v[Pt]=qt>0?qt+.5|0:qt-.5|0;return v}(F,X),$e=0;$e<64;++$e)E[B[$e]]=He[$e];var nt=E[0]-ne;ne=E[0],nt==0?Pe(le[0]):(Pe(le[y[Ae=32767+nt]]),Pe(p[Ae]));for(var tt=63;tt>0&&E[tt]==0;)tt--;if(tt==0)return Pe(Te),ne;for(var xt,Fe=1;Fe<=tt;){for(var ue=Fe;E[Fe]==0&&Fe<=tt;)++Fe;var Dt=Fe-ue;if(Dt>=16){xt=Dt>>4;for(var mt=1;mt<=xt;++mt)Pe(Ce);Dt&=15}Ae=32767+E[Fe],Pe(he[(Dt<<4)+y[Ae]]),Pe(p[Ae]),Fe++}return tt!=63&&Pe(Te),ne}function re(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(X){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var he=o((ne[le]*X+50)/100);he=Math.min(Math.max(he,1),255),l[B[le]]=he}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Te=0;Te<64;Te++){var Ce=o((Ae[Te]*X+50)/100);Ce=Math.min(Math.max(Ce,1),255),c[B[Te]]=Ce}for(var He=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,nt=0;nt<8;nt++)for(var tt=0;tt<8;tt++)h[$e]=1/(l[B[$e]]*He[nt]*He[tt]*8),f[$e]=1/(c[B[$e]]*He[nt]*He[tt]*8),$e++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,X){X&&re(X),S=new Array,C=0,R=7,we(65496),we(65504),we(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),we(1),we(1),oe(0),oe(0),function(){we(65499),we(132),oe(0);for(var ot=0;ot<64;ot++)oe(l[ot]);oe(1);for(var vt=0;vt<64;vt++)oe(c[vt])}(),function(ot,vt){we(65472),we(17),oe(8),we(vt),we(ot),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(F.width,F.height),function(){we(65476),we(418),oe(0);for(var ot=0;ot<16;ot++)oe(O[ot+1]);for(var vt=0;vt<=11;vt++)oe(U[vt]);oe(16);for(var Rt=0;Rt<16;Rt++)oe(Q[Rt+1]);for(var Ut=0;Ut<=161;Ut++)oe(L[Ut]);oe(1);for(var bt=0;bt<16;bt++)oe(I[bt+1]);for(var Ct=0;Ct<=11;Ct++)oe(M[Ct]);oe(17);for(var Zt=0;Zt<16;Zt++)oe(ee[Zt+1]);for(var Pt=0;Pt<=161;Pt++)oe(Se[Pt])}(),we(65498),we(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var ne=0,le=0,he=0;C=0,R=7,this.encode.displayName="_encode_";for(var Ae,Te,Ce,He,$e,nt,tt,xt,Fe,ue=F.data,Dt=F.width,mt=F.height,Xe=4*Dt,Ze=0;Ze<mt;){for(Ae=0;Ae<Xe;){for($e=Xe*Ze+Ae,tt=-1,xt=0,Fe=0;Fe<64;Fe++)nt=$e+(xt=Fe>>3)*Xe+(tt=4*(7&Fe)),Ze+xt>=mt&&(nt-=Xe*(Ze+1+xt-mt)),Ae+tt>=Xe&&(nt-=Ae+tt-Xe+4),Te=ue[nt++],Ce=ue[nt++],He=ue[nt++],N[Fe]=(ce[Te]+ce[Ce+256>>0]+ce[He+512>>0]>>16)-128,V[Fe]=(ce[Te+768>>0]+ce[Ce+1024>>0]+ce[He+1280>>0]>>16)-128,H[Fe]=(ce[Te+1280>>0]+ce[Ce+1536>>0]+ce[He+1792>>0]>>16)-128;ne=ye(N,h,ne,e,r),le=ye(V,f,le,n,i),he=ye(H,f,he,n,i),Ae+=32}Ze+=8}if(R>=0){var rt=[];rt[1]=R+1,rt[0]=(1<<R+1)-1,Pe(rt)}return we(65497),new Uint8Array(S)},t=t||50,function(){for(var F=String.fromCharCode,X=0;X<256;X++)ie[X]=F(X)}(),e=ve(O,U),n=ve(I,M),r=ve(Q,L),i=ve(ee,Se),function(){for(var F=1,X=2,ne=1;ne<=15;ne++){for(var le=F;le<X;le++)y[32767+le]=ne,p[32767+le]=[],p[32767+le][1]=ne,p[32767+le][0]=le;for(var he=-(X-1);he<=-F;he++)y[32767+he]=ne,p[32767+he]=[],p[32767+he][1]=ne,p[32767+he][0]=X-1+he;F<<=1,X<<=1}}(),function(){for(var F=0;F<256;F++)ce[F]=19595*F,ce[F+256>>0]=38470*F,ce[F+512>>0]=7471*F+32768,ce[F+768>>0]=-11059*F,ce[F+1024>>0]=-21709*F,ce[F+1280>>0]=32768*F+8421375,ce[F+1536>>0]=-27439*F,ce[F+1792>>0]=-5329*F}(),re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ma(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function PA(t){function e(O){if(!O)throw Error("assert :P")}function n(O,U,Q){for(var L=0;4>L;L++)if(O[U+L]!=Q.charCodeAt(L))return!0;return!1}function r(O,U,Q,L,I){for(var M=0;M<I;M++)O[U+M]=Q[L+M]}function i(O,U,Q,L){for(var I=0;I<L;I++)O[U+I]=Q}function s(O){return new Int32Array(O)}function o(O,U){for(var Q=[],L=0;L<O;L++)Q.push(new U);return Q}function l(O,U){var Q=[];return function L(I,M,ee){for(var Se=ee[M],ve=0;ve<Se&&(I.push(ee.length>M+1?[]:new U),!(ee.length<M+1));ve++)L(I[ve],M+1,ee)}(Q,0,O),Q}var c=function(){var O=this;function U(m,_){for(var T=1<<_-1>>>0;m&T;)T>>>=1;return T?(m&T-1)+T:m}function Q(m,_,T,D,z){e(!(D%T));do m[_+(D-=T)]=z;while(0<D)}function L(m,_,T,D,z){if(e(2328>=z),512>=z)var W=s(512);else if((W=s(z))==null)return 0;return function(G,K,J,te,de,Ne){var Ie,xe,qe=K,Oe=1<<J,me=s(16),ge=s(16);for(e(de!=0),e(te!=null),e(G!=null),e(0<J),xe=0;xe<de;++xe){if(15<te[xe])return 0;++me[te[xe]]}if(me[0]==de)return 0;for(ge[1]=0,Ie=1;15>Ie;++Ie){if(me[Ie]>1<<Ie)return 0;ge[Ie+1]=ge[Ie]+me[Ie]}for(xe=0;xe<de;++xe)Ie=te[xe],0<te[xe]&&(Ne[ge[Ie]++]=xe);if(ge[15]==1)return(te=new I).g=0,te.value=Ne[0],Q(G,qe,1,Oe,te),Oe;var Be,Ve=-1,Ue=Oe-1,ut=0,st=1,St=1,lt=1<<J;for(xe=0,Ie=1,de=2;Ie<=J;++Ie,de<<=1){if(st+=St<<=1,0>(St-=me[Ie]))return 0;for(;0<me[Ie];--me[Ie])(te=new I).g=Ie,te.value=Ne[xe++],Q(G,qe+ut,de,lt,te),ut=U(ut,Ie)}for(Ie=J+1,de=2;15>=Ie;++Ie,de<<=1){if(st+=St<<=1,0>(St-=me[Ie]))return 0;for(;0<me[Ie];--me[Ie]){if(te=new I,(ut&Ue)!=Ve){for(qe+=lt,Be=1<<(Ve=Ie)-J;15>Ve&&!(0>=(Be-=me[Ve]));)++Ve,Be<<=1;Oe+=lt=1<<(Be=Ve-J),G[K+(Ve=ut&Ue)].g=Be+J,G[K+Ve].value=qe-K-Ve}te.g=Ie-J,te.value=Ne[xe++],Q(G,qe+(ut>>J),de,lt,te),ut=U(ut,Ie)}}return st!=2*ge[15]-1?0:Oe}(m,_,T,D,z,W)}function I(){this.value=this.g=0}function M(){this.value=this.g=0}function ee(){this.G=o(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ur,M)}function Se(m,_,T,D){e(m!=null),e(_!=null),e(2147483648>D),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=_,m.pa=T,m.Jd=_,m.Yc=T+D,m.Zc=4<=D?T+D-4+1:T,Ae(m)}function ve(m,_){for(var T=0;0<_--;)T|=Ce(m,128)<<_;return T}function Pe(m,_){var T=ve(m,_);return Te(m)?-T:T}function oe(m,_,T,D){var z,W=0;for(e(m!=null),e(_!=null),e(4294967288>D),m.Sb=D,m.Ra=0,m.u=0,m.h=0,4<D&&(D=4),z=0;z<D;++z)W+=_[T+z]<<8*z;m.Ra=W,m.bb=D,m.oa=_,m.pa=T}function we(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Bu-8>>>0,++m.bb,m.u-=8;ne(m)&&(m.h=1,m.u=0)}function ye(m,_){if(e(0<=_),!m.h&&_<=Vu){var T=X(m)&Fu[_];return m.u+=_,we(m),T}return m.h=1,m.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(m){return m.Ra>>>(m.u&Bu-1)>>>0}function ne(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Bu}function le(m,_){m.u=_,m.h=ne(m)}function he(m){m.u>=Uu&&(e(m.u>=Uu),we(m))}function Ae(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Te(m){return ve(m,1)}function Ce(m,_){var T=m.Ca;0>m.b&&Ae(m);var D=m.b,z=T*_>>>8,W=(m.I>>>D>z)+0;for(W?(T-=z,m.I-=z+1<<D>>>0):T=z+1,D=T,z=0;256<=D;)z+=8,D>>=8;return D=7^z+Pi[D],m.b-=D,m.Ca=(T<<D)-1,W}function He(m,_,T){m[_+0]=T>>24&255,m[_+1]=T>>16&255,m[_+2]=T>>8&255,m[_+3]=T>>0&255}function $e(m,_){return m[_+0]<<0|m[_+1]<<8}function nt(m,_){return $e(m,_)|m[_+2]<<16}function tt(m,_){return $e(m,_)|$e(m,_+2)<<16}function xt(m,_){var T=1<<_;return e(m!=null),e(0<_),m.X=s(T),m.X==null?0:(m.Mb=32-_,m.Xa=_,1)}function Fe(m,_){e(m!=null),e(_!=null),e(m.Xa==_.Xa),r(_.X,0,m.X,0,1<<_.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function Dt(m,_,T,D){e(T!=null),e(D!=null);var z=T[0],W=D[0];return z==0&&(z=(m*W+_/2)/_),W==0&&(W=(_*z+m/2)/m),0>=z||0>=W?0:(T[0]=z,D[0]=W,1)}function mt(m,_){return m+(1<<_)-1>>>_}function Xe(m,_){return((4278255360&m)+(4278255360&_)>>>0&4278255360)+((16711935&m)+(16711935&_)>>>0&16711935)>>>0}function Ze(m,_){O[_]=function(T,D,z,W,G,K,J){var te;for(te=0;te<G;++te){var de=O[m](K[J+te-1],z,W+te);K[J+te]=Xe(T[D+te],de)}}}function rt(){this.ud=this.hd=this.jd=0}function ot(m,_){return((4278124286&(m^_))>>>1)+(m&_)>>>0}function vt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Rt(m,_){return vt(m+(m-_+.5>>1))}function Ut(m,_,T){return Math.abs(_-T)-Math.abs(m-T)}function bt(m,_,T,D,z,W,G){for(D=W[G-1],T=0;T<z;++T)W[G+T]=D=Xe(m[_+T],D)}function Ct(m,_,T,D,z){var W;for(W=0;W<T;++W){var G=m[_+W],K=G>>8&255,J=16711935&(J=(J=16711935&G)+((K<<16)+K));D[z+W]=(4278255360&G)+J>>>0}}function Zt(m,_){_.jd=m>>0&255,_.hd=m>>8&255,_.ud=m>>16&255}function Pt(m,_,T,D,z,W){var G;for(G=0;G<D;++G){var K=_[T+G],J=K>>>8,te=K,de=255&(de=(de=K>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));te=255&(te=(te=te+((m.hd<<24>>24)*(J<<24>>24)>>>5))+((m.ud<<24>>24)*(de<<24>>24)>>>5)),z[W+G]=(4278255360&K)+(de<<16)+te}}function qt(m,_,T,D,z){O[_]=function(W,G,K,J,te,de,Ne,Ie,xe){for(J=Ne;J<Ie;++J)for(Ne=0;Ne<xe;++Ne)te[de++]=z(K[D(W[G++])])},O[m]=function(W,G,K,J,te,de,Ne){var Ie=8>>W.b,xe=W.Ea,qe=W.K[0],Oe=W.w;if(8>Ie)for(W=(1<<W.b)-1,Oe=(1<<Ie)-1;G<K;++G){var me,ge=0;for(me=0;me<xe;++me)me&W||(ge=D(J[te++])),de[Ne++]=z(qe[ge&Oe]),ge>>=Ie}else O["VP8LMapColor"+T](J,te,qe,Oe,de,Ne,G,K,xe)}}function at(m,_,T,D,z){for(T=_+T;_<T;){var W=m[_++];D[z++]=W>>16&255,D[z++]=W>>8&255,D[z++]=W>>0&255}}function ir(m,_,T,D,z){for(T=_+T;_<T;){var W=m[_++];D[z++]=W>>16&255,D[z++]=W>>8&255,D[z++]=W>>0&255,D[z++]=W>>24&255}}function en(m,_,T,D,z){for(T=_+T;_<T;){var W=(G=m[_++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;D[z++]=W,D[z++]=G}}function Si(m,_,T,D,z){for(T=_+T;_<T;){var W=(G=m[_++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;D[z++]=W,D[z++]=G}}function mn(m,_,T,D,z){for(T=_+T;_<T;){var W=m[_++];D[z++]=W>>0&255,D[z++]=W>>8&255,D[z++]=W>>16&255}}function Pn(m,_,T,D,z,W){if(W==0)for(T=_+T;_<T;)He(D,((W=m[_++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),z+=32;else r(D,z,m,_,T)}function Bi(m,_){O[_][0]=O[m+"0"],O[_][1]=O[m+"1"],O[_][2]=O[m+"2"],O[_][3]=O[m+"3"],O[_][4]=O[m+"4"],O[_][5]=O[m+"5"],O[_][6]=O[m+"6"],O[_][7]=O[m+"7"],O[_][8]=O[m+"8"],O[_][9]=O[m+"9"],O[_][10]=O[m+"10"],O[_][11]=O[m+"11"],O[_][12]=O[m+"12"],O[_][13]=O[m+"13"],O[_][14]=O[m+"0"],O[_][15]=O[m+"0"]}function tn(m){return m==Gu||m==Gl||m==eh||m==th}function ks(){this.eb=[],this.size=this.A=this.fb=0}function Dn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ks,this.f.kb=new Dn,this.sd=null}function qr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function On(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function sn(m,_){var T=m.T,D=_.ba.f.RGBA,z=D.eb,W=D.fb+m.ka*D.A,G=Ki[_.ba.S],K=m.y,J=m.O,te=m.f,de=m.N,Ne=m.ea,Ie=m.W,xe=_.cc,qe=_.dc,Oe=_.Mc,me=_.Nc,ge=m.ka,Be=m.ka+m.T,Ve=m.U,Ue=Ve+1>>1;for(ge==0?G(K,J,null,null,te,de,Ne,Ie,te,de,Ne,Ie,z,W,null,null,Ve):(G(_.ec,_.fc,K,J,xe,qe,Oe,me,te,de,Ne,Ie,z,W-D.A,z,W,Ve),++T);ge+2<Be;ge+=2)xe=te,qe=de,Oe=Ne,me=Ie,de+=m.Rc,Ie+=m.Rc,W+=2*D.A,G(K,(J+=2*m.fa)-m.fa,K,J,xe,qe,Oe,me,te,de,Ne,Ie,z,W-D.A,z,W,Ve);return J+=m.fa,m.j+Be<m.o?(r(_.ec,_.fc,K,J,Ve),r(_.cc,_.dc,te,de,Ue),r(_.Mc,_.Nc,Ne,Ie,Ue),T--):1&Be||G(K,J,null,null,te,de,Ne,Ie,te,de,Ne,Ie,z,W+D.A,null,null,Ve),T}function hs(m,_,T){var D=m.F,z=[m.J];if(D!=null){var W=m.U,G=_.ba.S,K=G==Zc||G==eh;_=_.ba.f.RGBA;var J=[0],te=m.ka;J[0]=m.T,m.Kb&&(te==0?--J[0]:(--te,z[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-te));var de=_.eb;te=_.fb+te*_.A,m=En(D,z[0],m.width,W,J,de,te+(K?0:3),_.A),e(T==J),m&&tn(G)&&$i(de,te,K,W,J,_.A)}return 0}function mr(m){var _=m.ma,T=_.ba.S,D=11>T,z=T==sl||T==Jc||T==Zc||T==Mn||T==12||tn(T);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!ju(_.Oa,m,z?11:12))return 0;if(z&&tn(T)&&Ge(),m.da)alert("todo:use_scaling");else{if(D){if(_.Ib=At,m.Kb){if(T=m.U+1>>1,_.memory=s(m.U+2*T),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+m.U,_.Mc=_.cc,_.Nc=_.dc+T,_.Ib=sn,Ge()}}else alert("todo:EmitYUV");z&&(_.Jb=hs,D&&Ee())}if(D&&!ri){for(m=0;256>m;++m)Yi[m]=89858*(m-128)+_o>>Aa,Qi[m]=-22014*(m-128)+_o,Xu[m]=-45773*(m-128),Xl[m]=113618*(m-128)+_o>>Aa;for(m=Tn;m<In;++m)_=76283*(m-16)+_o>>Aa,af[m-Tn]=wn(_,255),lm[m-Tn]=wn(_+8>>4,15);ri=1}return 1}function Hr(m){var _=m.ma,T=m.U,D=m.T;return e(!(1&m.ka)),0>=T||0>=D?0:(T=_.Ib(m,_),_.Jb!=null&&_.Jb(m,_,T),_.Dc+=T,1)}function Ui(m){m.ma.memory=null}function ht(m,_,T,D){return ye(m,8)!=47?0:(_[0]=ye(m,14)+1,T[0]=ye(m,14)+1,D[0]=ye(m,1),ye(m,3)!=0?0:!m.h)}function ai(m,_){if(4>m)return m+1;var T=m-2>>1;return(2+(1&m)<<T)+ye(_,T)+1}function Ar(m,_){return 120<_?_-120:1<=(T=((T=gy[_-1])>>4)*m+(8-(15&T)))?T:1;var T}function Er(m,_,T){var D=X(T),z=m[_+=255&D].g-8;return 0<z&&(le(T,T.u+8),D=X(T),_+=m[_].value,_+=D&(1<<z)-1),le(T,T.u+m[_].g),m[_].value}function Bn(m,_,T){return T.g+=m.g,T.value+=m.value<<_>>>0,e(8>=T.g),m.g}function Un(m,_,T){var D=m.xc;return e((_=D==0?0:m.vc[m.md*(T>>D)+(_>>D)])<m.Wb),m.Ya[_]}function Kn(m,_,T,D){var z=m.ab,W=m.c*_,G=m.C;_=G+_;var K=T,J=D;for(D=m.Ta,T=m.Ua;0<z--;){var te=m.gc[z],de=G,Ne=_,Ie=K,xe=J,qe=(J=D,K=T,te.Ea);switch(e(de<Ne),e(Ne<=te.nc),te.hc){case 2:tf(Ie,xe,(Ne-de)*qe,J,K);break;case 0:var Oe=de,me=Ne,ge=J,Be=K,Ve=(lt=te).Ea;Oe==0&&(Ul(Ie,xe,null,null,1,ge,Be),bt(Ie,xe+1,0,0,Ve-1,ge,Be+1),xe+=Ve,Be+=Ve,++Oe);for(var Ue=1<<lt.b,ut=Ue-1,st=mt(Ve,lt.b),St=lt.K,lt=lt.w+(Oe>>lt.b)*st;Oe<me;){var fn=St,dn=lt,on=1;for(ga(Ie,xe,ge,Be-Ve,1,ge,Be);on<Ve;){var Yt=(on&~ut)+Ue;Yt>Ve&&(Yt=Ve),(0,Wo[fn[dn++]>>8&15])(Ie,xe+ +on,ge,Be+on-Ve,Yt-on,ge,Be+on),on=Yt}xe+=Ve,Be+=Ve,++Oe&ut||(lt+=st)}Ne!=te.nc&&r(J,K-qe,J,K+(Ne-de-1)*qe,qe);break;case 1:for(qe=Ie,me=xe,Ve=(Ie=te.Ea)-(Be=Ie&~(ge=(xe=1<<te.b)-1)),Oe=mt(Ie,te.b),Ue=te.K,te=te.w+(de>>te.b)*Oe;de<Ne;){for(ut=Ue,st=te,St=new rt,lt=me+Be,fn=me+Ie;me<lt;)Zt(ut[st++],St),nl(St,qe,me,xe,J,K),me+=xe,K+=xe;me<fn&&(Zt(ut[st++],St),nl(St,qe,me,Ve,J,K),me+=Ve,K+=Ve),++de&ge||(te+=Oe)}break;case 3:if(Ie==J&&xe==K&&0<te.b){for(me=J,Ie=qe=K+(Ne-de)*qe-(Be=(Ne-de)*mt(te.Ea,te.b)),xe=J,ge=K,Oe=[],Be=(Ve=Be)-1;0<=Be;--Be)Oe[Be]=xe[ge+Be];for(Be=Ve-1;0<=Be;--Be)me[Ie+Be]=Oe[Be];Ni(te,de,Ne,J,qe,J,K)}else Ni(te,de,Ne,Ie,xe,J,K)}K=D,J=T}J!=T&&r(D,T,K,J,W)}function Ro(m,_){var T=m.V,D=m.Ba+m.c*m.C,z=_-m.C;if(e(_<=m.l.o),e(16>=z),0<z){var W=m.l,G=m.Ta,K=m.Ua,J=W.width;if(Kn(m,z,T,D),z=K=[K],e((T=m.C)<(D=_)),e(W.v<W.va),D>W.o&&(D=W.o),T<W.j){var te=W.j-T;T=W.j,z[0]+=te*J}if(T>=D?T=0:(z[0]+=4*W.v,W.ka=T-W.j,W.U=W.va-W.v,W.T=D-T,T=1),T){if(K=K[0],11>(T=m.ca).S){var de=T.f.RGBA,Ne=(D=T.S,z=W.U,W=W.T,te=de.eb,de.A),Ie=W;for(de=de.fb+m.Ma*de.A;0<Ie--;){var xe=G,qe=K,Oe=z,me=te,ge=de;switch(D){case nf:Ii(xe,qe,Oe,me,ge);break;case sl:di(xe,qe,Oe,me,ge);break;case Gu:di(xe,qe,Oe,me,ge),$i(me,ge,0,Oe,1,0);break;case rm:va(xe,qe,Oe,me,ge);break;case Jc:Pn(xe,qe,Oe,me,ge,1);break;case Gl:Pn(xe,qe,Oe,me,ge,1),$i(me,ge,0,Oe,1,0);break;case Zc:Pn(xe,qe,Oe,me,ge,0);break;case eh:Pn(xe,qe,Oe,me,ge,0),$i(me,ge,1,Oe,1,0);break;case Mn:rl(xe,qe,Oe,me,ge);break;case th:rl(xe,qe,Oe,me,ge),jn(me,ge,Oe,1,0);break;case rf:ya(xe,qe,Oe,me,ge);break;default:e(0)}K+=J,de+=Ne}m.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=T.height)}}m.C=_,e(m.C<=m.i)}function oo(m){var _;if(0<m.ua)return 0;for(_=0;_<m.Wb;++_){var T=m.Ya[_].G,D=m.Ya[_].H;if(0<T[1][D[1]+0].g||0<T[2][D[2]+0].g||0<T[3][D[3]+0].g)return 0}return 1}function li(m,_,T,D,z,W){if(m.Z!=0){var G=m.qd,K=m.rd;for(e(mi[m.Z]!=null);_<T;++_)mi[m.Z](G,K,D,z,D,z,W),G=D,K=z,z+=W;m.qd=G,m.rd=K}}function zi(m,_){var T=m.l.ma,D=T.Z==0||T.Z==1?m.l.j:m.C;if(D=m.C<D?D:m.C,e(_<=m.l.o),_>D){var z=m.l.width,W=T.ca,G=T.tb+z*D,K=m.V,J=m.Ba+m.c*D,te=m.gc;e(m.ab==1),e(te[0].hc==3),Yc(te[0],D,_,K,J,W,G),li(T,D,_,W,G,z)}m.C=m.Ma=_}function gr(m,_,T,D,z,W,G){var K=m.$/D,J=m.$%D,te=m.m,de=m.s,Ne=T+m.$,Ie=Ne;z=T+D*z;var xe=T+D*W,qe=280+de.ua,Oe=m.Pb?K:16777216,me=0<de.ua?de.Wa:null,ge=de.wc,Be=Ne<xe?Un(de,J,K):null;e(m.C<W),e(xe<=z);var Ve=!1;e:for(;;){for(;Ve||Ne<xe;){var Ue=0;if(K>=Oe){var ut=Ne-T;e((Oe=m).Pb),Oe.wd=Oe.m,Oe.xd=ut,0<Oe.s.ua&&Fe(Oe.s.Wa,Oe.s.vb),Oe=K+of}if(J&ge||(Be=Un(de,J,K)),e(Be!=null),Be.Qb&&(_[Ne]=Be.qb,Ve=!0),!Ve)if(he(te),Be.jc){Ue=te,ut=_;var st=Ne,St=Be.pd[X(Ue)&ur-1];e(Be.jc),256>St.g?(le(Ue,Ue.u+St.g),ut[st]=St.value,Ue=0):(le(Ue,Ue.u+St.g-256),e(256<=St.value),Ue=St.value),Ue==0&&(Ve=!0)}else Ue=Er(Be.G[0],Be.H[0],te);if(te.h)break;if(Ve||256>Ue){if(!Ve)if(Be.nd)_[Ne]=(Be.qb|Ue<<8)>>>0;else{if(he(te),Ve=Er(Be.G[1],Be.H[1],te),he(te),ut=Er(Be.G[2],Be.H[2],te),st=Er(Be.G[3],Be.H[3],te),te.h)break;_[Ne]=(st<<24|Ve<<16|Ue<<8|ut)>>>0}if(Ve=!1,++Ne,++J>=D&&(J=0,++K,G!=null&&K<=W&&!(K%16)&&G(m,K),me!=null))for(;Ie<Ne;)Ue=_[Ie++],me.X[(506832829*Ue&4294967295)>>>me.Mb]=Ue}else if(280>Ue){if(Ue=ai(Ue-256,te),ut=Er(Be.G[4],Be.H[4],te),he(te),ut=Ar(D,ut=ai(ut,te)),te.h)break;if(Ne-T<ut||z-Ne<Ue)break e;for(st=0;st<Ue;++st)_[Ne+st]=_[Ne+st-ut];for(Ne+=Ue,J+=Ue;J>=D;)J-=D,++K,G!=null&&K<=W&&!(K%16)&&G(m,K);if(e(Ne<=z),J&ge&&(Be=Un(de,J,K)),me!=null)for(;Ie<Ne;)Ue=_[Ie++],me.X[(506832829*Ue&4294967295)>>>me.Mb]=Ue}else{if(!(Ue<qe))break e;for(Ve=Ue-280,e(me!=null);Ie<Ne;)Ue=_[Ie++],me.X[(506832829*Ue&4294967295)>>>me.Mb]=Ue;Ue=Ne,e(!(Ve>>>(ut=me).Xa)),_[Ue]=ut.X[Ve],Ve=!0}Ve||e(te.h==ne(te))}if(m.Pb&&te.h&&Ne<z)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Fe(m.s.vb,m.s.Wa);else{if(te.h)break e;G?.(m,K>W?W:K),m.a=0,m.$=Ne-T}return 1}return m.a=3,0}function ui(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var _=m.Wa;_!=null&&(_.X=null),m.vb=null,e(m!=null)}function or(){var m=new Ou;return m==null?null:(m.a=0,m.xb=Yu,Bi("Predictor","VP8LPredictors"),Bi("Predictor","VP8LPredictors_C"),Bi("PredictorAdd","VP8LPredictorsAdd"),Bi("PredictorAdd","VP8LPredictorsAdd_C"),tf=Ct,nl=Pt,Ii=at,di=ir,rl=en,ya=Si,va=mn,O.VP8LMapColor32b=zu,O.VP8LMapColor8b=qu,m)}function fs(m,_,T,D,z){var W=1,G=[m],K=[_],J=D.m,te=D.s,de=null,Ne=0;e:for(;;){if(T)for(;W&&ye(J,1);){var Ie=G,xe=K,qe=D,Oe=1,me=qe.m,ge=qe.gc[qe.ab],Be=ye(me,2);if(qe.Oc&1<<Be)W=0;else{switch(qe.Oc|=1<<Be,ge.hc=Be,ge.Ea=Ie[0],ge.nc=xe[0],ge.K=[null],++qe.ab,e(4>=qe.ab),Be){case 0:case 1:ge.b=ye(me,3)+2,Oe=fs(mt(ge.Ea,ge.b),mt(ge.nc,ge.b),0,qe,ge.K),ge.K=ge.K[0];break;case 3:var Ve,Ue=ye(me,8)+1,ut=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Ie[0]=mt(ge.Ea,ut),ge.b=ut,Ve=Oe=fs(Ue,1,0,qe,ge.K)){var st,St=Ue,lt=ge,fn=1<<(8>>lt.b),dn=s(fn);if(dn==null)Ve=0;else{var on=lt.K[0],Yt=lt.w;for(dn[0]=lt.K[0][0],st=1;st<1*St;++st)dn[st]=Xe(on[Yt+st],dn[st-1]);for(;st<4*fn;++st)dn[st]=0;lt.K[0]=null,lt.K[0]=dn,Ve=1}}Oe=Ve;break;case 2:break;default:e(0)}W=Oe}}if(G=G[0],K=K[0],W&&ye(J,1)&&!(W=1<=(Ne=ye(J,4))&&11>=Ne)){D.a=3;break e}var Cn;if(Cn=W)t:{var kn,Vt,Qn,Li=D,yr=G,Lr=K,_n=Ne,gi=T,yi=Li.m,Xn=Li.s,Dr=[null],ii=1,Xi=0,zs=sm[_n];n:for(;;){if(gi&&ye(yi,1)){var Jn=ye(yi,3)+2,Pr=mt(yr,Jn),_s=mt(Lr,Jn),ll=Pr*_s;if(!fs(Pr,_s,0,Li,Dr))break n;for(Dr=Dr[0],Xn.xc=Jn,kn=0;kn<ll;++kn){var Ta=Dr[kn]>>8&65535;Dr[kn]=Ta,Ta>=ii&&(ii=Ta+1)}}if(yi.h)break n;for(Vt=0;5>Vt;++Vt){var bn=Kl[Vt];!Vt&&0<_n&&(bn+=1<<_n),Xi<bn&&(Xi=bn)}var Qo=o(ii*zs,I),lf=ii,bd=o(lf,ee);if(bd==null)var qs=null;else e(65536>=lf),qs=bd;var Hs=s(Xi);if(qs==null||Hs==null||Qo==null){Li.a=1;break n}var Zl=Qo;for(kn=Qn=0;kn<ii;++kn){var Ws=qs[kn],Ca=Ws.G,eu=Ws.H,Ju=0,bs=1,Zu=0;for(Vt=0;5>Vt;++Vt){bn=Kl[Vt],Ca[Vt]=Zl,eu[Vt]=Qn,!Vt&&0<_n&&(bn+=1<<_n);i:{var ul,Pa=bn,ec=Li,Xo=Hs,cm=Zl,xd=Qn,qn=0,bo=ec.m,Sd=ye(bo,1);if(i(Xo,0,0,Pa),Sd){var Ad=ye(bo,1)+1,uf=ye(bo,1),cf=ye(bo,uf==0?1:8);Xo[cf]=1,Ad==2&&(Xo[cf=ye(bo,8)]=1);var Jo=1}else{var Wn=s(19),Nr=ye(bo,4)+4;if(19<Nr){ec.a=3;var vr=0;break i}for(ul=0;ul<Nr;++ul)Wn[my[ul]]=ye(bo,3);var tc=void 0,Na=void 0,nc=ec,by=Wn,Or=Pa,hf=Xo,oh=0,Zo=nc.m,xo=8,xs=o(128,I);r:for(;L(xs,0,7,by,19);){if(ye(Zo,1)){var ah=2+2*ye(Zo,3);if((tc=2+ye(Zo,ah))>Or)break r}else tc=Or;for(Na=0;Na<Or&&tc--;){he(Zo);var ff=xs[0+(127&X(Zo))];le(Zo,Zo.u+ff.g);var cl=ff.value;if(16>cl)hf[Na++]=cl,cl!=0&&(xo=cl);else{var hm=cl==16,Ed=cl-16,fm=sf[Ed],Td=ye(Zo,nh[Ed])+fm;if(Na+Td>Or)break r;for(var dm=hm?xo:0;0<Td--;)hf[Na++]=dm}}oh=1;break r}oh||(nc.a=3),Jo=oh}(Jo=Jo&&!bo.h)&&(qn=L(cm,xd,8,Xo,Pa)),Jo&&qn!=0?vr=qn:(ec.a=3,vr=0)}if(vr==0)break n;if(bs&&im[Vt]==1&&(bs=Zl[Qn].g==0),Ju+=Zl[Qn].g,Qn+=vr,3>=Vt){var rc,df=Hs[0];for(rc=1;rc<bn;++rc)Hs[rc]>df&&(df=Hs[rc]);Zu+=df}}if(Ws.nd=bs,Ws.Qb=0,bs&&(Ws.qb=(Ca[3][eu[3]+0].value<<24|Ca[1][eu[1]+0].value<<16|Ca[2][eu[2]+0].value)>>>0,Ju==0&&256>Ca[0][eu[0]+0].value&&(Ws.Qb=1,Ws.qb+=Ca[0][eu[0]+0].value<<8)),Ws.jc=!Ws.Qb&&6>Zu,Ws.jc){var lh,Ss=Ws;for(lh=0;lh<ur;++lh){var Ia=lh,So=Ss.pd[Ia],tu=Ss.G[0][Ss.H[0]+Ia];256<=tu.value?(So.g=tu.g+256,So.value=tu.value):(So.g=0,So.value=0,Ia>>=Bn(tu,8,So),Ia>>=Bn(Ss.G[1][Ss.H[1]+Ia],16,So),Ia>>=Bn(Ss.G[2][Ss.H[2]+Ia],0,So),Bn(Ss.G[3][Ss.H[3]+Ia],24,So))}}}Xn.vc=Dr,Xn.Wb=ii,Xn.Ya=qs,Xn.yc=Qo,Cn=1;break t}Cn=0}if(!(W=Cn)){D.a=3;break e}if(0<Ne){if(te.ua=1<<Ne,!xt(te.Wa,Ne)){D.a=1,W=0;break e}}else te.ua=0;var pf=D,mf=G,pm=K,gf=pf.s,yf=gf.xc;if(pf.c=mf,pf.i=pm,gf.md=mt(mf,yf),gf.wc=yf==0?-1:(1<<yf)-1,T){D.xb=Yo;break e}if((de=s(G*K))==null){D.a=1,W=0;break e}W=(W=gr(D,de,0,G,K,K,null))&&!J.h;break e}return W?(z!=null?z[0]=de:(e(de==null),e(T)),D.$=0,T||ui(te)):ui(te),W}function ao(m,_){var T=m.c*m.i,D=T+_+16*_;return e(m.c<=_),m.V=s(D),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+T+_,1)}function lo(m,_){var T=m.C,D=_-T,z=m.V,W=m.Ba+m.c*T;for(e(_<=m.l.o);0<D;){var G=16<D?16:D,K=m.l.ma,J=m.l.width,te=J*G,de=K.ca,Ne=K.tb+J*T,Ie=m.Ta,xe=m.Ua;Kn(m,G,z,W),cr(Ie,xe,de,Ne,te),li(K,T,T+G,de,Ne,J),D-=G,z+=G*m.c,T+=G}e(T==_),m.C=m.Ma=_}function uo(){this.ub=this.yd=this.td=this.Rb=0}function Lo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function la(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Nu(){this.Yb=function(){var m=[];return function _(T,D,z){for(var W=z[D],G=0;G<W&&(T.push(z.length>D+1?[]:0),!(z.length<D+1));G++)_(T[G],D+1,z)}(m,0,[3,11]),m}()}function Nn(){this.jb=s(3),this.Wc=l([4,8],Nu),this.Xc=l([4,17],Nu)}function Iu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Rs(){this.ld=this.La=this.dd=this.tc=0}function co(){this.Na=this.la=0}function qi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ua(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ku(){this.uc=this.M=this.Nb=0,this.wa=Array(new Rs),this.Y=0,this.ya=Array(new ua),this.aa=0,this.l=new ca}function Do(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ai(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new uo,this.Kc=new Lo,this.ed=new Iu,this.Qa=new la,this.Ic=this.$c=this.Aa=0,this.D=new ku,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,re),this.ia=0,this.pb=o(4,qi),this.Pa=new Nn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Do),this.Hd=0,this.rb=Array(new co),this.sb=0,this.wa=Array(new Rs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ua),this.L=this.aa=0,this.gd=l([4,2],Rs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ca(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qr(){var m=new Ai;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Yl||(Yl=ha)),m}function zn(m,_,T){return m.a==0&&(m.a=_,m.sc=T,m.cb=0),0}function Dl(m,_,T){return 3<=T&&m[_+0]==157&&m[_+1]==1&&m[_+2]==42}function Ol(m,_){if(m==null)return 0;if(m.a=0,m.sc="OK",_==null)return zn(m,2,"null VP8Io passed to VP8GetHeaders()");var T=_.data,D=_.w,z=_.ha;if(4>z)return zn(m,7,"Truncated header.");var W=T[D+0]|T[D+1]<<8|T[D+2]<<16,G=m.Od;if(G.Rb=!(1&W),G.td=W>>1&7,G.yd=W>>4&1,G.ub=W>>5,3<G.td)return zn(m,3,"Incorrect keyframe parameters.");if(!G.yd)return zn(m,4,"Frame not displayable.");D+=3,z-=3;var K=m.Kc;if(G.Rb){if(7>z)return zn(m,7,"cannot parse picture header");if(!Dl(T,D,z))return zn(m,3,"Bad code word");K.c=16383&(T[D+4]<<8|T[D+3]),K.Td=T[D+4]>>6,K.i=16383&(T[D+6]<<8|T[D+5]),K.Ud=T[D+6]>>6,D+=7,z-=7,m.za=K.c+15>>4,m.Ub=K.i+15>>4,_.width=K.c,_.height=K.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((W=m.Pa).jb,0,255,W.jb.length),e((W=m.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(G.ub>z)return zn(m,7,"bad partition length");Se(W=m.m,T,D,G.ub),D+=G.ub,z-=G.ub,G.Rb&&(K.Ld=Te(W),K.Kd=Te(W)),K=m.Qa;var J,te=m.Pa;if(e(W!=null),e(K!=null),K.Cb=Te(W),K.Cb){if(K.Bb=Te(W),Te(W)){for(K.Fb=Te(W),J=0;4>J;++J)K.Zb[J]=Te(W)?Pe(W,7):0;for(J=0;4>J;++J)K.Lb[J]=Te(W)?Pe(W,6):0}if(K.Bb)for(J=0;3>J;++J)te.jb[J]=Te(W)?ve(W,8):255}else K.Bb=0;if(W.Ka)return zn(m,3,"cannot parse segment header");if((K=m.ed).zd=Te(W),K.Tb=ve(W,6),K.wb=ve(W,3),K.Pc=Te(W),K.Pc&&Te(W)){for(te=0;4>te;++te)Te(W)&&(K.vd[te]=Pe(W,6));for(te=0;4>te;++te)Te(W)&&(K.od[te]=Pe(W,6))}if(m.L=K.Tb==0?0:K.zd?1:2,W.Ka)return zn(m,3,"cannot parse filter header");var de=z;if(z=J=D,D=J+de,K=de,m.Xb=(1<<ve(m.m,2))-1,de<3*(te=m.Xb))T=7;else{for(J+=3*te,K-=3*te,de=0;de<te;++de){var Ne=T[z+0]|T[z+1]<<8|T[z+2]<<16;Ne>K&&(Ne=K),Se(m.Jc[+de],T,J,Ne),J+=Ne,K-=Ne,z+=3}Se(m.Jc[+te],T,J,K),T=J<D?0:5}if(T!=0)return zn(m,T,"cannot parse partitions");for(T=ve(J=m.m,7),z=Te(J)?Pe(J,4):0,D=Te(J)?Pe(J,4):0,K=Te(J)?Pe(J,4):0,te=Te(J)?Pe(J,4):0,J=Te(J)?Pe(J,4):0,de=m.Qa,Ne=0;4>Ne;++Ne){if(de.Cb){var Ie=de.Zb[Ne];de.Fb||(Ie+=T)}else{if(0<Ne){m.pb[Ne]=m.pb[0];continue}Ie=T}var xe=m.pb[Ne];xe.Sc[0]=Ku[wn(Ie+z,127)],xe.Sc[1]=rh[wn(Ie+0,127)],xe.Eb[0]=2*Ku[wn(Ie+D,127)],xe.Eb[1]=101581*rh[wn(Ie+K,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=Ku[wn(Ie+te,117)],xe.Qc[1]=rh[wn(Ie+J,127)],xe.lc=Ie+J}if(!G.Rb)return zn(m,4,"Not a key frame.");for(Te(W),G=m.Pa,T=0;4>T;++T){for(z=0;8>z;++z)for(D=0;3>D;++D)for(K=0;11>K;++K)te=Ce(W,vy[T][z][D][K])?ve(W,8):am[T][z][D][K],G.Wc[T][z].Yb[D][K]=te;for(z=0;17>z;++z)G.Xc[T][z]=G.Wc[T][vd[z]]}return m.kc=Te(W),m.kc&&(m.Bd=ve(W,8)),m.cb=1}function ha(m,_,T,D,z,W,G){var K=_[z].Yb[T];for(T=0;16>z;++z){if(!Ce(m,K[T+0]))return z;for(;!Ce(m,K[T+1]);)if(K=_[++z].Yb[0],T=0,z==16)return 16;var J=_[z+1].Yb;if(Ce(m,K[T+2])){var te=m,de=0;if(Ce(te,(Ie=K)[(Ne=T)+3]))if(Ce(te,Ie[Ne+6])){for(K=0,Ne=2*(de=Ce(te,Ie[Ne+8]))+(Ie=Ce(te,Ie[Ne+9+de])),de=0,Ie=gd[Ne];Ie[K];++K)de+=de+Ce(te,Ie[K]);de+=3+(8<<Ne)}else Ce(te,Ie[Ne+7])?(de=7+2*Ce(te,165),de+=Ce(te,145)):de=5+Ce(te,159);else de=Ce(te,Ie[Ne+4])?3+Ce(te,Ie[Ne+5]):2;K=J[2]}else de=1,K=J[1];J=G+yd[z],0>(te=m).b&&Ae(te);var Ne,Ie=te.b,xe=(Ne=te.Ca>>1)-(te.I>>Ie)>>31;--te.b,te.Ca+=xe,te.Ca|=1,te.I-=(Ne+1&xe)<<Ie,W[J]=((de^xe)-xe)*D[(0<z)+0]}return 16}function Oo(m){var _=m.rb[m.sb-1];_.la=0,_.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function jo(m,_){if(m==null)return 0;if(_==null)return zn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Ol(m,_))return 0;if(e(m.cb),_.ac==null||_.ac(_)){_.ob&&(m.L=0);var T=Jl[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=_.v-T>>4,m.zb=_.j-T>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=_.o+15+T>>4,m.Hb=_.va+15+T>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var D=m.ed;for(T=0;4>T;++T){var z;if(m.Qa.Cb){var W=m.Qa.Lb[T];m.Qa.Fb||(W+=D.Tb)}else W=D.Tb;for(z=0;1>=z;++z){var G=m.gd[T][z],K=W;if(D.Pc&&(K+=D.vd[0],z&&(K+=D.od[0])),0<(K=0>K?0:63<K?63:K)){var J=K;0<D.wb&&(J=4<D.wb?J>>2:J>>1)>9-D.wb&&(J=9-D.wb),1>J&&(J=1),G.dd=J,G.tc=2*K+J,G.ld=40<=K?2:15<=K?1:0}else G.tc=0;G.La=z}}}T=0}else zn(m,6,"Frame setup failed"),T=m.a;if(T=T==0){if(T){m.$c=0,0<m.Aa||(m.Ic=Ea);e:{T=m.Ic,D=4*(J=m.za);var te=32*J,de=J+1,Ne=0<m.L?J*(0<m.Aa?2:1):0,Ie=(m.Aa==2?2:1)*J;if((G=D+832+(z=3*(16*T+Jl[m.L])/2*te)+(W=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=G)T=0;else{if(G>m.Vb){if(m.Vb=0,m.Ec=s(G),m.Fc=0,m.Ec==null){T=zn(m,1,"no memory during frame initialization.");break e}m.Vb=G}G=m.Ec,K=m.Fc,m.Ac=G,m.Bc=K,K+=D,m.Gd=o(te,Do),m.Hd=0,m.rb=o(de+1,co),m.sb=1,m.wa=Ne?o(Ne,Rs):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=J),e(!0),m.oc=G,m.pc=K,K+=832,m.ya=o(Ie,ua),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=J),m.R=16*J,m.B=8*J,J=(te=Jl[m.L])*m.R,te=te/2*m.B,m.sa=G,m.ta=K+J,m.qa=m.sa,m.ra=m.ta+16*T*m.R+te,m.Ha=m.qa,m.Ia=m.ra+8*T*m.B+te,m.$c=0,K+=z,m.mb=W?G:null,m.nb=W?K:null,e(K+W<=m.Fc+m.Vb),Oo(m),i(m.Ac,m.Bc,0,D),T=1}}if(T){if(_.ka=0,_.y=m.sa,_.O=m.ta,_.f=m.qa,_.N=m.ra,_.ea=m.Ha,_.Vd=m.Ia,_.fa=m.R,_.Rc=m.B,_.F=null,_.J=0,!Xc){for(T=-255;255>=T;++T)Cr[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)Go[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)Wu[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)$l[255+T]=0>T?0:255<T?255:T;Xc=1}Hu=Jt,wa=Fo,_a=ho,pi=Sn,vs=fo,gn=Mo,zl=ma,Qc=Yn,ql=Ms,Hl=Vl,Wl=gs,ws=mo,ba=qo,$o=Fs,xa=hi,Sa=Ti,il=lr,ni=Fl,Us[0]=js,Us[1]=Ru,Us[2]=Wi,Us[3]=Os,Us[4]=jl,Us[5]=Qa,Us[6]=Zr,Us[7]=Xa,Us[8]=da,Us[9]=po,Ri[0]=ds,Ri[1]=Lu,Ri[2]=Ds,Ri[3]=fa,Ri[4]=hn,Ri[5]=ps,Ri[6]=Hi,Gi[0]=ci,Gi[1]=Ya,Gi[2]=Du,Gi[3]=Ei,Gi[4]=vn,Gi[5]=Bo,Gi[6]=Ml,T=1}else T=0}T&&(T=function(xe,qe){for(xe.M=0;xe.M<xe.Va;++xe.M){var Oe,me=xe.Jc[xe.M&xe.Xb],ge=xe.m,Be=xe;for(Oe=0;Oe<Be.za;++Oe){var Ve=ge,Ue=Be,ut=Ue.Ac,st=Ue.Bc+4*Oe,St=Ue.zc,lt=Ue.ya[Ue.aa+Oe];if(Ue.Qa.Bb?lt.$b=Ce(Ve,Ue.Pa.jb[0])?2+Ce(Ve,Ue.Pa.jb[2]):Ce(Ve,Ue.Pa.jb[1]):lt.$b=0,Ue.kc&&(lt.Ad=Ce(Ve,Ue.Bd)),lt.Za=!Ce(Ve,145)+0,lt.Za){var fn=lt.Ob,dn=0;for(Ue=0;4>Ue;++Ue){var on,Yt=St[0+Ue];for(on=0;4>on;++on){Yt=yy[ut[st+on]][Yt];for(var Cn=om[Ce(Ve,Yt[0])];0<Cn;)Cn=om[2*Cn+Ce(Ve,Yt[Cn])];Yt=-Cn,ut[st+on]=Yt}r(fn,dn,ut,st,4),dn+=4,St[0+Ue]=Yt}}else Yt=Ce(Ve,156)?Ce(Ve,128)?1:3:Ce(Ve,163)?2:0,lt.Ob[0]=Yt,i(ut,st,Yt,4),i(St,0,Yt,4);lt.Dd=Ce(Ve,142)?Ce(Ve,114)?Ce(Ve,183)?1:3:2:0}if(Be.m.Ka)return zn(xe,7,"Premature end-of-partition0 encountered.");for(;xe.ja<xe.za;++xe.ja){if(Be=me,Ve=(ge=xe).rb[ge.sb-1],ut=ge.rb[ge.sb+ge.ja],Oe=ge.ya[ge.aa+ge.ja],st=ge.kc?Oe.Ad:0)Ve.la=ut.la=0,Oe.Za||(Ve.Na=ut.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var kn,Vt;if(Ve=ut,ut=Be,st=ge.Pa.Xc,St=ge.ya[ge.aa+ge.ja],lt=ge.pb[St.$b],Ue=St.ad,fn=0,dn=ge.rb[ge.sb-1],Yt=on=0,i(Ue,fn,0,384),St.Za)var Qn=0,Li=st[3];else{Cn=s(16);var yr=Ve.Na+dn.Na;if(yr=Yl(ut,st[1],yr,lt.Eb,0,Cn,0),Ve.Na=dn.Na=(0<yr)+0,1<yr)Hu(Cn,0,Ue,fn);else{var Lr=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)Ue[fn+Cn]=Lr}Qn=1,Li=st[0]}var _n=15&Ve.la,gi=15&dn.la;for(Cn=0;4>Cn;++Cn){var yi=1&gi;for(Lr=Vt=0;4>Lr;++Lr)_n=_n>>1|(yi=(yr=Yl(ut,Li,yr=yi+(1&_n),lt.Sc,Qn,Ue,fn))>Qn)<<7,Vt=Vt<<2|(3<yr?3:1<yr?2:Ue[fn+0]!=0),fn+=16;_n>>=4,gi=gi>>1|yi<<7,on=(on<<8|Vt)>>>0}for(Li=_n,Qn=gi>>4,kn=0;4>kn;kn+=2){for(Vt=0,_n=Ve.la>>4+kn,gi=dn.la>>4+kn,Cn=0;2>Cn;++Cn){for(yi=1&gi,Lr=0;2>Lr;++Lr)yr=yi+(1&_n),_n=_n>>1|(yi=0<(yr=Yl(ut,st[2],yr,lt.Qc,0,Ue,fn)))<<3,Vt=Vt<<2|(3<yr?3:1<yr?2:Ue[fn+0]!=0),fn+=16;_n>>=2,gi=gi>>1|yi<<5}Yt|=Vt<<4*kn,Li|=_n<<4<<kn,Qn|=(240&gi)<<kn}Ve.la=Li,dn.la=Qn,St.Hc=on,St.Gc=Yt,St.ia=43690&Yt?0:lt.ia,st=!(on|Yt)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Oe.$b][Oe.Za],ge.wa[ge.Y+ge.ja].La|=!st),Be.Ka)return zn(xe,7,"Premature end-of-file encountered.")}if(Oo(xe),ge=qe,Be=1,Oe=(me=xe).D,Ve=0<me.L&&me.M>=me.zb&&me.M<=me.Va,me.Aa==0)e:{if(Oe.M=me.M,Oe.uc=Ve,vo(me,Oe),Be=1,Oe=(Vt=me.D).Nb,Ve=(Yt=Jl[me.L])*me.R,ut=Yt/2*me.B,Cn=16*Oe*me.R,Lr=8*Oe*me.B,st=me.sa,St=me.ta-Ve+Cn,lt=me.qa,Ue=me.ra-ut+Lr,fn=me.Ha,dn=me.Ia-ut+Lr,gi=(_n=Vt.M)==0,on=_n>=me.Va-1,me.Aa==2&&vo(me,Vt),Vt.uc)for(yi=(yr=me).D.M,e(yr.D.uc),Vt=yr.yb;Vt<yr.Hb;++Vt){Qn=Vt,Li=yi;var Xn=(Dr=(bn=yr).D).Nb;kn=bn.R;var Dr=Dr.wa[Dr.Y+Qn],ii=bn.sa,Xi=bn.ta+16*Xn*kn+16*Qn,zs=Dr.dd,Jn=Dr.tc;if(Jn!=0)if(e(3<=Jn),bn.L==1)0<Qn&&Sa(ii,Xi,kn,Jn+4),Dr.La&&ni(ii,Xi,kn,Jn),0<Li&&xa(ii,Xi,kn,Jn+4),Dr.La&&il(ii,Xi,kn,Jn);else{var Pr=bn.B,_s=bn.qa,ll=bn.ra+8*Xn*Pr+8*Qn,Ta=bn.Ha,bn=bn.Ia+8*Xn*Pr+8*Qn;Xn=Dr.ld,0<Qn&&(Qc(ii,Xi,kn,Jn+4,zs,Xn),Hl(_s,ll,Ta,bn,Pr,Jn+4,zs,Xn)),Dr.La&&(ws(ii,Xi,kn,Jn,zs,Xn),$o(_s,ll,Ta,bn,Pr,Jn,zs,Xn)),0<Li&&(zl(ii,Xi,kn,Jn+4,zs,Xn),ql(_s,ll,Ta,bn,Pr,Jn+4,zs,Xn)),Dr.La&&(Wl(ii,Xi,kn,Jn,zs,Xn),ba(_s,ll,Ta,bn,Pr,Jn,zs,Xn))}}if(me.ia&&alert("todo:DitherRow"),ge.put!=null){if(Vt=16*_n,_n=16*(_n+1),gi?(ge.y=me.sa,ge.O=me.ta+Cn,ge.f=me.qa,ge.N=me.ra+Lr,ge.ea=me.Ha,ge.W=me.Ia+Lr):(Vt-=Yt,ge.y=st,ge.O=St,ge.f=lt,ge.N=Ue,ge.ea=fn,ge.W=dn),on||(_n-=Yt),_n>ge.o&&(_n=ge.o),ge.F=null,ge.J=null,me.Fa!=null&&0<me.Fa.length&&Vt<_n&&(ge.J=tl(me,ge,Vt,_n-Vt),ge.F=me.mb,ge.F==null&&ge.F.length==0)){Be=zn(me,3,"Could not decode alpha data.");break e}Vt<ge.j&&(Yt=ge.j-Vt,Vt=ge.j,e(!(1&Yt)),ge.O+=me.R*Yt,ge.N+=me.B*(Yt>>1),ge.W+=me.B*(Yt>>1),ge.F!=null&&(ge.J+=ge.width*Yt)),Vt<_n&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=Vt-ge.j,ge.U=ge.va-ge.v,ge.T=_n-Vt,Be=ge.put(ge))}Oe+1!=me.Ic||on||(r(me.sa,me.ta-Ve,st,St+16*me.R,Ve),r(me.qa,me.ra-ut,lt,Ue+8*me.B,ut),r(me.Ha,me.Ia-ut,fn,dn+8*me.B,ut))}if(!Be)return zn(xe,6,"Output aborted.")}return 1}(m,_)),_.bc!=null&&_.bc(_),T&=1}return T?(m.cb=0,T):0}function Xr(m,_,T,D,z){z=m[_+T+32*D]+(z>>3),m[_+T+32*D]=-256&z?0>z?0:255:z}function Ka(m,_,T,D,z,W){Xr(m,_,0,T,D+z),Xr(m,_,1,T,D+W),Xr(m,_,2,T,D-W),Xr(m,_,3,T,D-z)}function ar(m){return(20091*m>>16)+m}function Jr(m,_,T,D){var z,W=0,G=s(16);for(z=0;4>z;++z){var K=m[_+0]+m[_+8],J=m[_+0]-m[_+8],te=(35468*m[_+4]>>16)-ar(m[_+12]),de=ar(m[_+4])+(35468*m[_+12]>>16);G[W+0]=K+de,G[W+1]=J+te,G[W+2]=J-te,G[W+3]=K-de,W+=4,_++}for(z=W=0;4>z;++z)K=(m=G[W+0]+4)+G[W+8],J=m-G[W+8],te=(35468*G[W+4]>>16)-ar(G[W+12]),Xr(T,D,0,0,K+(de=ar(G[W+4])+(35468*G[W+12]>>16))),Xr(T,D,1,0,J+te),Xr(T,D,2,0,J-te),Xr(T,D,3,0,K-de),W++,D+=32}function Mo(m,_,T,D){var z=m[_+0]+4,W=35468*m[_+4]>>16,G=ar(m[_+4]),K=35468*m[_+1]>>16;Ka(T,D,0,z+G,m=ar(m[_+1]),K),Ka(T,D,1,z+W,m,K),Ka(T,D,2,z-W,m,K),Ka(T,D,3,z-G,m,K)}function Fo(m,_,T,D,z){Jr(m,_,T,D),z&&Jr(m,_+16,T,D+4)}function ho(m,_,T,D){wa(m,_+0,T,D,1),wa(m,_+32,T,D+128,1)}function Sn(m,_,T,D){var z;for(m=m[_+0]+4,z=0;4>z;++z)for(_=0;4>_;++_)Xr(T,D,_,z,m)}function fo(m,_,T,D){m[_+0]&&pi(m,_+0,T,D),m[_+16]&&pi(m,_+16,T,D+4),m[_+32]&&pi(m,_+32,T,D+128),m[_+48]&&pi(m,_+48,T,D+128+4)}function Jt(m,_,T,D){var z,W=s(16);for(z=0;4>z;++z){var G=m[_+0+z]+m[_+12+z],K=m[_+4+z]+m[_+8+z],J=m[_+4+z]-m[_+8+z],te=m[_+0+z]-m[_+12+z];W[0+z]=G+K,W[8+z]=G-K,W[4+z]=te+J,W[12+z]=te-J}for(z=0;4>z;++z)G=(m=W[0+4*z]+3)+W[3+4*z],K=W[1+4*z]+W[2+4*z],J=W[1+4*z]-W[2+4*z],te=m-W[3+4*z],T[D+0]=G+K>>3,T[D+16]=te+J>>3,T[D+32]=G-K>>3,T[D+48]=te-J>>3,D+=64}function Ls(m,_,T){var D,z=_-32,W=ki,G=255-m[z-1];for(D=0;D<T;++D){var K,J=W,te=G+m[_-1];for(K=0;K<T;++K)m[_+K]=J[te+m[z+K]];_+=32}}function Ru(m,_){Ls(m,_,4)}function Ya(m,_){Ls(m,_,8)}function Lu(m,_){Ls(m,_,16)}function Ds(m,_){var T;for(T=0;16>T;++T)r(m,_+32*T,m,_-32,16)}function fa(m,_){var T;for(T=16;0<T;--T)i(m,_,m[_-1],16),_+=32}function Vo(m,_,T){var D;for(D=0;16>D;++D)i(_,T+32*D,m,16)}function ds(m,_){var T,D=16;for(T=0;16>T;++T)D+=m[_-1+32*T]+m[_+T-32];Vo(D>>5,m,_)}function hn(m,_){var T,D=8;for(T=0;16>T;++T)D+=m[_-1+32*T];Vo(D>>4,m,_)}function ps(m,_){var T,D=8;for(T=0;16>T;++T)D+=m[_+T-32];Vo(D>>4,m,_)}function Hi(m,_){Vo(128,m,_)}function Tt(m,_,T){return m+2*_+T+2>>2}function Wi(m,_){var T,D=_-32;for(D=new Uint8Array([Tt(m[D-1],m[D+0],m[D+1]),Tt(m[D+0],m[D+1],m[D+2]),Tt(m[D+1],m[D+2],m[D+3]),Tt(m[D+2],m[D+3],m[D+4])]),T=0;4>T;++T)r(m,_+32*T,D,0,D.length)}function Os(m,_){var T=m[_-1],D=m[_-1+32],z=m[_-1+64],W=m[_-1+96];He(m,_+0,16843009*Tt(m[_-1-32],T,D)),He(m,_+32,16843009*Tt(T,D,z)),He(m,_+64,16843009*Tt(D,z,W)),He(m,_+96,16843009*Tt(z,W,W))}function js(m,_){var T,D=4;for(T=0;4>T;++T)D+=m[_+T-32]+m[_-1+32*T];for(D>>=3,T=0;4>T;++T)i(m,_+32*T,D,4)}function jl(m,_){var T=m[_-1+0],D=m[_-1+32],z=m[_-1+64],W=m[_-1-32],G=m[_+0-32],K=m[_+1-32],J=m[_+2-32],te=m[_+3-32];m[_+0+96]=Tt(D,z,m[_-1+96]),m[_+1+96]=m[_+0+64]=Tt(T,D,z),m[_+2+96]=m[_+1+64]=m[_+0+32]=Tt(W,T,D),m[_+3+96]=m[_+2+64]=m[_+1+32]=m[_+0+0]=Tt(G,W,T),m[_+3+64]=m[_+2+32]=m[_+1+0]=Tt(K,G,W),m[_+3+32]=m[_+2+0]=Tt(J,K,G),m[_+3+0]=Tt(te,J,K)}function Zr(m,_){var T=m[_+1-32],D=m[_+2-32],z=m[_+3-32],W=m[_+4-32],G=m[_+5-32],K=m[_+6-32],J=m[_+7-32];m[_+0+0]=Tt(m[_+0-32],T,D),m[_+1+0]=m[_+0+32]=Tt(T,D,z),m[_+2+0]=m[_+1+32]=m[_+0+64]=Tt(D,z,W),m[_+3+0]=m[_+2+32]=m[_+1+64]=m[_+0+96]=Tt(z,W,G),m[_+3+32]=m[_+2+64]=m[_+1+96]=Tt(W,G,K),m[_+3+64]=m[_+2+96]=Tt(G,K,J),m[_+3+96]=Tt(K,J,J)}function Qa(m,_){var T=m[_-1+0],D=m[_-1+32],z=m[_-1+64],W=m[_-1-32],G=m[_+0-32],K=m[_+1-32],J=m[_+2-32],te=m[_+3-32];m[_+0+0]=m[_+1+64]=W+G+1>>1,m[_+1+0]=m[_+2+64]=G+K+1>>1,m[_+2+0]=m[_+3+64]=K+J+1>>1,m[_+3+0]=J+te+1>>1,m[_+0+96]=Tt(z,D,T),m[_+0+64]=Tt(D,T,W),m[_+0+32]=m[_+1+96]=Tt(T,W,G),m[_+1+32]=m[_+2+96]=Tt(W,G,K),m[_+2+32]=m[_+3+96]=Tt(G,K,J),m[_+3+32]=Tt(K,J,te)}function Xa(m,_){var T=m[_+0-32],D=m[_+1-32],z=m[_+2-32],W=m[_+3-32],G=m[_+4-32],K=m[_+5-32],J=m[_+6-32],te=m[_+7-32];m[_+0+0]=T+D+1>>1,m[_+1+0]=m[_+0+64]=D+z+1>>1,m[_+2+0]=m[_+1+64]=z+W+1>>1,m[_+3+0]=m[_+2+64]=W+G+1>>1,m[_+0+32]=Tt(T,D,z),m[_+1+32]=m[_+0+96]=Tt(D,z,W),m[_+2+32]=m[_+1+96]=Tt(z,W,G),m[_+3+32]=m[_+2+96]=Tt(W,G,K),m[_+3+64]=Tt(G,K,J),m[_+3+96]=Tt(K,J,te)}function po(m,_){var T=m[_-1+0],D=m[_-1+32],z=m[_-1+64],W=m[_-1+96];m[_+0+0]=T+D+1>>1,m[_+2+0]=m[_+0+32]=D+z+1>>1,m[_+2+32]=m[_+0+64]=z+W+1>>1,m[_+1+0]=Tt(T,D,z),m[_+3+0]=m[_+1+32]=Tt(D,z,W),m[_+3+32]=m[_+1+64]=Tt(z,W,W),m[_+3+64]=m[_+2+64]=m[_+0+96]=m[_+1+96]=m[_+2+96]=m[_+3+96]=W}function da(m,_){var T=m[_-1+0],D=m[_-1+32],z=m[_-1+64],W=m[_-1+96],G=m[_-1-32],K=m[_+0-32],J=m[_+1-32],te=m[_+2-32];m[_+0+0]=m[_+2+32]=T+G+1>>1,m[_+0+32]=m[_+2+64]=D+T+1>>1,m[_+0+64]=m[_+2+96]=z+D+1>>1,m[_+0+96]=W+z+1>>1,m[_+3+0]=Tt(K,J,te),m[_+2+0]=Tt(G,K,J),m[_+1+0]=m[_+3+32]=Tt(T,G,K),m[_+1+32]=m[_+3+64]=Tt(D,T,G),m[_+1+64]=m[_+3+96]=Tt(z,D,T),m[_+1+96]=Tt(W,z,D)}function Du(m,_){var T;for(T=0;8>T;++T)r(m,_+32*T,m,_-32,8)}function Ei(m,_){var T;for(T=0;8>T;++T)i(m,_,m[_-1],8),_+=32}function ei(m,_,T){var D;for(D=0;8>D;++D)i(_,T+32*D,m,8)}function ci(m,_){var T,D=8;for(T=0;8>T;++T)D+=m[_+T-32]+m[_-1+32*T];ei(D>>4,m,_)}function Bo(m,_){var T,D=4;for(T=0;8>T;++T)D+=m[_+T-32];ei(D>>3,m,_)}function vn(m,_){var T,D=4;for(T=0;8>T;++T)D+=m[_-1+32*T];ei(D>>3,m,_)}function Ml(m,_){ei(128,m,_)}function Uo(m,_,T){var D=m[_-T],z=m[_+0],W=3*(z-D)+Ko[1020+m[_-2*T]-m[_+T]],G=$u[112+(W+4>>3)];m[_-T]=ki[255+D+$u[112+(W+3>>3)]],m[_+0]=ki[255+z-G]}function zo(m,_,T,D){var z=m[_+0],W=m[_+T];return Bs[255+m[_-2*T]-m[_-T]]>D||Bs[255+W-z]>D}function pa(m,_,T,D){return 4*Bs[255+m[_-T]-m[_+0]]+Bs[255+m[_-2*T]-m[_+T]]<=D}function Ja(m,_,T,D,z){var W=m[_-3*T],G=m[_-2*T],K=m[_-T],J=m[_+0],te=m[_+T],de=m[_+2*T],Ne=m[_+3*T];return 4*Bs[255+K-J]+Bs[255+G-te]>D?0:Bs[255+m[_-4*T]-W]<=z&&Bs[255+W-G]<=z&&Bs[255+G-K]<=z&&Bs[255+Ne-de]<=z&&Bs[255+de-te]<=z&&Bs[255+te-J]<=z}function hi(m,_,T,D){var z=2*D+1;for(D=0;16>D;++D)pa(m,_+D,T,z)&&Uo(m,_+D,T)}function Ti(m,_,T,D){var z=2*D+1;for(D=0;16>D;++D)pa(m,_+D*T,1,z)&&Uo(m,_+D*T,1)}function lr(m,_,T,D){var z;for(z=3;0<z;--z)hi(m,_+=4*T,T,D)}function Fl(m,_,T,D){var z;for(z=3;0<z;--z)Ti(m,_+=4,T,D)}function ms(m,_,T,D,z,W,G,K){for(W=2*W+1;0<z--;){if(Ja(m,_,T,W,G))if(zo(m,_,T,K))Uo(m,_,T);else{var J=m,te=_,de=T,Ne=J[te-2*de],Ie=J[te-de],xe=J[te+0],qe=J[te+de],Oe=J[te+2*de],me=27*(Be=Ko[1020+3*(xe-Ie)+Ko[1020+Ne-qe]])+63>>7,ge=18*Be+63>>7,Be=9*Be+63>>7;J[te-3*de]=ki[255+J[te-3*de]+Be],J[te-2*de]=ki[255+Ne+ge],J[te-de]=ki[255+Ie+me],J[te+0]=ki[255+xe-me],J[te+de]=ki[255+qe-ge],J[te+2*de]=ki[255+Oe-Be]}_+=D}}function Tr(m,_,T,D,z,W,G,K){for(W=2*W+1;0<z--;){if(Ja(m,_,T,W,G))if(zo(m,_,T,K))Uo(m,_,T);else{var J=m,te=_,de=T,Ne=J[te-de],Ie=J[te+0],xe=J[te+de],qe=$u[112+((Oe=3*(Ie-Ne))+4>>3)],Oe=$u[112+(Oe+3>>3)],me=qe+1>>1;J[te-2*de]=ki[255+J[te-2*de]+me],J[te-de]=ki[255+Ne+Oe],J[te+0]=ki[255+Ie-qe],J[te+de]=ki[255+xe-me]}_+=D}}function ma(m,_,T,D,z,W){ms(m,_,T,1,16,D,z,W)}function Yn(m,_,T,D,z,W){ms(m,_,1,T,16,D,z,W)}function gs(m,_,T,D,z,W){var G;for(G=3;0<G;--G)Tr(m,_+=4*T,T,1,16,D,z,W)}function mo(m,_,T,D,z,W){var G;for(G=3;0<G;--G)Tr(m,_+=4,1,T,16,D,z,W)}function Ms(m,_,T,D,z,W,G,K){ms(m,_,z,1,8,W,G,K),ms(T,D,z,1,8,W,G,K)}function Vl(m,_,T,D,z,W,G,K){ms(m,_,1,z,8,W,G,K),ms(T,D,1,z,8,W,G,K)}function qo(m,_,T,D,z,W,G,K){Tr(m,_+4*z,z,1,8,W,G,K),Tr(T,D+4*z,z,1,8,W,G,K)}function Fs(m,_,T,D,z,W,G,K){Tr(m,_+4,1,z,8,W,G,K),Tr(T,D+4,1,z,8,W,G,K)}function ys(){this.ba=new sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new On,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function go(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ho(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Za(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new I}function Ou(){this.xb=this.a=0,this.l=new ca,this.ca=new sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Za,this.ab=0,this.gc=o(4,Ho),this.Oc=0}function yo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ca,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vs(m,_,T,D,z,W,G){for(m=m==null?0:m[_+0],_=0;_<G;++_)z[W+_]=m+T[D+_]&255,m=z[W+_]}function el(m,_,T,D,z,W,G){var K;if(m==null)Vs(null,null,T,D,z,W,G);else for(K=0;K<G;++K)z[W+K]=m[_+K]+T[D+K]&255}function fi(m,_,T,D,z,W,G){if(m==null)Vs(null,null,T,D,z,W,G);else{var K,J=m[_+0],te=J,de=J;for(K=0;K<G;++K)te=de+(J=m[_+K])-te,de=T[D+K]+(-256&te?0>te?0:255:te)&255,te=J,z[W+K]=de}}function tl(m,_,T,D){var z=_.width,W=_.o;if(e(m!=null&&_!=null),0>T||0>=D||T+D>W)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new yo,(G=m.ga==null)||(G=_.width*_.o,e(m.Gb.length==0),m.Gb=s(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var K=m.Fa,J=m.P,te=m.qc,de=m.mb,Ne=m.nb,Ie=J+1,xe=te-1,qe=G.l;if(e(K!=null&&de!=null&&_!=null),mi[0]=null,mi[1]=Vs,mi[2]=el,mi[3]=fi,G.ca=de,G.tb=Ne,G.c=_.width,G.i=_.height,e(0<G.c&&0<G.i),1>=te)_=0;else if(G.$a=K[J+0]>>0&3,G.Z=K[J+0]>>2&3,G.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)_=0;else if(qe.put=Hr,qe.ac=mr,qe.bc=Ui,qe.ma=G,qe.width=_.width,qe.height=_.height,qe.Da=_.Da,qe.v=_.v,qe.va=_.va,qe.j=_.j,qe.o=_.o,G.$a)e:{e(G.$a==1),_=or();t:for(;;){if(_==null){_=0;break e}if(e(G!=null),G.mc=_,_.c=G.c,_.i=G.i,_.l=G.l,_.l.ma=G,_.l.width=G.c,_.l.height=G.i,_.a=0,oe(_.m,K,Ie,xe),!fs(G.c,G.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&oo(_.s)?(G.ic=1,K=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(K),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(G.ic=0,_=ao(_,G.c)),!_))break t;_=1;break e}G.mc=null,_=0}else _=xe>=G.c*G.i;G=!_}if(G)return null;m.ga.Lc!=1?m.Ga=0:D=W-T}e(m.ga!=null),e(T+D<=W);e:{if(_=(K=m.ga).c,W=K.l.o,K.$a==0){if(Ie=m.rc,xe=m.Vc,qe=m.Fa,J=m.P+1+T*_,te=m.mb,de=m.nb+T*_,e(J<=m.P+m.qc),K.Z!=0)for(e(mi[K.Z]!=null),G=0;G<D;++G)mi[K.Z](Ie,xe,qe,J,te,de,_),Ie=te,xe=de,de+=_,J+=_;else for(G=0;G<D;++G)r(te,de,qe,J,_),Ie=te,xe=de,de+=_,J+=_;m.rc=Ie,m.Vc=xe}else{if(e(K.mc!=null),_=T+D,e((G=K.mc)!=null),e(_<=G.i),G.C>=_)_=1;else if(K.ic||Ee(),K.ic){K=G.V,Ie=G.Ba,xe=G.c;var Oe=G.i,me=(qe=1,J=G.$/xe,te=G.$%xe,de=G.m,Ne=G.s,G.$),ge=xe*Oe,Be=xe*_,Ve=Ne.wc,Ue=me<Be?Un(Ne,te,J):null;e(me<=ge),e(_<=Oe),e(oo(Ne));t:for(;;){for(;!de.h&&me<Be;){if(te&Ve||(Ue=Un(Ne,te,J)),e(Ue!=null),he(de),256>(Oe=Er(Ue.G[0],Ue.H[0],de)))K[Ie+me]=Oe,++me,++te>=xe&&(te=0,++J<=_&&!(J%16)&&zi(G,J));else{if(!(280>Oe)){qe=0;break t}Oe=ai(Oe-256,de);var ut,st=Er(Ue.G[4],Ue.H[4],de);if(he(de),!(me>=(st=Ar(xe,st=ai(st,de)))&&ge-me>=Oe)){qe=0;break t}for(ut=0;ut<Oe;++ut)K[Ie+me+ut]=K[Ie+me+ut-st];for(me+=Oe,te+=Oe;te>=xe;)te-=xe,++J<=_&&!(J%16)&&zi(G,J);me<Be&&te&Ve&&(Ue=Un(Ne,te,J))}e(de.h==ne(de))}zi(G,J>_?_:J);break t}!qe||de.h&&me<ge?(qe=0,G.a=de.h?5:3):G.$=me,_=qe}else _=gr(G,G.V,G.Ba,G.c,G.i,_,lo);if(!_){D=0;break e}}T+D>=W&&(m.Cc=1),D=1}if(!D)return null;if(m.Cc&&((D=m.ga)!=null&&(D.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+T*z}function b(m,_,T,D,z,W){for(;0<z--;){var G,K=m,J=_+(T?1:0),te=m,de=_+(T?0:3);for(G=0;G<D;++G){var Ne=te[de+4*G];Ne!=255&&(Ne*=32897,K[J+4*G+0]=K[J+4*G+0]*Ne>>23,K[J+4*G+1]=K[J+4*G+1]*Ne>>23,K[J+4*G+2]=K[J+4*G+2]*Ne>>23)}_+=W}}function q(m,_,T,D,z){for(;0<D--;){var W;for(W=0;W<T;++W){var G=m[_+2*W+0],K=15&(te=m[_+2*W+1]),J=4369*K,te=(240&te|te>>4)*J>>16;m[_+2*W+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,m[_+2*W+1]=240&te|K}_+=z}}function se(m,_,T,D,z,W,G,K){var J,te,de=255;for(te=0;te<z;++te){for(J=0;J<D;++J){var Ne=m[_+J];W[G+4*J]=Ne,de&=Ne}_+=T,G+=K}return de!=255}function fe(m,_,T,D,z){var W;for(W=0;W<z;++W)T[D+W]=m[_+W]>>8}function Ee(){$i=b,jn=q,En=se,cr=fe}function Me(m,_,T){O[m]=function(D,z,W,G,K,J,te,de,Ne,Ie,xe,qe,Oe,me,ge,Be,Ve){var Ue,ut=Ve-1>>1,st=K[J+0]|te[de+0]<<16,St=Ne[Ie+0]|xe[qe+0]<<16;e(D!=null);var lt=3*st+St+131074>>2;for(_(D[z+0],255&lt,lt>>16,Oe,me),W!=null&&(lt=3*St+st+131074>>2,_(W[G+0],255&lt,lt>>16,ge,Be)),Ue=1;Ue<=ut;++Ue){var fn=K[J+Ue]|te[de+Ue]<<16,dn=Ne[Ie+Ue]|xe[qe+Ue]<<16,on=st+fn+St+dn+524296,Yt=on+2*(fn+St)>>3;lt=Yt+st>>1,st=(on=on+2*(st+dn)>>3)+fn>>1,_(D[z+2*Ue-1],255&lt,lt>>16,Oe,me+(2*Ue-1)*T),_(D[z+2*Ue-0],255&st,st>>16,Oe,me+(2*Ue-0)*T),W!=null&&(lt=on+St>>1,st=Yt+dn>>1,_(W[G+2*Ue-1],255&lt,lt>>16,ge,Be+(2*Ue-1)*T),_(W[G+2*Ue+0],255&st,st>>16,ge,Be+(2*Ue+0)*T)),st=fn,St=dn}1&Ve||(lt=3*st+St+131074>>2,_(D[z+Ve-1],255&lt,lt>>16,Oe,me+(Ve-1)*T),W!=null&&(lt=3*St+st+131074>>2,_(W[G+Ve-1],255&lt,lt>>16,ge,Be+(Ve-1)*T)))}}function Ge(){Ki[nf]=wy,Ki[sl]=ol,Ki[rm]=_y,Ki[Jc]=Qu,Ki[Zc]=Ql,Ki[Mn]=ih,Ki[rf]=wd,Ki[Gu]=ol,Ki[Gl]=Qu,Ki[eh]=Ql,Ki[th]=ih}function it(m){return m&-16384?0>m?0:255:m>>al}function g(m,_){return it((19077*m>>8)+(26149*_>>8)-14234)}function P(m,_,T){return it((19077*m>>8)-(6419*_>>8)-(13320*T>>8)+8708)}function j(m,_){return it((19077*m>>8)+(33050*_>>8)-17685)}function Y(m,_,T,D,z){D[z+0]=g(m,T),D[z+1]=P(m,_,T),D[z+2]=j(m,_)}function be(m,_,T,D,z){D[z+0]=j(m,_),D[z+1]=P(m,_,T),D[z+2]=g(m,T)}function Re(m,_,T,D,z){var W=P(m,_,T);_=W<<3&224|j(m,_)>>3,D[z+0]=248&g(m,T)|W>>5,D[z+1]=_}function Ke(m,_,T,D,z){var W=240&j(m,_)|15;D[z+0]=240&g(m,T)|P(m,_,T)>>4,D[z+1]=W}function Ht(m,_,T,D,z){D[z+0]=255,Y(m,_,T,D,z+1)}function nn(m,_,T,D,z){be(m,_,T,D,z),D[z+3]=255}function Wt(m,_,T,D,z){Y(m,_,T,D,z),D[z+3]=255}function wn(m,_){return 0>m?0:m>_?_:m}function An(m,_,T){O[m]=function(D,z,W,G,K,J,te,de,Ne){for(var Ie=de+(-2&Ne)*T;de!=Ie;)_(D[z+0],W[G+0],K[J+0],te,de),_(D[z+1],W[G+0],K[J+0],te,de+T),z+=2,++G,++J,de+=2*T;1&Ne&&_(D[z+0],W[G+0],K[J+0],te,de)}}function Ci(m,_,T){return T==0?m==0?_==0?6:5:_==0?4:0:T}function ti(m,_,T,D,z){switch(m>>>30){case 3:wa(_,T,D,z,0);break;case 2:gn(_,T,D,z);break;case 1:pi(_,T,D,z)}}function vo(m,_){var T,D,z=_.M,W=_.Nb,G=m.oc,K=m.pc+40,J=m.oc,te=m.pc+584,de=m.oc,Ne=m.pc+600;for(T=0;16>T;++T)G[K+32*T-1]=129;for(T=0;8>T;++T)J[te+32*T-1]=129,de[Ne+32*T-1]=129;for(0<z?G[K-1-32]=J[te-1-32]=de[Ne-1-32]=129:(i(G,K-32-1,127,21),i(J,te-32-1,127,9),i(de,Ne-32-1,127,9)),D=0;D<m.za;++D){var Ie=_.ya[_.aa+D];if(0<D){for(T=-1;16>T;++T)r(G,K+32*T-4,G,K+32*T+12,4);for(T=-1;8>T;++T)r(J,te+32*T-4,J,te+32*T+4,4),r(de,Ne+32*T-4,de,Ne+32*T+4,4)}var xe=m.Gd,qe=m.Hd+D,Oe=Ie.ad,me=Ie.Hc;if(0<z&&(r(G,K-32,xe[qe].y,0,16),r(J,te-32,xe[qe].f,0,8),r(de,Ne-32,xe[qe].ea,0,8)),Ie.Za){var ge=G,Be=K-32+16;for(0<z&&(D>=m.za-1?i(ge,Be,xe[qe].y[15],4):r(ge,Be,xe[qe+1].y,0,4)),T=0;4>T;T++)ge[Be+128+T]=ge[Be+256+T]=ge[Be+384+T]=ge[Be+0+T];for(T=0;16>T;++T,me<<=2)ge=G,Be=K+_d[T],Us[Ie.Ob[T]](ge,Be),ti(me,Oe,16*+T,ge,Be)}else if(ge=Ci(D,z,Ie.Ob[0]),Ri[ge](G,K),me!=0)for(T=0;16>T;++T,me<<=2)ti(me,Oe,16*+T,G,K+_d[T]);for(T=Ie.Gc,ge=Ci(D,z,Ie.Dd),Gi[ge](J,te),Gi[ge](de,Ne),me=Oe,ge=J,Be=te,255&(Ie=T>>0)&&(170&Ie?_a(me,256,ge,Be):vs(me,256,ge,Be)),Ie=de,me=Ne,255&(T>>=8)&&(170&T?_a(Oe,320,Ie,me):vs(Oe,320,Ie,me)),z<m.Ub-1&&(r(xe[qe].y,0,G,K+480,16),r(xe[qe].f,0,J,te+224,8),r(xe[qe].ea,0,de,Ne+224,8)),T=8*W*m.B,xe=m.sa,qe=m.ta+16*D+16*W*m.R,Oe=m.qa,Ie=m.ra+8*D+T,me=m.Ha,ge=m.Ia+8*D+T,T=0;16>T;++T)r(xe,qe+T*m.R,G,K+32*T,16);for(T=0;8>T;++T)r(Oe,Ie+T*m.B,J,te+32*T,8),r(me,ge+T*m.B,de,Ne+32*T,8)}}function wo(m,_,T,D,z,W,G,K,J){var te=[0],de=[0],Ne=0,Ie=J!=null?J.kd:0,xe=J??new go;if(m==null||12>T)return 7;xe.data=m,xe.w=_,xe.ha=T,_=[_],T=[T],xe.gb=[xe.gb];e:{var qe=_,Oe=T,me=xe.gb;if(e(m!=null),e(Oe!=null),e(me!=null),me[0]=0,12<=Oe[0]&&!n(m,qe[0],"RIFF")){if(n(m,qe[0]+8,"WEBP")){me=3;break e}var ge=tt(m,qe[0]+4);if(12>ge||4294967286<ge){me=3;break e}if(Ie&&ge>Oe[0]-8){me=7;break e}me[0]=ge,qe[0]+=12,Oe[0]-=12}me=0}if(me!=0)return me;for(ge=0<xe.gb[0],T=T[0];;){e:{var Be=m;Oe=_,me=T;var Ve=te,Ue=de,ut=qe=[0];if((lt=Ne=[Ne])[0]=0,8>me[0])me=7;else{if(!n(Be,Oe[0],"VP8X")){if(tt(Be,Oe[0]+4)!=10){me=3;break e}if(18>me[0]){me=7;break e}var st=tt(Be,Oe[0]+8),St=1+nt(Be,Oe[0]+12);if(2147483648<=St*(Be=1+nt(Be,Oe[0]+15))){me=3;break e}ut!=null&&(ut[0]=st),Ve!=null&&(Ve[0]=St),Ue!=null&&(Ue[0]=Be),Oe[0]+=18,me[0]-=18,lt[0]=1}me=0}}if(Ne=Ne[0],qe=qe[0],me!=0)return me;if(Oe=!!(2&qe),!ge&&Ne)return 3;if(W!=null&&(W[0]=!!(16&qe)),G!=null&&(G[0]=Oe),K!=null&&(K[0]=0),G=te[0],qe=de[0],Ne&&Oe&&J==null){me=0;break}if(4>T){me=7;break}if(ge&&Ne||!ge&&!Ne&&!n(m,_[0],"ALPH")){T=[T],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{st=m,me=_,ge=T;var lt=xe.gb;Ve=xe.na,Ue=xe.P,ut=xe.Sa,St=22,e(st!=null),e(ge!=null),Be=me[0];var fn=ge[0];for(e(Ve!=null),e(ut!=null),Ve[0]=null,Ue[0]=null,ut[0]=0;;){if(me[0]=Be,ge[0]=fn,8>fn){me=7;break e}var dn=tt(st,Be+4);if(4294967286<dn){me=3;break e}var on=8+dn+1&-2;if(St+=on,0<lt&&St>lt){me=3;break e}if(!n(st,Be,"VP8 ")||!n(st,Be,"VP8L")){me=0;break e}if(fn[0]<on){me=7;break e}n(st,Be,"ALPH")||(Ve[0]=st,Ue[0]=Be+8,ut[0]=dn),Be+=on,fn-=on}}if(T=T[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],me!=0)break}T=[T],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(lt=m,me=_,ge=T,Ve=xe.gb[0],Ue=xe.Ja,ut=xe.xa,st=me[0],Be=!n(lt,st,"VP8 "),St=!n(lt,st,"VP8L"),e(lt!=null),e(ge!=null),e(Ue!=null),e(ut!=null),8>ge[0])me=7;else{if(Be||St){if(lt=tt(lt,st+4),12<=Ve&&lt>Ve-12){me=3;break e}if(Ie&&lt>ge[0]-8){me=7;break e}Ue[0]=lt,me[0]+=8,ge[0]-=8,ut[0]=St}else ut[0]=5<=ge[0]&&lt[st+0]==47&&!(lt[st+4]>>5),Ue[0]=ge[0];me=0}if(T=T[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],_=_[0],me!=0)break;if(4294967286<xe.Ja)return 3;if(K==null||Oe||(K[0]=xe.xa?2:1),G=[G],qe=[qe],xe.xa){if(5>T){me=7;break}K=G,Ie=qe,Oe=W,m==null||5>T?m=0:5<=T&&m[_+0]==47&&!(m[_+4]>>5)?(ge=[0],lt=[0],Ve=[0],oe(Ue=new F,m,_,T),ht(Ue,ge,lt,Ve)?(K!=null&&(K[0]=ge[0]),Ie!=null&&(Ie[0]=lt[0]),Oe!=null&&(Oe[0]=Ve[0]),m=1):m=0):m=0}else{if(10>T){me=7;break}K=qe,m==null||10>T||!Dl(m,_+3,T-3)?m=0:(Ie=m[_+0]|m[_+1]<<8|m[_+2]<<16,Oe=16383&(m[_+7]<<8|m[_+6]),m=16383&(m[_+9]<<8|m[_+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=xe.Ja||!Oe||!m?m=0:(G&&(G[0]=Oe),K&&(K[0]=m),m=1))}if(!m||(G=G[0],qe=qe[0],Ne&&(te[0]!=G||de[0]!=qe)))return 3;J!=null&&(J[0]=xe,J.offset=_-J.w,e(4294967286>_-J.w),e(J.offset==J.ha-T));break}return me==0||me==7&&Ne&&J==null?(W!=null&&(W[0]|=xe.na!=null&&0<xe.na.length),D!=null&&(D[0]=G),z!=null&&(z[0]=qe),0):me}function ju(m,_,T){var D=_.width,z=_.height,W=0,G=0,K=D,J=z;if(_.Da=m!=null&&0<m.Da,_.Da&&(K=m.cd,J=m.bd,W=m.v,G=m.j,11>T||(W&=-2,G&=-2),0>W||0>G||0>=K||0>=J||W+K>D||G+J>z))return 0;if(_.v=W,_.j=G,_.va=W+K,_.o=G+J,_.U=K,_.T=J,_.da=m!=null&&0<m.da,_.da){if(!Dt(K,J,T=[m.ib],W=[m.hb]))return 0;_.ib=T[0],_.hb=W[0]}return _.ob=m!=null&&m.ob,_.Kb=m==null||!m.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*z/4,_.Kb=0),1}function Mu(m){if(m==null)return 2;if(11>m.S){var _=m.f.RGBA;_.fb+=(m.height-1)*_.A,_.A=-_.A}else _=m.f.kb,m=m.height,_.O+=(m-1)*_.fa,_.fa=-_.fa,_.N+=(m-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(m-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(m-1)*_.lb,_.lb=-_.lb);return 0}function Bl(m,_,T,D){if(D==null||0>=m||0>=_)return 2;if(T!=null){if(T.Da){var z=T.cd,W=T.bd,G=-2&T.v,K=-2&T.j;if(0>G||0>K||0>=z||0>=W||G+z>m||K+W>_)return 2;m=z,_=W}if(T.da){if(!Dt(m,_,z=[T.ib],W=[T.hb]))return 2;m=z[0],_=W[0]}}D.width=m,D.height=_;e:{var J=D.width,te=D.height;if(m=D.S,0>=J||0>=te||!(m>=nf&&13>m))m=2;else{if(0>=D.Rd&&D.sd==null){G=W=z=_=0;var de=(K=J*sh[m])*te;if(11>m||(W=(te+1)/2*(_=(J+1)/2),m==12&&(G=(z=J)*te)),(te=s(de+2*W+G))==null){m=1;break e}D.sd=te,11>m?((J=D.f.RGBA).eb=te,J.fb=0,J.A=K,J.size=de):((J=D.f.kb).y=te,J.O=0,J.fa=K,J.Fd=de,J.f=te,J.N=0+de,J.Ab=_,J.Cd=W,J.ea=te,J.W=0+de+W,J.Db=_,J.Ed=W,m==12&&(J.F=te,J.J=0+de+2*W),J.Tc=G,J.lb=z)}if(_=1,z=D.S,W=D.width,G=D.height,z>=nf&&13>z)if(11>z)m=D.f.RGBA,_&=(K=Math.abs(m.A))*(G-1)+W<=m.size,_&=K>=W*sh[z],_&=m.eb!=null;else{m=D.f.kb,K=(W+1)/2,de=(G+1)/2,J=Math.abs(m.fa),te=Math.abs(m.Ab);var Ne=Math.abs(m.Db),Ie=Math.abs(m.lb),xe=Ie*(G-1)+W;_&=J*(G-1)+W<=m.Fd,_&=te*(de-1)+K<=m.Cd,_=(_&=Ne*(de-1)+K<=m.Ed)&J>=W&te>=K&Ne>=K,_&=m.y!=null,_&=m.f!=null,_&=m.ea!=null,z==12&&(_&=Ie>=W,_&=xe<=m.Tc,_&=m.F!=null)}else _=0;m=_?0:2}}return m!=0||T!=null&&T.fd&&(m=Mu(D)),m}var ur=64,Fu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vu=24,Bu=32,Uu=8,Pi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(m){return m},O.Predictor2=function(m,_,T){return _[T+0]},O.Predictor3=function(m,_,T){return _[T+1]},O.Predictor4=function(m,_,T){return _[T-1]},O.Predictor5=function(m,_,T){return ot(ot(m,_[T+1]),_[T+0])},O.Predictor6=function(m,_,T){return ot(m,_[T-1])},O.Predictor7=function(m,_,T){return ot(m,_[T+0])},O.Predictor8=function(m,_,T){return ot(_[T-1],_[T+0])},O.Predictor9=function(m,_,T){return ot(_[T+0],_[T+1])},O.Predictor10=function(m,_,T){return ot(ot(m,_[T-1]),ot(_[T+0],_[T+1]))},O.Predictor11=function(m,_,T){var D=_[T+0];return 0>=Ut(D>>24&255,m>>24&255,(_=_[T-1])>>24&255)+Ut(D>>16&255,m>>16&255,_>>16&255)+Ut(D>>8&255,m>>8&255,_>>8&255)+Ut(255&D,255&m,255&_)?D:m},O.Predictor12=function(m,_,T){var D=_[T+0];return(vt((m>>24&255)+(D>>24&255)-((_=_[T-1])>>24&255))<<24|vt((m>>16&255)+(D>>16&255)-(_>>16&255))<<16|vt((m>>8&255)+(D>>8&255)-(_>>8&255))<<8|vt((255&m)+(255&D)-(255&_)))>>>0},O.Predictor13=function(m,_,T){var D=_[T-1];return(Rt((m=ot(m,_[T+0]))>>24&255,D>>24&255)<<24|Rt(m>>16&255,D>>16&255)<<16|Rt(m>>8&255,D>>8&255)<<8|Rt(m>>0&255,D>>0&255))>>>0};var Ul=O.PredictorAdd0;O.PredictorAdd1=bt,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var ga=O.PredictorAdd2;qt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var tf,Ni=O.ColorIndexInverseTransform,zu=O.MapARGB,Yc=O.VP8LColorIndexInverseTransformAlpha,qu=O.MapAlpha,Wo=O.VP8LPredictorsAdd=[];Wo.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var nl,Ii,di,rl,ya,va,Hu,wa,gn,_a,pi,vs,zl,Qc,ql,Hl,Wl,ws,ba,$o,xa,Sa,il,ni,$i,jn,En,cr,Cr=s(511),Go=s(2041),Wu=s(225),$l=s(767),Xc=0,Ko=Go,$u=Wu,ki=$l,Bs=Cr,nf=0,sl=1,rm=2,Jc=3,Zc=4,Mn=5,rf=6,Gu=7,Gl=8,eh=9,th=10,nh=[2,3,7],sf=[3,3,11],Kl=[280,256,256,256,40],im=[0,1,1,1,0],my=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],of=8,Ku=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yl=null,gd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],om=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],am=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yy=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],vy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ri=[],Us=[],Gi=[],Yo=1,Yu=2,mi=[],Ki=[];Me("UpsampleRgbLinePair",Y,3),Me("UpsampleBgrLinePair",be,3),Me("UpsampleRgbaLinePair",Wt,4),Me("UpsampleBgraLinePair",nn,4),Me("UpsampleArgbLinePair",Ht,4),Me("UpsampleRgba4444LinePair",Ke,2),Me("UpsampleRgb565LinePair",Re,2);var wy=O.UpsampleRgbLinePair,_y=O.UpsampleBgrLinePair,ol=O.UpsampleRgbaLinePair,Qu=O.UpsampleBgraLinePair,Ql=O.UpsampleArgbLinePair,ih=O.UpsampleRgba4444LinePair,wd=O.UpsampleRgb565LinePair,Aa=16,_o=1<<Aa-1,Tn=-227,In=482,al=6,ri=0,Yi=s(256),Xl=s(256),Xu=s(256),Qi=s(256),af=s(In-Tn),lm=s(In-Tn);An("YuvToRgbRow",Y,3),An("YuvToBgrRow",be,3),An("YuvToRgbaRow",Wt,4),An("YuvToBgraRow",nn,4),An("YuvToArgbRow",Ht,4),An("YuvToRgba4444Row",Ke,2),An("YuvToRgb565Row",Re,2);var _d=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jl=[0,2,8],um=[8,7,6,4,4,2,2,2,1,1,1,1],Ea=1;this.WebPDecodeRGBA=function(m,_,T,D,z){var W=sl,G=new ys,K=new sr;G.ba=K,K.S=W,K.width=[K.width],K.height=[K.height];var J=K.width,te=K.height,de=new qr;if(de==null||m==null)var Ne=2;else e(de!=null),Ne=wo(m,_,T,de.width,de.height,de.Pd,de.Qd,de.format,null);if(Ne!=0?J=0:(J!=null&&(J[0]=de.width[0]),te!=null&&(te[0]=de.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],D!=null&&(D[0]=K.width),z!=null&&(z[0]=K.height);e:{if(D=new ca,(z=new go).data=m,z.w=_,z.ha=T,z.kd=1,_=[0],e(z!=null),((m=wo(z.data,z.w,z.ha,null,null,null,_,null,z))==0||m==7)&&_[0]&&(m=4),(_=m)==0){if(e(G!=null),D.data=z.data,D.w=z.w+z.offset,D.ha=z.ha-z.offset,D.put=Hr,D.ac=mr,D.bc=Ui,D.ma=G,z.xa){if((m=or())==null){G=1;break e}if(function(Ie,xe){var qe=[0],Oe=[0],me=[0];t:for(;;){if(Ie==null)return 0;if(xe==null)return Ie.a=2,0;if(Ie.l=xe,Ie.a=0,oe(Ie.m,xe.data,xe.w,xe.ha),!ht(Ie.m,qe,Oe,me)){Ie.a=3;break t}if(Ie.xb=Yu,xe.width=qe[0],xe.height=Oe[0],!fs(qe[0],Oe[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0}(m,D)){if(D=(_=Bl(D.width,D.height,G.Oa,G.ba))==0){t:{D=m;n:for(;;){if(D==null){D=0;break t}if(e(D.s.yc!=null),e(D.s.Ya!=null),e(0<D.s.Wb),e((T=D.l)!=null),e((z=T.ma)!=null),D.xb!=0){if(D.ca=z.ba,D.tb=z.tb,e(D.ca!=null),!ju(z.Oa,T,Jc)){D.a=2;break n}if(!ao(D,T.width)||T.da)break n;if((T.da||tn(D.ca.S))&&Ee(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Ee()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!xt(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!gr(D,D.V,D.Ba,D.c,D.i,T.o,Ro))break n;z.Dc=D.Ma,D=1;break t}e(D.a!=0),D=0}D=!D}D&&(_=m.a)}else _=m.a}else{if((m=new Qr)==null){G=1;break e}if(m.Fa=z.na,m.P=z.P,m.qc=z.Sa,Ol(m,D)){if((_=Bl(D.width,D.height,G.Oa,G.ba))==0){if(m.Aa=0,T=G.Oa,e((z=m)!=null),T!=null){if(0<(J=0>(J=T.Md)?0:100<J?255:255*J/100)){for(te=de=0;4>te;++te)12>(Ne=z.pb[te]).lc&&(Ne.ia=J*um[0>Ne.lc?0:Ne.lc]>>3),de|=Ne.ia;de&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=T.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}jo(m,D)||(_=m.a)}}else _=m.a}_==0&&G.Oa!=null&&G.Oa.fd&&(_=Mu(G.ba))}G=_}W=G!=0?null:11>W?K.f.RGBA.eb:K.f.kb.y}else W=null;return W};var sh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(O,U){for(var Q="",L=0;L<4;L++)Q+=String.fromCharCode(O[U++]);return Q}function f(O,U){return(O[U+0]<<0|O[U+1]<<8|O[U+2]<<16)>>>0}function p(O,U){return(O[U+0]<<0|O[U+1]<<8|O[U+2]<<16|O[U+3]<<24)>>>0}new c;var y=[0],v=[0],E=[],S=new c,C=t,R=function(O,U){var Q={},L=0,I=!1,M=0,ee=0;if(Q.frames=[],!function(X,ne,le,he){for(var Ae=0;Ae<he;Ae++)if(X[ne+Ae]!=le.charCodeAt(Ae))return!0;return!1}(O,U,"RIFF",4)){for(p(O,U+=4),U+=8;U<O.length;){var Se=h(O,U),ve=p(O,U+=4);U+=4;var Pe=ve+(1&ve);switch(Se){case"VP8 ":case"VP8L":Q.frames[L]===void 0&&(Q.frames[L]={}),(ye=Q.frames[L]).src_off=I?ee:U-8,ye.src_size=M+ve+8,L++,I&&(I=!1,M=0,ee=0);break;case"VP8X":(ye=Q.header={}).feature_flags=O[U];var oe=U+4;ye.canvas_width=1+f(O,oe),oe+=3,ye.canvas_height=1+f(O,oe),oe+=3;break;case"ALPH":I=!0,M=Pe+8,ee=U-8;break;case"ANIM":(ye=Q.header).bgcolor=p(O,U),oe=U+4,ye.loop_count=(re=O)[(F=oe)+0]<<0|re[F+1]<<8,oe+=2;break;case"ANMF":var we,ye;(ye=Q.frames[L]={}).offset_x=2*f(O,U),U+=3,ye.offset_y=2*f(O,U),U+=3,ye.width=1+f(O,U),U+=3,ye.height=1+f(O,U),U+=3,ye.duration=f(O,U),U+=3,we=O[U++],ye.dispose=1&we,ye.blend=we>>1&1}Se!="ANMF"&&(U+=Pe)}var re,F;return Q}}(C,0);R.response=C,R.rgbaoutput=!0,R.dataurl=!1;var N=R.header?R.header:null,V=R.frames?R.frames:null;if(N){N.loop_counter=N.loop_count,y=[N.canvas_height],v=[N.canvas_width];for(var H=0;H<V.length&&V[H].blend!=0;H++);}var ie=V[0],ce=S.WebPDecodeRGBA(C,ie.src_off,ie.src_size,v,y);ie.rgba=ce,ie.imgwidth=v[0],ie.imgheight=y[0];for(var B=0;B<v[0]*y[0]*4;B++)E[B]=ce[B];return this.width=v,this.height=y,this.data=E,this}(function(t){var e=function(){return typeof v2=="function"},n=function(y,v,E,S){var C=4,R=o;switch(S){case t.image_compression.FAST:C=1,R=s;break;case t.image_compression.MEDIUM:C=6,R=l;break;case t.image_compression.SLOW:C=9,R=c}y=r(y,v,E,R);var N=v2(y,{level:C});return t.__addimage__.arrayBufferToBinaryString(N)},r=function(y,v,E,S){for(var C,R,N,V=y.length/v,H=new Uint8Array(y.length+V),ie=f(),ce=0;ce<V;ce+=1){if(N=ce*v,C=y.subarray(N,N+v),S)H.set(S(C,E,R),N+ce);else{for(var B,O=ie.length,U=[];B<O;B+=1)U[B]=ie[B](C,E,R);var Q=p(U.concat());H.set(U[Q],N+ce)}R=C}return H},i=function(y){var v=Array.apply([],y);return v.unshift(0),v},s=function(y,v){var E,S=[],C=y.length;S[0]=1;for(var R=0;R<C;R+=1)E=y[R-v]||0,S[R+1]=y[R]-E+256&255;return S},o=function(y,v,E){var S,C=[],R=y.length;C[0]=2;for(var N=0;N<R;N+=1)S=E&&E[N]||0,C[N+1]=y[N]-S+256&255;return C},l=function(y,v,E){var S,C,R=[],N=y.length;R[0]=3;for(var V=0;V<N;V+=1)S=y[V-v]||0,C=E&&E[V]||0,R[V+1]=y[V]+256-(S+C>>>1)&255;return R},c=function(y,v,E){var S,C,R,N,V=[],H=y.length;V[0]=4;for(var ie=0;ie<H;ie+=1)S=y[ie-v]||0,C=E&&E[ie]||0,R=E&&E[ie-v]||0,N=h(S,C,R),V[ie+1]=y[ie]-N+256&255;return V},h=function(y,v,E){if(y===v&&v===E)return y;var S=Math.abs(v-E),C=Math.abs(y-E),R=Math.abs(y+v-E-E);return S<=C&&S<=R?y:C<=R?v:E},f=function(){return[i,s,o,l,c]},p=function(y){var v=y.map(function(E){return E.reduce(function(S,C){return S+Math.abs(C)},0)});return v.indexOf(Math.min.apply(null,v))};t.processPNG=function(y,v,E,S){var C,R,N,V,H,ie,ce,B,O,U,Q,L,I,M,ee,Se=this.decode.FLATE_DECODE,ve="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(N=new FH(y)).imgData,R=N.bits,C=N.colorSpace,H=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){O=(B=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,Q=new Uint8Array(O*N.colors),U=new Uint8Array(O);var Pe,oe=N.pixelBitlength-N.bits;for(M=0,ee=0;M<O;M++){for(I=B[M],Pe=0;Pe<oe;)Q[ee++]=I>>>Pe&255,Pe+=N.bits;U[M]=I>>>Pe&255}}if(N.bits===16){O=(B=new Uint32Array(N.decodePixels().buffer)).length,Q=new Uint8Array(O*(32/N.pixelBitlength)*N.colors),U=new Uint8Array(O*(32/N.pixelBitlength)),L=N.colors>1,M=0,ee=0;for(var we=0;M<O;)I=B[M++],Q[ee++]=I>>>0&255,L&&(Q[ee++]=I>>>16&255,I=B[M++],Q[ee++]=I>>>0&255),U[we++]=I>>>16&255;R=8}S!==t.image_compression.NONE&&e()?(y=n(Q,N.width*N.colors,N.colors,S),ce=n(U,N.width,1,S)):(y=Q,ce=U,Se=void 0)}if(N.colorType===3&&(C=this.color_spaces.INDEXED,ie=N.palette,N.transparency.indexed)){var ye=N.transparency.indexed,re=0;for(M=0,O=ye.length;M<O;++M)re+=ye[M];if((re/=255)===O-1&&ye.indexOf(0)!==-1)V=[ye.indexOf(0)];else if(re!==O){for(B=N.decodePixels(),U=new Uint8Array(B.length),M=0,O=B.length;M<O;M++)U[M]=ye[B[M]];ce=n(U,N.width,1)}}var F=function(X){var ne;switch(X){case t.image_compression.FAST:ne=11;break;case t.image_compression.MEDIUM:ne=13;break;case t.image_compression.SLOW:ne=14;break;default:ne=12}return ne}(S);return Se===this.decode.FLATE_DECODE&&(ve="/Predictor "+F+" "),ve+="/Colors "+H+" /BitsPerComponent "+R+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(ce&&this.__addimage__.isArrayBuffer(ce)||this.__addimage__.isArrayBufferView(ce))&&(ce=this.__addimage__.arrayBufferToBinaryString(ce)),{alias:E,data:y,index:v,filter:Se,decodeParameters:ve,transparency:V,palette:ie,sMask:ce,predictor:F,width:N.width,height:N.height,bitsPerComponent:R,colorSpace:C}}}})(Lt.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new VH(e),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:o,height:l},f=new nv(100).encode(h,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(Lt.API),Ma.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ma.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Hn.log("bit decode error:"+n)}},Ma.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Ma.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=s>>4,c=15&s,h=this.palette[l];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ma.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ma.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=h}this.pos+=t}},Ma.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&n)/n*255|0,h=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=h,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},Ma.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ma.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},Ma.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Ma(e,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},h=new nv(100).encode(c,100);return t.processJPEG.call(this,h,n,r,i)}}(Lt.API),PA.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new PA(e),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},h=new nv(100).encode(c,100);return t.processJPEG.call(this,h,n,r,i)}}(Lt.API),Lt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,h=0;h<i;h+=4){var f=r[h],p=r[h+1],y=r[h+2],v=r[h+3];s[l++]=f,s[l++]=p,s[l++]=y,o[c++]=v}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Lt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tf=Lt.API,eg=Tf.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,p=e.doKerning!==!1,y=0,v=t.length,E=0,S=l[0]||c,C=[];for(n=0;n<v;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?C.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(y=p&&Fn(h[r])==="object"&&!isNaN(parseInt(h[r][E],10))?h[r][E]/f:0,C.push((l[r]||S)/c+y)),E=r;return C},AA=Tf.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Tf.processArabic&&(t=Tf.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:eg.apply(this,arguments).reduce(function(s,o){return s+o},0)},EA=function(t,e,n,r){for(var i=[],s=0,o=t.length,l=0;s!==o&&l+e[s]<n;)l+=e[s],s++;i.push(t.slice(0,s));var c=s;for(l=0;s!==o;)l+e[s]>r&&(i.push(t.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},TA=function(t,e,n){n||(n={});var r,i,s,o,l,c,h,f=[],p=[f],y=n.textIndent||0,v=0,E=0,S=t.split(" "),C=eg.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var R=Array(c).join(" "),N=[];S.map(function(H){(H=H.split(/\s*\n/)).length>1?N=N.concat(H.map(function(ie,ce){return(ce&&ie.length?`
`:"")+ie})):N.push(H[0])}),S=N,c=AA.apply(this,[R,n])}for(s=0,o=S.length;s<o;s++){var V=0;if(r=S[s],c&&r[0]==`
`&&(r=r.substr(1),V=1),y+v+(E=(i=eg.apply(this,[r,n])).reduce(function(H,ie){return H+ie},0))>e||V){if(E>e){for(l=EA.apply(this,[r,i,e-(y+v),e]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);E=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(H,ie){return H+ie},0)}else f=[r];p.push(f),y=E+c,v=C}else f.push(r),y+=v+E,v=C}return h=c?function(H,ie){return(ie?R:"")+H.join(" ")}:function(H){return H.join(" ")},p.map(h)},Tf.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var l,c,h=[];for(l=0,c=r.length;l<c;l++)h=h.concat(TA.apply(this,[r[l],o,s]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var y,v,E,S,C=["{"];for(var R in p){if(y=p[R],isNaN(parseInt(R,10))?v="'"+R+"'":(R=parseInt(R,10),v=(v=s(R).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof y=="number")y<0?(E=s(y).slice(3),S="-"):(E=s(y).slice(2),S=""),E=S+E.slice(0,-1)+r[E.slice(-1)];else{if(Fn(y)!=="object")throw new Error("Don't know what to do with value type "+Fn(y)+".");E=o(y)}C.push(v+E)}return C.push("}"),C.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,v,E,S,C={},R=1,N=C,V=[],H="",ie="",ce=p.length-1,B=1;B<ce;B+=1)(S=p[B])=="'"?y?(E=y.join(""),y=void 0):y=[]:y?y.push(S):S=="{"?(V.push([N,E]),N={},E=void 0):S=="}"?((v=V.pop())[0][v[1]]=N,E=void 0,N=v[0]):S=="-"?R=-1:E===void 0?n.hasOwnProperty(S)?(H+=n[S],E=parseInt(H,16)*R,R=1,H=""):H+=S:n.hasOwnProperty(S)?(ie+=n[S],N[E]=parseInt(ie,16)*R,R=1,E=void 0,ie=""):ie+=S;return C},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var y=p.font,v=f.Unicode[y.postScriptName];v&&(y.metadata.Unicode={},y.metadata.Unicode.widths=v.widths,y.metadata.Unicode.kerning=v.kerning);var E=h.Unicode[y.postScriptName];E&&(y.metadata.Unicode.encoding=E,y.encoding=E.codePages[0])}])}(Lt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(hp(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Lt),function(t){function e(){return(jt.canvg?Promise.resolve(jt.canvg):d2(()=>import("./index.es-CIY-6tw0.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Lt.API.addSvgAsImage=function(n,r,i,s,o,l,c,h){if(isNaN(r)||isNaN(i))throw Hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return e().then(function(E){return E.fromString(p,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(y)}).then(function(){v.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,c,h)})}}(),Lt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Lt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],h=0,f=0,p=0;function y(E,S){var C,R=!1;for(C=0;C<E.length;C+=1)E[C]===S&&(R=!0);return R}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var v=l.length;for(p=0;p<v;p+=1)n[l[p]].value=n[l[p]].defaultValue,n[l[p]].explicitSet=!1}if(Fn(t)==="object"){for(i in t)if(s=t[i],y(l,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&y(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(f=0;f<s[h].length;f+=1)typeof s[h][f]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,S=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?S.push("/"+E+" /"+n[E].value):S.push("/"+E+" "+n[E].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Lt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],p=0,y=s.length;p<y;++p){if(l=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(h[4-l.length],l)}return f.join("")},r=function(s){var o,l,c,h,f,p,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,y=(l=Object.keys(s).sort(function(v,E){return v-E})).length;p<y;p++)o=l[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+h+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,h=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),v="",E=0;E<y.length;E++)v+=String.fromCharCode(y[E]);var S=h();f({data:v,addLength1:!0,objectId:S}),c("endobj");var C=h();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var R=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Lf(l.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var N=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+Lf(l.fontName)),c("/FontDescriptor "+R+" 0 R"),c("/W "+t.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+Lf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,h=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,y="",v=0;v<p.length;v++)y+=String.fromCharCode(p[v]);var E=h();f({data:y,addLength1:!0,objectId:E}),c("endobj");var S=h();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var C=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Lf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var R=0;R<l.metadata.hmtx.widths.length;R++)l.metadata.hmtx.widths[R]=parseInt(l.metadata.hmtx.widths[R]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Lf(l.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",c=s.x,h=s.y,f=s.options||{},p=s.mutex||{},y=p.pdfEscape,v=p.activeFontKey,E=p.fonts,S=v,C="",R=0,N="",V=E[S].encoding;if(E[S].encoding!=="Identity-H")return{text:l,x:c,y:h,options:f,mutex:p};for(N=l,S=v,Array.isArray(l)&&(N=l[0]),R=0;R<N.length;R+=1)E[S].metadata.hasOwnProperty("cmap")&&(o=E[S].metadata.cmap.unicode.codeMap[N[R].charCodeAt(0)]),o||N[R].charCodeAt(0)<256&&E[S].metadata.hasOwnProperty("Unicode")?C+=N[R]:C+="";var H="";return parseInt(S.slice(1))<14||V==="WinAnsiEncoding"?H=y(C,S).split("").map(function(ie){return ie.charCodeAt(0).toString(16)}).join(""):V==="Identity-H"&&(H=n(C,E[S])),p.isHex=!0,{text:H,x:c,y:h,options:f,mutex:p}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?l.push([i(Object.assign({},c,{text:o[h][0]})).text,o[h][1],o[h][2]]):l.push(i(Object.assign({},c,{text:o[h]})).text);s.text=l}else s.text=i(Object.assign({},c,{text:o})).text}])}(Lt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Lt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,l,c,h,f,p=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],R=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,V=0;this.__bidiEngine__={};var H=function(L){var I=L.charCodeAt(),M=I>>8,ee=S[M];return ee!==void 0?p[256*ee+(255&I)]:M===252||M===253?"AL":R.test(M)?"L":M===8?"R":"N"},ie=function(L){for(var I,M=0;M<L.length;M++){if((I=H(L.charAt(M)))==="L")return!1;if(I==="R")return!0}return!1},ce=function(L,I,M,ee){var Se,ve,Pe,oe,we=I[ee];switch(we){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(we="AN");break;case"AL":N=!0,we="R";break;case"WS":we="N";break;case"CS":ee<1||ee+1>=I.length||(Se=M[ee-1])!=="EN"&&Se!=="AN"||(ve=I[ee+1])!=="EN"&&ve!=="AN"?we="N":N&&(ve="AN"),we=ve===Se?ve:"N";break;case"ES":we=(Se=ee>0?M[ee-1]:"B")==="EN"&&ee+1<I.length&&I[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&M[ee-1]==="EN"){we="EN";break}if(N){we="N";break}for(Pe=ee+1,oe=I.length;Pe<oe&&I[Pe]==="ET";)Pe++;we=Pe<oe&&I[Pe]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(oe=I.length,Pe=ee+1;Pe<oe&&I[Pe]==="NSM";)Pe++;if(Pe<oe){var ye=L[ee],re=ye>=1425&&ye<=2303||ye===64286;if(Se=I[Pe],re&&(Se==="R"||Se==="AL")){we="R";break}}}we=ee<1||(Se=I[ee-1])==="B"?"N":M[ee-1];break;case"B":N=!1,i=!0,we=V;break;case"S":s=!0,we="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":we="N"}return we},B=function(L,I,M){var ee=L.split("");return M&&O(ee,M,{hiLevel:V}),ee.reverse(),I&&I.reverse(),ee.join("")},O=function(L,I,M){var ee,Se,ve,Pe,oe,we=-1,ye=L.length,re=0,F=[],X=V?v:y,ne=[];for(N=!1,i=!1,s=!1,Se=0;Se<ye;Se++)ne[Se]=H(L[Se]);for(ve=0;ve<ye;ve++){if(oe=re,F[ve]=ce(L,ne,F,ve),ee=240&(re=X[oe][E[F[ve]]]),re&=15,I[ve]=Pe=X[re][5],ee>0)if(ee===16){for(Se=we;Se<ve;Se++)I[Se]=1;we=-1}else we=-1;if(X[re][6])we===-1&&(we=ve);else if(we>-1){for(Se=we;Se<ve;Se++)I[Se]=Pe;we=-1}ne[ve]==="B"&&(I[ve]=0),M.hiLevel|=Pe}s&&function(le,he,Ae){for(var Te=0;Te<Ae;Te++)if(le[Te]==="S"){he[Te]=V;for(var Ce=Te-1;Ce>=0&&le[Ce]==="WS";Ce--)he[Ce]=V}}(ne,I,ye)},U=function(L,I,M,ee,Se){if(!(Se.hiLevel<L)){if(L===1&&V===1&&!i)return I.reverse(),void(M&&M.reverse());for(var ve,Pe,oe,we,ye=I.length,re=0;re<ye;){if(ee[re]>=L){for(oe=re+1;oe<ye&&ee[oe]>=L;)oe++;for(we=re,Pe=oe-1;we<Pe;we++,Pe--)ve=I[we],I[we]=I[Pe],I[Pe]=ve,M&&(ve=M[we],M[we]=M[Pe],M[Pe]=ve);re=oe}re++}}},Q=function(L,I,M){var ee=L.split(""),Se={hiLevel:V};return M||(M=[]),O(ee,M,Se),function(ve,Pe,oe){if(oe.hiLevel!==0&&f)for(var we,ye=0;ye<ve.length;ye++)Pe[ye]===1&&(we=C.indexOf(ve[ye]))>=0&&(ve[ye]=C[we+1])}(ee,M,Se),U(2,ee,I,M,Se),U(1,ee,I,M,Se),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(L,I,M){if(function(Se,ve){if(ve)for(var Pe=0;Pe<Se.length;Pe++)ve[Pe]=Pe;l===void 0&&(l=ie(Se)),h===void 0&&(h=ie(Se))}(L,I),o||!c||h)if(o&&c&&l^h)V=l?1:0,L=B(L,I,M);else if(!o&&c&&h)V=l?1:0,L=Q(L,I,M),L=B(L,I);else if(!o||l||c||h){if(o&&!c&&l^h)L=B(L,I),l?(V=0,L=Q(L,I,M)):(V=1,L=Q(L,I,M),L=B(L,I));else if(o&&l&&!c&&h)V=1,L=Q(L,I,M),L=B(L,I);else if(!o&&!c&&l^h){var ee=f;l?(V=1,L=Q(L,I,M),V=0,f=!1,L=Q(L,I,M),f=ee):(V=0,L=Q(L,I,M),L=B(L,I),V=1,f=!1,L=Q(L,I,M),f=ee,L=B(L,I))}}else V=0,L=Q(L,I,M);else V=l?1:0,L=Q(L,I,M);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,c=L.isOutputVisual,l=L.isInputRtl,h=L.isOutputRtl,f=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([n.doBidiReorder(i[l])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Lt),Lt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Bc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new eW(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new BH(this.contents),this.head=new zH(this),this.name=new GH(this),this.cmap=new BP(this),this.toUnicode={},this.hhea=new qH(this),this.maxp=new KH(this),this.hmtx=new YH(this),this.post=new WH(this),this.os2=new HH(this),this.loca=new ZH(this),this.glyf=new QH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,h;for(h=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Ga,Bc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,l,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),BH=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,l,c,h,f,p,y,v,E,S;for(S in v=Object.keys(n).length,c=Math.log(2),p=16*Math.floor(Math.log(v)/c),o=Math.floor(p/c),f=16*v-p,(i=new Bc).writeInt(this.scalarType),i.writeShort(v),i.writeShort(p),i.writeShort(o),i.writeShort(f),s=16*v,h=i.pos+s,l=null,E=[],n)for(y=n[S],i.writeString(S),i.writeInt(t(y)),i.writeInt(h),i.writeInt(y.length),E=E.concat(y),S==="head"&&(l=h),h+=y.length;h%4;)E.push(0),h++;return i.write(E),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=UP.call(n);n.length%4;)n.push(0);for(s=new Bc(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),UH={}.hasOwnProperty,Ll=function(t,e){for(var n in e)UH.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Ga=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var zH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Bc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),NA=function(){function t(e,n){var r,i,s,o,l,c,h,f,p,y,v,E,S,C,R,N,V;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(v=e.readUInt16(),y=v/2,e.pos+=6,s=function(){var H,ie;for(ie=[],c=H=0;0<=y?H<y:H>y;c=0<=y?++H:--H)ie.push(e.readUInt16());return ie}(),e.pos+=2,S=function(){var H,ie;for(ie=[],c=H=0;0<=y?H<y:H>y;c=0<=y?++H:--H)ie.push(e.readUInt16());return ie}(),h=function(){var H,ie;for(ie=[],c=H=0;0<=y?H<y:H>y;c=0<=y?++H:--H)ie.push(e.readUInt16());return ie}(),f=function(){var H,ie;for(ie=[],c=H=0;0<=y?H<y:H>y;c=0<=y?++H:--H)ie.push(e.readUInt16());return ie}(),i=(this.length-e.pos+this.offset)/2,l=function(){var H,ie;for(ie=[],c=H=0;0<=i?H<i:H>i;c=0<=i?++H:--H)ie.push(e.readUInt16());return ie}(),c=R=0,V=s.length;R<V;c=++R)for(C=s[c],r=N=E=S[c];E<=C?N<=C:N>=C;r=E<=C?++N:--N)f[c]===0?o=r+h[c]:(o=l[f[c]/2+(r-E)-(y-c)]||0)!==0&&(o+=h[c]),this.codeMap[r]=65535&o}e.pos=p}return t.encode=function(e,n){var r,i,s,o,l,c,h,f,p,y,v,E,S,C,R,N,V,H,ie,ce,B,O,U,Q,L,I,M,ee,Se,ve,Pe,oe,we,ye,re,F,X,ne,le,he,Ae,Te,Ce,He,$e,nt;switch(ee=new Bc,o=Object.keys(e).sort(function(tt,xt){return tt-xt}),n){case"macroman":for(S=0,C=function(){var tt=[];for(E=0;E<256;++E)tt.push(0);return tt}(),N={0:0},s={},Se=0,we=o.length;Se<we;Se++)N[Ce=e[i=o[Se]]]==null&&(N[Ce]=++S),s[i]={old:e[i],new:N[e[i]]},C[i]=N[e[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(C),{charMap:s,subtable:ee.data,maxGlyphID:S+1};case"unicode":for(I=[],p=[],V=0,N={},r={},R=h=null,ve=0,ye=o.length;ve<ye;ve++)N[ie=e[i=o[ve]]]==null&&(N[ie]=++V),r[i]={old:ie,new:N[ie]},l=N[ie]-i,R!=null&&l===h||(R&&p.push(R),I.push(i),h=l),R=i;for(R&&p.push(R),p.push(65535),I.push(65535),Q=2*(U=I.length),O=2*Math.pow(Math.log(U)/Math.LN2,2),y=Math.log(O/2)/Math.LN2,B=2*U-O,c=[],ce=[],v=[],E=Pe=0,re=I.length;Pe<re;E=++Pe){if(L=I[E],f=p[E],L===65535){c.push(0),ce.push(0);break}if(L-(M=r[L].new)>=32768)for(c.push(0),ce.push(2*(v.length+U-E)),i=oe=L;L<=f?oe<=f:oe>=f;i=L<=f?++oe:--oe)v.push(r[i].new);else c.push(M-L),ce.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*U+2*v.length),ee.writeUInt16(0),ee.writeUInt16(Q),ee.writeUInt16(O),ee.writeUInt16(y),ee.writeUInt16(B),Ae=0,F=p.length;Ae<F;Ae++)i=p[Ae],ee.writeUInt16(i);for(ee.writeUInt16(0),Te=0,X=I.length;Te<X;Te++)i=I[Te],ee.writeUInt16(i);for(He=0,ne=c.length;He<ne;He++)l=c[He],ee.writeUInt16(l);for($e=0,le=ce.length;$e<le;$e++)H=ce[$e],ee.writeUInt16(H);for(nt=0,he=v.length;nt<he;nt++)S=v[nt],ee.writeUInt16(S);return{charMap:r,subtable:ee.data,maxGlyphID:V+1}}},t}(),BP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new NA(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=NA.encode(n,r),(s=new Bc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),qH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),HH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),WH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,h;for(h=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)h.push(n.readUInt32());return h}).call(this)}},e}(),$H=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},GH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,l,c,h,f,p,y,v;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(h={},o=p=0,y=i.length;p<y;o=++p)s=i[o],n.pos=s.offset,f=n.readString(s.length),l=new $H(f,s),h[v=s.nameID]==null&&(h[v]=[]),h[s.nameID].push(l);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),KH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),YH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,l,c,h;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)p.push(n.readInt16());return p}(),this.widths=(function(){var f,p,y,v;for(v=[],f=0,p=(y=this.metrics).length;f<p;f++)o=y[f],v.push(o.advance);return v}).call(this),i=this.widths[this.widths.length-1],h=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),UP=[].slice,QH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,l,c,h,f,p,y;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(c=new Bc(r.read(s))).readShort(),f=c.readShort(),y=c.readShort(),h=c.readShort(),p=c.readShort(),this.cache[n]=l===-1?new JH(c,f,y,h,p):new XH(c,l,f,y,h,p),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,l,c,h;for(l=[],o=[],c=0,h=r.length;c<h;c++)s=n[r[c]],o.push(l.length),s&&(l=l.concat(s.encode(i)));return o.push(l.length),{table:l,offsets:o}},e}(),XH=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),JH=function(){function t(e,n,r,i,s){var o,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Bc(UP.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),ZH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ll(e,Ga),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<i.length;++l)if(i[l]=s,o<r.length&&r[o]==l){++o,i[l]=s;var c=this.offsets[l],h=this.offsets[l+1]-c;h>0&&(s+=h)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},e}(),eW=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,l,c,h,f,p,y,v,E,S,C,R;for(i in r=BP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),v={0:0},R=r.charMap)v[(c=R[i]).old]=c.new;for(E in y=r.maxGlyphID,o)E in v||(v[E]=y++);return f=function(N){var V,H;for(V in H={},N)H[N[V]]=V;return H}(v),p=Object.keys(f).sort(function(N,V){return N-V}),S=function(){var N,V,H;for(H=[],N=0,V=p.length;N<V;N++)l=p[N],H.push(f[l]);return H}(),s=this.font.glyf.encode(o,S,v),h=this.font.loca.encode(s.offsets,S),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},t}();Lt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var l,c,h;for(h=[],l=0,c=n.length;l<c;l++)r=n[l],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function zP(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():s,h=l*c,f=/\r\n|\r|\n/g,p="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof t=="string"?t.split(f):t,y=p.length||1),n+=l*(2-s),r.valign==="middle"?n-=y/2*h:r.valign==="bottom"&&(n-=y*h),r.halign==="center"||r.halign==="right"){var v=l;if(r.halign==="center"&&(v*=.5),p&&y>=1){for(var E=0;E<p.length;E++)i.text(p[E],e-i.getStringUnitWidth(p[E])*v,n),n+=h;return i}e-=i.getStringUnitWidth(t)*v}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var IA={},Yf=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:IA=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),l=h[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return IA||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),E2=function(t,e){return E2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},E2(t,e)};function qP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var HP=function(t){qP(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function tW(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function nW(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function u0(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function WP(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=$P(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function $P(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function dy(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function GP(t,e){var n=dy(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function rW(t,e,n,r,i){var s={},o=1.3333333333333333,l=rv(e,function(V){return i.getComputedStyle(V).backgroundColor});l!=null&&(s.fillColor=l);var c=rv(e,function(V){return i.getComputedStyle(V).color});c!=null&&(s.textColor=c);var h=sW(r,n);h&&(s.cellPadding=h);var f="borderTopColor",p=o*n,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var v=(parseFloat(y)||0)/p;v&&(s.lineWidth=v)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var E=rv(e,function(V){return i.getComputedStyle(V)[f]});E!=null&&(s.lineColor=E);var S=["left","right","center","justify"];S.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),S=["middle","bottom","top"],S.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var C=parseInt(r.fontSize||"");isNaN(C)||(s.fontSize=C/o);var R=iW(r);R&&(s.fontStyle=R);var N=(r.fontFamily||"").toLowerCase();return t.indexOf(N)!==-1&&(s.font=N),s}function iW(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function rv(t,e){var n=KP(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function KP(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:KP(t.parentElement,e):n}function sW(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(l){return parseInt(l||"0")/r}),o=dy(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function YP(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=n.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),h=t.scaleFactor(),f=[],p=[],y=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:p,foot:y};for(var v=0;v<l.rows.length;v++){var E=l.rows[v],S=(o=(s=E?.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),C=oW(c,h,n,E,r,i);C&&(S==="thead"?f.push(C):S==="tfoot"?y.push(C):p.push(C))}return{head:f,body:p,foot:y}}function oW(t,e,n,r,i,s){for(var o=new HP(r),l=0;l<r.cells.length;l++){var c=r.cells[l],h=n.getComputedStyle(c);if(i||h.display!=="none"){var f=void 0;s&&(f=rW(t,c,e,h,n)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:aW(c)})}}var p=n.getComputedStyle(r);if(o.length>0&&(i||p.display!=="none"))return o}function aW(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function lW(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function cu(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function QP(t,e){var n=new Yf(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();lW(i,r,e);var s=cu({},i,r,e),o;typeof window<"u"&&(o=window);var l=uW(i,r,e),c=cW(i,r,e),h=hW(n,s),f=dW(n,s,o);return{id:e.tableId,content:f,hooks:c,styles:l,settings:h}}function uW(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var h=t[c],f=e[c],p=n[c];r.columnStyles=cu({},h,f,p)}else{var y=[t,e,n],v=y.map(function(E){return E[c]||{}});r[c]=cu({},v[0],v[1],v[2])}},s=0,o=Object.keys(r);s<o.length;s++){var l=o[s];i(l)}return r}function cW(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var l=o[s];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function hW(t,e){var n,r,i,s,o,l,c,h,f,p,y,v,E=dy(e.margin,40/t.scaleFactor()),S=(n=fW(t,e.startY))!==null&&n!==void 0?n:E.top,C;e.showFoot===!0?C="everyPage":e.showFoot===!1?C="never":C=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var R;e.showHead===!0?R="everyPage":e.showHead===!1?R="never":R=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var N=(s=e.useCss)!==null&&s!==void 0?s:!1,V=e.theme||(N?"plain":"striped"),H=!!e.horizontalPageBreak,ie=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:N,theme:V,startY:S,margin:E,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:R,showFoot:C,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:H,horizontalPageBreakRepeat:ie,horizontalPageBreakBehaviour:(v=e.horizontalPageBreakBehaviour)!==null&&v!==void 0?v:"afterAllRows"}}function fW(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&n?.finalY!=null?n.finalY+20/r:null}function dW(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var l=YP(t,e.html,n,o,e.useCss)||{};r=l.head||r,i=l.body||r,s=l.foot||r}else console.error("Cannot parse html in non browser environment")}var c=e.columns||pW(r,i,s);return{columns:c,head:r,body:i,foot:s}}function pW(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(r)?l=r[parseInt(s)]:l=r[s],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var h=void 0;Array.isArray(r)?h=i.length:h=s+(c>0?"_".concat(c):"");var f={dataKey:h};i.push(f)}}),i}var T2=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),mW=function(t){qP(e,t);function e(n,r,i,s,o,l){var c=t.call(this,n,r,l)||this;return c.cell=i,c.row=s,c.column=o,c.section=s.section,c}return e}(T2),gW=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var l=0,c=n;l<c.length;l++){var h=c[l],f=new mW(e,this,r,i,s,o),p=h(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new T2(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new T2(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),XP=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof HP&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var l=n.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),h=c+l;return h>i?h:i},0)},t}(),JP=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=dy(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),yW=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function vW(t,e){wW(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=C2(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=C2(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),bW(e),xW(e,t),_W(e)}function wW(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=GP(t,e);e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],h=s.cells[c.index];if(h){var f=e.hooks.didParseCell;e.callCellHooks(t,f,h,s,c,null);var p=h.padding("horizontal");h.contentWidth=u0(h.text,h.styles,t)+p;var y=u0(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=y+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||r===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var v=10/n;h.minWidth=h.styles.minCellWidth||v,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],h=s.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function C2(t,e,n){for(var r=e,i=t.reduce(function(v,E){return v+E.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],l=o.wrappedWidth/i,c=r*l,h=o.width+c,f=n(o),p=h<f?f:h;e-=p-o.width,o.width=p}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(v){return e<0?v.width>n(v):!0});y.length&&(e=C2(y,e,n))}return e}function _W(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,l=t.columns;o<l.length;o++){var c=l[o],h=e[c.index];if(n>1)n--,delete s.cells[c.index];else if(h)h.cell.height+=s.height,n=h.cell.colSpan,delete s.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var p=r.length-i,y=f.rowSpan>p?p:f.rowSpan;e[c.index]={cell:f,left:y,row:s}}}}}function bW(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])s+=c.width,delete r.cells[c.index];else if(i){var h=i;delete r.cells[c.index],i=null,h.width=c.width+s}else{var h=r.cells[c.index];if(!h)continue;if(o=h.colSpan,s=0,h.colSpan>1){i=h,s+=c.width;continue}h.width=c.width+s}}}function xW(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,l=t.columns;o<l.length;o++){var c=l[o],h=s.cells[c.index];if(h){e.applyStyles(h.styles,!0);var f=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,f+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=kA(h.text,f,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=kA(h.text,f,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var p=h.styles.overflow(h.text,f);typeof p=="string"?h.text=[p]:h.text=p}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=h.contentHeight/h.rowSpan;h.rowSpan>1&&n.count*n.height<y*h.rowSpan?n={height:y,count:h.rowSpan}:n&&n.count>0&&n.height>y&&(y=n.height),y>s.height&&(s.height=y)}}n.count--}}function kA(t,e,n,r,i){return t.map(function(s){return SW(s,e,n,r,i)})}function SW(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=u0(t,n,r))return t;for(;e<u0(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function ZP(t,e){var n=new Yf(t),r=AW(e,n.scaleFactor()),i=new gW(e,r);return vW(n,i),n.applyStyles(n.userStyles),i}function AW(t,e){var n=t.content,r=TW(n.columns);if(n.head.length===0){var i=RA(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=RA(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:iv("head",n.head,r,o,s,e),body:iv("body",n.body,r,o,s,e),foot:iv("foot",n.foot,r,o,s,e)}}function iv(t,e,n,r,i,s){var o={},l=e.map(function(c,h){for(var f=0,p={},y=0,v=0,E=0,S=n;E<S.length;E++){var C=S[E];if(o[C.index]==null||o[C.index].left===0)if(v===0){var R=void 0;Array.isArray(c)?R=c[C.index-y-f]:R=c[C.dataKey];var N={};typeof R=="object"&&!Array.isArray(R)&&(N=R?.styles||{});var V=CW(t,C,h,i,r,s,N),H=new JP(R,V,t);p[C.dataKey]=H,p[C.index]=H,v=H.colSpan-1,o[C.index]={left:H.rowSpan-1,times:v}}else v--,y++;else o[C.index].left--,v=o[C.index].times,f++}return new XP(c,h,t,p)});return l}function RA(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=EW(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function EW(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function TW(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new yW(i,e,n)})}function CW(t,e,n,r,i,s,o){var l=nW(r),c;t==="head"?c=i.headStyles:t==="body"?c=i.bodyStyles:t==="foot"&&(c=i.footStyles);var h=cu({},l.table,l[t],i.styles,c),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?f:{},y=t==="body"&&n%2===0?cu({},l.alternateRow,i.alternateRowStyles):{},v=tW(s),E=cu({},v,h,y,p);return cu(E,o)}function PW(t,e,n){var r;n===void 0&&(n={});var i=GP(t,e),s=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(y){var v=e.columns.find(function(E){return E.dataKey===y||E.index===y});v&&!s.has(v.index)&&(s.set(v.index,!0),o.push(v.index),l.push(e.columns[v.index]),i-=v.wrappedWidth)});for(var h=!0,f=(r=n?.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(s.has(f)){f++;continue}var p=e.columns[f].wrappedWidth;if(h||i>=p)h=!1,o.push(f),l.push(e.columns[f]),i-=p;else break;f++}return{colIndexes:o,columns:l,lastIndex:f-1}}function NW(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=PW(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function eN(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=r+i.bottom+o;if(n.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(y,v){return y+v.height},0);l+=h}var f=new Yf(t);(n.pageBreak==="always"||n.startY!=null&&l>f.pageSize().height)&&(nN(f),s.y=i.top),e.callWillDrawPageHooks(f,s);var p=cu({},s);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?IW(f,e,p,s):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(y){return xu(f,e,y,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(y,v){var E=v===e.body.length-1;c0(f,e,y,E,p,s,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(y){return xu(f,e,y,s,e.columns)})),WP(f,e,p,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function IW(t,e,n,r){var i=NW(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,f){t.applyStyles(t.userStyles),f>0?fp(t,e,n,r,h.columns,!0):LA(t,e,r,h.columns),kW(t,e,n,r,h.columns),sv(t,e,r,h.columns)});else for(var o=-1,l=i[0],c=function(){var h=o;if(l){t.applyStyles(t.userStyles);var f=l.columns;o>=0?fp(t,e,n,r,f,!0):LA(t,e,r,f),h=DA(t,e,o+1,r,f),sv(t,e,r,f)}var p=h-o;i.slice(1).forEach(function(y){t.applyStyles(t.userStyles),fp(t,e,n,r,y.columns,!0),DA(t,e,o+1,r,y.columns,p),sv(t,e,r,y.columns)}),o=h};o<e.body.length-1;)c()}function LA(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return xu(t,e,s,n,r)})}function kW(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var l=o===e.body.length-1;c0(t,e,s,l,n,r,i)})}function DA(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),l=-1;return e.body.slice(n,o).forEach(function(c,h){var f=n+h===e.body.length-1,p=tN(t,e,f,r);c.canEntireRowFit(p,i)&&(xu(t,e,c,r,i),l=n+h)}),l}function sv(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return xu(t,e,s,n,r)})}function RW(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function LW(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,l=n.columns;o<l.length;o++){var c=l[o],h=t.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var f=new JP(h.raw,h.styles,h.section);f=cu(f,h),f.text=[];var p=RW(h,e,r);h.text.length>p&&(f.text=h.text.splice(p,h.text.length));var y=r.scaleFactor(),v=r.getLineHeightFactor();h.contentHeight=h.getContentHeight(y,v),h.contentHeight>=e&&(h.contentHeight=e,f.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),f.contentHeight=f.getContentHeight(y,v),f.contentHeight>s&&(s=f.contentHeight),i[c.index]=f}}var E=new XP(t.raw,-1,t.section,i,!0);E.height=s;for(var S=0,C=n.columns;S<C.length;S++){var c=C[S],f=E.cells[c.index];f&&(f.height=E.height);var h=t.cells[c.index];h&&(h.height=t.height)}return E}function DW(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,l=i-o;e.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=e.getMinimumRowHeight(r.columns,t),h=c<n;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var f=e.hasRowSpan(r.columns),p=e.getMaxCellHeight(r.columns)>l;return p?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function c0(t,e,n,r,i,s,o){var l=tN(t,e,r,s);if(n.canEntireRowFit(l,o))xu(t,e,n,s,o);else if(DW(t,n,l,e)){var c=LW(n,l,e,t);xu(t,e,n,s,o),fp(t,e,i,s,o),c0(t,e,c,r,i,s,o)}else fp(t,e,i,s,o),c0(t,e,n,r,i,s,o)}function xu(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var l=o[s],c=n.cells[l.index];if(!c){r.x+=l.width;continue}t.applyStyles(c.styles),c.x=r.x,c.y=r.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,c,n,l,r);if(h===!1){r.x+=l.width;continue}OW(t,c,r);var f=c.getTextPos();zP(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,l,r),r.x+=l.width}r.y+=n.height}function OW(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=$P(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),jW(t,e,n,r.lineWidth))}function jW(t,e,n,r){var i,s,o,l;r.top&&(i=n.x,s=n.y,o=n.x+e.width,l=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,s,o,l)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,l=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,s,o,l)),r.left&&(i=n.x,s=n.y,o=n.x,l=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.left,i,s,o,l)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,l=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.right,i,s,o,l));function c(h,f,p,y,v){t.getDocument().setLineWidth(h),t.getDocument().line(f,p,y,v,"S")}}function tN(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function fp(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(l){return xu(t,e,l,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;WP(t,e,n,r),nN(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return xu(t,e,l,r,i)}),t.applyStyles(t.userStyles))}function nN(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function MW(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=QP(this,r),s=ZP(this,i);return eN(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){zP(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Yf.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Yf.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Yf(this),s=YP(i,e,window,n,!1),o=s.head,l=s.body,c=((r=o[0])===null||r===void 0?void 0:r.map(function(h){return h.content}))||[];return{columns:c,rows:l,data:l}}}var ov;function FW(t,e){var n=QP(t,e),r=ZP(t,n);eN(t,r)}try{if(typeof window<"u"&&window){var OA=window,jA=OA.jsPDF||((ov=OA.jspdf)===null||ov===void 0?void 0:ov.jsPDF);jA&&MW(jA)}}catch(t){console.error("Could not apply autoTable plugin",t)}const av=5,VW=()=>{const{user:t}=Rl(),[e,n]=Z.useState([]),[r,i]=Z.useState(1);Z.useEffect(()=>{if(!t?.uid)return;const h=y3(G0(xi,"orders"),UB("userId","==",t.uid)),f=GB(h,p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));n(y)});return()=>f()},[t]);const s=async h=>{const f=Is(xi,"orders",h);await Hf(f,{status:"Cancelled"})},o=h=>{const f=new Lt,p=h.address||{},y=`
${p.fullName||""}
${p.address||""}
${p.city||""} - ${p.postalCode||""}
${p.country||""}
Email: ${p.email||""}
`.trim();f.setFontSize(18),f.text("WishlistCart",10,15),f.setFontSize(12),f.text("Invoice",150,15),f.setFontSize(10),f.text(`Order ID: ${h.id}`,150,22),f.text(`Date: ${h.createdAt?.toDate?.()?.toLocaleString?.()||""}`,150,28),f.setFontSize(12),f.text("Shipping Address:",10,30),f.setFontSize(10);const v=f.splitTextToSize(y,180);f.text(v,10,36);const E=(h.items||[]).map(C=>[C.name,C.quantity,`${C.price}`,`${C.quantity*C.price}`]);FW(f,{startY:50+v.length*5,head:[["Item","Qty","Unit Price","Total"]],body:E,theme:"striped",headStyles:{fillColor:[22,160,133]}});const S=f.lastAutoTable.finalY||100;f.setFontSize(12),f.setTextColor(0),f.text(`Total Amount Paid: ${h.total}`,10,S+10),f.setFontSize(9),f.setTextColor(100),f.text("Thank you for shopping with WishlistCart. For support, visit wishlistcart.com/support",10,S+20),f.save(`Invoice_Order_${h.id}.pdf`)},l=e.slice((r-1)*av,r*av),c=Math.ceil(e.length/av);return t?e.length===0?x.jsx("div",{className:"container mx-auto py-20 text-center",children:"No orders found."}):x.jsxs("div",{className:"container mx-auto py-10",children:[x.jsx("h2",{className:"text-3xl font-bold mb-6",children:"My Orders"}),x.jsx("div",{className:"space-y-8",children:l.map(h=>x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"text-lg font-semibold",children:["Order #",h.id]}),x.jsx("div",{className:`text-sm px-3 py-1 rounded-full ${h.status==="Delivered"?"bg-green-100 text-green-700":h.status==="Cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:h.status})]}),x.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[x.jsxs("div",{children:[x.jsx("strong",{children:"Date:"})," ",h.createdAt?.toDate?.()?.toLocaleString?.()||""]}),x.jsxs("div",{children:[x.jsx("strong",{children:"Shipping Address:"}),x.jsxs("div",{className:"ml-2",children:[x.jsx("div",{children:h.address?.fullName}),x.jsx("div",{children:h.address?.email}),x.jsx("div",{children:h.address?.address}),x.jsxs("div",{children:[h.address?.city," - ",h.address?.postalCode]}),x.jsx("div",{children:h.address?.country})]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("strong",{className:"block text-md mb-1",children:"Items:"}),h.items?.map((f,p)=>x.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("img",{src:f.image||"/placeholder.jpg",alt:f.name,className:"w-16 h-16 object-cover rounded"}),x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:f.name}),x.jsxs("div",{className:"text-sm text-gray-500",children:["Quantity: ",f.quantity]})]})]}),x.jsxs("div",{className:"text-sm text-gray-700",children:["",f.price*f.quantity]})]},p))]}),x.jsxs("div",{className:"text-right text-lg font-bold",children:["Total: ",h.total]}),x.jsxs("div",{className:"mt-4",children:[x.jsx("strong",{className:"block mb-1",children:"Delivery Status:"}),x.jsx("div",{className:"flex items-center gap-2 text-sm",children:["Ordered","Shipped","Delivered"].map(f=>x.jsxs(x.Fragment,{children:[x.jsx("span",{className:`px-2 py-1 rounded ${["Ordered","Shipped","Delivered"].indexOf(h.status)>=["Ordered","Shipped","Delivered"].indexOf(f)?"bg-blue-100 text-blue-700":"bg-gray-200 text-gray-500"}`,children:f},f),f!=="Delivered"&&""]}))})]}),h.trackingUrl&&x.jsx("div",{className:"mt-4 text-sm",children:x.jsx("a",{href:h.trackingUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Track Order"})}),x.jsxs("div",{className:"flex justify-end items-center gap-4 mt-4",children:[h.status==="Ordered"&&x.jsx("button",{onClick:()=>s(h.id),className:"px-4 py-2 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200",children:"Cancel Order"}),x.jsx("button",{onClick:()=>o(h),className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Download Invoice (PDF)"})]}),x.jsxs("div",{className:"mt-6 text-sm text-gray-600 border-t pt-4",children:["Having an issue with this order?"," ",x.jsx("a",{href:"/support",className:"text-blue-600 hover:underline font-medium",children:"Contact Support"})]})]},h.id))}),c>1&&x.jsx("div",{className:"flex justify-center mt-10 gap-2",children:[...Array(c)].map((h,f)=>x.jsx("button",{onClick:()=>i(f+1),className:`px-3 py-1 rounded border text-sm ${r===f+1?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:f+1},f))})]}):x.jsx("div",{className:"container mx-auto py-20 text-center",children:"Please log in to view your orders."})};function BW({title:t,titleId:e,...n},r){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?Z.createElement("title",{id:e},t):null,Z.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const UW=Z.forwardRef(BW),zW=()=>x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#e0f6ff] via-[#f3f7ff] to-[#c0e3ff]",children:x.jsxs("div",{className:"max-w-md w-full mx-auto p-8 bg-white shadow-2xl rounded-2xl relative",children:[x.jsx("div",{className:"flex justify-center mb-5",children:x.jsx(UW,{className:"w-16 h-16 text-green-500 animate-bounce"})}),x.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 text-center mb-3 tracking-tight",children:"Order Placed Successfully!"}),x.jsxs("p",{className:"text-center text-gray-600 mb-7 text-lg",children:["Thank you for shopping with us.",x.jsx("br",{}),"Youll shortly receive your order details by email."]}),x.jsxs("div",{className:"flex gap-4 justify-center mt-6",children:[x.jsxs(Mi,{to:"/orders",className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-blue-600 text-white font-semibold shadow hover:bg-blue-700 transition-all text-base",children:[x.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[x.jsx("path",{d:"M3 3h2l.357 2.01M7 13h10l4-8H5.793"}),x.jsx("circle",{cx:"9",cy:"20",r:"1"}),x.jsx("circle",{cx:"17",cy:"20",r:"1"})]}),"My Orders"]}),x.jsxs(Mi,{to:"/dashboard",className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-gray-100 text-blue-600 font-semibold shadow hover:bg-blue-200 transition-all border border-blue-100 text-base",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{d:"M4 4h16v16H4z"})}),"Dashboard"]})]}),x.jsx("div",{className:"absolute -top-4 right-4 bg-green-100 text-green-700 px-4 py-1 rounded-full font-medium text-xs shadow",children:" Success"})]})}),Hd={priceDropAlerts:!0,personalizedRecommendations:!0,weeklyNewsletter:!1},lv={id:null,fullName:"",streetAddress:"",city:"",postalCode:"",country:"",phone:"",isDefault:!1};function qW(){const{user:t}=Rl(),{toast:e}=aa(),[n,r]=Z.useState("profile"),[i,s]=Z.useState({name:"",email:""}),[o,l]=Z.useState(Hd),[c,h]=Z.useState([]),[f,p]=Z.useState(!0),[y,v]=Z.useState({...lv}),[E,S]=Z.useState(!1),[C,R]=Z.useState(null),[N,V]=Z.useState({});Z.useEffect(()=>{if(!t)return;(async()=>{p(!0);try{const M=Is(xi,"users",t.uid),ee=await Ip(M);if(ee.exists()){const Se=ee.data();s({name:Se.name||"",email:Se.email||t.email||""}),l({priceDropAlerts:Se.priceDropAlerts??Hd.priceDropAlerts,personalizedRecommendations:Se.personalizedRecommendations??Hd.personalizedRecommendations,weeklyNewsletter:Se.weeklyNewsletter??Hd.weeklyNewsletter}),h(Se.addresses||[])}else s({name:t.displayName||"",email:t.email||""}),l(Hd),h([])}catch(M){e({title:"Failed to load settings",description:M.message,variant:"destructive"})}p(!1)})()},[t,e]);const H=async I=>{if(I.preventDefault(),!t){e({title:"Not logged in",description:"Please log in.",variant:"destructive"});return}p(!0);try{const M=Is(xi,"users",t.uid);await up(M,{name:i.name,email:i.email,priceDropAlerts:o.priceDropAlerts,personalizedRecommendations:o.personalizedRecommendations,weeklyNewsletter:o.weeklyNewsletter},{merge:!0}),e({title:"Settings saved!"})}catch(M){e({title:"Save failed",description:M.message,variant:"destructive"})}p(!1)},ie=()=>{const I={};return y.fullName.trim()||(I.fullName="Full Name required"),y.streetAddress.trim()||(I.streetAddress="Street Address required"),y.city.trim()||(I.city="City required"),y.postalCode.trim()||(I.postalCode="Postal Code required"),y.country.trim()||(I.country="Country required"),V(I),Object.keys(I).length===0},ce=()=>{v({...lv,id:Date.now().toString()}),S(!0),R(null)},B=I=>{v({...I}),R(I),S(!0)},O=()=>{S(!1),R(null),v({...lv}),V({})},U=async()=>{if(!ie())return;let I;C?I=c.map(M=>M.id===C.id?y:M):I=[...c,y],I.some(M=>M.isDefault)||(I[0].isDefault=!0),p(!0);try{const M=Is(xi,"users",t.uid);await Hf(M,{addresses:I}),h(I),e({title:"Address saved"}),O(),r("addresses")}catch(M){e({title:"Save failed",description:M.message,variant:"destructive"})}p(!1)},Q=async I=>{if(!window.confirm("Delete this address?"))return;const M=c.filter(ee=>ee.id!==I);!M.some(ee=>ee.isDefault)&&M.length>0&&(M[0].isDefault=!0),p(!0);try{const ee=Is(xi,"users",t.uid);await Hf(ee,{addresses:M}),h(M),e({title:"Address deleted"}),C?.id===I&&O()}catch(ee){e({title:"Delete failed",description:ee.message,variant:"destructive"})}p(!1)},L=async I=>{const M=c.map(ee=>({...ee,isDefault:ee.id===I}));p(!0);try{const ee=Is(xi,"users",t.uid);await Hf(ee,{addresses:M}),h(M),e({title:"Default address updated"})}catch(ee){e({title:"Update failed",description:ee.message,variant:"destructive"})}p(!1)};return f?x.jsx("div",{className:"container mx-auto py-20 text-center",children:"Loading..."}):t?x.jsxs(x.Fragment,{children:[x.jsxs(Pl,{children:[x.jsx("title",{children:"Settings - Wishlist2Cart"}),x.jsx("meta",{name:"description",content:"Manage your account, notifications, and address settings."})]}),x.jsxs(_r.div,{className:"container mx-auto max-w-4xl px-4 py-12",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[x.jsxs("div",{className:"flex space-x-6 border-b mb-8",children:[x.jsx("button",{className:`pb-2 ${n==="profile"?"border-b-2 border-violet-600 font-semibold":"text-gray-500"}`,onClick:()=>r("profile"),children:"Profile"}),x.jsx("button",{className:`pb-2 ${n==="notifications"?"border-b-2 border-violet-600 font-semibold":"text-gray-500"}`,onClick:()=>r("notifications"),children:"Notifications"}),x.jsx("button",{className:`pb-2 ${n==="addresses"?"border-b-2 border-violet-600 font-semibold":"text-gray-500"}`,onClick:()=>r("addresses"),children:"Addresses"})]}),x.jsxs("form",{onSubmit:H,className:"space-y-8",children:[n==="profile"&&x.jsxs("section",{className:"bg-white dark:bg-gray-950/30 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[x.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[x.jsx(Mg,{className:"mr-3 h-6 w-6 text-violet-500"})," Profile"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"name",children:"Full Name"}),x.jsx(er,{id:"name",type:"text",value:i.name,onChange:I=>s({...i,name:I.target.value}),className:"pl-10",required:!0,disabled:f}),x.jsx(Mg,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"email",children:"Email Address"}),x.jsx(er,{id:"email",type:"email",value:i.email,onChange:I=>s({...i,email:I.target.value}),className:"pl-10",required:!0,disabled:f}),x.jsx(HT,{className:"absolute left-3 top-9 h-5 w-5 text-gray-400"})]})]})]}),n==="notifications"&&x.jsxs("section",{className:"bg-white dark:bg-gray-950/30 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[x.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[x.jsx(h5,{className:"mr-3 h-6 w-6 text-violet-500"})," Notifications"]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx(Vn,{htmlFor:"price-drop",children:"Price Drop Alerts"}),x.jsx("input",{id:"price-drop",type:"checkbox",className:"h-5 w-5",checked:o.priceDropAlerts,onChange:()=>l(I=>({...I,priceDropAlerts:!I.priceDropAlerts}))})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx(Vn,{htmlFor:"recommendations",children:"Personalized Recommendations"}),x.jsx("input",{id:"recommendations",type:"checkbox",className:"h-5 w-5",checked:o.personalizedRecommendations,onChange:()=>l(I=>({...I,personalizedRecommendations:!I.personalizedRecommendations}))})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx(Vn,{htmlFor:"newsletter",children:"Weekly Newsletter"}),x.jsx("input",{id:"newsletter",type:"checkbox",className:"h-5 w-5",checked:o.weeklyNewsletter,onChange:()=>l(I=>({...I,weeklyNewsletter:!I.weeklyNewsletter}))})]})]})]}),n==="addresses"&&x.jsxs("section",{className:"bg-white dark:bg-gray-950/30 p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-800",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("h2",{className:"text-2xl font-semibold flex items-center",children:[x.jsx(b8,{className:"mr-3 h-6 w-6 text-violet-500"})," Your Addresses"]}),!E&&x.jsx(Nt,{onClick:ce,size:"sm",variant:"primary",children:"+ Add New"})]}),c.length===0&&!E&&x.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:'No saved addresses found. Click "+ Add New" to add one.'}),E&&x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"text-xl font-semibold mb-4",children:C?"Edit Address":"Add New Address"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"fullName",children:"Full Name"}),x.jsx(er,{id:"fullName",value:y.fullName,onChange:I=>v(M=>({...M,fullName:I.target.value})),required:!0,disabled:f}),N.fullName&&x.jsx("p",{className:"text-red-500 text-xs",children:N.fullName})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"phone",children:"Phone"}),x.jsx(er,{id:"phone",value:y.phone,onChange:I=>v(M=>({...M,phone:I.target.value})),disabled:f,placeholder:"Optional"})]}),x.jsxs("div",{className:"relative md:col-span-2",children:[x.jsx(Vn,{htmlFor:"streetAddress",children:"Street Address"}),x.jsx(er,{id:"streetAddress",value:y.streetAddress,onChange:I=>v(M=>({...M,streetAddress:I.target.value})),required:!0,disabled:f}),N.streetAddress&&x.jsx("p",{className:"text-red-500 text-xs",children:N.streetAddress})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"city",children:"City"}),x.jsx(er,{id:"city",value:y.city,onChange:I=>v(M=>({...M,city:I.target.value})),required:!0,disabled:f}),N.city&&x.jsx("p",{className:"text-red-500 text-xs",children:N.city})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"postalCode",children:"Postal Code"}),x.jsx(er,{id:"postalCode",value:y.postalCode,onChange:I=>v(M=>({...M,postalCode:I.target.value})),required:!0,disabled:f}),N.postalCode&&x.jsx("p",{className:"text-red-500 text-xs",children:N.postalCode})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Vn,{htmlFor:"country",children:"Country"}),x.jsx(er,{id:"country",value:y.country,onChange:I=>v(M=>({...M,country:I.target.value})),required:!0,disabled:f}),N.country&&x.jsx("p",{className:"text-red-500 text-xs",children:N.country})]})]}),x.jsxs("div",{className:"mt-6 flex space-x-2",children:[x.jsx(Nt,{type:"button",variant:"default",className:"bg-violet-600 hover:bg-violet-700 text-white",onClick:U,disabled:f,children:C?"Update Address":"Save Address"}),x.jsx(Nt,{type:"button",variant:"ghost",onClick:O,disabled:f,children:"Cancel"})]})]}),!E&&x.jsx("div",{className:"space-y-4",children:c.map(I=>x.jsxs("div",{className:"border border-gray-300 dark:border-gray-700 rounded p-4 flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold",children:I.fullName}),x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-md",children:[I.streetAddress,", ",I.city,", ",I.postalCode,", ",I.country]}),x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Phone: ",I.phone||"N/A"]}),I.isDefault&&x.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-violet-600 text-white rounded",children:"Default"})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[!I.isDefault&&x.jsx(Nt,{variant:"outline",size:"sm",onClick:()=>L(I.id),children:"Set Default"}),x.jsx(Nt,{variant:"ghost",size:"sm",onClick:()=>B(I),"aria-label":`Edit address for ${I.fullName}`,children:"Edit"}),x.jsx(Nt,{variant:"destructive",size:"sm",onClick:()=>Q(I.id),"aria-label":`Delete address for ${I.fullName}`,children:x.jsx(T0,{className:"h-4 w-4"})})]})]},I.id))})]}),(n==="profile"||n==="notifications")&&x.jsx("div",{className:"flex justify-end",children:x.jsx(Nt,{type:"submit",size:"lg",disabled:f,children:"Save"})})]})]})]}):x.jsx("div",{className:"container mx-auto py-20 text-center",children:"Please log in to manage your settings."})}const HW=[{id:1,name:"Amazon",logo:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",items:12},{id:2,name:"Flipkart",logo:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_logo_vector.svg",items:5},{id:3,name:"Myntra",logo:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",items:8}],WW=()=>{const{toast:t}=aa(),e=n=>{t({title:`${n} Unlinked`,description:`You have successfully unlinked your ${n} account.`,variant:"destructive"})};return x.jsxs(x.Fragment,{children:[x.jsxs(Pl,{children:[x.jsx("title",{children:"Synced Sites - Wishlist2Cart"}),x.jsx("meta",{name:"description",content:"Manage your synced e-commerce accounts to automatically import wishlists."})]}),x.jsxs(_r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto max-w-4xl px-4 py-12",children:[x.jsxs("div",{className:"flex justify-between items-center mb-10",children:[x.jsxs("div",{className:"text-center md:text-left",children:[x.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Synced Sites"}),x.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Manage your connected store accounts."})]}),x.jsxs(Nt,{onClick:()=>t({title:"Feature Not Implemented"}),children:[x.jsx(WT,{className:"mr-2 h-5 w-5"})," Sync New Site"]})]}),x.jsx("div",{className:"space-y-4",children:HW.map((n,r)=>x.jsxs(_r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:r*.1},className:"p-4 rounded-2xl bg-white dark:bg-gray-800/50 shadow-md border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[x.jsx("div",{className:"w-16 h-16 bg-white rounded-lg flex-shrink-0 flex items-center justify-center p-2",children:x.jsx("img",{src:n.logo,alt:`${n.name} logo`,className:"max-h-full max-w-full object-contain"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-semibold text-lg",children:n.name}),x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.items," items in wishlist"]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs(Nt,{variant:"outline",size:"sm",onClick:()=>t({title:"Feature Not Implemented"}),children:[x.jsx(qT,{className:"mr-2 h-4 w-4"})," Resync"]}),x.jsxs(Nt,{variant:"ghost",size:"sm",className:"text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30",onClick:()=>e(n.name),children:[x.jsx(T0,{className:"mr-2 h-4 w-4"})," Unlink"]})]})]},n.id))})]})]})};function Su(t){return Array.isArray?Array.isArray(t):sN(t)==="[object Array]"}function $W(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function GW(t){return t==null?"":$W(t)}function vl(t){return typeof t=="string"}function rN(t){return typeof t=="number"}function KW(t){return t===!0||t===!1||YW(t)&&sN(t)=="[object Boolean]"}function iN(t){return typeof t=="object"}function YW(t){return iN(t)&&t!==null}function To(t){return t!=null}function uv(t){return!t.trim().length}function sN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const QW="Incorrect 'index' type",XW=t=>`Invalid value for key ${t}`,JW=t=>`Pattern length exceeds max of ${t}.`,ZW=t=>`Missing ${t} property in key`,e$=t=>`Property 'weight' in key '${t}' must be a positive integer`,MA=Object.prototype.hasOwnProperty;class t${constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=oN(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function oN(t){let e=null,n=null,r=null,i=1,s=null;if(vl(t)||Su(t))r=t,e=FA(t),n=P2(t);else{if(!MA.call(t,"name"))throw new Error(ZW("name"));const o=t.name;if(r=o,MA.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(e$(o));e=FA(o),n=P2(o),s=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:s}}function FA(t){return Su(t)?t:t.split(".")}function P2(t){return Su(t)?t.join("."):t}function n$(t,e){let n=[],r=!1;const i=(s,o,l)=>{if(To(s))if(!o[l])n.push(s);else{let c=o[l];const h=s[c];if(!To(h))return;if(l===o.length-1&&(vl(h)||rN(h)||KW(h)))n.push(GW(h));else if(Su(h)){r=!0;for(let f=0,p=h.length;f<p;f+=1)i(h[f],o,l+1)}else o.length&&i(h,o,l+1)}};return i(t,vl(e)?e.split("."):e,0),r?n:n[0]}const r$={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},i$={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},s$={location:0,threshold:.6,distance:100},o$={useExtendedSearch:!1,getFn:n$,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Bt={...i$,...r$,...s$,...o$};const a$=/[^ ]+/g;function l$(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const s=i.match(a$).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*t),l=parseFloat(Math.round(o*r)/r);return n.set(s,l),l},clear(){n.clear()}}}class Sw{constructor({getFn:e=Bt.getFn,fieldNormWeight:n=Bt.fieldNormWeight}={}){this.norm=l$(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,vl(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();vl(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!To(e)||uv(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,s)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(To(o)){if(Su(o)){let l=[];const c=[{nestedArrIndex:-1,value:o}];for(;c.length;){const{nestedArrIndex:h,value:f}=c.pop();if(To(f))if(vl(f)&&!uv(f)){let p={v:f,i:h,n:this.norm.get(f)};l.push(p)}else Su(f)&&f.forEach((p,y)=>{c.push({nestedArrIndex:y,value:p})})}r.$[s]=l}else if(vl(o)&&!uv(o)){let l={v:o,n:this.norm.get(o)};r.$[s]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function aN(t,e,{getFn:n=Bt.getFn,fieldNormWeight:r=Bt.fieldNormWeight}={}){const i=new Sw({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(oN)),i.setSources(e),i.create(),i}function u$(t,{getFn:e=Bt.getFn,fieldNormWeight:n=Bt.fieldNormWeight}={}){const{keys:r,records:i}=t,s=new Sw({getFn:e,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(i),s}function tg(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Bt.distance,ignoreLocation:s=Bt.ignoreLocation}={}){const o=e/t.length;if(s)return o;const l=Math.abs(r-n);return i?o+l/i:l?1:o}function c$(t=[],e=Bt.minMatchCharLength){let n=[],r=-1,i=-1,s=0;for(let o=t.length;s<o;s+=1){let l=t[s];l&&r===-1?r=s:!l&&r!==-1&&(i=s-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[s-1]&&s-r>=e&&n.push([r,s-1]),n}const xh=32;function h$(t,e,n,{location:r=Bt.location,distance:i=Bt.distance,threshold:s=Bt.threshold,findAllMatches:o=Bt.findAllMatches,minMatchCharLength:l=Bt.minMatchCharLength,includeMatches:c=Bt.includeMatches,ignoreLocation:h=Bt.ignoreLocation}={}){if(e.length>xh)throw new Error(JW(xh));const f=e.length,p=t.length,y=Math.max(0,Math.min(r,p));let v=s,E=y;const S=l>1||c,C=S?Array(p):[];let R;for(;(R=t.indexOf(e,E))>-1;){let B=tg(e,{currentLocation:R,expectedLocation:y,distance:i,ignoreLocation:h});if(v=Math.min(B,v),E=R+f,S){let O=0;for(;O<f;)C[R+O]=1,O+=1}}E=-1;let N=[],V=1,H=f+p;const ie=1<<f-1;for(let B=0;B<f;B+=1){let O=0,U=H;for(;O<U;)tg(e,{errors:B,currentLocation:y+U,expectedLocation:y,distance:i,ignoreLocation:h})<=v?O=U:H=U,U=Math.floor((H-O)/2+O);H=U;let Q=Math.max(1,y-U+1),L=o?p:Math.min(y+U,p)+f,I=Array(L+2);I[L+1]=(1<<B)-1;for(let ee=L;ee>=Q;ee-=1){let Se=ee-1,ve=n[t.charAt(Se)];if(S&&(C[Se]=+!!ve),I[ee]=(I[ee+1]<<1|1)&ve,B&&(I[ee]|=(N[ee+1]|N[ee])<<1|1|N[ee+1]),I[ee]&ie&&(V=tg(e,{errors:B,currentLocation:Se,expectedLocation:y,distance:i,ignoreLocation:h}),V<=v)){if(v=V,E=Se,E<=y)break;Q=Math.max(1,2*y-E)}}if(tg(e,{errors:B+1,currentLocation:y,expectedLocation:y,distance:i,ignoreLocation:h})>v)break;N=I}const ce={isMatch:E>=0,score:Math.max(.001,V)};if(S){const B=c$(C,l);B.length?c&&(ce.indices=B):ce.isMatch=!1}return ce}function f$(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}const h0=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class lN{constructor(e,{location:n=Bt.location,threshold:r=Bt.threshold,distance:i=Bt.distance,includeMatches:s=Bt.includeMatches,findAllMatches:o=Bt.findAllMatches,minMatchCharLength:l=Bt.minMatchCharLength,isCaseSensitive:c=Bt.isCaseSensitive,ignoreDiacritics:h=Bt.ignoreDiacritics,ignoreLocation:f=Bt.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:h,ignoreLocation:f},e=c?e:e.toLowerCase(),e=h?h0(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const p=(v,E)=>{this.chunks.push({pattern:v,alphabet:f$(v),startIndex:E})},y=this.pattern.length;if(y>xh){let v=0;const E=y%xh,S=y-E;for(;v<S;)p(this.pattern.substr(v,xh),v),v+=xh;if(E){const C=y-xh;p(this.pattern.substr(C),C)}}else p(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i}=this.options;if(e=n?e:e.toLowerCase(),e=r?h0(e):e,this.pattern===e){let S={isMatch:!0,score:0};return i&&(S.indices=[[0,e.length-1]]),S}const{location:s,distance:o,threshold:l,findAllMatches:c,minMatchCharLength:h,ignoreLocation:f}=this.options;let p=[],y=0,v=!1;this.chunks.forEach(({pattern:S,alphabet:C,startIndex:R})=>{const{isMatch:N,score:V,indices:H}=h$(e,S,C,{location:s+R,distance:o,threshold:l,findAllMatches:c,minMatchCharLength:h,includeMatches:i,ignoreLocation:f});N&&(v=!0),y+=V,N&&H&&(p=[...p,...H])});let E={isMatch:v,score:v?y/this.chunks.length:1};return v&&i&&(E.indices=p),E}}class Kc{constructor(e){this.pattern=e}static isMultiMatch(e){return VA(e,this.multiRegex)}static isSingleMatch(e){return VA(e,this.singleRegex)}search(){}}function VA(t,e){const n=t.match(e);return n?n[1]:null}class d$ extends Kc{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class p$ extends Kc{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class m$ extends Kc{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class g$ extends Kc{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class y$ extends Kc{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class v$ extends Kc{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class uN extends Kc{constructor(e,{location:n=Bt.location,threshold:r=Bt.threshold,distance:i=Bt.distance,includeMatches:s=Bt.includeMatches,findAllMatches:o=Bt.findAllMatches,minMatchCharLength:l=Bt.minMatchCharLength,isCaseSensitive:c=Bt.isCaseSensitive,ignoreDiacritics:h=Bt.ignoreDiacritics,ignoreLocation:f=Bt.ignoreLocation}={}){super(e),this._bitapSearch=new lN(e,{location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:h,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class cN extends Kc{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+s,i.push([r,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const N2=[d$,cN,m$,g$,v$,y$,p$,uN],BA=N2.length,w$=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,_$="|";function b$(t,e={}){return t.split(_$).map(n=>{let r=n.trim().split(w$).filter(s=>s&&!!s.trim()),i=[];for(let s=0,o=r.length;s<o;s+=1){const l=r[s];let c=!1,h=-1;for(;!c&&++h<BA;){const f=N2[h];let p=f.isMultiMatch(l);p&&(i.push(new f(p,e)),c=!0)}if(!c)for(h=-1;++h<BA;){const f=N2[h];let p=f.isSingleMatch(l);if(p){i.push(new f(p,e));break}}}return i})}const x$=new Set([uN.type,cN.type]);class S${constructor(e,{isCaseSensitive:n=Bt.isCaseSensitive,ignoreDiacritics:r=Bt.ignoreDiacritics,includeMatches:i=Bt.includeMatches,minMatchCharLength:s=Bt.minMatchCharLength,ignoreLocation:o=Bt.ignoreLocation,findAllMatches:l=Bt.findAllMatches,location:c=Bt.location,threshold:h=Bt.threshold,distance:f=Bt.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:i,minMatchCharLength:s,findAllMatches:l,ignoreLocation:o,location:c,threshold:h,distance:f},e=n?e:e.toLowerCase(),e=r?h0(e):e,this.pattern=e,this.query=b$(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i,ignoreDiacritics:s}=this.options;e=i?e:e.toLowerCase(),e=s?h0(e):e;let o=0,l=[],c=0;for(let h=0,f=n.length;h<f;h+=1){const p=n[h];l.length=0,o=0;for(let y=0,v=p.length;y<v;y+=1){const E=p[y],{isMatch:S,indices:C,score:R}=E.search(e);if(S){if(o+=1,c+=R,r){const N=E.constructor.type;x$.has(N)?l=[...l,...C]:l.push(C)}}else{c=0,o=0,l.length=0;break}}if(o){let y={isMatch:!0,score:c/o};return r&&(y.indices=l),y}}return{isMatch:!1,score:1}}}const I2=[];function A$(...t){I2.push(...t)}function k2(t,e){for(let n=0,r=I2.length;n<r;n+=1){let i=I2[n];if(i.condition(t,e))return new i(t,e)}return new lN(t,e)}const f0={AND:"$and",OR:"$or"},R2={PATH:"$path",PATTERN:"$val"},L2=t=>!!(t[f0.AND]||t[f0.OR]),E$=t=>!!t[R2.PATH],T$=t=>!Su(t)&&iN(t)&&!L2(t),UA=t=>({[f0.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function hN(t,e,{auto:n=!0}={}){const r=i=>{let s=Object.keys(i);const o=E$(i);if(!o&&s.length>1&&!L2(i))return r(UA(i));if(T$(i)){const c=o?i[R2.PATH]:s[0],h=o?i[R2.PATTERN]:i[c];if(!vl(h))throw new Error(XW(c));const f={keyId:P2(c),pattern:h};return n&&(f.searcher=k2(h,e)),f}let l={children:[],operator:s[0]};return s.forEach(c=>{const h=i[c];Su(h)&&h.forEach(f=>{l.children.push(r(f))})}),l};return L2(t)||(t=UA(t)),r(t)}function C$(t,{ignoreFieldNorm:e=Bt.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:s,score:o})=>{const l=i?i.weight:null;r*=Math.pow(o===0&&l?Number.EPSILON:o,(l||1)*(e?1:s))}),n.score=r})}function P$(t,e){const n=t.matches;e.matches=[],To(n)&&n.forEach(r=>{if(!To(r.indices)||!r.indices.length)return;const{indices:i,value:s}=r;let o={indices:i,value:s};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),e.matches.push(o)})}function N$(t,e){e.score=t.score}function I$(t,e,{includeMatches:n=Bt.includeMatches,includeScore:r=Bt.includeScore}={}){const i=[];return n&&i.push(P$),r&&i.push(N$),t.map(s=>{const{idx:o}=s,l={item:e[o],refIndex:o};return i.length&&i.forEach(c=>{c(s,l)}),l})}class ef{constructor(e,n={},r){this.options={...Bt,...n},this.options.useExtendedSearch,this._keyStore=new t$(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof Sw))throw new Error(QW);this._myIndex=n||aN(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){To(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,i-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:l}=this.options;let c=vl(e)?vl(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return C$(c,{ignoreFieldNorm:l}),s&&c.sort(o),rN(n)&&n>-1&&(c=c.slice(0,n)),I$(c,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=k2(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:s,i:o,n:l})=>{if(!To(s))return;const{isMatch:c,score:h,indices:f}=n.searchIn(s);c&&i.push({item:s,idx:o,matches:[{score:h,value:s,norm:l,indices:f}]})}),i}_searchLogical(e){const n=hN(e,this.options),r=(l,c,h)=>{if(!l.children){const{keyId:p,searcher:y}=l,v=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(c,p),searcher:y});return v&&v.length?[{idx:h,item:c,matches:v}]:[]}const f=[];for(let p=0,y=l.children.length;p<y;p+=1){const v=l.children[p],E=r(v,c,h);if(E.length)f.push(...E);else if(l.operator===f0.AND)return[]}return f},i=this._myIndex.records,s={},o=[];return i.forEach(({$:l,i:c})=>{if(To(l)){let h=r(n,l,c);h.length&&(s[c]||(s[c]={idx:c,item:l,matches:[]},o.push(s[c])),h.forEach(({matches:f})=>{s[c].matches.push(...f)}))}}),o}_searchObjectList(e){const n=k2(e,this.options),{keys:r,records:i}=this._myIndex,s=[];return i.forEach(({$:o,i:l})=>{if(!To(o))return;let c=[];r.forEach((h,f)=>{c.push(...this._findMatches({key:h,value:o[f],searcher:n}))}),c.length&&s.push({idx:l,item:o,matches:c})}),s}_findMatches({key:e,value:n,searcher:r}){if(!To(n))return[];let i=[];if(Su(n))n.forEach(({v:s,i:o,n:l})=>{if(!To(s))return;const{isMatch:c,score:h,indices:f}=r.searchIn(s);c&&i.push({score:h,key:e,value:s,idx:o,norm:l,indices:f})});else{const{v:s,n:o}=n,{isMatch:l,score:c,indices:h}=r.searchIn(s);l&&i.push({score:c,key:e,value:s,norm:o,indices:h})}return i}}ef.version="7.1.0";ef.createIndex=aN;ef.parseIndex=u$;ef.config=Bt;ef.parseQuery=hN;A$(S$);const k$=["Trending","Apparel","Tech Gadgets","Accessories","Gifting","Home"];async function R$(){return await new Promise(t=>setTimeout(t,500)),[{id:"p1",title:"Wishlist2Cart Premium Hoodie",image:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f",price:3499,description:"Ultra-soft cotton hoodie for all seasons.",category:"Apparel",tags:["bestseller","new"],createdAt:"2023-12-01T10:00:00Z",isCustom:!0,affiliateUrl:null},{id:"p2",title:"Wireless Pro Earbuds",image:"https://images.unsplash.com/photo-1512499617640-c2f999098c01",price:1999,description:"Crystal clear audio, all-day battery.",category:"Tech Gadgets",tags:["editor's pick"],createdAt:"2023-11-20T12:30:00Z",isCustom:!0,affiliateUrl:null},{id:"p3",title:"Sleek Timepiece",image:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca",price:4599,description:"Modern design meets classic style.",category:"Accessories",tags:[],createdAt:"2023-11-25T08:15:00Z",isCustom:!0,affiliateUrl:null},{id:"p4",title:"Signature Candle Set",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb",price:799,description:"For cozy, inviting spaces.",category:"Home",tags:["gift"],createdAt:"2023-10-30T07:45:00Z",isCustom:!0,affiliateUrl:null}]}function L$(){const[t,e]=Z.useState("Trending"),[n,r]=Z.useState(""),[i,s]=Z.useState("newest"),[o,l]=Z.useState([]),{toast:c}=aa(),{addToCart:h}=ry();Z.useEffect(()=>{R$().then(l).catch(()=>c({title:"Failed to load products",description:"Please try again later",variant:"destructive"}))},[c]);const f=Z.useMemo(()=>new ef(o,{keys:["title","description","tags"],ignoreLocation:!0,threshold:.35}),[o]),p=Z.useMemo(()=>t==="Trending"?o:o.filter(S=>S.category===t),[o,t]),y=Z.useMemo(()=>n.trim()?f.search(n.trim()).map(C=>C.item).filter(C=>p.includes(C)):p,[n,f,p]),v=Z.useMemo(()=>{let S=[...y];switch(i){case"price_asc":S.sort((C,R)=>C.price-R.price);break;case"price_desc":S.sort((C,R)=>R.price-C.price);break;case"newest":default:S.sort((C,R)=>new Date(R.createdAt).getTime()-new Date(C.createdAt).getTime());break}return S},[y,i]),E=S=>{if(!S.isCustom&&S.affiliateUrl){window.open(S.affiliateUrl,"_blank","noopener");return}h(S),c({title:"Added to cart",description:`${S.title} has been added to your cart.`})};return x.jsxs(x.Fragment,{children:[x.jsxs(Pl,{children:[x.jsx("title",{children:"Wishlist2Cart Brands"}),x.jsx("meta",{name:"description",content:"Shop trending and exclusive Wishlist2Cart products."})]}),x.jsxs(_r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 py-12 max-w-7xl",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Wishlist2Cart Brands"}),x.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"A curated selection of essentials by Wishlist2Cart."})]}),x.jsxs("div",{className:"flex flex-wrap gap-4",children:[x.jsx(er,{type:"search",placeholder:"Search products...",value:n,onChange:S=>r(S.target.value),className:"max-w-xs","aria-label":"Search products"}),x.jsxs("select",{value:i,onChange:S=>s(S.target.value),"aria-label":"Sort products",className:"rounded-md border border-gray-300 dark:border-gray-700 px-3 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-900",children:[x.jsx("option",{value:"newest",children:"Newest"}),x.jsx("option",{value:"price_asc",children:"Price: Low to High"}),x.jsx("option",{value:"price_desc",children:"Price: High to Low"})]})]})]}),x.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:k$.map(S=>x.jsx(Nt,{variant:t===S?"default":"ghost",className:"capitalize",onClick:()=>e(S),size:"sm","aria-pressed":t===S,children:S},S))}),v.length===0?x.jsx("div",{className:"py-20 text-center text-gray-500 dark:text-gray-400",children:"No products found."}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:v.map((S,C)=>x.jsxs(_r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:C*.1},className:"bg-white dark:bg-gray-800/50 shadow-lg border border-gray-200 dark:border-gray-800 rounded-2xl p-6 flex flex-col group hover:border-violet-500",children:[x.jsxs("div",{className:"relative mb-4 h-52",children:[x.jsx("img",{src:S.image,alt:S.title,className:"object-cover h-full w-full rounded-xl",loading:"lazy"}),x.jsx("div",{className:"absolute top-2 right-2 space-x-1 flex",children:S.tags.map(R=>x.jsx("span",{className:"bg-violet-600 text-white text-xs px-2 py-0.5 rounded-md shadow",children:R},R))})]}),x.jsx("h3",{className:"text-lg font-semibold mb-1 line-clamp-2",children:S.title}),x.jsx("p",{className:"text-gray-500 text-sm mb-2 line-clamp-3",children:S.description}),x.jsx("div",{className:"flex-1"}),x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx(E0,{className:"h-4 w-4 text-gray-400"}),x.jsx("span",{className:"text-xs text-gray-400 capitalize",children:S.category})]}),x.jsxs("div",{className:"text-xl font-bold text-violet-600 mb-4",children:["",S.price.toLocaleString()]}),x.jsxs(Nt,{size:"lg",className:"w-full",onClick:()=>E(S),children:[x.jsx(du,{className:"mr-2 h-5 w-5"}),S.isCustom?"Add to Cart":"Buy Now"]})]},S.id))})]})]})}const ng={Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",Flipkart:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flipkart_logo_vector.svg",Myntra:"https://upload.wikimedia.org/wikipedia/commons/d/d5/Myntra_logo.svg",Alibaba:"https://upload.wikimedia.org/wikipedia/commons/e/e5/Alibaba_Logo.svg",Meesho:"https://upload.wikimedia.org/wikipedia/commons/7/70/Meesho_Logomark.png",Other:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Shopping_Cart_Icon.svg/1024px-Shopping_Cart_Icon.svg.png"},zA=["Mobiles","Fashion","Home Essentials","Sports & Fitness"];function D$(){const[t,e]=Z.useState(zA[0]),[n,r]=Z.useState(""),[i,s]=Z.useState("newest"),[o,l]=Z.useState([]),[c,h]=Z.useState(null),{toast:f}=aa(),{addToCart:p}=ry();Z.useEffect(()=>{(async()=>{try{const V=y3(G0(xi,"products"),zB("createdAt","desc")),H=await WB(V);l(H.docs.map(ie=>({id:ie.id,...ie.data()})))}catch(V){f({title:"Failed to load marketplace picks",description:V.message||"Please try again later",variant:"destructive"})}})()},[f]);const y=Z.useMemo(()=>new ef(o,{keys:["title","description","tags"],threshold:.35,ignoreLocation:!0}),[o]),v=Z.useMemo(()=>t?o.filter(N=>N.category===t):o,[o,t]),E=Z.useMemo(()=>n.trim()?y.search(n.trim()).map(H=>H.item).filter(H=>v.includes(H)):v,[n,y,v]),S=Z.useMemo(()=>{let N=[...E];switch(i){case"price_asc":N.sort((V,H)=>(V.price||0)-(H.price||0));break;case"price_desc":N.sort((V,H)=>(H.price||0)-(V.price||0));break;case"newest":default:N.sort((V,H)=>new Date(H.createdAt)-new Date(V.createdAt));break}return N},[E,i]),C=N=>{N.isCustom?(p(N),f({title:"Added to cart",description:`${N.title} has been added to your cart.`})):N.url&&window.open(N.url,"_blank","noopener,noreferrer")},R=N=>h(c===N?null:N);return x.jsxs(x.Fragment,{children:[x.jsxs(Pl,{children:[x.jsx("title",{children:"Marketplace Picks"}),x.jsx("meta",{name:"description",content:"Hottest finds from the webhandpicked for Wishlist2Cart shoppers!"})]}),x.jsxs(_r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 py-12 max-w-7xl",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Marketplace Picks"}),x.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"Discover trending deals and curated products from our partner stores."})]}),x.jsxs("div",{className:"flex flex-wrap gap-4",children:[x.jsx(er,{type:"search",placeholder:"Search products...",value:n,onChange:N=>r(N.target.value),className:"max-w-xs","aria-label":"Search products"}),x.jsxs("select",{value:i,onChange:N=>s(N.target.value),"aria-label":"Sort products",className:"rounded-md border border-gray-300 dark:border-gray-700 px-3 py-2 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-900",children:[x.jsx("option",{value:"newest",children:"Newest"}),x.jsx("option",{value:"price_asc",children:"Price: Low to High"}),x.jsx("option",{value:"price_desc",children:"Price: High to Low"})]})]})]}),x.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:zA.map(N=>x.jsx(Nt,{variant:t===N?"default":"ghost",className:"capitalize",onClick:()=>e(N),size:"sm","aria-pressed":t===N,children:N},N))}),S.length===0?x.jsx("div",{className:"py-20 text-center text-gray-500 dark:text-gray-400",children:"No products found."}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:S.map((N,V)=>x.jsxs(_r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:V*.1},className:"bg-white dark:bg-gray-800/50 shadow-lg border border-gray-200 dark:border-gray-800 rounded-2xl p-6 flex flex-col group hover:border-green-500 transition cursor-pointer",onClick:()=>R(N.id),children:[x.jsx("div",{className:"relative mb-4 h-52",children:x.jsx("img",{src:N.image||ng[N.platform]||ng.Other,alt:N.title||N.platform,className:"object-cover h-full w-full rounded-xl",loading:"lazy"})}),x.jsx("h3",{className:"text-lg font-semibold mb-1 line-clamp-2",children:N.title||N.platform}),x.jsx("p",{className:"text-gray-500 text-sm mb-2 line-clamp-3",children:N.description}),x.jsx("div",{className:"flex-1"}),x.jsx("div",{className:"text-xl font-bold text-green-600 mb-4",children:N.price&&N.price>0?`${N.price.toLocaleString()}`:"See price on site"}),x.jsxs(Nt,{size:"lg",variant:"outline",className:"w-full justify-center cursor-pointer",onClick:H=>{H.stopPropagation(),C(N)},"aria-label":N.isCustom?"Add to Cart":`Buy from ${N.platform}`,children:[N.isCustom?"Add to Cart":"Buy on Marketplace",!N.isCustom&&x.jsx(UT,{className:"ml-2 h-4 w-4"})]}),c===N.id&&x.jsxs("div",{className:"mt-4 p-4 rounded bg-gray-50 dark:bg-gray-800/80",children:[x.jsx("img",{src:N.image||ng[N.platform]||ng.Other,className:"max-h-32 mb-2",alt:N.title}),x.jsx("div",{className:"font-bold",children:N.title}),x.jsx("div",{children:N.description}),N.price>0&&x.jsxs("div",{className:"mt-2 font-semibold text-green-700",children:["",N.price.toLocaleString()]}),x.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Platform: ",N.platform]}),x.jsx(Nt,{className:"mt-4",variant:"secondary",onClick:H=>{H.stopPropagation(),C(N)},children:N.isCustom?"Add to Cart":"Go to Product"})]})]},N.id))})]})]})}const Wd=["Mobiles","Fashion","Home Essentials","Sports & Fitness"],Sh=["Amazon","Flipkart","Myntra","Alibaba","Meesho","Other"],rg=[{value:"affiliate",label:"Affiliate (Redirect)"},{value:"dropship",label:"Dropship (You fulfill)"}];async function O$(t){return await new Promise(e=>setTimeout(e,1e3)),{title:"Auto-fetched Product Title",description:"Description fetched from product URL.",image:"https://via.placeholder.com/300x300?text=Product+Image",price:1299.99,category:"Mobiles",platform:Sh.find(e=>t.toLowerCase().includes(e.toLowerCase()))||Sh[0]}}function j$({user:t,existingProduct:e=null,onSaved:n=()=>{}}){const{toast:r}=aa(),[i,s]=Z.useState({title:"",description:"",image:"",price:"",sourcePrice:"",category:Wd[0],platform:Sh[0],url:"",type:rg[0].value,tags:""}),[o,l]=Z.useState(!1),[c,h]=Z.useState(!1),[f,p]=Z.useState(!1),[y,v]=Z.useState({});Z.useEffect(()=>{e&&s({title:e.title||"",description:e.description||"",image:e.image||"",price:e.price?.toString()||"",sourcePrice:e.sourcePrice?.toString()||"",category:e.category||Wd[0],platform:e.platform||Sh[0],url:e.url||"",type:e.type||rg[0].value,tags:e.tags?.join(", ")||""})},[e]);const E=()=>{const H={};return i.type==="dropship"?(i.title.trim()||(H.title="Title required."),(!i.price.trim()||isNaN(Number(i.price))||Number(i.price)<=0)&&(H.price="Valid price required."),i.category||(H.category="Category required."),i.platform||(H.platform="Platform required."),i.url.trim()||(H.url="Product URL required.")):i.type==="affiliate"&&(i.url.trim()||(H.url="Affiliate product URL required.")),i.type||(H.type="Product type required."),v(H),Object.keys(H).length===0},S=(H,ie)=>{s(ce=>({...ce,[H]:ie}))},C=async()=>{const H=i.url.trim();if(H){p(!0);try{const ie=await O$(H);s(ce=>({...ce,title:ce.title||ie.title||"",description:ce.description||ie.description||"",image:ce.image||ie.image||"",price:ce.price||(ie.price?ie.price.toString():""),category:ce.category||ie.category||Wd[0],platform:ce.platform||ie.platform||Sh[0]})),r({title:"Product info auto-filled from URL"})}catch{r({title:"Failed to fetch product info from URL",variant:"destructive"})}finally{p(!1)}}},R=H=>{if(!H)return;h(!0);const ie=iz(cz,`product-images/${Date.now()}-${H.name}`),ce=nz(ie,H);ce.on("state_changed",null,B=>{r({title:"Upload failed",description:B.message,variant:"destructive"}),h(!1)},()=>{rz(ce.snapshot.ref).then(B=>{s(O=>({...O,image:B})),r({title:"Image uploaded successfully."}),h(!1)})})},N=async()=>{if(!(!e||!e.id)&&window.confirm("Are you sure you want to delete this product? This action cannot be undone.")){l(!0);try{const H=Is(xi,"products",e.id);await $B(H),r({title:"Product deleted successfully."}),n()}catch(H){r({title:"Delete failed",description:H.message,variant:"destructive"})}finally{l(!1)}}},V=async H=>{if(H.preventDefault(),!E())return;l(!0);const ie=i.tags?i.tags.split(",").map(B=>B.trim()).filter(Boolean):[],ce={title:i.title.trim(),description:i.description.trim(),image:i.image.trim(),price:i.price.trim()?Number(i.price):void 0,sourcePrice:i.sourcePrice.trim()?Number(i.sourcePrice):void 0,category:i.category,platform:i.platform,url:i.url.trim(),type:i.type,tags:ie,isCustom:i.type==="dropship",createdAt:e?.createdAt||s2()};Object.keys(ce).forEach(B=>{ce[B]===void 0&&delete ce[B]});try{if(e&&e.id){const B=Is(xi,"products",e.id);await Hf(B,ce),r({title:"Product updated!"})}else await _3(G0(xi,"products"),{...ce,createdAt:s2()}),r({title:"Product added!"});s({title:"",description:"",image:"",price:"",sourcePrice:"",category:Wd[0],platform:Sh[0],url:"",type:rg[0].value,tags:""}),v({}),n()}catch(B){r({title:"Error",description:B.message||"Failed to save product",variant:"destructive"})}finally{l(!1)}};return x.jsxs("form",{onSubmit:V,className:"bg-white dark:bg-gray-900 rounded-lg p-8 max-w-xl mx-auto shadow space-y-6",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:e?"Edit Product":"Add New Product"}),x.jsxs("div",{children:[x.jsx(Vn,{children:"Product Type *"}),x.jsx("select",{disabled:o||c||f,value:i.type,onChange:H=>S("type",H.target.value),className:"w-full border rounded px-3 py-2",children:rg.map(H=>x.jsx("option",{value:H.value,children:H.label},H.value))}),y.type&&x.jsx("span",{className:"text-red-500 text-xs",children:y.type})]}),x.jsxs("div",{children:[x.jsx(Vn,{children:"Product URL *"}),x.jsx(er,{disabled:o||c||f,value:i.url,onChange:H=>S("url",H.target.value),onBlur:C,placeholder:"Paste full affiliate or dropship product URL",required:!0}),y.url&&x.jsx("span",{className:"text-red-500 text-xs",children:y.url})]}),x.jsxs("div",{children:[x.jsxs(Vn,{children:["Product Title ",i.type==="dropship"?"*":"(optional)"]}),x.jsx(er,{disabled:o||c||f,value:i.title,onChange:H=>S("title",H.target.value),placeholder:i.type==="affiliate"?"Optional - enter or auto-filled":""}),y.title&&x.jsx("span",{className:"text-red-500 text-xs",children:y.title})]}),x.jsxs("div",{children:[x.jsx(Vn,{children:"Description"}),x.jsx("textarea",{disabled:o||c||f,value:i.description,onChange:H=>S("description",H.target.value),className:"w-full border rounded px-3 py-2",rows:3,placeholder:"Enter product description (optional)"})]}),x.jsxs("div",{children:[x.jsxs(Vn,{children:["Product Image URL ",i.type==="dropship"?"*":"(optional)"]}),x.jsx(er,{disabled:o||c||f,value:i.image,onChange:H=>S("image",H.target.value),placeholder:"Paste image URL or upload below"}),x.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[x.jsxs("label",{htmlFor:"image-upload",className:`cursor-pointer inline-flex items-center gap-2 rounded-md border border-gray-300 bg-gray-100 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 ${c?"opacity-60 cursor-wait":""}`,children:["Upload Image",x.jsx("input",{id:"image-upload",type:"file",accept:"image/*",disabled:o||c||f,className:"hidden",onChange:H=>{H.target.files&&H.target.files[0]&&(R(H.target.files[0]),H.target.value=null)}})]}),c&&x.jsx("span",{className:"text-sm text-gray-500",children:"Uploading..."}),i.image&&!c&&x.jsx("img",{src:i.image,alt:"Preview",className:"h-12 w-12 rounded object-cover border"})]}),y.image&&x.jsx("span",{className:"text-red-500 text-xs",children:y.image})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsxs(Vn,{children:["Your Price ",i.type==="dropship"?"*":"(optional)"]}),x.jsx(er,{type:"number",min:"0",step:"0.01",disabled:o||c||f,value:i.price,onChange:H=>S("price",H.target.value)}),y.price&&x.jsx("span",{className:"text-red-500 text-xs",children:y.price})]}),x.jsxs("div",{children:[x.jsx(Vn,{children:"Source Price (optional)"}),x.jsx(er,{type:"number",min:"0",step:"0.01",disabled:o||c||f,value:i.sourcePrice,onChange:H=>S("sourcePrice",H.target.value)})]})]}),x.jsxs("div",{children:[x.jsx(Vn,{children:"Tags (comma separated)"}),x.jsx(er,{disabled:o||c||f,value:i.tags,onChange:H=>S("tags",H.target.value)})]}),x.jsxs("div",{children:[x.jsx(Vn,{children:"Platform *"}),x.jsx("select",{disabled:o||c||f,value:i.platform,onChange:H=>S("platform",H.target.value),className:"w-full border rounded px-3 py-2",required:!0,children:Sh.map(H=>x.jsx("option",{value:H,children:H},H))}),y.platform&&x.jsx("span",{className:"text-red-500 text-xs",children:y.platform})]}),x.jsxs("div",{children:[x.jsx(Vn,{children:"Category *"}),x.jsx("select",{disabled:o||c||f,value:i.category,onChange:H=>S("category",H.target.value),className:"w-full border rounded px-3 py-2",required:!0,children:Wd.map(H=>x.jsx("option",{value:H,children:H},H))}),y.category&&x.jsx("span",{className:"text-red-500 text-xs",children:y.category})]}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx(Nt,{type:"submit",size:"lg",variant:"default",disabled:o||c||f||!1,className:"flex-1",children:e?"Update Product":f?"Fetching data...":"Add Product"}),e&&x.jsx(Nt,{type:"button",size:"lg",variant:"destructive",disabled:o||c||f||!1,onClick:N,className:"flex-1",children:"Delete Product"})]}),!1]})}const M$=()=>{const[t,e]=Z.useState(!1),[n,r]=Z.useState(!1),{user:i,logout:s}=Rl(),o=Eu(),{toast:l}=aa();Z.useEffect(()=>{const p=()=>{e(window.scrollY>10)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const c=()=>{s(),l({title:"Logged Out",description:"You have been successfully logged out."}),o("/")},h="text-sm font-medium transition-colors hover:text-violet-500",f="text-violet-600 dark:text-violet-400";return x.jsxs(_r.header,{className:`sticky top-0 z-50 w-full transition-all duration-300 ${t?"bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg shadow-md":"bg-transparent"}`,children:[x.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex h-16 items-center justify-between",children:[x.jsxs(Mi,{to:"/",className:"flex items-center gap-2",children:[x.jsx(_r.div,{whileHover:{rotate:15},className:"w-8 h-8 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:x.jsx(du,{className:"w-5 h-5 text-white"})}),x.jsx("span",{className:"text-xl font-bold tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-violet-600 to-blue-600 dark:from-violet-400 dark:to-blue-400",children:"Wishlist2Cart"})]}),i&&x.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[x.jsx(Eo,{to:"/dashboard",className:({isActive:p})=>`${h} ${p?f:""}`,children:"Dashboard"}),x.jsx(Eo,{to:"/add-wishlist",className:({isActive:p})=>`${h} ${p?f:""}`,children:"Add Wishlist"}),x.jsx(Eo,{to:"/cart",className:({isActive:p})=>`${h} ${p?f:""}`,children:"My Cart"}),x.jsx(Eo,{to:"/brands",className:({isActive:p})=>`${h} ${p?f:""}`,children:"Wishlist2Cart Brands"}),x.jsx(Eo,{to:"/marketplace",className:({isActive:p})=>`${h} ${p?f:""}`,children:"Marketplace Picks"}),i?.role==="admin"&&x.jsx(Eo,{to:"/admin",className:({isActive:p})=>`${h} ${p?f:""}`,children:"Admin Panel"})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"hidden md:flex items-center gap-2",children:i?x.jsxs(x.Fragment,{children:[x.jsx(Nt,{variant:"ghost",size:"icon",asChild:!0,children:x.jsx(Mi,{to:"/dashboard",children:x.jsx(zT,{className:"h-5 w-5"})})}),x.jsx(Nt,{variant:"ghost",size:"icon",asChild:!0,children:x.jsx(Mi,{to:"/cart",children:x.jsx(du,{className:"h-5 w-5"})})}),x.jsx(Nt,{variant:"ghost",size:"icon",asChild:!0,children:x.jsx(Mi,{to:"/settings",children:x.jsx(Mg,{className:"h-5 w-5"})})}),x.jsx(Nt,{variant:"ghost",size:"icon",onClick:c,children:x.jsx(E8,{className:"h-5 w-5"})})]}):x.jsx(Nt,{asChild:!0,children:x.jsx(Mi,{to:"/login",children:"Login"})})}),x.jsx(Nt,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>r(!n),children:n?x.jsx(GT,{className:"h-6 w-6"}):x.jsx(T8,{className:"h-6 w-6"})})]})]})}),n&&x.jsx(_r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"md:hidden bg-white dark:bg-gray-900 pb-4",children:x.jsx("nav",{className:"flex flex-col items-center gap-4 pt-4",children:i?x.jsxs(x.Fragment,{children:[x.jsx(Eo,{to:"/dashboard",className:({isActive:p})=>`${h} ${p?f:""}`,onClick:()=>r(!1),children:"Dashboard"}),x.jsx(Eo,{to:"/add-wishlist",className:({isActive:p})=>`${h} ${p?f:""}`,onClick:()=>r(!1),children:"Add Wishlist"}),x.jsx(Eo,{to:"/cart",className:({isActive:p})=>`${h} ${p?f:""}`,onClick:()=>r(!1),children:"My Cart"}),x.jsx(Eo,{to:"/brands",className:({isActive:p})=>`${h} ${p?f:""}`,onClick:()=>r(!1),children:"Wishlist2Cart Brands"}),x.jsx(Eo,{to:"/marketplace",className:({isActive:p})=>`${h} ${p?f:""}`,onClick:()=>r(!1),children:"Marketplace Picks"}),i?.role==="admin"&&x.jsx(Eo,{to:"/admin",className:({isActive:p})=>`${h} ${p?f:""}`,onClick:()=>r(!1),children:"Admin Panel"}),x.jsx(Eo,{to:"/settings",className:({isActive:p})=>`${h} ${p?f:""}`,onClick:()=>r(!1),children:"Settings"}),x.jsx(Nt,{variant:"ghost",onClick:()=>{c(),r(!1)},children:"Logout"})]}):x.jsx(Nt,{asChild:!0,onClick:()=>r(!1),children:x.jsx(Mi,{to:"/login",children:"Login"})})})})]})},F$=()=>{const{toast:t}=aa(),e=()=>{t({title:"Feature Not Implemented",description:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return x.jsx("footer",{className:"bg-gray-100 dark:bg-gray-950 border-t border-gray-200 dark:border-gray-800",children:x.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[x.jsxs("div",{className:"flex flex-col items-start",children:[x.jsxs(Mi,{to:"/",className:"flex items-center gap-2 mb-4",children:[x.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-violet-500 to-blue-500 rounded-lg flex items-center justify-center",children:x.jsx(du,{className:"w-5 h-5 text-white"})}),x.jsx("span",{className:"text-xl font-bold tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-violet-600 to-blue-600 dark:from-violet-400 dark:to-blue-400",children:"Wishlist2Cart"})]}),x.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Transform Your Desires Into Deliveries."})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Company"}),x.jsxs("ul",{className:"space-y-2",children:[x.jsx("li",{children:x.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"About"})}),x.jsx("li",{children:x.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"Contact"})}),x.jsx("li",{children:x.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"Careers"})})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Legal"}),x.jsxs("ul",{className:"space-y-2",children:[x.jsx("li",{children:x.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"Privacy Policy"})}),x.jsx("li",{children:x.jsx("button",{onClick:e,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:"Terms of Service"})})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Follow Us"}),x.jsxs("div",{className:"flex space-x-4",children:[x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:x.jsx(R8,{size:20})}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:x.jsx(_8,{size:20})}),x.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-violet-500 transition-colors",children:x.jsx(x8,{size:20})})]})]})]}),x.jsx("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-800 pt-8 text-center",children:x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ",new Date().getFullYear()," Wishlist2Cart. All rights reserved."]})})]})})},V$=({children:t})=>{const e=zc(),r=!["/login"].includes(e.pathname);return x.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 font-sans flex flex-col",children:[r&&x.jsx(M$,{}),x.jsx("main",{className:"flex-grow",children:t}),r&&x.jsx(F$,{})]})},Fa=({children:t})=>{const{user:e,loading:n}=Rl();return n?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-purple-500 border-t-transparent animate-spin"})}):e?t:x.jsx(iE,{to:"/login",replace:!0})};function B$(){const t=zc(),{loading:e}=Rl();return e?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"h-10 w-10 border-4 border-blue-500 border-t-transparent animate-spin rounded-full"})}):x.jsx(V$,{children:x.jsx(QD,{mode:"wait",children:x.jsxs(_k,{location:t,children:[x.jsx(Qs,{path:"/",element:x.jsx(D8,{})}),x.jsx(Qs,{path:"/login",element:x.jsx(yz,{})}),x.jsx(Qs,{path:"/dashboard",element:x.jsx(Fa,{children:x.jsx(_z,{})})}),x.jsx(Qs,{path:"/add-wishlist",element:x.jsx(Fa,{children:x.jsx(bz,{})})}),x.jsx(Qs,{path:"/cart",element:x.jsx(Fa,{children:x.jsx(Az,{})})}),x.jsx(Qs,{path:"/checkout",element:x.jsx(Fa,{children:x.jsx(tH,{})})}),x.jsx(Qs,{path:"/orders",element:x.jsx(Fa,{children:x.jsx(VW,{})})}),x.jsx(Qs,{path:"/settings",element:x.jsx(Fa,{children:x.jsx(qW,{})})}),x.jsx(Qs,{path:"/synced-sites",element:x.jsx(Fa,{children:x.jsx(WW,{})})}),x.jsx(Qs,{path:"/brands",element:x.jsx(Fa,{children:x.jsx(L$,{})})}),x.jsx(Qs,{path:"/marketplace",element:x.jsx(Fa,{children:x.jsx(D$,{})})}),x.jsx(Qs,{path:"/admin",element:x.jsx(Fa,{children:x.jsx(K3,{children:x.jsx(j$,{})})})}),x.jsx(Qs,{path:"/order-success",element:x.jsx(Fa,{children:x.jsx(zW,{})})})]},t.pathname)})})}function Co(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function fN(t,e=[]){let n=[];function r(s,o){const l=Z.createContext(o),c=n.length;n=[...n,o];const h=p=>{const{scope:y,children:v,...E}=p,S=y?.[t]?.[c]||l,C=Z.useMemo(()=>E,Object.values(E));return x.jsx(S.Provider,{value:C,children:v})};h.displayName=s+"Provider";function f(p,y){const v=y?.[t]?.[c]||l,E=Z.useContext(v);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[h,f]}const i=()=>{const s=n.map(o=>Z.createContext(o));return function(l){const c=l?.[t]||s;return Z.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,U$(i,...e)]}function U$(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:h})=>{const p=c(s)[`__scope${h}`];return{...l,...p}},{});return Z.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function z$(t){const e=t+"CollectionProvider",[n,r]=fN(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:C,children:R}=S,N=dr.useRef(null),V=dr.useRef(new Map).current;return x.jsx(i,{scope:C,itemMap:V,collectionRef:N,children:R})};o.displayName=e;const l=t+"CollectionSlot",c=jg(l),h=dr.forwardRef((S,C)=>{const{scope:R,children:N}=S,V=s(l,R),H=jh(C,V.collectionRef);return x.jsx(c,{ref:H,children:N})});h.displayName=l;const f=t+"CollectionItemSlot",p="data-radix-collection-item",y=jg(f),v=dr.forwardRef((S,C)=>{const{scope:R,children:N,...V}=S,H=dr.useRef(null),ie=jh(C,H),ce=s(f,R);return dr.useEffect(()=>(ce.itemMap.set(H,{ref:H,...V}),()=>void ce.itemMap.delete(H))),x.jsx(y,{[p]:"",ref:ie,children:N})});v.displayName=f;function E(S){const C=s(t+"CollectionConsumer",S);return dr.useCallback(()=>{const N=C.collectionRef.current;if(!N)return[];const V=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(C.itemMap.values()).sort((ce,B)=>V.indexOf(ce.ref.current)-V.indexOf(B.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:h,ItemSlot:v},E,r]}function Wh(t){const e=Z.useRef(t);return Z.useEffect(()=>{e.current=t}),Z.useMemo(()=>(...n)=>e.current?.(...n),[])}function q$(t,e=globalThis?.document){const n=Wh(t);Z.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var H$="DismissableLayer",D2="dismissableLayer.update",W$="dismissableLayer.pointerDownOutside",$$="dismissableLayer.focusOutside",qA,dN=Z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pN=Z.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,h=Z.useContext(dN),[f,p]=Z.useState(null),y=f?.ownerDocument??globalThis?.document,[,v]=Z.useState({}),E=jh(e,B=>p(B)),S=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(C),N=f?S.indexOf(f):-1,V=h.layersWithOutsidePointerEventsDisabled.size>0,H=N>=R,ie=K$(B=>{const O=B.target,U=[...h.branches].some(Q=>Q.contains(O));!H||U||(i?.(B),o?.(B),B.defaultPrevented||l?.())},y),ce=Y$(B=>{const O=B.target;[...h.branches].some(Q=>Q.contains(O))||(s?.(B),o?.(B),B.defaultPrevented||l?.())},y);return q$(B=>{N===h.layers.size-1&&(r?.(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},y),Z.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(qA=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),HA(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=qA)}},[f,y,n,h]),Z.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),HA())},[f,h]),Z.useEffect(()=>{const B=()=>v({});return document.addEventListener(D2,B),()=>document.removeEventListener(D2,B)},[]),x.jsx(Ha.div,{...c,ref:E,style:{pointerEvents:V?H?"auto":"none":void 0,...t.style},onFocusCapture:Co(t.onFocusCapture,ce.onFocusCapture),onBlurCapture:Co(t.onBlurCapture,ce.onBlurCapture),onPointerDownCapture:Co(t.onPointerDownCapture,ie.onPointerDownCapture)})});pN.displayName=H$;var G$="DismissableLayerBranch",mN=Z.forwardRef((t,e)=>{const n=Z.useContext(dN),r=Z.useRef(null),i=jh(e,r);return Z.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),x.jsx(Ha.div,{...t,ref:i})});mN.displayName=G$;function K$(t,e=globalThis?.document){const n=Wh(t),r=Z.useRef(!1),i=Z.useRef(()=>{});return Z.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){gN(W$,n,h,{discrete:!0})};const h={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Y$(t,e=globalThis?.document){const n=Wh(t),r=Z.useRef(!1);return Z.useEffect(()=>{const i=s=>{s.target&&!r.current&&gN($$,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HA(){const t=new CustomEvent(D2);document.dispatchEvent(t)}function gN(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?q3(i,s):i.dispatchEvent(s)}var Q$=pN,X$=mN,Lp=globalThis?.document?Z.useLayoutEffect:()=>{},J$="Portal",yN=Z.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=Z.useState(!1);Lp(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?kI.createPortal(x.jsx(Ha.div,{...r,ref:e}),o):null});yN.displayName=J$;function Z$(t,e){return Z.useReducer((n,r)=>e[n][r]??n,t)}var vN=t=>{const{present:e,children:n}=t,r=eG(e),i=typeof n=="function"?n({present:r.isPresent}):Z.Children.only(n),s=jh(r.ref,tG(i));return typeof n=="function"||r.isPresent?Z.cloneElement(i,{ref:s}):null};vN.displayName="Presence";function eG(t){const[e,n]=Z.useState(),r=Z.useRef(null),i=Z.useRef(t),s=Z.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Z$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Z.useEffect(()=>{const h=ig(r.current);s.current=l==="mounted"?h:"none"},[l]),Lp(()=>{const h=r.current,f=i.current;if(f!==t){const y=s.current,v=ig(h);t?c("MOUNT"):v==="none"||h?.display==="none"?c("UNMOUNT"):c(f&&y!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Lp(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,p=v=>{const S=ig(r.current).includes(v.animationName);if(v.target===e&&S&&(c("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},y=v=>{v.target===e&&(s.current=ig(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:Z.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function ig(t){return t?.animationName||"none"}function tG(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nG=$A[" useInsertionEffect ".trim().toString()]||Lp;function rG({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=iG({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const f=Z.useRef(t!==void 0);Z.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const h=Z.useCallback(f=>{if(l){const p=sG(f)?f(t):f;p!==t&&o.current?.(p)}else s(f)},[l,t,s,o]);return[c,h]}function iG({defaultProp:t,onChange:e}){const[n,r]=Z.useState(t),i=Z.useRef(n),s=Z.useRef(e);return nG(()=>{s.current=e},[e]),Z.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function sG(t){return typeof t=="function"}var oG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aG="VisuallyHidden",Aw=Z.forwardRef((t,e)=>x.jsx(Ha.span,{...t,ref:e,style:{...oG,...t.style}}));Aw.displayName=aG;var Ew="ToastProvider",[Tw,lG,uG]=z$("Toast"),[wN,JG]=fN("Toast",[uG]),[cG,py]=wN(Ew),_N=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,c]=Z.useState(null),[h,f]=Z.useState(0),p=Z.useRef(!1),y=Z.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ew}\`. Expected non-empty \`string\`.`),x.jsx(Tw.Provider,{scope:e,children:x.jsx(cG,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:l,onViewportChange:c,onToastAdd:Z.useCallback(()=>f(v=>v+1),[]),onToastRemove:Z.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:y,children:o})})};_N.displayName=Ew;var bN="ToastViewport",hG=["F8"],O2="toast.viewportPause",j2="toast.viewportResume",xN=Z.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=hG,label:i="Notifications ({hotkey})",...s}=t,o=py(bN,n),l=lG(n),c=Z.useRef(null),h=Z.useRef(null),f=Z.useRef(null),p=Z.useRef(null),y=jh(e,p,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;Z.useEffect(()=>{const C=R=>{r.length!==0&&r.every(V=>R[V]||R.code===V)&&p.current?.focus()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),Z.useEffect(()=>{const C=c.current,R=p.current;if(E&&C&&R){const N=()=>{if(!o.isClosePausedRef.current){const ce=new CustomEvent(O2);R.dispatchEvent(ce),o.isClosePausedRef.current=!0}},V=()=>{if(o.isClosePausedRef.current){const ce=new CustomEvent(j2);R.dispatchEvent(ce),o.isClosePausedRef.current=!1}},H=ce=>{!C.contains(ce.relatedTarget)&&V()},ie=()=>{C.contains(document.activeElement)||V()};return C.addEventListener("focusin",N),C.addEventListener("focusout",H),C.addEventListener("pointermove",N),C.addEventListener("pointerleave",ie),window.addEventListener("blur",N),window.addEventListener("focus",V),()=>{C.removeEventListener("focusin",N),C.removeEventListener("focusout",H),C.removeEventListener("pointermove",N),C.removeEventListener("pointerleave",ie),window.removeEventListener("blur",N),window.removeEventListener("focus",V)}}},[E,o.isClosePausedRef]);const S=Z.useCallback(({tabbingDirection:C})=>{const N=l().map(V=>{const H=V.ref.current,ie=[H,...AG(H)];return C==="forwards"?ie:ie.reverse()});return(C==="forwards"?N.reverse():N).flat()},[l]);return Z.useEffect(()=>{const C=p.current;if(C){const R=N=>{const V=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!V){const ie=document.activeElement,ce=N.shiftKey;if(N.target===C&&ce){h.current?.focus();return}const U=S({tabbingDirection:ce?"backwards":"forwards"}),Q=U.findIndex(L=>L===ie);cv(U.slice(Q+1))?N.preventDefault():ce?h.current?.focus():f.current?.focus()}};return C.addEventListener("keydown",R),()=>C.removeEventListener("keydown",R)}},[l,S]),x.jsxs(X$,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&x.jsx(M2,{ref:h,onFocusFromOutsideViewport:()=>{const C=S({tabbingDirection:"forwards"});cv(C)}}),x.jsx(Tw.Slot,{scope:n,children:x.jsx(Ha.ol,{tabIndex:-1,...s,ref:y})}),E&&x.jsx(M2,{ref:f,onFocusFromOutsideViewport:()=>{const C=S({tabbingDirection:"backwards"});cv(C)}})]})});xN.displayName=bN;var SN="ToastFocusProxy",M2=Z.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=py(SN,n);return x.jsx(Aw,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&r()}})});M2.displayName=SN;var nm="Toast",fG="toast.swipeStart",dG="toast.swipeMove",pG="toast.swipeCancel",mG="toast.swipeEnd",AN=Z.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[l,c]=rG({prop:r,defaultProp:i??!0,onChange:s,caller:nm});return x.jsx(vN,{present:n||l,children:x.jsx(vG,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Wh(t.onPause),onResume:Wh(t.onResume),onSwipeStart:Co(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Co(t.onSwipeMove,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Co(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Co(t.onSwipeEnd,h=>{const{x:f,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});AN.displayName=nm;var[gG,yG]=wN(nm,{onClose(){}}),vG=Z.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:h,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:y,onSwipeEnd:v,...E}=t,S=py(nm,n),[C,R]=Z.useState(null),N=jh(e,ee=>R(ee)),V=Z.useRef(null),H=Z.useRef(null),ie=i||S.duration,ce=Z.useRef(0),B=Z.useRef(ie),O=Z.useRef(0),{onToastAdd:U,onToastRemove:Q}=S,L=Wh(()=>{C?.contains(document.activeElement)&&S.viewport?.focus(),o()}),I=Z.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(O.current),ce.current=new Date().getTime(),O.current=window.setTimeout(L,ee))},[L]);Z.useEffect(()=>{const ee=S.viewport;if(ee){const Se=()=>{I(B.current),h?.()},ve=()=>{const Pe=new Date().getTime()-ce.current;B.current=B.current-Pe,window.clearTimeout(O.current),c?.()};return ee.addEventListener(O2,ve),ee.addEventListener(j2,Se),()=>{ee.removeEventListener(O2,ve),ee.removeEventListener(j2,Se)}}},[S.viewport,ie,c,h,I]),Z.useEffect(()=>{s&&!S.isClosePausedRef.current&&I(ie)},[s,ie,S.isClosePausedRef,I]),Z.useEffect(()=>(U(),()=>Q()),[U,Q]);const M=Z.useMemo(()=>C?kN(C):null,[C]);return S.viewport?x.jsxs(x.Fragment,{children:[M&&x.jsx(wG,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),x.jsx(gG,{scope:n,onClose:L,children:F2.createPortal(x.jsx(Tw.ItemSlot,{scope:n,children:x.jsx(Q$,{asChild:!0,onEscapeKeyDown:Co(l,()=>{S.isFocusedToastEscapeKeyDownRef.current||L(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(Ha.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":S.swipeDirection,...E,ref:N,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Co(t.onKeyDown,ee=>{ee.key==="Escape"&&(l?.(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:Co(t.onPointerDown,ee=>{ee.button===0&&(V.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:Co(t.onPointerMove,ee=>{if(!V.current)return;const Se=ee.clientX-V.current.x,ve=ee.clientY-V.current.y,Pe=!!H.current,oe=["left","right"].includes(S.swipeDirection),we=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,ye=oe?we(0,Se):0,re=oe?0:we(0,ve),F=ee.pointerType==="touch"?10:2,X={x:ye,y:re},ne={originalEvent:ee,delta:X};Pe?(H.current=X,sg(dG,p,ne,{discrete:!1})):WA(X,S.swipeDirection,F)?(H.current=X,sg(fG,f,ne,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(Se)>F||Math.abs(ve)>F)&&(V.current=null)}),onPointerUp:Co(t.onPointerUp,ee=>{const Se=H.current,ve=ee.target;if(ve.hasPointerCapture(ee.pointerId)&&ve.releasePointerCapture(ee.pointerId),H.current=null,V.current=null,Se){const Pe=ee.currentTarget,oe={originalEvent:ee,delta:Se};WA(Se,S.swipeDirection,S.swipeThreshold)?sg(mG,v,oe,{discrete:!0}):sg(pG,y,oe,{discrete:!0}),Pe.addEventListener("click",we=>we.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),wG=t=>{const{__scopeToast:e,children:n,...r}=t,i=py(nm,e),[s,o]=Z.useState(!1),[l,c]=Z.useState(!1);return xG(()=>o(!0)),Z.useEffect(()=>{const h=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(h)},[]),l?null:x.jsx(yN,{asChild:!0,children:x.jsx(Aw,{...r,children:s&&x.jsxs(x.Fragment,{children:[i.label," ",n]})})})},_G="ToastTitle",EN=Z.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(Ha.div,{...r,ref:e})});EN.displayName=_G;var bG="ToastDescription",TN=Z.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return x.jsx(Ha.div,{...r,ref:e})});TN.displayName=bG;var CN="ToastAction",PN=Z.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?x.jsx(IN,{altText:n,asChild:!0,children:x.jsx(Cw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${CN}\`. Expected non-empty \`string\`.`),null)});PN.displayName=CN;var NN="ToastClose",Cw=Z.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=yG(NN,n);return x.jsx(IN,{asChild:!0,children:x.jsx(Ha.button,{type:"button",...r,ref:e,onClick:Co(t.onClick,i.onClose)})})});Cw.displayName=NN;var IN=Z.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return x.jsx(Ha.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function kN(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),SG(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...kN(r))}}),e}function sg(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?q3(i,s):i.dispatchEvent(s)}var WA=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function xG(t=()=>{}){const e=Wh(t);Lp(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function SG(t){return t.nodeType===t.ELEMENT_NODE}function AG(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cv(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var EG=_N,RN=xN,LN=AN,DN=EN,ON=TN,jN=PN,MN=Cw;const TG=EG,FN=dr.forwardRef(({className:t,...e},n)=>x.jsx(RN,{ref:n,className:Tu("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));FN.displayName=RN.displayName;const CG=c5("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),VN=dr.forwardRef(({className:t,variant:e,...n},r)=>x.jsx(LN,{ref:r,className:Tu(CG({variant:e}),t),...n}));VN.displayName=LN.displayName;const PG=dr.forwardRef(({className:t,...e},n)=>x.jsx(jN,{ref:n,className:Tu("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));PG.displayName=jN.displayName;const BN=dr.forwardRef(({className:t,...e},n)=>x.jsx(MN,{ref:n,className:Tu("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(GT,{className:"h-4 w-4"})}));BN.displayName=MN.displayName;const UN=dr.forwardRef(({className:t,...e},n)=>x.jsx(DN,{ref:n,className:Tu("text-sm font-semibold",t),...e}));UN.displayName=DN.displayName;const zN=dr.forwardRef(({className:t,...e},n)=>x.jsx(ON,{ref:n,className:Tu("text-sm opacity-90",t),...e}));zN.displayName=ON.displayName;function NG(){const{toasts:t}=aa();return x.jsxs(TG,{children:[t.map(({id:e,title:n,description:r,action:i,...s})=>x.jsxs(VN,{...s,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(UN,{children:n}),r&&x.jsx(zN,{children:r})]}),i,x.jsx(BN,{})]},e)),x.jsx(FN,{})]})}II.createRoot(document.getElementById("root")).render(x.jsx(dr.StrictMode,{children:x.jsx(Pk,{children:x.jsx(gz,{children:x.jsx(wz,{children:x.jsxs(Sz,{children:[x.jsx(B$,{}),x.jsx(NG,{})]})})})})}));export{Fn as _,IG as c,$h as g};
